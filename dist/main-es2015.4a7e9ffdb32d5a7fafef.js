(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+Xpk":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},"+jW5":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return TinyQueue}));class TinyQueue{constructor(data=[],compare=defaultCompare){if(this.data=data,this.length=this.data.length,this.compare=compare,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(item){this.data.push(item),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const top=this.data[0],bottom=this.data.pop();return this.length--,this.length>0&&(this.data[0]=bottom,this._down(0)),top}peek(){return this.data[0]}_up(pos){const{data:data,compare:compare}=this,item=data[pos];for(;pos>0;){const parent=pos-1>>1,current=data[parent];if(compare(item,current)>=0)break;data[pos]=current,pos=parent}data[pos]=item}_down(pos){const{data:data,compare:compare}=this,halfLength=this.length>>1,item=data[pos];for(;pos<halfLength;){let left=1+(pos<<1),best=data[left];const right=left+1;if(right<this.length&&compare(data[right],best)<0&&(left=right,best=data[right]),compare(best,item)>=0)break;data[pos]=best,pos=left}data[pos]=item}}function defaultCompare(a,b){return a<b?-1:a>b?1:0}},"/+cc":function(module,exports,__webpack_require__){module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,(function(t){return e[t]}).bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=e=>Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},function(e,t,n){const r=n(2),o=n(8),s=n(0);e.exports=class{constructor(e,{location:t=0,distance:n=100,threshold:r=.6,maxPatternLength:s=32,caseSensitive:i=!1,tokenSeparator:l=/ +/g,findAllMatches:a=!1,minMatchCharLength:c=1,id:h=null,keys:u=[],shouldSort:p=!0,getFn:f=o,sortFn:d=((e,t)=>e.score-t.score),tokenize:g=!1,matchAllTokens:m=!1,includeMatches:y=!1,includeScore:x=!1,verbose:S=!1}){this.options={location:t,distance:n,threshold:r,maxPatternLength:s,isCaseSensitive:i,tokenSeparator:l,findAllMatches:a,minMatchCharLength:c,id:h,keys:u,includeMatches:y,includeScore:x,shouldSort:p,getFn:f,sortFn:d,verbose:S,tokenize:g,matchAllTokens:m},this.setCollection(e)}setCollection(e){return this.list=e,e}search(e,t={limit:!1}){this._log(`---------\nSearch pattern: "${e}"`);const{tokenSearchers:n,fullSearcher:r}=this._prepareSearchers(e);let{weights:o,results:s}=this._search(n,r);return this._computeScore(o,s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}_prepareSearchers(e=""){const t=[];if(this.options.tokenize){const n=e.split(this.options.tokenSeparator);for(let e=0,o=n.length;e<o;e+=1)t.push(new r(n[e],this.options))}return{tokenSearchers:t,fullSearcher:new r(e,this.options)}}_search(e=[],t){const n=this.list,r={},o=[];if("string"==typeof n[0]){for(let s=0,i=n.length;s<i;s+=1)this._analyze({key:"",value:n[s],record:s,index:s},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}const s={};for(let i=0,l=n.length;i<l;i+=1){let l=n[i];for(let n=0,a=this.options.keys.length;n<a;n+=1){let a=this.options.keys[n];if("string"!=typeof a){if(s[a.name]={weight:1-a.weight||1},a.weight<=0||a.weight>1)throw new Error("Key weight has to be > 0 and <= 1");a=a.name}else s[a]={weight:1};this._analyze({key:a,value:this.options.getFn(l,a),record:l,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}}return{weights:s,results:o}}_analyze({key:e,arrayIndex:t=-1,value:n,record:r,index:o},{tokenSearchers:i=[],fullSearcher:l=[],resultMap:a={},results:c=[]}){if(null==n)return;let h=!1,u=-1,p=0;if("string"==typeof n){this._log(`\nKey: ${""===e?"-":e}`);let s=l.search(n);if(this._log(`Full text: "${n}", score: ${s.score}`),this.options.tokenize){let e=n.split(this.options.tokenSeparator),t=[];for(let n=0;n<i.length;n+=1){let r=i[n];this._log(`\nPattern: "${r.pattern}"`);let o=!1;for(let n=0;n<e.length;n+=1){let s=e[n],i=r.search(s),l={};i.isMatch?(l[s]=i.score,h=!0,o=!0,t.push(i.score)):(l[s]=1,this.options.matchAllTokens||t.push(1)),this._log(`Token: "${s}", score: ${l[s]}`)}o&&(p+=1)}u=t[0];let r=t.length;for(let e=1;e<r;e+=1)u+=t[e];u/=r,this._log("Token score average:",u)}let f=s.score;u>-1&&(f=(f+u)/2),this._log("Score average:",f);let d=!this.options.tokenize||!this.options.matchAllTokens||p>=i.length;if(this._log(`\nCheck Matches: ${d}`),(h||s.isMatch)&&d){let i=a[o];i?i.output.push({key:e,arrayIndex:t,value:n,score:f,matchedIndices:s.matchedIndices}):(a[o]={item:r,output:[{key:e,arrayIndex:t,value:n,score:f,matchedIndices:s.matchedIndices}]},c.push(a[o]))}}else if(s(n))for(let t=0,s=n.length;t<s;t+=1)this._analyze({key:e,arrayIndex:t,value:n[t],record:r,index:o},{resultMap:a,results:c,tokenSearchers:i,fullSearcher:l})}_computeScore(e,t){this._log("\n\nComputing score:\n");for(let n=0,r=t.length;n<r;n+=1){const r=t[n].output,o=r.length;let s=1,i=1;for(let t=0;t<o;t+=1){let n=e?e[r[t].key].weight:1,o=(1===n?r[t].score:r[t].score||.001)*n;1!==n?i=Math.min(i,o):(r[t].nScore=o,s*=o)}t[n].score=1===i?s:i,this._log(t[n])}}_sort(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}_format(e){const t=[];if(this.options.verbose){let t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,n){if("object"==typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n}))),t=null}let n=[];this.options.includeMatches&&n.push((e,t)=>{const n=e.output;t.matches=[];for(let e=0,r=n.length;e<r;e+=1){let r=n[e];if(0===r.matchedIndices.length)continue;let o={indices:r.matchedIndices,value:r.value};r.key&&(o.key=r.key),r.hasOwnProperty("arrayIndex")&&r.arrayIndex>-1&&(o.arrayIndex=r.arrayIndex),t.matches.push(o)}}),this.options.includeScore&&n.push((e,t)=>{t.score=e.score});for(let r=0,o=e.length;r<o;r+=1){const o=e[r];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),!n.length){t.push(o.item);continue}const s={item:o.item};for(let e=0,t=n.length;e<t;e+=1)n[e](o,s);t.push(s)}return t}_log(){this.options.verbose&&console.log(...arguments)}}},function(e,t,n){const r=n(3),o=n(4),s=n(7);e.exports=class{constructor(e,{location:t=0,distance:n=100,threshold:r=.6,maxPatternLength:o=32,isCaseSensitive:i=!1,tokenSeparator:l=/ +/g,findAllMatches:a=!1,minMatchCharLength:c=1}){this.options={location:t,distance:n,threshold:r,maxPatternLength:o,isCaseSensitive:i,tokenSeparator:l,findAllMatches:a,minMatchCharLength:c},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=o&&(this.patternAlphabet=s(this.pattern))}search(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};const{maxPatternLength:t,tokenSeparator:n}=this.options;if(this.pattern.length>t)return r(e,this.pattern,n);const{location:s,distance:i,threshold:l,findAllMatches:a,minMatchCharLength:c}=this.options;return o(e,this.pattern,this.patternAlphabet,{location:s,distance:i,threshold:l,findAllMatches:a,minMatchCharLength:c})}}},function(e,t){const n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=(e,t,r=/ +/g)=>{let o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),s=e.match(o),i=!!s,l=[];if(i)for(let t=0,n=s.length;t<n;t+=1){let n=s[t];l.push([e.indexOf(n),n.length-1])}return{score:i?.5:1,isMatch:i,matchedIndices:l}}},function(e,t,n){const r=n(5),o=n(6);e.exports=(e,t,n,{location:s=0,distance:i=100,threshold:l=.6,findAllMatches:a=!1,minMatchCharLength:c=1})=>{const h=s,u=e.length;let p=l,f=e.indexOf(t,h);const d=t.length,g=[];for(let e=0;e<u;e+=1)g[e]=0;if(-1!==f){let n=r(t,{errors:0,currentLocation:f,expectedLocation:h,distance:i});if(p=Math.min(n,p),-1!==(f=e.lastIndexOf(t,h+d))){let e=r(t,{errors:0,currentLocation:f,expectedLocation:h,distance:i});p=Math.min(e,p)}}f=-1;let m=[],y=1,x=d+u;const S=1<<d-1;for(let o=0;o<d;o+=1){let s=0,l=x;for(;s<l;)r(t,{errors:o,currentLocation:h+l,expectedLocation:h,distance:i})<=p?s=l:x=l,l=Math.floor((x-s)/2+s);x=l;let c=Math.max(1,h-l+1),k=a?u:Math.min(h+l,u)+d,M=Array(k+2);M[k+1]=(1<<o)-1;for(let s=k;s>=c;s-=1){let l=s-1,a=n[e.charAt(l)];if(a&&(g[l]=1),M[s]=(M[s+1]<<1|1)&a,0!==o&&(M[s]|=(m[s+1]|m[s])<<1|1|m[s+1]),M[s]&S&&(y=r(t,{errors:o,currentLocation:l,expectedLocation:h,distance:i}))<=p){if(p=y,(f=l)<=h)break;c=Math.max(1,2*h-f)}}if(r(t,{errors:o+1,currentLocation:h,expectedLocation:h,distance:i})>p)break;m=M}return{isMatch:f>=0,score:0===y?.001:y,matchedIndices:o(g,c)}}},function(e,t){e.exports=(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=100})=>{const s=t/e.length,i=Math.abs(r-n);return o?s+i/o:i?1:s}},function(e,t){e.exports=(e=[],t=1)=>{let n=[],r=-1,o=-1,s=0;for(let i=e.length;s<i;s+=1){let i=e[s];i&&-1===r?r=s:i||-1===r||((o=s-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}},function(e,t){e.exports=e=>{let t={},n=e.length;for(let r=0;r<n;r+=1)t[e.charAt(r)]=0;for(let r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t,n){const r=n(0),o=(e,t,n)=>{if(t){const s=t.indexOf(".");let i=t,l=null;-1!==s&&(i=t.slice(0,s),l=t.slice(s+1));const a=e[i];if(null!=a)if(l||"string"!=typeof a&&"number"!=typeof a)if(r(a))for(let e=0,t=a.length;e<t;e+=1)o(a[e],l,n);else l&&o(a,l,n);else n.push(a.toString())}else n.push(e);return n};e.exports=(e,t)=>o(e,t,[])}])},0:function(module,exports,__webpack_require__){module.exports=__webpack_require__("zUnb")},"1gqn":function(module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},"5OJw":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".bg-d {\n  background-color: #282d37;\n}"},"5xSx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="row font-weight-bold" *ngIf="timer">\r\n    <span class="col-3">\r\n        {{timer[\'days\']}}\r\n    </span>\r\n    <span class="col-3">\r\n        {{timer[\'hours\']}}\r\n    </span>\r\n    <span class="col-3">\r\n        {{timer[\'minutes\']}}\r\n    </span>\r\n    <span class="col-3">\r\n        {{timer[\'seconds\']}}\r\n    </span>\r\n</div>\r\n\r\n<div class="row">\r\n    <span class="col-3">{{ \'Shared.Other.3\' | translate }}</span>\r\n    <span class="col-3">{{ \'Shared.Other.4\' | translate }}</span>\r\n    <span class="col-3">{{ \'Shared.Other.5\' | translate }}</span>\r\n    <span class="col-3">{{ \'Shared.Other.6\' | translate }}</span>\r\n</div>'},"9alR":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\r\n<div class="container-fluid">\r\n    <div class="calculatorcontainer">\r\n        <h1 style="color: white; font-size: 45px; text-align: center; padding-top: 30px; font-weight: bolder;">\r\n            <i class="fad fa-lungs-virus"></i>\r\n            <span class="title">Calculateur</span>\r\n        </h1>\r\n        <div class="container">\r\n                        <mat-horizontal-stepper linear #stepper class="matstepper">\r\n                <mat-step [stepControl]="ageForm" [editable]="true">\r\n                    <form [formGroup]="ageForm">\r\n                        <ng-template matStepLabel>Age</ng-template>\r\n                        <div class="col nopad mb-3">\r\n                            <div class="age">\r\n                                <mat-button-toggle-group formControlName="age" name="fontStyle" aria-label="Font Style" required>\r\n                                    <mat-button-toggle value=".2" (click)="SelectionAge();"><span class="font-weight-bold">1-19</span>\r\n                                    </mat-button-toggle>\r\n                                    <mat-button-toggle value=".3" (click)="SelectionAge();"><span class="font-weight-bold">20-39</span>\r\n                                    </mat-button-toggle>\r\n                                    <mat-button-toggle value="2.5" (click)="SelectionAge();"><span class="font-weight-bold">40-59</span>\r\n                                    </mat-button-toggle>\r\n                                    <mat-button-toggle value="5" (click)="SelectionAge();"><span class="font-weight-bold">60-79</span>\r\n                                    </mat-button-toggle>\r\n                                    <mat-button-toggle value="14.8" (click)="SelectionAge();"><span class="font-weight-bold">80-100+</span>\r\n                                    </mat-button-toggle>\r\n                                </mat-button-toggle-group>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button mat-raised-button matStepperNext [disabled]="selectedStep1Option === false">Suivant</button>\r\n                        </div>\r\n                    </form>\r\n                </mat-step>\r\n                <mat-step [stepControl]="sexeForm" [editable]="true">\r\n                    <form [formGroup]="sexeForm">\r\n                        <ng-template matStepLabel required>Sexe</ng-template>\r\n                        <div class="col nopad mb-4">\r\n                            <div class="text-center sexe" type="gender">\r\n                                <mat-button-toggle-group formControlName="sexe" name="fontStyle" aria-label="Font Style"\r\n                                                         ngDefaultControl>\r\n                                    <mat-button-toggle value=".15" (click)="SelectionSexe();"><span class="font-weight-bold">Homme</span>\r\n                                    </mat-button-toggle>\r\n                                    <mat-button-toggle value=".035" (click)="SelectionSexe();"><span class="font-weight-bold">Femme</span>\r\n                                    </mat-button-toggle>\r\n                                </mat-button-toggle-group>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button mat-raised-button matStepperPrevious>Retour</button>\r\n                            <button mat-raised-button matStepperNext  [disabled]="selectedStep2Option === false">Suivant</button>\r\n                        </div>\r\n                    </form>\r\n                </mat-step>\r\n                <mat-step [stepControl]="maladieForm" [editable]="true">\r\n                    <form [formGroup]="maladieForm">\r\n                        <ng-template matStepLabel>Maladies</ng-template>\r\n                        <div class="col nopad mb-4">\r\n                            <h5 class="font-weight-bold mb-3 maladies">Avez vous une de ces maladies?</h5>\r\n                            <div class="form-group mb-2">\r\n                                <label class="example-margin">Maladie Cardio Vasculaire:&nbsp;&nbsp;</label>\r\n                                <mat-slide-toggle formControlName="cardio" value="10.5" ></mat-slide-toggle>\r\n                            </div>\r\n                            <div class="form-group mb-3">\r\n                                <label class="example-margin maladies">Diabète:&nbsp;&nbsp;</label>\r\n\r\n                                <mat-slide-toggle formControlName="diabete" value="7.3" ></mat-slide-toggle>\r\n                            </div>\r\n                            <div class="form-group mb-3">\r\n                                <label class="example-margin maladies">Maladie Respiratoire chronique:</label>\r\n                                <mat-slide-toggle formControlName="respiration" value="6.3" ></mat-slide-toggle>\r\n                            </div>\r\n                            <div class="form-group mb-3">\r\n                                <label class="example-margin maladies">Hypertension:&nbsp;&nbsp;</label>\r\n                                <mat-slide-toggle formControlName="hypertension" value="6" ></mat-slide-toggle>\r\n                            </div>\r\n                            <div class="form-group mb-3">\r\n                                <label class="example-margin maladies">Cancer:&nbsp;&nbsp;</label>\r\n                                <mat-slide-toggle formControlName="cancer" value="5.6" ></mat-slide-toggle>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button mat-raised-button matStepperPrevious>Retour</button>\r\n                            <button mat-raised-button type="submit" (click)="onSubmit()">Valider</button>\r\n                        </div>\r\n                    </form>\r\n                </mat-step>\r\n            </mat-horizontal-stepper>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},Db45:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".bg-d {\n  background-color: #282d37;\n}\n\n.modal-step {\n  min-height: 270px;\n  transition: all 0.2s;\n}"},"GJ8+":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".example-margin {\n  margin: 0 10px;\n  text-align: center;\n  align-items: center;\n  color: black;\n}\n\n.maladies {\n  color: black;\n}\n\n.age {\n  text-align: center;\n}\n\n.title {\n  margin-top: 20px !important;\n}\n\n.sexe {\n  margin-top: 20px;\n}\n\n.matstepper {\n  background-color: rgba(0, 255, 0, 0.34);\n  border-radius: 25px;\n  margin-bottom: 20px;\n}\n\n.calculatorcontainer {\n  background-color: #282d37;\n  width: inherit;\n  border-radius: 25px;\n  height: inherit;\n}\n\n/* =============\n    Responsive\n =============== */\n\n/* Large desktops and laptops */\n\n/* Landscape tablets and medium desktops */\n\n/* Portrait tablets and small desktops */\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n  }\n\n  .matstepper {\n    background-color: rgba(0, 255, 0, 0.34);\n    border-radius: 25px;\n    margin-bottom: 20px;\n    font-size: 0.7rem;\n  }\n\n  .container {\n    padding: 0;\n  }\n}\n\n/* Landscape phones and portrait tablets */\n\n@media (max-width: 767px) {\n  .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n  }\n\n  .matstepper {\n    background-color: rgba(14, 233, 203, 0.34);\n    border-radius: 25px;\n    margin-bottom: 20px;\n    font-size: 0.7rem;\n  }\n\n  .container {\n    padding: 0;\n  }\n}\n\n/* Portrait phones and smaller */\n\n@media (max-width: 480px) {\n  .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n  }\n\n  .matstepper {\n    font-size: 0.7rem;\n  }\n\n  .container {\n    padding: 0;\n  }\n}"},Ixm7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\r\n\r\n<div class="container-fluid">\r\n\r\n    <div *ngIf="isModalShown" [config]="{ show: true }" (onHidden)="onHidden()" bsModal #autoShownModal="bs-modal"\r\n         class="modal fade d-block" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name">\r\n        <div class="modal-dialog modal-dialog-centered">\r\n            <div class="modal-content">\r\n                <div class="modal-body text-center pt-4">\r\n\r\n                    <div *ngIf="modalStep == 1" class="modal-step" [@fadeInOutAnimation]>\r\n                        <img src="assets/images/step-1.png" width="125">\r\n                        <h5 class="text-white mt-3">{{ \'Shared.HowToPrevent.Slide1.1\' | translate }} <span\r\n                                class="text-blue">{{ \'Shared.HowToPrevent.Slide1.2\' | translate }}</span></h5>\r\n                        <h6 class="text-white">{{ \'Shared.HowToPrevent.Slide1.3\' | translate }} <span\r\n                                class="text-danger">{{ \'Shared.HowToPrevent.Slide1.4\' | translate }}</span>\r\n                        </h6>\r\n                        <p>{{ \'Shared.HowToPrevent.Slide1.5\' | translate }}</p>\r\n                    </div>\r\n                    <div *ngIf="modalStep == 2" class="modal-step" [@fadeInOutAnimation]>\r\n                        <img src="assets/images/step-2.png" width="125">\r\n                        <h5 class="text-white mt-3">{{ \'Shared.HowToPrevent.Slide2.1\' | translate }} <span\r\n                                class="text-blue">{{ \'Shared.HowToPrevent.Slide2.2\' | translate }}</span></h5>\r\n                        <p>{{ \'Shared.HowToPrevent.Slide2.3\' | translate }}</p>\r\n                    </div>\r\n                    <div *ngIf="modalStep == 3" class="modal-step" [@fadeInOutAnimation]>\r\n                        <img src="assets/images/step-3.png" width="125">\r\n                        <h5 class="text-white mt-3">{{ \'Shared.HowToPrevent.Slide3.1\' | translate }} <span\r\n                                class="text-blue">{{ \'Shared.HowToPrevent.Slide3.2\' | translate }}</span></h5>\r\n                        <p>{{ \'Shared.HowToPrevent.Slide3.3\' | translate }}</p>\r\n\r\n                    </div>\r\n                    <div *ngIf="modalStep == 4" class="modal-step" [@fadeInOutAnimation]>\r\n                        <img src="assets/images/step-4.png" width="125">\r\n                        <h5 class="text-white mt-3">{{ \'Shared.HowToPrevent.Slide4.1\' | translate }} <span\r\n                                class="text-blue">{{ \'Shared.HowToPrevent.Slide4.2\' | translate }}</span></h5>\r\n                        <p>\r\n                            {{ \'Shared.HowToPrevent.Slide4.3\' | translate }}\r\n                        </p>\r\n                    </div>\r\n                    <div *ngIf="modalStep == 5" class="modal-step" [@fadeInOutAnimation]>\r\n                        <img src="assets/images/step-5.png" width="125">\r\n                        <h5 class="text-white mt-3">{{ \'Shared.HowToPrevent.Slide5.1\' | translate }} <span\r\n                                class="text-blue">{{ \'Shared.HowToPrevent.Slide5.2\' | translate }}</span></h5>\r\n                        <p>\r\n                            {{ \'Shared.HowToPrevent.Slide5.3\' | translate }}\r\n                        </p>\r\n                    </div>\r\n                    <div class="col-12 text-center" *ngIf="modalStep!=5">\r\n                        <button (click)="nextStep()"\r\n                                class="btn btn-secondary waves-effect waves-light mb-4"><span>{{ \'Shared.HowToPrevent.buttonNext\' | translate }}\r\n              </span><i class="fa fa-arrow-right mr-1"></i></button>\r\n                    </div>\r\n                    <div class="col-12 text-center" *ngIf="modalStep==5">\r\n                        <div class="form-group">\r\n                            <div class="custom-control custom-checkbox">\r\n                                <input type="checkbox" class="custom-control-input" id="forDontShow" #dontShow>\r\n                                <label class="custom-control-label"\r\n                                       for="forDontShow">{{ \'Shared.HowToPrevent.dontShowText\' | translate }}</label>\r\n                            </div>\r\n                        </div>\r\n                        <button (click)="close(dontShow.checked)" class="btn btn-blue waves-effect waves-light mb-4"><i\r\n                                class="fas fa-times-circle mr-1"></i><span> {{ \'Shared.HowToPrevent.buttonClose\' | translate }}</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-xl-3 col-md-6 col-6">\r\n            <div class="card-box">\r\n                <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.2\' | translate }}</h4>\r\n\r\n                <div class="topBoxes">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                        <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                    </div>\r\n                    <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n\r\n            <span class="badge badge-blue badge-pill float-md-left m-md-3 mt-2">{{(totalCases / finishedCases) | number:\'.1-2\'}}\r\n                %<i class="mdi mdi-trending-up"></i>\r\n            </span>\r\n                        <h2 class="font-weight-normal"> {{totalCases | number}} </h2>\r\n                        <p class="text-muted">{{todayCases}} {{ \'Shared.TopCards.6\' | translate }}</p>\r\n                    </div>\r\n                    <div class="progress progress-bar-alt-blue progress-sm m-0">\r\n                        <div class="progress-bar bg-blue" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                             aria-valuemax="100" style="width: 100%;">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n        <div class="col-xl-3 col-md-6 col-6">\r\n            <div class="card-box">\r\n                <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.3\' | translate }}</h4>\r\n\r\n                <div class="topBoxes">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                        <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                    </div>\r\n                    <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n            <span\r\n                    class="badge badge-danger badge-pill float-md-left m-md-3 mt-2">{{(totalDeaths / finishedCases * 100) | number:\'.1-2\'}}\r\n                %\r\n              <i class="mdi mdi-trending-up"></i> </span>\r\n                        <h2 class="font-weight-normal"> {{totalDeaths | number}} </h2>\r\n                        <p class="text-muted">{{todayDeaths}} {{ \'Shared.TopCards.6\' | translate }}</p>\r\n                    </div>\r\n                    <div class="progress progress-bar-alt-danger progress-sm m-0">\r\n                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                             aria-valuemax="100" style="width: 100%;">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n        <div class="col-xl-3 col-md-6 col-6">\r\n            <div class="card-box">\r\n                <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.4\' | translate }}</h4>\r\n\r\n                <div class="topBoxes">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                        <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                    </div>\r\n                    <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n            <span\r\n                    class="badge badge-success badge-pill float-md-left m-md-3 mt-2">{{(totalRecoveries / finishedCases * 100) | number:\'.1-2\'}}\r\n                %\r\n              <i class="mdi mdi-trending-up"></i> </span>\r\n                        <h2 class="font-weight-normal"> {{totalRecoveries | number}} </h2>\r\n                        <p class="text-muted">{{activeCases | number}} {{ \'Shared.TopCards.8\' | translate }}</p>\r\n                    </div>\r\n                    <div class="progress progress-bar-alt-success progress-sm m-0">\r\n                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                             aria-valuemax="100" style="width: 100%;">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n\r\n        <div class="col-xl-3 col-md-6 col-6">\r\n            <div class="card-box">\r\n                <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.5\' | translate }}</h4>\r\n\r\n                <div class="topBoxes">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                        <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                    </div>\r\n                    <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n            <span\r\n                    class="badge badge-warning badge-pill float-md-left m-md-3 mt-2">{{(totalCritical / activeCases * 100) | number:\'.1-2\'}}\r\n                %\r\n              <i class="mdi mdi-trending-up"></i> </span>\r\n                        <h2 class="font-weight-normal"> {{totalCritical | number}} </h2>\r\n                        <p class="text-muted">{{casesPer1M | number}} {{ \'Shared.TopCards.7\' | translate }}</p>\r\n                    </div>\r\n                    <div class="progress progress-bar-alt-warning progress-sm m-0">\r\n                        <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                             aria-valuemax="100" style="width: 100%;">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n    </div>\r\n\r\n\r\n    <div class="row">\r\n        <div class="col-xl-4">\r\n            <div class="card-box">\r\n                <div class="float-right">\r\n                    <p>{{ \'Home.AffectedCountries.2\' | translate }}</p>\r\n                </div>\r\n\r\n                <h4 class="header-title mb-3">{{ \'Home.AffectedCountries.1\' | translate }} </h4>\r\n                <div class="form-group row">\r\n                    <div class="col-md-8 col-8">\r\n                        <input type="text" id="example-placeholder" #search (keyup)="searchCountries(search.value)"\r\n                               class="form-control"\r\n                               placeholder="{{ \'Home.AffectedCountries.3\' | translate }} {{countries.length}} {{ \'Home.AffectedCountries.1\' | translate }}">\r\n                    </div>\r\n                    <div class="col-md-4 col-4">\r\n                        <select class="custom-select" #sortBy (change)="sortCountries(sortBy.value,search.value)">\r\n                            <option selected="" disabled>{{ \'Home.AffectedCountries.4\' | translate }}</option>\r\n                            <option value="cases">{{ \'Home.AffectedCountries.5\' | translate }}</option>\r\n                            <option value="todayCases">{{ \'Home.AffectedCountries.6\' | translate }}</option>\r\n                            <option value="deaths">{{ \'Home.AffectedCountries.7\' | translate }}</option>\r\n                            <option value="todayDeaths">{{ \'Home.AffectedCountries.8\' | translate }}</option>\r\n                            <option value="recovered">{{ \'Home.AffectedCountries.9\' | translate }}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="fa-3x text-center" [class.d-none]="!isLoadingCountries">\r\n                    <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                </div>\r\n                <div class="infectedCountries" [class.d-none]="isLoadingCountries">\r\n                    <perfect-scrollbar #perfectscrollbar style="height:346px;">\r\n                        <div class="infectedCountry" *ngFor="let country of countries">\r\n                            <a [routerLink]="[ \'/country\', country.country.toLowerCase() ]">\r\n                                <div class="infectedCountryFlag">\r\n                                    <img *ngIf="countryCodes[country.country] else unknown" style="height: 30px;\r\n                width: 40px;" src="assets/flags/{{countryCodes[country.country].toLowerCase()}}.svg"\r\n                                         alt="{{country.country}}">\r\n                                    <ng-template #unknown>\r\n                                        <img src="assets/flags/unknown.svg" alt="{{country.country}}">\r\n                                    </ng-template>\r\n                                </div>\r\n                                <h5 class="infectedCountryName mt-0 mb-1">{{country.country}}</h5>\r\n                                <p class="infectedCountryDetails font-weight-bold"><span\r\n                                        class="text-blue">{{country.cases | number}}\r\n                                    {{ \'Home.AffectedCountries.10\' | translate }}</span> & <span\r\n                                        class="text-danger">{{country.deaths | number}} {{ \'Home.AffectedCountries.11\' | translate }}</span>\r\n                                </p>\r\n                                <p class="infectedCountryCases text-blue">\r\n                                    +{{country.todayCases | number}} {{ \'Home.AffectedCountries.10\' | translate }}</p>\r\n\x3c!--                                <p class="infectedCountryDeaths text-danger">--\x3e\r\n\x3c!--                                    +{{country.todayDeaths | number}} {{ \'Home.AffectedCountries.11\' | translate }}</p>--\x3e\r\n                            </a>\r\n                        </div>\r\n                    </perfect-scrollbar>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n        <div class="col-xl-8">\r\n            <div class="card-box">\r\n                <div class="float-md-right float-right d-md-inline d-none">\r\n                    <button type="button"\r\n                            class="btn btn-xs btn-lighten-blue waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'cases\');">{{ \'Shared.TopCards.1\' | translate }} </button>\r\n                    <button type="button"\r\n                            class="btn btn-xs btn-lighten-danger waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'deaths\')">{{ \'Shared.TopCards.3\' | translate }}</button>\r\n                    <button type="button"\r\n                            class="btn btn-xs btn-lighten-success waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'recovered\')">{{ \'Shared.TopCards.4\' | translate }}</button>\r\n                    <button type="button" class="btn btn-xs btn-lighten-warning waves-effect waves-light width-xs"\r\n                            (click)="loadMap(\'critical\')">{{ \'Shared.TopCards.5\' | translate }}</button>\r\n                </div>\r\n                <h4 class="header-title mt-0 mb-3 mt-md-0">{{ \'Home.WorldMap.1\' | translate }}\r\n                    <button type="button"\r\n                            class="btn btn-xs btn-lighten-secondary waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="showModal();">{{ \'Home.WorldMap.2\' | translate }} </button>\r\n                </h4>\r\n                <div class="fa-3x text-center" [class.d-none]="!isLoadingMap">\r\n                    <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                </div>\r\n                <div class="table-responsive" [class.d-none]="isLoadingMap">\r\n                    <div id="worldChart" style="width: 100%; height: 400px; overflow: hidden"></div>\r\n                </div>\r\n                <div class="d-md-none d-inline">\r\n                    <button type="button"\r\n                            class="btn btn-block btn-xs btn-lighten-blue waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'cases\');">{{ \'Shared.TopCards.1\' | translate }}</button>\r\n                    <button type="button"\r\n                            class="btn btn-block btn-xs btn-lighten-danger waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'deaths\')">{{ \'Shared.TopCards.3\' | translate }}</button>\r\n                    <button type="button"\r\n                            class="btn btn-block btn-xs btn-lighten-success waves-effect waves-light width-xs mr-md-1 mr-0"\r\n                            (click)="loadMap(\'recovered\')">{{ \'Shared.TopCards.4\' | translate }}</button>\r\n                    <button type="button"\r\n                            class="btn btn-block btn-xs btn-lighten-warning waves-effect waves-light width-xs"\r\n                            (click)="loadMap(\'critical\')">{{ \'Shared.TopCards.5\' | translate }}</button>\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-xl-4">\r\n            <div class="card-box">\r\n                <h4 class="header-title mb-3">{{ \'Shared.RateDistribution.1\' | translate }} </h4>\r\n                <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                    <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                </div>\r\n                <div class="inbox-widget" [class.d-none]="isLoading">\r\n\r\n                    <div id="radarChart" style="width: 100%; height: 400px"></div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n        <div class="col-xl-8">\r\n            <div class="card-box">\r\n                <div class="float-md-right float-right d-md-inline d-none">\r\n                    <div class="custom-control custom-checkbox">\r\n                        <input type="checkbox" class="custom-control-input" id="enableLogarithmicScale"\r\n                               #enableLogarithmicScale (change)="loadLineChart(enableLogarithmicScale.checked)"\r\n                        >\r\n                        <label class="custom-control-label"\r\n                               for="enableLogarithmicScale">{{ \'Shared.InfectionsHistory.2\' | translate }}</label>\r\n                    </div>\r\n                </div>\r\n                <h4 class="header-title mt-0 mb-3 mt-md-0">{{ \'Shared.InfectionsHistory.1\' | translate }}</h4>\r\n                <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                    <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                </div>\r\n                <div class="table-responsive" [class.d-none]="isLoading">\r\n                    <div id="lineChart" style="width: 100%; height: 400px; overflow: hidden"></div>\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n    </div>\r\n\r\n\r\n    <div class="row">\r\n        <div class="col-xl-4">\r\n            <div class="card-box">\r\n                <h4 class="header-title mb-3">{{ \'Home.InfectionCountries.1\' | translate }}</h4>\r\n                <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                    <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n                </div>\r\n                <div class="inbox-widget" [class.d-none]="isLoading">\r\n\r\n                    <div id="pieChart" style="width: 100%; height: 300px"></div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n        <div class="col-xl-5">\r\n            <div class="card-box">\r\n\r\n                <h4 class="header-title mt-0 mb-3">{{ \'Shared.Rates.1\' | translate }}</h4>\r\n                <div class="row">\r\n                    <div class="col-12">\r\n                        <div class="row">\r\n                            <div class="col-xl-6 col-md-6">\r\n                                <div class="card-box widget-user bg-d">\r\n                                    <div class="text-center">\r\n                                        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                                            <i class="fas fa-circle-notch fa-spin m-2 text-blue"></i>\r\n                                        </div>\r\n                                        <h2 [class.d-none]="isLoading" class="font-weight-normal text-success">\r\n                                            {{(totalRecoveries / finishedCases * 100) | number:\'.1-2\'}}%</h2>\r\n                                        <h5>{{ \'Shared.Rates.2\' | translate }}</h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-xl-6 col-md-6">\r\n                                <div class="card-box widget-user bg-d">\r\n                                    <div class="text-center">\r\n                                        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                                            <i class="fas fa-circle-notch fa-spin m-2 text-danger"></i>\r\n                                        </div>\r\n                                        <h2 [class.d-none]="isLoading" class="font-weight-normal text-danger">\r\n                                            {{(totalDeaths / finishedCases * 100) | number:\'.1-2\'}}%</h2>\r\n                                        <h5>{{ \'Shared.Rates.3\' | translate }}</h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-xl-6 col-md-6">\r\n                                <div class="card-box widget-user bg-d">\r\n                                    <div class="text-center">\r\n                                        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                                            <i class="fas fa-circle-notch fa-spin m-2 text-warning"></i>\r\n                                        </div>\r\n                                        <h2 [class.d-none]="isLoading" class="font-weight-normal text-warning">\r\n                                            {{(totalCritical / activeCases * 100) | number:\'.1-2\'}}%</h2>\r\n                                        <h5>{{ \'Shared.Rates.4\' | translate }}</h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-xl-6 col-md-6">\r\n                                <div class="card-box widget-user bg-d">\r\n                                    <div class="text-center">\r\n                                        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                                            <i class="fas fa-circle-notch fa-spin m-2 text-info"></i>\r\n                                        </div>\r\n                                        <h2 [class.d-none]="isLoading" class="font-weight-normal text-info"\r\n                                            *ngIf="fuse">\r\n                                            {{fuse.list.length}}</h2>\r\n                                        <h5>{{ \'Shared.Other.1\' | translate }}</h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n        <div class="col-xl-3">\r\n            <div class="card-box text-center">\r\n                <h5>{{ \'Shared.Other.2\' | translate }}</h5>\r\n                <app-countup></app-countup>\r\n            </div>\r\n            <div class="card-box text-center">\r\n\r\n                <h5>{{ \'Shared.Other.9\' | translate }}</h5>\r\n                <p>{{ \'Shared.Other.10\' | translate }}</p>\r\n\r\n                \x3c!--        <a href="https://ko-fi.com/lolo69" class="btn btn- waves-effect btn-danger d-block mt-1 mx-auto"> <i--\x3e\r\n                \x3c!--            class="fas fa-coffee"></i> {{ \'Shared.Other.8\' | translate }} </a>--\x3e\r\n                <a href="https://www.buymeacoffee.com/lorenzeub69" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-orange.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>\r\n            </div>\r\n        </div>\x3c!-- end col --\x3e\r\n\r\n    </div>\r\n\r\n</div>\r\n\x3c!-- end container --\x3e\r\n'},L35S:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},Lypv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},MCLT:function(module,exports,__webpack_require__){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,(function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}})),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if("undefined"!=typeof process&&!0===process.noDeprecation)return fn;if("undefined"==typeof process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach((function(val,idx){hash[val]=!0})),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach((function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))})),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})),ctx.seen.pop(),function(output,base,braces){if(output.reduce((function(prev,cur){return cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2):"\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=__webpack_require__("1gqn");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__("P7XM"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason,reason=newReason}return cb(reason)}exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn;if("function"!=typeof(fn=original[kCustomPromisifiedSymbol]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var promiseResolve,promiseReject,promise=new Promise((function(resolve,reject){promiseResolve=resolve,promiseReject=reject})),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push((function(err,value){err?promiseReject(err):promiseResolve(value)}));try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");var self=this,cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then((function(ret){process.nextTick(cb,null,ret)}),(function(rej){process.nextTick(callbackifyOnRejected,rej,cb)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}},P7XM:function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},"RQx+":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},VzVu:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<app-layout></app-layout>"},Zbk7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<mat-card class="" [style.background-color]="data.background">\n    <mat-card-title>{{data.title}}</mat-card-title>\n    <div  class="text-center mb-4 rounded-10">\n    <h3 class="title font-weight-bold"></h3>\n    <span class="message">Vous avez <b><span class="risk">{{data.risk}}</span>%</b> de chance de <b>mourir</b> du covid-19 en étant infecté</span>\n    <br>\n    <br>\n    <span>Veuillez noter qu\'il ne s\'agit que d\'une estimation et non d\'une évaluation absolue des effets que le covid-19 pourrait avoir sur vous.</span>\n</div>\n    <button mat-button (click)="onNoClick()">Fermer</button>\n</mat-card>\n'},cScy:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<footer class="footer">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-4 pt-1">\r\n        2020 © {{ \'Shared.Other.12\' | translate }} <span class="text-danger"></span> {{ \'Shared.Other.13\' | translate }} <a href="https:/lorenzo-bernal.fr">Lorenzo Bernal</a>\r\n      </div>\r\n      <div class="col-md-6 pt-1">\r\n        <div class="text-md-right footer-links d-none d-sm-block">\r\n\x3c!--          <a href="https://www.buymeacoffee.com/lorenzeub69" target="_blank"><span class="text-warning"><i class="fas fa-mug-hot"></i></span> {{ \'Shared.Other.8\' | translate }}</a>--\x3e\r\n          <a href="https://lorenzo-bernal.fr" target="_blank"><span class="text-success"><i class="far fa-paper-plane"></i></span> {{ \'Shared.Other.11\' | translate }}</a>\r\n        </div>\r\n      </div>\r\n      <div class="col-md-2">\r\n        <select #lang class="form-control form-control-sm" (change)="translate.use(lang.value)">\r\n          <option selected disabled>\r\n            {{ \'Shared.Other.20\' | translate }}\r\n          </option>\r\n          <option *ngFor="let lang of translate.getLangs()" [value]="lang">{{lang}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</footer>\r\n'},cYeu:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="container-fluid">\r\n  <h2 class="text-center mt-3 mb-3" *ngIf="country">\r\n    <img \r\n    width="100px" src="assets/flags/{{countryCodes[country.country].toLowerCase()}}.svg" alt="{{country.country}}"> {{country.country}} {{ \'Shared.Other.18\' | translate }}</h2>\r\n    <div class="row">\r\n      <div class="col-xl-3 col-md-6 col-6">\r\n        <div class="card-box">\r\n          <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.2\' | translate }}</h4>\r\n  \r\n          <div class="topBoxes">\r\n            <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n              <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n            </div>\r\n            <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n  \r\n              <span class="badge badge-blue badge-pill float-md-left m-md-3 mt-2">{{(totalCases / finishedCases) | number:\'.1-2\'}}%<i class="mdi mdi-trending-up"></i>\r\n              </span>\r\n              <h2 class="font-weight-normal"> {{totalCases | number}} </h2>\r\n              <p class="text-muted">{{todayCases}} {{ \'Shared.TopCards.6\' | translate }}</p>\r\n            </div>\r\n            <div class="progress progress-bar-alt-blue progress-sm m-0">\r\n              <div class="progress-bar bg-blue" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                aria-valuemax="100" style="width: 100%;">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n      </div>\x3c!-- end col --\x3e\r\n  \r\n      <div class="col-xl-3 col-md-6 col-6">\r\n        <div class="card-box">\r\n          <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.3\' | translate }}</h4>\r\n  \r\n          <div class="topBoxes">\r\n            <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n              <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n            </div>\r\n            <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n              <span\r\n                class="badge badge-danger badge-pill float-md-left m-md-3 mt-2">{{(totalDeaths / finishedCases * 100) | number:\'.1-2\'}}%\r\n                <i class="mdi mdi-trending-up"></i> </span>\r\n              <h2 class="font-weight-normal"> {{totalDeaths | number}} </h2>\r\n              <p class="text-muted">{{todayDeaths}} {{ \'Shared.TopCards.6\' | translate }}</p>\r\n            </div>\r\n            <div class="progress progress-bar-alt-danger progress-sm m-0">\r\n              <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                aria-valuemax="100" style="width: 100%;">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n      </div>\x3c!-- end col --\x3e\r\n  \r\n      <div class="col-xl-3 col-md-6 col-6">\r\n        <div class="card-box">\r\n          <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.4\' | translate }}</h4>\r\n  \r\n          <div class="topBoxes">\r\n            <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n              <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n            </div>\r\n            <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n              <span\r\n                class="badge badge-success badge-pill float-md-left m-md-3 mt-2">{{(totalRecoveries / finishedCases * 100) | number:\'.1-2\'}}%\r\n                <i class="mdi mdi-trending-up"></i> </span>\r\n              <h2 class="font-weight-normal"> {{totalRecoveries | number}} </h2>\r\n              <p class="text-muted">{{activeCases | number}} {{ \'Shared.TopCards.8\' | translate }}</p>\r\n            </div>\r\n            <div class="progress progress-bar-alt-success progress-sm m-0">\r\n              <div class="progress-bar bg-success" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                aria-valuemax="100" style="width: 100%;">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n      </div>\x3c!-- end col --\x3e\r\n  \r\n  \r\n      <div class="col-xl-3 col-md-6 col-6">\r\n        <div class="card-box">\r\n          <h4 class="header-title m-0 text-md-left text-center">{{ \'Shared.TopCards.5\' | translate }}</h4>\r\n  \r\n          <div class="topBoxes">\r\n            <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n              <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n            </div>\r\n            <div class="topBoxesDetails text-md-right text-center" [class.d-none]="isLoading">\r\n              <span\r\n                class="badge badge-warning badge-pill float-md-left m-md-3 mt-2">{{(totalCritical / activeCases * 100) | number:\'.1-2\'}}%\r\n                <i class="mdi mdi-trending-up"></i> </span>\r\n              <h2 class="font-weight-normal"> {{totalCritical | number}} </h2>\r\n              <p class="text-muted">{{casesPer1M | number}} {{ \'Shared.TopCards.7\' | translate }}</p>\r\n            </div>\r\n            <div class="progress progress-bar-alt-warning progress-sm m-0">\r\n              <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="77" aria-valuemin="0"\r\n                aria-valuemax="100" style="width: 100%;">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n      </div>\x3c!-- end col --\x3e\r\n  \r\n    </div>\r\n\r\n  <div class="row">\r\n    <div class="col-xl-4">\r\n      <div class="card-box">\r\n        <h4 class="header-title mb-3">{{ \'Shared.RateDistribution.1\' | translate }} </h4>\r\n        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n          <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n        </div>\r\n        <div class="inbox-widget" [class.d-none]="isLoading">\r\n\r\n          <div id="radarChart" style="width: 100%; height: 400px"></div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\x3c!-- end col --\x3e\r\n\r\n    <div class="col-xl-8">\r\n      <div class="card-box">\r\n        <h4 class="header-title mt-0 mb-3 mt-md-0">{{ \'Shared.InfectionsHistory.1\' | translate }}</h4>\r\n        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n          <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n        </div>\r\n        <div class="table-responsive" [class.d-none]="isLoading">\r\n          <div id="lineChart" style="width: 100%; height: 400px; overflow: hidden"></div>\r\n        </div>\r\n      </div>\r\n    </div>\x3c!-- end col --\x3e\r\n\r\n  </div>\r\n\r\n\r\n  <div class="row">\r\n    <div class="col-xl-4">\r\n      <div class="card-box">\r\n        <h4 class="header-title mb-3" *ngIf="country">\r\n{{country.country}}\'s {{ \'Home.InfectionCountries.1\' | translate }}\r\n</h4>\r\n        <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n          <i class="fas fa-circle-notch fa-spin m-2"></i>\r\n        </div>\r\n        <div class="inbox-widget" [class.d-none]="isLoading">\r\n\r\n          <div id="pieChart" style="width: 100%; height: 300px"></div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\x3c!-- end col --\x3e\r\n\r\n    <div class="col-xl-5">\r\n      <div class="card-box">\r\n\r\n        <h4 class="header-title mt-0 mb-3">{{ \'Shared.Rates.1\' | translate }}</h4>\r\n        <div class="row">\r\n          <div class="col-12">\r\n            <div class="row">\r\n              <div class="col-xl-6 col-md-6">\r\n                <div class="card-box widget-user bg-d">\r\n                  <div class="text-center">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                      <i class="fas fa-circle-notch fa-spin m-2 text-blue"></i>\r\n                    </div>\r\n                    <h2 [class.d-none]="isLoading" class="font-weight-normal text-success">\r\n                      <span *ngIf="finishedCases>0 else naRecovery">{{(totalRecoveries / finishedCases * 100) | number:\'.1-2\'}}%</span>\r\n                      <ng-template #naRecovery>\r\n                        <span>N/A</span>\r\n                      </ng-template>\r\n                    </h2>\r\n                    <h5>{{ \'Shared.Rates.2\' | translate }}</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-xl-6 col-md-6">\r\n                <div class="card-box widget-user bg-d">\r\n                  <div class="text-center">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                      <i class="fas fa-circle-notch fa-spin m-2 text-danger"></i>\r\n                    </div>\r\n                    <h2 [class.d-none]="isLoading" class="font-weight-normal text-danger">\r\n                      <span *ngIf="finishedCases>0 else naDeath">{{(totalDeaths / finishedCases * 100) | number:\'.1-2\'}}%</span>\r\n                      <ng-template #naDeath>\r\n                        <span>N/A</span>\r\n                      </ng-template>\r\n                    </h2>\r\n                    <h5>{{ \'Shared.Rates.3\' | translate }}</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-xl-6 col-md-6">\r\n                <div class="card-box widget-user bg-d">\r\n                  <div class="text-center">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                      <i class="fas fa-circle-notch fa-spin m-2 text-warning"></i>\r\n                    </div>\r\n                    <h2 [class.d-none]="isLoading" class="font-weight-normal text-warning">\r\n                      {{(totalCritical / activeCases * 100) | number:\'.1-2\'}}%</h2>\r\n                    <h5>{{ \'Shared.Rates.4\' | translate }}</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-xl-6 col-md-6">\r\n                <div class="card-box widget-user bg-d">\r\n                  <div class="text-center">\r\n                    <div class="fa-3x text-center" [class.d-none]="!isLoading">\r\n                      <i class="fas fa-circle-notch fa-spin m-2 text-info"></i>\r\n                    </div>\r\n                    <h2 [class.d-none]="isLoading" class="font-weight-normal text-info">{{(100-(totalCritical / activeCases * 100)) | number:\'.1-2\'}}%</h2>\r\n                    <h5>{{ \'Shared.Rates.5\' | translate }}</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\x3c!-- end col --\x3e\r\n    <div class="col-xl-3">\r\n      <div class="card-box text-center">\r\n        <h5>{{ \'Shared.Other.2\' | translate }}</h5>\r\n        <app-countup></app-countup>\r\n      </div>\r\n      <div class="card-box text-center">\r\n\r\n        <h5>{{ \'Shared.Other.9\' | translate }}</h5>\r\n        <p>{{ \'Shared.Other.10\' | translate }}</p>\r\n        <a href="https://www.buymeacoffee.com/lorenzeub69" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-orange.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>\r\n\r\n      </div>\r\n    </div>\x3c!-- end col --\x3e\r\n\r\n  </div>\r\n\r\n\r\n</div> \x3c!-- end container --\x3e\r\n'},crnd:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="crnd"},dWvY:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},guUt:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="topbar-menu">\r\n    <div class="container-fluid">\r\n \r\n    </div>\r\n    \x3c!-- end container --\x3e\r\n</div>\r\n\x3c!-- end navbar-custom --\x3e'},i2FT:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Navigation Bar--\x3e\r\n    <header id="topnav">\r\n        <app-topbar>\r\n        </app-topbar>\r\n    </header>\r\n    \x3c!-- End Navigation Bar--\x3e\r\n\r\n    <div class="wrapper">\r\n        <router-outlet></router-outlet>\r\n    </div>\r\n\r\n    <app-footer></app-footer>\r\n\r\n'},lcx6:function(module,exports,__webpack_require__){"use strict";var Queue=__webpack_require__("+jW5");function polylabel(polygon,precision,debug){var minX,minY,maxX,maxY;precision=precision||1;for(var i=0;i<polygon[0].length;i++){var p=polygon[0][i];(!i||p[0]<minX)&&(minX=p[0]),(!i||p[1]<minY)&&(minY=p[1]),(!i||p[0]>maxX)&&(maxX=p[0]),(!i||p[1]>maxY)&&(maxY=p[1])}var width=maxX-minX,height=maxY-minY,cellSize=Math.min(width,height),h=cellSize/2;if(0===cellSize){var degeneratePoleOfInaccessibility=[minX,minY];return degeneratePoleOfInaccessibility.distance=0,degeneratePoleOfInaccessibility}for(var cellQueue=new Queue(void 0,compareMax),x=minX;x<maxX;x+=cellSize)for(var y=minY;y<maxY;y+=cellSize)cellQueue.push(new Cell(x+h,y+h,h,polygon));var bestCell=function(polygon){for(var area=0,x=0,y=0,points=polygon[0],i=0,len=points.length,j=len-1;i<len;j=i++){var a=points[i],b=points[j],f=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*f,y+=(a[1]+b[1])*f,area+=3*f}return 0===area?new Cell(points[0][0],points[0][1],0,polygon):new Cell(x/area,y/area,0,polygon)}(polygon),bboxCell=new Cell(minX+width/2,minY+height/2,0,polygon);bboxCell.d>bestCell.d&&(bestCell=bboxCell);for(var numProbes=cellQueue.length;cellQueue.length;){var cell=cellQueue.pop();cell.d>bestCell.d&&(bestCell=cell,debug&&console.log("found best %d after %d probes",Math.round(1e4*cell.d)/1e4,numProbes)),cell.max-bestCell.d<=precision||(h=cell.h/2,cellQueue.push(new Cell(cell.x-h,cell.y-h,h,polygon)),cellQueue.push(new Cell(cell.x+h,cell.y-h,h,polygon)),cellQueue.push(new Cell(cell.x-h,cell.y+h,h,polygon)),cellQueue.push(new Cell(cell.x+h,cell.y+h,h,polygon)),numProbes+=4)}debug&&(console.log("num probes: "+numProbes),console.log("best distance: "+bestCell.d));var poleOfInaccessibility=[bestCell.x,bestCell.y];return poleOfInaccessibility.distance=bestCell.d,poleOfInaccessibility}function compareMax(a,b){return b.max-a.max}function Cell(x,y,h,polygon){this.x=x,this.y=y,this.h=h,this.d=function(x,y,polygon){for(var inside=!1,minDistSq=1/0,k=0;k<polygon.length;k++)for(var ring=polygon[k],i=0,len=ring.length,j=len-1;i<len;j=i++){var a=ring[i],b=ring[j];a[1]>y!=b[1]>y&&x<(b[0]-a[0])*(y-a[1])/(b[1]-a[1])+a[0]&&(inside=!inside),minDistSq=Math.min(minDistSq,getSegDistSq(x,y,a,b))}return 0===minDistSq?0:(inside?1:-1)*Math.sqrt(minDistSq)}(x,y,polygon),this.max=this.d+this.h*Math.SQRT2}function getSegDistSq(px,py,a,b){var x=a[0],y=a[1],dx=b[0]-x,dy=b[1]-y;if(0!==dx||0!==dy){var t=((px-x)*dx+(py-y)*dy)/(dx*dx+dy*dy);t>1?(x=b[0],y=b[1]):t>0&&(x+=dx*t,y+=dy*t)}return(dx=px-x)*dx+(dy=py-y)*dy}Queue.default&&(Queue=Queue.default),module.exports=polylabel,module.exports.default=polylabel},mKC2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Topbar Start --\x3e\r\n<mat-toolbar class="navbar-custom">\r\n    <a mat-button class="companyName" routerLink="/">\r\n        <span class ="fontbutton"><img src="assets/images/favicon-32x32.png">&nbsp;{{ \'Home.AffectedCountries.12\' | translate }}</span>\r\n    </a>\r\n\x3c!--    <span></span>--\x3e\r\n        <a mat-button class="companyName" routerLink="/actu">\r\n            <span><i class="fas fa-bookmark"></i>&nbsp;{{ \'Home.AffectedCountries.13\' | translate }}</span>\r\n        </a>\r\n\x3c!--        <span></span>--\x3e\r\n    <a mat-button routerLink="/calculator" class="companyName"><span><i class="fas fa-calculator"></i>&nbsp;{{ \'Home.AffectedCountries.14\' | translate }}</span></a>\r\n\x3c!--        <span></span>--\x3e\r\n\x3c!--    <img src="assets/images/logo.jpg">--\x3e\r\n</mat-toolbar>\r\n\x3c!-- end Topbar --\x3e\r\n\r\n'},mrSG:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"a",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"c",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"h",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"g",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"b",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"e",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"k",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"i",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"j",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"f",(function(){return __importDefault}));var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}},"n/8n":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".articleImage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  max-width: 700px;\n}\n\n.mat-card {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n  width: auto;\n}\n\n.cards {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.mat-display-1 {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n}\n\n.typecard {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n  width: 800px;\n}\n\n.mat-card {\n  background-color: #232831 !important;\n  margin-bottom: 20px;\n}\n\n.mat-card-content {\n  color: white !important;\n}\n\n.mat-card-header {\n  color: white !important;\n}\n\n.mat-card-subtitle {\n  color: white !important;\n}"},ovqH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".coloredcard {\n  background-color: red !important;\n}"},rrZY:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='.actu {\n  margin-top: 15px !important;\n}\n\n.toolbar {\n  background-color: #282e38 !important;\n}\n\n.companyName {\n  font-size: 150%;\n  color: #f7f7f7;\n  font-family: "Rubik", sans-serif;\n}\n\n/* =============\n    Responsive\n =============== */\n\n/* Large desktops and laptops */\n\n/* Landscape tablets and medium desktops */\n\n/* Portrait tablets and small desktops */\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .companyName {\n    font-size: 75%;\n  }\n}\n\n/* Landscape phones and portrait tablets */\n\n@media (max-width: 767px) {\n  .companyName {\n    font-size: 75%;\n  }\n}\n\n/* Portrait phones and smaller */\n\n@media (max-width: 480px) {\n  .companyName {\n    font-size: 75%;\n  }\n}'},w0H6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-12 text-center">\r\n            <h1 class="mt-5">Sorry, This page doesn\'t exist.</h1>\r\n            <img src="assets/images/404.png">\r\n        </div>\r\n    </div>\r\n</div>'},xWHp:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="container-fluid">\n    <mat-card><h1 class="mat-display-1">Actualités</h1></mat-card>\n\n    <div class="cards">\n        <div class="typecard">\n            <div *ngFor="let data of data">\n                <mat-card *ngIf="data.media">\n                    <mat-card-header *ngIf="data">\n                        <mat-card-title>{{data.title}}</mat-card-title>\n                        <mat-card-subtitle>{{data.published_date | date}}\n                        </mat-card-subtitle>\n                    </mat-card-header>\n                    <a href="{{data.link}}" target="_blank">\n                        <img mat-card-image class="articleImage"\n                             src="{{data.media}}" alt="">\n                    </a>\n                    \x3c!--                 src="{{data.image.url.replace(\'-{width}-{height}-{quality}/\',\'-320-213-75/\')}}"--\x3e\n\n                    <mat-card-content>\n                        <p>\n                            {{data.summary}}\n                        </p>\n                    </mat-card-content>\n                    <mat-card-actions>\n                    </mat-card-actions>\n\n                </mat-card>\n            </div>\n        </div>\n    </div>\n</div>\n'},ynWL:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},zUnb:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var projections_namespaceObject={};function isFunction(x){return"function"==typeof x}__webpack_require__.r(projections_namespaceObject),__webpack_require__.d(projections_namespaceObject,"Mercator",(function(){return Mercator_Mercator})),__webpack_require__.d(projections_namespaceObject,"Miller",(function(){return Miller_Miller})),__webpack_require__.d(projections_namespaceObject,"Eckert6",(function(){return Eckert6_Eckert6})),__webpack_require__.d(projections_namespaceObject,"Orthographic",(function(){return Orthographic_Orthographic})),__webpack_require__.d(projections_namespaceObject,"Stereographic",(function(){return Stereographic_Stereographic})),__webpack_require__.d(projections_namespaceObject,"Albers",(function(){return Albers_Albers})),__webpack_require__.d(projections_namespaceObject,"AlbersUsa",(function(){return AlbersUsa_AlbersUsa})),__webpack_require__.d(projections_namespaceObject,"NaturalEarth1",(function(){return NaturalEarth1_NaturalEarth1})),__webpack_require__.d(projections_namespaceObject,"AzimuthalEqualArea",(function(){return AzimuthalEqualArea_AzimuthalEqualArea})),__webpack_require__.d(projections_namespaceObject,"EqualEarth",(function(){return EqualEarth_EqualEarth})),__webpack_require__.d(projections_namespaceObject,"Projection",(function(){return Projection_Projection}));let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err},0)}const Observer_empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=Array.isArray||(x=>x&&"number"==typeof x.length);function isObject(x){return null!==x&&"object"==typeof x}const UnsubscriptionError=(()=>{function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl})();class Subscription_Subscription{constructor(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors;if(this.closed)return;let{_parentOrParents:_parentOrParents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription_Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(let index=0;index<_parentOrParents.length;++index){_parentOrParents[index].remove(this)}if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions)){let index=-1,len=_subscriptions.length;for(;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}if(errors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;if(!teardown)return Subscription_Subscription.EMPTY;switch(typeof teardown){case"function":subscription=new Subscription_Subscription(teardown);case"object":if(subscription===this||subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription_Subscription)){const tmp=subscription;subscription=new Subscription_Subscription,subscription._subscriptions=[tmp]}break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}let{_parentOrParents:_parentOrParents}=subscription;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription_Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}const subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}}var empty;function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}Subscription_Subscription.EMPTY=((empty=new Subscription_Subscription).closed=!0,empty);const rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_empty;break;case 1:if(!destinationOrNext){this.destination=Observer_empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_parentOrParents}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==Observer_empty&&(context=Object.create(observerOrNext),isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function noop(){}function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)}:noop}class Observable_Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable_Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(Observer_empty)}(observerOrNext,error,complete);if(operator?sink.add(operator.call(sink,this.source)):sink.add(this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),!function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?console.warn(err):sink.error(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:pipeFromArray(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error("no Promise impl found");return promiseCtor}Observable_Observable.create=subscribe=>new Observable_Observable(subscribe);const ObjectUnsubscribedError=(()=>{function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl})();class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}class Subject_Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}Subject_Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source);class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&"function"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()};const iterator_iterator="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",isArrayLike=x=>x&&"number"==typeof x.length&&"function"!=typeof x;function isPromise(value){return!!value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}const subscribeTo=result=>{if(result&&"function"==typeof result[observable_observable])return obj=result,subscriber=>{const obs=obj[observable_observable]();if("function"!=typeof obs.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return obs.subscribe(subscriber)};if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return promise=result,subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);if(result&&"function"==typeof result[iterator_iterator])return iterable=result,subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return"function"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber};{const value=isObject(result)?"an invalid object":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var iterable,promise,obj};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,innerSubscriber=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!innerSubscriber.closed)return result instanceof Observable_Observable?result.subscribe(innerSubscriber):subscribeTo(result)(innerSubscriber)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map_map(project,thisArg){return function(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function scheduleArray(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule((function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()}))),sub})}function scheduled(input,scheduler){if(null!=input){if(function(input){return input&&"function"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub})}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub})}(input,scheduler);if(isArrayLike(input))return scheduleArray(input,scheduler);if(function(input){return input&&"function"==typeof input[iterator_iterator]}(input)||"string"==typeof input)return function(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&"function"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule((function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())})))})),sub})}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")}function from_from(input,scheduler){return scheduler?scheduled(input,scheduler):input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input))}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return"function"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from_from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):("number"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber);const innerSubscription=subscribeToResult(this,ish,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&destination.add(innerSubscription)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function identity(x){return x}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function fromArray(input,scheduler){return scheduler?scheduleArray(input,scheduler):new Observable_Observable(subscribeToArray(input))}function merge(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}function refCount_refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}class ConnectableObservable_ConnectableObservable extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,connection=this._connection=new Subscription_Subscription,connection.add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed&&(this._connection=null,connection=Subscription_Subscription.EMPTY)),connection}refCount(){return refCount_refCount()(this)}}const connectableObservableDescriptor=(()=>{const connectableProto=ConnectableObservable_ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}}})();class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function multicast(subjectOrSubjectFactory,selector){return function(source){let subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},"function"==typeof selector)return source.lift(new MulticastOperator(subjectFactory,selector));const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}}class MulticastOperator{constructor(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}call(subscriber,source){const{selector:selector}=this,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription}}function shareSubjectFactory(){return new Subject_Subject}function share(){return source=>refCount_refCount()(multicast(shareSubjectFactory)(source))}function noSideEffects(fn){return{toString:fn}.toString()}const ANNOTATIONS="__annotations__",PARAMETERS="__parameters__",PROP_METADATA="__prop__metadata__";function makeDecorator(name,props,parentClass,additionalProcessing,typeFn){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function DecoratorFactory(...args){if(this instanceof DecoratorFactory)return metaCtor.call(this,...args),this;const annotationInstance=new DecoratorFactory(...args);return function(cls){return typeFn&&typeFn(cls,...args),(cls.hasOwnProperty(ANNOTATIONS)?cls[ANNOTATIONS]:Object.defineProperty(cls,ANNOTATIONS,{value:[]})[ANNOTATIONS]).push(annotationInstance),additionalProcessing&&additionalProcessing(cls),cls}}return parentClass&&(DecoratorFactory.prototype=Object.create(parentClass.prototype)),DecoratorFactory.prototype.ngMetadataName=name,DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory})}function makeMetadataCtor(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}function makeParamDecorator(name,props,parentClass){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}function makePropDecorator(name,props,parentClass,additionalProcessing){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function PropDecoratorFactory(...args){if(this instanceof PropDecoratorFactory)return metaCtor.apply(this,args),this;const decoratorInstance=new PropDecoratorFactory(...args);return function(target,name){const constructor=target.constructor,meta=constructor.hasOwnProperty(PROP_METADATA)?constructor[PROP_METADATA]:Object.defineProperty(constructor,PROP_METADATA,{value:{}})[PROP_METADATA];meta[name]=meta.hasOwnProperty(name)&&meta[name]||[],meta[name].unshift(decoratorInstance),additionalProcessing&&additionalProcessing(target,name,...args)}}return parentClass&&(PropDecoratorFactory.prototype=Object.create(parentClass.prototype)),PropDecoratorFactory.prototype.ngMetadataName=name,PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory})}const Inject=makeParamDecorator("Inject",token=>({token:token}));const Optional=makeParamDecorator("Optional");const Self=makeParamDecorator("Self");const SkipSelf=makeParamDecorator("SkipSelf");const Host=makeParamDecorator("Host");const Attribute=makeParamDecorator("Attribute",attributeName=>({attributeName:attributeName}));var InjectFlags;function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("Could not find renamed property on target object.")}function fillProperties(target,source){for(const key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key])}function ɵɵdefineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}!function(InjectFlags){InjectFlags[InjectFlags.Default=0]="Default",InjectFlags[InjectFlags.Host=1]="Host",InjectFlags[InjectFlags.Self=2]="Self",InjectFlags[InjectFlags.SkipSelf=4]="SkipSelf",InjectFlags[InjectFlags.Optional=8]="Optional"}(InjectFlags||(InjectFlags={}));function ɵɵdefineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){return getOwnDefinition(type,type[NG_PROV_DEF])||getOwnDefinition(type,type[NG_INJECTABLE_DEF])}function getOwnDefinition(type,def){return def&&def.token===type?def:null}function getInjectorDef(type){return type&&(type.hasOwnProperty(NG_INJ_DEF)||type.hasOwnProperty(NG_INJECTOR_DEF))?type[NG_INJ_DEF]:null}const NG_PROV_DEF=getClosureSafeProperty({"ɵprov":getClosureSafeProperty}),NG_INJ_DEF=getClosureSafeProperty({"ɵinj":getClosureSafeProperty}),NG_PROV_DEF_FALLBACK=getClosureSafeProperty({"ɵprovFallback":getClosureSafeProperty}),NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),NG_INJECTOR_DEF=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function concatStringsWithSpace(before,after){return null==before||""===before?null===after?"":after:null==after||""===after?before:before+" "+after}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return isForwardRef(type)?type():type}function isForwardRef(fn){return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef}const __globalThis="undefined"!=typeof globalThis&&globalThis,__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global="undefined"!=typeof global&&global,_global=__globalThis||__global||__window||__self;var R3ResolvedDependencyType,R3FactoryTarget,ViewEncapsulation;function getCompilerFacade(){const globalNg=_global.ng;if(!globalNg||!globalNg.ɵcompilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return globalNg.ɵcompilerFacade}!function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef",R3ResolvedDependencyType[R3ResolvedDependencyType.Invalid=3]="Invalid"}(R3ResolvedDependencyType||(R3ResolvedDependencyType={})),function(R3FactoryTarget){R3FactoryTarget[R3FactoryTarget.Directive=0]="Directive",R3FactoryTarget[R3FactoryTarget.Component=1]="Component",R3FactoryTarget[R3FactoryTarget.Injectable=2]="Injectable",R3FactoryTarget[R3FactoryTarget.Pipe=3]="Pipe",R3FactoryTarget[R3FactoryTarget.NgModule=4]="NgModule"}(R3FactoryTarget||(R3FactoryTarget={})),function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={}));const NG_COMP_DEF=getClosureSafeProperty({"ɵcmp":getClosureSafeProperty}),NG_DIR_DEF=getClosureSafeProperty({"ɵdir":getClosureSafeProperty}),NG_PIPE_DEF=getClosureSafeProperty({"ɵpipe":getClosureSafeProperty}),NG_MOD_DEF=getClosureSafeProperty({"ɵmod":getClosureSafeProperty}),NG_LOC_ID_DEF=getClosureSafeProperty({"ɵloc":getClosureSafeProperty}),NG_FACTORY_DEF=getClosureSafeProperty({"ɵfac":getClosureSafeProperty}),NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty});class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.ɵprov=ɵɵdefineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const INJECTOR=new InjectionToken("INJECTOR",-1),THROW_IF_NOT_FOUND={},NEW_LINE=/\n/gm,USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _injectImplementation,_currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function setInjectImplementation(impl){const previous=_injectImplementation;return _injectImplementation=impl,previous}function injectInjectorOnly(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error("inject() must be called from an injection context");return null===_currentInjector?injectRootLimpMode(token,void 0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function ɵɵinject(token,flags=InjectFlags.Default){return(_injectImplementation||injectInjectorOnly)(resolveForwardRef(token),flags)}function ɵɵinvalidFactoryDep(index){throw new Error("invalid")}const inject=ɵɵinject;function injectRootLimpMode(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&"root"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}function injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error("Arguments array must have arguments.");let type=void 0,flags=InjectFlags.Default;for(let j=0;j<arg.length;j++){const meta=arg[j];meta instanceof Optional||"Optional"===meta.ngMetadataName||meta===Optional?flags|=InjectFlags.Optional:meta instanceof SkipSelf||"SkipSelf"===meta.ngMetadataName||meta===SkipSelf?flags|=InjectFlags.SkipSelf:meta instanceof Self||"Self"===meta.ngMetadataName||meta===Self?flags|=InjectFlags.Self:type=meta instanceof Inject||meta===Inject?meta.token:meta}args.push(ɵɵinject(type,flags))}else args.push(ɵɵinject(arg))}return args}class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name="NullInjectorError",error}return notFoundValue}}function catchInjectorError(e,token,injectorErrorName,source){const tokenPath=e.ngTempTokenPath;throw token.__source&&tokenPath.unshift(token.__source),e.message=formatError("\n"+e.message,tokenPath,injectorErrorName,source),e.ngTokenPath=tokenPath,e.ngTempTokenPath=null,e}function formatError(text,obj,injectorErrorName,source=null){text=text&&"\n"===text.charAt(0)&&"ɵ"==text.charAt(1)?text.substr(2):text;let context=stringify(obj);if(Array.isArray(obj))context=obj.map(stringify).join(" -> ");else if("object"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+":"+("string"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(", ")}}`}return`${injectorErrorName}${source?"("+source+")":""}[${context}]: ${text.replace(NEW_LINE,"\n  ")}`}const angularCoreDiEnv={"ɵɵdefineInjectable":ɵɵdefineInjectable,"ɵɵdefineInjector":ɵɵdefineInjector,"ɵɵinject":ɵɵinject,"ɵɵgetFactoryOf":function getFactoryOf(type){const typeAny=type;if(isForwardRef(type))return()=>{const factory=getFactoryOf(resolveForwardRef(typeAny));return factory?factory():null};const def=getInjectableDef(typeAny)||getInjectorDef(typeAny);if(!def||void 0===def.factory)return null;return def.factory},"ɵɵinvalidFactoryDep":ɵɵinvalidFactoryDep};class NgModuleRef{}class NgModuleFactory{}function assertDefined(actual,msg){null==actual&&throwError(msg,actual,null,"!=")}function throwError(msg,actual,expected,comparison){throw new Error(`ASSERTION ERROR: ${msg}`+(null==comparison?"":` [Expected=> ${expected} ${comparison} ${actual} <=Actual]`))}function addAllToArray(items,arr){for(let i=0;i<items.length;i++)arr.push(items[i])}function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}function deepForEach(input,fn){input.forEach(value=>Array.isArray(value)?deepForEach(value,fn):fn(value))}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}function core_newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}function keyValueArraySet(keyValueArray,key,value){let index=keyValueArrayIndexOf(keyValueArray,key);return index>=0?keyValueArray[1|index]=value:(index=~index,function(array,index,value1,value2){let end=array.length;if(end==index)array.push(value1,value2);else if(1===end)array.push(value2,array[0]),array[0]=value1;else{for(end--,array.push(array[end-1],array[end]);end>index;){const previousEnd=end-2;array[end]=array[previousEnd],end--}array[index]=value1,array[index+1]=value2}}(keyValueArray,index,key,value)),index}function keyValueArrayGet(keyValueArray,key){const index=keyValueArrayIndexOf(keyValueArray,key);if(index>=0)return keyValueArray[1|index]}function keyValueArrayIndexOf(keyValueArray,key){return _arrayIndexOfSorted(keyValueArray,key,1)}function _arrayIndexOfSorted(array,value,shift){let start=0,end=array.length>>shift;for(;end!==start;){const middle=start+(end-start>>1),current=array[middle<<shift];if(value===current)return middle<<shift;current>value?end=middle:start=middle+1}return~(end<<shift)}const ChangeDetectionStrategy={OnPush:0,Default:1};ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default]="Default";const ChangeDetectorStatus={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce]="CheckOnce",ChangeDetectorStatus[ChangeDetectorStatus.Checked]="Checked",ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways]="CheckAlways",ChangeDetectorStatus[ChangeDetectorStatus.Detached]="Detached",ChangeDetectorStatus[ChangeDetectorStatus.Errored]="Errored",ChangeDetectorStatus[ChangeDetectorStatus.Destroyed]="Destroyed";const ViewEncapsulation$1={Emulated:0,Native:1,None:2,ShadowDom:3};ViewEncapsulation$1[ViewEncapsulation$1.Emulated]="Emulated",ViewEncapsulation$1[ViewEncapsulation$1.Native]="Native",ViewEncapsulation$1[ViewEncapsulation$1.None]="None",ViewEncapsulation$1[ViewEncapsulation$1.ShadowDom]="ShadowDom";const EMPTY_OBJ={},EMPTY_ARRAY=[];let _renderCompCount=0;function ɵɵdefineComponent(componentDefinition){return noSideEffects(()=>{const type=componentDefinition.type,typePrototype=type.prototype,declaredInputs={},def={type:type,providersResolver:null,decls:componentDefinition.decls,vars:componentDefinition.vars,factory:null,template:componentDefinition.template||null,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,hostVars:componentDefinition.hostVars||0,hostAttrs:componentDefinition.hostAttrs||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onChanges:null,onInit:typePrototype.ngOnInit||null,doCheck:typePrototype.ngDoCheck||null,afterContentInit:typePrototype.ngAfterContentInit||null,afterContentChecked:typePrototype.ngAfterContentChecked||null,afterViewInit:typePrototype.ngAfterViewInit||null,afterViewChecked:typePrototype.ngAfterViewChecked||null,onDestroy:typePrototype.ngOnDestroy||null,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors||EMPTY_ARRAY,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation$1.Emulated,id:"c",styles:componentDefinition.styles||EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null},directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;return def.id+=_renderCompCount++,def.inputs=invertObject(componentDefinition.inputs,declaredInputs),def.outputs=invertObject(componentDefinition.outputs),feature&&feature.forEach(fn=>fn(def)),def.directiveDefs=directiveTypes?()=>("function"==typeof directiveTypes?directiveTypes():directiveTypes).map(extractDirectiveDef):null,def.pipeDefs=pipeTypes?()=>("function"==typeof pipeTypes?pipeTypes():pipeTypes).map(extractPipeDef):null,def})}function ɵɵsetComponentScope(type,directives,pipes){const def=type.ɵcmp;def.directiveDefs=()=>directives.map(extractDirectiveDef),def.pipeDefs=()=>pipes.map(extractPipeDef)}function extractDirectiveDef(type){const def=getComponentDef(type)||getDirectiveDef(type);return def}function extractPipeDef(type){const def=getPipeDef(type);return def}const autoRegisterModuleById={};function ɵɵdefineNgModule(def){const res={type:def.type,bootstrap:def.bootstrap||EMPTY_ARRAY,declarations:def.declarations||EMPTY_ARRAY,imports:def.imports||EMPTY_ARRAY,exports:def.exports||EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null};return null!=def.id&&noSideEffects(()=>{autoRegisterModuleById[def.id]=def.type}),res}function ɵɵsetNgModuleScope(type,scope){return noSideEffects(()=>{const ngModuleDef=getNgModuleDef(type,!0);ngModuleDef.declarations=scope.declarations||EMPTY_ARRAY,ngModuleDef.imports=scope.imports||EMPTY_ARRAY,ngModuleDef.exports=scope.exports||EMPTY_ARRAY})}function invertObject(obj,secondary){if(null==obj)return EMPTY_OBJ;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){let publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}const ɵɵdefineDirective=ɵɵdefineComponent;function ɵɵdefinePipe(pipeDef){return{type:pipeDef.type,name:pipeDef.name,factory:null,pure:!1!==pipeDef.pure,onDestroy:pipeDef.type.prototype.ngOnDestroy||null}}function getComponentDef(type){return type[NG_COMP_DEF]||null}function getDirectiveDef(type){return type[NG_DIR_DEF]||null}function getPipeDef(type){return type[NG_PIPE_DEF]||null}function getFactoryDef(type,throwNotFound){const hasFactoryDef=type.hasOwnProperty(NG_FACTORY_DEF);return hasFactoryDef?type[NG_FACTORY_DEF]:null}function getNgModuleDef(type,throwNotFound){const ngModuleDef=type[NG_MOD_DEF]||null;if(!ngModuleDef&&!0===throwNotFound)throw new Error(`Type ${stringify(type)} does not have 'ɵmod' property.`);return ngModuleDef}function isLView(value){return Array.isArray(value)&&"object"==typeof value[1]}function isLContainer(value){return Array.isArray(value)&&!0===value[1]}function isContentQueryHost(tNode){return 0!=(8&tNode.flags)}function isComponentHost(tNode){return 2==(2&tNode.flags)}function isDirectiveHost(tNode){return 1==(1&tNode.flags)}function isComponentDef(def){return null!==def.template}function isRootView(target){return 0!=(512&target[2])}let DOCUMENT=void 0;function getDocument(){return void 0!==DOCUMENT?DOCUMENT:"undefined"!=typeof document?document:void 0}const RendererStyleFlags3={Important:1,DashCase:2};function isProceduralRenderer(renderer){return!!renderer.listen}RendererStyleFlags3[RendererStyleFlags3.Important]="Important",RendererStyleFlags3[RendererStyleFlags3.DashCase]="DashCase";const domRendererFactory3={createRenderer:(hostElement,rendererType)=>getDocument()};function unwrapRNode(value){for(;Array.isArray(value);)value=value[0];return(value)}function getNativeByIndex(index,lView){return unwrapRNode(lView[index+19])}function getNativeByTNode(tNode,lView){const node=unwrapRNode(lView[tNode.index]);return node}function getNativeByTNodeOrNull(tNode,lView){const index=tNode.index;if(-1!==index){const node=unwrapRNode(lView[index]);return node}return null}function getTNode(tView,index){return tView.data[index+19]}function load(view,index){return view[index+19]}function getComponentLViewByIndex(nodeIndex,hostView){const slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[0]}function readPatchedData(target){return target.__ngContext__||null}function readPatchedLView(target){const value=readPatchedData(target);return value?Array.isArray(value)?value:value.lView:null}function isCreationMode(view){return 4==(4&view[2])}function viewAttachedToChangeDetector(view){return 128==(128&view[2])}function getConstant(consts,index){return null===consts||null==index?null:consts[index]}function resetPreOrderHookFlags(lView){lView[18]=0}function getLContainerActiveIndex(lContainer){return lContainer[2]>>1}const instructionState={lFrame:createLFrame(null),bindingsEnabled:!0,checkNoChangesMode:!1};function getBindingsEnabled(){return instructionState.bindingsEnabled}function ɵɵenableBindings(){instructionState.bindingsEnabled=!0}function ɵɵdisableBindings(){instructionState.bindingsEnabled=!1}function getLView(){return instructionState.lFrame.lView}function getTView(){return instructionState.lFrame.tView}function ɵɵrestoreView(viewToRestore){instructionState.lFrame.contextLView=viewToRestore}function getPreviousOrParentTNode(){return instructionState.lFrame.previousOrParentTNode}function setPreviousOrParentTNode(tNode,isParent){instructionState.lFrame.previousOrParentTNode=tNode,instructionState.lFrame.isParent=isParent}function getIsParent(){return instructionState.lFrame.isParent}function setIsNotParent(){instructionState.lFrame.isParent=!1}function getCheckNoChangesMode(){return instructionState.checkNoChangesMode}function setCheckNoChangesMode(mode){instructionState.checkNoChangesMode=mode}function getBindingRoot(){const lFrame=instructionState.lFrame;let index=lFrame.bindingRootIndex;return-1===index&&(index=lFrame.bindingRootIndex=lFrame.tView.bindingStartIndex),index}function getBindingIndex(){return instructionState.lFrame.bindingIndex}function setBindingIndex(value){return instructionState.lFrame.bindingIndex=value}function nextBindingIndex(){return instructionState.lFrame.bindingIndex++}function incrementBindingIndex(count){const lFrame=instructionState.lFrame,index=lFrame.bindingIndex;return lFrame.bindingIndex=lFrame.bindingIndex+count,index}function setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,lFrame.currentDirectiveIndex=currentDirectiveIndex}function getCurrentQueryIndex(){return instructionState.lFrame.currentQueryIndex}function setCurrentQueryIndex(value){instructionState.lFrame.currentQueryIndex=value}function enterDI(newView,tNode){const newLFrame=allocLFrame();instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView}function enterView(newView,tNode){const newLFrame=allocLFrame();const tView=newView[1];instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex}function allocLFrame(){const currentLFrame=instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?createLFrame(currentLFrame):childLFrame}function createLFrame(parent){const lFrame={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:parent,child:null};return null!==parent&&(parent.child=lFrame),lFrame}function leaveViewLight(){const oldLFrame=instructionState.lFrame;return instructionState.lFrame=oldLFrame.parent,oldLFrame.previousOrParentTNode=null,oldLFrame.lView=null,oldLFrame}const leaveDI=leaveViewLight;function leaveView(){const oldLFrame=leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=0,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.currentSanitizer=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function nextContextImpl(level){return(instructionState.lFrame.contextLView=function(nestingLevel,currentView){for(;nestingLevel>0;)currentView=currentView[15],nestingLevel--;return currentView}(level,instructionState.lFrame.contextLView))[8]}function getSelectedIndex(){return instructionState.lFrame.selectedIndex}function setSelectedIndex(index){instructionState.lFrame.selectedIndex=index}function getSelectedTNode(){const lFrame=instructionState.lFrame;return getTNode(lFrame.tView,lFrame.selectedIndex)}function ɵɵnamespaceSVG(){instructionState.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ɵɵnamespaceMathML(){instructionState.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function ɵɵnamespaceHTML(){instructionState.lFrame.currentNamespace=null}function setCurrentStyleSanitizer(sanitizer){instructionState.lFrame.currentSanitizer=sanitizer}function registerPostOrderHooks(tView,tNode){for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const directiveDef=tView.data[i];directiveDef.afterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,directiveDef.afterContentInit),directiveDef.afterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,directiveDef.afterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,directiveDef.afterContentChecked)),directiveDef.afterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,directiveDef.afterViewInit),directiveDef.afterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,directiveDef.afterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,directiveDef.afterViewChecked)),null!=directiveDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,directiveDef.onDestroy)}}function executeCheckHooks(lView,hooks,nodeIndex){callHooks(lView,hooks,3,nodeIndex)}function executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){(3&lView[2])===initPhase&&callHooks(lView,hooks,initPhase,nodeIndex)}function incrementInitPhaseFlags(lView,initPhase){let flags=lView[2];(3&flags)===initPhase&&(flags&=1023,flags+=1,lView[2]=flags)}function callHooks(currentView,arr,initPhase,currentNodeIndex){const nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1;let lastNodeIndexFound=0;for(let i=void 0!==currentNodeIndex?65535&currentView[18]:0;i<arr.length;i++){if("number"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else{arr[i]<0&&(currentView[18]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[18]=(4294901760&currentView[18])+i+2),i++}}}function callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];if(isInitHook){currentView[2]>>10<currentView[18]>>16&&(3&currentView[2])===initPhase&&(currentView[2]+=1024,hook.call(directive))}else hook.call(directive)}class NodeInjectorFactory{constructor(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function setUpAttributes(renderer,native,attrs){const isProc=isProceduralRenderer(renderer);let i=0;for(;i<attrs.length;){const value=attrs[i];if("number"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{const attrName=value,attrVal=attrs[++i];isAnimationProp(attrName)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}return i}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}function isAnimationProp(name){return 64===name.charCodeAt(0)}function mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];"number"==typeof item?srcMarker=item:0===srcMarker||mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if("number"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if("number"==typeof item)break;if(item===key1){if(null===key2)return void(null!==value&&(dst[i+1]=value));if(key2===dst[i+1])return void(dst[i+2]=value)}i++,null!==key2&&i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==key2&&dst.splice(i++,0,key2),null!==value&&dst.splice(i++,0,value)}function hasParentInjector(parentLocation){return-1!==parentLocation}function getParentInjectorIndex(parentLocation){return 32767&parentLocation}function getParentInjectorViewOffset(parentLocation){return parentLocation>>16}function getParentInjectorView(location,startView){let viewOffset=getParentInjectorViewOffset(location),parentView=startView;for(;viewOffset>0;)parentView=parentView[15],viewOffset--;return parentView}function renderStringify(value){return"string"==typeof value?value:null==value?"":""+value}function stringifyForError(value){return"function"==typeof value?value.name||value.toString():"object"==typeof value&&null!=value&&"function"==typeof value.type?value.type.name||value.type.toString():renderStringify(value)}const defaultScheduler=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global);function ɵɵresolveWindow(element){return{name:"window",target:element.ownerDocument.defaultView}}function ɵɵresolveDocument(element){return{name:"document",target:element.ownerDocument}}function ɵɵresolveBody(element){return{name:"body",target:element.ownerDocument.body}}function maybeUnwrapFn(value){return value instanceof Function?value():value}let includeViewProviders=!0;function setIncludeViewProviders(v){const oldValue=includeViewProviders;return includeViewProviders=v,oldValue}let nextNgElementId=0;function getOrCreateNodeInjectorForNode(tNode,hostView){const existingInjectorIndex=getInjectorIndex(tNode,hostView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=hostView[1];tView.firstCreatePass&&(tNode.injectorIndex=hostView.length,insertBloom(tView.data,tNode),insertBloom(hostView,null),insertBloom(tView.blueprint,null));const parentLoc=getParentInjectorLocation(tNode,hostView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc)){const parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,hostView),parentData=parentLView[1].data;for(let i=0;i<8;i++)hostView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return hostView[injectorIndex+8]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,hostView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null==hostView[tNode.injectorIndex+8]?-1:tNode.injectorIndex}function getParentInjectorLocation(tNode,view){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let hostTNode=view[6],viewOffset=1;for(;hostTNode&&-1===hostTNode.injectorIndex;)hostTNode=(view=view[15])?view[6]:null,viewOffset++;return hostTNode?hostTNode.injectorIndex|viewOffset<<16:-1}function diPublicInInjector(injectorIndex,tView,token){!function(injectorIndex,tView,type){let id="string"!=typeof type?type[NG_ELEMENT_ID]:type.charCodeAt(0)||0;null==id&&(id=type[NG_ELEMENT_ID]=nextNgElementId++);const bloomBit=255&id,mask=1<<bloomBit,b7=128&bloomBit,b6=64&bloomBit,b5=32&bloomBit,tData=tView.data;b7?b6?b5?tData[injectorIndex+7]|=mask:tData[injectorIndex+6]|=mask:b5?tData[injectorIndex+5]|=mask:tData[injectorIndex+4]|=mask:b6?b5?tData[injectorIndex+3]|=mask:tData[injectorIndex+2]|=mask:b5?tData[injectorIndex+1]|=mask:tData[injectorIndex]|=mask}(injectorIndex,tView,token)}function getOrCreateInjectable(tNode,lView,token,flags=InjectFlags.Default,notFoundValue){if(null!==tNode){const bloomHash=function(token){if("string"==typeof token)return token.charCodeAt(0)||0;const tokenId=token[NG_ELEMENT_ID];return"number"==typeof tokenId&&tokenId>0?255&tokenId:tokenId}(token);if("function"==typeof bloomHash){enterDI(lView,tNode);try{const value=bloomHash();if(null!=value||flags&InjectFlags.Optional)return value;throw new Error(`No provider for ${stringifyForError(token)}!`)}finally{leaveDI()}}else if("number"==typeof bloomHash){if(-1===bloomHash)return new NodeInjector(tNode,lView);let previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=-1,hostTElementNode=flags&InjectFlags.Host?lView[16][6]:null;for((-1===injectorIndex||flags&InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],shouldSearchParent(flags,!1)?(previousTView=lView[1],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){parentLocation=lView[injectorIndex+8];const tView=lView[1];if(bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}shouldSearchParent(flags,lView[1].data[injectorIndex+8]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}if(flags&InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(InjectFlags.Self|InjectFlags.Host))){const moduleInjector=lView[9],previousInjectImplementation=setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&InjectFlags.Optional):injectRootLimpMode(token,notFoundValue,flags&InjectFlags.Optional)}finally{setInjectImplementation(previousInjectImplementation)}}if(flags&InjectFlags.Optional)return notFoundValue;throw new Error(`NodeInjector: NOT_FOUND [${stringifyForError(token)}]`)}const NOT_FOUND={};function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[1],tNode=currentTView.data[injectorIndex+8],injectableIdx=locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?isComponentHost(tNode)&&includeViewProviders:previousTView!=currentTView&&3===tNode.type,flags&InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(lView,currentTView,injectableIdx,tNode):NOT_FOUND}function locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=65535&nodeProviderIndexes,directivesStart=tNode.directiveStart,directiveEnd=tNode.directiveEnd,cptViewProvidersCount=nodeProviderIndexes>>16,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}function getNodeInjectable(lView,tView,index,tNode){let value=lView[index];const tData=tView.data;if(value instanceof NodeInjectorFactory){const factory=value;if(factory.resolving)throw new Error(`Circular dep for ${stringifyForError(tData[index])}`);const previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);let previousInjectImplementation;factory.resolving=!0,factory.injectImpl&&(previousInjectImplementation=setInjectImplementation(factory.injectImpl)),enterDI(lView,tNode);try{value=lView[index]=factory.factory(void 0,tData,lView,tNode),tView.firstCreatePass&&index>=tNode.directiveStart&&function(directiveIndex,directiveDef,tView){const{onChanges:onChanges,onInit:onInit,doCheck:doCheck}=directiveDef;onChanges&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,onChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,onChanges)),onInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(-directiveIndex,onInit),doCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,doCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,doCheck))}(index,tData[index],tView)}finally{factory.injectImpl&&setInjectImplementation(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,leaveDI()}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){const mask=1<<bloomHash,b6=64&bloomHash,b5=32&bloomHash;let value;return value=128&bloomHash?b6?b5?injectorView[injectorIndex+7]:injectorView[injectorIndex+6]:b5?injectorView[injectorIndex+5]:injectorView[injectorIndex+4]:b6?b5?injectorView[injectorIndex+3]:injectorView[injectorIndex+2]:b5?injectorView[injectorIndex+1]:injectorView[injectorIndex],!!(value&mask)}function shouldSearchParent(flags,isFirstHostTNode){return!(flags&InjectFlags.Self||flags&InjectFlags.Host&&isFirstHostTNode)}class NodeInjector{constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue){return getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)}}function ɵɵgetFactoryOf(type){const typeAny=type;if(isForwardRef(type))return()=>{const factory=ɵɵgetFactoryOf(resolveForwardRef(typeAny));return factory?factory():null};let factory=getFactoryDef(typeAny);if(null===factory){const injectorDef=getInjectorDef(typeAny);factory=injectorDef&&injectorDef.factory}return factory||null}function ɵɵgetInheritedFactory(type){return noSideEffects(()=>{const proto=Object.getPrototypeOf(type.prototype).constructor,factory=proto[NG_FACTORY_DEF]||ɵɵgetFactoryOf(proto);return null!==factory?factory:t=>new t})}function getDebugContext(error){return error.ngDebugContext}function getOriginalError(error){return error.ngOriginalError}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error.ngErrorLogger||defaultErrorLogger}(error);errorLogger(this._console,"ERROR",error),originalError&&errorLogger(this._console,"ORIGINAL ERROR",originalError),context&&errorLogger(this._console,"ERROR CONTEXT",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(value){return value instanceof SafeValueImpl?value.changingThisBreaksApplicationSecurity:value}function allowSanitizationBypassAndThrow(value,type){const actualType=getSanitizationBypassType(value);if(null!=actualType&&actualType!==type){if("ResourceURL"===actualType&&"URL"===type)return!0;throw new Error(`Required a safe ${type}, got a ${actualType} (see http://g.co/ng/security#xss)`)}return actualType===type}function getSanitizationBypassType(value){return value instanceof SafeValueImpl&&value.getTypeName()||null}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}class InertBodyHelper{constructor(defaultDoc){this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let inertBodyElement=this.inertDocument.body;if(null==inertBodyElement){const inertHtml=this.inertDocument.createElement("html");this.inertDocument.appendChild(inertHtml),inertBodyElement=this.inertDocument.createElement("body"),inertHtml.appendChild(inertBodyElement)}inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!inertBodyElement.querySelector||inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',inertBodyElement.querySelector&&inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(html){html="<body><remove></remove>"+html+"</body>";try{html=encodeURI(html)}catch(_a){return null}const xhr=new XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(void 0);const body=xhr.response.body;return body.removeChild(body.firstChild),body}getInertBodyElement_DOMParser(html){html="<body><remove></remove>"+html+"</body>";try{const body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.removeChild(body.firstChild),body}catch(_a){return null}}getInertBodyElement_InertDocument(html){const templateEl=this.inertDocument.createElement("template");if("content"in templateEl)return templateEl.innerHTML=html,templateEl;const inertBody=this.inertDocument.createElement("body");return inertBody.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(inertBody),inertBody}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`),"unsafe:"+url)}function sanitizeSrcset(srcset){return(srcset=String(srcset)).split(",").map(srcset=>_sanitizeUrl(srcset.trim())).join(", ")}function tagSet(tags){const res={};for(const t of tags.split(","))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ARIA_ATTRS=tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS,ARIA_ATTRS),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join("")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(value=sanitizeSrcset(value)),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}return this.buf.push(">"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(match){return"&#"+match.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let inertBodyHelper;function _sanitizeHtml(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),safeHtml}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}function getTemplateContent(el){return"content"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}const SecurityContext={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};SecurityContext[SecurityContext.NONE]="NONE",SecurityContext[SecurityContext.HTML]="HTML",SecurityContext[SecurityContext.STYLE]="STYLE",SecurityContext[SecurityContext.SCRIPT]="SCRIPT",SecurityContext[SecurityContext.URL]="URL",SecurityContext[SecurityContext.RESOURCE_URL]="RESOURCE_URL";const SAFE_STYLE_VALUE=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),URL_RE=/^url\(([^)]+)\)$/;function _sanitizeStyle(value){if(!(value=String(value).trim()))return"";const urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function(value){let outsideSingle=!0,outsideDouble=!0;for(let i=0;i<value.length;i++){const c=value.charAt(i);"'"===c&&outsideDouble?outsideSingle=!outsideSingle:'"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`),"unsafe")}function ɵɵsanitizeHtml(unsafeHtml){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.HTML,unsafeHtml)||"":allowSanitizationBypassAndThrow(unsafeHtml,"HTML")?unwrapSafeValue(unsafeHtml):_sanitizeHtml(getDocument(),renderStringify(unsafeHtml))}function ɵɵsanitizeStyle(unsafeStyle){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.STYLE,unsafeStyle)||"":allowSanitizationBypassAndThrow(unsafeStyle,"Style")?unwrapSafeValue(unsafeStyle):_sanitizeStyle(renderStringify(unsafeStyle))}function ɵɵsanitizeUrl(unsafeUrl){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.URL,unsafeUrl)||"":allowSanitizationBypassAndThrow(unsafeUrl,"URL")?unwrapSafeValue(unsafeUrl):_sanitizeUrl(renderStringify(unsafeUrl))}function ɵɵsanitizeResourceUrl(unsafeResourceUrl){const sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.RESOURCE_URL,unsafeResourceUrl)||"";if(allowSanitizationBypassAndThrow(unsafeResourceUrl,"ResourceURL"))return unwrapSafeValue(unsafeResourceUrl);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function ɵɵsanitizeScript(unsafeScript){const sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.SCRIPT,unsafeScript)||"";if(allowSanitizationBypassAndThrow(unsafeScript,"Script"))return unwrapSafeValue(unsafeScript);throw new Error("unsafe value used in a script context")}function ɵɵsanitizeUrlOrResourceUrl(unsafeUrl,tag,prop){return function(tag,prop){return"src"===prop&&("embed"===tag||"frame"===tag||"iframe"===tag||"media"===tag||"script"===tag)||"href"===prop&&("base"===tag||"link"===tag)?ɵɵsanitizeResourceUrl:ɵɵsanitizeUrl}(tag,prop)(unsafeUrl)}const ɵɵdefaultStyleSanitizer=function(prop,value,mode){if(void 0===value&&void 0===mode)return ɵɵsanitizeStyle(prop);let doSanitizeValue=!0;return 1&(mode=mode||3)&&(doSanitizeValue=stylePropNeedsSanitization(prop)),2&mode?doSanitizeValue?ɵɵsanitizeStyle(value):unwrapSafeValue(value):doSanitizeValue};function stylePropNeedsSanitization(prop){return"background-image"===prop||"backgroundImage"===prop||"background"===prop||"border-image"===prop||"borderImage"===prop||"border-image-source"===prop||"borderImageSource"===prop||"filter"===prop||"list-style"===prop||"listStyle"===prop||"list-style-image"===prop||"listStyleImage"===prop||"clip-path"===prop||"clipPath"===prop}function getSanitizer(){const lView=getLView();return lView&&lView[12]}function normalizeDebugBindingName(name){var input;return input=name.replace(/[$@]/g,"_"),`ng-reflect-${name=input.replace(CAMEL_CASE_REGEXP,(...m)=>"-"+m[1].toLowerCase())}`}const CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function getLContext(target){let mpValue=readPatchedData(target);if(mpValue){if(Array.isArray(mpValue)){const lView=mpValue;let nodeIndex,component=void 0,directives=void 0;if((instance=target)&&instance.constructor&&instance.constructor.ɵcmp){if(nodeIndex=findViaComponent(lView,target),-1==nodeIndex)throw new Error("The provided component was not found in the application");component=target}else if(function(instance){return instance&&instance.constructor&&instance.constructor.ɵdir}(target)){if(nodeIndex=function(lView,directiveInstance){let tNode=lView[1].firstChild;for(;tNode;){const directiveIndexStart=tNode.directiveStart,directiveIndexEnd=tNode.directiveEnd;for(let i=directiveIndexStart;i<directiveIndexEnd;i++)if(lView[i]===directiveInstance)return tNode.index;tNode=traverseNextElement(tNode)}return-1}(lView,target),-1==nodeIndex)throw new Error("The provided directive was not found in the application");directives=getDirectivesAtNodeIndex(nodeIndex,lView,!1)}else if(nodeIndex=findViaNativeElement(lView,target),-1==nodeIndex)return null;const native=unwrapRNode(lView[nodeIndex]),existingCtx=readPatchedData(native),context=existingCtx&&!Array.isArray(existingCtx)?existingCtx:createLContext(lView,nodeIndex,native);if(component&&void 0===context.component&&(context.component=component,attachPatchData(context.component,context)),directives&&void 0===context.directives){context.directives=directives;for(let i=0;i<directives.length;i++)attachPatchData(directives[i],context)}attachPatchData(context.native,context),mpValue=context}}else{const rElement=target;let parent=rElement;for(;parent=parent.parentNode;){const parentContext=readPatchedData(parent);if(parentContext){let lView;if(lView=Array.isArray(parentContext)?parentContext:parentContext.lView,!lView)return null;const index=findViaNativeElement(lView,rElement);if(index>=0){const native=unwrapRNode(lView[index]),context=createLContext(lView,index,native);attachPatchData(native,context),mpValue=context;break}}}}var instance;return(mpValue||null)}function createLContext(lView,nodeIndex,native){return{lView:lView,nodeIndex:nodeIndex,native:native,component:void 0,directives:void 0,localRefs:void 0}}function attachPatchData(target,data){target.__ngContext__=data}function findViaNativeElement(lView,target){let tNode=lView[1].firstChild;for(;tNode;){if(getNativeByTNodeOrNull(tNode,lView)===target)return tNode.index;tNode=traverseNextElement(tNode)}return-1}function traverseNextElement(tNode){if(tNode.child)return tNode.child;if(tNode.next)return tNode.next;for(;tNode.parent&&!tNode.parent.next;)tNode=tNode.parent;return tNode.parent&&tNode.parent.next}function findViaComponent(lView,componentInstance){const componentIndices=lView[1].components;if(componentIndices)for(let i=0;i<componentIndices.length;i++){const elementComponentIndex=componentIndices[i];if(getComponentLViewByIndex(elementComponentIndex,lView)[8]===componentInstance)return elementComponentIndex}else{if(getComponentLViewByIndex(19,lView)[8]===componentInstance)return 19}return-1}function getDirectivesAtNodeIndex(nodeIndex,lView,includeComponents){const tNode=lView[1].data[nodeIndex];let directiveStartIndex=tNode.directiveStart;if(0==directiveStartIndex)return EMPTY_ARRAY;const directiveEndIndex=tNode.directiveEnd;return!includeComponents&&2&tNode.flags&&directiveStartIndex++,lView.slice(directiveStartIndex,directiveEndIndex)}function throwMultipleComponentError(tNode){throw new Error(`Multiple components match node with tagname ${tNode.tagName}`)}function throwMixedMultiProviderError(){throw new Error("Cannot mix multi providers and regular providers")}function classIndexOf(className,classToSearch,startingIndex){let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}function isCssClassMatching(attrs,cssClassToMatch,isProjectionMode){let i=0;for(;i<attrs.length;){let item=attrs[i++];if(isProjectionMode&&"class"===item){if(item=attrs[i],-1!==classIndexOf(item.toLowerCase(),cssClassToMatch,0))return!0}else if(1===item){for(;i<attrs.length&&"string"==typeof(item=attrs[i++]);)if(item.toLowerCase()===cssClassToMatch)return!0;return!1}}return!1}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(0!==tNode.type||isProjectionMode?tNode.tagName:"ng-template")}function isNodeMatchingSelector(tNode,selector,isProjectionMode){let mode=4;const nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++){if(isNameOnlyAttributeMarker(nodeAttrs[i]))return i}return nodeAttrs.length}(nodeAttrs);let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if("number"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,""!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||""===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&null!==tNode.attrs){if(!isCssClassMatching(tNode.attrs,selectorAttrValue,isProjectionMode)){if(isPositive(mode))return!1;skipToNextSelector=!0}continue}const attrIndexInNode=findAttrIndexInNode(8&mode?"class":current,nodeAttrs,0==tNode.type&&"ng-template"!==tNode.tagName,isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(""!==selectorAttrValue){let nodeAttrValue;nodeAttrValue=attrIndexInNode>nameOnlyMarkerIdx?"":nodeAttrs[attrIndexInNode+1].toLowerCase();const compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&-1!==classIndexOf(compareAgainstClassName,selectorAttrValue,0)||2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return 0==(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;"string"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){if(attrs[i]===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function isSelectorInSelectorList(selector,list){selectorListLoop:for(let i=0;i<list.length;i++){const currentSelectorInList=list[i];if(selector.length===currentSelectorInList.length){for(let j=0;j<selector.length;j++)if(selector[j]!==currentSelectorInList[j])continue selectorListLoop;return!0}}return!1}function maybeWrapInNotSelector(isNegativeMode,chunk){return isNegativeMode?":not("+chunk.trim()+")":chunk}function stringifyCSSSelector(selector){let result=selector[0],i=1,mode=2,currentChunk="",isNegativeMode=!1;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)if(2&mode){const attrValue=selector[++i];currentChunk+="["+valueOrMarker+(attrValue.length>0?'="'+attrValue+'"':"")+"]"}else 8&mode?currentChunk+="."+valueOrMarker:4&mode&&(currentChunk+=" "+valueOrMarker);else""===currentChunk||isPositive(valueOrMarker)||(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk),currentChunk=""),mode=valueOrMarker,isNegativeMode=isNegativeMode||!isPositive(mode);i++}return""!==currentChunk&&(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk)),result}const NO_CHANGE={};function getLViewParent(lView){const parent=lView[3];return isLContainer(parent)?parent[3]:parent}function ɵɵadvance(delta){selectIndexInternal(getTView(),getLView(),getSelectedIndex()+delta,getCheckNoChangesMode())}function ɵɵselect(index){selectIndexInternal(getTView(),getLView(),index,getCheckNoChangesMode())}function selectIndexInternal(tView,lView,index,checkNoChangesMode){if(!checkNoChangesMode){if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,index)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,index)}}setSelectedIndex(index)}const ELEMENT_MARKER={marker:"element"},COMMENT_MARKER={marker:"comment"};function toTStylingRange(prev,next){return prev<<17|next<<2}function getTStylingRangePrev(tStylingRange){return tStylingRange>>17&32767}function getTStylingRangePrevDuplicate(tStylingRange){return 2==(2&tStylingRange)}function setTStylingRangePrevDuplicate(tStylingRange){return 2|tStylingRange}function getTStylingRangeNext(tStylingRange){return(131068&tStylingRange)>>2}function setTStylingRangeNext(tStylingRange,next){return-131069&tStylingRange|next<<2}function getTStylingRangeNextDuplicate(tStylingRange){return 1==(1&tStylingRange)}function setTStylingRangeNextDuplicate(tStylingRange){return 1|tStylingRange}const _CLEAN_PROMISE=Promise.resolve(null);function refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries)for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function elementCreate(name,renderer,namespace){return isProceduralRenderer(renderer)?renderer.createElement(name,namespace):null===namespace?renderer.createElement(name):renderer.createElementNS(namespace,name)}function createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){const lView=tView.blueprint.slice();return lView[0]=host,lView[2]=140|flags,resetPreOrderHookFlags(lView),lView[3]=lView[15]=parentLView,lView[8]=context,lView[10]=rendererFactory||parentLView&&parentLView[10],lView[11]=renderer||parentLView&&parentLView[11],lView[12]=sanitizer||parentLView&&parentLView[12]||null,lView[9]=injector||parentLView&&parentLView[9]||null,lView[6]=tHostNode,lView[16]=2==tView.type?parentLView[16]:lView,lView}function getOrCreateTNode(tView,tHostNode,index,type,name,attrs){const adjustedIndex=index+19,tNode=tView.data[adjustedIndex]||function(tView,tHostNode,adjustedIndex,type,name,attrs){const previousOrParentTNode=getPreviousOrParentTNode(),isParent=getIsParent(),parent=isParent?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent,tParentNode=parent&&parent!==tHostNode?parent:null,tNode=tView.data[adjustedIndex]=createTNode(tView,tParentNode,type,adjustedIndex,name,attrs);null===tView.firstChild&&(tView.firstChild=tNode);previousOrParentTNode&&(!isParent||null!=previousOrParentTNode.child||null===tNode.parent&&2!==previousOrParentTNode.type?isParent||(previousOrParentTNode.next=tNode):previousOrParentTNode.child=tNode);return tNode}(tView,tHostNode,adjustedIndex,type,name,attrs);return setPreviousOrParentTNode(tNode,!0),tNode}function assignTViewNodeToLView(tView,tParentNode,index,lView){let tNode=tView.node;return null==tNode&&(tView.node=tNode=createTNode(tView,tParentNode,2,index,null,null)),lView[6]=tNode}function renderView(tView,lView,context){enterView(lView,lView[6]);try{const viewQuery=tView.viewQuery;null!==viewQuery&&executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),tView.staticContentQueries&&refreshContentQueries(tView,lView),tView.staticViewQueries&&executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)renderComponent(hostLView,components[i])}(lView,components)}finally{lView[2]&=-5,leaveView()}}function refreshView(tView,lView,templateFn,context){const flags=lView[2];if(256==(256&flags))return;enterView(lView,lView[6]);const checkNoChangesMode=getCheckNoChangesMode();try{resetPreOrderHookFlags(lView),setBindingIndex(tView.bindingStartIndex),null!==templateFn&&executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=3==(3&flags);if(!checkNoChangesMode)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}if(function(lView){let viewOrContainer=lView[13];for(;null!==viewOrContainer;){let activeIndexFlag;if(isLContainer(viewOrContainer)&&(activeIndexFlag=viewOrContainer[2])>>1==-1){for(let i=9;i<viewOrContainer.length;i++){const embeddedLView=viewOrContainer[i],embeddedTView=embeddedLView[1];viewAttachedToChangeDetector(embeddedLView)&&refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}0!=(1&activeIndexFlag)&&refreshTransplantedViews(viewOrContainer,lView[16])}viewOrContainer=viewOrContainer[4]}}(lView),null!==tView.contentQueries&&refreshContentQueries(tView,lView),!checkNoChangesMode)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&executeInitAndCheckHooks(lView,contentHooks,1),incrementInitPhaseFlags(lView,1)}!function(tView,lView){try{const expandoInstructions=tView.expandoInstructions;if(null!==expandoInstructions){let bindingRootIndex=tView.expandoStartIndex,currentDirectiveIndex=-1,currentElementIndex=-1;for(let i=0;i<expandoInstructions.length;i++){const instruction=expandoInstructions[i];if("number"==typeof instruction)if(instruction<=0){currentElementIndex=0-instruction,setSelectedIndex(currentElementIndex),bindingRootIndex+=9+expandoInstructions[++i],currentDirectiveIndex=bindingRootIndex}else bindingRootIndex+=instruction;else{if(null!==instruction){setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex),instruction(2,lView[currentDirectiveIndex])}currentDirectiveIndex++}}}}finally{setSelectedIndex(-1)}}(tView,lView);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)refreshComponent(hostLView,components[i])}(lView,components);const viewQuery=tView.viewQuery;if(null!==viewQuery&&executeViewQueryFn(2,viewQuery,context),!checkNoChangesMode)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&executeInitAndCheckHooks(lView,viewHooks,2),incrementInitPhaseFlags(lView,2)}!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),checkNoChangesMode||(lView[2]&=-73)}finally{leaveView()}}function renderComponentOrTemplate(tView,lView,templateFn,context){const rendererFactory=lView[10],normalExecutionPath=!getCheckNoChangesMode(),creationModeIsActive=isCreationMode(lView);try{normalExecutionPath&&!creationModeIsActive&&rendererFactory.begin&&rendererFactory.begin(),creationModeIsActive&&renderView(tView,lView,context),refreshView(tView,lView,templateFn,context)}finally{normalExecutionPath&&!creationModeIsActive&&rendererFactory.end&&rendererFactory.end()}}function executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=getSelectedIndex();try{setSelectedIndex(-1),2&rf&&lView.length>19&&selectIndexInternal(tView,lView,0,getCheckNoChangesMode()),templateFn(rf,context)}finally{setSelectedIndex(prevSelectedIndex)}}function executeContentQueries(tView,tNode,lView){if(isContentQueryHost(tNode)){const start=tNode.directiveStart,end=tNode.directiveEnd;for(let directiveIndex=start;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}}function createDirectivesInstances(tView,lView,tNode){getBindingsEnabled()&&(function(tView,lView,tNode,native){const start=tNode.directiveStart,end=tNode.directiveEnd;tView.firstCreatePass||getOrCreateNodeInjectorForNode(tNode,lView);attachPatchData(native,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],isComponent=isComponentDef(def);isComponent&&addComponentLogic(lView,tNode,def);const directive=getNodeInjectable(lView,tView,i,tNode);if(attachPatchData(directive,lView),null!==initialInputs&&setInputsFromAttrs(lView,i-start,directive,def,tNode,initialInputs),isComponent){getComponentLViewByIndex(tNode.index,lView)[8]=directive}}}(tView,lView,tNode,getNativeByTNode(tNode,lView)),128==(128&tNode.flags)&&function(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,expando=tView.expandoInstructions,firstCreatePass=tView.firstCreatePass,elementIndex=tNode.index-19;try{setSelectedIndex(elementIndex);for(let i=start;i<end;i++){const def=tView.data[i],directive=lView[i];null!==def.hostBindings||0!==def.hostVars||null!==def.hostAttrs?invokeHostBindingsInCreationMode(def,directive):firstCreatePass&&expando.push(null)}}finally{setSelectedIndex(-1)}}(tView,lView,tNode))}function saveResolvedLocalsInData(viewData,tNode,localRefExtractor=getNativeByTNode){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}function getOrCreateTComponentView(def){return def.tView||(def.tView=createTView(1,-1,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts))}function createTView(type,viewIndex,templateFn,decls,vars,directives,pipes,viewQuery,schemas,consts){const bindingStartIndex=19+decls,initialViewLength=bindingStartIndex+vars,blueprint=function(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:NO_CHANGE);return(blueprint)}(bindingStartIndex,initialViewLength);return blueprint[1]={type:type,id:viewIndex,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,node:null,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof directives?directives():directives,pipeRegistry:"function"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas,consts:consts}}function locateHostElement(renderer,elementOrSelector,encapsulation){if(isProceduralRenderer(renderer)){const preserveContent=encapsulation===ViewEncapsulation$1.ShadowDom;return renderer.selectRootElement(elementOrSelector,preserveContent)}let rElement="string"==typeof elementOrSelector?renderer.querySelector(elementOrSelector):elementOrSelector;return rElement.textContent="",rElement}function createTNode(tView,tParent,type,adjustedIndex,tagName,attrs){let injectorIndex=tParent?tParent.injectorIndex:-1;return{type:type,index:adjustedIndex,injectorIndex:injectorIndex,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:tagName,attrs:attrs,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function generatePropertyAliases(inputAliasMap,directiveDefIdx,propStore){for(let publicName in inputAliasMap)if(inputAliasMap.hasOwnProperty(publicName)){propStore=null===propStore?{}:propStore;const internalName=inputAliasMap[publicName];propStore.hasOwnProperty(publicName)?propStore[publicName].push(directiveDefIdx,internalName):propStore[publicName]=[directiveDefIdx,internalName]}return propStore}function elementPropertyInternal(tView,tNode,lView,propName,value,renderer,sanitizer,nativeOnly){const element=getNativeByTNode(tNode,lView);let dataValue,inputData=tNode.inputs;var name;!nativeOnly&&null!=inputData&&(dataValue=inputData[propName])?(setInputsForProperty(tView,lView,dataValue,propName,value),isComponentHost(tNode)&&function(lView,viewIndex){const childComponentLView=getComponentLViewByIndex(viewIndex,lView);16&childComponentLView[2]||(childComponentLView[2]|=64)}(lView,tNode.index)):3===tNode.type?(propName="class"===(name=propName)?"className":"for"===name?"htmlFor":"formaction"===name?"formAction":"innerHtml"===name?"innerHTML":"readonly"===name?"readOnly":"tabindex"===name?"tabIndex":name,value=null!=sanitizer?sanitizer(value,tNode.tagName||"",propName):value,isProceduralRenderer(renderer)?renderer.setProperty(element,propName,value):isAnimationProp(propName)||(element.setProperty?element.setProperty(propName,value):element[propName]=value)):tNode.type}function resolveDirectives(tView,lView,tNode,localRefs){let hasDirectives=!1;if(getBindingsEnabled()){const directiveDefs=function(tView,viewData,tNode){const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=[]),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),isComponentDef(def)?(2&tNode.flags&&throwMultipleComponentError(tNode),markAsComponentHost(tView,tNode),matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=null===localRefs?null:{"":-1};if(null!==directiveDefs){let totalDirectiveHostVars=0;hasDirectives=!0,initTNodeFlags(tNode,tView.data.length,directiveDefs.length);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];def.providersResolver&&def.providersResolver(def)}generateExpandoInstructionBlock(tView,tNode,directiveDefs.length);let preOrderHooksFound=!1,preOrderCheckHooksFound=!1;for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),baseResolveDirective(tView,lView,def),saveNameToExportMap(tView.data.length-1,def,exportsMap),null!==def.contentQueries&&(tNode.flags|=8),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=128),!preOrderHooksFound&&(def.onChanges||def.onInit||def.doCheck)&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(tNode.index-19),preOrderHooksFound=!0),preOrderCheckHooksFound||!def.onChanges&&!def.doCheck||((tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(tNode.index-19),preOrderCheckHooksFound=!0),addHostBindingsToExpandoInstructions(tView,def),totalDirectiveHostVars+=def.hostVars}!function(tView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,defs=tView.data,tNodeAttrs=tNode.attrs,inputsFromAttrs=[];let inputsStore=null,outputsStore=null;for(let i=start;i<end;i++){const directiveDef=defs[i],directiveInputs=directiveDef.inputs;inputsFromAttrs.push(null!==tNodeAttrs?generateInitialInputs(directiveInputs,tNodeAttrs):null),inputsStore=generatePropertyAliases(directiveInputs,i,inputsStore),outputsStore=generatePropertyAliases(directiveDef.outputs,i,outputsStore)}null!==inputsStore&&(inputsStore.hasOwnProperty("class")&&(tNode.flags|=16),inputsStore.hasOwnProperty("style")&&(tNode.flags|=32)),tNode.initialInputs=inputsFromAttrs,tNode.inputs=inputsStore,tNode.outputs=outputsStore}(tView,tNode),growHostVarsSpace(tView,lView,totalDirectiveHostVars)}exportsMap&&function(tNode,localRefs,exportsMap){if(localRefs){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new Error(`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}}(tNode,localRefs,exportsMap)}return tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs),hasDirectives}function addHostBindingsToExpandoInstructions(tView,def){const expando=tView.expandoInstructions;expando.push(def.hostBindings),0!==def.hostVars&&expando.push(def.hostVars)}function growHostVarsSpace(tView,lView,count){for(let i=0;i<count;i++)lView.push(NO_CHANGE),tView.blueprint.push(NO_CHANGE),tView.data.push(null)}function invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function generateExpandoInstructionBlock(tView,tNode,directiveCount){const elementIndex=19-tNode.index,providerStartIndex=65535&tNode.providerIndexes,providerCount=tView.data.length-providerStartIndex;(tView.expandoInstructions||(tView.expandoInstructions=[])).push(elementIndex,providerCount,directiveCount)}function markAsComponentHost(tView,hostTNode){hostTNode.flags|=2,(tView.components||(tView.components=[])).push(hostTNode.index)}function saveNameToExportMap(index,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=index;isComponentDef(def)&&(exportsMap[""]=index)}}function initTNodeFlags(tNode,index,numberOfDirectives){tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}function baseResolveDirective(tView,viewData,def){tView.data.push(def);const directiveFactory=def.factory||(def.factory=getFactoryDef(def.type)),nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,isComponentDef(def),null);tView.blueprint.push(nodeInjectorFactory),viewData.push(nodeInjectorFactory)}function addComponentLogic(lView,hostTNode,def){const native=getNativeByTNode(hostTNode,lView),tView=getOrCreateTComponentView(def),rendererFactory=lView[10],componentView=addToViewTree(lView,createLView(lView,tView,null,def.onPush?64:16,native,hostTNode,rendererFactory,rendererFactory.createRenderer(native,def)));lView[hostTNode.index]=componentView}function elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace){const element=getNativeByTNode(tNode,lView),renderer=lView[11];if(null==value)isProceduralRenderer(renderer)?renderer.removeAttribute(element,name,namespace):element.removeAttribute(name);else{const strValue=null==sanitizer?renderStringify(value):sanitizer(value,tNode.tagName||"",name);isProceduralRenderer(renderer)?renderer.setAttribute(element,name,strValue,namespace):namespace?element.setAttributeNS(namespace,name,strValue):element.setAttribute(name,strValue)}}function setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs){const setInput=def.setInput;for(let i=0;i<initialInputs.length;){const publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];null!==setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}}function generateInitialInputs(inputs,attrs){let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if("number"==typeof attrName)break;inputs.hasOwnProperty(attrName)&&(null===inputsToStore&&(inputsToStore=[]),inputsToStore.push(attrName,inputs[attrName],attrs[i+1])),i+=2}else i+=2;else i+=4}return inputsToStore}function createLContainer(hostNative,currentView,native,tNode){const lContainer=new Array(hostNative,!0,-2,currentView,null,null,tNode,native,null);return lContainer}function refreshTransplantedViews(lContainer,declaredComponentLView){const movedViews=lContainer[5];for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i],insertionLContainer=movedLView[3],insertedComponentLView=insertionLContainer[3][16];if(insertedComponentLView!==declaredComponentLView){if(0==(16&insertedComponentLView[2])){const movedTView=movedLView[1];refreshView(movedTView,movedLView,movedTView.template,movedLView[8])}}}}function refreshComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView);if(viewAttachedToChangeDetector(componentView)&&80&componentView[2]){const componentTView=componentView[1];refreshView(componentTView,componentView,componentTView.template,componentView[8])}}function renderComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView),componentTView=componentView[1];!function(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView),renderView(componentTView,componentView,componentView[8])}function addToViewTree(lView,lViewOrLContainer){return lView[13]?lView[14][4]=lViewOrLContainer:lView[13]=lViewOrLContainer,lView[14]=lViewOrLContainer,lViewOrLContainer}function markViewDirty(lView){for(;lView;){lView[2]|=64;const parent=getLViewParent(lView);if(isRootView(lView)&&!parent)return lView;lView=parent}return null}function tickRootContext(rootContext){for(let i=0;i<rootContext.components.length;i++){const rootComponent=rootContext.components[i],lView=readPatchedLView(rootComponent),tView=lView[1];renderComponentOrTemplate(tView,lView,tView.template,rootComponent)}}function detectChangesInternal(tView,lView,context){const rendererFactory=lView[10];rendererFactory.begin&&rendererFactory.begin();try{refreshView(tView,lView,tView.template,context)}catch(error){throw handleError(lView,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function detectChangesInRootView(lView){tickRootContext(lView[8])}function executeViewQueryFn(flags,viewQueryFn,component){setCurrentQueryIndex(0),viewQueryFn(flags,component)}const CLEAN_PROMISE=_CLEAN_PROMISE;function getLCleanup(view){return view[7]||(view[7]=[])}function getTViewCleanup(tView){return tView.cleanup||(tView.cleanup=[])}function loadComponentRenderer(tNode,lView){return function(value){for(;Array.isArray(value);){if("object"==typeof value[1])return value;value=value[0]}return null}(lView[tNode.index])[11]}function handleError(lView,error){const injector=lView[9],errorHandler=injector?injector.get(ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}function setInputsForProperty(tView,lView,inputs,publicName,value){for(let i=0;i<inputs.length;){const index=inputs[i++],privateName=inputs[i++],instance=lView[index],def=tView.data[index];null!==def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}function textBindingInternal(lView,index,value){const element=getNativeByIndex(index,lView),renderer=lView[11];isProceduralRenderer(renderer)?renderer.setValue(element,value):element.textContent=value}function getLContainer(tNode,embeddedView){const container=embeddedView[3];return-1===tNode.index?isLContainer(container)?container:null:container}function getContainerRenderParent(tViewNode,view){const container=getLContainer(tViewNode,view);return container?nativeParentNode(view[11],container[7]):null}function applyToElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){let lContainer,isComponent=!1;isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:isLView(lNodeToHandle)&&(isComponent=!0,lNodeToHandle=lNodeToHandle[0]);const rNode=unwrapRNode(lNodeToHandle);0===action&&null!==parent?null==beforeNode?nativeAppendChild(renderer,parent,rNode):nativeInsertBefore(renderer,parent,rNode,beforeNode||null):1===action&&null!==parent?nativeInsertBefore(renderer,parent,rNode,beforeNode||null):2===action?nativeRemoveNode(renderer,rNode,isComponent):3===action&&renderer.destroyNode(rNode),null!=lContainer&&function(renderer,action,lContainer,renderParent,beforeNode){const anchor=lContainer[7],native=unwrapRNode(lContainer);anchor!==native&&applyToElementOrContainer(action,renderer,renderParent,anchor,beforeNode);for(let i=9;i<lContainer.length;i++){const lView=lContainer[i];applyView(lView[1],lView,renderer,action,renderParent,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function createTextNode(value,renderer){return isProceduralRenderer(renderer)?renderer.createText(value):renderer.createTextNode(value)}function addRemoveViewFromContainer(tView,lView,insertMode,beforeNode){const renderParent=getContainerRenderParent(tView.node,lView);if(renderParent){applyView(tView,lView,lView[11],insertMode?1:2,renderParent,beforeNode)}}function insertView(tView,lView,lContainer,index){const indexInContainer=9+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][4]=lView),index<containerLength-9?(lView[4]=lContainer[indexInContainer],addToArray(lContainer,9+index,lView)):(lContainer.push(lView),lView[4]=null),lView[3]=lContainer;const declarationLContainer=lView[17];null!==declarationLContainer&&lContainer!==declarationLContainer&&function(declarationContainer,lView){const movedViews=declarationContainer[5],insertedLContainer=lView[3];const insertedComponentLView=insertedLContainer[3][16];if(16!=(16&insertedComponentLView[2])){const declaredComponentLView=lView[16];declaredComponentLView!==insertedComponentLView&&(declarationContainer[2]|=1)}null===movedViews?declarationContainer[5]=[lView]:movedViews.push(lView)}(declarationLContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.insertView(tView),lView[2]|=128}function detachMovedView(declarationContainer,lView){const movedViews=declarationContainer[5],declaredViewIndex=movedViews.indexOf(lView);movedViews.splice(declaredViewIndex,1)}function detachView(lContainer,removeIndex){if(lContainer.length<=9)return;const indexInContainer=9+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[17];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][4]=viewToDetach[4]);const removedLView=removeFromArray(lContainer,9+removeIndex);addRemoveViewFromContainer(viewToDetach[1],viewToDetach,!1,null);const lQueries=removedLView[5];null!==lQueries&&lQueries.detachView(removedLView[1]),viewToDetach[3]=null,viewToDetach[4]=null,viewToDetach[2]&=-129}return viewToDetach}function removeView(lContainer,removeIndex){const detachedView=detachView(lContainer,removeIndex);detachedView&&destroyLView(detachedView[1],detachedView)}function destroyLView(tView,lView){if(!(256&lView[2])){const renderer=lView[11];isProceduralRenderer(renderer)&&renderer.destroyNode&&applyView(tView,lView,renderer,3,null,null),function(rootView){let lViewOrLContainer=rootView[13];if(!lViewOrLContainer)return cleanUpView(rootView[1],rootView);for(;lViewOrLContainer;){let next=null;if(isLView(lViewOrLContainer))next=lViewOrLContainer[13];else{const firstView=lViewOrLContainer[9];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[4]&&lViewOrLContainer!==rootView;)isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),lViewOrLContainer=getParentState(lViewOrLContainer,rootView);null===lViewOrLContainer&&(lViewOrLContainer=rootView),isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[4]}lViewOrLContainer=next}}(lView)}}function getParentState(lViewOrLContainer,rootView){let tNode;return isLView(lViewOrLContainer)&&(tNode=lViewOrLContainer[6])&&2===tNode.type?getLContainer(tNode,lViewOrLContainer):lViewOrLContainer[3]===rootView?null:lViewOrLContainer[3]}function cleanUpView(tView,lView){if(!(256&lView[2])){lView[2]&=-129,lView[2]|=256,function(tView,lView){let destroyHooks;if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];context instanceof NodeInjectorFactory||destroyHooks[i+1].call(context)}}(tView,lView),function(tView,lView){const tCleanup=tView.cleanup;if(null!==tCleanup){const lCleanup=lView[7];for(let i=0;i<tCleanup.length-1;i+=2)if("string"==typeof tCleanup[i]){const idxOrTargetGetter=tCleanup[i+1],target="function"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];"boolean"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[useCaptureOrSubIdx]():lCleanup[-useCaptureOrSubIdx].unsubscribe(),i+=2}else{const context=lCleanup[tCleanup[i+1]];tCleanup[i].call(context)}lView[7]=null}}(tView,lView);const hostTNode=lView[6];hostTNode&&3===hostTNode.type&&isProceduralRenderer(lView[11])&&lView[11].destroy();const declarationContainer=lView[17];if(null!==declarationContainer&&isLContainer(lView[3])){declarationContainer!==lView[3]&&detachMovedView(declarationContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.detachView(tView)}}}function getRenderParent(tView,tNode,currentView){let parentTNode=tNode.parent;for(;null!=parentTNode&&(4===parentTNode.type||5===parentTNode.type);)parentTNode=(tNode=parentTNode).parent;if(null==parentTNode){const hostTNode=currentView[6];return 2===hostTNode.type?getContainerRenderParent(hostTNode,currentView):currentView[0]}if(tNode&&5===tNode.type&&4&tNode.flags)return getNativeByTNode(tNode,currentView).parentNode;if(2&parentTNode.flags){const tData=tView.data,encapsulation=tData[tData[parentTNode.index].directiveStart].encapsulation;if(encapsulation!==ViewEncapsulation$1.ShadowDom&&encapsulation!==ViewEncapsulation$1.Native)return null}return(getNativeByTNode(parentTNode,currentView))}function nativeInsertBefore(renderer,parent,child,beforeNode){isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode):parent.insertBefore(child,beforeNode,!0)}function nativeAppendChild(renderer,parent,child){isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode):nativeAppendChild(renderer,parent,child)}function nativeParentNode(renderer,node){return isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function getNativeAnchorNode(parentTNode,lView){if(2===parentTNode.type){const lContainer=getLContainer(parentTNode,lView);return null===lContainer?null:getBeforeNodeForView(lContainer.indexOf(lView,9)-9,lContainer)}return 4===parentTNode.type||5===parentTNode.type?getNativeByTNode(parentTNode,lView):null}function appendChild(tView,lView,childEl,childTNode){const renderParent=getRenderParent(tView,childTNode,lView);if(null!=renderParent){const renderer=lView[11],anchorNode=getNativeAnchorNode(childTNode.parent||lView[6],lView);if(Array.isArray(childEl))for(let i=0;i<childEl.length;i++)nativeAppendOrInsertBefore(renderer,renderParent,childEl[i],anchorNode);else nativeAppendOrInsertBefore(renderer,renderParent,childEl,anchorNode)}}function getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=9+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[1].firstChild;if(null!==firstTNodeOfView)return function getFirstNativeNode(lView,tNode){if(null!==tNode){const tNodeType=tNode.type;if(3===tNodeType)return getNativeByTNode(tNode,lView);if(0===tNodeType)return getBeforeNodeForView(-1,lView[tNode.index]);if(4===tNodeType||5===tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return isLContainer(rNodeOrLContainer)?getBeforeNodeForView(-1,rNodeOrLContainer):unwrapRNode(rNodeOrLContainer)}}{const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView),firstProjectedTNode=componentHost.projection[tNode.projection];return null!=firstProjectedTNode?getFirstNativeNode(parentView,firstProjectedTNode):getFirstNativeNode(lView,tNode.next)}}return null}(lView,firstTNodeOfView)}return lContainer[7]}function nativeRemoveNode(renderer,rNode,isHostElement){const nativeParent=nativeParentNode(renderer,rNode);nativeParent&&function(renderer,parent,child,isHostElement){isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}function applyNodes(renderer,action,tNode,lView,renderParent,beforeNode,isProjection){for(;null!=tNode;){const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;isProjection&&0===action&&(rawSlotValue&&attachPatchData(unwrapRNode(rawSlotValue),lView),tNode.flags|=4),64!=(64&tNode.flags)&&(4===tNodeType||5===tNodeType?(applyNodes(renderer,action,tNode.child,lView,renderParent,beforeNode,!1),applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)):1===tNodeType?applyProjectionRecursive(renderer,action,lView,tNode,renderParent,beforeNode):applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)),tNode=isProjection?tNode.projectionNext:tNode.next}}function applyView(tView,lView,renderer,action,renderParent,beforeNode){applyNodes(renderer,action,tView.node.child,lView,renderParent,beforeNode,!1)}function applyProjection(tView,lView,tProjectionNode){applyProjectionRecursive(lView[11],0,lView,tProjectionNode,getRenderParent(tView,tProjectionNode,lView),getNativeAnchorNode(tProjectionNode.parent||lView[6],lView))}function applyProjectionRecursive(renderer,action,lView,tProjectionNode,renderParent,beforeNode){const componentLView=lView[16],nodeToProjectOrRNodes=componentLView[6].projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++){applyToElementOrContainer(action,renderer,renderParent,nodeToProjectOrRNodes[i],beforeNode)}else{applyNodes(renderer,action,nodeToProjectOrRNodes,componentLView[3],renderParent,beforeNode,!0)}}function writeDirectStyle(renderer,element,newValue){isProceduralRenderer(renderer)?renderer.setAttribute(element,"style",newValue):element.style.cssText=newValue}function writeDirectClass(renderer,element,newValue){isProceduralRenderer(renderer)?""===newValue?renderer.removeAttribute(element,"class"):renderer.setAttribute(element,"class",newValue):element.className=newValue}class ViewRef{constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const lView=this._lView;if(null==lView[0]){const hostTView=lView[6];return function collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){const lNode=lView[tNode.index];if(null!==lNode&&result.push(unwrapRNode(lNode)),isLContainer(lNode))for(let i=9;i<lNode.length;i++){const lViewInAContainer=lNode[i],lViewFirstChildTNode=lViewInAContainer[1].firstChild;null!==lViewFirstChildTNode&&collectNativeNodes(lViewInAContainer[1],lViewInAContainer,lViewFirstChildTNode,result)}const tNodeType=tNode.type;if(4===tNodeType||5===tNodeType)collectNativeNodes(tView,lView,tNode.child,result);else if(1===tNodeType){const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView);let firstProjectedNode=componentHost.projection[tNode.projection];null!==firstProjectedNode&&null!==parentView&&collectNativeNodes(parentView[1],parentView,firstProjectedNode,result,!0)}tNode=isProjection?tNode.projectionNext:tNode.next}return result}(lView[1],lView,hostTView.child,[])}return[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const index=this._viewContainerRef.indexOf(this);index>-1&&this._viewContainerRef.detach(index),this._viewContainerRef=null}destroyLView(this._lView[1],this._lView)}onDestroy(callback){var tView,lView,cleanupFn;tView=this._lView[1],lView=this._lView,cleanupFn=callback,getLCleanup(lView).push(cleanupFn),tView.firstCreatePass&&getTViewCleanup(tView).push(lView[7].length-1,null)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){detectChangesInternal(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(tView,view,context){setCheckNoChangesMode(!0);try{detectChangesInternal(tView,view,context)}finally{setCheckNoChangesMode(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef}detachFromAppRef(){var tView,lView;this._appRef=null,tView=this._lView[1],lView=this._lView,applyView(tView,lView,lView[11],2,null,null)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}}class RootViewRef extends ViewRef{constructor(_view){super(_view),this._view=_view}detectChanges(){detectChangesInRootView(this._view)}checkNoChanges(){!function(lView){setCheckNoChangesMode(!0);try{detectChangesInRootView(lView)}finally{setCheckNoChangesMode(!1)}}(this._view)}get context(){return null}}let R3ElementRef,R3TemplateRef,R3ViewContainerRef;function createElementRef(ElementRefToken,tNode,view){return R3ElementRef||(R3ElementRef=class extends ElementRefToken{}),new R3ElementRef(getNativeByTNode(tNode,view))}function createTemplateRef(TemplateRefToken,ElementRefToken,hostTNode,hostView){return R3TemplateRef||(R3TemplateRef=class extends TemplateRefToken{constructor(_declarationView,_declarationTContainer,elementRef){super(),this._declarationView=_declarationView,this._declarationTContainer=_declarationTContainer,this.elementRef=elementRef}createEmbeddedView(context){const embeddedTView=this._declarationTContainer.tViews,embeddedLView=createLView(this._declarationView,embeddedTView,context,16,null,embeddedTView.node),declarationLContainer=this._declarationView[this._declarationTContainer.index];embeddedLView[17]=declarationLContainer;const declarationViewLQueries=this._declarationView[5];null!==declarationViewLQueries&&(embeddedLView[5]=declarationViewLQueries.createEmbeddedView(embeddedTView)),renderView(embeddedTView,embeddedLView,context);const viewRef=new ViewRef(embeddedLView);return viewRef._tViewNode=embeddedLView[6],viewRef}}),0===hostTNode.type?new R3TemplateRef(hostView,hostTNode,createElementRef(ElementRefToken,hostTNode,hostView)):null}function createContainerRef(ViewContainerRefToken,ElementRefToken,hostTNode,hostView){let lContainer;R3ViewContainerRef||(R3ViewContainerRef=class extends ViewContainerRefToken{constructor(_lContainer,_hostTNode,_hostView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostView=_hostView}get element(){return createElementRef(ElementRefToken,this._hostTNode,this._hostView)}get injector(){return new NodeInjector(this._hostTNode,this._hostView)}get parentInjector(){const parentLocation=getParentInjectorLocation(this._hostTNode,this._hostView),parentView=getParentInjectorView(parentLocation,this._hostView),parentTNode=function(location,startView,startTNode){if(startTNode.parent&&-1!==startTNode.parent.injectorIndex){const injectorIndex=startTNode.parent.injectorIndex;let tNode=startTNode.parent;for(;null!=tNode.parent&&injectorIndex==tNode.parent.injectorIndex;)tNode=tNode.parent;return tNode}let viewOffset=getParentInjectorViewOffset(location),parentView=startView,parentTNode=startView[6];for(;viewOffset>1;)parentView=parentView[15],parentTNode=parentView[6],viewOffset--;return parentTNode}(parentLocation,this._hostView,this._hostTNode);return hasParentInjector(parentLocation)&&null!=parentTNode?new NodeInjector(parentTNode,parentView):new NodeInjector(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){return null!==this._lContainer[8]&&this._lContainer[8][index]||null}get length(){return this._lContainer.length-9}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;if(!ngModuleRef&&null==componentFactory.ngModule&&contextInjector){const result=contextInjector.get(NgModuleRef,null);result&&(ngModuleRef=result)}const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){const lView=viewRef._lView,tView=lView[1];if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),isLContainer(lView[3])){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[3],prevVCRef=new R3ViewContainerRef(prevLContainer,prevLContainer[6],prevLContainer[3]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index);return insertView(tView,lView,this._lContainer,adjustedIdx),addRemoveViewFromContainer(tView,lView,!0,getBeforeNodeForView(adjustedIdx,this._lContainer)),viewRef.attachToViewContainerRef(this),addToArray(this._lContainer[8],adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=this._lContainer[8];return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1);removeView(this._lContainer,adjustedIdx),removeFromArray(this._lContainer[8],adjustedIdx)}detach(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=removeFromArray(this._lContainer[8],adjustedIdx)?new ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:index}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const slotValue=hostView[hostTNode.index];if(isLContainer(slotValue))lContainer=slotValue,function(lContainer,index){lContainer[2]=index<<1}(lContainer,-1);else{let commentNode;if(4===hostTNode.type)commentNode=unwrapRNode(slotValue);else if(commentNode=hostView[11].createComment(""),isRootView(hostView)){const renderer=hostView[11],hostNative=getNativeByTNode(hostTNode,hostView);nativeInsertBefore(renderer,nativeParentNode(renderer,hostNative),commentNode,function(renderer,node){return isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative))}else appendChild(hostView[1],hostView,commentNode,hostTNode);hostView[hostTNode.index]=lContainer=createLContainer(slotValue,hostView,commentNode,hostTNode),addToViewTree(hostView,lContainer)}return new R3ViewContainerRef(lContainer,hostTNode,hostView)}function injectChangeDetectorRef(isPipe=!1){return function(tNode,lView,isPipe){if(!isPipe&&isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);return new ViewRef(componentView,componentView)}if(3===tNode.type||0===tNode.type||4===tNode.type||5===tNode.type){const hostComponentView=lView[16];return new ViewRef(hostComponentView,lView)}return(null)}(getPreviousOrParentTNode(),getLView(),isPipe)}class ChangeDetectorRef{}ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY();const SWITCH_CHANGE_DETECTOR_REF_FACTORY=injectChangeDetectorRef,Type=Function;function isType(v){return"function"==typeof v}const DELEGATE_CTOR=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,INHERITED_CLASS=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,INHERITED_CLASS_WITH_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,INHERITED_CLASS_WITH_DELEGATE_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class ReflectionCapabilities{constructor(reflect){this._reflect=reflect||_global.Reflect}isReflectionEnabled(){return!0}factory(t){return(...args)=>new t(...args)}_zipTypesAndAnnotations(paramTypes,paramAnnotations){let result;result=core_newArray(void 0===paramTypes?paramAnnotations.length:paramTypes.length);for(let i=0;i<result.length;i++)void 0===paramTypes?result[i]=[]:paramTypes[i]&&paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],paramAnnotations&&null!=paramAnnotations[i]&&(result[i]=result[i].concat(paramAnnotations[i]));return result}_ownParameters(type,parentCtor){if(function(typeStr){return DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS_WITH_DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS.test(typeStr)&&!INHERITED_CLASS_WITH_CTOR.test(typeStr)}(type.toString()))return null;if(type.parameters&&type.parameters!==parentCtor.parameters)return type.parameters;const tsickleCtorParams=type.ctorParameters;if(tsickleCtorParams&&tsickleCtorParams!==parentCtor.ctorParameters){const ctorParameters="function"==typeof tsickleCtorParams?tsickleCtorParams():tsickleCtorParams,paramTypes=ctorParameters.map(ctorParam=>ctorParam&&ctorParam.type),paramAnnotations=ctorParameters.map(ctorParam=>ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators));return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}const paramAnnotations=type.hasOwnProperty(PARAMETERS)&&type[PARAMETERS],paramTypes=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",type);return paramTypes||paramAnnotations?this._zipTypesAndAnnotations(paramTypes,paramAnnotations):core_newArray(type.length)}parameters(type){if(!isType(type))return[];const parentCtor=getParentCtor(type);let parameters=this._ownParameters(type,parentCtor);return parameters||parentCtor===Object||(parameters=this.parameters(parentCtor)),parameters||[]}_ownAnnotations(typeOrFunc,parentCtor){if(typeOrFunc.annotations&&typeOrFunc.annotations!==parentCtor.annotations){let annotations=typeOrFunc.annotations;return"function"==typeof annotations&&annotations.annotations&&(annotations=annotations.annotations),annotations}return typeOrFunc.decorators&&typeOrFunc.decorators!==parentCtor.decorators?convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators):typeOrFunc.hasOwnProperty(ANNOTATIONS)?typeOrFunc[ANNOTATIONS]:null}annotations(typeOrFunc){if(!isType(typeOrFunc))return[];const parentCtor=getParentCtor(typeOrFunc),ownAnnotations=this._ownAnnotations(typeOrFunc,parentCtor)||[];return(parentCtor!==Object?this.annotations(parentCtor):[]).concat(ownAnnotations)}_ownPropMetadata(typeOrFunc,parentCtor){if(typeOrFunc.propMetadata&&typeOrFunc.propMetadata!==parentCtor.propMetadata){let propMetadata=typeOrFunc.propMetadata;return"function"==typeof propMetadata&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(typeOrFunc.propDecorators&&typeOrFunc.propDecorators!==parentCtor.propDecorators){const propDecorators=typeOrFunc.propDecorators,propMetadata={};return Object.keys(propDecorators).forEach(prop=>{propMetadata[prop]=convertTsickleDecoratorIntoMetadata(propDecorators[prop])}),propMetadata}return typeOrFunc.hasOwnProperty(PROP_METADATA)?typeOrFunc[PROP_METADATA]:null}propMetadata(typeOrFunc){if(!isType(typeOrFunc))return{};const parentCtor=getParentCtor(typeOrFunc),propMetadata={};if(parentCtor!==Object){const parentPropMetadata=this.propMetadata(parentCtor);Object.keys(parentPropMetadata).forEach(propName=>{propMetadata[propName]=parentPropMetadata[propName]})}const ownPropMetadata=this._ownPropMetadata(typeOrFunc,parentCtor);return ownPropMetadata&&Object.keys(ownPropMetadata).forEach(propName=>{const decorators=[];propMetadata.hasOwnProperty(propName)&&decorators.push(...propMetadata[propName]),decorators.push(...ownPropMetadata[propName]),propMetadata[propName]=decorators}),propMetadata}ownPropMetadata(typeOrFunc){return isType(typeOrFunc)&&this._ownPropMetadata(typeOrFunc,getParentCtor(typeOrFunc))||{}}hasLifecycleHook(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype}guards(type){return{}}getter(name){return new Function("o","return o."+name+";")}setter(name){return new Function("o","v","return o."+name+" = v;")}method(name){return new Function("o","args",`if (!o.${name}) throw new Error('"${name}" is undefined');\n        return o.${name}.apply(o, args);`)}importUri(type){return"object"==typeof type&&type.filePath?type.filePath:`./${stringify(type)}`}resourceUri(type){return`./${stringify(type)}`}resolveIdentifier(name,moduleUrl,members,runtime){return runtime}resolveEnum(enumIdentifier,name){return enumIdentifier[name]}}function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(decoratorInvocation=>new(0,decoratorInvocation.type.annotationCls)(...decoratorInvocation.args?decoratorInvocation.args:[])):[]}function getParentCtor(ctor){const parentProto=ctor.prototype?Object.getPrototypeOf(ctor.prototype):null;return(parentProto?parentProto.constructor:null)||Object}let _reflect=null;function getReflect(){return _reflect=_reflect||new ReflectionCapabilities}function reflectDependencies(type){return convertDependencies(getReflect().parameters(type))}function convertDependencies(deps){const compiler=getCompilerFacade();return deps.map(dep=>function(compiler,dep){const meta={token:null,host:!1,optional:!1,resolved:compiler.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function setTokenAndResolvedType(token){meta.resolved=compiler.R3ResolvedDependencyType.Token,meta.token=token}if(Array.isArray(dep)&&dep.length>0)for(let j=0;j<dep.length;j++){const param=dep[j];if(void 0===param)continue;const proto=Object.getPrototypeOf(param);if(param instanceof Optional||"Optional"===proto.ngMetadataName)meta.optional=!0;else if(param instanceof SkipSelf||"SkipSelf"===proto.ngMetadataName)meta.skipSelf=!0;else if(param instanceof Self||"Self"===proto.ngMetadataName)meta.self=!0;else if(param instanceof Host||"Host"===proto.ngMetadataName)meta.host=!0;else if(param instanceof Inject)meta.token=param.token;else if(param instanceof Attribute){if(void 0===param.attributeName)throw new Error("Attribute name must be defined.");meta.token=param.attributeName,meta.resolved=compiler.R3ResolvedDependencyType.Attribute}else param===ChangeDetectorRef?(meta.token=param,meta.resolved=compiler.R3ResolvedDependencyType.ChangeDetectorRef):setTokenAndResolvedType(param)}else void 0===dep||Array.isArray(dep)&&0===dep.length?(meta.token=void 0,meta.resolved=R3ResolvedDependencyType.Invalid):setTokenAndResolvedType(dep);return meta}(compiler,dep))}const USE_VALUE$1=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isUseClassProvider(meta){return void 0!==meta.useClass}function isUseFactoryProvider(meta){return void 0!==meta.useFactory}function getInjectableMetadata(type,srcMeta){const meta=srcMeta||{providedIn:null},compilerMeta={name:type.name,type:type,typeArgumentCount:0,providedIn:meta.providedIn,userDeps:void 0};return(isUseClassProvider(meta)||isUseFactoryProvider(meta))&&void 0!==meta.deps&&(compilerMeta.userDeps=convertDependencies(meta.deps)),isUseClassProvider(meta)?compilerMeta.useClass=resolveForwardRef(meta.useClass):!function(meta){return USE_VALUE$1 in meta}(meta)?isUseFactoryProvider(meta)?compilerMeta.useFactory=meta.useFactory:function(meta){return void 0!==meta.useExisting}(meta)&&(compilerMeta.useExisting=resolveForwardRef(meta.useExisting)):compilerMeta.useValue=resolveForwardRef(meta.useValue),compilerMeta}getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});const Injectable=makeDecorator("Injectable",void 0,void 0,void 0,(type,meta)=>SWITCH_COMPILE_INJECTABLE(type,meta));const SWITCH_COMPILE_INJECTABLE=function(type,srcMeta){let ngInjectableDef=null,ngFactoryDef=null;type.hasOwnProperty(NG_PROV_DEF)||(Object.defineProperty(type,NG_PROV_DEF,{get:()=>(null===ngInjectableDef&&(ngInjectableDef=getCompilerFacade().compileInjectable(angularCoreDiEnv,`ng:///${type.name}/ɵprov.js`,getInjectableMetadata(type,srcMeta))),ngInjectableDef)}),type.hasOwnProperty(NG_PROV_DEF_FALLBACK)||(type[NG_PROV_DEF_FALLBACK]=()=>type[NG_PROV_DEF])),type.hasOwnProperty(NG_FACTORY_DEF)||Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const metadata=getInjectableMetadata(type,srcMeta),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreDiEnv,`ng:///${type.name}/ɵfac.js`,{name:metadata.name,type:metadata.type,typeArgumentCount:metadata.typeArgumentCount,deps:reflectDependencies(type),injectFn:"inject",target:compiler.R3FactoryTarget.Injectable})}return ngFactoryDef},configurable:!0})},INJECTOR_SCOPE=new InjectionToken("Set Injector scope."),NOT_YET={},CIRCULAR={},EMPTY_ARRAY$2=[];let NULL_INJECTOR=void 0;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}function createInjectorWithoutInjectorInstances(defType,parent=null,additionalProviders=null,name){return new R3Injector(defType,additionalProviders,parent||getNullInjector(),name)}class R3Injector{constructor(def,additionalProviders,parent,source=null){this.parent=parent,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const dedupStack=[];additionalProviders&&deepForEach(additionalProviders,provider=>this.processProvider(provider,def,additionalProviders)),deepForEach([def],injectorDef=>this.processInjectorType(injectorDef,[],dedupStack)),this.records.set(INJECTOR,makeRecord(void 0,this));const record=this.records.get(INJECTOR_SCOPE);this.scope=null!=record?record.value:null,this.source=source||("object"==typeof def?null:stringify(def))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(service=>service.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(token,notFoundValue=THROW_IF_NOT_FOUND,flags=InjectFlags.Default){this.assertNotDestroyed();const previousInjector=setCurrentInjector(this);try{if(!(flags&InjectFlags.SkipSelf)){let record=this.records.get(token);if(void 0===record){const def=("function"==typeof(value=token)||"object"==typeof value&&value instanceof InjectionToken)&&getInjectableDef(token);record=def&&this.injectableDefInScope(def)?makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET):null,this.records.set(token,record)}if(null!=record)return this.hydrate(token,record)}const nextInjector=flags&InjectFlags.Self?getNullInjector():this.parent;return notFoundValue=flags&InjectFlags.Optional&&notFoundValue===THROW_IF_NOT_FOUND?null:notFoundValue,nextInjector.get(token,notFoundValue)}catch(e){if("NullInjectorError"===e.name){if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(stringify(token)),previousInjector)throw e;return catchInjectorError(e,token,"R3InjectorError",this.source)}throw e}finally{setCurrentInjector(previousInjector)}var value}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(defType=>this.get(defType))}toString(){const tokens=[];return this.records.forEach((v,token)=>tokens.push(stringify(token))),`R3Injector[${tokens.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(defOrWrappedDef,parents,dedupStack){if(!(defOrWrappedDef=resolveForwardRef(defOrWrappedDef)))return!1;let def=getInjectorDef(defOrWrappedDef);const ngModule=null==def&&defOrWrappedDef.ngModule||void 0,defType=void 0===ngModule?defOrWrappedDef:ngModule;const isDuplicate=-1!==dedupStack.indexOf(defType);if(void 0!==ngModule&&(def=getInjectorDef(ngModule)),null==def)return!1;if(null!=def.imports&&!isDuplicate){let importTypesWithProviders;dedupStack.push(defType);try{deepForEach(def.imports,imported=>{this.processInjectorType(imported,parents,dedupStack)&&(void 0===importTypesWithProviders&&(importTypesWithProviders=[]),importTypesWithProviders.push(imported))})}finally{}if(void 0!==importTypesWithProviders)for(let i=0;i<importTypesWithProviders.length;i++){const{ngModule:ngModule,providers:providers}=importTypesWithProviders[i];deepForEach(providers,provider=>this.processProvider(provider,ngModule,providers||EMPTY_ARRAY$2))}}this.injectorDefTypes.add(defType),this.records.set(defType,makeRecord(def.factory,NOT_YET));const defProviders=def.providers;if(null!=defProviders&&!isDuplicate){const injectorType=defOrWrappedDef;deepForEach(defProviders,provider=>this.processProvider(provider,injectorType,defProviders))}return void 0!==ngModule&&void 0!==defOrWrappedDef.providers}processProvider(provider,ngModuleType,providers){let token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide);const record=function(provider,ngModuleType,providers){if(isValueProvider(provider))return makeRecord(void 0,provider.useValue);return makeRecord(providerToFactory(provider,ngModuleType,providers),NOT_YET)}(provider,ngModuleType,providers);if(isTypeProvider(provider)||!0!==provider.multi){const existing=this.records.get(token);existing&&void 0!==existing.multi&&throwMixedMultiProviderError()}else{let multiRecord=this.records.get(token);multiRecord?void 0===multiRecord.multi&&throwMixedMultiProviderError():(multiRecord=makeRecord(void 0,NOT_YET,!0),multiRecord.factory=()=>injectArgs(multiRecord.multi),this.records.set(token,multiRecord)),token=provider,multiRecord.multi.push(provider)}this.records.set(token,record)}hydrate(token,record){var value;return record.value===CIRCULAR?function(token){throw new Error(`Cannot instantiate cyclic dependency! ${token}`)}(stringify(token)):record.value===NOT_YET&&(record.value=CIRCULAR,record.value=record.factory()),"object"==typeof record.value&&record.value&&(null!==(value=record.value)&&"object"==typeof value&&"function"==typeof value.ngOnDestroy)&&this.onDestroy.add(record.value),record.value}injectableDefInScope(def){return!!def.providedIn&&("string"==typeof def.providedIn?"any"===def.providedIn||def.providedIn===this.scope:this.injectorDefTypes.has(def.providedIn))}}function injectableDefOrInjectorDefFactory(token){const injectableDef=getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:getFactoryDef(token);if(null!==factory)return factory;const injectorDef=getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof InjectionToken)throw new Error(`Token ${stringify(token)} is missing a ɵprov definition.`);if(token instanceof Function)return function(token){const paramLength=token.length;if(paramLength>0){const args=core_newArray(paramLength,"?");throw new Error(`Can't resolve all parameters for ${stringify(token)}: (${args.join(", ")}).`)}const inheritedInjectableDef=function(type){const def=type&&(type[NG_PROV_DEF]||type[NG_INJECTABLE_DEF]||type[NG_PROV_DEF_FALLBACK]&&type[NG_PROV_DEF_FALLBACK]());if(def){const typeName=function(type){if(type.hasOwnProperty("name"))return type.name;const match=(""+type).match(/^function\s*([^\s(]+)/);return null===match?"":match[1]}(type);return console.warn(`DEPRECATED: DI is instantiating a token "${typeName}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${typeName}" class.`),def}return null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new Error("unreachable")}function providerToFactory(provider,ngModuleType,providers){let factory=void 0;if(isTypeProvider(provider)){const unwrappedProvider=resolveForwardRef(provider);return getFactoryDef(unwrappedProvider)||injectableDefOrInjectorDefFactory(unwrappedProvider)}if(isValueProvider(provider))factory=()=>resolveForwardRef(provider.useValue);else if((value=provider)&&value.useFactory)factory=()=>provider.useFactory(...injectArgs(provider.deps||[]));else if(function(value){return!(!value||!value.useExisting)}(provider))factory=()=>ɵɵinject(resolveForwardRef(provider.useExisting));else{const classRef=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(classRef||function(ngModuleType,providers,provider){let ngModuleDetail="";if(ngModuleType&&providers){ngModuleDetail=` - only instances of Provider and Type are allowed, got: [${providers.map(v=>v==provider?"?"+provider+"?":"...").join(", ")}]`}throw new Error(`Invalid provider for the NgModule '${stringify(ngModuleType)}'`+ngModuleDetail)}(ngModuleType,providers,provider),!function(value){return!!value.deps}(provider))return getFactoryDef(classRef)||injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...injectArgs(provider.deps))}var value;return factory}function makeRecord(factory,value,multi=!1){return{factory:factory,value:value,multi:multi?[]:void 0}}function isValueProvider(value){return null!==value&&"object"==typeof value&&USE_VALUE in value}function isTypeProvider(value){return"function"==typeof value}const INJECTOR_IMPL=function(providers,parent,name){return function(defType,parent=null,additionalProviders=null,name){const injector=createInjectorWithoutInjectorInstances(defType,parent,additionalProviders,name);return injector._resolveInjectorDefTypes(),injector}({name:name},parent,providers,name)};class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,""):INJECTOR_IMPL(options.providers,options.parent,options.name||"")}}Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.ɵprov=ɵɵdefineInjectable({token:Injector,providedIn:"any",factory:()=>ɵɵinject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1;function constructResolvingPath(keys){if(keys.length>1){return" ("+function(keys){const res=[];for(let i=0;i<keys.length;++i){if(res.indexOf(keys[i])>-1)return res.push(keys[i]),res;res.push(keys[i])}return res}(keys.slice().reverse()).map(k=>stringify(k.token)).join(" -> ")+")"}return""}function injectionError(injector,key,constructResolvingMessage,originalError){const keys=[key],errMsg=constructResolvingMessage(keys),error=originalError?function(message,originalError){const msg=`${message} caused by: ${originalError instanceof Error?originalError.message:originalError}`,error=Error(msg);return error.ngOriginalError=originalError,error}(errMsg,originalError):Error(errMsg);return error.addKey=addKey,error.keys=keys,error.injectors=[injector],error.constructResolvingMessage=constructResolvingMessage,error.ngOriginalError=originalError,error}function addKey(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)}function noAnnotationError(typeOrFunc,params){const signature=[];for(let i=0,ii=params.length;i<ii;i++){const parameter=params[i];parameter&&0!=parameter.length?signature.push(parameter.map(stringify).join(" ")):signature.push("?")}return Error("Cannot resolve all parameters for '"+stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(typeOrFunc)+"' is decorated with Injectable.")}class ReflectiveKey{constructor(token,id){if(this.token=token,this.id=id,!token)throw new Error("Token must be defined!");this.displayName=stringify(this.token)}static get(token){return _globalKeyRegistry.get(resolveForwardRef(token))}static get numberOfKeys(){return _globalKeyRegistry.numberOfKeys}}const _globalKeyRegistry=new class{constructor(){this._allKeys=new Map}get(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token))return this._allKeys.get(token);const newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);return this._allKeys.set(token,newKey),newKey}get numberOfKeys(){return this._allKeys.size}};const reflector=new class{constructor(reflectionCapabilities){this.reflectionCapabilities=reflectionCapabilities}updateCapabilities(caps){this.reflectionCapabilities=caps}factory(type){return this.reflectionCapabilities.factory(type)}parameters(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)}annotations(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)}propMetadata(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)}hasLifecycleHook(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)}getter(name){return this.reflectionCapabilities.getter(name)}setter(name){return this.reflectionCapabilities.setter(name)}method(name){return this.reflectionCapabilities.method(name)}importUri(type){return this.reflectionCapabilities.importUri(type)}resourceUri(type){return this.reflectionCapabilities.resourceUri(type)}resolveIdentifier(name,moduleUrl,members,runtime){return this.reflectionCapabilities.resolveIdentifier(name,moduleUrl,members,runtime)}resolveEnum(identifier,name){return this.reflectionCapabilities.resolveEnum(identifier,name)}}(new ReflectionCapabilities);class ReflectiveDependency{constructor(key,optional,visibility){this.key=key,this.optional=optional,this.visibility=visibility}static fromKey(key){return new ReflectiveDependency(key,!1,null)}}const _EMPTY_LIST=[];class ResolvedReflectiveProvider_{constructor(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider,this.resolvedFactory=this.resolvedFactories[0]}}class ResolvedReflectiveFactory{constructor(factory,dependencies){this.factory=factory,this.dependencies=dependencies}}function resolveReflectiveFactory(provider){let factoryFn,resolvedDeps;if(provider.useClass){const useClass=resolveForwardRef(provider.useClass);factoryFn=reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else provider.useExisting?(factoryFn=aliasInstance=>aliasInstance,resolvedDeps=[ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))]):provider.useFactory?(factoryFn=provider.useFactory,resolvedDeps=function(typeOrFunc,dependencies){if(dependencies){const params=dependencies.map(t=>[t]);return dependencies.map(t=>_extractToken(typeOrFunc,t,params))}return _dependenciesFor(typeOrFunc)}(provider.useFactory,provider.deps)):(factoryFn=()=>provider.useValue,resolvedDeps=_EMPTY_LIST);return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide),[resolveReflectiveFactory(provider)],provider.multi||!1)}function resolveReflectiveProviders(providers){const resolvedProviderMap=function(providers,normalizedProvidersMap){for(let i=0;i<providers.length;i++){const provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(existing){if(provider.multiProvider!==existing.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${existing} ${provider}`);if(provider.multiProvider)for(let j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{let resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedReflectiveProvider_(provider.key,provider.resolvedFactories.slice(),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}(function _normalizeProviders(providers,res){return providers.forEach(b=>{if(b instanceof Type)res.push({provide:b,useClass:b});else if(b&&"object"==typeof b&&void 0!==b.provide)res.push(b);else{if(!Array.isArray(b))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${b}`);_normalizeProviders(b,res)}}),res}(providers,[]).map(resolveReflectiveProvider),new Map);return Array.from(resolvedProviderMap.values())}function _dependenciesFor(typeOrFunc){const params=reflector.parameters(typeOrFunc);if(!params)return[];if(params.some(p=>null==p))throw noAnnotationError(typeOrFunc,params);return params.map(p=>_extractToken(typeOrFunc,p,params))}function _extractToken(typeOrFunc,metadata,params){let token=null,optional=!1;if(!Array.isArray(metadata))return _createDependency(metadata instanceof Inject?metadata.token:metadata,optional,null);let visibility=null;for(let i=0;i<metadata.length;++i){const paramMetadata=metadata[i];paramMetadata instanceof Type?token=paramMetadata:paramMetadata instanceof Inject?token=paramMetadata.token:paramMetadata instanceof Optional?optional=!0:paramMetadata instanceof Self||paramMetadata instanceof SkipSelf?visibility=paramMetadata:paramMetadata instanceof InjectionToken&&(token=paramMetadata)}if(token=resolveForwardRef(token),null!=token)return _createDependency(token,optional,visibility);throw noAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,visibility){return new ReflectiveDependency(ReflectiveKey.get(token),optional,visibility)}const UNDEFINED={};class ReflectiveInjector{static resolve(providers){return resolveReflectiveProviders(providers)}static resolveAndCreate(providers,parent){const ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)}static fromResolvedProviders(providers,parent){return new ReflectiveInjector_(providers,parent)}}class ReflectiveInjector_{constructor(_providers,_parent){this._constructionCounter=0,this._providers=_providers,this.parent=_parent||null;const len=_providers.length;this.keyIds=[],this.objs=[];for(let i=0;i<len;i++)this.keyIds[i]=_providers[i].key.id,this.objs[i]=UNDEFINED}get(token,notFoundValue=THROW_IF_NOT_FOUND){return this._getByKey(ReflectiveKey.get(token),null,notFoundValue)}resolveAndCreateChild(providers){const ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)}createChildFromResolved(providers){const inj=new ReflectiveInjector_(providers);return inj.parent=this,inj}resolveAndInstantiate(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])}instantiateResolved(provider){return this._instantiateProvider(provider)}getProviderAtIndex(index){if(index<0||index>=this._providers.length)throw function(index){return Error(`Index ${index} is out-of-bounds.`)}(index);return this._providers[index]}_new(provider){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw injector=this,key=provider.key,injectionError(injector,key,(function(keys){return`Cannot instantiate cyclic dependency!${constructResolvingPath(keys)}`}));var injector,key;return this._instantiateProvider(provider)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(provider){if(provider.multiProvider){const res=[];for(let i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i]);return res}return this._instantiate(provider,provider.resolvedFactories[0])}_instantiate(provider,ResolvedReflectiveFactory){const factory=ResolvedReflectiveFactory.factory;let deps,obj;try{deps=ResolvedReflectiveFactory.dependencies.map(dep=>this._getByReflectiveDependency(dep))}catch(e){throw e.addKey&&e.addKey(this,provider.key),e}try{obj=factory(...deps)}catch(e){throw injector=this,originalException=e,e.stack,key=provider.key,injectionError(injector,key,(function(keys){const first=stringify(keys[0].token);return`${originalException.message}: Error during instantiation of ${first}!${constructResolvingPath(keys)}.`}),originalException)}var injector,originalException,key;return obj}_getByReflectiveDependency(dep){return this._getByKey(dep.key,dep.visibility,dep.optional?null:THROW_IF_NOT_FOUND)}_getByKey(key,visibility,notFoundValue){return key===ReflectiveInjector_.INJECTOR_KEY?this:visibility instanceof Self?this._getByKeySelf(key,notFoundValue):this._getByKeyDefault(key,notFoundValue,visibility)}_getObjByKeyId(keyId){for(let i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===keyId)return this.objs[i]===UNDEFINED&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return UNDEFINED}_throwOrNull(key,notFoundValue){if(notFoundValue!==THROW_IF_NOT_FOUND)return notFoundValue;throw function(injector,key){return injectionError(injector,key,(function(keys){return`No provider for ${stringify(keys[0].token)}!${constructResolvingPath(keys)}`}))}(this,key)}_getByKeySelf(key,notFoundValue){const obj=this._getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)}_getByKeyDefault(key,notFoundValue,visibility){let inj;for(inj=visibility instanceof SkipSelf?this.parent:this;inj instanceof ReflectiveInjector_;){const inj_=inj,obj=inj_._getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_.parent}return null!==inj?inj.get(key.token,notFoundValue):this._throwOrNull(key,notFoundValue)}get displayName(){return`ReflectiveInjector(providers: [${function(injector,fn){const res=[];for(let i=0;i<injector._providers.length;++i)res[i]=fn(injector.getProviderAtIndex(i));return res}(this,b=>' "'+b.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}ReflectiveInjector_.INJECTOR_KEY=ReflectiveKey.get(Injector);const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken("AnalyzeForEntryComponents");class Query{}const ContentChildren=makePropDecorator("ContentChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data),Query);const ContentChild=makePropDecorator("ContentChild",(selector,data={})=>Object.assign({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data),Query);const ViewChildren=makePropDecorator("ViewChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data),Query);const ViewChild=makePropDecorator("ViewChild",(selector,data)=>Object.assign({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data),Query);function resolveComponentResources(resourceResolver){const componentResolved=[],urlMap=new Map;function cachedResourceResolve(url){let promise=urlMap.get(url);if(!promise){const resp=resourceResolver(url);urlMap.set(url,promise=resp.then(unwrapResponse))}return promise}return componentResourceResolutionQueue.forEach((component,type)=>{const promises=[];component.templateUrl&&promises.push(cachedResourceResolve(component.templateUrl).then(template=>{component.template=template}));const styleUrls=component.styleUrls,styles=component.styles||(component.styles=[]),styleOffset=component.styles.length;styleUrls&&styleUrls.forEach((styleUrl,index)=>{styles.push(""),promises.push(cachedResourceResolve(styleUrl).then(style=>{styles[styleOffset+index]=style,styleUrls.splice(styleUrls.indexOf(styleUrl),1),0==styleUrls.length&&(component.styleUrls=void 0)}))});const fullyResolved=Promise.all(promises).then(()=>function(type){componentDefPendingResolution.delete(type)}(type));componentResolved.push(fullyResolved)}),function(){const old=componentResourceResolutionQueue;componentResourceResolutionQueue=new Map}(),Promise.all(componentResolved).then(()=>{})}let componentResourceResolutionQueue=new Map;const componentDefPendingResolution=new Set;function componentNeedsResolution(component){return!!(component.templateUrl&&!component.hasOwnProperty("template")||component.styleUrls&&component.styleUrls.length)}function unwrapResponse(response){return"string"==typeof response?response:response.text()}function computeStaticStyling(tNode,attrs){let styles=tNode.styles,classes=tNode.classes,mode=0;for(let i=0;i<attrs.length;i++){const value=attrs[i];if("number"==typeof value)mode=value;else if(1==mode)classes=concatStringsWithSpace(classes,value);else if(2==mode){styles=concatStringsWithSpace(styles,value+": "+attrs[++i]+";")}}null!==styles&&(tNode.styles=styles),null!==classes&&(tNode.classes=classes)}let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){const isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);if(isListLikeIterableA&&isListLikeIterableB)return function(a,b,comparator){const iterator1=a[core_getSymbolIterator()](),iterator2=b[core_getSymbolIterator()]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1);{const isAObject=a&&("object"==typeof a||"function"==typeof a),isBObject=b&&("object"==typeof b||"function"==typeof b);return!(isListLikeIterableA||!isAObject||isListLikeIterableB||!isBObject)||looseIdentical(a,b)}}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function updateBinding(lView,bindingIndex,value){return lView[bindingIndex]=value}function getBinding(lView,bindingIndex){return lView[bindingIndex]}function bindingUpdated(lView,bindingIndex,value){const oldValue=lView[bindingIndex];return!Object.is(oldValue,value)&&(lView[bindingIndex]=value,!0)}function bindingUpdated2(lView,bindingIndex,exp1,exp2){const different=bindingUpdated(lView,bindingIndex,exp1);return bindingUpdated(lView,bindingIndex+1,exp2)||different}function bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated(lView,bindingIndex+2,exp3)||different}function bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated2(lView,bindingIndex+2,exp3,exp4)||different}function ɵɵattribute(name,value,sanitizer,namespace){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){getTView();const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace)}return ɵɵattribute}function interpolationV(lView,values){let isBindingUpdated=!1,bindingIndex=getBindingIndex();for(let i=1;i<values.length;i+=2)isBindingUpdated=bindingUpdated(lView,bindingIndex++,values[i])||isBindingUpdated;if(setBindingIndex(bindingIndex),!isBindingUpdated)return NO_CHANGE;let content=values[0];for(let i=1;i<values.length;i+=2)content+=renderStringify(values[i])+values[i+1];return content}function interpolation1(lView,prefix,v0,suffix){return bindingUpdated(lView,nextBindingIndex(),v0)?prefix+renderStringify(v0)+suffix:NO_CHANGE}function interpolation2(lView,prefix,v0,i0,v1,suffix){const different=bindingUpdated2(lView,getBindingIndex(),v0,v1);return incrementBindingIndex(2),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+suffix:NO_CHANGE}function interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix){const different=bindingUpdated3(lView,getBindingIndex(),v0,v1,v2);return incrementBindingIndex(3),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+suffix:NO_CHANGE}function interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix){const different=bindingUpdated4(lView,getBindingIndex(),v0,v1,v2,v3);return incrementBindingIndex(4),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+suffix:NO_CHANGE}function interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated(lView,bindingIndex+4,v4)||different,incrementBindingIndex(5),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+suffix:NO_CHANGE}function interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated2(lView,bindingIndex+4,v4,v5)||different,incrementBindingIndex(6),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+suffix:NO_CHANGE}function interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated3(lView,bindingIndex+4,v4,v5,v6)||different,incrementBindingIndex(7),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+suffix:NO_CHANGE}function interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated4(lView,bindingIndex+4,v4,v5,v6,v7)||different,incrementBindingIndex(8),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+i6+renderStringify(v7)+suffix:NO_CHANGE}function ɵɵattributeInterpolate1(attrName,prefix,v0,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate1}function ɵɵattributeInterpolate2(attrName,prefix,v0,i0,v1,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation2(lView,prefix,v0,i0,v1,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate2}function ɵɵattributeInterpolate3(attrName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate3}function ɵɵattributeInterpolate4(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate4}function ɵɵattributeInterpolate5(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate5}function ɵɵattributeInterpolate6(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate6}function ɵɵattributeInterpolate7(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate7}function ɵɵattributeInterpolate8(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return ɵɵattributeInterpolate8}function ɵɵattributeInterpolateV(attrName,values,sanitizer,namespace){const lView=getLView(),interpolated=interpolationV(lView,values);if(interpolated!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolated,sanitizer,namespace)}return ɵɵattributeInterpolateV}function ɵɵcontainer(index){const lView=getLView(),tView=getTView(),tNode=function(tView,lView,nodeIndex,tagName,attrs){const adjustedIndex=nodeIndex+19;const comment=lView[adjustedIndex]=lView[11].createComment(""),tNode=getOrCreateTNode(tView,lView[6],nodeIndex,0,tagName,attrs),lContainer=lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode);return appendChild(tView,lView,comment,tNode),attachPatchData(comment,lView),addToViewTree(lView,lContainer),tNode}(tView,lView,index,null,null);tView.firstCreatePass&&(tNode.tViews=[]),setIsNotParent()}function ɵɵtemplate(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?function(index,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,lView[6],index,0,tagName||null,getConstant(tViewConsts,attrsIndex));resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),registerPostOrderHooks(tView,tNode);const embeddedTView=tNode.tViews=createTView(2,-1,templateFn,decls,vars,tView.directiveRegistry,tView.pipeRegistry,null,tView.schemas,tViewConsts),embeddedTViewNode=createTNode(0,null,2,-1,null,null);return embeddedTViewNode.injectorIndex=tNode.injectorIndex,embeddedTView.node=embeddedTViewNode,null!==tView.queries&&(tView.queries.template(tView,tNode),embeddedTView.queries=tView.queries.embeddedTView(tNode)),tNode}(index,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!1);const comment=lView[11].createComment("");appendChild(tView,lView,comment,tNode),attachPatchData(comment,lView),addToViewTree(lView,lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode)),isDirectiveHost(tNode)&&createDirectivesInstances(tView,lView,tNode),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode,localRefExtractor)}function ɵɵcontainerRefreshStart(index){const lView=getLView(),tView=getTView();let previousOrParentTNode=load(tView.data,index);if(setPreviousOrParentTNode(previousOrParentTNode,!0),lView[index+19][2]=0,!getCheckNoChangesMode()){if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}}}function ɵɵcontainerRefreshEnd(){let previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1));const lContainer=getLView()[previousOrParentTNode.index],nextIndex=getLContainerActiveIndex(lContainer);for(;nextIndex<lContainer.length-9;)removeView(lContainer,nextIndex)}function ɵɵreference(index){return load(instructionState.lFrame.contextLView,index)}function ɵɵdirectiveInject(token,flags=InjectFlags.Default){const lView=getLView();return null==lView?ɵɵinject(token,flags):getOrCreateInjectable(getPreviousOrParentTNode(),lView,resolveForwardRef(token),flags)}function ɵɵinjectAttribute(attrNameToInject){return function(tNode,attrNameToInject){if("class"===attrNameToInject)return tNode.classes;if("style"===attrNameToInject)return tNode.styles;const attrs=tNode.attrs;if(attrs){const attrsLength=attrs.length;let i=0;for(;i<attrsLength;){const value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if("number"==typeof value)for(i++;i<attrsLength&&"string"==typeof attrs[i];)i++;else{if(value===attrNameToInject)return attrs[i+1];i+=2}}}return null}(getPreviousOrParentTNode(),attrNameToInject)}function ɵɵinvalidFactory(){throw new Error("invalid")}function ɵɵproperty(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,lView[11],sanitizer,!1)}return ɵɵproperty}function setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){const property=isClassBased?"class":"style";setInputsForProperty(tView,lView,tNode.inputs[property],property,value)}function elementStartFirstCreatePass(index,tView,lView,native,name,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,lView[6],index,3,name,attrs);resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex));return null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}function ɵɵelementStart(index,name,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=19+index,renderer=lView[11],native=lView[adjustedIndex]=elementCreate(name,renderer,instructionState.lFrame.currentNamespace),tNode=tView.firstCreatePass?elementStartFirstCreatePass(index,tView,lView,0,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!0);const mergedAttrs=tNode.mergedAttrs;null!==mergedAttrs&&setUpAttributes(renderer,native,mergedAttrs);const classes=tNode.classes;null!==classes&&writeDirectClass(renderer,native,classes);const styles=tNode.styles;null!==styles&&writeDirectStyle(renderer,native,styles),appendChild(tView,lView,native,tNode),0===instructionState.lFrame.elementDepthCount&&attachPatchData(native,lView),instructionState.lFrame.elementDepthCount++,isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!==localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function ɵɵelementEnd(){let previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1));const tNode=previousOrParentTNode;instructionState.lFrame.elementDepthCount--;const tView=getTView();tView.firstCreatePass&&(registerPostOrderHooks(tView,previousOrParentTNode),isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode)),null!==tNode.classes&&function(tNode){return 0!=(16&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.classes,!0),null!==tNode.styles&&function(tNode){return 0!=(32&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.styles,!1)}function ɵɵelement(index,name,attrsIndex,localRefsIndex){ɵɵelementStart(index,name,attrsIndex,localRefsIndex),ɵɵelementEnd()}function ɵɵelementContainerStart(index,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?function(index,tView,lView,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,lView[6],index,4,"ng-container",attrs);return null!==attrs&&computeStaticStyling(tNode,attrs),resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}(index,tView,lView,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!0);const native=lView[adjustedIndex]=lView[11].createComment("");appendChild(tView,lView,native,tNode),attachPatchData(native,lView),isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function ɵɵelementContainerEnd(){let previousOrParentTNode=getPreviousOrParentTNode();const tView=getTView();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1)),tView.firstCreatePass&&(registerPostOrderHooks(tView,previousOrParentTNode),isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode))}function ɵɵelementContainer(index,attrsIndex,localRefsIndex){ɵɵelementContainerStart(index,attrsIndex,localRefsIndex),ɵɵelementContainerEnd()}function ɵɵembeddedViewStart(viewBlockId,decls,vars){const lView=getLView(),previousOrParentTNode=getPreviousOrParentTNode(),containerTNode=2===previousOrParentTNode.type?previousOrParentTNode.parent:previousOrParentTNode,lContainer=lView[containerTNode.index];let viewToRender=function(lContainer,startIdx,viewBlockId){for(let i=startIdx+9;i<lContainer.length;i++){const viewAtPositionId=lContainer[i][1].id;if(viewAtPositionId===viewBlockId)return lContainer[i];if(!(viewAtPositionId<viewBlockId))break;removeView(lContainer,i-9)}return null}(lContainer,getLContainerActiveIndex(lContainer),viewBlockId);if(viewToRender)instructionState.lFrame.isParent=!0,enterView(viewToRender,viewToRender[1].node);else{viewToRender=createLView(lView,function(viewIndex,decls,vars,parent){const tView=getLView()[1];const containerTViews=parent.tViews;(viewIndex>=containerTViews.length||null==containerTViews[viewIndex])&&(containerTViews[viewIndex]=createTView(2,viewIndex,null,decls,vars,tView.directiveRegistry,tView.pipeRegistry,null,null,tView.consts));return containerTViews[viewIndex]}(viewBlockId,decls,vars,containerTNode),null,16,null,null);const tParentNode=getIsParent()?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent;assignTViewNodeToLView(viewToRender[1],tParentNode,viewBlockId,viewToRender),enterView(viewToRender,viewToRender[1].node)}return lContainer&&(isCreationMode(viewToRender)&&insertView(viewToRender[1],viewToRender,lContainer,getLContainerActiveIndex(lContainer)),lContainer[2]+=2),isCreationMode(viewToRender)?3:2}function ɵɵembeddedViewEnd(){const lView=getLView(),tView=getTView(),viewHost=lView[6],context=lView[8];isCreationMode(lView)&&renderView(tView,lView,context),refreshView(tView,lView,tView.template,context);lView[3];leaveView(),setPreviousOrParentTNode(viewHost,!1)}function ɵɵgetCurrentView(){return getLView()}function core_isPromise(obj){return!!obj&&"function"==typeof obj.then}function isObservable(obj){return!!obj&&"function"==typeof obj.subscribe}function ɵɵlistener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const lView=getLView(),tView=getTView(),tNode=getPreviousOrParentTNode();return listenerInternal(tView,lView,lView[11],tNode,eventName,listenerFn,useCapture,eventTargetResolver),ɵɵlistener}function ɵɵcomponentHostSyntheticListener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const tNode=getPreviousOrParentTNode(),lView=getLView(),renderer=loadComponentRenderer(tNode,lView);return listenerInternal(getTView(),lView,renderer,tNode,eventName,listenerFn,useCapture,eventTargetResolver),ɵɵcomponentHostSyntheticListener}function listenerInternal(tView,lView,renderer,tNode,eventName,listenerFn,useCapture=!1,eventTargetResolver){const isTNodeDirectiveHost=isDirectiveHost(tNode),tCleanup=tView.firstCreatePass&&(tView.cleanup||(tView.cleanup=[])),lCleanup=getLCleanup(lView);let processOutputs=!0;if(3===tNode.type){const native=getNativeByTNode(tNode,lView),resolved=eventTargetResolver?eventTargetResolver(native):EMPTY_OBJ,target=resolved.target||native,lCleanupIndex=lCleanup.length,idxOrTargetGetter=eventTargetResolver?_lView=>eventTargetResolver(unwrapRNode(_lView[tNode.index])).target:tNode.index;if(isProceduralRenderer(renderer)){let existingListener=null;if(!eventTargetResolver&&isTNodeDirectiveHost&&(existingListener=function(tView,lView,eventName,tNodeIdx){const tCleanup=tView.cleanup;if(null!=tCleanup)for(let i=0;i<tCleanup.length-1;i+=2){const cleanupEventName=tCleanup[i];if(cleanupEventName===eventName&&tCleanup[i+1]===tNodeIdx){const lCleanup=lView[7],listenerIdxInLCleanup=tCleanup[i+2];return lCleanup.length>listenerIdxInLCleanup?lCleanup[listenerIdxInLCleanup]:null}"string"==typeof cleanupEventName&&(i+=2)}return null}(tView,lView,eventName,tNode.index)),null!==existingListener){(existingListener.__ngLastListenerFn__||existingListener).__ngNextListenerFn__=listenerFn,existingListener.__ngLastListenerFn__=listenerFn,processOutputs=!1}else{listenerFn=wrapListener(tNode,lView,listenerFn,!1);const cleanupFn=renderer.listen(resolved.name||target,eventName,listenerFn);lCleanup.push(listenerFn,cleanupFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,lCleanupIndex+1)}}else listenerFn=wrapListener(tNode,lView,listenerFn,!0),target.addEventListener(eventName,listenerFn,useCapture),lCleanup.push(listenerFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,useCapture)}const outputs=tNode.outputs;let props;if(processOutputs&&null!==outputs&&(props=outputs[eventName])){const propsLength=props.length;if(propsLength)for(let i=0;i<propsLength;i+=2){const index=props[i],minifiedName=props[i+1],directiveInstance=lView[index],output=directiveInstance[minifiedName];0;const subscription=output.subscribe(listenerFn),idx=lCleanup.length;lCleanup.push(listenerFn,subscription),tCleanup&&tCleanup.push(eventName,tNode.index,idx,-(idx+1))}}}function executeListenerWithErrorHandling(lView,listenerFn,e){try{return!1!==listenerFn(e)}catch(error){return handleError(lView,error),!1}}function wrapListener(tNode,lView,listenerFn,wrapWithPreventDefault){return function wrapListenerIn_markDirtyAndPreventDefault(e){if(e===Function)return listenerFn;const startView=2&tNode.flags?getComponentLViewByIndex(tNode.index,lView):lView;0==(32&lView[2])&&markViewDirty(startView);let result=executeListenerWithErrorHandling(lView,listenerFn,e),nextListenerFn=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;nextListenerFn;)result=executeListenerWithErrorHandling(lView,nextListenerFn,e)&&result,nextListenerFn=nextListenerFn.__ngNextListenerFn__;return wrapWithPreventDefault&&!1===result&&(e.preventDefault(),e.returnValue=!1),result}}function ɵɵnextContext(level=1){return nextContextImpl(level)}function matchingProjectionSlotIndex(tNode,projectionSlots){let wildcardNgContentIndex=null;const ngProjectAsAttrVal=function(tNode){const nodeAttrs=tNode.attrs;if(null!=nodeAttrs){const ngProjectAsAttrIdx=nodeAttrs.indexOf(5);if(0==(1&ngProjectAsAttrIdx))return nodeAttrs[ngProjectAsAttrIdx+1]}return null}(tNode);for(let i=0;i<projectionSlots.length;i++){const slotValue=projectionSlots[i];if("*"!==slotValue){if(null===ngProjectAsAttrVal?isNodeMatchingSelectorList(tNode,slotValue,!0):isSelectorInSelectorList(ngProjectAsAttrVal,slotValue))return i}else wildcardNgContentIndex=i}return wildcardNgContentIndex}function ɵɵprojectionDef(projectionSlots){const componentNode=getLView()[16][6];if(!componentNode.projection){const numProjectionSlots=projectionSlots?projectionSlots.length:1,projectionHeads=componentNode.projection=core_newArray(numProjectionSlots,null),tails=projectionHeads.slice();let componentChild=componentNode.child;for(;null!==componentChild;){const slotIndex=projectionSlots?matchingProjectionSlotIndex(componentChild,projectionSlots):0;null!==slotIndex&&(tails[slotIndex]?tails[slotIndex].projectionNext=componentChild:projectionHeads[slotIndex]=componentChild,tails[slotIndex]=componentChild),componentChild=componentChild.next}}}let delayProjection=!1;function setDelayProjection(value){delayProjection=value}function ɵɵprojection(nodeIndex,selectorIndex=0,attrs){const lView=getLView(),tView=getTView(),tProjectionNode=getOrCreateTNode(tView,lView[6],nodeIndex,1,null,attrs||null);null===tProjectionNode.projection&&(tProjectionNode.projection=selectorIndex),setIsNotParent(),delayProjection||applyProjection(tView,lView,tProjectionNode)}function ɵɵpropertyInterpolate(propName,v0,sanitizer){return ɵɵpropertyInterpolate1(propName,"",v0,"",sanitizer),ɵɵpropertyInterpolate}function ɵɵpropertyInterpolate1(propName,prefix,v0,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate1}function ɵɵpropertyInterpolate2(propName,prefix,v0,i0,v1,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation2(lView,prefix,v0,i0,v1,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate2}function ɵɵpropertyInterpolate3(propName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate3}function ɵɵpropertyInterpolate4(propName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate4}function ɵɵpropertyInterpolate5(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate5}function ɵɵpropertyInterpolate6(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate6}function ɵɵpropertyInterpolate7(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate7}function ɵɵpropertyInterpolate8(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolate8}function ɵɵpropertyInterpolateV(propName,values,sanitizer){const lView=getLView(),interpolatedValue=interpolationV(lView,values);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return ɵɵpropertyInterpolateV}const EMPTY_ARRAY$3=[];function insertTStylingBinding(tData,tNode,tStylingKeyWithStatic,index,isHostBinding,isClassBinding){let tBindings=isClassBinding?tNode.classBindings:tNode.styleBindings,tmplHead=getTStylingRangePrev(tBindings),tmplTail=getTStylingRangeNext(tBindings);tData[index]=tStylingKeyWithStatic;let tStylingKey,isKeyDuplicateOfStatic=!1;if(Array.isArray(tStylingKeyWithStatic)){const staticKeyValueArray=tStylingKeyWithStatic;tStylingKey=staticKeyValueArray[1],(null===tStylingKey||keyValueArrayIndexOf(staticKeyValueArray,tStylingKey)>0)&&(isKeyDuplicateOfStatic=!0)}else tStylingKey=tStylingKeyWithStatic;if(isHostBinding){if(0!==tmplTail){const previousNode=getTStylingRangePrev(tData[tmplHead+1]);tData[index+1]=toTStylingRange(previousNode,tmplHead),0!==previousNode&&(tData[previousNode+1]=setTStylingRangeNext(tData[previousNode+1],index)),tData[tmplHead+1]=131071&tData[tmplHead+1]|index<<17}else tData[index+1]=toTStylingRange(tmplHead,0),0!==tmplHead&&(tData[tmplHead+1]=setTStylingRangeNext(tData[tmplHead+1],index)),tmplHead=index}else tData[index+1]=toTStylingRange(tmplTail,0),0===tmplHead?tmplHead=index:tData[tmplTail+1]=setTStylingRangeNext(tData[tmplTail+1],index),tmplTail=index;isKeyDuplicateOfStatic&&(tData[index+1]=setTStylingRangePrevDuplicate(tData[index+1])),markDuplicates(tData,tStylingKey,index,!0,isClassBinding),markDuplicates(tData,tStylingKey,index,!1,isClassBinding),function(tNode,tStylingKey,tData,index,isClassBinding){const residual=isClassBinding?tNode.residualClasses:tNode.residualStyles;null!=residual&&"string"==typeof tStylingKey&&keyValueArrayIndexOf(residual,tStylingKey)>=0&&(tData[index+1]=setTStylingRangeNextDuplicate(tData[index+1]))}(tNode,tStylingKey,tData,index,isClassBinding),tBindings=toTStylingRange(tmplHead,tmplTail),isClassBinding?tNode.classBindings=tBindings:tNode.styleBindings=tBindings}function markDuplicates(tData,tStylingKey,index,isPrevDir,isClassBinding){const tStylingAtIndex=tData[index+1],isMap=null===tStylingKey;let cursor=isPrevDir?getTStylingRangePrev(tStylingAtIndex):getTStylingRangeNext(tStylingAtIndex),foundDuplicate=!1;for(;0!==cursor&&(!1===foundDuplicate||isMap);){const tStylingValueAtCursor=tData[cursor],tStyleRangeAtCursor=tData[cursor+1];isStylingMatch(tStylingValueAtCursor,tStylingKey)&&(foundDuplicate=!0,tData[cursor+1]=isPrevDir?setTStylingRangeNextDuplicate(tStyleRangeAtCursor):setTStylingRangePrevDuplicate(tStyleRangeAtCursor)),cursor=isPrevDir?getTStylingRangePrev(tStyleRangeAtCursor):getTStylingRangeNext(tStyleRangeAtCursor)}foundDuplicate&&(tData[index+1]=isPrevDir?setTStylingRangePrevDuplicate(tStylingAtIndex):setTStylingRangeNextDuplicate(tStylingAtIndex))}function isStylingMatch(tStylingKeyCursor,tStylingKey){return null===tStylingKeyCursor||null==tStylingKey||(Array.isArray(tStylingKeyCursor)?tStylingKeyCursor[1]:tStylingKeyCursor)===tStylingKey||!(!Array.isArray(tStylingKeyCursor)||"string"!=typeof tStylingKey)&&keyValueArrayIndexOf(tStylingKeyCursor,tStylingKey)>=0}const parserState={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(text){return text.substring(parserState.key,parserState.keyEnd)}function getLastParsedValue(text){return text.substring(parserState.value,parserState.valueEnd)}function parseClassNameNext(text,index){const end=parserState.textEnd;return end===index?-1:(index=parserState.keyEnd=function(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)>32;)startIndex++;return startIndex}(text,parserState.key=index,end),consumeWhitespace(text,index,end))}function parseStyleNext(text,startIndex){const end=parserState.textEnd;let index=parserState.key=consumeWhitespace(text,startIndex,end);return end===index?-1:(index=parserState.keyEnd=function(text,startIndex,endIndex){let ch;for(;startIndex<endIndex&&(45===(ch=text.charCodeAt(startIndex))||95===ch||(-33&ch)>=65&&(-33&ch)<=90);)startIndex++;return startIndex}(text,index,end),index=consumeSeparator(text,index,end,58),index=parserState.value=consumeWhitespace(text,index,end),index=parserState.valueEnd=function(text,startIndex,endIndex){let ch1=-1,ch2=-1,ch3=-1,i=startIndex,lastChIndex=i;for(;i<endIndex;){const ch=text.charCodeAt(i++);if(59===ch)return lastChIndex;34===ch||39===ch?lastChIndex=i=consumeQuotedText(text,ch,i,endIndex):startIndex===i-4&&85===ch3&&82===ch2&&76===ch1&&40===ch?lastChIndex=i=consumeQuotedText(text,41,i,endIndex):ch>32&&(lastChIndex=i),ch3=ch2,ch2=ch1,ch1=-33&ch}return lastChIndex}(text,index,end),consumeSeparator(text,index,end,59))}function resetParserState(text){parserState.key=0,parserState.keyEnd=0,parserState.value=0,parserState.valueEnd=0,parserState.textEnd=text.length}function consumeWhitespace(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)<=32;)startIndex++;return startIndex}function consumeSeparator(text,startIndex,endIndex,separator){return(startIndex=consumeWhitespace(text,startIndex,endIndex))<endIndex&&startIndex++,startIndex}function consumeQuotedText(text,quoteCharCode,startIndex,endIndex){let ch1=-1,index=startIndex;for(;index<endIndex;){const ch=text.charCodeAt(index++);if(ch==quoteCharCode&&92!==ch1)return index;ch1=92==ch&&92===ch1?0:ch}throw new Error}function ɵɵstyleSanitizer(sanitizer){setCurrentStyleSanitizer(sanitizer)}function ɵɵstyleProp(prop,value,suffix){return checkStylingProperty(prop,value,suffix,!1),ɵɵstyleProp}function ɵɵclassProp(className,value){return checkStylingProperty(className,value,null,!0),ɵɵclassProp}function ɵɵstyleMap(styles){checkStylingMap(styleKeyValueArraySet,styleStringParser,styles,!1)}function styleStringParser(keyValueArray,text){for(let i=function(text){return resetParserState(text),parseStyleNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseStyleNext(text,i))styleKeyValueArraySet(keyValueArray,getLastParsedKey(text),getLastParsedValue(text))}function ɵɵclassMap(classes){checkStylingMap(keyValueArraySet,classStringParser,classes,!0)}function classStringParser(keyValueArray,text){for(let i=function(text){return resetParserState(text),parseClassNameNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseClassNameNext(text,i))keyValueArraySet(keyValueArray,getLastParsedKey(text),!0)}function checkStylingProperty(prop,value,suffixOrSanitizer,isClassBased){const lView=getLView(),tView=getTView(),bindingIndex=incrementBindingIndex(2);if(tView.firstUpdatePass&&stylingFirstUpdatePass(tView,prop,bindingIndex,isClassBased),value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){let styleSanitizer;null==suffixOrSanitizer&&(styleSanitizer=function(){const lFrame=instructionState.lFrame;return null===lFrame?null:lFrame.currentSanitizer}())&&(suffixOrSanitizer=styleSanitizer),updateStyling(tView,tView.data[getSelectedIndex()+19],lView,lView[11],prop,lView[bindingIndex+1]=function(value,suffixOrSanitizer){null==value||("function"==typeof suffixOrSanitizer?value=suffixOrSanitizer(value):"string"==typeof suffixOrSanitizer?value+=suffixOrSanitizer:"object"==typeof value&&(value=stringify(unwrapSafeValue(value))));return value}(value,suffixOrSanitizer),isClassBased,bindingIndex)}}function checkStylingMap(keyValueArraySet,stringParser,value,isClassBased){const tView=getTView(),bindingIndex=incrementBindingIndex(2);tView.firstUpdatePass&&stylingFirstUpdatePass(tView,null,bindingIndex,isClassBased);const lView=getLView();if(value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){const tNode=tView.data[getSelectedIndex()+19];if(hasStylingInputShadow(tNode,isClassBased)&&!isInHostBindings(tView,bindingIndex)){0;let staticPrefix=isClassBased?tNode.classes:tNode.styles;null!==staticPrefix&&(value=concatStringsWithSpace(staticPrefix,value||"")),setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased)}else!function(tView,tNode,lView,renderer,oldKeyValueArray,newKeyValueArray,isClassBased,bindingIndex){oldKeyValueArray===NO_CHANGE&&(oldKeyValueArray=EMPTY_ARRAY$3);let oldIndex=0,newIndex=0,oldKey=0<oldKeyValueArray.length?oldKeyValueArray[0]:null,newKey=0<newKeyValueArray.length?newKeyValueArray[0]:null;for(;null!==oldKey||null!==newKey;){const oldValue=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex+1]:void 0,newValue=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex+1]:void 0;let setKey=null,setValue=void 0;oldKey===newKey?(oldIndex+=2,newIndex+=2,oldValue!==newValue&&(setKey=newKey,setValue=newValue)):null===newKey||null!==oldKey&&oldKey<newKey?(oldIndex+=2,setKey=oldKey):(newIndex+=2,setKey=newKey,setValue=newValue),null!==setKey&&updateStyling(tView,tNode,lView,renderer,setKey,setValue,isClassBased,bindingIndex),oldKey=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex]:null,newKey=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex]:null}}(tView,tNode,lView,lView[11],lView[bindingIndex+1],lView[bindingIndex+1]=function(keyValueArraySet,stringParser,value){if(null==value||""===value)return EMPTY_ARRAY$3;const styleKeyValueArray=[],unwrappedValue=unwrapSafeValue(value);if(Array.isArray(unwrappedValue))for(let i=0;i<unwrappedValue.length;i++)keyValueArraySet(styleKeyValueArray,unwrappedValue[i],!0);else if("object"==typeof unwrappedValue)for(const key in unwrappedValue)unwrappedValue.hasOwnProperty(key)&&keyValueArraySet(styleKeyValueArray,key,unwrappedValue[key]);else"string"==typeof unwrappedValue&&stringParser(styleKeyValueArray,unwrappedValue);return styleKeyValueArray}(keyValueArraySet,stringParser,value),isClassBased,bindingIndex)}}function isInHostBindings(tView,bindingIndex){return bindingIndex>=tView.expandoStartIndex}function stylingFirstUpdatePass(tView,tStylingKey,bindingIndex,isClassBased){const tData=tView.data;if(null===tData[bindingIndex+1]){const tNode=tData[getSelectedIndex()+19],isHostBindings=isInHostBindings(tView,bindingIndex);hasStylingInputShadow(tNode,isClassBased)&&null===tStylingKey&&!isHostBindings&&(tStylingKey=!1),tStylingKey=function(tData,tNode,stylingKey,isClassBased){const hostDirectiveDef=function(tData){const currentDirectiveIndex=instructionState.lFrame.currentDirectiveIndex;return-1===currentDirectiveIndex?null:tData[currentDirectiveIndex]}(tData);let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;if(null===hostDirectiveDef){0===(isClassBased?tNode.classBindings:tNode.styleBindings)&&(stylingKey=collectStylingFromTAttrs(stylingKey=collectStylingFromDirectives(null,tData,tNode,stylingKey,isClassBased),tNode.attrs,isClassBased),residual=null)}else{const directiveStylingLast=tNode.directiveStylingLast;if(-1===directiveStylingLast||tData[directiveStylingLast]!==hostDirectiveDef)if(stylingKey=collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased),null===residual){let templateStylingKey=function(tData,tNode,isClassBased){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;if(0===getTStylingRangeNext(bindings))return;return(tData[getTStylingRangePrev(bindings)])}(tData,tNode,isClassBased);void 0!==templateStylingKey&&Array.isArray(templateStylingKey)&&(templateStylingKey=collectStylingFromDirectives(null,tData,tNode,templateStylingKey[1],isClassBased),templateStylingKey=collectStylingFromTAttrs(templateStylingKey,tNode.attrs,isClassBased),function(tData,tNode,isClassBased,tStylingKey){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;tData[getTStylingRangePrev(bindings)]=tStylingKey}(tData,tNode,isClassBased,templateStylingKey))}else residual=function(tData,tNode,isClassBased){let residual=void 0;const directiveEnd=tNode.directiveEnd;for(let i=1+tNode.directiveStylingLast;i<directiveEnd;i++){const attrs=tData[i].hostAttrs;residual=collectStylingFromTAttrs(residual,attrs,isClassBased)}return(collectStylingFromTAttrs(residual,tNode.attrs,isClassBased))}(tData,tNode,isClassBased)}void 0!==residual&&(isClassBased?tNode.residualClasses=residual:tNode.residualStyles=residual);return stylingKey}(tData,tNode,tStylingKey,isClassBased),insertTStylingBinding(tData,tNode,tStylingKey,bindingIndex,isHostBindings,isClassBased)}}function collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased){let currentDirective=null;const directiveEnd=tNode.directiveEnd;let directiveStylingLast=tNode.directiveStylingLast;for(-1===directiveStylingLast?directiveStylingLast=tNode.directiveStart:directiveStylingLast++;directiveStylingLast<directiveEnd&&(currentDirective=tData[directiveStylingLast],stylingKey=collectStylingFromTAttrs(stylingKey,currentDirective.hostAttrs,isClassBased),currentDirective!==hostDirectiveDef);)directiveStylingLast++;return null!==hostDirectiveDef&&(tNode.directiveStylingLast=directiveStylingLast),stylingKey}function collectStylingFromTAttrs(stylingKey,attrs,isClassBased){const desiredMarker=isClassBased?1:2;let currentMarker=-1;if(null!==attrs)for(let i=0;i<attrs.length;i++){const item=attrs[i];"number"==typeof item?currentMarker=item:currentMarker===desiredMarker&&(Array.isArray(stylingKey)||(stylingKey=void 0===stylingKey?[]:["",stylingKey]),keyValueArraySet(stylingKey,item,!!isClassBased||attrs[++i]))}return void 0===stylingKey?null:stylingKey}function styleKeyValueArraySet(keyValueArray,key,value){stylePropNeedsSanitization(key)&&(value=ɵɵsanitizeStyle(value)),keyValueArraySet(keyValueArray,key,value)}function updateStyling(tView,tNode,lView,renderer,prop,value,isClassBased,bindingIndex){if(3!==tNode.type)return;const tData=tView.data,tRange=tData[bindingIndex+1];if(!isStylingValuePresent(getTStylingRangeNextDuplicate(tRange)?findStylingValue(tData,tNode,lView,prop,getTStylingRangeNext(tRange),isClassBased):void 0)){isStylingValuePresent(value)||getTStylingRangePrevDuplicate(tRange)&&(value=findStylingValue(tData,null,lView,prop,bindingIndex,isClassBased)),function(renderer,isClassBased,rNode,prop,value){const isProcedural=isProceduralRenderer(renderer);if(isClassBased)value?isProcedural?renderer.addClass(rNode,prop):rNode.classList.add(prop):isProcedural?renderer.removeClass(rNode,prop):rNode.classList.remove(prop);else{const flags=-1==prop.indexOf("-")?void 0:2;null==value?isProcedural?renderer.removeStyle(rNode,prop,flags):rNode.style.removeProperty(prop):isProcedural?renderer.setStyle(rNode,prop,value,flags):rNode.style.setProperty(prop,value)}}(renderer,isClassBased,getNativeByIndex(getSelectedIndex(),lView),prop,value)}}function findStylingValue(tData,tNode,lView,prop,index,isClassBased){const isPrevDirection=null===tNode;let value=void 0;for(;index>0;){const rawKey=tData[index],containsStatics=Array.isArray(rawKey),key=containsStatics?rawKey[1]:rawKey,isStylingMap=null===key;let valueAtLViewIndex=lView[index+1];valueAtLViewIndex===NO_CHANGE&&(valueAtLViewIndex=isStylingMap?EMPTY_ARRAY$3:void 0);let currentValue=isStylingMap?keyValueArrayGet(valueAtLViewIndex,prop):key===prop?valueAtLViewIndex:void 0;if(containsStatics&&!isStylingValuePresent(currentValue)&&(currentValue=keyValueArrayGet(rawKey,prop)),isStylingValuePresent(currentValue)&&(value=currentValue,isPrevDirection))return value;const tRange=tData[index+1];index=isPrevDirection?getTStylingRangePrev(tRange):getTStylingRangeNext(tRange)}if(null!==tNode){let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;null!=residual&&(value=keyValueArrayGet(residual,prop))}return value}function isStylingValuePresent(value){return void 0!==value}function hasStylingInputShadow(tNode,isClassBased){return 0!=(tNode.flags&(isClassBased?16:32))}function ɵɵtext(index,value=""){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?getOrCreateTNode(tView,lView[6],index,3,null,null):tView.data[adjustedIndex],textNative=lView[adjustedIndex]=createTextNode(value,lView[11]);appendChild(tView,lView,textNative,tNode),setPreviousOrParentTNode(tNode,!1)}function ɵɵtextInterpolate(v0){return ɵɵtextInterpolate1("",v0,""),ɵɵtextInterpolate}function ɵɵtextInterpolate1(prefix,v0,suffix){const lView=getLView(),interpolated=interpolation1(lView,prefix,v0,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate1}function ɵɵtextInterpolate2(prefix,v0,i0,v1,suffix){const lView=getLView(),interpolated=interpolation2(lView,prefix,v0,i0,v1,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate2}function ɵɵtextInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){const lView=getLView(),interpolated=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate3}function ɵɵtextInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){const lView=getLView(),interpolated=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate4}function ɵɵtextInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){const lView=getLView(),interpolated=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate5}function ɵɵtextInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){const lView=getLView(),interpolated=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate6}function ɵɵtextInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){const lView=getLView(),interpolated=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate7}function ɵɵtextInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){const lView=getLView(),interpolated=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolate8}function ɵɵtextInterpolateV(values){const lView=getLView(),interpolated=interpolationV(lView,values);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),ɵɵtextInterpolateV}function ɵɵclassMapInterpolate1(prefix,v0,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation1(getLView(),prefix,v0,suffix),!0)}function ɵɵclassMapInterpolate2(prefix,v0,i0,v1,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation2(getLView(),prefix,v0,i0,v1,suffix),!0)}function ɵɵclassMapInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix),!0)}function ɵɵclassMapInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix),!0)}function ɵɵclassMapInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix),!0)}function ɵɵclassMapInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix),!0)}function ɵɵclassMapInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix),!0)}function ɵɵclassMapInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix),!0)}function ɵɵclassMapInterpolateV(values){checkStylingMap(keyValueArraySet,classStringParser,interpolationV(getLView(),values),!0)}function ɵɵstyleMapInterpolate1(prefix,v0,suffix){ɵɵstyleMap(interpolation1(getLView(),prefix,v0,suffix))}function ɵɵstyleMapInterpolate2(prefix,v0,i0,v1,suffix){ɵɵstyleMap(interpolation2(getLView(),prefix,v0,i0,v1,suffix))}function ɵɵstyleMapInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){ɵɵstyleMap(interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix))}function ɵɵstyleMapInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){ɵɵstyleMap(interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix))}function ɵɵstyleMapInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){ɵɵstyleMap(interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix))}function ɵɵstyleMapInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){ɵɵstyleMap(interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix))}function ɵɵstyleMapInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){ɵɵstyleMap(interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix))}function ɵɵstyleMapInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){ɵɵstyleMap(interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix))}function ɵɵstyleMapInterpolateV(values){ɵɵstyleMap(interpolationV(getLView(),values))}function ɵɵstylePropInterpolate1(prop,prefix,v0,suffix,valueSuffix){return checkStylingProperty(prop,interpolation1(getLView(),prefix,v0,suffix),valueSuffix,!1),ɵɵstylePropInterpolate1}function ɵɵstylePropInterpolate2(prop,prefix,v0,i0,v1,suffix,valueSuffix){return checkStylingProperty(prop,interpolation2(getLView(),prefix,v0,i0,v1,suffix),valueSuffix,!1),ɵɵstylePropInterpolate2}function ɵɵstylePropInterpolate3(prop,prefix,v0,i0,v1,i1,v2,suffix,valueSuffix){return checkStylingProperty(prop,interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix),valueSuffix,!1),ɵɵstylePropInterpolate3}function ɵɵstylePropInterpolate4(prop,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,valueSuffix){return checkStylingProperty(prop,interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix),valueSuffix,!1),ɵɵstylePropInterpolate4}function ɵɵstylePropInterpolate5(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,valueSuffix){return checkStylingProperty(prop,interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix),valueSuffix,!1),ɵɵstylePropInterpolate5}function ɵɵstylePropInterpolate6(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,valueSuffix){return checkStylingProperty(prop,interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix),valueSuffix,!1),ɵɵstylePropInterpolate6}function ɵɵstylePropInterpolate7(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,valueSuffix){return checkStylingProperty(prop,interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix),valueSuffix,!1),ɵɵstylePropInterpolate7}function ɵɵstylePropInterpolate8(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,valueSuffix){return checkStylingProperty(prop,interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix),valueSuffix,!1),ɵɵstylePropInterpolate8}function ɵɵstylePropInterpolateV(prop,values,valueSuffix){return checkStylingProperty(prop,interpolationV(getLView(),values),valueSuffix,!1),ɵɵstylePropInterpolateV}function ɵɵhostProperty(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,lView[11],sanitizer,!0)}return ɵɵhostProperty}function ɵɵupdateSyntheticHostBinding(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,loadComponentRenderer(tNode,lView),sanitizer,!0)}return ɵɵupdateSyntheticHostBinding}function getComponent(element){assertDomElement(element);const context=loadLContext(element,!1);return null===context?null:(void 0===context.component&&(context.component=function(nodeIndex,lView){const tNode=lView[1].data[nodeIndex];let directiveStartIndex=tNode.directiveStart;return 2&tNode.flags?lView[directiveStartIndex]:null}(context.nodeIndex,context.lView)),context.component)}function getContext(element){assertDomElement(element);const context=loadLContext(element,!1);return null===context?null:context.lView[8]}function getOwningComponent(elementOrDir){const context=loadLContext(elementOrDir,!1);if(null===context)return null;let parent,lView=context.lView;for(;null===lView[0]&&(parent=getLViewParent(lView));)lView=parent;return 512&lView[2]?null:lView[8]}function getInjector(elementOrDir){const context=loadLContext(elementOrDir,!1);if(null===context)return Injector.NULL;const tNode=context.lView[1].data[context.nodeIndex];return new NodeInjector(tNode,context.lView)}function loadLContext(target,throwOnNotFound=!0){const context=getLContext(target);if(!context&&throwOnNotFound)throw new Error("Invalid ng target");return context}function getListeners(element){assertDomElement(element);const lContext=loadLContext(element,!1);if(null===lContext)return[];const lView=lContext.lView,tView=lView[1],lCleanup=lView[7],tCleanup=tView.cleanup,listeners=[];if(tCleanup&&lCleanup)for(let i=0;i<tCleanup.length;){const firstParam=tCleanup[i++],secondParam=tCleanup[i++];if("string"==typeof firstParam){const name=firstParam,listenerElement=unwrapRNode(lView[secondParam]),callback=lCleanup[tCleanup[i++]],useCaptureOrIndx=tCleanup[i++],type="boolean"==typeof useCaptureOrIndx||useCaptureOrIndx>=0?"dom":"output",useCapture="boolean"==typeof useCaptureOrIndx&&useCaptureOrIndx;element==listenerElement&&listeners.push({element:element,name:name,callback:callback,useCapture:useCapture,type:type})}}return listeners.sort(sortListeners),listeners}function sortListeners(a,b){return a.name==b.name?0:a.name<b.name?-1:1}function assertDomElement(value){if("undefined"!=typeof Element&&!(value instanceof Element))throw new Error("Expecting instance of DOM Element")}function createRootComponentView(rNode,def,rootView,rendererFactory,hostRenderer,sanitizer){const tView=rootView[1];rootView[19]=rNode;const tNode=getOrCreateTNode(tView,null,0,3,null,null),mergedAttrs=tNode.mergedAttrs=def.hostAttrs;null!==mergedAttrs&&(computeStaticStyling(tNode,mergedAttrs),null!==rNode&&(setUpAttributes(hostRenderer,rNode,mergedAttrs),null!==tNode.classes&&writeDirectClass(hostRenderer,rNode,tNode.classes),null!==tNode.styles&&writeDirectStyle(hostRenderer,rNode,tNode.styles)));const viewRenderer=rendererFactory.createRenderer(rNode,def),componentView=createLView(rootView,getOrCreateTComponentView(def),null,def.onPush?64:16,rootView[19],tNode,rendererFactory,viewRenderer,sanitizer);return tView.firstCreatePass&&(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,rootView),tView,def.type),markAsComponentHost(tView,tNode),initTNodeFlags(tNode,rootView.length,1)),addToViewTree(rootView,componentView),rootView[19]=componentView}function createRootComponent(componentView,componentDef,rootLView,rootContext,hostFeatures){const tView=rootLView[1],component=function(tView,lView,def){const rootTNode=getPreviousOrParentTNode();tView.firstCreatePass&&(def.providersResolver&&def.providersResolver(def),generateExpandoInstructionBlock(tView,rootTNode,1),baseResolveDirective(tView,lView,def));const directive=getNodeInjectable(lView,tView,lView.length-1,rootTNode);attachPatchData(directive,lView);const native=getNativeByTNode(rootTNode,lView);return native&&attachPatchData(native,lView),directive}(tView,rootLView,componentDef);rootContext.components.push(component),componentView[8]=component,hostFeatures&&hostFeatures.forEach(feature=>feature(component,componentDef)),componentDef.contentQueries&&componentDef.contentQueries(1,component,rootLView.length-1);const rootTNode=getPreviousOrParentTNode();if(tView.firstCreatePass&&(null!==componentDef.hostBindings||null!==componentDef.hostAttrs)){setSelectedIndex(rootTNode.index-19);const rootTView=rootLView[1];addHostBindingsToExpandoInstructions(rootTView,componentDef),growHostVarsSpace(rootTView,rootLView,componentDef.hostVars),invokeHostBindingsInCreationMode(componentDef,component)}return component}function createRootContext(scheduler,playerHandler){return{components:[],scheduler:scheduler||defaultScheduler,clean:CLEAN_PROMISE,playerHandler:playerHandler||null,flags:0}}function LifecycleHooksFeature(component,def){const rootTView=readPatchedLView(component)[1],dirIndex=rootTView.data.length-1;registerPostOrderHooks(rootTView,{directiveStart:dirIndex,directiveEnd:dirIndex+1})}function getSuperType(type){return Object.getPrototypeOf(type.prototype).constructor}function ɵɵInheritDefinitionFeature(definition){let superType=getSuperType(definition.type),shouldInheritFields=!0;const inheritanceChain=[definition];for(;superType;){let superDef=void 0;if(isComponentDef(definition))superDef=superType.ɵcmp||superType.ɵdir;else{if(superType.ɵcmp)throw new Error("Directives cannot inherit Components");superDef=superType.ɵdir}if(superDef){if(shouldInheritFields){inheritanceChain.push(superDef);const writeableDef=definition;writeableDef.inputs=maybeUnwrapEmpty(definition.inputs),writeableDef.declaredInputs=maybeUnwrapEmpty(definition.declaredInputs),writeableDef.outputs=maybeUnwrapEmpty(definition.outputs);const superHostBindings=superDef.hostBindings;superHostBindings&&inheritHostBindings(definition,superHostBindings);const superViewQuery=superDef.viewQuery,superContentQueries=superDef.contentQueries;if(superViewQuery&&inheritViewQuery(definition,superViewQuery),superContentQueries&&inheritContentQueries(definition,superContentQueries),fillProperties(definition.inputs,superDef.inputs),fillProperties(definition.declaredInputs,superDef.declaredInputs),fillProperties(definition.outputs,superDef.outputs),isComponentDef(superDef)&&superDef.data.animation){const defData=definition.data;defData.animation=(defData.animation||[]).concat(superDef.data.animation)}writeableDef.afterContentChecked=writeableDef.afterContentChecked||superDef.afterContentChecked,writeableDef.afterContentInit=definition.afterContentInit||superDef.afterContentInit,writeableDef.afterViewChecked=definition.afterViewChecked||superDef.afterViewChecked,writeableDef.afterViewInit=definition.afterViewInit||superDef.afterViewInit,writeableDef.doCheck=definition.doCheck||superDef.doCheck,writeableDef.onDestroy=definition.onDestroy||superDef.onDestroy,writeableDef.onInit=definition.onInit||superDef.onInit}const features=superDef.features;if(features)for(let i=0;i<features.length;i++){const feature=features[i];feature&&feature.ngInherit&&feature(definition),feature===ɵɵInheritDefinitionFeature&&(shouldInheritFields=!1)}}superType=Object.getPrototypeOf(superType)}!function(inheritanceChain){let hostVars=0,hostAttrs=null;for(let i=inheritanceChain.length-1;i>=0;i--){const def=inheritanceChain[i];def.hostVars=hostVars+=def.hostVars,def.hostAttrs=mergeHostAttrs(def.hostAttrs,hostAttrs=mergeHostAttrs(hostAttrs,def.hostAttrs))}}(inheritanceChain)}function maybeUnwrapEmpty(value){return value===EMPTY_OBJ?{}:value===EMPTY_ARRAY?[]:value}function inheritViewQuery(definition,superViewQuery){const prevViewQuery=definition.viewQuery;definition.viewQuery=prevViewQuery?(rf,ctx)=>{superViewQuery(rf,ctx),prevViewQuery(rf,ctx)}:superViewQuery}function inheritContentQueries(definition,superContentQueries){const prevContentQueries=definition.contentQueries;definition.contentQueries=prevContentQueries?(rf,ctx,directiveIndex)=>{superContentQueries(rf,ctx,directiveIndex),prevContentQueries(rf,ctx,directiveIndex)}:superContentQueries}function inheritHostBindings(definition,superHostBindings){const prevHostBindings=definition.hostBindings;definition.hostBindings=prevHostBindings?(rf,ctx)=>{superHostBindings(rf,ctx),prevHostBindings(rf,ctx)}:superHostBindings}const COPY_DIRECTIVE_FIELDS=["providersResolver"],COPY_COMPONENT_FIELDS=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ɵɵCopyDefinitionFeature(definition){let superType=getSuperType(definition.type),superDef=void 0;superDef=isComponentDef(definition)?superType.ɵcmp:superType.ɵdir;const defAny=definition;for(const field of COPY_DIRECTIVE_FIELDS)defAny[field]=superDef[field];if(isComponentDef(superDef))for(const field of COPY_COMPONENT_FIELDS)defAny[field]=superDef[field]}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}function ɵɵNgOnChangesFeature(definition){definition.type.prototype.ngOnChanges&&(definition.setInput=ngOnChangesSetInput,definition.onChanges=function(){const simpleChangesStore=getSimpleChangesStore(this),current=simpleChangesStore&&simpleChangesStore.current;if(current){const previous=simpleChangesStore.previous;if(previous===EMPTY_OBJ)simpleChangesStore.previous=current;else for(let key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}})}function ngOnChangesSetInput(instance,value,publicName,privateName){const simpleChangesStore=getSimpleChangesStore(instance)||function(instance,store){return instance.__ngSimpleChanges__=store}(instance,{previous:EMPTY_OBJ,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,declaredName=this.declaredInputs[publicName],previousChange=previous[declaredName];current[declaredName]=new SimpleChange(previousChange&&previousChange.currentValue,value,previous===EMPTY_OBJ),instance[privateName]=value}ɵɵNgOnChangesFeature.ngInherit=!0;function getSimpleChangesStore(instance){return instance.__ngSimpleChanges__||null}function resolveProvider$1(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=resolveForwardRef(provider),Array.isArray(provider))for(let i=0;i<provider.length;i++)resolveProvider$1(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{const tView=getTView(),lView=getLView();let token=isTypeProvider(provider)?provider:resolveForwardRef(provider.provide),providerFactory=providerToFactory(provider);const tNode=getPreviousOrParentTNode(),beginIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>16;if(isTypeProvider(provider)||!provider.multi){const factory=new NodeInjectorFactory(providerFactory,isViewProvider,ɵɵdirectiveInject),existingFactoryIndex=indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1===existingFactoryIndex?(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{const existingProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token);const factory=function(factoryFn,index,isViewProvider,isComponent,f){const factory=new NodeInjectorFactory(factoryFn,isViewProvider,ɵɵdirectiveInject);return factory.multi=[],factory.index=index,factory.componentProviders=0,multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)}else registerDestroyHooksIfSupported(tView,provider,existingProvidersFactoryIndex>-1?existingProvidersFactoryIndex:existingViewProvidersFactoryIndex),multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent);!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function registerDestroyHooksIfSupported(tView,provider,contextIndex){if(isTypeProvider(provider)||provider.useClass){const ngOnDestroy=(provider.useClass||provider).prototype.ngOnDestroy;ngOnDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(contextIndex,ngOnDestroy)}}function multiFactoryAdd(multiFactory,factory,isComponentProvider){multiFactory.multi.push(factory),isComponentProvider&&multiFactory.componentProviders++}function indexOf(item,arr,begin,end){for(let i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function multiProvidersFactoryResolver(_,tData,lData,tNode){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(_,tData,lView,tNode){const factories=this.multi;let result;if(this.providerFactory){const componentCount=this.providerFactory.componentProviders,multiProviders=getNodeInjectable(lView,lView[1],this.providerFactory.index,tNode);result=multiProviders.slice(0,componentCount),multiResolve(factories,result);for(let i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else result=[],multiResolve(factories,result);return result}function multiResolve(factories,result){for(let i=0;i<factories.length;i++){const factory=factories[i];result.push(factory())}return result}function ɵɵProvidersFeature(providers,viewProviders=[]){return definition=>{definition.providersResolver=(def,processProvidersFn)=>function(def,providers,viewProviders){const tView=getTView();if(tView.firstCreatePass){const isComponent=isComponentDef(def);resolveProvider$1(viewProviders,tView.data,tView.blueprint,isComponent,!0),resolveProvider$1(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}class ComponentRef{}class ComponentFactory{}function noComponentFactoryError(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error[ERROR_COMPONENT]=component,error}const ERROR_COMPONENT="ngComponent";class ComponentFactoryResolver{}ComponentFactoryResolver.NULL=new class{resolveComponentFactory(component){throw noComponentFactoryError(component)}};class CodegenComponentFactoryResolver{constructor(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(let i=0;i<factories.length;i++){const factory=factories[i];this._factories.set(factory.componentType,factory)}}resolveComponentFactory(component){let factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)}}class ComponentFactoryBoundToModule extends ComponentFactory{constructor(factory,ngModule){super(),this.factory=factory,this.ngModule=ngModule,this.selector=factory.selector,this.componentType=factory.componentType,this.ngContentSelectors=factory.ngContentSelectors,this.inputs=factory.inputs,this.outputs=factory.outputs}create(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)}}class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef);const SWITCH_ELEMENT_REF_FACTORY=function(ElementRefToken){return createElementRef(ElementRefToken,getPreviousOrParentTNode(),getLView())};new InjectionToken("Renderer2Interceptor");class RendererFactory2{}const RendererStyleFlags2={Important:1,DashCase:2};RendererStyleFlags2[RendererStyleFlags2.Important]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase]="DashCase";class Renderer2{}Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY();const SWITCH_RENDERER2_FACTORY=function(){const lView=getLView(),nodeAtIndex=getComponentLViewByIndex(getPreviousOrParentTNode().index,lView);return function(view){const renderer=view[11];if(isProceduralRenderer(renderer))return renderer;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(isLView(nodeAtIndex)?nodeAtIndex:lView)};class Sanitizer{}Sanitizer.ɵprov=ɵɵdefineInjectable({token:Sanitizer,providedIn:"root",factory:()=>null});class Version{constructor(full){this.full=full,this.major=full.split(".")[0],this.minor=full.split(".")[1],this.patch=full.split(".").slice(2).join(".")}}const VERSION=new Version("9.0.7");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const key=trackById,recordList=this.map.get(key);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}IterableDiffers.ɵprov=ɵɵdefineInjectable({token:IterableDiffers,providedIn:"root",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])});class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}KeyValueDiffers.ɵprov=ɵɵdefineInjectable({token:KeyValueDiffers,providedIn:"root",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])});const keyValDiff=[new DefaultKeyValueDifferFactory],iterableDiff=[new DefaultIterableDifferFactory],defaultIterableDiffers=new IterableDiffers(iterableDiff),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);class TemplateRef{}TemplateRef.__NG_ELEMENT_ID__=()=>SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef);const SWITCH_TEMPLATE_REF_FACTORY=function(TemplateRefToken,ElementRefToken){return createTemplateRef(TemplateRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())};class ViewContainerRef{}ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef);const SWITCH_VIEW_CONTAINER_REF_FACTORY=function(ViewContainerRefToken,ElementRefToken){return createContainerRef(ViewContainerRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())};function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${oldValue}'. Current value: '${currValue}'.`;return isFirstCheck&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(msg,context){const err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err.ngDebugContext=context,err.ngErrorLogger=context.logError.bind(context)}function viewDestroyedError(action){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${action}`)}function shiftInitState(view,priorInitState,newInitState){const state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}const Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=()=>{},_tokenKeyCache=new Map;function tokenKey(token){let key=_tokenKeyCache.get(token);return key||(key=stringify(token)+"_"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}function unwrapValue(view,nodeIdx,bindingIdx,value){if(WrappedValue.isWrapped(value)){value=WrappedValue.unwrap(value);const globalBindingIdx=view.def.nodes[nodeIdx].bindingIndex+bindingIdx,oldValue=WrappedValue.unwrap(view.oldValues[globalBindingIdx]);view.oldValues[globalBindingIdx]=new WrappedValue(oldValue)}return value}function createRendererType2(values){return{id:"$$undefined",styles:values.styles,encapsulation:values.encapsulation,data:values.data}}let _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){const oldValues=view.oldValues;return!(!(2&view.state)&&looseIdentical(oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){const oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){const bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),`${bindingName}: ${oldValue}`,`${bindingName}: ${value}`,0!=(1&view.state))}}function markParentViewsForCheck(view){let currView=view;for(;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){let currView=view;for(;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){if(view.parent){return asElementData(view.parent,view.parentNodeDef.nodeIndex)}return null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function filterQueryId(queryId){return 1<<queryId%32}function splitMatchedQueriesDsl(matchedQueriesDsl){const matchedQueries={};let matchedQueryIds=0;const references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(([queryId,valueType])=>{"number"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=filterQueryId(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(value=>{let token,flags;return Array.isArray(value)?[flags,token]=value:(flags=0,token=value),token&&("function"==typeof token||"object"==typeof token)&&sourceName&&Object.defineProperty(token,"__source",{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){let renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation$1.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}const DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){let value=DEFINITION_CACHE.get(factory);return value||(value=factory(()=>NOOP),value.factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){let compView=view;for(;compView&&!isComponentView(compView);)compView=compView.parent;const hostView=compView.parent,hostElDef=viewParentEl(compView),startIndex=hostElDef.nodeIndex+1,endIndex=hostElDef.nodeIndex+hostElDef.childCount;for(let i=startIndex;i<=endIndex;i++){const nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){const projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(let i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{const rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags){if(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags){execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)}}else execRenderNodeAction(view,rn,action,parentNode,nextSibling,target);if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target)}1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){const renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}const NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(":"===name[0]){const match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return["",name]}function calcBindingFlags(bindings){let flags=0;for(let i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}function core_interpolate(valueCount,constAndInterp){let result="";for(let i=0;i<2*valueCount;i+=2)result=result+constAndInterp[i]+_toStringWithNull(constAndInterp[i+1]);return result+constAndInterp[2*valueCount]}function inlineInterpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error("Does not support more than 9 expressions")}}function _toStringWithNull(v){return null!=v?v.toString():""}const EMPTY_ARRAY$4=[],EMPTY_MAP={},UNDEFINED_VALUE={},InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function moduleProvideDef(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}}function moduleDef(providers){const providersByKey={},modules=[];let scope=null;for(let i=0;i<providers.length;i++){const provider=providers[i];provider.token===INJECTOR_SCOPE&&(scope=provider.value),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,scope:scope}}function resolveNgModuleDep(data,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){const former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);const tokenKey=depDef.tokenKey;switch(tokenKey){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}const providerDef=data._def.providersByKey[tokenKey];let injectableDef;if(providerDef){let providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&function(ngModule,def){const providedIn=def.providedIn;return null!=providedIn&&("any"===providedIn||providedIn===ngModule._def.scope||function(ngModule,scope){return ngModule._def.modules.indexOf(scope)>-1}(ngModule,providedIn))}(data,injectableDef)){const index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}}function _createProviderInstance(ngModule,providerDef){let injectable;switch(201347067&providerDef.flags){case 512:injectable=function(ngModule,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new ctor(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function(ngModule,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||"object"!=typeof injectable||131072&providerDef.flags||"function"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function attachEmbeddedView(parentView,elementData,viewIndex,view){let embeddedViews=elementData.viewContainer._embeddedViews;null==viewIndex&&(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function(vcElementData,view){const dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;let projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]);projectedViews.push(view),function(viewDef,nodeDef){if(4&nodeDef.flags)return;viewDef.nodeFlags|=4,nodeDef.flags|=4;let parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(view.parent.def,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}function detachEmbeddedView(elementData,viewIndex){const embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;const view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){const prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement,parentNode=view.renderer.parentNode(prevRenderNode),nextSibling=view.renderer.nextSibling(prevRenderNode);visitRootRenderNodes(view,2,parentNode,nextSibling,void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}const EMPTY_CONTEXT={};function createComponentFactory(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)}class ComponentFactory_ extends ComponentFactory{constructor(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){super(),this.selector=selector,this.componentType=componentType,this._inputs=_inputs,this._outputs=_outputs,this.ngContentSelectors=ngContentSelectors,this.viewDefFactory=viewDefFactory}get inputs(){const inputsArr=[],inputs=this._inputs;for(let propName in inputs){const templateName=inputs[propName];inputsArr.push({propName:propName,templateName:templateName})}return inputsArr}get outputs(){const outputsArr=[];for(let propName in this._outputs){const templateName=this._outputs[propName];outputsArr.push({propName:propName,templateName:templateName})}return outputsArr}create(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error("ngModule should be provided");const viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,"ng-version",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)}}class ComponentRef_ extends ComponentRef{constructor(_view,_viewRef,_component){super(),this._view=_view,this._viewRef=_viewRef,this._component=_component,this._elDef=this._view.def.nodes[0],this.hostView=_viewRef,this.changeDetectorRef=_viewRef,this.instance=_component}get location(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(callback){this._viewRef.onDestroy(callback)}}function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}class ViewContainerRef_{constructor(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}get element(){return new ElementRef(this._data.renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get parentInjector(){let view=this._view,elDef=this._elDef.parent;for(;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const view=detachEmbeddedView(this._data,i);Services.destroyView(view)}}get(index){const view=this._embeddedViews[index];if(view){const ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null}get length(){return this._embeddedViews.length}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const viewRef_=viewRef,viewData=viewRef_._view;return attachEmbeddedView(this._view,this._data,index,viewData),viewRef_.attachToViewContainerRef(this),viewRef}move(viewRef,currentIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const previousIndex=this._embeddedViews.indexOf(viewRef._view);return function(elementData,oldViewIndex,newViewIndex){const embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[oldViewIndex];removeFromArray(embeddedViews,oldViewIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view)}(this._data,previousIndex,currentIndex),viewRef}indexOf(viewRef){return this._embeddedViews.indexOf(viewRef._view)}remove(index){const viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)}detach(index){const view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null}}function createChangeDetectorRef(view){return new ViewRef_(view)}class ViewRef_{constructor(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(view){const renderNodes=[];return visitRootRenderNodes(view,0,void 0,void 0,renderNodes),renderNodes}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){markParentViewsForCheck(this._view)}detach(){this._view.state&=-5}detectChanges(){const fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}}checkNoChanges(){Services.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)}detachFromAppRef(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef}}function createTemplateData(view,def){return new TemplateRef_(view,def)}class TemplateRef_ extends TemplateRef{constructor(_parentView,_def){super(),this._parentView=_parentView,this._def=_def}createEmbeddedView(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))}get elementRef(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)}}function createInjector$1(view,elDef){return new Injector_(view,elDef)}class Injector_{constructor(view,elDef){this.view=view,this.elDef=elDef}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND){const allowPrivateServices=!!this.elDef&&0!=(33554432&this.elDef.flags);return Services.resolveDep(this.view,this.elDef,allowPrivateServices,{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)}}function nodeValue(view,index){const def=view.def.nodes[index];if(1&def.flags){const elData=asElementData(view,def.nodeIndex);return(def.element.template?elData.template:elData.renderElement)}if(2&def.flags)return asTextData(view,def.nodeIndex).renderText;if(20240&def.flags)return asProviderData(view,def.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${index}`)}function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}class NgModuleRef_{constructor(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(data){const def=data._def,providers=data._providers=core_newArray(def.providers.length);for(let i=0;i<def.providers.length;i++){const provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){let flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ComponentFactoryResolver)}destroy(){if(this._destroyed)throw new Error(`The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(ngModule,lifecycles){const def=ngModule._def,destroyed=new Set;for(let i=0;i<def.providers.length;i++){if(131072&def.providers[i].flags){const instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){const onDestroy=instance.ngOnDestroy;"function"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}}(this),this._destroyListeners.forEach(listener=>listener())}onDestroy(callback){this._destroyListeners.push(callback)}}const Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function directiveDef(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){const bindings=[];if(props)for(let prop in props){const[bindingIndex,nonMinifiedName]=props[prop];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}const outputDefs=[];if(outputs)for(let propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return _def(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)}function pipeDef(flags,ctor,deps){return _def(-1,flags|=16,null,0,ctor,ctor,deps)}function providerDef(flags,matchedQueries,token,value,deps){return _def(-1,flags,matchedQueries,0,token,value,deps)}function _def(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);const depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){let compView=view;for(;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){const allowPrivateServices=(32768&def.flags)>0,instance=createClass(view,def.parent,allowPrivateServices,def.provider.value,def.provider.deps);if(def.outputs.length)for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error(`@Output ${output.propName} not initialized in '${instance.constructor.name}'.`);{const subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}}return instance}function eventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function _createProviderInstance$1(view,def){const allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function(view,elDef,allowPrivateServices,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues.push(resolveDep(view,elDef,allowPrivateServices,deps[i]));return factory(...depValues)}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues.push(resolveDep(view,elDef,allowPrivateServices,deps[i]));return new ctor(...depValues)}}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){if(8&depDef.flags)return depDef.token;const startView=view;2&depDef.flags&&(notFoundValue=null);const tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);let searchView=view;for(;searchView;){if(elDef)switch(tokenKey){case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:const providerDef=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef){let providerData=asProviderData(searchView,providerDef.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef)},searchView.nodes[providerDef.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}const value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){let compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){const compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}const propName=def.bindings[bindingIdx].name;if(providerData.instance[propName]=value,524288&def.flags){changes=changes||{};const oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(!(view.def.nodeFlags&lifecycles))return;const nodes=view.def.nodes;let initIndex=0;for(let i=0;i<nodes.length;i++){const nodeDef=nodes[i];let parent=nodeDef.parent;for(!parent&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent&&1&parent.flags&&i===parent.nodeIndex+parent.childCount;)parent.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent,lifecycles,initIndex)),parent=parent.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(let i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){const nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){const providerData=asProviderData(view,index);if(!providerData)return;const provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}class ComponentFactoryResolver$1 extends ComponentFactoryResolver{constructor(ngModule){super(),this.ngModule=ngModule}resolveComponentFactory(component){const componentDef=getComponentDef(component);return new ComponentFactory$1(componentDef,this.ngModule)}}function toRefArray(map){const array=[];for(let nonMinified in map)if(map.hasOwnProperty(nonMinified)){const minified=map[nonMinified];array.push({propName:minified,templateName:nonMinified})}return array}const SCHEDULER=new InjectionToken("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>defaultScheduler});class ComponentFactory$1 extends ComponentFactory{constructor(componentDef,ngModule){super(),this.componentDef=componentDef,this.ngModule=ngModule,this.componentType=componentDef.type,this.selector=componentDef.selectors.map(stringifyCSSSelector).join(","),this.ngContentSelectors=componentDef.ngContentSelectors?componentDef.ngContentSelectors:[],this.isBoundToModule=!!ngModule}get inputs(){return toRefArray(this.componentDef.inputs)}get outputs(){return toRefArray(this.componentDef.outputs)}create(injector,projectableNodes,rootSelectorOrNode,ngModule){const rootViewInjector=(ngModule=ngModule||this.ngModule)?function(rootViewInjector,moduleInjector){return{get:(token,notFoundValue,flags)=>{const value=rootViewInjector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,flags);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:moduleInjector.get(token,notFoundValue,flags)}}}(injector,ngModule.injector):injector,rendererFactory=rootViewInjector.get(RendererFactory2,domRendererFactory3),sanitizer=rootViewInjector.get(Sanitizer,null),hostRenderer=rendererFactory.createRenderer(null,this.componentDef),elementName=this.componentDef.selectors[0][0]||"div",hostRNode=rootSelectorOrNode?locateHostElement(hostRenderer,rootSelectorOrNode,this.componentDef.encapsulation):elementCreate(elementName,rendererFactory.createRenderer(null,this.componentDef),function(elementName){const name=elementName.toLowerCase();return"svg"===name?"http://www.w3.org/2000/svg":"math"===name?"http://www.w3.org/1998/MathML/":null}(elementName)),rootFlags=this.componentDef.onPush?576:528,isIsolated="string"==typeof rootSelectorOrNode&&/^#root-ng-internal-isolated-\d+/.test(rootSelectorOrNode),rootContext=createRootContext(),rootTView=createTView(0,-1,null,1,0,null,null,null,null,null),rootLView=createLView(null,rootTView,rootContext,rootFlags,null,null,rendererFactory,hostRenderer,sanitizer,rootViewInjector);let component,tElementNode;enterView(rootLView,null);try{const componentView=createRootComponentView(hostRNode,this.componentDef,rootLView,rendererFactory,hostRenderer);if(hostRNode)if(rootSelectorOrNode)setUpAttributes(hostRenderer,hostRNode,["ng-version",VERSION.full]);else{const{attrs:attrs,classes:classes}=function(selector){const attrs=[],classes=[];let i=1,mode=2;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)2===mode?""!==valueOrMarker&&attrs.push(valueOrMarker,selector[++i]):8===mode&&classes.push(valueOrMarker);else{if(!isPositive(mode))break;mode=valueOrMarker}i++}return{attrs:attrs,classes:classes}}(this.componentDef.selectors[0]);attrs&&setUpAttributes(hostRenderer,hostRNode,attrs),classes&&classes.length>0&&writeDirectClass(hostRenderer,hostRNode,classes.join(" "))}tElementNode=getTNode(rootLView[1],0),projectableNodes&&(tElementNode.projection=projectableNodes.map(nodesforSlot=>Array.from(nodesforSlot))),component=createRootComponent(componentView,this.componentDef,rootLView,rootContext,[LifecycleHooksFeature]),renderView(rootTView,rootLView,null)}finally{leaveView()}const componentRef=new ComponentRef$1(this.componentType,component,createElementRef(ElementRef,tElementNode,rootLView),rootLView,tElementNode);return rootSelectorOrNode&&!isIsolated||(componentRef.hostView._tViewNode.child=tElementNode),componentRef}}new ComponentFactoryResolver$1;class ComponentRef$1 extends ComponentRef{constructor(componentType,instance,location,_rootLView,_tNode){super(),this.location=location,this._rootLView=_rootLView,this._tNode=_tNode,this.destroyCbs=[],this.instance=instance,this.hostView=this.changeDetectorRef=new RootViewRef(_rootLView),this.hostView._tViewNode=assignTViewNodeToLView(_rootLView[1],null,-1,_rootLView),this.componentType=componentType}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(callback){this.destroyCbs&&this.destroyCbs.push(callback)}}var localeEn=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];let LOCALE_DATA={};function findLocaleData(locale){const normalizedLocale=function(locale){return locale.toLowerCase().replace(/_/g,"-")}(locale);let match=getLocaleData(normalizedLocale);if(match)return match;const parentLocale=normalizedLocale.split("-")[0];if(match=getLocaleData(parentLocale),match)return match;if("en"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale "${locale}".`)}function getLocalePluralCase(locale){return findLocaleData(locale)[LocaleDataIndex.PluralCase]}function getLocaleData(normalizedLocale){return normalizedLocale in LOCALE_DATA||(LOCALE_DATA[normalizedLocale]=_global.ng&&_global.ng.common&&_global.ng.common.locales&&_global.ng.common.locales[normalizedLocale]),LOCALE_DATA[normalizedLocale]}const LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};LocaleDataIndex[LocaleDataIndex.LocaleId]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencyCode]="CurrencyCode",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies]="Currencies",LocaleDataIndex[LocaleDataIndex.PluralCase]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData]="ExtraData";const ICU_BLOCK_REGEXP=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,SUBTEMPLATE_REGEXP=/�\/?\*(\d+:\d+)�/gi,PH_REGEXP=/�(\/?[#*!]\d+):?\d*�/gi,BINDING_REGEXP=/�(\d+):?\d*�/gi,ICU_REGEXP=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,PP_MULTI_VALUE_PLACEHOLDERS_REGEXP=/\[(�.+?�?)\]/,PP_PLACEHOLDERS_REGEXP=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,PP_ICU_VARS_REGEXP=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PP_ICU_PLACEHOLDERS_REGEXP=/{([A-Z0-9_]+)}/g,PP_ICUS_REGEXP=/�I18N_EXP_(ICU(_\d+)?)�/g,PP_CLOSE_TEMPLATE_REGEXP=/\/\*/,PP_TEMPLATE_ID_REGEXP=/\d+\:(\d+)/;function extractParts(pattern){if(!pattern)return[];let prevPos=0;const braceStack=[],results=[],braces=/[{}]/g;let match;for(braces.lastIndex=0;match=braces.exec(pattern);){const pos=match.index;if("}"==match[0]){if(braceStack.pop(),0==braceStack.length){const block=pattern.substring(prevPos,pos);ICU_BLOCK_REGEXP.test(block)?results.push(parseICUBlock(block)):results.push(block),prevPos=pos+1}}else{if(0==braceStack.length){const substring=pattern.substring(prevPos,pos);results.push(substring),prevPos=pos+1}braceStack.push("{")}}const substring=pattern.substring(prevPos);return results.push(substring),results}function parseICUBlock(pattern){const cases=[],values=[];let icuType=1,mainBinding=0;const parts=extractParts(pattern=pattern.replace(ICU_BLOCK_REGEXP,(function(str,binding,type){return icuType="select"===type?0:1,mainBinding=parseInt(binding.substr(1),10),""})));for(let pos=0;pos<parts.length;){let key=parts[pos++].trim();1===icuType&&(key=key.replace(/\s*(?:=)?(\w+)\s*/,"$1")),key.length&&cases.push(key);const blocks=extractParts(parts[pos++]);cases.length>values.length&&values.push(blocks)}return{type:icuType,mainBinding:mainBinding,cases:cases,values:values}}function removeInnerTemplateTranslation(message){let match,tagMatched,res="",index=0,inTemplate=!1;for(;null!==(match=SUBTEMPLATE_REGEXP.exec(message));)inTemplate?match[0]===`�/*${tagMatched}�`&&(index=match.index,inTemplate=!1):(res+=message.substring(index,match.index+match[0].length),tagMatched=match[1],inTemplate=!0);return res+=message.substr(index),res}function generateBindingUpdateOpCodes(str,destinationNode,attrName,sanitizeFn=null){const updateOpCodes=[null,null],textParts=str.split(BINDING_REGEXP);let mask=0;for(let j=0;j<textParts.length;j++){const textValue=textParts[j];if(1&j){const bindingIndex=parseInt(textValue,10);updateOpCodes.push(-1-bindingIndex),mask|=toMaskBit(bindingIndex)}else""!==textValue&&updateOpCodes.push(textValue)}return updateOpCodes.push(destinationNode<<2|(attrName?1:0)),attrName&&updateOpCodes.push(attrName,sanitizeFn),updateOpCodes[0]=mask,updateOpCodes[1]=updateOpCodes.length-2,updateOpCodes}function getBindingMask(icuExpression,mask=0){let match;mask|=toMaskBit(icuExpression.mainBinding);for(let i=0;i<icuExpression.values.length;i++){const valueArr=icuExpression.values[i];for(let j=0;j<valueArr.length;j++){const value=valueArr[j];if("string"==typeof value)for(;match=BINDING_REGEXP.exec(value);)mask|=toMaskBit(parseInt(match[1],10));else mask=getBindingMask(value,mask)}}return mask}const i18nIndexStack=[];let i18nIndexStackPointer=-1;function toMaskBit(bindingIndex){return 1<<Math.min(bindingIndex,31)}const parentIndexStack=[];function ɵɵi18nStart(index,message,subTemplateIndex){const tView=getTView();i18nIndexStack[++i18nIndexStackPointer]=index,setDelayProjection(!0),tView.firstCreatePass&&null===tView.data[index+19]&&function(lView,tView,index,message,subTemplateIndex){const startIndex=tView.blueprint.length-19;i18nVarsCount=0;const previousOrParentTNode=getPreviousOrParentTNode(),parentTNode=getIsParent()?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent;let parentIndex=parentTNode&&parentTNode!==lView[6]?parentTNode.index-19:index,parentIndexPointer=0;parentIndexStack[parentIndexPointer]=parentIndex;const createOpCodes=[];if(index>0&&previousOrParentTNode!==parentTNode){let previousTNodeIndex=previousOrParentTNode.index-19;getIsParent()||(previousTNodeIndex=~previousTNodeIndex),createOpCodes.push(previousTNodeIndex<<3|0)}const updateOpCodes=[],icuExpressions=[],templateTranslation=function(message,subTemplateIndex){if("number"!=typeof subTemplateIndex)return removeInnerTemplateTranslation(message);{const start=message.indexOf(`:${subTemplateIndex}�`)+2+subTemplateIndex.toString().length,end=message.search(new RegExp(`�\\/\\*\\d+:${subTemplateIndex}�`));return removeInnerTemplateTranslation(message.substring(start,end))}}(message,subTemplateIndex),msgParts=(value=templateTranslation,value.replace(NGSP_UNICODE_REGEXP," ")).split(PH_REGEXP);var value;for(let i=0;i<msgParts.length;i++){let value=msgParts[i];if(1&i)if("/"===value.charAt(0)){if("#"===value.charAt(1)){const phIndex=parseInt(value.substr(2),10);parentIndex=parentIndexStack[--parentIndexPointer],createOpCodes.push(phIndex<<3|5)}}else{const phIndex=parseInt(value.substr(1),10),isElement="#"===value.charAt(0);createOpCodes.push((isElement?phIndex:~phIndex)<<3|0,parentIndex<<17|1),isElement&&(parentIndexStack[++parentIndexPointer]=parentIndex=phIndex)}else{const parts=extractParts(value);for(let j=0;j<parts.length;j++)if(1&j){const icuExpression=parts[j];if("object"!=typeof icuExpression)throw new Error(`Unable to parse ICU expression in "${templateTranslation}" message.`);const icuNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(COMMENT_MARKER,"",icuNodeIndex,parentIndex<<17|1);const mask=getBindingMask(icuExpression);icuStart(icuExpressions,icuExpression,icuNodeIndex,icuNodeIndex);const tIcuIndex=icuExpressions.length-1;updateOpCodes.push(toMaskBit(icuExpression.mainBinding),3,-1-icuExpression.mainBinding,icuNodeIndex<<2|2,tIcuIndex,mask,2,icuNodeIndex<<2|3,tIcuIndex)}else if(""!==parts[j]){const text=parts[j],hasBinding=text.match(BINDING_REGEXP),textNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(hasBinding?"":text,textNodeIndex,parentIndex<<17|1),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(text,textNodeIndex),updateOpCodes)}}}i18nVarsCount>0&&function(tView,lView,numSlotsToAlloc){if(numSlotsToAlloc>0&&tView.firstCreatePass){for(let i=0;i<numSlotsToAlloc;i++)tView.blueprint.push(null),tView.data.push(null),lView.push(null);tView.expandoInstructions?tView.expandoInstructions.push(numSlotsToAlloc):tView.expandoStartIndex+=numSlotsToAlloc}}(tView,lView,i18nVarsCount);const tI18n={vars:i18nVarsCount,create:createOpCodes,update:updateOpCodes,icus:icuExpressions.length?icuExpressions:null};tView.data[index+19]=tI18n}(getLView(),tView,index,message,subTemplateIndex)}let i18nVarsCount;function appendI18nNode(tView,tNode,parentTNode,previousTNode,lView){const nextNode=tNode.next;previousTNode||(previousTNode=parentTNode),previousTNode===parentTNode&&tNode!==parentTNode.child?(tNode.next=parentTNode.child,parentTNode.child=tNode):previousTNode!==parentTNode&&tNode!==previousTNode.next?(tNode.next=previousTNode.next,previousTNode.next=tNode):tNode.next=null,parentTNode!==lView[6]&&(tNode.parent=parentTNode);let cursor=tNode.next;for(;cursor;)cursor.next===tNode&&(cursor.next=nextNode),cursor=cursor.next;if(1===tNode.type)return applyProjection(tView,lView,tNode),tNode;appendChild(tView,lView,getNativeByTNode(tNode,lView),tNode);const slotValue=lView[tNode.index];return 0!==tNode.type&&isLContainer(slotValue)&&appendChild(tView,lView,slotValue[7],tNode),tNode}function ɵɵi18nPostprocess(message,replacements={}){let result=message;if(PP_MULTI_VALUE_PLACEHOLDERS_REGEXP.test(message)){const matches={},templateIdsStack=[0];result=result.replace(PP_PLACEHOLDERS_REGEXP,(m,phs,tmpl)=>{const content=phs||tmpl,placeholders=matches[content]||[];if(placeholders.length||(content.split("|").forEach(placeholder=>{const match=placeholder.match(PP_TEMPLATE_ID_REGEXP),templateId=match?parseInt(match[1],10):0,isCloseTemplateTag=PP_CLOSE_TEMPLATE_REGEXP.test(placeholder);placeholders.push([templateId,isCloseTemplateTag,placeholder])}),matches[content]=placeholders),!placeholders.length)throw new Error(`i18n postprocess: unmatched placeholder - ${content}`);const currentTemplateId=templateIdsStack[templateIdsStack.length-1];let idx=0;for(let i=0;i<placeholders.length;i++)if(placeholders[i][0]===currentTemplateId){idx=i;break}const[templateId,isCloseTemplateTag,placeholder]=placeholders[idx];return isCloseTemplateTag?templateIdsStack.pop():currentTemplateId!==templateId&&templateIdsStack.push(templateId),placeholders.splice(idx,1),placeholder})}return Object.keys(replacements).length?(result=result.replace(PP_ICU_VARS_REGEXP,(match,start,key,_type,_idx,end)=>replacements.hasOwnProperty(key)?`${start}${replacements[key]}${end}`:match),result=result.replace(PP_ICU_PLACEHOLDERS_REGEXP,(match,key)=>replacements.hasOwnProperty(key)?replacements[key]:match),result=result.replace(PP_ICUS_REGEXP,(match,key)=>{if(replacements.hasOwnProperty(key)){const list=replacements[key];if(!list.length)throw new Error(`i18n postprocess: unmatched ICU - ${match} with key: ${key}`);return(list.shift())}return match}),result):result}function ɵɵi18nEnd(){const lView=getLView(),tView=getTView();!function(tView,lView){const rootIndex=i18nIndexStack[i18nIndexStackPointer--],tI18n=tView.data[rootIndex+19];const lastCreatedNode=getPreviousOrParentTNode(),visitedNodes=readCreateOpCodes(rootIndex,tI18n.create,tView,lView);let index=rootIndex+1;for(;index<=lastCreatedNode.index-19;){-1===visitedNodes.indexOf(index)&&removeNode(tView,lView,index,!0);const tNode=getTNode(tView,index);!tNode||0!==tNode.type&&3!==tNode.type&&4!==tNode.type||null===tNode.localNames||(index+=tNode.localNames.length>>1),index++}}(tView,lView),setDelayProjection(!1)}function createDynamicNodeAtIndex(tView,lView,index,type,native,name){const previousOrParentTNode=getPreviousOrParentTNode();lView[index+19]=native;const tNode=getOrCreateTNode(tView,lView[6],index,type,name,null);return previousOrParentTNode&&previousOrParentTNode.next===tNode&&(previousOrParentTNode.next=null),tNode}function readCreateOpCodes(index,createOpCodes,tView,lView){const renderer=lView[11];let currentTNode=null,previousTNode=null;const visitedNodes=[];for(let i=0;i<createOpCodes.length;i++){const opCode=createOpCodes[i];if("string"==typeof opCode){const textRNode=createTextNode(opCode,renderer),textNodeIndex=createOpCodes[++i];previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,textNodeIndex,3,textRNode,null),visitedNodes.push(textNodeIndex),setIsNotParent()}else if("number"==typeof opCode)switch(7&opCode){case 1:const destinationNodeIndex=opCode>>>17;let destinationTNode;destinationTNode=destinationNodeIndex===index?lView[6]:getTNode(tView,destinationNodeIndex),previousTNode=appendI18nNode(tView,currentTNode,destinationTNode,previousTNode,lView);break;case 0:const isParent=opCode>=0,nodeIndex=(isParent?opCode:~opCode)>>>3;visitedNodes.push(nodeIndex),previousTNode=currentTNode,currentTNode=getTNode(tView,nodeIndex),currentTNode&&setPreviousOrParentTNode(currentTNode,isParent);break;case 5:previousTNode=currentTNode=getTNode(tView,opCode>>>3),setPreviousOrParentTNode(currentTNode,!1);break;case 4:const elementNodeIndex=opCode>>>3,attrName=createOpCodes[++i],attrValue=createOpCodes[++i];elementAttributeInternal(getTNode(tView,elementNodeIndex),lView,attrName,attrValue,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${opCode}"`)}else switch(opCode){case COMMENT_MARKER:const commentValue=createOpCodes[++i],commentNodeIndex=createOpCodes[++i],commentRNode=renderer.createComment(commentValue);previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,commentNodeIndex,5,commentRNode,null),visitedNodes.push(commentNodeIndex),attachPatchData(commentRNode,lView),currentTNode.activeCaseIndex=null,setIsNotParent();break;case ELEMENT_MARKER:const tagNameValue=createOpCodes[++i],elementNodeIndex=createOpCodes[++i];previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,elementNodeIndex,3,renderer.createElement(tagNameValue),tagNameValue),visitedNodes.push(elementNodeIndex);break;default:throw new Error(`Unable to determine the type of mutate operation for "${opCode}"`)}}return setIsNotParent(),visitedNodes}function removeNode(tView,lView,index,markAsDetached){const removedPhTNode=getTNode(tView,index),removedPhRNode=getNativeByIndex(index,lView);removedPhRNode&&nativeRemoveNode(lView[11],removedPhRNode);const slotValue=load(lView,index);if(isLContainer(slotValue)){const lContainer=slotValue;0!==removedPhTNode.type&&nativeRemoveNode(lView[11],lContainer[7])}markAsDetached&&(removedPhTNode.flags|=64)}function ɵɵi18n(index,message,subTemplateIndex){ɵɵi18nStart(index,message,subTemplateIndex),ɵɵi18nEnd()}function ɵɵi18nAttributes(index,values){const lView=getLView(),tView=getTView();!function(lView,tView,index,values){const previousElementIndex=getPreviousOrParentTNode().index-19,updateOpCodes=[];for(let i=0;i<values.length;i+=2){const attrName=values[i],parts=values[i+1].split(ICU_REGEXP);for(let j=0;j<parts.length;j++){const value=parts[j];if(1&j)throw new Error("ICU expressions are not yet supported in attributes");if(""!==value){if(!!value.match(BINDING_REGEXP))tView.firstCreatePass&&null===tView.data[index+19]&&addAllToArray(generateBindingUpdateOpCodes(value,previousElementIndex,attrName),updateOpCodes);else{const tNode=getTNode(tView,previousElementIndex);3===tNode.type&&elementAttributeInternal(tNode,lView,attrName,value,null,null);const dataValue=null!==tNode.inputs&&tNode.inputs[attrName];dataValue&&setInputsForProperty(tView,lView,dataValue,attrName,value)}}}}tView.firstCreatePass&&null===tView.data[index+19]&&(tView.data[index+19]=updateOpCodes)}(lView,tView,index,values)}let changeMask=0,shiftsCounter=0;function ɵɵi18nExp(value){return bindingUpdated(getLView(),nextBindingIndex(),value)&&(changeMask|=1<<shiftsCounter),shiftsCounter++,ɵɵi18nExp}function ɵɵi18nApply(index){if(shiftsCounter){const tView=getTView(),tI18n=tView.data[index+19];let updateOpCodes,icus=null;Array.isArray(tI18n)?updateOpCodes=tI18n:(updateOpCodes=tI18n.update,icus=tI18n.icus);const bindingsStartIndex=getBindingIndex()-shiftsCounter-1,lView=getLView();!function readUpdateOpCodes(updateOpCodes,icus,bindingsStartIndex,changeMask,tView,lView,bypassCheckBit=!1){let caseCreated=!1;for(let i=0;i<updateOpCodes.length;i++){const checkBit=updateOpCodes[i],skipCodes=updateOpCodes[++i];if(bypassCheckBit||checkBit&changeMask){let value="";for(let j=i+1;j<=i+skipCodes;j++){const opCode=updateOpCodes[j];if("string"==typeof opCode)value+=opCode;else if("number"==typeof opCode)if(opCode<0)value+=renderStringify(lView[bindingsStartIndex-opCode]);else{const nodeIndex=opCode>>>2;let tIcuIndex,tIcu,icuTNode;switch(3&opCode){case 1:const propName=updateOpCodes[++j],sanitizeFn=updateOpCodes[++j];elementPropertyInternal(tView,getTNode(tView,nodeIndex),lView,propName,value,lView[11],sanitizeFn,!1);break;case 0:textBindingInternal(lView,nodeIndex,value);break;case 2:if(tIcuIndex=updateOpCodes[++j],tIcu=icus[tIcuIndex],icuTNode=getTNode(tView,nodeIndex),null!==icuTNode.activeCaseIndex){const removeCodes=tIcu.remove[icuTNode.activeCaseIndex];for(let k=0;k<removeCodes.length;k++){const removeOpCode=removeCodes[k];switch(7&removeOpCode){case 3:removeNode(tView,lView,removeOpCode>>>3,!1);break;case 6:const activeIndex=getTNode(tView,removeCodes[k+1]>>>3).activeCaseIndex;if(null!==activeIndex){addAllToArray(icus[removeOpCode>>>3].remove[activeIndex],removeCodes)}}}}const caseIndex=getCaseIndex(tIcu,value);icuTNode.activeCaseIndex=-1!==caseIndex?caseIndex:null,caseIndex>-1&&(readCreateOpCodes(-1,tIcu.create[caseIndex],tView,lView),caseCreated=!0);break;case 3:tIcuIndex=updateOpCodes[++j],tIcu=icus[tIcuIndex],icuTNode=getTNode(tView,nodeIndex),null!==icuTNode.activeCaseIndex&&readUpdateOpCodes(tIcu.update[icuTNode.activeCaseIndex],icus,bindingsStartIndex,changeMask,tView,lView,caseCreated)}}}}i+=skipCodes}}(updateOpCodes,icus,bindingsStartIndex,changeMask,tView,lView),changeMask=0,shiftsCounter=0}}function getCaseIndex(icuExpression,bindingValue){let index=icuExpression.cases.indexOf(bindingValue);if(-1===index)switch(icuExpression.type){case 1:{const resolvedCase=function(value,locale){switch(getLocalePluralCase(locale)(value)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(bindingValue,LOCALE_ID);index=icuExpression.cases.indexOf(resolvedCase),-1===index&&"other"!==resolvedCase&&(index=icuExpression.cases.indexOf("other"));break}case 0:index=icuExpression.cases.indexOf("other")}return index}function icuStart(tIcus,icuExpression,startIndex,expandoStartIndex){const createCodes=[],removeCodes=[],updateCodes=[],vars=[],childIcus=[];for(let i=0;i<icuExpression.values.length;i++){const valueArr=icuExpression.values[i],nestedIcus=[];for(let j=0;j<valueArr.length;j++){const value=valueArr[j];if("string"!=typeof value){const icuIndex=nestedIcus.push(value)-1;valueArr[j]=`\x3c!--�${icuIndex}�--\x3e`}}const icuCase=parseIcuCase(valueArr.join(""),startIndex,nestedIcus,tIcus,expandoStartIndex);createCodes.push(icuCase.create),removeCodes.push(icuCase.remove),updateCodes.push(icuCase.update),vars.push(icuCase.vars),childIcus.push(icuCase.childIcus)}const tIcu={type:icuExpression.type,vars:vars,childIcus:childIcus,cases:icuExpression.cases,create:createCodes,remove:removeCodes,update:updateCodes};tIcus.push(tIcu),i18nVarsCount+=Math.max(...vars)}function parseIcuCase(unsafeHtml,parentIndex,nestedIcus,tIcus,expandoStartIndex){const inertBodyElement=new InertBodyHelper(getDocument()).getInertBodyElement(unsafeHtml);if(!inertBodyElement)throw new Error("Unable to generate inert body element");const opCodes={vars:0,childIcus:[],create:[],remove:[],update:[]};return function parseNodes(currentNode,icuCase,parentIndex,nestedIcus,tIcus,expandoStartIndex){if(currentNode){const nestedIcusToCreate=[];for(;currentNode;){const nextNode=currentNode.nextSibling,newIndex=expandoStartIndex+ ++icuCase.vars;switch(currentNode.nodeType){case Node.ELEMENT_NODE:const element=currentNode,tagName=element.tagName.toLowerCase();if(VALID_ELEMENTS.hasOwnProperty(tagName)){icuCase.create.push(ELEMENT_MARKER,tagName,newIndex,parentIndex<<17|1);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attr=elAttrs.item(i),lowerAttrName=attr.name.toLowerCase();!!attr.value.match(BINDING_REGEXP)?VALID_ATTRS.hasOwnProperty(lowerAttrName)&&(URI_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,_sanitizeUrl),icuCase.update):SRCSET_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,sanitizeSrcset),icuCase.update):addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name),icuCase.update)):icuCase.create.push(newIndex<<3|4,attr.name,attr.value)}parseNodes(currentNode.firstChild,icuCase,newIndex,nestedIcus,tIcus,expandoStartIndex),icuCase.remove.push(newIndex<<3|3)}else icuCase.vars--;break;case Node.TEXT_NODE:const value=currentNode.textContent||"",hasBinding=value.match(BINDING_REGEXP);icuCase.create.push(hasBinding?"":value,newIndex,parentIndex<<17|1),icuCase.remove.push(newIndex<<3|3),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(value,newIndex),icuCase.update);break;case Node.COMMENT_NODE:const match=NESTED_ICU.exec(currentNode.textContent||"");if(match){const nestedIcuIndex=parseInt(match[1],10),newLocal="";icuCase.create.push(COMMENT_MARKER,newLocal,newIndex,parentIndex<<17|1);const nestedIcu=nestedIcus[nestedIcuIndex];nestedIcusToCreate.push([nestedIcu,newIndex])}else icuCase.vars--;break;default:icuCase.vars--}currentNode=nextNode}for(let i=0;i<nestedIcusToCreate.length;i++){const nestedIcu=nestedIcusToCreate[i][0],nestedIcuNodeIndex=nestedIcusToCreate[i][1];icuStart(tIcus,nestedIcu,nestedIcuNodeIndex,expandoStartIndex+icuCase.vars);const nestTIcuIndex=tIcus.length-1;icuCase.vars+=Math.max(...tIcus[nestTIcuIndex].vars),icuCase.childIcus.push(nestTIcuIndex);const mask=getBindingMask(nestedIcu);icuCase.update.push(toMaskBit(nestedIcu.mainBinding),3,-1-nestedIcu.mainBinding,nestedIcuNodeIndex<<2|2,nestTIcuIndex,mask,2,nestedIcuNodeIndex<<2|3,nestTIcuIndex),icuCase.remove.push(nestTIcuIndex<<3|6,nestedIcuNodeIndex<<3|3)}}}((getTemplateContent(inertBodyElement)||inertBodyElement).firstChild,opCodes,parentIndex,nestedIcus,tIcus,expandoStartIndex),opCodes}const NESTED_ICU=/�(\d+)�/;const NGSP_UNICODE_REGEXP=/\uE500/g;let LOCALE_ID="en-US";function setLocaleId(localeId){assertDefined(localeId,"Expected localeId to be defined"),"string"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,"-"))}const modules=new Map;function registerModuleFactory(id,factory){const existing=modules.get(id);assertSameOrNotExisting(id,existing&&existing.moduleType,factory.moduleType),modules.set(id,factory)}function assertSameOrNotExisting(id,type,incoming){if(type&&type!==incoming)throw new Error(`Duplicate module registered for ${id} - ${stringify(type)} vs ${stringify(type.name)}`)}class NgModuleRef$1 extends NgModuleRef{constructor(ngModuleType,_parent){super(),this._parent=_parent,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver$1(this);const ngModuleDef=getNgModuleDef(ngModuleType),ngLocaleIdDef=ngModuleType[NG_LOC_ID_DEF]||null;ngLocaleIdDef&&setLocaleId(ngLocaleIdDef),this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(ngModuleType,_parent,[{provide:NgModuleRef,useValue:this},{provide:ComponentFactoryResolver,useValue:this.componentFactoryResolver}],stringify(ngModuleType)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(ngModuleType)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){return token===Injector||token===NgModuleRef||token===INJECTOR?this:this._r3Injector.get(token,notFoundValue,injectFlags)}destroy(){const injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null}onDestroy(callback){this.destroyCbs.push(callback)}}class NgModuleFactory$1 extends NgModuleFactory{constructor(moduleType){super(),this.moduleType=moduleType,null!==getNgModuleDef(moduleType)&&function registerNgModuleType(ngModuleType){if(null!==ngModuleType.ɵmod.id){const id=ngModuleType.ɵmod.id;assertSameOrNotExisting(id,modules.get(id),ngModuleType),modules.set(id,ngModuleType)}let imports=ngModuleType.ɵmod.imports;imports instanceof Function&&(imports=imports()),imports&&imports.forEach(i=>registerNgModuleType(i))}(moduleType)}create(parentInjector){return new NgModuleRef$1(this.moduleType,parentInjector)}}function ɵɵpureFunction0(slotOffset,pureFn,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return lView[bindingIndex]===NO_CHANGE?updateBinding(lView,bindingIndex,thisArg?pureFn.call(thisArg):pureFn()):getBinding(lView,bindingIndex)}function ɵɵpureFunction1(slotOffset,pureFn,exp,thisArg){return pureFunction1Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp,thisArg)}function ɵɵpureFunction2(slotOffset,pureFn,exp1,exp2,thisArg){return pureFunction2Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,thisArg)}function ɵɵpureFunction3(slotOffset,pureFn,exp1,exp2,exp3,thisArg){return pureFunction3Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,exp3,thisArg)}function ɵɵpureFunction4(slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){return pureFunction4Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg)}function ɵɵpureFunction5(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated(lView,bindingIndex+4,exp5)||different?updateBinding(lView,bindingIndex+5,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5):pureFn(exp1,exp2,exp3,exp4,exp5)):getBinding(lView,bindingIndex+5)}function ɵɵpureFunction6(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated2(lView,bindingIndex+4,exp5,exp6)||different?updateBinding(lView,bindingIndex+6,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6):pureFn(exp1,exp2,exp3,exp4,exp5,exp6)):getBinding(lView,bindingIndex+6)}function ɵɵpureFunction7(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView();let different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated3(lView,bindingIndex+4,exp5,exp6,exp7)||different?updateBinding(lView,bindingIndex+7,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7)):getBinding(lView,bindingIndex+7)}function ɵɵpureFunction8(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated4(lView,bindingIndex+4,exp5,exp6,exp7,exp8)||different?updateBinding(lView,bindingIndex+8,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8)):getBinding(lView,bindingIndex+8)}function ɵɵpureFunctionV(slotOffset,pureFn,exps,thisArg){return pureFunctionVInternal(getLView(),getBindingRoot(),slotOffset,pureFn,exps,thisArg)}function getPureFunctionReturnValue(lView,returnValueIndex){const lastReturnValue=lView[returnValueIndex];return lastReturnValue===NO_CHANGE?void 0:lastReturnValue}function pureFunction1Internal(lView,bindingRoot,slotOffset,pureFn,exp,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated(lView,bindingIndex,exp)?updateBinding(lView,bindingIndex+1,thisArg?pureFn.call(thisArg,exp):pureFn(exp)):getPureFunctionReturnValue(lView,bindingIndex+1)}function pureFunction2Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated2(lView,bindingIndex,exp1,exp2)?updateBinding(lView,bindingIndex+2,thisArg?pureFn.call(thisArg,exp1,exp2):pureFn(exp1,exp2)):getPureFunctionReturnValue(lView,bindingIndex+2)}function pureFunction3Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3)?updateBinding(lView,bindingIndex+3,thisArg?pureFn.call(thisArg,exp1,exp2,exp3):pureFn(exp1,exp2,exp3)):getPureFunctionReturnValue(lView,bindingIndex+3)}function pureFunction4Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4)?updateBinding(lView,bindingIndex+4,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4):pureFn(exp1,exp2,exp3,exp4)):getPureFunctionReturnValue(lView,bindingIndex+4)}function pureFunctionVInternal(lView,bindingRoot,slotOffset,pureFn,exps,thisArg){let bindingIndex=bindingRoot+slotOffset,different=!1;for(let i=0;i<exps.length;i++)bindingUpdated(lView,bindingIndex++,exps[i])&&(different=!0);return different?updateBinding(lView,bindingIndex,pureFn.apply(thisArg,exps)):getPureFunctionReturnValue(lView,bindingIndex)}function ɵɵpipe(index,pipeName){const tView=getTView();let pipeDef;const adjustedIndex=index+19;tView.firstCreatePass?(pipeDef=function(name,registry){if(registry)for(let i=registry.length-1;i>=0;i--){const pipeDef=registry[i];if(name===pipeDef.name)return pipeDef}throw new Error(`The pipe '${name}' could not be found!`)}(pipeName,tView.pipeRegistry),tView.data[adjustedIndex]=pipeDef,pipeDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(adjustedIndex,pipeDef.onDestroy)):pipeDef=tView.data[adjustedIndex];const pipeFactory=pipeDef.factory||(pipeDef.factory=getFactoryDef(pipeDef.type)),previousInjectImplementation=setInjectImplementation(ɵɵdirectiveInject),pipeInstance=pipeFactory();return setInjectImplementation(previousInjectImplementation),function(tView,lView,index,value){const adjustedIndex=index+19;adjustedIndex>=tView.data.length&&(tView.data[adjustedIndex]=null,tView.blueprint[adjustedIndex]=null),lView[adjustedIndex]=value}(tView,getLView(),index,pipeInstance),pipeInstance}function ɵɵpipeBind1(index,slotOffset,v1){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction1Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,pipeInstance):pipeInstance.transform(v1))}function ɵɵpipeBind2(index,slotOffset,v1,v2){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction2Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,pipeInstance):pipeInstance.transform(v1,v2))}function ɵɵpipeBind3(index,slotOffset,v1,v2,v3){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction3Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,v3,pipeInstance):pipeInstance.transform(v1,v2,v3))}function ɵɵpipeBind4(index,slotOffset,v1,v2,v3,v4){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction4Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,v3,v4,pipeInstance):pipeInstance.transform(v1,v2,v3,v4))}function ɵɵpipeBindV(index,slotOffset,values){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunctionVInternal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,values,pipeInstance):pipeInstance.transform.apply(pipeInstance,values))}function isPure(lView,index){return lView[1].data[index+19].pure}function unwrapValue$1(lView,newValue){if(WrappedValue.isWrapped(newValue)){newValue=WrappedValue.unwrap(newValue),lView[getBindingIndex()]=NO_CHANGE}return newValue}class core_EventEmitter extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription_Subscription&&generatorOrNext.add(sink),sink}}function symbolIterator(){return this._results[core_getSymbolIterator()]()}class QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new core_EventEmitter,this.length=0;const symbol=core_getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=flatten(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class LQuery_{constructor(queryList){this.queryList=queryList,this.matches=null}clone(){return new LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class LQueries_{constructor(queries=[]){this.queries=queries}createEmbeddedView(tView){const tQueries=tView.queries;if(null!==tQueries){const noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=[];for(let i=0;i<noOfInheritedQueries;i++){const tQuery=tQueries.getByIndex(i),parentLQuery=this.queries[tQuery.indexInDeclarationView];viewLQueries.push(parentLQuery.clone())}return new LQueries_(viewLQueries)}return null}insertView(tView){this.dirtyQueriesWithMatches(tView)}detachView(tView){this.dirtyQueriesWithMatches(tView)}dirtyQueriesWithMatches(tView){for(let i=0;i<this.queries.length;i++)null!==getTQuery(tView,i).matches&&this.queries[i].setDirty()}}class TQueryMetadata_{constructor(predicate,descendants,isStatic,read=null){this.predicate=predicate,this.descendants=descendants,this.isStatic=isStatic,this.read=read}}class TQueries_{constructor(queries=[]){this.queries=queries}elementStart(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(tView,tNode)}elementEnd(tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(tNode)}embeddedTView(tNode){let queriesForTemplateRef=null;for(let i=0;i<this.length;i++){const childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new TQueries_(queriesForTemplateRef):null}template(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].template(tView,tNode)}getByIndex(index){return this.queries[index]}get length(){return this.queries.length}track(tquery){this.queries.push(tquery)}}class TQuery_{constructor(metadata,nodeIndex=-1){this.metadata=metadata,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=nodeIndex}elementStart(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)}elementEnd(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)}template(tView,tNode){this.elementStart(tView,tNode)}embeddedTView(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new TQuery_(this.metadata)):null}isApplyingToNode(tNode){if(this._appliesToNextNode&&!1===this.metadata.descendants){const declarationNodeIdx=this._declarationNodeIndex;let parent=tNode.parent;for(;null!==parent&&4===parent.type&&parent.index!==declarationNodeIdx;)parent=parent.parent;return declarationNodeIdx===(null!==parent?parent.index:-1)}return this._appliesToNextNode}matchTNode(tView,tNode){if(Array.isArray(this.metadata.predicate)){const localNames=this.metadata.predicate;for(let i=0;i<localNames.length;i++)this.matchTNodeWithReadOption(tView,tNode,getIdxOfMatchingSelector(tNode,localNames[i]))}else{const typePredicate=this.metadata.predicate;typePredicate===TemplateRef?0===tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,typePredicate,!1,!1))}}matchTNodeWithReadOption(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){const read=this.metadata.read;if(null!==read)if(read===ElementRef||read===ViewContainerRef||read===TemplateRef&&0===tNode.type)this.addMatch(tNode.index,-2);else{const directiveOrProviderIdx=locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}}addMatch(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)}}function getIdxOfMatchingSelector(tNode,selector){const localNames=tNode.localNames;if(null!==localNames)for(let i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function(tNode,currentView){return 3===tNode.type||4===tNode.type?createElementRef(ElementRef,tNode,currentView):0===tNode.type?createTemplateRef(TemplateRef,ElementRef,tNode,currentView):null}(tNode,lView):-2===matchingIdx?function(lView,tNode,read){if(read===ElementRef)return createElementRef(ElementRef,tNode,lView);if(read===TemplateRef)return createTemplateRef(TemplateRef,ElementRef,tNode,lView);if(read===ViewContainerRef)return createContainerRef(ViewContainerRef,ElementRef,tNode,lView)}(lView,tNode,read):getNodeInjectable(lView,lView[1],matchingIdx,tNode)}function materializeViewResults(tView,lView,tQuery,queryIndex){const lQuery=lView[5].queries[queryIndex];if(null===lQuery.matches){const tViewData=tView.data,tQueryMatches=tQuery.matches,result=[];for(let i=0;i<tQueryMatches.length;i+=2){const matchedNodeIdx=tQueryMatches[i];if(matchedNodeIdx<0)result.push(null);else{const tNode=tViewData[matchedNodeIdx];result.push(createResultForNode(lView,tNode,tQueryMatches[i+1],tQuery.metadata.read))}}lQuery.matches=result}return lQuery.matches}function ɵɵqueryRefresh(queryList){const lView=getLView(),tView=getTView(),queryIndex=getCurrentQueryIndex();setCurrentQueryIndex(queryIndex+1);const tQuery=getTQuery(tView,queryIndex);if(queryList.dirty&&isCreationMode(lView)===tQuery.metadata.isStatic){if(null===tQuery.matches)queryList.reset([]);else{const result=tQuery.crossesNgTemplate?function collectQueryResults(tView,lView,queryIndex,result){const tQuery=tView.queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches){const lViewResults=materializeViewResults(tView,lView,tQuery,queryIndex);for(let i=0;i<tQueryMatches.length;i+=2){const tNodeIdx=tQueryMatches[i];if(tNodeIdx>0)result.push(lViewResults[i/2]);else{const childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];for(let i=9;i<declarationLContainer.length;i++){const embeddedLView=declarationLContainer[i];embeddedLView[17]===embeddedLView[3]&&collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}if(null!==declarationLContainer[5]){const embeddedLViews=declarationLContainer[5];for(let i=0;i<embeddedLViews.length;i++){const embeddedLView=embeddedLViews[i];collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}}}}}return result}(tView,lView,queryIndex,[]):materializeViewResults(tView,lView,tQuery,queryIndex);queryList.reset(result),queryList.notifyOnChanges()}return!0}return!1}function ɵɵstaticViewQuery(predicate,descend,read){viewQueryInternal(getTView(),getLView(),predicate,descend,read,!0)}function ɵɵviewQuery(predicate,descend,read){viewQueryInternal(getTView(),getLView(),predicate,descend,read,!1)}function viewQueryInternal(tView,lView,predicate,descend,read,isStatic){tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),-1),isStatic&&(tView.staticViewQueries=!0)),createLQuery(tView,lView)}function ɵɵcontentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getTView(),getLView(),predicate,descend,read,!1,getPreviousOrParentTNode(),directiveIndex)}function ɵɵstaticContentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getTView(),getLView(),predicate,descend,read,!0,getPreviousOrParentTNode(),directiveIndex)}function contentQueryInternal(tView,lView,predicate,descend,read,isStatic,tNode,directiveIndex){tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),tNode.index),function(tView,directiveIndex){const tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]),lastSavedDirectiveIndex=tView.contentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1;directiveIndex!==lastSavedDirectiveIndex&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex),isStatic&&(tView.staticContentQueries=!0)),createLQuery(tView,lView)}function ɵɵloadQuery(){return lView=getLView(),queryIndex=getCurrentQueryIndex(),lView[5].queries[queryIndex].queryList;var lView,queryIndex}function createLQuery(tView,lView){const queryList=new QueryList;!function(tView,lView,context,cleanupFn){const lCleanup=getLCleanup(lView);lCleanup.push(context),tView.firstCreatePass&&getTViewCleanup(tView).push(cleanupFn,lCleanup.length-1)}(tView,lView,queryList,queryList.destroy),null===lView[5]&&(lView[5]=new LQueries_),lView[5].queries.push(new LQuery_(queryList))}function createTQuery(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new TQueries_),tView.queries.track(new TQuery_(metadata,nodeIndex))}function getTQuery(tView,index){return tView.queries.getByIndex(index)}function ɵɵtemplateRefExtractor(tNode,currentView){return createTemplateRef(TemplateRef,ElementRef,tNode,currentView)}function ɵɵinjectPipeChangeDetectorRef(flags=InjectFlags.Default){const value=injectChangeDetectorRef(!0);if(null!=value||flags&InjectFlags.Optional)return value;throw new Error("No provider for ChangeDetectorRef!")}const angularCoreEnv={"ɵɵattribute":ɵɵattribute,"ɵɵattributeInterpolate1":ɵɵattributeInterpolate1,"ɵɵattributeInterpolate2":ɵɵattributeInterpolate2,"ɵɵattributeInterpolate3":ɵɵattributeInterpolate3,"ɵɵattributeInterpolate4":ɵɵattributeInterpolate4,"ɵɵattributeInterpolate5":ɵɵattributeInterpolate5,"ɵɵattributeInterpolate6":ɵɵattributeInterpolate6,"ɵɵattributeInterpolate7":ɵɵattributeInterpolate7,"ɵɵattributeInterpolate8":ɵɵattributeInterpolate8,"ɵɵattributeInterpolateV":ɵɵattributeInterpolateV,"ɵɵdefineComponent":ɵɵdefineComponent,"ɵɵdefineDirective":ɵɵdefineDirective,"ɵɵdefineInjectable":ɵɵdefineInjectable,"ɵɵdefineInjector":ɵɵdefineInjector,"ɵɵdefineNgModule":ɵɵdefineNgModule,"ɵɵdefinePipe":ɵɵdefinePipe,"ɵɵdirectiveInject":ɵɵdirectiveInject,"ɵɵgetFactoryOf":ɵɵgetFactoryOf,"ɵɵgetInheritedFactory":ɵɵgetInheritedFactory,"ɵɵinject":ɵɵinject,"ɵɵinjectAttribute":ɵɵinjectAttribute,"ɵɵinvalidFactory":ɵɵinvalidFactory,"ɵɵinvalidFactoryDep":ɵɵinvalidFactoryDep,"ɵɵinjectPipeChangeDetectorRef":ɵɵinjectPipeChangeDetectorRef,"ɵɵtemplateRefExtractor":ɵɵtemplateRefExtractor,"ɵɵNgOnChangesFeature":ɵɵNgOnChangesFeature,"ɵɵProvidersFeature":ɵɵProvidersFeature,"ɵɵCopyDefinitionFeature":ɵɵCopyDefinitionFeature,"ɵɵInheritDefinitionFeature":ɵɵInheritDefinitionFeature,"ɵɵcontainer":ɵɵcontainer,"ɵɵnextContext":ɵɵnextContext,"ɵɵcontainerRefreshStart":ɵɵcontainerRefreshStart,"ɵɵcontainerRefreshEnd":ɵɵcontainerRefreshEnd,"ɵɵnamespaceHTML":ɵɵnamespaceHTML,"ɵɵnamespaceMathML":ɵɵnamespaceMathML,"ɵɵnamespaceSVG":ɵɵnamespaceSVG,"ɵɵenableBindings":ɵɵenableBindings,"ɵɵdisableBindings":ɵɵdisableBindings,"ɵɵelementStart":ɵɵelementStart,"ɵɵelementEnd":ɵɵelementEnd,"ɵɵelement":ɵɵelement,"ɵɵelementContainerStart":ɵɵelementContainerStart,"ɵɵelementContainerEnd":ɵɵelementContainerEnd,"ɵɵelementContainer":ɵɵelementContainer,"ɵɵpureFunction0":ɵɵpureFunction0,"ɵɵpureFunction1":ɵɵpureFunction1,"ɵɵpureFunction2":ɵɵpureFunction2,"ɵɵpureFunction3":ɵɵpureFunction3,"ɵɵpureFunction4":ɵɵpureFunction4,"ɵɵpureFunction5":ɵɵpureFunction5,"ɵɵpureFunction6":ɵɵpureFunction6,"ɵɵpureFunction7":ɵɵpureFunction7,"ɵɵpureFunction8":ɵɵpureFunction8,"ɵɵpureFunctionV":ɵɵpureFunctionV,"ɵɵgetCurrentView":ɵɵgetCurrentView,"ɵɵrestoreView":ɵɵrestoreView,"ɵɵlistener":ɵɵlistener,"ɵɵprojection":ɵɵprojection,"ɵɵupdateSyntheticHostBinding":ɵɵupdateSyntheticHostBinding,"ɵɵcomponentHostSyntheticListener":ɵɵcomponentHostSyntheticListener,"ɵɵpipeBind1":ɵɵpipeBind1,"ɵɵpipeBind2":ɵɵpipeBind2,"ɵɵpipeBind3":ɵɵpipeBind3,"ɵɵpipeBind4":ɵɵpipeBind4,"ɵɵpipeBindV":ɵɵpipeBindV,"ɵɵprojectionDef":ɵɵprojectionDef,"ɵɵhostProperty":ɵɵhostProperty,"ɵɵproperty":ɵɵproperty,"ɵɵpropertyInterpolate":ɵɵpropertyInterpolate,"ɵɵpropertyInterpolate1":ɵɵpropertyInterpolate1,"ɵɵpropertyInterpolate2":ɵɵpropertyInterpolate2,"ɵɵpropertyInterpolate3":ɵɵpropertyInterpolate3,"ɵɵpropertyInterpolate4":ɵɵpropertyInterpolate4,"ɵɵpropertyInterpolate5":ɵɵpropertyInterpolate5,"ɵɵpropertyInterpolate6":ɵɵpropertyInterpolate6,"ɵɵpropertyInterpolate7":ɵɵpropertyInterpolate7,"ɵɵpropertyInterpolate8":ɵɵpropertyInterpolate8,"ɵɵpropertyInterpolateV":ɵɵpropertyInterpolateV,"ɵɵpipe":ɵɵpipe,"ɵɵqueryRefresh":ɵɵqueryRefresh,"ɵɵviewQuery":ɵɵviewQuery,"ɵɵstaticViewQuery":ɵɵstaticViewQuery,"ɵɵstaticContentQuery":ɵɵstaticContentQuery,"ɵɵloadQuery":ɵɵloadQuery,"ɵɵcontentQuery":ɵɵcontentQuery,"ɵɵreference":ɵɵreference,"ɵɵclassMap":ɵɵclassMap,"ɵɵclassMapInterpolate1":ɵɵclassMapInterpolate1,"ɵɵclassMapInterpolate2":ɵɵclassMapInterpolate2,"ɵɵclassMapInterpolate3":ɵɵclassMapInterpolate3,"ɵɵclassMapInterpolate4":ɵɵclassMapInterpolate4,"ɵɵclassMapInterpolate5":ɵɵclassMapInterpolate5,"ɵɵclassMapInterpolate6":ɵɵclassMapInterpolate6,"ɵɵclassMapInterpolate7":ɵɵclassMapInterpolate7,"ɵɵclassMapInterpolate8":ɵɵclassMapInterpolate8,"ɵɵclassMapInterpolateV":ɵɵclassMapInterpolateV,"ɵɵstyleMap":ɵɵstyleMap,"ɵɵstyleMapInterpolate1":ɵɵstyleMapInterpolate1,"ɵɵstyleMapInterpolate2":ɵɵstyleMapInterpolate2,"ɵɵstyleMapInterpolate3":ɵɵstyleMapInterpolate3,"ɵɵstyleMapInterpolate4":ɵɵstyleMapInterpolate4,"ɵɵstyleMapInterpolate5":ɵɵstyleMapInterpolate5,"ɵɵstyleMapInterpolate6":ɵɵstyleMapInterpolate6,"ɵɵstyleMapInterpolate7":ɵɵstyleMapInterpolate7,"ɵɵstyleMapInterpolate8":ɵɵstyleMapInterpolate8,"ɵɵstyleMapInterpolateV":ɵɵstyleMapInterpolateV,"ɵɵstyleProp":ɵɵstyleProp,"ɵɵstylePropInterpolate1":ɵɵstylePropInterpolate1,"ɵɵstylePropInterpolate2":ɵɵstylePropInterpolate2,"ɵɵstylePropInterpolate3":ɵɵstylePropInterpolate3,"ɵɵstylePropInterpolate4":ɵɵstylePropInterpolate4,"ɵɵstylePropInterpolate5":ɵɵstylePropInterpolate5,"ɵɵstylePropInterpolate6":ɵɵstylePropInterpolate6,"ɵɵstylePropInterpolate7":ɵɵstylePropInterpolate7,"ɵɵstylePropInterpolate8":ɵɵstylePropInterpolate8,"ɵɵstylePropInterpolateV":ɵɵstylePropInterpolateV,"ɵɵstyleSanitizer":ɵɵstyleSanitizer,"ɵɵclassProp":ɵɵclassProp,"ɵɵselect":ɵɵselect,"ɵɵadvance":ɵɵadvance,"ɵɵtemplate":ɵɵtemplate,"ɵɵtext":ɵɵtext,"ɵɵtextInterpolate":ɵɵtextInterpolate,"ɵɵtextInterpolate1":ɵɵtextInterpolate1,"ɵɵtextInterpolate2":ɵɵtextInterpolate2,"ɵɵtextInterpolate3":ɵɵtextInterpolate3,"ɵɵtextInterpolate4":ɵɵtextInterpolate4,"ɵɵtextInterpolate5":ɵɵtextInterpolate5,"ɵɵtextInterpolate6":ɵɵtextInterpolate6,"ɵɵtextInterpolate7":ɵɵtextInterpolate7,"ɵɵtextInterpolate8":ɵɵtextInterpolate8,"ɵɵtextInterpolateV":ɵɵtextInterpolateV,"ɵɵembeddedViewStart":ɵɵembeddedViewStart,"ɵɵembeddedViewEnd":ɵɵembeddedViewEnd,"ɵɵi18n":ɵɵi18n,"ɵɵi18nAttributes":ɵɵi18nAttributes,"ɵɵi18nExp":ɵɵi18nExp,"ɵɵi18nStart":ɵɵi18nStart,"ɵɵi18nEnd":ɵɵi18nEnd,"ɵɵi18nApply":ɵɵi18nApply,"ɵɵi18nPostprocess":ɵɵi18nPostprocess,"ɵɵresolveWindow":ɵɵresolveWindow,"ɵɵresolveDocument":ɵɵresolveDocument,"ɵɵresolveBody":ɵɵresolveBody,"ɵɵsetComponentScope":ɵɵsetComponentScope,"ɵɵsetNgModuleScope":ɵɵsetNgModuleScope,"ɵɵsanitizeHtml":ɵɵsanitizeHtml,"ɵɵsanitizeStyle":ɵɵsanitizeStyle,"ɵɵdefaultStyleSanitizer":ɵɵdefaultStyleSanitizer,"ɵɵsanitizeResourceUrl":ɵɵsanitizeResourceUrl,"ɵɵsanitizeScript":ɵɵsanitizeScript,"ɵɵsanitizeUrl":ɵɵsanitizeUrl,"ɵɵsanitizeUrlOrResourceUrl":ɵɵsanitizeUrlOrResourceUrl},EMPTY_ARRAY$5=[];const moduleQueue=[];let flushingModuleQueue=!1;function isResolvedDeclaration(declaration){return Array.isArray(declaration)?declaration.every(isResolvedDeclaration):!!resolveForwardRef(declaration)}new Map,new Map;function setScopeOnDeclaredComponents(moduleType,ngModule){const declarations=flatten(ngModule.declarations||EMPTY_ARRAY$5),transitiveScopes=transitiveScopesFor(moduleType);declarations.forEach(declaration=>{if(declaration.hasOwnProperty(NG_COMP_DEF)){patchComponentDefWithScope(getComponentDef(declaration),transitiveScopes)}else declaration.hasOwnProperty(NG_DIR_DEF)||declaration.hasOwnProperty(NG_PIPE_DEF)||(declaration.ngSelectorScope=moduleType)})}function patchComponentDefWithScope(componentDef,transitiveScopes){componentDef.directiveDefs=()=>Array.from(transitiveScopes.compilation.directives).map(dir=>dir.hasOwnProperty(NG_COMP_DEF)?getComponentDef(dir):getDirectiveDef(dir)).filter(def=>!!def),componentDef.pipeDefs=()=>Array.from(transitiveScopes.compilation.pipes).map(pipe=>getPipeDef(pipe)),componentDef.schemas=transitiveScopes.schemas,componentDef.tView=null}function transitiveScopesFor(moduleType){if(!isNgModule(moduleType))throw new Error(`${moduleType.name} does not have a module def (ɵmod property)`);const def=getNgModuleDef(moduleType);if(null!==def.transitiveCompileScopes)return def.transitiveCompileScopes;const scopes={schemas:def.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return maybeUnwrapFn(def.imports).forEach(imported=>{const importedType=imported;if(!isNgModule(importedType))throw new Error(`Importing ${importedType.name} which does not have a ɵmod property`);const importedScope=transitiveScopesFor(importedType);importedScope.exported.directives.forEach(entry=>scopes.compilation.directives.add(entry)),importedScope.exported.pipes.forEach(entry=>scopes.compilation.pipes.add(entry))}),maybeUnwrapFn(def.declarations).forEach(declared=>{getPipeDef(declared)?scopes.compilation.pipes.add(declared):scopes.compilation.directives.add(declared)}),maybeUnwrapFn(def.exports).forEach(exported=>{const exportedType=exported;if(isNgModule(exportedType)){const exportedScope=transitiveScopesFor(exportedType);exportedScope.exported.directives.forEach(entry=>{scopes.compilation.directives.add(entry),scopes.exported.directives.add(entry)}),exportedScope.exported.pipes.forEach(entry=>{scopes.compilation.pipes.add(entry),scopes.exported.pipes.add(entry)})}else getPipeDef(exportedType)?scopes.exported.pipes.add(exportedType):scopes.exported.directives.add(exportedType)}),def.transitiveCompileScopes=scopes,scopes}function expandModuleWithProviders(value){return function(value){return void 0!==value.ngModule}(value)?value.ngModule:value}function isNgModule(value){return!!getNgModuleDef(value)}function compileDirective(type,directive){let ngDirectiveDef=null;addDirectiveFactoryDef(type,directive||{}),Object.defineProperty(type,NG_DIR_DEF,{get:()=>{if(null===ngDirectiveDef){const meta=getDirectiveMetadata(type,directive||{});ngDirectiveDef=getCompilerFacade().compileDirective(angularCoreEnv,meta.sourceMapUrl,meta.metadata)}return ngDirectiveDef},configurable:!1})}function getDirectiveMetadata(type,metadata){const name=type&&type.name,sourceMapUrl=`ng:///${name}/ɵdir.js`,compiler=getCompilerFacade(),facade=directiveMetadata(type,metadata);return facade.typeSourceSpan=compiler.createParseSourceSpan("Directive",name,sourceMapUrl),facade.usesInheritance&&addDirectiveDefToUndecoratedParents(type),{metadata:facade,sourceMapUrl:sourceMapUrl}}function addDirectiveFactoryDef(type,metadata){let ngFactoryDef=null;Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const meta=getDirectiveMetadata(type,metadata),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${type.name}/ɵfac.js`,Object.assign(Object.assign({},meta.metadata),{injectFn:"directiveInject",target:compiler.R3FactoryTarget.Directive}))}return ngFactoryDef},configurable:!1})}function extendsDirectlyFromObject(type){return Object.getPrototypeOf(type.prototype)===Object.prototype}function directiveMetadata(type,metadata){const reflect=getReflect(),propMetadata=reflect.ownPropMetadata(type);return{name:type.name,type:type,typeArgumentCount:0,selector:void 0!==metadata.selector?metadata.selector:null,deps:reflectDependencies(type),host:metadata.host||EMPTY_OBJ,propMetadata:propMetadata,inputs:metadata.inputs||EMPTY_ARRAY,outputs:metadata.outputs||EMPTY_ARRAY,queries:extractQueriesMetadata(type,propMetadata,isContentQuery),lifecycle:{usesOnChanges:reflect.hasLifecycleHook(type,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!extendsDirectlyFromObject(type),exportAs:(exportAs=metadata.exportAs,void 0===exportAs?null:splitByComma(exportAs)),providers:metadata.providers||null,viewQueries:extractQueriesMetadata(type,propMetadata,isViewQuery)};var exportAs}function addDirectiveDefToUndecoratedParents(type){const objPrototype=Object.prototype;let parent=Object.getPrototypeOf(type.prototype).constructor;for(;parent&&parent!==objPrototype;)getDirectiveDef(parent)||getComponentDef(parent)||!shouldAddAbstractDirective(parent)||compileDirective(parent,null),parent=Object.getPrototypeOf(parent)}function convertToR3QueryMetadata(propertyName,ann){return{propertyName:propertyName,predicate:(selector=ann.selector,"string"==typeof selector?splitByComma(selector):resolveForwardRef(selector)),descendants:ann.descendants,first:ann.first,read:ann.read?ann.read:null,static:!!ann.static};var selector}function extractQueriesMetadata(type,propMetadata,isQueryAnn){const queriesMeta=[];for(const field in propMetadata)if(propMetadata.hasOwnProperty(field)){const annotations=propMetadata[field];annotations.forEach(ann=>{if(isQueryAnn(ann)){if(!ann.selector)throw new Error(`Can't construct a query for the property "${field}" of `+`"${stringifyForError(type)}" since the query selector wasn't defined.`);if(annotations.some(isInputAnnotation))throw new Error("Cannot combine @Input decorators with query decorators");queriesMeta.push(convertToR3QueryMetadata(field,ann))}})}return queriesMeta}function isContentQuery(value){const name=value.ngMetadataName;return"ContentChild"===name||"ContentChildren"===name}function isViewQuery(value){const name=value.ngMetadataName;return"ViewChild"===name||"ViewChildren"===name}function isInputAnnotation(value){return"Input"===value.ngMetadataName}function splitByComma(value){return value.split(",").map(piece=>piece.trim())}const LIFECYCLE_HOOKS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function shouldAddAbstractDirective(type){const reflect=getReflect();if(LIFECYCLE_HOOKS.some(hookName=>reflect.hasLifecycleHook(type,hookName)))return!0;const propMetadata=reflect.propMetadata(type);for(const field in propMetadata){const annotations=propMetadata[field];for(let i=0;i<annotations.length;i++){const current=annotations[i],metadataName=current.ngMetadataName;if(isInputAnnotation(current)||isContentQuery(current)||isViewQuery(current)||"Output"===metadataName||"HostBinding"===metadataName||"HostListener"===metadataName)return!0}}return!1}function getPipeMetadata(type,meta){return{type:type,typeArgumentCount:0,name:type.name,deps:reflectDependencies(type),pipeName:meta.name,pure:void 0===meta.pure||meta.pure}}const Directive=makeDecorator("Directive",(dir={})=>dir,void 0,void 0,(type,meta)=>SWITCH_COMPILE_DIRECTIVE(type,meta));const core_Component=makeDecorator("Component",(c={})=>Object.assign({changeDetection:ChangeDetectionStrategy.Default},c),Directive,void 0,(type,meta)=>SWITCH_COMPILE_COMPONENT(type,meta));makeDecorator("Pipe",p=>Object.assign({pure:!0},p),void 0,void 0,(type,meta)=>SWITCH_COMPILE_PIPE(type,meta));const Input=makePropDecorator("Input",bindingPropertyName=>({bindingPropertyName:bindingPropertyName}));const Output=makePropDecorator("Output",bindingPropertyName=>({bindingPropertyName:bindingPropertyName}));const HostBinding=makePropDecorator("HostBinding",hostPropertyName=>({hostPropertyName:hostPropertyName}));const HostListener=makePropDecorator("HostListener",(eventName,args)=>({eventName:eventName,args:args})),SWITCH_COMPILE_COMPONENT=function(type,metadata){let ngComponentDef=null;!function(type,metadata){componentNeedsResolution(metadata)&&(componentResourceResolutionQueue.set(type,metadata),componentDefPendingResolution.add(type))}(type,metadata),addDirectiveFactoryDef(type,metadata),Object.defineProperty(type,NG_COMP_DEF,{get:()=>{if(null===ngComponentDef){const compiler=getCompilerFacade();if(componentNeedsResolution(metadata)){const error=[`Component '${type.name}' is not resolved:`];throw metadata.templateUrl&&error.push(` - templateUrl: ${metadata.templateUrl}`),metadata.styleUrls&&metadata.styleUrls.length&&error.push(` - styleUrls: ${JSON.stringify(metadata.styleUrls)}`),error.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(error.join("\n"))}const templateUrl=metadata.templateUrl||`ng:///${type.name}/template.html`,meta=Object.assign(Object.assign({},directiveMetadata(type,metadata)),{typeSourceSpan:compiler.createParseSourceSpan("Component",type.name,templateUrl),template:metadata.template||"",preserveWhitespaces:metadata.preserveWhitespaces||!1,styles:metadata.styles||EMPTY_ARRAY,animations:metadata.animations,directives:[],changeDetection:metadata.changeDetection,pipes:new Map,encapsulation:metadata.encapsulation||ViewEncapsulation$1.Emulated,interpolation:metadata.interpolation,viewProviders:metadata.viewProviders||null});if(meta.usesInheritance&&addDirectiveDefToUndecoratedParents(type),ngComponentDef=compiler.compileComponent(angularCoreEnv,templateUrl,meta),function(){if(!flushingModuleQueue){flushingModuleQueue=!0;try{for(let i=moduleQueue.length-1;i>=0;i--){const{moduleType:moduleType,ngModule:ngModule}=moduleQueue[i];ngModule.declarations&&ngModule.declarations.every(isResolvedDeclaration)&&(moduleQueue.splice(i,1),setScopeOnDeclaredComponents(moduleType,ngModule))}}finally{flushingModuleQueue=!1}}}(),void 0!==type.ngSelectorScope){const scopes=transitiveScopesFor(type.ngSelectorScope);patchComponentDefWithScope(ngComponentDef,scopes)}}return ngComponentDef},configurable:!1})},SWITCH_COMPILE_DIRECTIVE=compileDirective,SWITCH_COMPILE_PIPE=function(type,meta){let ngPipeDef=null,ngFactoryDef=null;Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const metadata=getPipeMetadata(type,meta),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${metadata.name}/ɵfac.js`,Object.assign(Object.assign({},metadata),{injectFn:"directiveInject",target:compiler.R3FactoryTarget.Pipe}))}return ngFactoryDef},configurable:!1}),Object.defineProperty(type,NG_PIPE_DEF,{get:()=>{if(null===ngPipeDef){const metadata=getPipeMetadata(type,meta);ngPipeDef=getCompilerFacade().compilePipe(angularCoreEnv,`ng:///${metadata.name}/ɵpipe.js`,metadata)}return ngPipeDef},configurable:!1})};const NgModule=makeDecorator("NgModule",ngModule=>ngModule,void 0,void 0,(type,meta)=>SWITCH_COMPILE_NGMODULE(type,meta));const SWITCH_COMPILE_NGMODULE=function(moduleType,ngModule={}){!function(moduleType,ngModule,allowDuplicateDeclarationsInRoot=!1){const declarations=flatten(ngModule.declarations||EMPTY_ARRAY$5);let ngModuleDef=null;Object.defineProperty(moduleType,NG_MOD_DEF,{configurable:!0,get:()=>(null===ngModuleDef&&(ngModuleDef=getCompilerFacade().compileNgModule(angularCoreEnv,`ng:///${moduleType.name}/ɵmod.js`,{type:moduleType,bootstrap:flatten(ngModule.bootstrap||EMPTY_ARRAY$5).map(resolveForwardRef),declarations:declarations.map(resolveForwardRef),imports:flatten(ngModule.imports||EMPTY_ARRAY$5).map(resolveForwardRef).map(expandModuleWithProviders),exports:flatten(ngModule.exports||EMPTY_ARRAY$5).map(resolveForwardRef).map(expandModuleWithProviders),schemas:ngModule.schemas?flatten(ngModule.schemas):null,id:ngModule.id||null}),ngModuleDef.schemas||(ngModuleDef.schemas=[])),ngModuleDef)});let ngInjectorDef=null;Object.defineProperty(moduleType,NG_INJ_DEF,{get:()=>{if(null===ngInjectorDef){const meta={name:moduleType.name,type:moduleType,deps:reflectDependencies(moduleType),providers:ngModule.providers||EMPTY_ARRAY$5,imports:[(ngModule.imports||EMPTY_ARRAY$5).map(resolveForwardRef),(ngModule.exports||EMPTY_ARRAY$5).map(resolveForwardRef)]};ngInjectorDef=getCompilerFacade().compileInjector(angularCoreEnv,`ng:///${moduleType.name}/ɵinj.js`,meta)}return ngInjectorDef},configurable:!1})}(moduleType,ngModule),function(moduleType,ngModule){moduleQueue.push({moduleType:moduleType,ngModule:ngModule})}(moduleType,ngModule)},APP_INITIALIZER=new InjectionToken("Application Initializer");class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}ApplicationInitStatus.ɵfac=function(t){return new(t||ApplicationInitStatus)(ɵɵinject(APP_INITIALIZER,8))},ApplicationInitStatus.ɵprov=ɵɵdefineInjectable({token:ApplicationInitStatus,factory:ApplicationInitStatus.ɵfac}),ApplicationInitStatus.ctorParameters=()=>[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER]},{type:Optional}]}];const APP_ID=new InjectionToken("AppId");const APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:function(){return`${_randomChar()}${_randomChar()}${_randomChar()}`},deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken("Platform Initializer"),PLATFORM_ID=new InjectionToken("Platform ID"),APP_BOOTSTRAP_LISTENER=new InjectionToken("appBootstrapListener"),PACKAGE_ROOT_URL=new InjectionToken("Application Packages Root URL");class Console{log(message){console.log(message)}warn(message){console.warn(message)}}Console.ɵfac=function(t){return new(t||Console)},Console.ɵprov=ɵɵdefineInjectable({token:Console,factory:Console.ɵfac});const LOCALE_ID$1=new InjectionToken("LocaleId"),DEFAULT_CURRENCY_CODE=new InjectionToken("DefaultCurrencyCode"),TRANSLATIONS=new InjectionToken("Translations"),TRANSLATIONS_FORMAT=new InjectionToken("TranslationsFormat"),MissingTranslationStrategy={Error:0,Warning:1,Ignore:2};MissingTranslationStrategy[MissingTranslationStrategy.Error]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore]="Ignore";class ModuleWithComponentFactories{constructor(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}const Compiler_compileModuleSync__POST_R3__=function(moduleType){return new NgModuleFactory$1(moduleType)},Compiler_compileModuleSync=Compiler_compileModuleSync__POST_R3__,Compiler_compileModuleAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleSync__POST_R3__(moduleType))},Compiler_compileModuleAndAllComponentsSync__POST_R3__=function(moduleType){const ngModuleFactory=Compiler_compileModuleSync__POST_R3__(moduleType),componentFactories=maybeUnwrapFn(getNgModuleDef(moduleType).declarations).reduce((factories,declaration)=>{const componentDef=getComponentDef(declaration);return componentDef&&factories.push(new ComponentFactory$1(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)},Compiler_compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync__POST_R3__,Compiler_compileModuleAndAllComponentsAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleAndAllComponentsSync__POST_R3__(moduleType))};class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}Compiler.ɵfac=function(t){return new(t||Compiler)},Compiler.ɵprov=ɵɵdefineInjectable({token:Compiler,factory:Compiler.ɵfac});const COMPILER_OPTIONS=new InjectionToken("compilerOptions");class CompilerFactory{}const core_promise=Promise.resolve(0);function scheduleMicroTask(fn){"undefined"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1,shouldCoalesceEventChangeDetection:shouldCoalesceEventChangeDetection=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const self=this;self._nesting=0,self._outer=self._inner=Zone.current,Zone.wtfZoneSpec&&(self._inner=self._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(self._inner=self._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(self._inner=self._inner.fork(Zone.longStackTraceZoneSpec)),self.shouldCoalesceEventChangeDetection=shouldCoalesceEventChangeDetection,self.lastRequestAnimationFrameId=-1,self.nativeRequestAnimationFrame=function(){let nativeRequestAnimationFrame=_global.requestAnimationFrame,nativeCancelAnimationFrame=_global.cancelAnimationFrame;if("undefined"!=typeof Zone&&nativeRequestAnimationFrame&&nativeCancelAnimationFrame){const unpatchedRequestAnimationFrame=nativeRequestAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedRequestAnimationFrame&&(nativeRequestAnimationFrame=unpatchedRequestAnimationFrame);const unpatchedCancelAnimationFrame=nativeCancelAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedCancelAnimationFrame&&(nativeCancelAnimationFrame=unpatchedCancelAnimationFrame)}return{nativeRequestAnimationFrame:nativeRequestAnimationFrame,nativeCancelAnimationFrame:nativeCancelAnimationFrame}}().nativeRequestAnimationFrame,function(zone){const maybeDelayChangeDetection=!!zone.shouldCoalesceEventChangeDetection&&zone.nativeRequestAnimationFrame&&(()=>{!function(zone){if(-1!==zone.lastRequestAnimationFrameId)return;zone.lastRequestAnimationFrameId=zone.nativeRequestAnimationFrame.call(_global,()=>{zone.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(zone),checkStable(zone)}),updateMicroTaskStatus(zone)}(zone)});zone._inner=zone._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:maybeDelayChangeDetection},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{maybeDelayChangeDetection&&"eventTask"===task.type&&maybeDelayChangeDetection(),onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,updateMicroTaskStatus(zone),checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(self)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function updateMicroTaskStatus(zone){zone._hasPendingMicrotasks||zone.shouldCoalesceEventChangeDetection&&-1!==zone.lastRequestAnimationFrameId?zone.hasPendingMicrotasks=!0:zone.hasPendingMicrotasks=!1}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runGuarded(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runOutsideAngular(fn){return fn()}runTask(fn,applyThis,applyArgs,name){return fn.apply(applyThis,applyArgs)}}class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}Testability.ɵfac=function(t){return new(t||Testability)(ɵɵinject(NgZone))},Testability.ɵprov=ɵɵdefineInjectable({token:Testability,factory:Testability.ɵfac}),Testability.ctorParameters=()=>[{type:NgZone}];class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}TestabilityRegistry.ɵfac=function(t){return new(t||TestabilityRegistry)},TestabilityRegistry.ɵprov=ɵɵdefineInjectable({token:TestabilityRegistry,factory:TestabilityRegistry.ɵfac}),TestabilityRegistry.ctorParameters=()=>[];let core_platform,_testabilityGetter=new class{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}},compileNgModuleFactory=function(injector,options,moduleType){const moduleFactory=new NgModuleFactory$1(moduleType);if(0===componentResourceResolutionQueue.size)return Promise.resolve(moduleFactory);const compilerProviders=function(parts){const result=[];return parts.forEach(part=>part&&result.push(...part)),result}(injector.get(COMPILER_OPTIONS,[]).concat(options).map(o=>o.providers));if(0===compilerProviders.length)return Promise.resolve(moduleFactory);const compiler=getCompilerFacade(),resourceLoader=Injector.create({providers:compilerProviders}).get(compiler.ResourceLoader);return resolveComponentResources(url=>Promise.resolve(resourceLoader.get(url))).then(()=>moduleFactory)};let publishDefaultGlobalUtils$1=function(){},isBoundToModule=function(cf){return cf.isBoundToModule};const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken("AllowMultipleToken");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0},{provide:INJECTOR_SCOPE,useValue:"platform"});!function(injector){if(core_platform&&!core_platform.destroyed&&!core_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");publishDefaultGlobalUtils$1(),core_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}(marker)}}function getPlatform(){return core_platform&&!core_platform.destroyed?core_platform:null}class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=function(ngZoneOption,ngZoneEventCoalescing){let ngZone;ngZone="noop"===ngZoneOption?new NoopNgZone:("zone.js"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode(),shouldCoalesceEventChangeDetection:ngZoneEventCoalescing});return ngZone}(options?options.ngZone:void 0,options&&options.ngZoneEventCoalescing||!1),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>{setLocaleId(moduleRef.injector.get(LOCALE_ID$1,"en-US")||"en-US");return this._moduleDoBootstrap(moduleRef),moduleRef})})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}function optionsReducer(dst,objs){return dst=Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign(Object.assign({},dst),objs)}PlatformRef.ɵfac=function(t){return new(t||PlatformRef)(ɵɵinject(Injector))},PlatformRef.ɵprov=ɵɵdefineInjectable({token:PlatformRef,factory:PlatformRef.ɵfac}),PlatformRef.ctorParameters=()=>[{type:Injector}];class core_ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return(()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()})});this.isStable=merge(isCurrentlyStable,isStable.pipe(share()))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=isBoundToModule(componentFactory)?void 0:this._injector.get(NgModuleRef),selectorOrNode=rootSelectorOrNode||componentFactory.selector,compRef=componentFactory.create(Injector.NULL,[],selectorOrNode,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),compRef}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}core_ApplicationRef.ɵfac=function(t){return new(t||core_ApplicationRef)(ɵɵinject(NgZone),ɵɵinject(Console),ɵɵinject(Injector),ɵɵinject(ErrorHandler),ɵɵinject(ComponentFactoryResolver),ɵɵinject(ApplicationInitStatus))},core_ApplicationRef.ɵprov=ɵɵdefineInjectable({token:core_ApplicationRef,factory:core_ApplicationRef.ɵfac}),core_ApplicationRef.ctorParameters=()=>[{type:NgZone},{type:Console},{type:Injector},{type:ErrorHandler},{type:ComponentFactoryResolver},{type:ApplicationInitStatus}];class NgModuleFactoryLoader{}class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split("#");return void 0===exportName&&(exportName="default"),__webpack_require__("crnd")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split("#"),factoryClassSuffix="NgFactory";return void 0===exportName&&(exportName="default",factoryClassSuffix=""),__webpack_require__("crnd")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}SystemJsNgModuleLoader.ɵfac=function(t){return new(t||SystemJsNgModuleLoader)(ɵɵinject(Compiler),ɵɵinject(SystemJsNgModuleLoaderConfig,8))},SystemJsNgModuleLoader.ɵprov=ɵɵdefineInjectable({token:SystemJsNgModuleLoader,factory:SystemJsNgModuleLoader.ɵfac}),SystemJsNgModuleLoader.ctorParameters=()=>[{type:Compiler},{type:SystemJsNgModuleLoaderConfig,decorators:[{type:Optional}]}];class DebugEventListener{constructor(name,callback){this.name=name,this.callback=callback}}class DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class DebugElement__PRE_R3__ extends DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){super(nativeNode,parent,_debugContext),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}addChild(child){child&&(this.childNodes.push(child),child.parent=this)}removeChild(child){const childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))}insertChildrenAfter(child,newChildren){const siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&(this.childNodes.splice(siblingIndex+1,0,...newChildren),newChildren.forEach(c=>{c.parent&&c.parent.removeChild(c),child.parent=this}))}insertBefore(refChild,newChild){const refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(node=>{node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}(this,predicate,matches),matches}queryAllNodes(predicate){const matches=[];return function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(node=>{predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}(this,predicate,matches),matches}get children(){return this.childNodes.filter(node=>node instanceof DebugElement__PRE_R3__)}triggerEventHandler(eventName,eventObj){this.listeners.forEach(listener=>{listener.name==eventName&&listener.callback(eventObj)})}}class DebugNode__POST_R3__{constructor(nativeNode){this.nativeNode=nativeNode}get parent(){const parent=this.nativeNode.parentNode;return parent?new DebugElement__POST_R3__(parent):null}get injector(){return getInjector(this.nativeNode)}get componentInstance(){const nativeElement=this.nativeNode;return nativeElement&&(getComponent(nativeElement)||getOwningComponent(nativeElement))}get context(){return getComponent(this.nativeNode)||getContext(this.nativeNode)}get listeners(){return getListeners(this.nativeNode).filter(listener=>"dom"===listener.type)}get references(){return function(target){const context=loadLContext(target,!1);return null===context?{}:(void 0===context.localRefs&&(context.localRefs=function(lView,nodeIndex){const tNode=lView[1].data[nodeIndex];if(tNode&&tNode.localNames){const result={};let localIndex=tNode.index+1;for(let i=0;i<tNode.localNames.length;i+=2)result[tNode.localNames[i]]=lView[localIndex],localIndex++;return result}return null}(context.lView,context.nodeIndex)),context.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(element){const context=loadLContext(element,!1);if(null===context)return[];const tView=context.lView[1],tNode=tView.data[context.nodeIndex],providerTokens=[],startIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveEnd;for(let i=startIndex;i<endIndex;i++){let value=tView.data[i];void 0!==(obj=value).type&&void 0!==obj.template&&void 0!==obj.declaredInputs&&(value=value.type),providerTokens.push(value)}var obj;return providerTokens}(this.nativeNode)}}class DebugElement__POST_R3__ extends DebugNode__POST_R3__{constructor(nativeNode){super(nativeNode)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){try{const context=loadLContext(this.nativeNode);return context.lView[1].data[context.nodeIndex].tagName}catch(e){return this.nativeNode.nodeName}}get properties(){const context=loadLContext(this.nativeNode,!1);if(null==context)return{};const lView=context.lView,tData=lView[1].data,tNode=tData[context.nodeIndex],properties={};return function(element,properties){if(element){let obj=Object.getPrototypeOf(element);const NodePrototype=Node.prototype;for(;null!==obj&&obj!==NodePrototype;){const descriptors=Object.getOwnPropertyDescriptors(obj);for(let key in descriptors)if(!key.startsWith("__")&&!key.startsWith("on")){const value=element[key];isPrimitiveValue(value)&&(properties[key]=value)}obj=Object.getPrototypeOf(obj)}}}(this.nativeElement,properties),function(properties,tNode,lView,tData){let bindingIndexes=tNode.propertyBindings;if(null!==bindingIndexes)for(let i=0;i<bindingIndexes.length;i++){const bindingIndex=bindingIndexes[i],metadataParts=tData[bindingIndex].split("�"),propertyName=metadataParts[0];if(metadataParts.length>1){let value=metadataParts[1];for(let j=1;j<metadataParts.length-1;j++)value+=renderStringify(lView[bindingIndex+j-1])+metadataParts[j+1];properties[propertyName]=value}else properties[propertyName]=lView[bindingIndex]}}(properties,tNode,lView,tData),properties}get attributes(){const attributes={},element=this.nativeElement;if(!element)return attributes;const context=loadLContext(element,!1);if(null==context)return{};const tNodeAttrs=context.lView[1].data[context.nodeIndex].attrs,lowercaseTNodeAttrs=[];if(tNodeAttrs){let i=0;for(;i<tNodeAttrs.length;){const attrName=tNodeAttrs[i];if("string"!=typeof attrName)break;const attrValue=tNodeAttrs[i+1];attributes[attrName]=attrValue,lowercaseTNodeAttrs.push(attrName.toLowerCase()),i+=2}}const eAttrs=element.attributes;for(let i=0;i<eAttrs.length;i++){const attr=eAttrs[i],lowercaseName=attr.name.toLowerCase();-1===lowercaseTNodeAttrs.indexOf(lowercaseName)&&(attributes[lowercaseName]=attr.value)}return attributes}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const result={},className=this.nativeElement.className;return(className&&"string"!=typeof className?className.baseVal.split(" "):className.split(" ")).forEach(value=>result[value]=!0),result}get childNodes(){const childNodes=this.nativeNode.childNodes,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children}get children(){const nativeElement=this.nativeElement;if(!nativeElement)return[];const childNodes=nativeElement.children,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return _queryAllR3(this,predicate,matches,!0),matches}queryAllNodes(predicate){const matches=[];return _queryAllR3(this,predicate,matches,!1),matches}triggerEventHandler(eventName,eventObj){const node=this.nativeNode,invokedListeners=[];this.listeners.forEach(listener=>{if(listener.name===eventName){const callback=listener.callback;callback.call(node,eventObj),invokedListeners.push(callback)}}),"function"==typeof node.eventListeners&&node.eventListeners(eventName).forEach(listener=>{if(-1!==listener.toString().indexOf("__ngUnwrap__")){const unwrappedListener=listener("__ngUnwrap__");return-1===invokedListeners.indexOf(unwrappedListener)&&unwrappedListener.call(node,eventObj)}})}}function isPrimitiveValue(value){return"string"==typeof value||"boolean"==typeof value||"number"==typeof value||null===value}function _queryAllR3(parentElement,predicate,matches,elementsOnly){const context=loadLContext(parentElement.nativeNode,!1);if(null!==context){_queryNodeChildrenR3(context.lView[1].data[context.nodeIndex],context.lView,predicate,matches,elementsOnly,parentElement.nativeNode)}else _queryNativeNodeDescendants(parentElement.nativeNode,predicate,matches,elementsOnly)}function _queryNodeChildrenR3(tNode,lView,predicate,matches,elementsOnly,rootNativeNode){const nativeNode=getNativeByTNodeOrNull(tNode,lView);if(3===tNode.type||4===tNode.type){if(_addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode),isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);componentView&&componentView[1].firstChild&&_queryNodeChildrenR3(componentView[1].firstChild,componentView,predicate,matches,elementsOnly,rootNativeNode)}else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode),nativeNode&&_queryNativeNodeDescendants(nativeNode,predicate,matches,elementsOnly);const nodeOrContainer=lView[tNode.index];isLContainer(nodeOrContainer)&&_queryNodeChildrenInContainerR3(nodeOrContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(0===tNode.type){const lContainer=lView[tNode.index];_addQueryMatchR3(lContainer[7],predicate,matches,elementsOnly,rootNativeNode),_queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(1===tNode.type){const componentView=lView[16],head=componentView[6].projection[tNode.projection];if(Array.isArray(head))for(let nativeNode of head)_addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode);else if(head){const nextLView=componentView[3];_queryNodeChildrenR3(nextLView[1].data[head.index],nextLView,predicate,matches,elementsOnly,rootNativeNode)}}else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode);if(rootNativeNode!==nativeNode){const nextTNode=4&tNode.flags?tNode.projectionNext:tNode.next;nextTNode&&_queryNodeChildrenR3(nextTNode,lView,predicate,matches,elementsOnly,rootNativeNode)}}function _queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode){for(let i=9;i<lContainer.length;i++){const childView=lContainer[i];_queryNodeChildrenR3(childView[1].node,childView,predicate,matches,elementsOnly,rootNativeNode)}}function _addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode){if(rootNativeNode!==nativeNode){const debugNode=getDebugNode$1(nativeNode);if(!debugNode)return;elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode)}}function _queryNativeNodeDescendants(parentNode,predicate,matches,elementsOnly){const nodes=parentNode.childNodes,length=nodes.length;for(let i=0;i<length;i++){const node=nodes[i],debugNode=getDebugNode$1(node);debugNode&&(elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode),_queryNativeNodeDescendants(node,predicate,matches,elementsOnly))}}const _nativeNodeToDebugNode=new Map;function getDebugNode__POST_R3__(nativeNode){return nativeNode instanceof Node?(nativeNode.hasOwnProperty("__ng_debug__")||(nativeNode.__ng_debug__=nativeNode.nodeType==Node.ELEMENT_NODE?new DebugElement__POST_R3__(nativeNode):new DebugNode__POST_R3__(nativeNode)),nativeNode.__ng_debug__):null}const getDebugNode$1=getDebugNode__POST_R3__;const getDebugNodeR2=function(_nativeNode){return null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}const platformCore=createPlatformFactory(null,"core",[{provide:PLATFORM_ID,useValue:"unknown"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);const APPLICATION_MODULE_PROVIDERS=[{provide:core_ApplicationRef,useClass:core_ApplicationRef,deps:[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]},{provide:SCHEDULER,deps:[NgZone],useFactory:function(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}},{provide:ApplicationInitStatus,useClass:ApplicationInitStatus,deps:[[new Optional,APP_INITIALIZER]]},{provide:Compiler,useClass:Compiler,deps:[]},APP_ID_RANDOM_PROVIDER,{provide:IterableDiffers,useFactory:function(){return defaultIterableDiffers},deps:[]},{provide:KeyValueDiffers,useFactory:function(){return defaultKeyValueDiffers},deps:[]},{provide:LOCALE_ID$1,useFactory:function(locale){return setLocaleId(locale=locale||"undefined"!=typeof $localize&&$localize.locale||"en-US"),locale},deps:[[new Inject(LOCALE_ID$1),new Optional,new SkipSelf]]},{provide:DEFAULT_CURRENCY_CODE,useValue:"USD"}];class ApplicationModule{constructor(appRef){}}function anchorDef(flags,matchedQueriesDsl,ngContentIndex,childCount,handleEvent,templateFactory){flags|=1;const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:flags,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:templateFactory?resolveDefinition(templateFactory):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function elementDef(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs=[],bindings,outputs,handleEvent,componentView,componentRendererType){handleEvent||(handleEvent=NOOP);const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);let ns=null,name=null;namespaceAndName&&([ns,name]=splitNamespace(namespaceAndName)),bindings=bindings||[];const bindingDefs=[];for(let i=0;i<bindings.length;i++){const[bindingFlags,namespaceAndName,suffixOrSecurityContext]=bindings[i],[ns,name]=splitNamespace(namespaceAndName);let securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns,name:name,nonMinifiedName:name,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];const outputDefs=[];for(let i=0;i<outputs.length;i++){const[target,eventName]=outputs[i];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}const attrs=(fixedAttrs=fixedAttrs||[]).map(([namespaceAndName,value])=>{const[ns,name]=splitNamespace(namespaceAndName);return[ns,name,value]});return componentRendererType=function(type){if(type&&"$$undefined"===type.id){const isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation$1.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?`c${_renderCompCount$1++}`:"$$empty"}return type&&"$$empty"===type.id&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function createElement(view,renderHost,def){const elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;let el;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment("");const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else{const preserveContent=!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation$1.ShadowDom;el=renderer.selectRootElement(rootSelectorOrNode,preserveContent)}if(elDef.attrs)for(let i=0;i<elDef.attrs.length;i++){const[ns,name,value]=elDef.attrs[i];renderer.setAttribute(el,name,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,(target=output.target,name=output.eventName,target?`${target}:${name}`:name));let listenTarget=output.target,listenerView=view;"component"===output.target&&(listenTarget=null,listenerView=compView);const disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}var target,name}function renderEventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;const binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function(view,binding,renderNode,ns,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;const renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function(view,renderNode,name,value){const renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function(view,binding,renderNode,name,value){let renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();const unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;const renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function(view,binding,renderNode,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function queryDef(flags,id,bindings){let bindingDefs=[];for(let propName in bindings){const bindingType=bindings[propName];bindingDefs.push({propName:propName,bindingType:bindingType})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:id,filterId:filterQueryId(id),bindings:bindingDefs},ngContent:null}}function dirtyParentQueries(view){const queryIds=view.def.nodeMatchedQueries;for(;view.parent&&isEmbeddedView(view);){let tplDef=view.parentNodeDef;view=view.parent;const end=tplDef.nodeIndex+tplDef.childCount;for(let i=0;i<=end;i++){const nodeDef=view.def.nodes[i];67108864&nodeDef.flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(let i=0;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];134217728&nodeDef.flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){const queryList=asQueryList(view,nodeDef.nodeIndex);if(!queryList.dirty)return;let directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){const elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);const bindings=nodeDef.query.bindings;let notify=!1;for(let i=0;i<bindings.length;i++){const binding=bindings[i];let boundValue;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){const elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags){const embeddedViews=elementData.viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++){const embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}}const projectedViews=elementData.template._projectedViews;if(projectedViews)for(let k=0;k<projectedViews.length;k++){const projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function ngContentDef(ngContentIndex,index){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:index}}}function appendNgContent(view,renderHost,def){const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function purePipeDef(checkIndex,argCount){return _pureExpressionDef(128,checkIndex,core_newArray(argCount+1))}function pureArrayDef(checkIndex,argCount){return _pureExpressionDef(32,checkIndex,core_newArray(argCount))}function pureObjectDef(checkIndex,propToIndex){const keys=Object.keys(propToIndex),nbKeys=keys.length,propertyNames=[];for(let i=0;i<nbKeys;i++){const key=keys[i];propToIndex[key];propertyNames.push(key)}return _pureExpressionDef(64,checkIndex,propertyNames)}function _pureExpressionDef(flags,checkIndex,propertyNames){const bindings=[];for(let i=0;i<propertyNames.length;i++){const prop=propertyNames[i];bindings.push({flags:8,name:prop,ns:null,nonMinifiedName:prop,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function textDef(checkIndex,ngContentIndex,staticText){const bindings=[];for(let i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}}function createText(view,renderHost,def){let renderNode;const renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);const parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():"")+binding.suffix}function viewDef(flags,nodes,updateDirectives,updateRenderer){let viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){const elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);const isPrivateService=0!=(8192&node.flags),isComponent=0!=(32768&node.flags);!isPrivateService||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){const newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentParent=newParent,currentRenderParent=currentParent&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:(view,nodeIndex,eventName,event)=>nodes[nodeIndex].element.handleEvent(view,eventName,event),bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){const template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${node.nodeIndex}!`)}if(20224&node.flags){if(0==(1&(parent?parent.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${node.nodeIndex}!`)}if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${node.nodeIndex}!`);if(134217728&node.flags&&parent)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${node.nodeIndex}!`)}if(node.childCount){const parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${node.nodeIndex}!`)}}function createEmbeddedView(parent,anchorDef,viewDef,context){const view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){const view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){const rendererType=nodeDef.element.componentRendererType;let compRenderer;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){const nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){let renderHost;if(isComponentView(view)){const hostDef=view.parentNodeDef;renderHost=asElementData(view.parent,hostDef.parent.nodeIndex).renderElement}const def=view.def,nodes=view.nodes;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];let nodeData;switch(Services.setCurrentNode(view,i),201347067&nodeDef.flags){case 1:const el=createElement(view,renderHost,nodeDef);let componentView=void 0;if(33554432&nodeDef.flags){const compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:if(nodeData=nodes[i],!(nodeData||4096&nodeDef.flags)){nodeData={instance:createProviderInstance(view,nodeDef)}}break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:if(nodeData=nodes[i],!nodeData){nodeData={instance:createDirectiveInstance(view,nodeDef)}}if(32768&nodeDef.flags){initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance)}break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);let callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callInit=shiftInitState(view,512,768),callLifecycleHooksChildrenFirst(view,8388608|(callInit?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=def.bindings.length;let changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){let changed=!1;const bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){let value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;const bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindings=def.bindings;let changed=!1;const bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=[],bindLen>0&&value.push(v0),bindLen>1&&value.push(v1),bindLen>2&&value.push(v2),bindLen>3&&value.push(v3),bindLen>4&&value.push(v4),bindLen>5&&value.push(v5),bindLen>6&&value.push(v6),bindLen>7&&value.push(v7),bindLen>8&&value.push(v8),bindLen>9&&value.push(v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:const pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw"unreachable"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function(view,def,values){let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){let value="";for(let i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function(view,def,values){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;for(let i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=values;break;case 64:value={};for(let i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:const pipe=values[0],params=values.slice(1);value=pipe.transform(...params)}data.value=value}return changed}(view,nodeDef,values);default:throw"unreachable"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){const def=view.def;if(4&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(4&nodeDef.flags){const projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(let i=0;i<projectedViews.length;i++){const projectedView=projectedViews[i];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0);bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1);bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2);bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3);bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4);bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5);bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6);bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7);bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8);bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){for(let i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),`Query ${nodeDef.query.id} not dirty`,`Query ${nodeDef.query.id} dirty`,0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(let i=0;i<view.disposables.length;i++)view.disposables[i]();!function(view){if(!(16&view.state))return;const dvcElementData=declaredViewContainer(view);if(dvcElementData){const projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}(view),view.renderer.destroyNode&&function(view){const len=view.def.nodes.length;for(let i=0;i<len;i++){const def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}ApplicationModule.ɵmod=ɵɵdefineNgModule({type:ApplicationModule}),ApplicationModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ApplicationModule)(ɵɵinject(core_ApplicationRef))},providers:APPLICATION_MODULE_PROVIDERS}),ApplicationModule.ctorParameters=()=>[{type:core_ApplicationRef}];const ViewAction={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function execComponentViewsAction(view,action){const def=view.def;if(33554432&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){const def=view.def;if(16777216&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,i).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action)}else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){const viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(!(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag))return;const nodeCount=view.def.nodes.length;for(let i=0;i<nodeCount;i++){const nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}ViewAction[ViewAction.CreateViewNodes]="CreateViewNodes",ViewAction[ViewAction.CheckNoChanges]="CheckNoChanges",ViewAction[ViewAction.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",ViewAction[ViewAction.CheckAndUpdate]="CheckAndUpdate",ViewAction[ViewAction.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",ViewAction[ViewAction.Destroy]="Destroy";let initialized=!1;function initServicesIfNeeded(){if(initialized)return;initialized=!0;const services=isDevMode()?{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}:{setCurrentNode:()=>{},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:(view,nodeIndex,eventName,event)=>view.def.handleEvent(view,nodeIndex,eventName,event),updateDirectives:(view,checkType)=>view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view),updateRenderer:(view,checkType)=>view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)};Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2);return createRootView(createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){const sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler),renderer=rendererFactory.createRenderer(null,null);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:renderer,errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){const defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){const overrideComponentView=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token);return viewDef=overrideComponentView||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function(def){const{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}=function(def){let hasOverrides=!1,hasDeprecatedOverrides=!1;if(0===providerOverrides.size)return{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides};return def.providers.forEach(node=>{const override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(module=>{providerOverridesWithScope.forEach((override,token)=>{getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})}),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}}(def);if(!hasOverrides)return def;return function(def){for(let i=0;i<def.providers.length;i++){const provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);const override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){let moduleSet=new Set(def.modules);providerOverridesWithScope.forEach((override,token)=>{if(moduleSet.has(getInjectableDef(token).providedIn)){let provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(()=>NOOP)),def}(def))}const providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){let injectableDef;providerOverrides.set(override.token,override),"function"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&"function"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){const hostViewDef=resolveDefinition(compFactory.viewDefFactory);const compViewDef=resolveDefinition(hostViewDef.nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;const elementIndicesWithOverwrittenProviders=function(def){const elIndicesWithOverwrittenProviders=[];let lastElementDef=null;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(()=>NOOP);for(let i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(let i=elIndex+1;i<viewDef.nodes.length;i++){const nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){const provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}const DebugAction={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let _currentAction,_currentView,_currentNodeIndex;function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode(view,nodeDef,argStyle,...givenValues)){const values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){const bindingValues={};for(let i=0;i<nodeDef.bindings.length;i++){const binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[normalizeDebugBindingName(binding.nonMinifiedName)]=normalizeDebugBindingValue(value))}const elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(let attr in bindingValues){const value=bindingValues[attr];null!=value?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,`bindings=${JSON.stringify(bindingValues,null,2)}`)}}}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode(view,nodeDef,argStyle,...values)}function nextDirectiveWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}DebugAction[DebugAction.create]="create",DebugAction[DebugAction.detectChanges]="detectChanges",DebugAction[DebugAction.checkNoChanges]="checkNoChanges",DebugAction[DebugAction.destroy]="destroy",DebugAction[DebugAction.handleEvent]="handleEvent";class DebugContext_{constructor(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];let elDef=this.nodeDef,elView=view;for(;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}get elOrCompView(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return createInjector$1(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const tokens=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens}get references(){const references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references}get componentRenderElement(){const elData=function(view){for(;view&&!isComponentView(view);)view=view.parent;if(view.parent)return asElementData(view.parent,viewParentEl(view).nodeIndex);return null}(this.elOrCompView);return elData?elData.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)}logError(console,...values){let logViewDef,logNodeIndex;2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);const renderNodeIndex=function(viewDef,nodeIndex){let renderNodeIndex=-1;for(let i=0;i<=nodeIndex;i++){3&viewDef.nodes[i].flags&&renderNodeIndex++}return renderNodeIndex}(logViewDef,logNodeIndex);let currRenderNodeIndex=-1;logViewDef.factory(()=>(currRenderNodeIndex++,currRenderNodeIndex===renderNodeIndex?console.error.bind(console,...values):NOOP)),currRenderNodeIndex<renderNodeIndex&&(console.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),console.error(...values))}}function collectReferences(view,nodeDef,references){for(let refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){const oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;const result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(getDebugContext(e)||!_currentView)throw e;throw function(err,context){return err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}(e,getCurrentDebugContext())}}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}class DebugRendererFactory2{constructor(delegate){this.delegate=delegate}createRenderer(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DebugRenderer2{constructor(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}createDebugContext(nativeElement){return this.debugContextFactory(nativeElement)}destroyNode(node){const debugNode=getDebugNode$1(node);!function(node){_nativeNodeToDebugNode.delete(node.nativeNode)}(debugNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)}destroy(){this.delegate.destroy()}createElement(name,namespace){const el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){const debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el}createComment(value){const comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment}createText(value){const text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text}appendChild(parent,newChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)}insertBefore(parent,newChild,refChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(newChild),debugRefEl=getDebugNode$1(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)}removeChild(parent,oldChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)}selectRootElement(selectorOrNode,preserveContent){const el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el}setAttribute(el,name,value,namespace){const debugEl=getDebugNode$1(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){const fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=value}this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){const debugEl=getDebugNode$1(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){const fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=null}this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)}removeClass(el,name){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("string"!=typeof target){const debugEl=getDebugNode$1(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setValue(node,value){return this.delegate.setValue(node,value)}}function createNgModuleFactory(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)}class NgModuleFactory_ extends NgModuleFactory{constructor(moduleType,_bootstrapComponents,_ngModuleDefFactory){super(),this.moduleType=moduleType,this._bootstrapComponents=_bootstrapComponents,this._ngModuleDefFactory=_ngModuleDefFactory}create(parentInjector){initServicesIfNeeded();const def=function(def){const providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(const key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,scope:def.scope,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)}}var TagContentType;function splitNsName(elementName){if(":"!=elementName[0])return[null,elementName];const colonIndex=elementName.indexOf(":",1);if(-1==colonIndex)throw new Error(`Unsupported format "${elementName}" expecting ":namespace:name"`);return[elementName.slice(1,colonIndex),elementName.slice(colonIndex+1)]}function compiler_isNgContainer(tagName){return"ng-container"===splitNsName(tagName)[1]}function isNgContent(tagName){return"ng-content"===splitNsName(tagName)[1]}function isNgTemplate(tagName){return"ng-template"===splitNsName(tagName)[1]}function getNsPrefix(fullName){return null===fullName?null:splitNsName(fullName)[0]}function mergeNsAndName(prefix,localName){return prefix?`:${prefix}:${localName}`:localName}(function(TagContentType){TagContentType[TagContentType.RAW_TEXT=0]="RAW_TEXT",TagContentType[TagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",TagContentType[TagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"})(TagContentType||(TagContentType={}));const NAMED_ENTITIES={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"};NAMED_ENTITIES.ngsp="";class HtmlTagDefinition{constructor({closedByChildren:closedByChildren,implicitNamespacePrefix:implicitNamespacePrefix,contentType:contentType=TagContentType.PARSABLE_DATA,closedByParent:closedByParent=!1,isVoid:isVoid=!1,ignoreFirstLf:ignoreFirstLf=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,closedByChildren&&closedByChildren.length>0&&closedByChildren.forEach(tagName=>this.closedByChildren[tagName]=!0),this.isVoid=isVoid,this.closedByParent=closedByParent||isVoid,this.implicitNamespacePrefix=implicitNamespacePrefix||null,this.contentType=contentType,this.ignoreFirstLf=ignoreFirstLf}isClosedByChild(name){return this.isVoid||name.toLowerCase()in this.closedByChildren}}let _DEFAULT_TAG_DEFINITION,TAG_DEFINITIONS;function getHtmlTagDefinition(tagName){return TAG_DEFINITIONS||(_DEFAULT_TAG_DEFINITION=new HtmlTagDefinition,TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),TAG_DEFINITIONS[tagName.toLowerCase()]||_DEFAULT_TAG_DEFINITION}const _SELECTOR_REGEXP=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class CssSelector{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(selector){const results=[],_addResult=(res,cssSel)=>{cssSel.notSelectors.length>0&&!cssSel.element&&0==cssSel.classNames.length&&0==cssSel.attrs.length&&(cssSel.element="*"),res.push(cssSel)};let match,cssSelector=new CssSelector,current=cssSelector,inNot=!1;for(_SELECTOR_REGEXP.lastIndex=0;match=_SELECTOR_REGEXP.exec(selector);){if(match[1]){if(inNot)throw new Error("Nesting :not in a selector is not allowed");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}const tag=match[2];if(tag){const prefix=match[3];"#"===prefix?current.addAttribute("id",tag.substr(1)):"."===prefix?current.addClassName(tag.substr(1)):current.setElement(tag)}const attribute=match[4];if(attribute&&current.addAttribute(attribute,match[6]),match[7]&&(inNot=!1,current=cssSelector),match[8]){if(inNot)throw new Error("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(element=null){this.element=element}getMatchingElementTemplate(){const tagName=this.element||"div",classAttr=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let attrs="";for(let i=0;i<this.attrs.length;i+=2){attrs+=` ${this.attrs[i]}${""!==this.attrs[i+1]?`="${this.attrs[i+1]}"`:""}`}return getHtmlTagDefinition(tagName).isVoid?`<${tagName}${classAttr}${attrs}/>`:`<${tagName}${classAttr}${attrs}></${tagName}>`}getAttrs(){const result=[];return this.classNames.length>0&&result.push("class",this.classNames.join(" ")),result.concat(this.attrs)}addAttribute(name,value=""){this.attrs.push(name,value&&value.toLowerCase()||"")}addClassName(name){this.classNames.push(name.toLowerCase())}toString(){let res=this.element||"";if(this.classNames&&this.classNames.forEach(klass=>res+=`.${klass}`),this.attrs)for(let i=0;i<this.attrs.length;i+=2){const name=this.attrs[i],value=this.attrs[i+1];res+=`[${name}${value?"="+value:""}]`}return this.notSelectors.forEach(notSelector=>res+=`:not(${notSelector})`),res}}class SelectorMatcher{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(notSelectors){const notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher}addSelectables(cssSelectors,callbackCtxt){let listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(let i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)}_addSelectable(cssSelector,callbackCtxt,listContext){let matcher=this;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(element){0===attrs.length&&0===classNames.length?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(classNames)for(let i=0;i<classNames.length;i++){const isTerminal=0===attrs.length&&i===classNames.length-1,className=classNames[i];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(attrs)for(let i=0;i<attrs.length;i+=2){const isTerminal=i===attrs.length-2,name=attrs[i],value=attrs[i+1];if(isTerminal){const terminalMap=matcher._attrValueMap;let terminalValuesMap=terminalMap.get(name);terminalValuesMap||(terminalValuesMap=new Map,terminalMap.set(name,terminalValuesMap)),this._addTerminal(terminalValuesMap,value,selectable)}else{const partialMap=matcher._attrValuePartialMap;let partialValuesMap=partialMap.get(name);partialValuesMap||(partialValuesMap=new Map,partialMap.set(name,partialValuesMap)),matcher=this._addPartial(partialValuesMap,value)}}}_addTerminal(map,name,selectable){let terminalList=map.get(name);terminalList||(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)}_addPartial(map,name){let matcher=map.get(name);return matcher||(matcher=new SelectorMatcher,map.set(name,matcher)),matcher}match(cssSelector,matchedCallback){let result=!1;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs;for(let i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,classNames)for(let i=0;i<classNames.length;i++){const className=classNames[i];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(attrs)for(let i=0;i<attrs.length;i+=2){const name=attrs[i],value=attrs[i+1],terminalValuesMap=this._attrValueMap.get(name);value&&(result=this._matchTerminal(terminalValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,value,cssSelector,matchedCallback)||result;const partialValuesMap=this._attrValuePartialMap.get(name);value&&(result=this._matchPartial(partialValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,value,cssSelector,matchedCallback)||result}return result}_matchTerminal(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;let selectables=map.get(name)||[];const starSelectables=map.get("*");if(starSelectables&&(selectables=selectables.concat(starSelectables)),0===selectables.length)return!1;let selectable,result=!1;for(let i=0;i<selectables.length;i++)selectable=selectables[i],result=selectable.finalize(cssSelector,matchedCallback)||result;return result}_matchPartial(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;const nestedSelector=map.get(name);return!!nestedSelector&&nestedSelector.match(cssSelector,matchedCallback)}}class SelectorListContext{constructor(selectors){this.selectors=selectors,this.alreadyMatched=!1}}class SelectorContext{constructor(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}finalize(cssSelector,callback){let result=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){result=!SelectorMatcher.createNotMatcher(this.notSelectors).match(cssSelector,null)}return!result||!callback||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result}}const createInject=makeMetadataFactory("Inject",token=>({token:token})),createInjectionToken=makeMetadataFactory("InjectionToken",desc=>({_desc:desc,"ɵprov":void 0})),createAttribute=makeMetadataFactory("Attribute",attributeName=>({attributeName:attributeName})),createContentChildren=makeMetadataFactory("ContentChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data)),createContentChild=makeMetadataFactory("ContentChild",(selector,data={})=>Object.assign({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data)),createViewChildren=makeMetadataFactory("ViewChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data)),createViewChild=makeMetadataFactory("ViewChild",(selector,data)=>Object.assign({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data)),createDirective=makeMetadataFactory("Directive",(dir={})=>dir);var compiler_ViewEncapsulation,compiler_ChangeDetectionStrategy;!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(compiler_ViewEncapsulation||(compiler_ViewEncapsulation={})),function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(compiler_ChangeDetectionStrategy||(compiler_ChangeDetectionStrategy={}));const createComponent=makeMetadataFactory("Component",(c={})=>Object.assign({changeDetection:compiler_ChangeDetectionStrategy.Default},c)),createPipe=makeMetadataFactory("Pipe",p=>Object.assign({pure:!0},p)),createInput=makeMetadataFactory("Input",bindingPropertyName=>({bindingPropertyName:bindingPropertyName})),createOutput=makeMetadataFactory("Output",bindingPropertyName=>({bindingPropertyName:bindingPropertyName})),createHostBinding=makeMetadataFactory("HostBinding",hostPropertyName=>({hostPropertyName:hostPropertyName})),createHostListener=makeMetadataFactory("HostListener",(eventName,args)=>({eventName:eventName,args:args})),createNgModule=makeMetadataFactory("NgModule",ngModule=>ngModule),createInjectable=makeMetadataFactory("Injectable",(injectable={})=>injectable),compiler_CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},compiler_NO_ERRORS_SCHEMA={name:"no-errors-schema"},createOptional=makeMetadataFactory("Optional"),createSelf=makeMetadataFactory("Self"),createSkipSelf=makeMetadataFactory("SkipSelf"),createHost=makeMetadataFactory("Host"),compiler_Type=Function;var compiler_SecurityContext,compiler_MissingTranslationStrategy;function makeMetadataFactory(name,props){function factory(...args){const values=props?props(...args):{};return Object.assign({ngMetadataName:name},values)}return factory.isTypeOf=obj=>obj&&obj.ngMetadataName===name,factory.ngMetadataName=name,factory}function parserSelectorToR3Selector(selector){const positive=function(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return[selector.element&&"*"!==selector.element?selector.element:"",...selector.attrs,...classes]}(selector),negative=selector.notSelectors&&selector.notSelectors.length?selector.notSelectors.map(notSelector=>function(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return selector.element?[5,selector.element,...selector.attrs,...classes]:selector.attrs.length?[3,...selector.attrs,...classes]:selector.classNames&&selector.classNames.length?[9,...selector.classNames]:[]}(notSelector)):[];return positive.concat(...negative)}function parseSelectorToR3Selector(selector){return selector?CssSelector.parse(selector).map(parserSelectorToR3Selector):[]}!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(compiler_SecurityContext||(compiler_SecurityContext={})),function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(compiler_MissingTranslationStrategy||(compiler_MissingTranslationStrategy={}));var TypeModifier,BuiltinTypeName;!function(TypeModifier){TypeModifier[TypeModifier.Const=0]="Const"}(TypeModifier||(TypeModifier={}));class Type$1{constructor(modifiers=null){this.modifiers=modifiers,modifiers||(this.modifiers=[])}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}!function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function",BuiltinTypeName[BuiltinTypeName.Inferred=6]="Inferred",BuiltinTypeName[BuiltinTypeName.None=7]="None"}(BuiltinTypeName||(BuiltinTypeName={}));class BuiltinType extends Type$1{constructor(name,modifiers=null){super(modifiers),this.name=name}visitType(visitor,context){return visitor.visitBuiltinType(this,context)}}class ExpressionType extends Type$1{constructor(value,modifiers=null,typeParams=null){super(modifiers),this.value=value,this.typeParams=typeParams}visitType(visitor,context){return visitor.visitExpressionType(this,context)}}class ArrayType extends Type$1{constructor(of,modifiers=null){super(modifiers),this.of=of}visitType(visitor,context){return visitor.visitArrayType(this,context)}}class MapType extends Type$1{constructor(valueType,modifiers=null){super(modifiers),this.valueType=valueType||null}visitType(visitor,context){return visitor.visitMapType(this,context)}}const DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),INFERRED_TYPE=new BuiltinType(BuiltinTypeName.Inferred),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),NUMBER_TYPE=(new BuiltinType(BuiltinTypeName.Int),new BuiltinType(BuiltinTypeName.Number)),STRING_TYPE=new BuiltinType(BuiltinTypeName.String),NONE_TYPE=(new BuiltinType(BuiltinTypeName.Function),new BuiltinType(BuiltinTypeName.None));var BinaryOperator,BuiltinVar,BuiltinMethod;function nullSafeIsEquivalent(base,other){return null==base||null==other?base==other:base.isEquivalent(other)}function areAllEquivalent(base,other){const len=base.length;if(len!==other.length)return!1;for(let i=0;i<len;i++)if(!base[i].isEquivalent(other[i]))return!1;return!0}!function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Identical=2]="Identical",BinaryOperator[BinaryOperator.NotIdentical=3]="NotIdentical",BinaryOperator[BinaryOperator.Minus=4]="Minus",BinaryOperator[BinaryOperator.Plus=5]="Plus",BinaryOperator[BinaryOperator.Divide=6]="Divide",BinaryOperator[BinaryOperator.Multiply=7]="Multiply",BinaryOperator[BinaryOperator.Modulo=8]="Modulo",BinaryOperator[BinaryOperator.And=9]="And",BinaryOperator[BinaryOperator.Or=10]="Or",BinaryOperator[BinaryOperator.BitwiseAnd=11]="BitwiseAnd",BinaryOperator[BinaryOperator.Lower=12]="Lower",BinaryOperator[BinaryOperator.LowerEquals=13]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=14]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=15]="BiggerEquals"}(BinaryOperator||(BinaryOperator={}));class Expression{constructor(type,sourceSpan){this.type=type||null,this.sourceSpan=sourceSpan||null}prop(name,sourceSpan){return new ReadPropExpr(this,name,null,sourceSpan)}key(index,type,sourceSpan){return new ReadKeyExpr(this,index,type,sourceSpan)}callMethod(name,params,sourceSpan){return new InvokeMethodExpr(this,name,params,null,sourceSpan)}callFn(params,sourceSpan){return new InvokeFunctionExpr(this,params,null,sourceSpan)}instantiate(params,type,sourceSpan){return new InstantiateExpr(this,params,type,sourceSpan)}conditional(trueCase,falseCase=null,sourceSpan){return new ConditionalExpr(this,trueCase,falseCase,null,sourceSpan)}equals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs,null,sourceSpan)}notEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs,null,sourceSpan)}identical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs,null,sourceSpan)}notIdentical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs,null,sourceSpan)}minus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs,null,sourceSpan)}plus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs,null,sourceSpan)}divide(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs,null,sourceSpan)}multiply(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs,null,sourceSpan)}modulo(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs,null,sourceSpan)}and(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs,null,sourceSpan)}bitwiseAnd(rhs,sourceSpan,parens=!0){return new BinaryOperatorExpr(BinaryOperator.BitwiseAnd,this,rhs,null,sourceSpan,parens)}or(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs,null,sourceSpan)}lower(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs,null,sourceSpan)}lowerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs,null,sourceSpan)}bigger(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs,null,sourceSpan)}biggerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs,null,sourceSpan)}isBlank(sourceSpan){return this.equals(TYPED_NULL_EXPR,sourceSpan)}cast(type,sourceSpan){return new CastExpr(this,type,sourceSpan)}toStmt(){return new ExpressionStatement(this,null)}}!function(BuiltinVar){BuiltinVar[BuiltinVar.This=0]="This",BuiltinVar[BuiltinVar.Super=1]="Super",BuiltinVar[BuiltinVar.CatchError=2]="CatchError",BuiltinVar[BuiltinVar.CatchStack=3]="CatchStack"}(BuiltinVar||(BuiltinVar={}));class ReadVarExpr extends Expression{constructor(name,type,sourceSpan){super(type,sourceSpan),"string"==typeof name?(this.name=name,this.builtin=null):(this.name=null,this.builtin=name)}isEquivalent(e){return e instanceof ReadVarExpr&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadVarExpr(this,context)}set(value){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new WriteVarExpr(this.name,value,null,this.sourceSpan)}}class TypeofExpr extends Expression{constructor(expr,type,sourceSpan){super(type,sourceSpan),this.expr=expr}visitExpression(visitor,context){return visitor.visitTypeofExpr(this,context)}isEquivalent(e){return e instanceof TypeofExpr&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class WrappedNodeExpr extends Expression{constructor(node,type,sourceSpan){super(type,sourceSpan),this.node=node}isEquivalent(e){return e instanceof WrappedNodeExpr&&this.node===e.node}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWrappedNodeExpr(this,context)}}class WriteVarExpr extends Expression{constructor(name,value,type,sourceSpan){super(type||value.type,sourceSpan),this.name=name,this.value=value}isEquivalent(e){return e instanceof WriteVarExpr&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWriteVarExpr(this,context)}toDeclStmt(type,modifiers){return new DeclareVarStmt(this.name,this.value,type,modifiers,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])}}class WriteKeyExpr extends Expression{constructor(receiver,index,value,type,sourceSpan){super(type||value.type,sourceSpan),this.receiver=receiver,this.index=index,this.value=value}isEquivalent(e){return e instanceof WriteKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWriteKeyExpr(this,context)}}class WritePropExpr extends Expression{constructor(receiver,name,value,type,sourceSpan){super(type||value.type,sourceSpan),this.receiver=receiver,this.name=name,this.value=value}isEquivalent(e){return e instanceof WritePropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWritePropExpr(this,context)}}!function(BuiltinMethod){BuiltinMethod[BuiltinMethod.ConcatArray=0]="ConcatArray",BuiltinMethod[BuiltinMethod.SubscribeObservable=1]="SubscribeObservable",BuiltinMethod[BuiltinMethod.Bind=2]="Bind"}(BuiltinMethod||(BuiltinMethod={}));class InvokeMethodExpr extends Expression{constructor(receiver,method,args,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.args=args,"string"==typeof method?(this.name=method,this.builtin=null):(this.name=null,this.builtin=method)}isEquivalent(e){return e instanceof InvokeMethodExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&areAllEquivalent(this.args,e.args)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInvokeMethodExpr(this,context)}}class InvokeFunctionExpr extends Expression{constructor(fn,args,type,sourceSpan,pure=!1){super(type,sourceSpan),this.fn=fn,this.args=args,this.pure=pure}isEquivalent(e){return e instanceof InvokeFunctionExpr&&this.fn.isEquivalent(e.fn)&&areAllEquivalent(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)}}class InstantiateExpr extends Expression{constructor(classExpr,args,type,sourceSpan){super(type,sourceSpan),this.classExpr=classExpr,this.args=args}isEquivalent(e){return e instanceof InstantiateExpr&&this.classExpr.isEquivalent(e.classExpr)&&areAllEquivalent(this.args,e.args)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInstantiateExpr(this,context)}}class LiteralExpr extends Expression{constructor(value,type,sourceSpan){super(type,sourceSpan),this.value=value}isEquivalent(e){return e instanceof LiteralExpr&&this.value===e.value}isConstant(){return!0}visitExpression(visitor,context){return visitor.visitLiteralExpr(this,context)}}class LocalizedString extends Expression{constructor(metaBlock,messageParts,placeHolderNames,expressions,sourceSpan){super(STRING_TYPE,sourceSpan),this.metaBlock=metaBlock,this.messageParts=messageParts,this.placeHolderNames=placeHolderNames,this.expressions=expressions}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitLocalizedString(this,context)}serializeI18nHead(){let metaBlock=this.metaBlock.description||"";return this.metaBlock.meaning&&(metaBlock=`${this.metaBlock.meaning}|${metaBlock}`),this.metaBlock.customId&&(metaBlock=`${metaBlock}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(legacyId=>{metaBlock=`${metaBlock}␟${legacyId}`}),createCookedRawString(metaBlock,this.messageParts[0])}serializeI18nTemplatePart(partIndex){return createCookedRawString(this.placeHolderNames[partIndex-1],this.messageParts[partIndex])}}const escapeSlashes=str=>str.replace(/\\/g,"\\\\"),escapeColons=str=>str.replace(/:/g,"\\:"),escapeForMessagePart=str=>str.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function createCookedRawString(metaBlock,messagePart){return""===metaBlock?{cooked:messagePart,raw:escapeForMessagePart((str=escapeSlashes(messagePart),str.replace(/^:/,"\\:")))}:{cooked:`:${metaBlock}:${messagePart}`,raw:escapeForMessagePart(`:${escapeColons(escapeSlashes(metaBlock))}:${escapeSlashes(messagePart)}`)};var str}class ExternalExpr extends Expression{constructor(value,type,typeParams=null,sourceSpan){super(type,sourceSpan),this.value=value,this.typeParams=typeParams}isEquivalent(e){return e instanceof ExternalExpr&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitExternalExpr(this,context)}}class ConditionalExpr extends Expression{constructor(condition,trueCase,falseCase=null,type,sourceSpan){super(type||trueCase.type,sourceSpan),this.condition=condition,this.falseCase=falseCase,this.trueCase=trueCase}isEquivalent(e){return e instanceof ConditionalExpr&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&nullSafeIsEquivalent(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitConditionalExpr(this,context)}}class NotExpr extends Expression{constructor(condition,sourceSpan){super(BOOL_TYPE,sourceSpan),this.condition=condition}isEquivalent(e){return e instanceof NotExpr&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitNotExpr(this,context)}}class AssertNotNull extends Expression{constructor(condition,sourceSpan){super(condition.type,sourceSpan),this.condition=condition}isEquivalent(e){return e instanceof AssertNotNull&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitAssertNotNullExpr(this,context)}}class CastExpr extends Expression{constructor(value,type,sourceSpan){super(type,sourceSpan),this.value=value}isEquivalent(e){return e instanceof CastExpr&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitCastExpr(this,context)}}class FnParam{constructor(name,type=null){this.name=name,this.type=type}isEquivalent(param){return this.name===param.name}}class FunctionExpr extends Expression{constructor(params,statements,type,sourceSpan,name){super(type,sourceSpan),this.params=params,this.statements=statements,this.name=name}isEquivalent(e){return e instanceof FunctionExpr&&areAllEquivalent(this.params,e.params)&&areAllEquivalent(this.statements,e.statements)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitFunctionExpr(this,context)}toDeclStmt(name,modifiers=null){return new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers,this.sourceSpan)}}class BinaryOperatorExpr extends Expression{constructor(operator,lhs,rhs,type,sourceSpan,parens=!0){super(type||lhs.type,sourceSpan),this.operator=operator,this.rhs=rhs,this.parens=parens,this.lhs=lhs}isEquivalent(e){return e instanceof BinaryOperatorExpr&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)}}class ReadPropExpr extends Expression{constructor(receiver,name,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.name=name}isEquivalent(e){return e instanceof ReadPropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadPropExpr(this,context)}set(value){return new WritePropExpr(this.receiver,this.name,value,null,this.sourceSpan)}}class ReadKeyExpr extends Expression{constructor(receiver,index,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.index=index}isEquivalent(e){return e instanceof ReadKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadKeyExpr(this,context)}set(value){return new WriteKeyExpr(this.receiver,this.index,value,null,this.sourceSpan)}}class LiteralArrayExpr extends Expression{constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof LiteralArrayExpr&&areAllEquivalent(this.entries,e.entries)}visitExpression(visitor,context){return visitor.visitLiteralArrayExpr(this,context)}}class LiteralMapEntry{constructor(key,value,quoted){this.key=key,this.value=value,this.quoted=quoted}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class LiteralMapExpr extends Expression{constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries,this.valueType=null,type&&(this.valueType=type.valueType)}isEquivalent(e){return e instanceof LiteralMapExpr&&areAllEquivalent(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(visitor,context){return visitor.visitLiteralMapExpr(this,context)}}class CommaExpr extends Expression{constructor(parts,sourceSpan){super(parts[parts.length-1].type,sourceSpan),this.parts=parts}isEquivalent(e){return e instanceof CommaExpr&&areAllEquivalent(this.parts,e.parts)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitCommaExpr(this,context)}}new ReadVarExpr(BuiltinVar.This,null,null),new ReadVarExpr(BuiltinVar.Super,null,null),new ReadVarExpr(BuiltinVar.CatchError,null,null),new ReadVarExpr(BuiltinVar.CatchStack,null,null);const NULL_EXPR=new LiteralExpr(null,null,null),TYPED_NULL_EXPR=new LiteralExpr(null,INFERRED_TYPE,null);var StmtModifier;!function(StmtModifier){StmtModifier[StmtModifier.Final=0]="Final",StmtModifier[StmtModifier.Private=1]="Private",StmtModifier[StmtModifier.Exported=2]="Exported",StmtModifier[StmtModifier.Static=3]="Static"}(StmtModifier||(StmtModifier={}));class Statement{constructor(modifiers,sourceSpan){this.modifiers=modifiers||[],this.sourceSpan=sourceSpan||null}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}class DeclareVarStmt extends Statement{constructor(name,value,type,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.value=value,this.type=type||value&&value.type||null}isEquivalent(stmt){return stmt instanceof DeclareVarStmt&&this.name===stmt.name&&(this.value?!!stmt.value&&this.value.isEquivalent(stmt.value):!stmt.value)}visitStatement(visitor,context){return visitor.visitDeclareVarStmt(this,context)}}class DeclareFunctionStmt extends Statement{constructor(name,params,statements,type,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.params=params,this.statements=statements,this.type=type||null}isEquivalent(stmt){return stmt instanceof DeclareFunctionStmt&&areAllEquivalent(this.params,stmt.params)&&areAllEquivalent(this.statements,stmt.statements)}visitStatement(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)}}class ExpressionStatement extends Statement{constructor(expr,sourceSpan){super(null,sourceSpan),this.expr=expr}isEquivalent(stmt){return stmt instanceof ExpressionStatement&&this.expr.isEquivalent(stmt.expr)}visitStatement(visitor,context){return visitor.visitExpressionStmt(this,context)}}class ReturnStatement extends Statement{constructor(value,sourceSpan){super(null,sourceSpan),this.value=value}isEquivalent(stmt){return stmt instanceof ReturnStatement&&this.value.isEquivalent(stmt.value)}visitStatement(visitor,context){return visitor.visitReturnStmt(this,context)}}class AbstractClassPart{constructor(type,modifiers){this.modifiers=modifiers,modifiers||(this.modifiers=[]),this.type=type||null}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}class ClassMethod extends AbstractClassPart{constructor(name,params,body,type,modifiers=null){super(type,modifiers),this.name=name,this.params=params,this.body=body}isEquivalent(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)}}class ClassGetter extends AbstractClassPart{constructor(name,body,type,modifiers=null){super(type,modifiers),this.name=name,this.body=body}isEquivalent(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)}}class ClassStmt extends Statement{constructor(name,parent,fields,getters,constructorMethod,methods,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.parent=parent,this.fields=fields,this.getters=getters,this.constructorMethod=constructorMethod,this.methods=methods}isEquivalent(stmt){return stmt instanceof ClassStmt&&this.name===stmt.name&&nullSafeIsEquivalent(this.parent,stmt.parent)&&areAllEquivalent(this.fields,stmt.fields)&&areAllEquivalent(this.getters,stmt.getters)&&this.constructorMethod.isEquivalent(stmt.constructorMethod)&&areAllEquivalent(this.methods,stmt.methods)}visitStatement(visitor,context){return visitor.visitDeclareClassStmt(this,context)}}class IfStmt extends Statement{constructor(condition,trueCase,falseCase=[],sourceSpan){super(null,sourceSpan),this.condition=condition,this.trueCase=trueCase,this.falseCase=falseCase}isEquivalent(stmt){return stmt instanceof IfStmt&&this.condition.isEquivalent(stmt.condition)&&areAllEquivalent(this.trueCase,stmt.trueCase)&&areAllEquivalent(this.falseCase,stmt.falseCase)}visitStatement(visitor,context){return visitor.visitIfStmt(this,context)}}class JSDocCommentStmt extends Statement{constructor(tags=[],sourceSpan){super(null,sourceSpan),this.tags=tags}isEquivalent(stmt){return stmt instanceof JSDocCommentStmt&&this.toString()===stmt.toString()}visitStatement(visitor,context){return visitor.visitJSDocCommentStmt(this,context)}toString(){return function(tags){if(0===tags.length)return"";let out="*\n";for(const tag of tags)out+=" *",out+=tagToString(tag).replace(/\n/g,"\n * "),out+="\n";return out+=" ",out}(this.tags)}}class TryCatchStmt extends Statement{constructor(bodyStmts,catchStmts,sourceSpan){super(null,sourceSpan),this.bodyStmts=bodyStmts,this.catchStmts=catchStmts}isEquivalent(stmt){return stmt instanceof TryCatchStmt&&areAllEquivalent(this.bodyStmts,stmt.bodyStmts)&&areAllEquivalent(this.catchStmts,stmt.catchStmts)}visitStatement(visitor,context){return visitor.visitTryCatchStmt(this,context)}}class ThrowStmt extends Statement{constructor(error,sourceSpan){super(null,sourceSpan),this.error=error}isEquivalent(stmt){return stmt instanceof TryCatchStmt&&this.error.isEquivalent(stmt.error)}visitStatement(visitor,context){return visitor.visitThrowStmt(this,context)}}class RecursiveAstVisitor{visitType(ast,context){return ast}visitExpression(ast,context){return ast.type&&ast.type.visitType(this,context),ast}visitBuiltinType(type,context){return this.visitType(type,context)}visitExpressionType(type,context){return type.value.visitExpression(this,context),null!==type.typeParams&&type.typeParams.forEach(param=>this.visitType(param,context)),this.visitType(type,context)}visitArrayType(type,context){return this.visitType(type,context)}visitMapType(type,context){return this.visitType(type,context)}visitWrappedNodeExpr(ast,context){return ast}visitTypeofExpr(ast,context){return this.visitExpression(ast,context)}visitReadVarExpr(ast,context){return this.visitExpression(ast,context)}visitWriteVarExpr(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitWriteKeyExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitWritePropExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitInvokeMethodExpr(ast,context){return ast.receiver.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitInvokeFunctionExpr(ast,context){return ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitInstantiateExpr(ast,context){return ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitLiteralExpr(ast,context){return this.visitExpression(ast,context)}visitLocalizedString(ast,context){return this.visitExpression(ast,context)}visitExternalExpr(ast,context){return ast.typeParams&&ast.typeParams.forEach(type=>type.visitType(this,context)),this.visitExpression(ast,context)}visitConditionalExpr(ast,context){return ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),this.visitExpression(ast,context)}visitNotExpr(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)}visitAssertNotNullExpr(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)}visitCastExpr(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitFunctionExpr(ast,context){return this.visitAllStatements(ast.statements,context),this.visitExpression(ast,context)}visitBinaryOperatorExpr(ast,context){return ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),this.visitExpression(ast,context)}visitReadPropExpr(ast,context){return ast.receiver.visitExpression(this,context),this.visitExpression(ast,context)}visitReadKeyExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),this.visitExpression(ast,context)}visitLiteralArrayExpr(ast,context){return this.visitAllExpressions(ast.entries,context),this.visitExpression(ast,context)}visitLiteralMapExpr(ast,context){return ast.entries.forEach(entry=>entry.value.visitExpression(this,context)),this.visitExpression(ast,context)}visitCommaExpr(ast,context){return this.visitAllExpressions(ast.parts,context),this.visitExpression(ast,context)}visitAllExpressions(exprs,context){exprs.forEach(expr=>expr.visitExpression(this,context))}visitDeclareVarStmt(stmt,context){return stmt.value&&stmt.value.visitExpression(this,context),stmt.type&&stmt.type.visitType(this,context),stmt}visitDeclareFunctionStmt(stmt,context){return this.visitAllStatements(stmt.statements,context),stmt.type&&stmt.type.visitType(this,context),stmt}visitExpressionStmt(stmt,context){return stmt.expr.visitExpression(this,context),stmt}visitReturnStmt(stmt,context){return stmt.value.visitExpression(this,context),stmt}visitDeclareClassStmt(stmt,context){return stmt.parent.visitExpression(this,context),stmt.getters.forEach(getter=>this.visitAllStatements(getter.body,context)),stmt.constructorMethod&&this.visitAllStatements(stmt.constructorMethod.body,context),stmt.methods.forEach(method=>this.visitAllStatements(method.body,context)),stmt}visitIfStmt(stmt,context){return stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt}visitTryCatchStmt(stmt,context){return this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt}visitThrowStmt(stmt,context){return stmt.error.visitExpression(this,context),stmt}visitCommentStmt(stmt,context){return stmt}visitJSDocCommentStmt(stmt,context){return stmt}visitAllStatements(stmts,context){stmts.forEach(stmt=>stmt.visitStatement(this,context))}}function findReadVarNames(stmts){const visitor=new _ReadVarVisitor;return visitor.visitAllStatements(stmts,null),visitor.varNames}class _ReadVarVisitor extends RecursiveAstVisitor{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(stmt,context){return stmt}visitDeclareClassStmt(stmt,context){return stmt}visitReadVarExpr(ast,context){return ast.name&&this.varNames.add(ast.name),null}}function applySourceSpanToStatementIfNeeded(stmt,sourceSpan){if(!sourceSpan)return stmt;const transformer=new _ApplySourceSpanTransformer(sourceSpan);return stmt.visitStatement(transformer,null)}function applySourceSpanToExpressionIfNeeded(expr,sourceSpan){if(!sourceSpan)return expr;const transformer=new _ApplySourceSpanTransformer(sourceSpan);return expr.visitExpression(transformer,null)}class _ApplySourceSpanTransformer extends class{transformExpr(expr,context){return expr}transformStmt(stmt,context){return stmt}visitReadVarExpr(ast,context){return this.transformExpr(ast,context)}visitWrappedNodeExpr(ast,context){return this.transformExpr(ast,context)}visitTypeofExpr(expr,context){return this.transformExpr(new TypeofExpr(expr.expr.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWriteVarExpr(expr,context){return this.transformExpr(new WriteVarExpr(expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWriteKeyExpr(expr,context){return this.transformExpr(new WriteKeyExpr(expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWritePropExpr(expr,context){return this.transformExpr(new WritePropExpr(expr.receiver.visitExpression(this,context),expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitInvokeMethodExpr(ast,context){const method=ast.builtin||ast.name;return this.transformExpr(new InvokeMethodExpr(ast.receiver.visitExpression(this,context),method,this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitInvokeFunctionExpr(ast,context){return this.transformExpr(new InvokeFunctionExpr(ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitInstantiateExpr(ast,context){return this.transformExpr(new InstantiateExpr(ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitLiteralExpr(ast,context){return this.transformExpr(ast,context)}visitLocalizedString(ast,context){return this.transformExpr(new LocalizedString(ast.metaBlock,ast.messageParts,ast.placeHolderNames,this.visitAllExpressions(ast.expressions,context),ast.sourceSpan),context)}visitExternalExpr(ast,context){return this.transformExpr(ast,context)}visitConditionalExpr(ast,context){return this.transformExpr(new ConditionalExpr(ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitNotExpr(ast,context){return this.transformExpr(new NotExpr(ast.condition.visitExpression(this,context),ast.sourceSpan),context)}visitAssertNotNullExpr(ast,context){return this.transformExpr(new AssertNotNull(ast.condition.visitExpression(this,context),ast.sourceSpan),context)}visitCastExpr(ast,context){return this.transformExpr(new CastExpr(ast.value.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitFunctionExpr(ast,context){return this.transformExpr(new FunctionExpr(ast.params,this.visitAllStatements(ast.statements,context),ast.type,ast.sourceSpan),context)}visitBinaryOperatorExpr(ast,context){return this.transformExpr(new BinaryOperatorExpr(ast.operator,ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitReadPropExpr(ast,context){return this.transformExpr(new ReadPropExpr(ast.receiver.visitExpression(this,context),ast.name,ast.type,ast.sourceSpan),context)}visitReadKeyExpr(ast,context){return this.transformExpr(new ReadKeyExpr(ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitLiteralArrayExpr(ast,context){return this.transformExpr(new LiteralArrayExpr(this.visitAllExpressions(ast.entries,context),ast.type,ast.sourceSpan),context)}visitLiteralMapExpr(ast,context){const entries=ast.entries.map(entry=>new LiteralMapEntry(entry.key,entry.value.visitExpression(this,context),entry.quoted)),mapType=new MapType(ast.valueType,null);return this.transformExpr(new LiteralMapExpr(entries,mapType,ast.sourceSpan),context)}visitCommaExpr(ast,context){return this.transformExpr(new CommaExpr(this.visitAllExpressions(ast.parts,context),ast.sourceSpan),context)}visitAllExpressions(exprs,context){return exprs.map(expr=>expr.visitExpression(this,context))}visitDeclareVarStmt(stmt,context){const value=stmt.value&&stmt.value.visitExpression(this,context);return this.transformStmt(new DeclareVarStmt(stmt.name,value,stmt.type,stmt.modifiers,stmt.sourceSpan),context)}visitDeclareFunctionStmt(stmt,context){return this.transformStmt(new DeclareFunctionStmt(stmt.name,stmt.params,this.visitAllStatements(stmt.statements,context),stmt.type,stmt.modifiers,stmt.sourceSpan),context)}visitExpressionStmt(stmt,context){return this.transformStmt(new ExpressionStatement(stmt.expr.visitExpression(this,context),stmt.sourceSpan),context)}visitReturnStmt(stmt,context){return this.transformStmt(new ReturnStatement(stmt.value.visitExpression(this,context),stmt.sourceSpan),context)}visitDeclareClassStmt(stmt,context){const parent=stmt.parent.visitExpression(this,context),getters=stmt.getters.map(getter=>new ClassGetter(getter.name,this.visitAllStatements(getter.body,context),getter.type,getter.modifiers)),ctorMethod=stmt.constructorMethod&&new ClassMethod(stmt.constructorMethod.name,stmt.constructorMethod.params,this.visitAllStatements(stmt.constructorMethod.body,context),stmt.constructorMethod.type,stmt.constructorMethod.modifiers),methods=stmt.methods.map(method=>new ClassMethod(method.name,method.params,this.visitAllStatements(method.body,context),method.type,method.modifiers));return this.transformStmt(new ClassStmt(stmt.name,parent,stmt.fields,getters,ctorMethod,methods,stmt.modifiers,stmt.sourceSpan),context)}visitIfStmt(stmt,context){return this.transformStmt(new IfStmt(stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt.sourceSpan),context)}visitTryCatchStmt(stmt,context){return this.transformStmt(new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt.sourceSpan),context)}visitThrowStmt(stmt,context){return this.transformStmt(new ThrowStmt(stmt.error.visitExpression(this,context),stmt.sourceSpan),context)}visitCommentStmt(stmt,context){return this.transformStmt(stmt,context)}visitJSDocCommentStmt(stmt,context){return this.transformStmt(stmt,context)}visitAllStatements(stmts,context){return stmts.map(stmt=>stmt.visitStatement(this,context))}}{constructor(sourceSpan){super(),this.sourceSpan=sourceSpan}_clone(obj){const clone=Object.create(obj.constructor.prototype);for(let prop of Object.keys(obj))clone[prop]=obj[prop];return clone}transformExpr(expr,context){return expr.sourceSpan||((expr=this._clone(expr)).sourceSpan=this.sourceSpan),expr}transformStmt(stmt,context){return stmt.sourceSpan||((stmt=this._clone(stmt)).sourceSpan=this.sourceSpan),stmt}}function variable(name,type,sourceSpan){return new ReadVarExpr(name,type,sourceSpan)}function importExpr(id,typeParams=null,sourceSpan){return new ExternalExpr(id,null,typeParams,sourceSpan)}function importType(id,typeParams=null,typeModifiers=null){return null!=id?expressionType(importExpr(id,typeParams,null),typeModifiers):null}function expressionType(expr,typeModifiers=null,typeParams=null){return new ExpressionType(expr,typeModifiers,typeParams)}function typeofExpr(expr){return new TypeofExpr(expr)}function literalArr(values,type,sourceSpan){return new LiteralArrayExpr(values,type,sourceSpan)}function literalMap(values,type=null){return new LiteralMapExpr(values.map(e=>new LiteralMapEntry(e.key,e.value,e.quoted)),type,null)}function compiler_fn(params,body,type,sourceSpan,name){return new FunctionExpr(params,body,type,sourceSpan,name)}function ifStmt(condition,thenClause,elseClause){return new IfStmt(condition,thenClause,elseClause)}function compiler_literal(value,type,sourceSpan){return new LiteralExpr(value,type,sourceSpan)}function isNull(exp){return exp instanceof LiteralExpr&&null===exp.value}function tagToString(tag){let out="";if(tag.tagName&&(out+=` @${tag.tagName}`),tag.text){if(tag.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');out+=" "+tag.text.replace(/@/g,"\\@")}return out}const DASH_CASE_REGEXP=/-+([a-z0-9])/g;function splitAtColon(input,defaultValues){return _splitAt(input,":",defaultValues)}function _splitAt(input,character,defaultValues){const characterIndex=input.indexOf(character);return-1==characterIndex?defaultValues:[input.slice(0,characterIndex).trim(),input.slice(characterIndex+1).trim()]}function visitValue(value,visitor,context){return Array.isArray(value)?visitor.visitArray(value,context):"object"==typeof(obj=value)&&null!==obj&&Object.getPrototypeOf(obj)===STRING_MAP_PROTO?visitor.visitStringMap(value,context):null==value||"string"==typeof value||"number"==typeof value||"boolean"==typeof value?visitor.visitPrimitive(value,context):visitor.visitOther(value,context);var obj}function isDefined(val){return null!=val}function noUndefined(val){return void 0===val?null:val}class ValueTransformer{visitArray(arr,context){return arr.map(value=>visitValue(value,this,context))}visitStringMap(map,context){const result={};return Object.keys(map).forEach(key=>{result[key]=visitValue(map[key],this,context)}),result}visitPrimitive(value,context){return value}visitOther(value,context){return value}}const SyncAsync_assertSync=value=>{if(compiler_isPromise(value))throw new Error("Illegal state: value cannot be a promise");return value},SyncAsync_then=(value,cb)=>compiler_isPromise(value)?value.then(cb):cb(value),SyncAsync_all=syncAsyncValues=>syncAsyncValues.some(compiler_isPromise)?Promise.all(syncAsyncValues):syncAsyncValues;function compiler_error(msg){throw new Error(`Internal Error: ${msg}`)}function syntaxError(msg,parseErrors){const error=Error(msg);return error[ERROR_SYNTAX_ERROR]=!0,parseErrors&&(error[ERROR_PARSE_ERRORS]=parseErrors),error}const ERROR_SYNTAX_ERROR="ngSyntaxError",ERROR_PARSE_ERRORS="ngParseErrors";function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const STRING_MAP_PROTO=Object.getPrototypeOf({});function utf8Encode(str){let encoded="";for(let index=0;index<str.length;index++){let codePoint=str.charCodeAt(index);if(codePoint>=55296&&codePoint<=56319&&str.length>index+1){const low=str.charCodeAt(index+1);low>=56320&&low<=57343&&(index++,codePoint=(codePoint-55296<<10)+low-56320+65536)}codePoint<=127?encoded+=String.fromCharCode(codePoint):codePoint<=2047?encoded+=String.fromCharCode(codePoint>>6&31|192,63&codePoint|128):codePoint<=65535?encoded+=String.fromCharCode(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128):codePoint<=2097151&&(encoded+=String.fromCharCode(codePoint>>18&7|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128))}return encoded}function compiler_stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return"["+token.map(compiler_stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;if(!token.toString)return"object";const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function compiler_resolveForwardRef(type){return"function"==typeof type&&type.hasOwnProperty("__forward_ref__")?type():type}function compiler_isPromise(obj){return!!obj&&"function"==typeof obj.then}const compiler_window="undefined"!=typeof window&&window,compiler_self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fesm2015_compiler_global="undefined"!=typeof global&&global||compiler_window||compiler_self;function compiler_newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}const UNKNOWN_VALUE_KEY=variable("<unknown>"),KEY_CONTEXT={};class FixupExpression extends Expression{constructor(resolved){super(resolved.type),this.resolved=resolved,this.original=resolved}visitExpression(visitor,context){return context===KEY_CONTEXT?this.original.visitExpression(visitor,context):this.resolved.visitExpression(visitor,context)}isEquivalent(e){return e instanceof FixupExpression&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(expression){this.resolved=expression,this.shared=!0}}class ConstantPool{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(literal,forceShared){if(literal instanceof LiteralExpr||literal instanceof FixupExpression)return literal;const key=this.keyOf(literal);let fixup=this.literals.get(key),newValue=!1;if(fixup||(fixup=new FixupExpression(literal),this.literals.set(key,fixup),newValue=!0),!newValue&&!fixup.shared||newValue&&forceShared){const name=this.freshName();this.statements.push(variable(name).set(literal).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name))}return fixup}getDefinition(type,kind,ctx,forceShared=!1){const definitions=this.definitionsOf(kind);let fixup=definitions.get(type),newValue=!1;if(!fixup){const property=this.propertyNameOf(kind);fixup=new FixupExpression(ctx.importExpr(type).prop(property)),definitions.set(type,fixup),newValue=!0}if(!newValue&&!fixup.shared||newValue&&forceShared){const name=this.freshName();this.statements.push(variable(name).set(fixup.resolved).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name))}return fixup}getLiteralFactory(literal){if(literal instanceof LiteralArrayExpr){const argumentsForKey=literal.entries.map(e=>e.isConstant()?e:UNKNOWN_VALUE_KEY),key=this.keyOf(literalArr(argumentsForKey));return this._getLiteralFactory(key,literal.entries,entries=>literalArr(entries))}{const expressionForKey=literalMap(literal.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:UNKNOWN_VALUE_KEY,quoted:e.quoted}))),key=this.keyOf(expressionForKey);return this._getLiteralFactory(key,literal.entries.map(e=>e.value),entries=>literalMap(entries.map((value,index)=>({key:literal.entries[index].key,value:value,quoted:literal.entries[index].quoted}))))}}_getLiteralFactory(key,values,resultMap){let literalFactory=this.literalFactories.get(key);const literalFactoryArguments=values.filter(e=>!e.isConstant());if(!literalFactory){const resultExpressions=values.map((e,index)=>e.isConstant()?this.getConstLiteral(e,!0):variable(`a${index}`)),pureFunctionDeclaration=compiler_fn(resultExpressions.filter(isVariable).map(e=>new FnParam(e.name,DYNAMIC_TYPE)),[new ReturnStatement(resultMap(resultExpressions))],INFERRED_TYPE),name=this.freshName();this.statements.push(variable(name).set(pureFunctionDeclaration).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),literalFactory=variable(name),this.literalFactories.set(key,literalFactory)}return{literalFactory:literalFactory,literalFactoryArguments:literalFactoryArguments}}uniqueName(prefix){return`${prefix}${this.nextNameIndex++}`}definitionsOf(kind){switch(kind){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return compiler_error(`Unknown definition kind ${kind}`),this.componentDefinitions}propertyNameOf(kind){switch(kind){case 2:return"ɵcmp";case 1:return"ɵdir";case 0:return"ɵinj";case 3:return"ɵpipe"}return compiler_error(`Unknown definition kind ${kind}`),"<unknown>"}freshName(){return this.uniqueName("_c")}keyOf(expression){return expression.visitExpression(new KeyVisitor,KEY_CONTEXT)}}class KeyVisitor{constructor(){this.visitWrappedNodeExpr=invalid,this.visitWriteVarExpr=invalid,this.visitWriteKeyExpr=invalid,this.visitWritePropExpr=invalid,this.visitInvokeMethodExpr=invalid,this.visitInvokeFunctionExpr=invalid,this.visitInstantiateExpr=invalid,this.visitConditionalExpr=invalid,this.visitNotExpr=invalid,this.visitAssertNotNullExpr=invalid,this.visitCastExpr=invalid,this.visitFunctionExpr=invalid,this.visitBinaryOperatorExpr=invalid,this.visitReadPropExpr=invalid,this.visitReadKeyExpr=invalid,this.visitCommaExpr=invalid,this.visitLocalizedString=invalid}visitLiteralExpr(ast){return`${"string"==typeof ast.value?'"'+ast.value+'"':ast.value}`}visitLiteralArrayExpr(ast,context){return`[${ast.entries.map(entry=>entry.visitExpression(this,context)).join(",")}]`}visitLiteralMapExpr(ast,context){return`{${ast.entries.map(entry=>`${(entry=>{const quote=entry.quoted?'"':"";return`${quote}${entry.key}${quote}`})(entry)}:${entry.value.visitExpression(this,context)}`).join(",")}`}visitExternalExpr(ast){return ast.value.moduleName?`EX:${ast.value.moduleName}:${ast.value.name}`:`EX:${ast.value.runtime.name}`}visitReadVarExpr(node){return`VAR:${node.name}`}visitTypeofExpr(node,context){return`TYPEOF:${node.expr.visitExpression(this,context)}`}}function invalid(arg){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${arg.constructor.name}`)}function isVariable(e){return e instanceof ReadVarExpr}const CORE="@angular/core";class Identifiers{}function createTokenForReference(reference){return{identifier:{reference:reference}}}function createTokenForExternalReference(reflector,reference){return createTokenForReference(reflector.resolveExternalReference(reference))}Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:CORE},Identifiers.ElementRef={name:"ElementRef",moduleName:CORE},Identifiers.NgModuleRef={name:"NgModuleRef",moduleName:CORE},Identifiers.ViewContainerRef={name:"ViewContainerRef",moduleName:CORE},Identifiers.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:CORE},Identifiers.QueryList={name:"QueryList",moduleName:CORE},Identifiers.TemplateRef={name:"TemplateRef",moduleName:CORE},Identifiers.Renderer2={name:"Renderer2",moduleName:CORE},Identifiers.CodegenComponentFactoryResolver={name:"ɵCodegenComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactory={name:"ComponentFactory",moduleName:CORE},Identifiers.ComponentRef={name:"ComponentRef",moduleName:CORE},Identifiers.NgModuleFactory={name:"NgModuleFactory",moduleName:CORE},Identifiers.createModuleFactory={name:"ɵcmf",moduleName:CORE},Identifiers.moduleDef={name:"ɵmod",moduleName:CORE},Identifiers.moduleProviderDef={name:"ɵmpd",moduleName:CORE},Identifiers.RegisterModuleFactoryFn={name:"ɵregisterModuleFactory",moduleName:CORE},Identifiers.inject={name:"ɵɵinject",moduleName:CORE},Identifiers.directiveInject={name:"ɵɵdirectiveInject",moduleName:CORE},Identifiers.INJECTOR={name:"INJECTOR",moduleName:CORE},Identifiers.Injector={name:"Injector",moduleName:CORE},Identifiers.ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:CORE},Identifiers.InjectableDef={name:"ɵɵInjectableDef",moduleName:CORE},Identifiers.ViewEncapsulation={name:"ViewEncapsulation",moduleName:CORE},Identifiers.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:CORE},Identifiers.SecurityContext={name:"SecurityContext",moduleName:CORE},Identifiers.LOCALE_ID={name:"LOCALE_ID",moduleName:CORE},Identifiers.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:CORE},Identifiers.inlineInterpolate={name:"ɵinlineInterpolate",moduleName:CORE},Identifiers.interpolate={name:"ɵinterpolate",moduleName:CORE},Identifiers.EMPTY_ARRAY={name:"ɵEMPTY_ARRAY",moduleName:CORE},Identifiers.EMPTY_MAP={name:"ɵEMPTY_MAP",moduleName:CORE},Identifiers.Renderer={name:"Renderer",moduleName:CORE},Identifiers.viewDef={name:"ɵvid",moduleName:CORE},Identifiers.elementDef={name:"ɵeld",moduleName:CORE},Identifiers.anchorDef={name:"ɵand",moduleName:CORE},Identifiers.textDef={name:"ɵted",moduleName:CORE},Identifiers.directiveDef={name:"ɵdid",moduleName:CORE},Identifiers.providerDef={name:"ɵprd",moduleName:CORE},Identifiers.queryDef={name:"ɵqud",moduleName:CORE},Identifiers.pureArrayDef={name:"ɵpad",moduleName:CORE},Identifiers.pureObjectDef={name:"ɵpod",moduleName:CORE},Identifiers.purePipeDef={name:"ɵppd",moduleName:CORE},Identifiers.pipeDef={name:"ɵpid",moduleName:CORE},Identifiers.nodeValue={name:"ɵnov",moduleName:CORE},Identifiers.ngContentDef={name:"ɵncd",moduleName:CORE},Identifiers.unwrapValue={name:"ɵunv",moduleName:CORE},Identifiers.createRendererType2={name:"ɵcrt",moduleName:CORE},Identifiers.RendererType2={name:"RendererType2",moduleName:CORE},Identifiers.ViewDefinition={name:"ɵViewDefinition",moduleName:CORE},Identifiers.createComponentFactory={name:"ɵccf",moduleName:CORE},Identifiers.setClassMetadata={name:"ɵsetClassMetadata",moduleName:CORE};class StaticSymbol{constructor(filePath,name,members){this.filePath=filePath,this.name=name,this.members=members}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class StaticSymbolCache{constructor(){this.cache=new Map}get(declarationFile,name,members){const key=`"${declarationFile}".${name}${(members=members||[]).length?`.${members.join(".")}`:""}`;let result=this.cache.get(key);return result||(result=new StaticSymbol(declarationFile,name,members),this.cache.set(key,result)),result}}const HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function sanitizeIdentifier(name){return name.replace(/\W/g,"_")}let _anonymousTypeIndex=0;function identifierName(compileIdentifier){if(!compileIdentifier||!compileIdentifier.reference)return null;const ref=compileIdentifier.reference;if(ref instanceof StaticSymbol)return ref.name;if(ref.__anonymousType)return ref.__anonymousType;let identifier=compiler_stringify(ref);return identifier.indexOf("(")>=0?(identifier=`anonymous_${_anonymousTypeIndex++}`,ref.__anonymousType=identifier):identifier=sanitizeIdentifier(identifier),identifier}function identifierModuleUrl(compileIdentifier){const ref=compileIdentifier.reference;return ref instanceof StaticSymbol?ref.filePath:`./${compiler_stringify(ref)}`}function viewClassName(compType,embeddedTemplateIndex){return`View_${identifierName({reference:compType})}_${embeddedTemplateIndex}`}function rendererTypeName(compType){return`RenderType_${identifierName({reference:compType})}`}function componentFactoryName(compType){return`${identifierName({reference:compType})}NgFactory`}var CompileSummaryKind;function tokenName(token){return null!=token.value?sanitizeIdentifier(token.value):identifierName(token.identifier)}function tokenReference(token){return null!=token.identifier?token.identifier.reference:token.value}!function(CompileSummaryKind){CompileSummaryKind[CompileSummaryKind.Pipe=0]="Pipe",CompileSummaryKind[CompileSummaryKind.Directive=1]="Directive",CompileSummaryKind[CompileSummaryKind.NgModule=2]="NgModule",CompileSummaryKind[CompileSummaryKind.Injectable=3]="Injectable"}(CompileSummaryKind||(CompileSummaryKind={}));class CompileStylesheetMetadata{constructor({moduleUrl:moduleUrl,styles:styles,styleUrls:styleUrls}={}){this.moduleUrl=moduleUrl||null,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls)}}class CompileTemplateMetadata{constructor({encapsulation:encapsulation,template:template,templateUrl:templateUrl,htmlAst:htmlAst,styles:styles,styleUrls:styleUrls,externalStylesheets:externalStylesheets,animations:animations,ngContentSelectors:ngContentSelectors,interpolation:interpolation,isInline:isInline,preserveWhitespaces:preserveWhitespaces}){if(this.encapsulation=encapsulation,this.template=template,this.templateUrl=templateUrl,this.htmlAst=htmlAst,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls),this.externalStylesheets=_normalizeArray(externalStylesheets),this.animations=animations?compiler_flatten(animations):[],this.ngContentSelectors=ngContentSelectors||[],interpolation&&2!=interpolation.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=interpolation,this.isInline=isInline,this.preserveWhitespaces=preserveWhitespaces}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class CompileDirectiveMetadata{constructor({isHost:isHost,type:type,isComponent:isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputs,outputs:outputs,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory}){this.isHost=!!isHost,this.type=type,this.isComponent=isComponent,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.providers=_normalizeArray(providers),this.viewProviders=_normalizeArray(viewProviders),this.queries=_normalizeArray(queries),this.guards=guards,this.viewQueries=_normalizeArray(viewQueries),this.entryComponents=_normalizeArray(entryComponents),this.template=template,this.componentViewType=componentViewType,this.rendererType=rendererType,this.componentFactory=componentFactory}static create({isHost:isHost,type:type,isComponent:isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputs,outputs:outputs,host:host,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory}){const hostListeners={},hostProperties={},hostAttributes={};null!=host&&Object.keys(host).forEach(key=>{const value=host[key],matches=key.match(HOST_REG_EXP);null===matches?hostAttributes[key]=value:null!=matches[1]?hostProperties[matches[1]]=value:null!=matches[2]&&(hostListeners[matches[2]]=value)});const inputsMap={};null!=inputs&&inputs.forEach(bindConfig=>{const parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});const outputsMap={};return null!=outputs&&outputs.forEach(bindConfig=>{const parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({isHost:isHost,type:type,isComponent:!!isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory})}toSummary(){return{summaryKind:CompileSummaryKind.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class CompilePipeMetadata{constructor({type:type,name:name,pure:pure}){this.type=type,this.name=name,this.pure=!!pure}toSummary(){return{summaryKind:CompileSummaryKind.Pipe,type:this.type,name:this.name,pure:this.pure}}}class CompileNgModuleMetadata{constructor({type:type,providers:providers,declaredDirectives:declaredDirectives,exportedDirectives:exportedDirectives,declaredPipes:declaredPipes,exportedPipes:exportedPipes,entryComponents:entryComponents,bootstrapComponents:bootstrapComponents,importedModules:importedModules,exportedModules:exportedModules,schemas:schemas,transitiveModule:transitiveModule,id:id}){this.type=type||null,this.declaredDirectives=_normalizeArray(declaredDirectives),this.exportedDirectives=_normalizeArray(exportedDirectives),this.declaredPipes=_normalizeArray(declaredPipes),this.exportedPipes=_normalizeArray(exportedPipes),this.providers=_normalizeArray(providers),this.entryComponents=_normalizeArray(entryComponents),this.bootstrapComponents=_normalizeArray(bootstrapComponents),this.importedModules=_normalizeArray(importedModules),this.exportedModules=_normalizeArray(exportedModules),this.schemas=_normalizeArray(schemas),this.id=id||null,this.transitiveModule=transitiveModule||null}toSummary(){const module=this.transitiveModule;return{summaryKind:CompileSummaryKind.NgModule,type:this.type,entryComponents:module.entryComponents,providers:module.providers,modules:module.modules,exportedDirectives:module.exportedDirectives,exportedPipes:module.exportedPipes}}}class TransitiveCompileNgModuleMetadata{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(provider,module){this.providers.push({provider:provider,module:module})}addDirective(id){this.directivesSet.has(id.reference)||(this.directivesSet.add(id.reference),this.directives.push(id))}addExportedDirective(id){this.exportedDirectivesSet.has(id.reference)||(this.exportedDirectivesSet.add(id.reference),this.exportedDirectives.push(id))}addPipe(id){this.pipesSet.has(id.reference)||(this.pipesSet.add(id.reference),this.pipes.push(id))}addExportedPipe(id){this.exportedPipesSet.has(id.reference)||(this.exportedPipesSet.add(id.reference),this.exportedPipes.push(id))}addModule(id){this.modulesSet.has(id.reference)||(this.modulesSet.add(id.reference),this.modules.push(id))}addEntryComponent(ec){this.entryComponentsSet.has(ec.componentType)||(this.entryComponentsSet.add(ec.componentType),this.entryComponents.push(ec))}}function _normalizeArray(obj){return obj||[]}class ProviderMeta{constructor(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi}){this.token=token,this.useClass=useClass||null,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory||null,this.dependencies=deps||null,this.multi=!!multi}}function compiler_flatten(list){return list.reduce((flat,item)=>{const flatItem=Array.isArray(item)?compiler_flatten(item):item;return flat.concat(flatItem)},[])}function jitSourceUrl(url){return url.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function templateSourceUrl(ngModuleType,compMeta,templateMeta){let url;return url=templateMeta.isInline?compMeta.type.reference instanceof StaticSymbol?`${compMeta.type.reference.filePath}.${compMeta.type.reference.name}.html`:`${identifierName(ngModuleType)}/${identifierName(compMeta.type)}.html`:templateMeta.templateUrl,compMeta.type.reference instanceof StaticSymbol?url:jitSourceUrl(url)}const CORE$1="@angular/core";class Identifiers$1{}function mapToMapExpression(map){return literalMap(Object.keys(map).map(key=>({key:key,value:map[key],quoted:!1})))}function typeWithParameters(type,numParams){let params=null;if(numParams>0){params=[];for(let i=0;i<numParams;i++)params.push(DYNAMIC_TYPE)}return expressionType(type,null,params)}Identifiers$1.NEW_METHOD="factory",Identifiers$1.TRANSFORM_METHOD="transform",Identifiers$1.PATCH_DEPS="patchedDeps",Identifiers$1.namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:CORE$1},Identifiers$1.namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:CORE$1},Identifiers$1.namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:CORE$1},Identifiers$1.element={name:"ɵɵelement",moduleName:CORE$1},Identifiers$1.elementStart={name:"ɵɵelementStart",moduleName:CORE$1},Identifiers$1.elementEnd={name:"ɵɵelementEnd",moduleName:CORE$1},Identifiers$1.select={name:"ɵɵselect",moduleName:CORE$1},Identifiers$1.advance={name:"ɵɵadvance",moduleName:CORE$1},Identifiers$1.updateSyntheticHostBinding={name:"ɵɵupdateSyntheticHostBinding",moduleName:CORE$1},Identifiers$1.componentHostSyntheticListener={name:"ɵɵcomponentHostSyntheticListener",moduleName:CORE$1},Identifiers$1.attribute={name:"ɵɵattribute",moduleName:CORE$1},Identifiers$1.attributeInterpolate1={name:"ɵɵattributeInterpolate1",moduleName:CORE$1},Identifiers$1.attributeInterpolate2={name:"ɵɵattributeInterpolate2",moduleName:CORE$1},Identifiers$1.attributeInterpolate3={name:"ɵɵattributeInterpolate3",moduleName:CORE$1},Identifiers$1.attributeInterpolate4={name:"ɵɵattributeInterpolate4",moduleName:CORE$1},Identifiers$1.attributeInterpolate5={name:"ɵɵattributeInterpolate5",moduleName:CORE$1},Identifiers$1.attributeInterpolate6={name:"ɵɵattributeInterpolate6",moduleName:CORE$1},Identifiers$1.attributeInterpolate7={name:"ɵɵattributeInterpolate7",moduleName:CORE$1},Identifiers$1.attributeInterpolate8={name:"ɵɵattributeInterpolate8",moduleName:CORE$1},Identifiers$1.attributeInterpolateV={name:"ɵɵattributeInterpolateV",moduleName:CORE$1},Identifiers$1.classProp={name:"ɵɵclassProp",moduleName:CORE$1},Identifiers$1.elementContainerStart={name:"ɵɵelementContainerStart",moduleName:CORE$1},Identifiers$1.elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:CORE$1},Identifiers$1.elementContainer={name:"ɵɵelementContainer",moduleName:CORE$1},Identifiers$1.styleMap={name:"ɵɵstyleMap",moduleName:CORE$1},Identifiers$1.styleMapInterpolate1={name:"ɵɵstyleMapInterpolate1",moduleName:CORE$1},Identifiers$1.styleMapInterpolate2={name:"ɵɵstyleMapInterpolate2",moduleName:CORE$1},Identifiers$1.styleMapInterpolate3={name:"ɵɵstyleMapInterpolate3",moduleName:CORE$1},Identifiers$1.styleMapInterpolate4={name:"ɵɵstyleMapInterpolate4",moduleName:CORE$1},Identifiers$1.styleMapInterpolate5={name:"ɵɵstyleMapInterpolate5",moduleName:CORE$1},Identifiers$1.styleMapInterpolate6={name:"ɵɵstyleMapInterpolate6",moduleName:CORE$1},Identifiers$1.styleMapInterpolate7={name:"ɵɵstyleMapInterpolate7",moduleName:CORE$1},Identifiers$1.styleMapInterpolate8={name:"ɵɵstyleMapInterpolate8",moduleName:CORE$1},Identifiers$1.styleMapInterpolateV={name:"ɵɵstyleMapInterpolateV",moduleName:CORE$1},Identifiers$1.classMap={name:"ɵɵclassMap",moduleName:CORE$1},Identifiers$1.classMapInterpolate1={name:"ɵɵclassMapInterpolate1",moduleName:CORE$1},Identifiers$1.classMapInterpolate2={name:"ɵɵclassMapInterpolate2",moduleName:CORE$1},Identifiers$1.classMapInterpolate3={name:"ɵɵclassMapInterpolate3",moduleName:CORE$1},Identifiers$1.classMapInterpolate4={name:"ɵɵclassMapInterpolate4",moduleName:CORE$1},Identifiers$1.classMapInterpolate5={name:"ɵɵclassMapInterpolate5",moduleName:CORE$1},Identifiers$1.classMapInterpolate6={name:"ɵɵclassMapInterpolate6",moduleName:CORE$1},Identifiers$1.classMapInterpolate7={name:"ɵɵclassMapInterpolate7",moduleName:CORE$1},Identifiers$1.classMapInterpolate8={name:"ɵɵclassMapInterpolate8",moduleName:CORE$1},Identifiers$1.classMapInterpolateV={name:"ɵɵclassMapInterpolateV",moduleName:CORE$1},Identifiers$1.styleProp={name:"ɵɵstyleProp",moduleName:CORE$1},Identifiers$1.stylePropInterpolate1={name:"ɵɵstylePropInterpolate1",moduleName:CORE$1},Identifiers$1.stylePropInterpolate2={name:"ɵɵstylePropInterpolate2",moduleName:CORE$1},Identifiers$1.stylePropInterpolate3={name:"ɵɵstylePropInterpolate3",moduleName:CORE$1},Identifiers$1.stylePropInterpolate4={name:"ɵɵstylePropInterpolate4",moduleName:CORE$1},Identifiers$1.stylePropInterpolate5={name:"ɵɵstylePropInterpolate5",moduleName:CORE$1},Identifiers$1.stylePropInterpolate6={name:"ɵɵstylePropInterpolate6",moduleName:CORE$1},Identifiers$1.stylePropInterpolate7={name:"ɵɵstylePropInterpolate7",moduleName:CORE$1},Identifiers$1.stylePropInterpolate8={name:"ɵɵstylePropInterpolate8",moduleName:CORE$1},Identifiers$1.stylePropInterpolateV={name:"ɵɵstylePropInterpolateV",moduleName:CORE$1},Identifiers$1.containerCreate={name:"ɵɵcontainer",moduleName:CORE$1},Identifiers$1.nextContext={name:"ɵɵnextContext",moduleName:CORE$1},Identifiers$1.templateCreate={name:"ɵɵtemplate",moduleName:CORE$1},Identifiers$1.text={name:"ɵɵtext",moduleName:CORE$1},Identifiers$1.enableBindings={name:"ɵɵenableBindings",moduleName:CORE$1},Identifiers$1.disableBindings={name:"ɵɵdisableBindings",moduleName:CORE$1},Identifiers$1.getCurrentView={name:"ɵɵgetCurrentView",moduleName:CORE$1},Identifiers$1.textInterpolate={name:"ɵɵtextInterpolate",moduleName:CORE$1},Identifiers$1.textInterpolate1={name:"ɵɵtextInterpolate1",moduleName:CORE$1},Identifiers$1.textInterpolate2={name:"ɵɵtextInterpolate2",moduleName:CORE$1},Identifiers$1.textInterpolate3={name:"ɵɵtextInterpolate3",moduleName:CORE$1},Identifiers$1.textInterpolate4={name:"ɵɵtextInterpolate4",moduleName:CORE$1},Identifiers$1.textInterpolate5={name:"ɵɵtextInterpolate5",moduleName:CORE$1},Identifiers$1.textInterpolate6={name:"ɵɵtextInterpolate6",moduleName:CORE$1},Identifiers$1.textInterpolate7={name:"ɵɵtextInterpolate7",moduleName:CORE$1},Identifiers$1.textInterpolate8={name:"ɵɵtextInterpolate8",moduleName:CORE$1},Identifiers$1.textInterpolateV={name:"ɵɵtextInterpolateV",moduleName:CORE$1},Identifiers$1.restoreView={name:"ɵɵrestoreView",moduleName:CORE$1},Identifiers$1.pureFunction0={name:"ɵɵpureFunction0",moduleName:CORE$1},Identifiers$1.pureFunction1={name:"ɵɵpureFunction1",moduleName:CORE$1},Identifiers$1.pureFunction2={name:"ɵɵpureFunction2",moduleName:CORE$1},Identifiers$1.pureFunction3={name:"ɵɵpureFunction3",moduleName:CORE$1},Identifiers$1.pureFunction4={name:"ɵɵpureFunction4",moduleName:CORE$1},Identifiers$1.pureFunction5={name:"ɵɵpureFunction5",moduleName:CORE$1},Identifiers$1.pureFunction6={name:"ɵɵpureFunction6",moduleName:CORE$1},Identifiers$1.pureFunction7={name:"ɵɵpureFunction7",moduleName:CORE$1},Identifiers$1.pureFunction8={name:"ɵɵpureFunction8",moduleName:CORE$1},Identifiers$1.pureFunctionV={name:"ɵɵpureFunctionV",moduleName:CORE$1},Identifiers$1.pipeBind1={name:"ɵɵpipeBind1",moduleName:CORE$1},Identifiers$1.pipeBind2={name:"ɵɵpipeBind2",moduleName:CORE$1},Identifiers$1.pipeBind3={name:"ɵɵpipeBind3",moduleName:CORE$1},Identifiers$1.pipeBind4={name:"ɵɵpipeBind4",moduleName:CORE$1},Identifiers$1.pipeBindV={name:"ɵɵpipeBindV",moduleName:CORE$1},Identifiers$1.hostProperty={name:"ɵɵhostProperty",moduleName:CORE$1},Identifiers$1.property={name:"ɵɵproperty",moduleName:CORE$1},Identifiers$1.propertyInterpolate={name:"ɵɵpropertyInterpolate",moduleName:CORE$1},Identifiers$1.propertyInterpolate1={name:"ɵɵpropertyInterpolate1",moduleName:CORE$1},Identifiers$1.propertyInterpolate2={name:"ɵɵpropertyInterpolate2",moduleName:CORE$1},Identifiers$1.propertyInterpolate3={name:"ɵɵpropertyInterpolate3",moduleName:CORE$1},Identifiers$1.propertyInterpolate4={name:"ɵɵpropertyInterpolate4",moduleName:CORE$1},Identifiers$1.propertyInterpolate5={name:"ɵɵpropertyInterpolate5",moduleName:CORE$1},Identifiers$1.propertyInterpolate6={name:"ɵɵpropertyInterpolate6",moduleName:CORE$1},Identifiers$1.propertyInterpolate7={name:"ɵɵpropertyInterpolate7",moduleName:CORE$1},Identifiers$1.propertyInterpolate8={name:"ɵɵpropertyInterpolate8",moduleName:CORE$1},Identifiers$1.propertyInterpolateV={name:"ɵɵpropertyInterpolateV",moduleName:CORE$1},Identifiers$1.i18n={name:"ɵɵi18n",moduleName:CORE$1},Identifiers$1.i18nAttributes={name:"ɵɵi18nAttributes",moduleName:CORE$1},Identifiers$1.i18nExp={name:"ɵɵi18nExp",moduleName:CORE$1},Identifiers$1.i18nStart={name:"ɵɵi18nStart",moduleName:CORE$1},Identifiers$1.i18nEnd={name:"ɵɵi18nEnd",moduleName:CORE$1},Identifiers$1.i18nApply={name:"ɵɵi18nApply",moduleName:CORE$1},Identifiers$1.i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:CORE$1},Identifiers$1.pipe={name:"ɵɵpipe",moduleName:CORE$1},Identifiers$1.projection={name:"ɵɵprojection",moduleName:CORE$1},Identifiers$1.projectionDef={name:"ɵɵprojectionDef",moduleName:CORE$1},Identifiers$1.reference={name:"ɵɵreference",moduleName:CORE$1},Identifiers$1.inject={name:"ɵɵinject",moduleName:CORE$1},Identifiers$1.injectAttribute={name:"ɵɵinjectAttribute",moduleName:CORE$1},Identifiers$1.injectPipeChangeDetectorRef={name:"ɵɵinjectPipeChangeDetectorRef",moduleName:CORE$1},Identifiers$1.directiveInject={name:"ɵɵdirectiveInject",moduleName:CORE$1},Identifiers$1.invalidFactory={name:"ɵɵinvalidFactory",moduleName:CORE$1},Identifiers$1.invalidFactoryDep={name:"ɵɵinvalidFactoryDep",moduleName:CORE$1},Identifiers$1.templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:CORE$1},Identifiers$1.resolveWindow={name:"ɵɵresolveWindow",moduleName:CORE$1},Identifiers$1.resolveDocument={name:"ɵɵresolveDocument",moduleName:CORE$1},Identifiers$1.resolveBody={name:"ɵɵresolveBody",moduleName:CORE$1},Identifiers$1.defineComponent={name:"ɵɵdefineComponent",moduleName:CORE$1},Identifiers$1.setComponentScope={name:"ɵɵsetComponentScope",moduleName:CORE$1},Identifiers$1.ComponentDefWithMeta={name:"ɵɵComponentDefWithMeta",moduleName:CORE$1},Identifiers$1.FactoryDef={name:"ɵɵFactoryDef",moduleName:CORE$1},Identifiers$1.defineDirective={name:"ɵɵdefineDirective",moduleName:CORE$1},Identifiers$1.DirectiveDefWithMeta={name:"ɵɵDirectiveDefWithMeta",moduleName:CORE$1},Identifiers$1.InjectorDef={name:"ɵɵInjectorDef",moduleName:CORE$1},Identifiers$1.defineInjector={name:"ɵɵdefineInjector",moduleName:CORE$1},Identifiers$1.NgModuleDefWithMeta={name:"ɵɵNgModuleDefWithMeta",moduleName:CORE$1},Identifiers$1.ModuleWithProviders={name:"ModuleWithProviders",moduleName:CORE$1},Identifiers$1.defineNgModule={name:"ɵɵdefineNgModule",moduleName:CORE$1},Identifiers$1.setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:CORE$1},Identifiers$1.PipeDefWithMeta={name:"ɵɵPipeDefWithMeta",moduleName:CORE$1},Identifiers$1.definePipe={name:"ɵɵdefinePipe",moduleName:CORE$1},Identifiers$1.queryRefresh={name:"ɵɵqueryRefresh",moduleName:CORE$1},Identifiers$1.viewQuery={name:"ɵɵviewQuery",moduleName:CORE$1},Identifiers$1.staticViewQuery={name:"ɵɵstaticViewQuery",moduleName:CORE$1},Identifiers$1.staticContentQuery={name:"ɵɵstaticContentQuery",moduleName:CORE$1},Identifiers$1.loadQuery={name:"ɵɵloadQuery",moduleName:CORE$1},Identifiers$1.contentQuery={name:"ɵɵcontentQuery",moduleName:CORE$1},Identifiers$1.NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:CORE$1},Identifiers$1.InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:CORE$1},Identifiers$1.CopyDefinitionFeature={name:"ɵɵCopyDefinitionFeature",moduleName:CORE$1},Identifiers$1.ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:CORE$1},Identifiers$1.listener={name:"ɵɵlistener",moduleName:CORE$1},Identifiers$1.getFactoryOf={name:"ɵɵgetFactoryOf",moduleName:CORE$1},Identifiers$1.getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:CORE$1},Identifiers$1.sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:CORE$1},Identifiers$1.sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:CORE$1},Identifiers$1.defaultStyleSanitizer={name:"ɵɵdefaultStyleSanitizer",moduleName:CORE$1},Identifiers$1.sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:CORE$1},Identifiers$1.sanitizeScript={name:"ɵɵsanitizeScript",moduleName:CORE$1},Identifiers$1.sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:CORE$1},Identifiers$1.sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:CORE$1};function prepareSyntheticPropertyName(name){return`@${name}`}function prepareSyntheticListenerFunctionName(name,phase){return`animation_${name}_${phase}`}function isWhitespace(code){return code>=9&&code<=32||160==code}function isDigit(code){return 48<=code&&code<=57}function isAsciiLetter(code){return code>=97&&code<=122||code>=65&&code<=90}function isNewLine(code){return 10===code||13===code}function isOctalDigit(code){return 48<=code&&code<=55}class ParseLocation{constructor(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(delta){const source=this.file.content,len=source.length;let offset=this.offset,line=this.line,col=this.col;for(;offset>0&&delta<0;){if(offset--,delta++,10==source.charCodeAt(offset)){line--;const priorLine=source.substr(0,offset-1).lastIndexOf(String.fromCharCode(10));col=priorLine>0?offset-priorLine:offset}else col--}for(;offset<len&&delta>0;){const ch=source.charCodeAt(offset);offset++,delta--,10==ch?(line++,col=0):col++}return new ParseLocation(this.file,offset,line,col)}getContext(maxChars,maxLines){const content=this.file.content;let startOffset=this.offset;if(null!=startOffset){startOffset>content.length-1&&(startOffset=content.length-1);let endOffset=startOffset,ctxChars=0,ctxLines=0;for(;ctxChars<maxChars&&startOffset>0&&(startOffset--,ctxChars++,"\n"!=content[startOffset]||++ctxLines!=maxLines););for(ctxChars=0,ctxLines=0;ctxChars<maxChars&&endOffset<content.length-1&&(endOffset++,ctxChars++,"\n"!=content[endOffset]||++ctxLines!=maxLines););return{before:content.substring(startOffset,this.offset),after:content.substring(this.offset,endOffset+1)}}return null}}class ParseSourceFile{constructor(content,url){this.content=content,this.url=url}}class ParseSourceSpan{constructor(start,end,details=null){this.start=start,this.end=end,this.details=details}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}const EMPTY_PARSE_LOCATION=new ParseLocation(new ParseSourceFile("",""),0,0,0);new ParseSourceSpan(EMPTY_PARSE_LOCATION,EMPTY_PARSE_LOCATION);var ParseErrorLevel;!function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.ERROR=1]="ERROR"}(ParseErrorLevel||(ParseErrorLevel={}));class ParseError{constructor(span,msg,level=ParseErrorLevel.ERROR){this.span=span,this.msg=msg,this.level=level}contextualMessage(){const ctx=this.span.start.getContext(100,3);return ctx?`${this.msg} ("${ctx.before}[${ParseErrorLevel[this.level]} ->]${ctx.after}")`:this.msg}toString(){const details=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${details}`}}class Text{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor){return visitor.visitText(this)}}class BoundText{constructor(value,sourceSpan,i18n){this.value=value,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitBoundText(this)}}class TextAttribute{constructor(name,value,sourceSpan,valueSpan,i18n){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}visit(visitor){return visitor.visitTextAttribute(this)}}class BoundAttribute{constructor(name,type,securityContext,value,unit,sourceSpan,valueSpan,i18n){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}static fromBoundElementProperty(prop,i18n){return new BoundAttribute(prop.name,prop.type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan,prop.valueSpan,i18n)}visit(visitor){return visitor.visitBoundAttribute(this)}}class BoundEvent{constructor(name,type,handler,target,phase,sourceSpan,handlerSpan){this.name=name,this.type=type,this.handler=handler,this.target=target,this.phase=phase,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}static fromParsedEvent(event){const target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEvent(event.name,event.type,event.handler,target,phase,event.sourceSpan,event.handlerSpan)}visit(visitor){return visitor.visitBoundEvent(this)}}class compiler_Element{constructor(name,attributes,inputs,outputs,children,references,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.name=name,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.children=children,this.references=references,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n,0===children.length&&startSourceSpan&&endSourceSpan&&(this.sourceSpan=new ParseSourceSpan(sourceSpan.start,endSourceSpan.end))}visit(visitor){return visitor.visitElement(this)}}class Template{constructor(tagName,attributes,inputs,outputs,templateAttrs,children,references,variables,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.tagName=tagName,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.templateAttrs=templateAttrs,this.children=children,this.references=references,this.variables=variables,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitTemplate(this)}}class Content{constructor(selector,attributes,sourceSpan,i18n){this.selector=selector,this.attributes=attributes,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitContent(this)}}class Variable{constructor(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitVariable(this)}}class Reference{constructor(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitReference(this)}}class Icu{constructor(vars,placeholders,sourceSpan,i18n){this.vars=vars,this.placeholders=placeholders,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitIcu(this)}}function visitAll(visitor,nodes){const result=[];if(visitor.visit)for(const node of nodes){visitor.visit(node)||node.visit(visitor)}else for(const node of nodes){const newNode=node.visit(visitor);newNode&&result.push(newNode)}return result}class Message{constructor(nodes,placeholders,placeholderToMessage,meaning,description,customId){this.nodes=nodes,this.placeholders=placeholders,this.placeholderToMessage=placeholderToMessage,this.meaning=meaning,this.description=description,this.customId=customId,this.id=this.customId,this.legacyIds=[],nodes.length?this.sources=[{filePath:nodes[0].sourceSpan.start.file.url,startLine:nodes[0].sourceSpan.start.line+1,startCol:nodes[0].sourceSpan.start.col+1,endLine:nodes[nodes.length-1].sourceSpan.end.line+1,endCol:nodes[0].sourceSpan.start.col+1}]:this.sources=[]}}class Text$1{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitText(this,context)}}class compiler_Container{constructor(children,sourceSpan){this.children=children,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitContainer(this,context)}}class Icu$1{constructor(expression,type,cases,sourceSpan){this.expression=expression,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitIcu(this,context)}}class TagPlaceholder{constructor(tag,attrs,startName,closeName,children,isVoid,sourceSpan){this.tag=tag,this.attrs=attrs,this.startName=startName,this.closeName=closeName,this.children=children,this.isVoid=isVoid,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitTagPlaceholder(this,context)}}class Placeholder{constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitPlaceholder(this,context)}}class IcuPlaceholder{constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitIcuPlaceholder(this,context)}}function digest(message){return message.id||computeDigest(message)}function computeDigest(message){return function(str){const utf8=utf8Encode(str),words32=function(str,endian){const size=str.length+3>>>2,words32=[];for(let i=0;i<size;i++)words32[i]=wordAt(str,4*i,endian);return words32}(utf8,Endian.Big),len=8*utf8.length,w=compiler_newArray(80);let a=1732584193,b=4023233417,c=2562383102,d=271733878,e=3285377520;words32[len>>5]|=128<<24-len%32,words32[15+(len+64>>9<<4)]=len;for(let i=0;i<words32.length;i+=16){const h0=a,h1=b,h2=c,h3=d,h4=e;for(let j=0;j<80;j++){w[j]=j<16?words32[i+j]:rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);const fkVal=fk(j,b,c,d),f=fkVal[0],k=fkVal[1],temp=[rol32(a,5),f,e,k,w[j]].reduce(add32);e=d,d=c,c=rol32(b,30),b=a,a=temp}a=add32(a,h0),b=add32(b,h1),c=add32(c,h2),d=add32(d,h3),e=add32(e,h4)}return function(str){let hex="";for(let i=0;i<str.length;i++){const b=byteAt(str,i);hex+=(b>>>4).toString(16)+(15&b).toString(16)}return hex.toLowerCase()}(words32ToByteString([a,b,c,d,e]))}((nodes=message.nodes,nodes.map(a=>a.visit(serializerVisitor,null))).join("")+`[${message.meaning}]`);var nodes}function decimalDigest(message){return message.id||computeDecimalDigest(message)}function computeDecimalDigest(message){const visitor=new _SerializerIgnoreIcuExpVisitor;return function(msg,meaning=""){let msgFingerprint=fingerprint(msg);if(meaning){const meaningFingerprint=fingerprint(meaning);msgFingerprint=function(a,b){const ah=a[0],al=a[1],bh=b[0],bl=b[1],result=add32to64(al,bl),carry=result[0],l=result[1];return[add32(add32(ah,bh),carry),l]}(function(num,count){const hi=num[0],lo=num[1];return[hi<<count|lo>>>32-count,lo<<count|hi>>>32-count]}(msgFingerprint,1),meaningFingerprint)}const hi=msgFingerprint[0],lo=msgFingerprint[1];return function(str){let decimal="",toThePower="1";for(let i=str.length-1;i>=0;i--)decimal=addBigInt(decimal,numberTimesBigInt(byteAt(str,i),toThePower)),toThePower=numberTimesBigInt(256,toThePower);return decimal.split("").reverse().join("")}(words32ToByteString([2147483647&hi,lo]))}(message.nodes.map(a=>a.visit(visitor,null)).join(""),message.meaning)}class _SerializerVisitor{visitText(text,context){return text.value}visitContainer(container,context){return`[${container.children.map(child=>child.visit(this)).join(", ")}]`}visitIcu(icu,context){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expression}, ${icu.type}, ${strCases.join(", ")}}`}visitTagPlaceholder(ph,context){return ph.isVoid?`<ph tag name="${ph.startName}"/>`:`<ph tag name="${ph.startName}">${ph.children.map(child=>child.visit(this)).join(", ")}</ph name="${ph.closeName}">`}visitPlaceholder(ph,context){return ph.value?`<ph name="${ph.name}">${ph.value}</ph>`:`<ph name="${ph.name}"/>`}visitIcuPlaceholder(ph,context){return`<ph icu name="${ph.name}">${ph.value.visit(this)}</ph>`}}const serializerVisitor=new _SerializerVisitor;class _SerializerIgnoreIcuExpVisitor extends _SerializerVisitor{visitIcu(icu,context){let strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.type}, ${strCases.join(", ")}}`}}function fk(index,b,c,d){return index<20?[b&c|~b&d,1518500249]:index<40?[b^c^d,1859775393]:index<60?[b&c|b&d|c&d,2400959708]:[b^c^d,3395469782]}function fingerprint(str){const utf8=utf8Encode(str);let hi=hash32(utf8,0),lo=hash32(utf8,102072);return 0!=hi||0!=lo&&1!=lo||(hi^=319790063,lo^=-1801410264),[hi,lo]}function hash32(str,c){let i,a=2654435769,b=2654435769;const len=str.length;for(i=0;i+12<=len;i+=12){a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little));const res=mix(a,b,c=add32(c,wordAt(str,i+8,Endian.Little)));a=res[0],b=res[1],c=res[2]}return a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little)),c=add32(c,len),mix(a,b,c=add32(c,wordAt(str,i+8,Endian.Little)<<8))[2]}function mix(a,b,c){return a=sub32(a,b),a=sub32(a,c),a^=c>>>13,b=sub32(b,c),b=sub32(b,a),b^=a<<8,c=sub32(c,a),c=sub32(c,b),c^=b>>>13,a=sub32(a,b),a=sub32(a,c),a^=c>>>12,b=sub32(b,c),b=sub32(b,a),b^=a<<16,c=sub32(c,a),c=sub32(c,b),c^=b>>>5,a=sub32(a,b),a=sub32(a,c),a^=c>>>3,b=sub32(b,c),b=sub32(b,a),b^=a<<10,c=sub32(c,a),c=sub32(c,b),[a,b,c^=b>>>15]}var Endian;function add32(a,b){return add32to64(a,b)[1]}function add32to64(a,b){const low=(65535&a)+(65535&b),high=(a>>>16)+(b>>>16)+(low>>>16);return[high>>>16,high<<16|65535&low]}function sub32(a,b){const low=(65535&a)-(65535&b);return(a>>16)-(b>>16)+(low>>16)<<16|65535&low}function rol32(a,count){return a<<count|a>>>32-count}function byteAt(str,index){return index>=str.length?0:255&str.charCodeAt(index)}function wordAt(str,index,endian){let word=0;if(endian===Endian.Big)for(let i=0;i<4;i++)word+=byteAt(str,index+i)<<24-8*i;else for(let i=0;i<4;i++)word+=byteAt(str,index+i)<<8*i;return word}function words32ToByteString(words32){return words32.reduce((str,word)=>str+function(word){let str="";for(let i=0;i<4;i++)str+=String.fromCharCode(word>>>8*(3-i)&255);return str}(word),"")}function addBigInt(x,y){let sum="";const len=Math.max(x.length,y.length);for(let i=0,carry=0;i<len||carry;i++){const tmpSum=carry+ +(x[i]||0)+ +(y[i]||0);tmpSum>=10?(carry=1,sum+=tmpSum-10):(carry=0,sum+=tmpSum)}return sum}function numberTimesBigInt(num,b){let product="",bToThePower=b;for(;0!==num;num>>>=1)1&num&&(product=addBigInt(product,bToThePower)),bToThePower=addBigInt(bToThePower,bToThePower);return product}!function(Endian){Endian[Endian.Little=0]="Little",Endian[Endian.Big=1]="Big"}(Endian||(Endian={}));class Serializer{createNameMapper(message){return null}}class SimplePlaceholderMapper extends class{visitText(text,context){}visitContainer(container,context){container.children.forEach(child=>child.visit(this))}visitIcu(icu,context){Object.keys(icu.cases).forEach(k=>{icu.cases[k].visit(this)})}visitTagPlaceholder(ph,context){ph.children.forEach(child=>child.visit(this))}visitPlaceholder(ph,context){}visitIcuPlaceholder(ph,context){}}{constructor(message,mapName){super(),this.mapName=mapName,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},message.nodes.forEach(node=>node.visit(this))}toPublicName(internalName){return this.internalToPublic.hasOwnProperty(internalName)?this.internalToPublic[internalName]:null}toInternalName(publicName){return this.publicToInternal.hasOwnProperty(publicName)?this.publicToInternal[publicName]:null}visitText(text,context){return null}visitTagPlaceholder(ph,context){this.visitPlaceholderName(ph.startName),super.visitTagPlaceholder(ph,context),this.visitPlaceholderName(ph.closeName)}visitPlaceholder(ph,context){this.visitPlaceholderName(ph.name)}visitIcuPlaceholder(ph,context){this.visitPlaceholderName(ph.name)}visitPlaceholderName(internalName){if(!internalName||this.internalToPublic.hasOwnProperty(internalName))return;let publicName=this.mapName(internalName);if(this.publicToInternal.hasOwnProperty(publicName)){const nextId=this.publicToNextId[publicName];this.publicToNextId[publicName]=nextId+1,publicName=`${publicName}_${nextId}`}else this.publicToNextId[publicName]=1;this.internalToPublic[internalName]=publicName,this.publicToInternal[publicName]=internalName}}const _visitor=new class{visitTag(tag){const strAttrs=this._serializeAttributes(tag.attrs);if(0==tag.children.length)return`<${tag.name}${strAttrs}/>`;const strChildren=tag.children.map(node=>node.visit(this));return`<${tag.name}${strAttrs}>${strChildren.join("")}</${tag.name}>`}visitText(text){return text.value}visitDeclaration(decl){return`<?xml${this._serializeAttributes(decl.attrs)} ?>`}_serializeAttributes(attrs){const strAttrs=Object.keys(attrs).map(name=>`${name}="${attrs[name]}"`).join(" ");return strAttrs.length>0?" "+strAttrs:""}visitDoctype(doctype){return`<!DOCTYPE ${doctype.rootTag} [\n${doctype.dtd}\n]>`}};function serialize(nodes){return nodes.map(node=>node.visit(_visitor)).join("")}class Declaration{constructor(unescapedAttrs){this.attrs={},Object.keys(unescapedAttrs).forEach(k=>{this.attrs[k]=escapeXml(unescapedAttrs[k])})}visit(visitor){return visitor.visitDeclaration(this)}}class Doctype{constructor(rootTag,dtd){this.rootTag=rootTag,this.dtd=dtd}visit(visitor){return visitor.visitDoctype(this)}}class Tag{constructor(name,unescapedAttrs={},children=[]){this.name=name,this.children=children,this.attrs={},Object.keys(unescapedAttrs).forEach(k=>{this.attrs[k]=escapeXml(unescapedAttrs[k])})}visit(visitor){return visitor.visitTag(this)}}class Text$2{constructor(unescapedValue){this.value=escapeXml(unescapedValue)}visit(visitor){return visitor.visitText(this)}}class CR extends Text$2{constructor(ws=0){super(`\n${new Array(ws+1).join(" ")}`)}}const _ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function escapeXml(text){return _ESCAPED_CHARS.reduce((text,entry)=>text.replace(entry[0],entry[1]),text)}class Xmb extends Serializer{write(messages,locale){const exampleVisitor=new ExampleVisitor,visitor=new _Visitor$1;let rootNode=new Tag("messagebundle");return messages.forEach(message=>{const attrs={id:message.id};message.description&&(attrs.desc=message.description),message.meaning&&(attrs.meaning=message.meaning);let sourceTags=[];message.sources.forEach(source=>{sourceTags.push(new Tag("source",{},[new Text$2(`${source.filePath}:${source.startLine}${source.endLine!==source.startLine?","+source.endLine:""}`)]))}),rootNode.children.push(new CR(2),new Tag("msg",attrs,[...sourceTags,...visitor.serialize(message.nodes)]))}),rootNode.children.push(new CR),serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,new Doctype("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new CR,exampleVisitor.addDefaultExamples(rootNode),new CR])}load(content,url){throw new Error("Unsupported")}digest(message){return digest$1(message)}createNameMapper(message){return new SimplePlaceholderMapper(message,toPublicName)}}class _Visitor$1{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const startTagAsText=new Text$2(`<${ph.tag}>`),startEx=new Tag("ex",{},[startTagAsText]),startTagPh=new Tag("ph",{name:ph.startName},[startEx,startTagAsText]);if(ph.isVoid)return[startTagPh];const closeTagAsText=new Text$2(`</${ph.tag}>`),closeEx=new Tag("ex",{},[closeTagAsText]),closeTagPh=new Tag("ph",{name:ph.closeName},[closeEx,closeTagAsText]);return[startTagPh,...this.serialize(ph.children),closeTagPh]}visitPlaceholder(ph,context){const interpolationAsText=new Text$2(`{{${ph.value}}}`),exTag=new Tag("ex",{},[interpolationAsText]);return[new Tag("ph",{name:ph.name},[exTag,interpolationAsText])]}visitIcuPlaceholder(ph,context){const icuExpression=ph.value.expression,icuType=ph.value.type,icuCases=Object.keys(ph.value.cases).map(value=>value+" {...}").join(" "),icuAsText=new Text$2(`{${icuExpression}, ${icuType}, ${icuCases}}`),exTag=new Tag("ex",{},[icuAsText]);return[new Tag("ph",{name:ph.name},[exTag,icuAsText])]}serialize(nodes){return[].concat(...nodes.map(node=>node.visit(this)))}}function digest$1(message){return decimalDigest(message)}class ExampleVisitor{addDefaultExamples(node){return node.visit(this),node}visitTag(tag){if("ph"===tag.name){if(!tag.children||0==tag.children.length){const exText=new Text$2(tag.attrs.name||"...");tag.children=[new Tag("ex",{},[exText])]}}else tag.children&&tag.children.forEach(node=>node.visit(this))}visitText(text){}visitDeclaration(decl){}visitDoctype(doctype){}}function toPublicName(internalName){return internalName.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function isI18nAttribute(name){return"i18n"===name||name.startsWith("i18n-")}function isI18nRootNode(meta){return meta instanceof Message}function isSingleI18nIcu(meta){return isI18nRootNode(meta)&&1===meta.nodes.length&&meta.nodes[0]instanceof Icu$1}function icuFromI18nMessage(message){return message.nodes[0]}function wrapI18nPlaceholder(content,contextId=0){return`�${content}${contextId>0?`:${contextId}`:""}�`}function getSeqNumberGenerator(startsAt=0){let current=startsAt;return()=>current++}function placeholdersToParams(placeholders){const params={};return placeholders.forEach((values,key)=>{params[key]=compiler_literal(values.length>1?`[${values.join("|")}]`:values[0])}),params}function updatePlaceholderMap(map,name,...values){const current=map.get(name)||[];current.push(...values),map.set(name,current)}function assembleBoundTextPlaceholders(meta,bindingStartIndex=0,contextId=0){const startIdx=bindingStartIndex,placeholders=new Map,node=meta instanceof Message?meta.nodes.find(node=>node instanceof compiler_Container):meta;return node&&node.children.filter(child=>child instanceof Placeholder).forEach((child,idx)=>{const content=wrapI18nPlaceholder(startIdx+idx,contextId);updatePlaceholderMap(placeholders,child.name,content)}),placeholders}function i18nFormatPlaceholderNames(params={},useCamelCase){const _params={};return params&&Object.keys(params).length&&Object.keys(params).forEach(key=>_params[formatI18nPlaceholderName(key,useCamelCase)]=params[key]),_params}function formatI18nPlaceholderName(name,useCamelCase=!0){const publicName=toPublicName(name);if(!useCamelCase)return publicName;const chunks=publicName.split("_");if(1===chunks.length)return name.toLowerCase();let postfix;/^\d+$/.test(chunks[chunks.length-1])&&(postfix=chunks.pop());let raw=chunks.shift().toLowerCase();return chunks.length&&(raw+=chunks.map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join("")),postfix?`${raw}_${postfix}`:raw}function getTranslationConstPrefix(extra){return`MSG_${extra}`.toUpperCase()}function declareI18nVariable(variable){return new DeclareVarStmt(variable.name,void 0,INFERRED_TYPE,null,variable.sourceSpan)}const UNSAFE_OBJECT_KEY_NAME_REGEXP=/[-.]/;function temporaryAllocator(statements,name){let temp=null;return()=>(temp||(statements.push(new DeclareVarStmt("_t",void 0,DYNAMIC_TYPE)),temp=variable(name)),temp)}function unsupported(feature){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${feature} yet`);throw new Error(`Feature ${feature} is not supported yet`)}function invalid$1(arg){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${arg.constructor.name}`)}function asLiteral(value){return Array.isArray(value)?literalArr(value.map(asLiteral)):compiler_literal(value,INFERRED_TYPE)}function conditionallyCreateMapObjectLiteral(keys,keepDeclared){return Object.getOwnPropertyNames(keys).length>0?function(map,keepDeclared){return literalMap(Object.getOwnPropertyNames(map).map(key=>{const value=map[key];let declaredName,publicName,minifiedName;return Array.isArray(value)?[publicName,declaredName]=value:[declaredName,publicName]=splitAtColon(key,[key,value]),minifiedName=declaredName,{key:minifiedName,quoted:UNSAFE_OBJECT_KEY_NAME_REGEXP.test(minifiedName),value:keepDeclared&&publicName!==declaredName?literalArr([asLiteral(publicName),asLiteral(declaredName)]):asLiteral(publicName)}}))}(keys,keepDeclared):null}function trimTrailingNulls(parameters){for(;isNull(parameters[parameters.length-1]);)parameters.pop();return parameters}function getQueryPredicate(query,constantPool){if(Array.isArray(query.predicate)){let predicate=[];return query.predicate.forEach(selector=>{const selectors=selector.split(",").map(token=>compiler_literal(token.trim()));predicate.push(...selectors)}),constantPool.getConstLiteral(literalArr(predicate),!0)}return query.predicate}class DefinitionMap{constructor(){this.values=[]}set(key,value){value&&this.values.push({key:key,value:value,quoted:!1})}toLiteralMap(){return literalMap(this.values)}}function getAttrsForDirectiveMatching(elOrTpl){const attributesMap={};return elOrTpl instanceof Template&&"ng-template"!==elOrTpl.tagName?elOrTpl.templateAttrs.forEach(a=>attributesMap[a.name]=""):(elOrTpl.attributes.forEach(a=>{isI18nAttribute(a.name)||(attributesMap[a.name]=a.value)}),elOrTpl.inputs.forEach(i=>{attributesMap[i.name]=""}),elOrTpl.outputs.forEach(o=>{attributesMap[o.name]=""})),attributesMap}function chainedInstruction(reference,calls,span){let expression=importExpr(reference,null,span);if(calls.length>0)for(let i=0;i<calls.length;i++)expression=expression.callFn(calls[i],span);else expression=expression.callFn([],span);return expression}function getInterpolationArgsLength(interpolation){const{expressions:expressions,strings:strings}=interpolation;return 1===expressions.length&&2===strings.length&&""===strings[0]&&""===strings[1]?1:expressions.length+strings.length}var R3FactoryDelegateType,compiler_R3FactoryTarget,compiler_R3ResolvedDependencyType;function compileFactoryFunction(meta){const t=variable("t"),statements=[],typeForCtor=isDelegatedMetadata(meta)?t:new BinaryOperatorExpr(BinaryOperator.Or,t,meta.internalType);let ctorExpr=null;if(null!==meta.deps)"invalid"!==meta.deps&&(ctorExpr=new InstantiateExpr(typeForCtor,injectDependencies(meta.deps,meta.injectFn,meta.target===compiler_R3FactoryTarget.Pipe)));else{const baseFactory=variable(`ɵ${meta.name}_BaseFactory`),getInheritedFactory=importExpr(Identifiers$1.getInheritedFactory),baseFactoryStmt=baseFactory.set(getInheritedFactory.callFn([meta.internalType])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(baseFactoryStmt),ctorExpr=baseFactory.callFn([typeForCtor])}const ctorExprFinal=ctorExpr,body=[];let retExpr=null;function makeConditionalFactory(nonCtorExpr){const r=variable("r");body.push(r.set(NULL_EXPR).toDeclStmt());let ctorStmt=null;return ctorStmt=null!==ctorExprFinal?r.set(ctorExprFinal).toStmt():importExpr(Identifiers$1.invalidFactory).callFn([]).toStmt(),body.push(ifStmt(t,[ctorStmt],[r.set(nonCtorExpr).toStmt()])),r}if(isDelegatedMetadata(meta)&&meta.delegateType===R3FactoryDelegateType.Factory){const delegateFactory=variable(`ɵ${meta.name}_BaseFactory`),getFactoryOf=importExpr(Identifiers$1.getFactoryOf);if(meta.delegate.isEquivalent(meta.internalType))throw new Error("Illegal state: compiling factory that delegates to itself");const delegateFactoryStmt=delegateFactory.set(getFactoryOf.callFn([meta.delegate])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(delegateFactoryStmt),retExpr=makeConditionalFactory(delegateFactory.callFn([]))}else if(isDelegatedMetadata(meta)){const delegateArgs=injectDependencies(meta.delegateDeps,meta.injectFn,meta.target===compiler_R3FactoryTarget.Pipe);retExpr=makeConditionalFactory(new(meta.delegateType===R3FactoryDelegateType.Class?InstantiateExpr:InvokeFunctionExpr)(meta.delegate,delegateArgs))}else retExpr=function(meta){return void 0!==meta.expression}(meta)?makeConditionalFactory(meta.expression):ctorExpr;return null!==retExpr?body.push(new ReturnStatement(retExpr)):body.push(importExpr(Identifiers$1.invalidFactory).callFn([]).toStmt()),{factory:compiler_fn([new FnParam("t",DYNAMIC_TYPE)],body,INFERRED_TYPE,void 0,`${meta.name}_Factory`),statements:statements,type:expressionType(importExpr(Identifiers$1.FactoryDef,[typeWithParameters(meta.type.type,meta.typeArgumentCount)]))}}function injectDependencies(deps,injectFn,isPipe){return deps.map((dep,index)=>function(dep,injectFn,isPipe,index){switch(dep.resolved){case compiler_R3ResolvedDependencyType.Token:case compiler_R3ResolvedDependencyType.ChangeDetectorRef:const flags=0|(dep.self?2:0)|(dep.skipSelf?4:0)|(dep.host?1:0)|(dep.optional?8:0);let flagsParam=0!==flags||dep.optional?compiler_literal(flags):null;if(isPipe&&dep.resolved===compiler_R3ResolvedDependencyType.ChangeDetectorRef)return importExpr(Identifiers$1.injectPipeChangeDetectorRef).callFn(flagsParam?[flagsParam]:[]);const injectArgs=[dep.token];return flagsParam&&injectArgs.push(flagsParam),importExpr(injectFn).callFn(injectArgs);case compiler_R3ResolvedDependencyType.Attribute:return importExpr(Identifiers$1.injectAttribute).callFn([dep.token]);case compiler_R3ResolvedDependencyType.Invalid:return importExpr(Identifiers$1.invalidFactoryDep).callFn([compiler_literal(index)]);default:return unsupported(`Unknown R3ResolvedDependencyType: ${compiler_R3ResolvedDependencyType[dep.resolved]}`)}}(dep,injectFn,isPipe,index))}function isDelegatedMetadata(meta){return void 0!==meta.delegateType}function delegateToFactory(type,internalType){return{statements:[],factory:type.node===internalType.node?internalType.prop("ɵfac"):compiler_fn([new FnParam("t",DYNAMIC_TYPE)],[new ReturnStatement(internalType.callMethod("ɵfac",[variable("t")]))])}}function assertArrayOfStrings(identifier,value){if(null!=value){if(!Array.isArray(value))throw new Error(`Expected '${identifier}' to be an array of strings.`);for(let i=0;i<value.length;i+=1)if("string"!=typeof value[i])throw new Error(`Expected '${identifier}' to be an array of strings.`)}}!function(R3FactoryDelegateType){R3FactoryDelegateType[R3FactoryDelegateType.Class=0]="Class",R3FactoryDelegateType[R3FactoryDelegateType.Function=1]="Function",R3FactoryDelegateType[R3FactoryDelegateType.Factory=2]="Factory"}(R3FactoryDelegateType||(R3FactoryDelegateType={})),function(R3FactoryTarget){R3FactoryTarget[R3FactoryTarget.Directive=0]="Directive",R3FactoryTarget[R3FactoryTarget.Component=1]="Component",R3FactoryTarget[R3FactoryTarget.Injectable=2]="Injectable",R3FactoryTarget[R3FactoryTarget.Pipe=3]="Pipe",R3FactoryTarget[R3FactoryTarget.NgModule=4]="NgModule"}(compiler_R3FactoryTarget||(compiler_R3FactoryTarget={})),function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef",R3ResolvedDependencyType[R3ResolvedDependencyType.Invalid=3]="Invalid"}(compiler_R3ResolvedDependencyType||(compiler_R3ResolvedDependencyType={}));const UNUSABLE_INTERPOLATION_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function assertInterpolationSymbols(identifier,value){if(!(null==value||Array.isArray(value)&&2==value.length))throw new Error(`Expected '${identifier}' to be an array, [start, end].`);if(null!=value){const start=value[0],end=value[1];UNUSABLE_INTERPOLATION_REGEXPS.forEach(regexp=>{if(regexp.test(start)||regexp.test(end))throw new Error(`['${start}', '${end}'] contains unusable interpolation symbol.`)})}}class InterpolationConfig{constructor(start,end){this.start=start,this.end=end}static fromArray(markers){return markers?(assertInterpolationSymbols("interpolation",markers),new InterpolationConfig(markers[0],markers[1])):DEFAULT_INTERPOLATION_CONFIG}}const DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}");class SourceMapGenerator{constructor(file=null){this.file=file,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(url,content=null){return this.sourcesContent.has(url)||this.sourcesContent.set(url,content),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(col0,sourceUrl,sourceLine0,sourceCol0){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=sourceUrl&&!this.sourcesContent.has(sourceUrl))throw new Error(`Unknown source file "${sourceUrl}"`);if(null==col0)throw new Error("The column in the generated code must be provided");if(col0<this.lastCol0)throw new Error("Mapping should be added in output order");if(sourceUrl&&(null==sourceLine0||null==sourceCol0))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=col0,this.currentLine.push({col0:col0,sourceUrl:sourceUrl,sourceLine0:sourceLine0,sourceCol0:sourceCol0}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const sourcesIndex=new Map,sources=[],sourcesContent=[];Array.from(this.sourcesContent.keys()).forEach((url,i)=>{sourcesIndex.set(url,i),sources.push(url),sourcesContent.push(this.sourcesContent.get(url)||null)});let mappings="",lastCol0=0,lastSourceIndex=0,lastSourceLine0=0,lastSourceCol0=0;return this.lines.forEach(segments=>{lastCol0=0,mappings+=segments.map(segment=>{let segAsStr=toBase64VLQ(segment.col0-lastCol0);return lastCol0=segment.col0,null!=segment.sourceUrl&&(segAsStr+=toBase64VLQ(sourcesIndex.get(segment.sourceUrl)-lastSourceIndex),lastSourceIndex=sourcesIndex.get(segment.sourceUrl),segAsStr+=toBase64VLQ(segment.sourceLine0-lastSourceLine0),lastSourceLine0=segment.sourceLine0,segAsStr+=toBase64VLQ(segment.sourceCol0-lastSourceCol0),lastSourceCol0=segment.sourceCol0),segAsStr}).join(","),mappings+=";"}),mappings=mappings.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:sources,sourcesContent:sourcesContent,mappings:mappings}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(value){let b64="";value=utf8Encode(value);for(let i=0;i<value.length;){const i1=value.charCodeAt(i++),i2=value.charCodeAt(i++),i3=value.charCodeAt(i++);b64+=toBase64Digit(i1>>2),b64+=toBase64Digit((3&i1)<<4|(isNaN(i2)?0:i2>>4)),b64+=isNaN(i2)?"=":toBase64Digit((15&i2)<<2|i3>>6),b64+=isNaN(i2)||isNaN(i3)?"=":toBase64Digit(63&i3)}return b64}(JSON.stringify(this,null,0)):""}}function toBase64VLQ(value){value=value<0?1+(-value<<1):value<<1;let out="";do{let digit=31&value;(value>>=5)>0&&(digit|=32),out+=toBase64Digit(digit)}while(value>0);return out}function toBase64Digit(value){if(value<0||value>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[value]}const _SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i,CATCH_ERROR_VAR$1=variable("error",null,null),CATCH_STACK_VAR$1=variable("stack",null,null);class _EmittedLine{constructor(indent){this.indent=indent,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class EmitterVisitorContext{constructor(_indent){this._indent=_indent,this._classes=[],this._preambleLineCount=0,this._lines=[new _EmittedLine(_indent)]}static createRoot(){return new EmitterVisitorContext(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(from,lastPart=""){this.print(from||null,lastPart,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}print(from,part,newLine=!1){part.length>0&&(this._currentLine.parts.push(part),this._currentLine.partsLength+=part.length,this._currentLine.srcSpans.push(from&&from.sourceSpan||null)),newLine&&this._lines.push(new _EmittedLine(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(clazz){this._classes.push(clazz)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(l=>l.parts.length>0?_createIndent(l.indent)+l.parts.join(""):"").join("\n")}toSourceMapGenerator(genFilePath,startsAtLine=0){const map=new SourceMapGenerator(genFilePath);let firstOffsetMapped=!1;const mapFirstOffsetIfNeeded=()=>{firstOffsetMapped||(map.addSource(genFilePath," ").addMapping(0,genFilePath,0,0),firstOffsetMapped=!0)};for(let i=0;i<startsAtLine;i++)map.addLine(),mapFirstOffsetIfNeeded();return this.sourceLines.forEach((line,lineIdx)=>{map.addLine();const spans=line.srcSpans,parts=line.parts;let col0=line.indent*"  ".length,spanIdx=0;for(;spanIdx<spans.length&&!spans[spanIdx];)col0+=parts[spanIdx].length,spanIdx++;for(spanIdx<spans.length&&0===lineIdx&&0===col0?firstOffsetMapped=!0:mapFirstOffsetIfNeeded();spanIdx<spans.length;){const span=spans[spanIdx],source=span.start.file,sourceLine=span.start.line,sourceCol=span.start.col;for(map.addSource(source.url,source.content).addMapping(col0,source.url,sourceLine,sourceCol),col0+=parts[spanIdx].length,spanIdx++;spanIdx<spans.length&&(span===spans[spanIdx]||!spans[spanIdx]);)col0+=parts[spanIdx].length,spanIdx++}}),map}setPreambleLineCount(count){return this._preambleLineCount=count}spanOf(line,column){const emittedLine=this._lines[line-this._preambleLineCount];if(emittedLine){let columnsLeft=column-_createIndent(emittedLine.indent).length;for(let partIndex=0;partIndex<emittedLine.parts.length;partIndex++){const part=emittedLine.parts[partIndex];if(part.length>columnsLeft)return emittedLine.srcSpans[partIndex];columnsLeft-=part.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class AbstractEmitterVisitor{constructor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}visitExpressionStmt(stmt,ctx){return stmt.expr.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitReturnStmt(stmt,ctx){return ctx.print(stmt,"return "),stmt.value.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitIfStmt(stmt,ctx){ctx.print(stmt,"if ("),stmt.condition.visitExpression(this,ctx),ctx.print(stmt,") {");const hasElseCase=null!=stmt.falseCase&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(stmt," "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(stmt," ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println(stmt,"} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println(stmt,"}"),null}visitThrowStmt(stmt,ctx){return ctx.print(stmt,"throw "),stmt.error.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitCommentStmt(stmt,ctx){return stmt.multiline?ctx.println(stmt,`/* ${stmt.comment} */`):stmt.comment.split("\n").forEach(line=>{ctx.println(stmt,`// ${line}`)}),null}visitJSDocCommentStmt(stmt,ctx){return ctx.println(stmt,`/*${stmt.toString()}*/`),null}visitWriteVarExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),ctx.print(expr,`${expr.name} = `),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitWriteKeyExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,"["),expr.index.visitExpression(this,ctx),ctx.print(expr,"] = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitWritePropExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,`.${expr.name} = `),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitInvokeMethodExpr(expr,ctx){expr.receiver.visitExpression(this,ctx);let name=expr.name;return null!=expr.builtin&&(name=this.getBuiltinMethodName(expr.builtin),null==name)?null:(ctx.print(expr,`.${name}(`),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null)}visitInvokeFunctionExpr(expr,ctx){return expr.fn.visitExpression(this,ctx),ctx.print(expr,"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null}visitWrappedNodeExpr(ast,ctx){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(expr,ctx){ctx.print(expr,"typeof "),expr.expr.visitExpression(this,ctx)}visitReadVarExpr(ast,ctx){let varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:varName="super";break;case BuiltinVar.This:varName="this";break;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$1.name;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$1.name;break;default:throw new Error(`Unknown builtin variable ${ast.builtin}`)}return ctx.print(ast,varName),null}visitInstantiateExpr(ast,ctx){return ctx.print(ast,"new "),ast.classExpr.visitExpression(this,ctx),ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null}visitLiteralExpr(ast,ctx){const value=ast.value;return"string"==typeof value?ctx.print(ast,escapeIdentifier(value,this._escapeDollarInStrings)):ctx.print(ast,`${value}`),null}visitLocalizedString(ast,ctx){const head=ast.serializeI18nHead();ctx.print(ast,"$localize `"+head.raw);for(let i=1;i<ast.messageParts.length;i++)ctx.print(ast,"${"),ast.expressions[i-1].visitExpression(this,ctx),ctx.print(ast,`}${ast.serializeI18nTemplatePart(i).raw}`);return ctx.print(ast,"`"),null}visitConditionalExpr(ast,ctx){return ctx.print(ast,"("),ast.condition.visitExpression(this,ctx),ctx.print(ast,"? "),ast.trueCase.visitExpression(this,ctx),ctx.print(ast,": "),ast.falseCase.visitExpression(this,ctx),ctx.print(ast,")"),null}visitNotExpr(ast,ctx){return ctx.print(ast,"!"),ast.condition.visitExpression(this,ctx),null}visitAssertNotNullExpr(ast,ctx){return ast.condition.visitExpression(this,ctx),null}visitBinaryOperatorExpr(ast,ctx){let opStr;switch(ast.operator){case BinaryOperator.Equals:opStr="==";break;case BinaryOperator.Identical:opStr="===";break;case BinaryOperator.NotEquals:opStr="!=";break;case BinaryOperator.NotIdentical:opStr="!==";break;case BinaryOperator.And:opStr="&&";break;case BinaryOperator.BitwiseAnd:opStr="&";break;case BinaryOperator.Or:opStr="||";break;case BinaryOperator.Plus:opStr="+";break;case BinaryOperator.Minus:opStr="-";break;case BinaryOperator.Divide:opStr="/";break;case BinaryOperator.Multiply:opStr="*";break;case BinaryOperator.Modulo:opStr="%";break;case BinaryOperator.Lower:opStr="<";break;case BinaryOperator.LowerEquals:opStr="<=";break;case BinaryOperator.Bigger:opStr=">";break;case BinaryOperator.BiggerEquals:opStr=">=";break;default:throw new Error(`Unknown operator ${ast.operator}`)}return ast.parens&&ctx.print(ast,"("),ast.lhs.visitExpression(this,ctx),ctx.print(ast,` ${opStr} `),ast.rhs.visitExpression(this,ctx),ast.parens&&ctx.print(ast,")"),null}visitReadPropExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"."),ctx.print(ast,ast.name),null}visitReadKeyExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"["),ast.index.visitExpression(this,ctx),ctx.print(ast,"]"),null}visitLiteralArrayExpr(ast,ctx){return ctx.print(ast,"["),this.visitAllExpressions(ast.entries,ctx,","),ctx.print(ast,"]"),null}visitLiteralMapExpr(ast,ctx){return ctx.print(ast,"{"),this.visitAllObjects(entry=>{ctx.print(ast,`${escapeIdentifier(entry.key,this._escapeDollarInStrings,entry.quoted)}:`),entry.value.visitExpression(this,ctx)},ast.entries,ctx,","),ctx.print(ast,"}"),null}visitCommaExpr(ast,ctx){return ctx.print(ast,"("),this.visitAllExpressions(ast.parts,ctx,","),ctx.print(ast,")"),null}visitAllExpressions(expressions,ctx,separator){this.visitAllObjects(expr=>expr.visitExpression(this,ctx),expressions,ctx,separator)}visitAllObjects(handler,expressions,ctx,separator){let incrementedIndent=!1;for(let i=0;i<expressions.length;i++)i>0&&(ctx.lineLength()>80?(ctx.print(null,separator,!0),incrementedIndent||(ctx.incIndent(),ctx.incIndent(),incrementedIndent=!0)):ctx.print(null,separator,!1)),handler(expressions[i]);incrementedIndent&&(ctx.decIndent(),ctx.decIndent())}visitAllStatements(statements,ctx){statements.forEach(stmt=>stmt.visitStatement(this,ctx))}}function escapeIdentifier(input,escapeDollar,alwaysQuote=!0){if(null==input)return null;const body=input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE,(...match)=>"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":`\\${match[0]}`);return alwaysQuote||!_LEGAL_IDENTIFIER_RE.test(body)?`'${body}'`:body}function _createIndent(count){let res="";for(let i=0;i<count;i++)res+="  ";return res}class AbstractJsEmitterVisitor extends AbstractEmitterVisitor{constructor(){super(!1)}visitDeclareClassStmt(stmt,ctx){return ctx.pushClass(stmt),this._visitClassConstructor(stmt,ctx),null!=stmt.parent&&(ctx.print(stmt,`${stmt.name}.prototype = Object.create(`),stmt.parent.visitExpression(this,ctx),ctx.println(stmt,".prototype);")),stmt.getters.forEach(getter=>this._visitClassGetter(stmt,getter,ctx)),stmt.methods.forEach(method=>this._visitClassMethod(stmt,method,ctx)),ctx.popClass(),null}_visitClassConstructor(stmt,ctx){ctx.print(stmt,`function ${stmt.name}(`),null!=stmt.constructorMethod&&this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),null!=stmt.constructorMethod&&stmt.constructorMethod.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(stmt.constructorMethod.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}")}_visitClassGetter(stmt,getter,ctx){ctx.println(stmt,`Object.defineProperty(${stmt.name}.prototype, '${getter.name}', { get: function() {`),ctx.incIndent(),getter.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(getter.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}});")}_visitClassMethod(stmt,method,ctx){ctx.print(stmt,`${stmt.name}.prototype.${method.name} = function(`),this._visitParams(method.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),method.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(method.body,ctx)),ctx.decIndent(),ctx.println(stmt,"};")}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(ast,ctx){if(ast.builtin===BuiltinVar.This)ctx.print(ast,"self");else{if(ast.builtin===BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(ast,ctx)}return null}visitDeclareVarStmt(stmt,ctx){return ctx.print(stmt,`var ${stmt.name}`),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null}visitCastExpr(ast,ctx){return ast.value.visitExpression(this,ctx),null}visitInvokeFunctionExpr(expr,ctx){const fnExpr=expr.fn;return fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super?(ctx.currentClass.parent.visitExpression(this,ctx),ctx.print(expr,".call(this"),expr.args.length>0&&(ctx.print(expr,", "),this.visitAllExpressions(expr.args,ctx,",")),ctx.print(expr,")")):super.visitInvokeFunctionExpr(expr,ctx),null}visitFunctionExpr(ast,ctx){return ctx.print(ast,`function${ast.name?" "+ast.name:""}(`),this._visitParams(ast.params,ctx),ctx.println(ast,") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null}visitDeclareFunctionStmt(stmt,ctx){return ctx.print(stmt,`function ${stmt.name}(`),this._visitParams(stmt.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitTryCatchStmt(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,`} catch (${CATCH_ERROR_VAR$1.name}) {`),ctx.incIndent();const catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitLocalizedString(ast,ctx){ctx.print(ast,'$localize((this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})(');const parts=[ast.serializeI18nHead()];for(let i=1;i<ast.messageParts.length;i++)parts.push(ast.serializeI18nTemplatePart(i));return ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.cooked,!1)).join(", ")}], `),ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.raw,!1)).join(", ")}])`),ast.expressions.forEach(expression=>{ctx.print(ast,", "),expression.visitExpression(this,ctx)}),ctx.print(ast,")"),null}_visitParams(params,ctx){this.visitAllObjects(param=>ctx.print(null,param.name),params,ctx,",")}getBuiltinMethodName(method){let name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error(`Unknown builtin method: ${method}`)}return name}}class JitEvaluator{evaluateStatements(sourceUrl,statements,reflector,createSourceMaps){const converter=new JitEmitterVisitor(reflector),ctx=EmitterVisitorContext.createRoot();return statements.length>0&&!statements[0].isEquivalent(compiler_literal("use strict").toStmt())&&(statements=[compiler_literal("use strict").toStmt(),...statements]),converter.visitAllStatements(statements,ctx),converter.createReturnStmt(ctx),this.evaluateCode(sourceUrl,ctx,converter.getArgs(),createSourceMaps)}evaluateCode(sourceUrl,ctx,vars,createSourceMap){let fnBody=`"use strict";${ctx.toSource()}\n//# sourceURL=${sourceUrl}`;const fnArgNames=[],fnArgValues=[];for(const argName in vars)fnArgValues.push(vars[argName]),fnArgNames.push(argName);if(createSourceMap){const emptyFn=new Function(...fnArgNames.concat("return null;")).toString(),headerLines=emptyFn.slice(0,emptyFn.indexOf("return null;")).split("\n").length-1;fnBody+=`\n${ctx.toSourceMapGenerator(sourceUrl,headerLines).toJsComment()}`}const fn=new Function(...fnArgNames.concat(fnBody));return this.executeFunction(fn,fnArgValues)}executeFunction(fn,args){return fn(...args)}}class JitEmitterVisitor extends AbstractJsEmitterVisitor{constructor(reflector){super(),this.reflector=reflector,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(ctx){new ReturnStatement(new LiteralMapExpr(this._evalExportedVars.map(resultVar=>new LiteralMapEntry(resultVar,variable(resultVar),!1)))).visitStatement(this,ctx)}getArgs(){const result={};for(let i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result}visitExternalExpr(ast,ctx){return this._emitReferenceToExternal(ast,this.reflector.resolveExternalReference(ast.value),ctx),null}visitWrappedNodeExpr(ast,ctx){return this._emitReferenceToExternal(ast,ast.node,ctx),null}visitDeclareVarStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareVarStmt(stmt,ctx)}visitDeclareFunctionStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareFunctionStmt(stmt,ctx)}visitDeclareClassStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareClassStmt(stmt,ctx)}_emitReferenceToExternal(ast,value,ctx){let id=this._evalArgValues.indexOf(value);if(-1===id){id=this._evalArgValues.length,this._evalArgValues.push(value);const name=identifierName({reference:value})||"val";this._evalArgNames.push(`jit_${name}_${id}`)}ctx.print(ast,this._evalArgNames[id])}}class R3JitReflector{constructor(context){this.context=context}resolveExternalReference(ref){if("@angular/core"!==ref.moduleName)throw new Error(`Cannot resolve external reference to ${ref.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(ref.name))throw new Error(`No value provided for @angular/core symbol '${ref.name}'.`);return this.context[ref.name]}parameters(typeOrFunc){throw new Error("Not implemented.")}annotations(typeOrFunc){throw new Error("Not implemented.")}shallowAnnotations(typeOrFunc){throw new Error("Not implemented.")}tryAnnotations(typeOrFunc){throw new Error("Not implemented.")}propMetadata(typeOrFunc){throw new Error("Not implemented.")}hasLifecycleHook(type,lcProperty){throw new Error("Not implemented.")}guards(typeOrFunc){throw new Error("Not implemented.")}componentModuleUrl(type,cmpMetadata){throw new Error("Not implemented.")}}function mapLiteral(obj,quoted=!1){return literalMap(Object.keys(obj).map(key=>({key:key,quoted:quoted,value:obj[key]})))}function compiler_compileNgModule(meta){const{internalType:internalType,type:moduleType,bootstrap:bootstrap,declarations:declarations,imports:imports,exports:exports,schemas:schemas,containsForwardDecls:containsForwardDecls,emitInline:emitInline,id:id}=meta,additionalStatements=[],definitionMap={type:internalType};if(bootstrap.length&&(definitionMap.bootstrap=refsToArray(bootstrap,containsForwardDecls)),emitInline)declarations.length&&(definitionMap.declarations=refsToArray(declarations,containsForwardDecls)),imports.length&&(definitionMap.imports=refsToArray(imports,containsForwardDecls)),exports.length&&(definitionMap.exports=refsToArray(exports,containsForwardDecls));else{const setNgModuleScopeCall=function(meta){const{adjacentType:moduleType,declarations:declarations,imports:imports,exports:exports,containsForwardDecls:containsForwardDecls}=meta,scopeMap={};declarations.length&&(scopeMap.declarations=refsToArray(declarations,containsForwardDecls));imports.length&&(scopeMap.imports=refsToArray(imports,containsForwardDecls));exports.length&&(scopeMap.exports=refsToArray(exports,containsForwardDecls));if(0===Object.keys(scopeMap).length)return null;const guardedCall=function(expr){const ngJitMode=new ExternalExpr({name:"ngJitMode",moduleName:null}),jitFlagNotDefined=new BinaryOperatorExpr(BinaryOperator.Identical,new TypeofExpr(ngJitMode),compiler_literal("undefined")),jitFlagUndefinedOrTrue=new BinaryOperatorExpr(BinaryOperator.Or,jitFlagNotDefined,ngJitMode,void 0,void 0,!0);return new BinaryOperatorExpr(BinaryOperator.And,jitFlagUndefinedOrTrue,expr)}(new InvokeFunctionExpr(importExpr(Identifiers$1.setNgModuleScope),[moduleType,mapToMapExpression(scopeMap)])),iife=new FunctionExpr([],[guardedCall.toStmt()]);return new InvokeFunctionExpr(iife,[]).toStmt()}(meta);null!==setNgModuleScopeCall&&additionalStatements.push(setNgModuleScopeCall)}return schemas&&schemas.length&&(definitionMap.schemas=literalArr(schemas.map(ref=>ref.value))),id&&(definitionMap.id=id),{expression:importExpr(Identifiers$1.defineNgModule).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.NgModuleDefWithMeta,[new ExpressionType(moduleType.type),tupleTypeOf(declarations),tupleTypeOf(imports),tupleTypeOf(exports)])),additionalStatements:additionalStatements}}function tupleTypeOf(exp){const types=exp.map(ref=>typeofExpr(ref.type));return exp.length>0?expressionType(literalArr(types)):NONE_TYPE}function refsToArray(refs,shouldForwardDeclare){const values=literalArr(refs.map(ref=>ref.value));return shouldForwardDeclare?compiler_fn([],[new ReturnStatement(values)]):values}function compilePipeFromMetadata(metadata){const definitionMapValues=[];return definitionMapValues.push({key:"name",value:compiler_literal(metadata.pipeName),quoted:!1}),definitionMapValues.push({key:"type",value:metadata.type.value,quoted:!1}),definitionMapValues.push({key:"pure",value:compiler_literal(metadata.pure),quoted:!1}),{expression:importExpr(Identifiers$1.definePipe).callFn([literalMap(definitionMapValues)]),type:new ExpressionType(importExpr(Identifiers$1.PipeDefWithMeta,[typeWithParameters(metadata.type.type,metadata.typeArgumentCount),new ExpressionType(new LiteralExpr(metadata.pipeName))]))}}class ParserError{constructor(message,input,errLocation,ctxLocation){this.input=input,this.errLocation=errLocation,this.ctxLocation=ctxLocation,this.message=`Parser Error: ${message} ${errLocation} [${input}] in ${ctxLocation}`}}class ParseSpan{constructor(start,end){this.start=start,this.end=end}toAbsolute(absoluteOffset){return new AbsoluteSourceSpan(absoluteOffset+this.start,absoluteOffset+this.end)}}class AST{constructor(span,sourceSpan){this.span=span,this.sourceSpan=sourceSpan}visit(visitor,context=null){return null}toString(){return"AST"}}class Quote extends AST{constructor(span,sourceSpan,prefix,uninterpretedExpression,location){super(span,sourceSpan),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}visit(visitor,context=null){return visitor.visitQuote(this,context)}toString(){return"Quote"}}class EmptyExpr extends AST{visit(visitor,context=null){}}class ImplicitReceiver extends AST{visit(visitor,context=null){return visitor.visitImplicitReceiver(this,context)}}class Chain extends AST{constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitChain(this,context)}}class Conditional extends AST{constructor(span,sourceSpan,condition,trueExp,falseExp){super(span,sourceSpan),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}visit(visitor,context=null){return visitor.visitConditional(this,context)}}class PropertyRead extends AST{constructor(span,sourceSpan,receiver,name){super(span,sourceSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitPropertyRead(this,context)}}class PropertyWrite extends AST{constructor(span,sourceSpan,receiver,name,value){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.value=value}visit(visitor,context=null){return visitor.visitPropertyWrite(this,context)}}class SafePropertyRead extends AST{constructor(span,sourceSpan,receiver,name){super(span,sourceSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitSafePropertyRead(this,context)}}class KeyedRead extends AST{constructor(span,sourceSpan,obj,key){super(span,sourceSpan),this.obj=obj,this.key=key}visit(visitor,context=null){return visitor.visitKeyedRead(this,context)}}class KeyedWrite extends AST{constructor(span,sourceSpan,obj,key,value){super(span,sourceSpan),this.obj=obj,this.key=key,this.value=value}visit(visitor,context=null){return visitor.visitKeyedWrite(this,context)}}class BindingPipe extends AST{constructor(span,sourceSpan,exp,name,args,nameSpan){super(span,sourceSpan),this.exp=exp,this.name=name,this.args=args,this.nameSpan=nameSpan}visit(visitor,context=null){return visitor.visitPipe(this,context)}}class LiteralPrimitive extends AST{constructor(span,sourceSpan,value){super(span,sourceSpan),this.value=value}visit(visitor,context=null){return visitor.visitLiteralPrimitive(this,context)}}class LiteralArray extends AST{constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitLiteralArray(this,context)}}class LiteralMap extends AST{constructor(span,sourceSpan,keys,values){super(span,sourceSpan),this.keys=keys,this.values=values}visit(visitor,context=null){return visitor.visitLiteralMap(this,context)}}class Interpolation extends AST{constructor(span,sourceSpan,strings,expressions){super(span,sourceSpan),this.strings=strings,this.expressions=expressions}visit(visitor,context=null){return visitor.visitInterpolation(this,context)}}class Binary extends AST{constructor(span,sourceSpan,operation,left,right){super(span,sourceSpan),this.operation=operation,this.left=left,this.right=right}visit(visitor,context=null){return visitor.visitBinary(this,context)}}class PrefixNot extends AST{constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitPrefixNot(this,context)}}class NonNullAssert extends AST{constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitNonNullAssert(this,context)}}class MethodCall extends AST{constructor(span,sourceSpan,receiver,name,args){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.args=args}visit(visitor,context=null){return visitor.visitMethodCall(this,context)}}class SafeMethodCall extends AST{constructor(span,sourceSpan,receiver,name,args){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.args=args}visit(visitor,context=null){return visitor.visitSafeMethodCall(this,context)}}class FunctionCall extends AST{constructor(span,sourceSpan,target,args){super(span,sourceSpan),this.target=target,this.args=args}visit(visitor,context=null){return visitor.visitFunctionCall(this,context)}}class AbsoluteSourceSpan{constructor(start,end){this.start=start,this.end=end}}class ASTWithSource extends AST{constructor(ast,source,location,absoluteOffset,errors){super(new ParseSpan(0,null===source?0:source.length),new AbsoluteSourceSpan(absoluteOffset,null===source?absoluteOffset:absoluteOffset+source.length)),this.ast=ast,this.source=source,this.location=location,this.errors=errors}visit(visitor,context=null){return visitor.visitASTWithSource?visitor.visitASTWithSource(this,context):this.ast.visit(visitor,context)}toString(){return`${this.source} in ${this.location}`}}class TemplateBinding{constructor(span,sourceSpan,key,keyIsVar,name,value){this.span=span,this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.value=value}}class RecursiveAstVisitor$1{visit(ast,context){ast.visit(this,context)}visitBinary(ast,context){this.visit(ast.left,context),this.visit(ast.right,context)}visitChain(ast,context){this.visitAll(ast.expressions,context)}visitConditional(ast,context){this.visit(ast.condition,context),this.visit(ast.trueExp,context),this.visit(ast.falseExp,context)}visitPipe(ast,context){this.visit(ast.exp,context),this.visitAll(ast.args,context)}visitFunctionCall(ast,context){ast.target&&this.visit(ast.target,context),this.visitAll(ast.args,context)}visitImplicitReceiver(ast,context){}visitInterpolation(ast,context){this.visitAll(ast.expressions,context)}visitKeyedRead(ast,context){this.visit(ast.obj,context),this.visit(ast.key,context)}visitKeyedWrite(ast,context){this.visit(ast.obj,context),this.visit(ast.key,context),this.visit(ast.value,context)}visitLiteralArray(ast,context){this.visitAll(ast.expressions,context)}visitLiteralMap(ast,context){this.visitAll(ast.values,context)}visitLiteralPrimitive(ast,context){}visitMethodCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitPrefixNot(ast,context){this.visit(ast.expression,context)}visitNonNullAssert(ast,context){this.visit(ast.expression,context)}visitPropertyRead(ast,context){this.visit(ast.receiver,context)}visitPropertyWrite(ast,context){this.visit(ast.receiver,context),this.visit(ast.value,context)}visitSafePropertyRead(ast,context){this.visit(ast.receiver,context)}visitSafeMethodCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitQuote(ast,context){}visitAll(asts,context){for(const ast of asts)this.visit(ast,context)}}class ParsedProperty{constructor(name,expression,type,sourceSpan,valueSpan){this.name=name,this.expression=expression,this.type=type,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.isLiteral=this.type===ParsedPropertyType.LITERAL_ATTR,this.isAnimation=this.type===ParsedPropertyType.ANIMATION}}var ParsedPropertyType,BindingForm,_Mode;!function(ParsedPropertyType){ParsedPropertyType[ParsedPropertyType.DEFAULT=0]="DEFAULT",ParsedPropertyType[ParsedPropertyType.LITERAL_ATTR=1]="LITERAL_ATTR",ParsedPropertyType[ParsedPropertyType.ANIMATION=2]="ANIMATION"}(ParsedPropertyType||(ParsedPropertyType={}));class ParsedEvent{constructor(name,targetOrPhase,type,handler,sourceSpan,handlerSpan){this.name=name,this.targetOrPhase=targetOrPhase,this.type=type,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}}class ParsedVariable{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}}class BoundElementProperty{constructor(name,type,securityContext,value,unit,sourceSpan,valueSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}}class EventHandlerVars{}EventHandlerVars.event=variable("$event");class ConvertActionBindingResult{constructor(stmts,allowDefault){this.stmts=stmts,this.allowDefault=allowDefault,this.render3Stmts=stmts.map(statement=>{if(statement instanceof DeclareVarStmt&&statement.name==allowDefault.name&&statement.value instanceof BinaryOperatorExpr){const lhs=statement.value.lhs;return new ReturnStatement(lhs.value)}return statement})}}function convertActionBinding(localResolver,implicitReceiver,action,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses){localResolver||(localResolver=new DefaultLocalResolver);const actionWithoutBuiltins=convertPropertyBindingBuiltins({createLiteralArrayConverter:argCount=>args=>literalArr(args),createLiteralMapConverter:keys=>values=>literalMap(keys.map((k,i)=>({key:k.key,value:values[i],quoted:k.quoted}))),createPipeConverter:name=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${name}`)}},action),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses),actionStmts=[];!function flattenStatements(arg,output){Array.isArray(arg)?arg.forEach(entry=>flattenStatements(entry,output)):output.push(arg)}(actionWithoutBuiltins.visit(visitor,_Mode.Statement),actionStmts),function(temporaryCount,bindingId,statements){for(let i=temporaryCount-1;i>=0;i--)statements.unshift(temporaryDeclaration(bindingId,i))}(visitor.temporaryCount,bindingId,actionStmts),visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();const lastIndex=actionStmts.length-1;let preventDefaultVar=null;if(lastIndex>=0){const returnExpr=function(stmt){if(stmt instanceof ExpressionStatement)return stmt.expr;if(stmt instanceof ReturnStatement)return stmt.value;return null}(actionStmts[lastIndex]);returnExpr&&(preventDefaultVar=function(bindingId){return variable(`pd_${bindingId}`)}(bindingId),actionStmts[lastIndex]=preventDefaultVar.set(returnExpr.cast(DYNAMIC_TYPE).notIdentical(compiler_literal(!1))).toDeclStmt(null,[StmtModifier.Final]))}return new ConvertActionBindingResult(actionStmts,preventDefaultVar)}function convertPropertyBindingBuiltins(converterFactory,ast){return function(converterFactory,ast){const visitor=new _BuiltinAstConverter(converterFactory);return ast.visit(visitor)}(converterFactory,ast)}class ConvertPropertyBindingResult{constructor(stmts,currValExpr){this.stmts=stmts,this.currValExpr=currValExpr}}function convertPropertyBinding(localResolver,implicitReceiver,expressionWithoutBuiltins,bindingId,form,interpolationFunction){localResolver||(localResolver=new DefaultLocalResolver);const currValExpr=function(bindingId){return variable(`currVal_${bindingId}`)}(bindingId),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction),outputExpr=expressionWithoutBuiltins.visit(visitor,_Mode.Expression),stmts=getStatementsFromVisitor(visitor,bindingId);return visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse(),0===visitor.temporaryCount&&form==BindingForm.TrySimple?new ConvertPropertyBindingResult([],outputExpr):(stmts.push(currValExpr.set(outputExpr).toDeclStmt(DYNAMIC_TYPE,[StmtModifier.Final])),new ConvertPropertyBindingResult(stmts,currValExpr))}function getStatementsFromVisitor(visitor,bindingId){const stmts=[];for(let i=0;i<visitor.temporaryCount;i++)stmts.push(temporaryDeclaration(bindingId,i));return stmts}function temporaryName(bindingId,temporaryNumber){return`tmp_${bindingId}_${temporaryNumber}`}function temporaryDeclaration(bindingId,temporaryNumber){return new DeclareVarStmt(temporaryName(bindingId,temporaryNumber),NULL_EXPR)}function ensureExpressionMode(mode,ast){if(mode!==_Mode.Expression)throw new Error(`Expected an expression, but saw ${ast}`)}function convertToStatementIfNeeded(mode,expr){return mode===_Mode.Statement?expr.toStmt():expr}!function(BindingForm){BindingForm[BindingForm.General=0]="General",BindingForm[BindingForm.TrySimple=1]="TrySimple"}(BindingForm||(BindingForm={})),function(_Mode){_Mode[_Mode.Statement=0]="Statement",_Mode[_Mode.Expression=1]="Expression"}(_Mode||(_Mode={}));class _BuiltinAstConverter extends class{visitImplicitReceiver(ast,context){return ast}visitInterpolation(ast,context){return new Interpolation(ast.span,ast.sourceSpan,ast.strings,this.visitAll(ast.expressions))}visitLiteralPrimitive(ast,context){return new LiteralPrimitive(ast.span,ast.sourceSpan,ast.value)}visitPropertyRead(ast,context){return new PropertyRead(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name)}visitPropertyWrite(ast,context){return new PropertyWrite(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,ast.value.visit(this))}visitSafePropertyRead(ast,context){return new SafePropertyRead(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name)}visitMethodCall(ast,context){return new MethodCall(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))}visitSafeMethodCall(ast,context){return new SafeMethodCall(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))}visitFunctionCall(ast,context){return new FunctionCall(ast.span,ast.sourceSpan,ast.target.visit(this),this.visitAll(ast.args))}visitLiteralArray(ast,context){return new LiteralArray(ast.span,ast.sourceSpan,this.visitAll(ast.expressions))}visitLiteralMap(ast,context){return new LiteralMap(ast.span,ast.sourceSpan,ast.keys,this.visitAll(ast.values))}visitBinary(ast,context){return new Binary(ast.span,ast.sourceSpan,ast.operation,ast.left.visit(this),ast.right.visit(this))}visitPrefixNot(ast,context){return new PrefixNot(ast.span,ast.sourceSpan,ast.expression.visit(this))}visitNonNullAssert(ast,context){return new NonNullAssert(ast.span,ast.sourceSpan,ast.expression.visit(this))}visitConditional(ast,context){return new Conditional(ast.span,ast.sourceSpan,ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))}visitPipe(ast,context){return new BindingPipe(ast.span,ast.sourceSpan,ast.exp.visit(this),ast.name,this.visitAll(ast.args),ast.nameSpan)}visitKeyedRead(ast,context){return new KeyedRead(ast.span,ast.sourceSpan,ast.obj.visit(this),ast.key.visit(this))}visitKeyedWrite(ast,context){return new KeyedWrite(ast.span,ast.sourceSpan,ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))}visitAll(asts){const res=[];for(let i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res}visitChain(ast,context){return new Chain(ast.span,ast.sourceSpan,this.visitAll(ast.expressions))}visitQuote(ast,context){return new Quote(ast.span,ast.sourceSpan,ast.prefix,ast.uninterpretedExpression,ast.location)}}{constructor(_converterFactory){super(),this._converterFactory=_converterFactory}visitPipe(ast,context){const args=[ast.exp,...ast.args].map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createPipeConverter(ast.name,args.length))}visitLiteralArray(ast,context){const args=ast.expressions.map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createLiteralArrayConverter(ast.expressions.length))}visitLiteralMap(ast,context){const args=ast.values.map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createLiteralMapConverter(ast.keys))}}class _AstToIrVisitor{constructor(_localResolver,_implicitReceiver,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses){this._localResolver=_localResolver,this._implicitReceiver=_implicitReceiver,this.bindingId=bindingId,this.interpolationFunction=interpolationFunction,this.baseSourceSpan=baseSourceSpan,this.implicitReceiverAccesses=implicitReceiverAccesses,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitBinary(ast,mode){let op;switch(ast.operation){case"+":op=BinaryOperator.Plus;break;case"-":op=BinaryOperator.Minus;break;case"*":op=BinaryOperator.Multiply;break;case"/":op=BinaryOperator.Divide;break;case"%":op=BinaryOperator.Modulo;break;case"&&":op=BinaryOperator.And;break;case"||":op=BinaryOperator.Or;break;case"==":op=BinaryOperator.Equals;break;case"!=":op=BinaryOperator.NotEquals;break;case"===":op=BinaryOperator.Identical;break;case"!==":op=BinaryOperator.NotIdentical;break;case"<":op=BinaryOperator.Lower;break;case">":op=BinaryOperator.Bigger;break;case"<=":op=BinaryOperator.LowerEquals;break;case">=":op=BinaryOperator.BiggerEquals;break;default:throw new Error(`Unsupported operation ${ast.operation}`)}return convertToStatementIfNeeded(mode,new BinaryOperatorExpr(op,this._visit(ast.left,_Mode.Expression),this._visit(ast.right,_Mode.Expression),void 0,this.convertSourceSpan(ast.span)))}visitChain(ast,mode){return function(mode,ast){if(mode!==_Mode.Statement)throw new Error(`Expected a statement, but saw ${ast}`)}(mode,ast),this.visitAll(ast.expressions,mode)}visitConditional(ast,mode){return convertToStatementIfNeeded(mode,this._visit(ast.condition,_Mode.Expression).conditional(this._visit(ast.trueExp,_Mode.Expression),this._visit(ast.falseExp,_Mode.Expression),this.convertSourceSpan(ast.span)))}visitPipe(ast,mode){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${ast.name}`)}visitFunctionCall(ast,mode){const convertedArgs=this.visitAll(ast.args,_Mode.Expression);let fnResult;return fnResult=ast instanceof BuiltinFunctionCall?ast.converter(convertedArgs):this._visit(ast.target,_Mode.Expression).callFn(convertedArgs,this.convertSourceSpan(ast.span)),convertToStatementIfNeeded(mode,fnResult)}visitImplicitReceiver(ast,mode){return ensureExpressionMode(mode,ast),this.usesImplicitReceiver=!0,this._implicitReceiver}visitInterpolation(ast,mode){ensureExpressionMode(mode,ast);const args=[compiler_literal(ast.expressions.length)];for(let i=0;i<ast.strings.length-1;i++)args.push(compiler_literal(ast.strings[i])),args.push(this._visit(ast.expressions[i],_Mode.Expression));return args.push(compiler_literal(ast.strings[ast.strings.length-1])),this.interpolationFunction?this.interpolationFunction(args):ast.expressions.length<=9?importExpr(Identifiers.inlineInterpolate).callFn(args):importExpr(Identifiers.interpolate).callFn([args[0],literalArr(args.slice(1),void 0,this.convertSourceSpan(ast.span))])}visitKeyedRead(ast,mode){const leftMostSafe=this.leftMostSafeNode(ast);return leftMostSafe?this.convertSafeAccess(ast,leftMostSafe,mode):convertToStatementIfNeeded(mode,this._visit(ast.obj,_Mode.Expression).key(this._visit(ast.key,_Mode.Expression)))}visitKeyedWrite(ast,mode){const obj=this._visit(ast.obj,_Mode.Expression),key=this._visit(ast.key,_Mode.Expression),value=this._visit(ast.value,_Mode.Expression);return convertToStatementIfNeeded(mode,obj.key(key).set(value))}visitLiteralArray(ast,mode){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(ast,mode){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(ast,mode){const type=null===ast.value||void 0===ast.value||!0===ast.value||!0===ast.value?INFERRED_TYPE:void 0;return convertToStatementIfNeeded(mode,compiler_literal(ast.value,type,this.convertSourceSpan(ast.span)))}_getLocal(name){return this._localResolver.getLocal(name)}visitMethodCall(ast,mode){if(ast.receiver instanceof ImplicitReceiver&&"$any"==ast.name){const args=this.visitAll(ast.args,_Mode.Expression);if(1!=args.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${args.length||"none"}`);return args[0].cast(DYNAMIC_TYPE,this.convertSourceSpan(ast.span))}const leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);{const args=this.visitAll(ast.args,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver;let result=null;const receiver=this._visit(ast.receiver,_Mode.Expression);if(receiver===this._implicitReceiver){const varExpr=this._getLocal(ast.name);varExpr&&(this.usesImplicitReceiver=prevUsesImplicitReceiver,result=varExpr.callFn(args)),this.addImplicitReceiverAccess(ast.name)}return null==result&&(result=receiver.callMethod(ast.name,args,this.convertSourceSpan(ast.span))),convertToStatementIfNeeded(mode,result)}}visitPrefixNot(ast,mode){return convertToStatementIfNeeded(mode,(expr=this._visit(ast.expression,_Mode.Expression),new NotExpr(expr,sourceSpan)));var expr,sourceSpan}visitNonNullAssert(ast,mode){return convertToStatementIfNeeded(mode,(expr=this._visit(ast.expression,_Mode.Expression),new AssertNotNull(expr,sourceSpan)));var expr,sourceSpan}visitPropertyRead(ast,mode){const leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);{let result=null;const prevUsesImplicitReceiver=this.usesImplicitReceiver,receiver=this._visit(ast.receiver,_Mode.Expression);return receiver===this._implicitReceiver&&(result=this._getLocal(ast.name),result&&(this.usesImplicitReceiver=prevUsesImplicitReceiver),this.addImplicitReceiverAccess(ast.name)),null==result&&(result=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,result)}}visitPropertyWrite(ast,mode){const receiver=this._visit(ast.receiver,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver;let varExpr=null;if(receiver===this._implicitReceiver){const localExpr=this._getLocal(ast.name);if(localExpr){if(!(localExpr instanceof ReadPropExpr)){const receiver=ast.name,value=ast.value instanceof PropertyRead?ast.value.name:void 0;throw new Error(`Cannot assign value "${value}" to template variable "${receiver}". Template variables are read-only.`)}varExpr=localExpr,this.usesImplicitReceiver=prevUsesImplicitReceiver,this.addImplicitReceiverAccess(ast.name)}}return null===varExpr&&(varExpr=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,varExpr.set(this._visit(ast.value,_Mode.Expression)))}visitSafePropertyRead(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)}visitSafeMethodCall(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)}visitAll(asts,mode){return asts.map(ast=>this._visit(ast,mode))}visitQuote(ast,mode){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${ast.uninterpretedExpression} located at ${ast.location}`)}_visit(ast,mode){const result=this._resultMap.get(ast);return result||(this._nodeMap.get(ast)||ast).visit(this,mode)}convertSafeAccess(ast,leftMostSafe,mode){let guardedExpression=this._visit(leftMostSafe.receiver,_Mode.Expression),temporary=void 0;this.needsTemporary(leftMostSafe.receiver)&&(temporary=this.allocateTemporary(),guardedExpression=temporary.set(guardedExpression),this._resultMap.set(leftMostSafe.receiver,temporary));const condition=guardedExpression.isBlank();leftMostSafe instanceof SafeMethodCall?this._nodeMap.set(leftMostSafe,new MethodCall(leftMostSafe.span,leftMostSafe.sourceSpan,leftMostSafe.receiver,leftMostSafe.name,leftMostSafe.args)):this._nodeMap.set(leftMostSafe,new PropertyRead(leftMostSafe.span,leftMostSafe.sourceSpan,leftMostSafe.receiver,leftMostSafe.name));const access=this._visit(ast,_Mode.Expression);return this._nodeMap.delete(leftMostSafe),temporary&&this.releaseTemporary(temporary),convertToStatementIfNeeded(mode,condition.conditional(compiler_literal(null),access))}leftMostSafeNode(ast){const visit=(visitor,ast)=>(this._nodeMap.get(ast)||ast).visit(visitor);return ast.visit({visitBinary:ast=>null,visitChain:ast=>null,visitConditional:ast=>null,visitFunctionCall:ast=>null,visitImplicitReceiver:ast=>null,visitInterpolation:ast=>null,visitKeyedRead(ast){return visit(this,ast.obj)},visitKeyedWrite:ast=>null,visitLiteralArray:ast=>null,visitLiteralMap:ast=>null,visitLiteralPrimitive:ast=>null,visitMethodCall(ast){return visit(this,ast.receiver)},visitPipe:ast=>null,visitPrefixNot:ast=>null,visitNonNullAssert:ast=>null,visitPropertyRead(ast){return visit(this,ast.receiver)},visitPropertyWrite:ast=>null,visitQuote:ast=>null,visitSafeMethodCall(ast){return visit(this,ast.receiver)||ast},visitSafePropertyRead(ast){return visit(this,ast.receiver)||ast}})}needsTemporary(ast){const visit=(visitor,ast)=>ast&&(this._nodeMap.get(ast)||ast).visit(visitor);return ast.visit({visitBinary(ast){return visit(this,ast.left)||visit(this,ast.right)},visitChain:ast=>!1,visitConditional(ast){return visit(this,ast.condition)||visit(this,ast.trueExp)||visit(this,ast.falseExp)},visitFunctionCall:ast=>!0,visitImplicitReceiver:ast=>!1,visitInterpolation(ast){return((visitor,ast)=>ast.some(ast=>visit(visitor,ast)))(this,ast.expressions)},visitKeyedRead:ast=>!1,visitKeyedWrite:ast=>!1,visitLiteralArray:ast=>!0,visitLiteralMap:ast=>!0,visitLiteralPrimitive:ast=>!1,visitMethodCall:ast=>!0,visitPipe:ast=>!0,visitPrefixNot(ast){return visit(this,ast.expression)},visitNonNullAssert(ast){return visit(this,ast.expression)},visitPropertyRead:ast=>!1,visitPropertyWrite:ast=>!1,visitQuote:ast=>!1,visitSafeMethodCall:ast=>!0,visitSafePropertyRead:ast=>!1})}allocateTemporary(){const tempNumber=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ReadVarExpr(temporaryName(this.bindingId,tempNumber))}releaseTemporary(temporary){if(this._currentTemporary--,temporary.name!=temporaryName(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${temporary.name} released out of order`)}convertSourceSpan(span){if(this.baseSourceSpan){const start=this.baseSourceSpan.start.moveBy(span.start),end=this.baseSourceSpan.start.moveBy(span.end);return new ParseSourceSpan(start,end)}return null}addImplicitReceiverAccess(name){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(name)}}class DefaultLocalResolver{notifyImplicitReceiverUse(){}getLocal(name){return name===EventHandlerVars.event.name?EventHandlerVars.event:null}}class BuiltinFunctionCall extends FunctionCall{constructor(span,sourceSpan,args,converter){super(span,sourceSpan,null,args),this.args=args,this.converter=converter}}class ShadowCss{constructor(){this.strictStyling=!0}shimCssText(cssText,selector,hostSelector=""){const commentsWithHash=cssText.match(_commentWithHashRe)||[];return cssText=function(input){return input.replace(_commentRe,"")}(cssText),cssText=this._insertDirectives(cssText),[this._scopeCssText(cssText,selector,hostSelector),...commentsWithHash].join("\n")}_insertDirectives(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)}_insertPolyfillDirectivesInCssText(cssText){return cssText.replace(_cssContentNextSelectorRe,(function(...m){return m[2]+"{"}))}_insertPolyfillRulesInCssText(cssText){return cssText.replace(_cssContentRuleRe,(...m)=>{const rule=m[0].replace(m[1],"").replace(m[2],"");return m[4]+rule})}_scopeCssText(cssText,scopeSelector,hostSelector){const unscopedRules=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),scopeSelector&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),(cssText=cssText+"\n"+unscopedRules).trim()}_extractUnscopedRulesFromCssText(cssText){let m,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(m=_cssContentUnscopedRuleRe.exec(cssText));){r+=m[0].replace(m[2],"").replace(m[1],m[4])+"\n\n"}return r}_convertColonHost(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)}_convertColonHostContext(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)}_convertColonRule(cssText,regExp,partReplacer){return cssText.replace(regExp,(function(...m){if(m[2]){const parts=m[2].split(","),r=[];for(let i=0;i<parts.length;i++){const p=parts[i].trim();if(!p)break;r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]}))}_colonHostContextPartReplacer(host,part,suffix){return part.indexOf(_polyfillHost)>-1?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix}_colonHostPartReplacer(host,part,suffix){return host+part.replace(_polyfillHost,"")+suffix}_convertShadowDOMSelectors(cssText){return _shadowDOMSelectorsRe.reduce((result,pattern)=>result.replace(pattern," "),cssText)}_scopeSelectors(cssText,scopeSelector,hostSelector){return function(input,ruleCallback){const inputWithEscapedBlocks=function(input){const inputParts=input.split(_curlyRe),resultParts=[],escapedBlocks=[];let bracketCount=0,currentBlockParts=[];for(let partIndex=0;partIndex<inputParts.length;partIndex++){const part=inputParts[partIndex];"}"==part&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push("%BLOCK%"),currentBlockParts=[]),resultParts.push(part)),"{"==part&&bracketCount++}currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push("%BLOCK%"));return new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}(input);let nextBlockIndex=0;return inputWithEscapedBlocks.escapedString.replace(_ruleRe,(function(...m){const selector=m[2];let content="",suffix=m[4],contentPrefix="";suffix&&suffix.startsWith("{%BLOCK%")&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=suffix.substring("%BLOCK%".length+1),contentPrefix="{");const rule=ruleCallback(new CssRule(selector,content));return`${m[1]}${rule.selector}${m[3]}${contentPrefix}${rule.content}${suffix}`}))}(cssText,rule=>{let selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]?selector=this._scopeSelector(rule.selector,scopeSelector,hostSelector,this.strictStyling):(rule.selector.startsWith("@media")||rule.selector.startsWith("@supports")||rule.selector.startsWith("@page")||rule.selector.startsWith("@document"))&&(content=this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)})}_scopeSelector(selector,scopeSelector,hostSelector,strict){return selector.split(",").map(part=>part.trim().split(_shadowDeepSelectors)).map(deepParts=>{const[shallowPart,...otherParts]=deepParts;return[(shallowPart=>this._selectorNeedsScoping(shallowPart,scopeSelector)?strict?this._applyStrictSelectorScope(shallowPart,scopeSelector,hostSelector):this._applySelectorScope(shallowPart,scopeSelector,hostSelector):shallowPart)(shallowPart),...otherParts].join(" ")}).join(", ")}_selectorNeedsScoping(selector,scopeSelector){return!this._makeScopeMatcher(scopeSelector).test(selector)}_makeScopeMatcher(scopeSelector){return scopeSelector=scopeSelector.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+scopeSelector+")"+_selectorReSuffix,"m")}_applySelectorScope(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)}_applySimpleSelectorScope(selector,scopeSelector,hostSelector){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(selector)){const replaceBy=this.strictStyling?`[${hostSelector}]`:scopeSelector;return selector.replace(_polyfillHostNoCombinatorRe,(hnc,selector)=>selector.replace(/([^:]*)(:*)(.*)/,(_,before,colon,after)=>before+replaceBy+colon+after)).replace(_polyfillHostRe,replaceBy+" ")}return scopeSelector+" "+selector}_applyStrictSelectorScope(selector,scopeSelector,hostSelector){const attrName="["+(scopeSelector=scopeSelector.replace(/\[is=([^\]]*)\]/g,(_,...parts)=>parts[0]))+"]",_scopeSelectorPart=p=>{let scopedP=p.trim();if(!scopedP)return"";if(p.indexOf(_polyfillHostNoCombinator)>-1)scopedP=this._applySimpleSelectorScope(p,scopeSelector,hostSelector);else{const t=p.replace(_polyfillHostRe,"");if(t.length>0){const matches=t.match(/([^:]*)(:*)(.*)/);matches&&(scopedP=matches[1]+attrName+matches[2]+matches[3])}}return scopedP},safeContent=new SafeSelector(selector);let res,scopedSelector="",startIndex=0;const sep=/( |>|\+|~(?!=))\s*/g;let shouldScope=!((selector=safeContent.content()).indexOf(_polyfillHostNoCombinator)>-1);for(;null!==(res=sep.exec(selector));){const separator=res[1],part=selector.slice(startIndex,res.index).trim();shouldScope=shouldScope||part.indexOf(_polyfillHostNoCombinator)>-1,scopedSelector+=`${shouldScope?_scopeSelectorPart(part):part} ${separator} `,startIndex=sep.lastIndex}const part=selector.substring(startIndex);return shouldScope=shouldScope||part.indexOf(_polyfillHostNoCombinator)>-1,scopedSelector+=shouldScope?_scopeSelectorPart(part):part,safeContent.restore(scopedSelector)}_insertPolyfillHostInCssText(selector){return selector.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)}}class SafeSelector{constructor(selector){this.placeholders=[],this.index=0,selector=selector.replace(/(\[[^\]]*\])/g,(_,keep)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(keep),this.index++,replaceBy}),this._content=selector.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(_,pseudo,exp)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(exp),this.index++,pseudo+replaceBy})}restore(content){return content.replace(/__ph-(\d+)__/g,(ph,index)=>this.placeholders[+index])}content(){return this._content}}const _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=new RegExp("("+_polyfillHost+_parenSuffix,"gim"),_cssColonHostContextRe=new RegExp("("+_polyfillHostContext+_parenSuffix,"gim"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_polyfillHostNoCombinatorRe=/-shadowcsshost-no-combinator([^\s]*)/,_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*\s*[\s\S]*?\*\//g;const _commentWithHashRe=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const _ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g;class CssRule{constructor(selector,content){this.selector=selector,this.content=content}}class StringWithEscapedBlocks{constructor(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}}class StylesCompileDependency{constructor(name,moduleUrl,setValue){this.name=name,this.moduleUrl=moduleUrl,this.setValue=setValue}}class CompiledStylesheet{constructor(outputCtx,stylesVar,dependencies,isShimmed,meta){this.outputCtx=outputCtx,this.stylesVar=stylesVar,this.dependencies=dependencies,this.isShimmed=isShimmed,this.meta=meta}}class StyleCompiler{constructor(_urlResolver){this._urlResolver=_urlResolver,this._shadowCss=new ShadowCss}compileComponent(outputCtx,comp){const template=comp.template;return this._compileStyles(outputCtx,comp,new CompileStylesheetMetadata({styles:template.styles,styleUrls:template.styleUrls,moduleUrl:identifierModuleUrl(comp.type)}),this.needsStyleShim(comp),!0)}compileStyles(outputCtx,comp,stylesheet,shim=this.needsStyleShim(comp)){return this._compileStyles(outputCtx,comp,stylesheet,shim,!1)}needsStyleShim(comp){return comp.template.encapsulation===compiler_ViewEncapsulation.Emulated}_compileStyles(outputCtx,comp,stylesheet,shim,isComponentStylesheet){const styleExpressions=stylesheet.styles.map(plainStyle=>compiler_literal(this._shimIfNeeded(plainStyle,shim))),dependencies=[];stylesheet.styleUrls.forEach(styleUrl=>{const exprIndex=styleExpressions.length;styleExpressions.push(null),dependencies.push(new StylesCompileDependency(getStylesVarName(null),styleUrl,value=>styleExpressions[exprIndex]=outputCtx.importExpr(value)))});const stylesVar=getStylesVarName(isComponentStylesheet?comp:null),stmt=variable(stylesVar).set(literalArr(styleExpressions,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const]))).toDeclStmt(null,isComponentStylesheet?[StmtModifier.Final]:[StmtModifier.Final,StmtModifier.Exported]);return outputCtx.statements.push(stmt),new CompiledStylesheet(outputCtx,stylesVar,dependencies,shim,stylesheet)}_shimIfNeeded(style,shim){return shim?this._shadowCss.shimCssText(style,"_ngcontent-%COMP%","_nghost-%COMP%"):style}}function getStylesVarName(component){let result="styles";return component&&(result+=`_${identifierName(component.type)}`),result}class NodeWithI18n{constructor(sourceSpan,i18n){this.sourceSpan=sourceSpan,this.i18n=i18n}}class Text$3 extends NodeWithI18n{constructor(value,sourceSpan,i18n){super(sourceSpan,i18n),this.value=value}visit(visitor,context){return visitor.visitText(this,context)}}class Expansion extends NodeWithI18n{constructor(switchValue,type,cases,sourceSpan,switchValueSourceSpan,i18n){super(sourceSpan,i18n),this.switchValue=switchValue,this.type=type,this.cases=cases,this.switchValueSourceSpan=switchValueSourceSpan}visit(visitor,context){return visitor.visitExpansion(this,context)}}class ExpansionCase{constructor(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}visit(visitor,context){return visitor.visitExpansionCase(this,context)}}class compiler_Attribute extends NodeWithI18n{constructor(name,value,sourceSpan,valueSpan,i18n){super(sourceSpan,i18n),this.name=name,this.value=value,this.valueSpan=valueSpan}visit(visitor,context){return visitor.visitAttribute(this,context)}}class Element$1 extends NodeWithI18n{constructor(name,attrs,children,sourceSpan,startSourceSpan=null,endSourceSpan=null,i18n){super(sourceSpan,i18n),this.name=name,this.attrs=attrs,this.children=children,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitElement(this,context)}}class Comment{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitComment(this,context)}}function visitAll$1(visitor,nodes,context=null){const result=[],visit=visitor.visit?ast=>visitor.visit(ast,context)||ast.visit(visitor,context):ast=>ast.visit(visitor,context);return nodes.forEach(ast=>{const astResult=visit(ast);astResult&&result.push(astResult)}),result}var TokenType;!function(TokenType){TokenType[TokenType.TAG_OPEN_START=0]="TAG_OPEN_START",TokenType[TokenType.TAG_OPEN_END=1]="TAG_OPEN_END",TokenType[TokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",TokenType[TokenType.TAG_CLOSE=3]="TAG_CLOSE",TokenType[TokenType.TEXT=4]="TEXT",TokenType[TokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",TokenType[TokenType.RAW_TEXT=6]="RAW_TEXT",TokenType[TokenType.COMMENT_START=7]="COMMENT_START",TokenType[TokenType.COMMENT_END=8]="COMMENT_END",TokenType[TokenType.CDATA_START=9]="CDATA_START",TokenType[TokenType.CDATA_END=10]="CDATA_END",TokenType[TokenType.ATTR_NAME=11]="ATTR_NAME",TokenType[TokenType.ATTR_QUOTE=12]="ATTR_QUOTE",TokenType[TokenType.ATTR_VALUE=13]="ATTR_VALUE",TokenType[TokenType.DOC_TYPE=14]="DOC_TYPE",TokenType[TokenType.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",TokenType[TokenType.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",TokenType[TokenType.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",TokenType[TokenType.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",TokenType[TokenType.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",TokenType[TokenType.EOF=20]="EOF"}(TokenType||(TokenType={}));class Token{constructor(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}}class TokenError extends ParseError{constructor(errorMsg,tokenType,span){super(span,errorMsg),this.tokenType=tokenType}}class TokenizeResult{constructor(tokens,errors){this.tokens=tokens,this.errors=errors}}const _CR_OR_CRLF_REGEXP=/\r\n?/g;function _unexpectedCharacterErrorMsg(charCode){return`Unexpected character "${0===charCode?"EOF":String.fromCharCode(charCode)}"`}function _unknownEntityErrorMsg(entitySrc){return`Unknown entity "${entitySrc}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class _ControlFlowError{constructor(error){this.error=error}}class _Tokenizer{constructor(_file,_getTagDefinition,options){this._getTagDefinition=_getTagDefinition,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=options.tokenizeExpansionForms||!1,this._interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,this._leadingTriviaCodePoints=options.leadingTriviaChars&&options.leadingTriviaChars.map(c=>c.codePointAt(0)||0);const range=options.range||{endPos:_file.content.length,startPos:0,startLine:0,startCol:0};this._cursor=options.escapedString?new EscapedCharacterCursor(_file,range):new PlainCharacterCursor(_file,range),this._preserveLineEndings=options.preserveLineEndings||!1;try{this._cursor.init()}catch(e){this.handleError(e)}}_processCarriageReturns(content){return this._preserveLineEndings?content:content.replace(_CR_OR_CRLF_REGEXP,"\n")}tokenize(){for(;0!==this._cursor.peek();){const start=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(start):this._attemptCharCode(45)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode(47)?this._consumeTagClose(start):this._consumeTagOpen(start):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(TokenType.EOF),this._endToken([]),new TokenizeResult(function(srcTokens){const dstTokens=[];let lastDstToken=void 0;for(let i=0;i<srcTokens.length;i++){const token=srcTokens[i];lastDstToken&&lastDstToken.type==TokenType.TEXT&&token.type==TokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if((61===(peek=this._cursor.peek())||isAsciiLetter(peek)||isDigit(peek))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var peek;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(type,start=this._cursor.clone()){this._currentTokenStart=start,this._currentTokenType=type}_endToken(parts,end){if(null===this._currentTokenStart)throw new TokenError("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(end));if(null===this._currentTokenType)throw new TokenError("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const token=new Token(this._currentTokenType,parts,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token}_createError(msg,span){this._isInExpansionForm()&&(msg+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const error=new TokenError(msg,this._currentTokenType,span);return this._currentTokenStart=null,this._currentTokenType=null,new _ControlFlowError(error)}handleError(e){if(e instanceof CursorError&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof _ControlFlowError))throw e;this.errors.push(e.error)}_attemptCharCode(charCode){return this._cursor.peek()===charCode&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(charCode){return code1=this._cursor.peek(),code2=charCode,toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)&&(this._cursor.advance(),!0);var code1,code2}_requireCharCode(charCode){const location=this._cursor.clone();if(!this._attemptCharCode(charCode))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptStr(chars){const len=chars.length;if(this._cursor.charsLeft()<len)return!1;const initialPosition=this._cursor.clone();for(let i=0;i<len;i++)if(!this._attemptCharCode(chars.charCodeAt(i)))return this._cursor=initialPosition,!1;return!0}_attemptStrCaseInsensitive(chars){for(let i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i)))return!1;return!0}_requireStr(chars){const location=this._cursor.clone();if(!this._attemptStr(chars))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptCharCodeUntilFn(predicate){for(;!predicate(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(predicate,len){const start=this._cursor.clone();if(this._attemptCharCodeUntilFn(predicate),this._cursor.diff(start)<len)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start))}_attemptUntilChar(char){for(;this._cursor.peek()!==char;)this._cursor.advance()}_readChar(decodeEntities){if(decodeEntities&&38===this._cursor.peek())return this._decodeEntity();{const char=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),char}}_decodeEntity(){const start=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const nameStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),59!=this._cursor.peek())return this._cursor=nameStart,"&";const name=this._cursor.getChars(nameStart);this._cursor.advance();const char=NAMED_ENTITIES[name];if(!char)throw this._createError(_unknownEntityErrorMsg(name),this._cursor.getSpan(start));return char}{const isHex=this._attemptCharCode(120)||this._attemptCharCode(88),codeStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isDigitEntityEnd),59!=this._cursor.peek())throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan());const strNum=this._cursor.getChars(codeStart);this._cursor.advance();try{const charCode=parseInt(strNum,isHex?16:10);return String.fromCharCode(charCode)}catch(_a){throw this._createError(_unknownEntityErrorMsg(this._cursor.getChars(start)),this._cursor.getSpan())}}}_consumeRawText(decodeEntities,endMarkerPredicate){this._beginToken(decodeEntities?TokenType.ESCAPABLE_RAW_TEXT:TokenType.RAW_TEXT);const parts=[];for(;;){const tagCloseStart=this._cursor.clone(),foundEndMarker=endMarkerPredicate();if(this._cursor=tagCloseStart,foundEndMarker)break;parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))])}_consumeComment(start){this._beginToken(TokenType.COMMENT_START,start),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(TokenType.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(start){this._beginToken(TokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(TokenType.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(start){this._beginToken(TokenType.DOC_TYPE,start);const contentStart=this._cursor.clone();this._attemptUntilChar(62);const content=this._cursor.getChars(contentStart);this._cursor.advance(),this._endToken([content])}_consumePrefixAndName(){const nameOrPrefixStart=this._cursor.clone();let prefix="";for(;58!==this._cursor.peek()&&!(((code=this._cursor.peek())<97||122<code)&&(code<65||90<code)&&(code<48||code>57));)this._cursor.advance();var code;let nameStart;return 58===this._cursor.peek()?(prefix=this._cursor.getChars(nameOrPrefixStart),this._cursor.advance(),nameStart=this._cursor.clone()):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,""===prefix?0:1),[prefix,this._cursor.getChars(nameStart)]}_consumeTagOpen(start){let tagName,prefix,openTagToken,tokensBeforeTagOpen=this.tokens.length;const innerStart=this._cursor.clone();try{if(!isAsciiLetter(this._cursor.peek()))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start));for(openTagToken=this._consumeTagOpenStart(start),prefix=openTagToken.parts[0],tagName=openTagToken.parts[1],this._attemptCharCodeUntilFn(isNotWhitespace);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof _ControlFlowError)return this._cursor=innerStart,openTagToken&&(this.tokens.length=tokensBeforeTagOpen),this._beginToken(TokenType.TEXT,start),void this._endToken(["<"]);throw e}const contentTokenType=this._getTagDefinition(tagName).contentType;contentTokenType===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(prefix,tagName,!1):contentTokenType===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(prefix,tagName,!0)}_consumeRawTextWithTagClose(prefix,tagName,decodeEntities){this._consumeRawText(decodeEntities,()=>!!this._attemptCharCode(60)&&(!!this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(isNotWhitespace),!!this._attemptStrCaseInsensitive(tagName)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(62)))));this._beginToken(TokenType.TAG_CLOSE),this._requireCharCodeUntilFn(code=>62===code,3),this._cursor.advance(),this._endToken([prefix,tagName])}_consumeTagOpenStart(start){this._beginToken(TokenType.TAG_OPEN_START,start);const parts=this._consumePrefixAndName();return this._endToken(parts)}_consumeAttributeName(){const attrNameStart=this._cursor.peek();if(39===attrNameStart||34===attrNameStart)throw this._createError(_unexpectedCharacterErrorMsg(attrNameStart),this._cursor.getSpan());this._beginToken(TokenType.ATTR_NAME);const prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)}_consumeAttributeValue(){let value;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(TokenType.ATTR_QUOTE);const quoteChar=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)]),this._beginToken(TokenType.ATTR_VALUE);const parts=[];for(;this._cursor.peek()!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._endToken([this._processCarriageReturns(value)]),this._beginToken(TokenType.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)])}else{this._beginToken(TokenType.ATTR_VALUE);const valueStart=this._cursor.clone();this._requireCharCodeUntilFn(isNameEnd,1),value=this._cursor.getChars(valueStart),this._endToken([this._processCarriageReturns(value)])}}_consumeTagOpenEnd(){const tokenType=this._attemptCharCode(47)?TokenType.TAG_OPEN_END_VOID:TokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode(62),this._endToken([])}_consumeTagClose(start){this._beginToken(TokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);const prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(62),this._endToken(prefixAndName)}_consumeExpansionFormStart(){this._beginToken(TokenType.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(TokenType.EXPANSION_FORM_START),this._beginToken(TokenType.RAW_TEXT);const condition=this._readUntil(44);this._endToken([condition]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.RAW_TEXT);const type=this._readUntil(44);this._endToken([type]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace)}_consumeExpansionCaseStart(){this._beginToken(TokenType.EXPANSION_CASE_VALUE);const value=this._readUntil(123).trim();this._endToken([value]),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(TokenType.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(TokenType.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(TokenType.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const start=this._cursor.clone();this._beginToken(TokenType.TEXT,start);const parts=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(parts.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(parts.push(this._interpolationConfig.end),this._inInterpolation=!1):parts.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(parts.join(""))])}_isTextEnd(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}_readUntil(char){const start=this._cursor.clone();return this._attemptUntilChar(char),this._cursor.getChars(start)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_FORM_START}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const start=this._cursor.clone(),isInterpolation=this._attemptStr(this._interpolationConfig.start);return this._cursor=start,!isInterpolation}return!0}}function isNotWhitespace(code){return!isWhitespace(code)||0===code}function isNameEnd(code){return isWhitespace(code)||62===code||47===code||39===code||34===code||61===code}function isDigitEntityEnd(code){return 59==code||0==code||!function(code){return code>=97&&code<=102||code>=65&&code<=70||isDigit(code)}(code)}function isNamedEntityEnd(code){return 59==code||0==code||!isAsciiLetter(code)}function toUpperCaseCharCode(code){return code>=97&&code<=122?code-97+65:code}class PlainCharacterCursor{constructor(fileOrCursor,range){if(fileOrCursor instanceof PlainCharacterCursor){this.file=fileOrCursor.file,this.input=fileOrCursor.input,this.end=fileOrCursor.end;const state=fileOrCursor.state;this.state={peek:state.peek,offset:state.offset,line:state.line,column:state.column}}else{if(!range)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=fileOrCursor,this.input=fileOrCursor.content,this.end=range.endPos,this.state={peek:-1,offset:range.startPos,line:range.startLine,column:range.startCol}}}clone(){return new PlainCharacterCursor(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(other){return this.state.offset-other.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(start,leadingTriviaCodePoints){start=start||this;let cloned=!1;if(leadingTriviaCodePoints)for(;this.diff(start)>0&&-1!==leadingTriviaCodePoints.indexOf(start.peek());)cloned||(start=start.clone(),cloned=!0),start.advance();return new ParseSourceSpan(new ParseLocation(start.file,start.state.offset,start.state.line,start.state.column),new ParseLocation(this.file,this.state.offset,this.state.line,this.state.column))}getChars(start){return this.input.substring(start.state.offset,this.state.offset)}charAt(pos){return this.input.charCodeAt(pos)}advanceState(state){if(state.offset>=this.end)throw this.state=state,new CursorError('Unexpected character "EOF"',this);const currentChar=this.charAt(state.offset);10===currentChar?(state.line++,state.column=0):isNewLine(currentChar)||state.column++,state.offset++,this.updatePeek(state)}updatePeek(state){state.peek=state.offset>=this.end?0:this.charAt(state.offset)}}class EscapedCharacterCursor extends PlainCharacterCursor{constructor(fileOrCursor,range){fileOrCursor instanceof EscapedCharacterCursor?(super(fileOrCursor),this.internalState=Object.assign({},fileOrCursor.internalState)):(super(fileOrCursor,range),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new EscapedCharacterCursor(this)}getChars(start){const cursor=start.clone();let chars="";for(;cursor.internalState.offset<this.internalState.offset;)chars+=String.fromCodePoint(cursor.peek()),cursor.advance();return chars}processEscapeSequence(){const peek=()=>this.internalState.peek;if(92===peek())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===peek())this.state.peek=10;else if(114===peek())this.state.peek=13;else if(118===peek())this.state.peek=11;else if(116===peek())this.state.peek=9;else if(98===peek())this.state.peek=8;else if(102===peek())this.state.peek=12;else if(117===peek())if(this.advanceState(this.internalState),123===peek()){this.advanceState(this.internalState);const digitStart=this.clone();let length=0;for(;125!==peek();)this.advanceState(this.internalState),length++;this.state.peek=this.decodeHexDigits(digitStart,length)}else{const digitStart=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,4)}else if(120===peek()){this.advanceState(this.internalState);const digitStart=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,2)}else if(isOctalDigit(peek())){let octal="",length=0,previous=this.clone();for(;isOctalDigit(peek())&&length<3;)previous=this.clone(),octal+=String.fromCodePoint(peek()),this.advanceState(this.internalState),length++;this.state.peek=parseInt(octal,8),this.internalState=previous.internalState}else isNewLine(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(start,length){const hex=this.input.substr(start.internalState.offset,length),charCode=parseInt(hex,16);if(isNaN(charCode))throw start.state=start.internalState,new CursorError("Invalid hexadecimal escape sequence",start);return charCode}}class CursorError{constructor(msg,cursor){this.msg=msg,this.cursor=cursor}}class TreeError extends ParseError{constructor(elementName,span,msg){super(span,msg),this.elementName=elementName}static create(elementName,span,msg){return new TreeError(elementName,span,msg)}}class ParseTreeResult{constructor(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}}class Parser{constructor(getTagDefinition){this.getTagDefinition=getTagDefinition}parse(source,url,options){const tokensAndErrors=function(source,url,getTagDefinition,options={}){return new _Tokenizer(new ParseSourceFile(source,url),getTagDefinition,options).tokenize()}(source,url,this.getTagDefinition,options),treeAndErrors=new _TreeBuilder(tokensAndErrors.tokens,this.getTagDefinition).build();return new ParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))}}class _TreeBuilder{constructor(tokens,getTagDefinition){this.tokens=tokens,this.getTagDefinition=getTagDefinition,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==TokenType.EOF;)this._peek.type===TokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===TokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===TokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===TokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===TokenType.TEXT||this._peek.type===TokenType.RAW_TEXT||this._peek.type===TokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===TokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ParseTreeResult(this._rootNodes,this._errors)}_advance(){const prev=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],prev}_advanceIf(type){return this._peek.type===type?this._advance():null}_consumeCdata(startToken){this._consumeText(this._advance()),this._advanceIf(TokenType.CDATA_END)}_consumeComment(token){const text=this._advanceIf(TokenType.RAW_TEXT);this._advanceIf(TokenType.COMMENT_END);const value=null!=text?text.parts[0].trim():null;this._addToParent(new Comment(value,token.sourceSpan))}_consumeExpansion(token){const switchValue=this._advance(),type=this._advance(),cases=[];for(;this._peek.type===TokenType.EXPANSION_CASE_VALUE;){const expCase=this._parseExpansionCase();if(!expCase)return;cases.push(expCase)}if(this._peek.type!==TokenType.EXPANSION_FORM_END)return void this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const sourceSpan=new ParseSourceSpan(token.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Expansion(switchValue.parts[0],type.parts[0],cases,sourceSpan,switchValue.sourceSpan)),this._advance()}_parseExpansionCase(){const value=this._advance();if(this._peek.type!==TokenType.EXPANSION_CASE_EXP_START)return this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const start=this._advance(),exp=this._collectExpansionExpTokens(start);if(!exp)return null;const end=this._advance();exp.push(new Token(TokenType.EOF,[],end.sourceSpan));const parsedExp=new _TreeBuilder(exp,this.getTagDefinition).build();if(parsedExp.errors.length>0)return this._errors=this._errors.concat(parsedExp.errors),null;const sourceSpan=new ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end),expSourceSpan=new ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end);return new ExpansionCase(value.parts[0],parsedExp.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)}_collectExpansionExpTokens(start){const exp=[],expansionFormStack=[TokenType.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==TokenType.EXPANSION_FORM_START&&this._peek.type!==TokenType.EXPANSION_CASE_EXP_START||expansionFormStack.push(this._peek.type),this._peek.type===TokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_CASE_EXP_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(expansionFormStack.pop(),0==expansionFormStack.length)return exp}if(this._peek.type===TokenType.EXPANSION_FORM_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_FORM_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;expansionFormStack.pop()}if(this._peek.type===TokenType.EOF)return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;exp.push(this._advance())}}_consumeText(token){let text=token.parts[0];if(text.length>0&&"\n"==text[0]){const parent=this._getParentElement();null!=parent&&0==parent.children.length&&this.getTagDefinition(parent.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new Text$3(text,token.sourceSpan))}_closeVoidElement(){const el=this._getParentElement();el&&this.getTagDefinition(el.name).isVoid&&this._elementStack.pop()}_consumeStartTag(startTagToken){const prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];for(;this._peek.type===TokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));const fullName=this._getElementFullName(prefix,name,this._getParentElement());let selfClosing=!1;if(this._peek.type===TokenType.TAG_OPEN_END_VOID){this._advance(),selfClosing=!0;const tagDef=this.getTagDefinition(fullName);tagDef.canSelfClose||null!==getNsPrefix(fullName)||tagDef.isVoid||this._errors.push(TreeError.create(fullName,startTagToken.sourceSpan,`Only void and foreign elements can be self closed "${startTagToken.parts[1]}"`))}else this._peek.type===TokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);const end=this._peek.sourceSpan.start,span=new ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new Element$1(fullName,attrs,[],span,span,void 0);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)}_pushElement(el){const parentEl=this._getParentElement();parentEl&&this.getTagDefinition(parentEl.name).isClosedByChild(el.name)&&this._elementStack.pop(),this._addToParent(el),this._elementStack.push(el)}_consumeEndTag(endTagToken){const fullName=this._getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=endTagToken.sourceSpan),this.getTagDefinition(fullName).isVoid)this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,`Void elements do not have end tags "${endTagToken.parts[1]}"`));else if(!this._popElement(fullName)){const errMsg=`Unexpected closing tag "${fullName}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,errMsg))}}_popElement(fullName){for(let stackIndex=this._elementStack.length-1;stackIndex>=0;stackIndex--){const el=this._elementStack[stackIndex];if(el.name==fullName)return this._elementStack.splice(stackIndex,this._elementStack.length-stackIndex),!0;if(!this.getTagDefinition(el.name).closedByParent)return!1}return!1}_consumeAttr(attrName){const fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]);let end=attrName.sourceSpan.end,value="",valueSpan=void 0;if(this._peek.type===TokenType.ATTR_QUOTE&&this._advance(),this._peek.type===TokenType.ATTR_VALUE){const valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end,valueSpan=valueToken.sourceSpan}if(this._peek.type===TokenType.ATTR_QUOTE){end=this._advance().sourceSpan.end}return new compiler_Attribute(fullName,value,new ParseSourceSpan(attrName.sourceSpan.start,end),valueSpan)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let container=null;for(let i=this._elementStack.length-1;i>=0;i--){if(!compiler_isNgContainer(this._elementStack[i].name))return{parent:this._elementStack[i],container:container};container=this._elementStack[i]}return{parent:null,container:container}}_addToParent(node){const parent=this._getParentElement();null!=parent?parent.children.push(node):this._rootNodes.push(node)}_insertBeforeContainer(parent,container,node){if(container){if(parent){const index=parent.children.indexOf(container);parent.children[index]=node}else this._rootNodes.push(node);node.children.push(container),this._elementStack.splice(this._elementStack.indexOf(container),0,node)}else this._addToParent(node),this._elementStack.push(node)}_getElementFullName(prefix,localName,parentElement){return""===prefix&&""===(prefix=this.getTagDefinition(localName).implicitNamespacePrefix||"")&&null!=parentElement&&(prefix=getNsPrefix(parentElement.name)),mergeNsAndName(prefix,localName)}}function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}class HtmlParser extends Parser{constructor(){super(getHtmlTagDefinition)}parse(source,url,options){return super.parse(source,url,options)}}const SKIP_WS_TRIM_TAGS=new Set(["pre","template","textarea","script","style"]),WS_CHARS=" \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff",NO_WS_REGEXP=new RegExp(`[^${WS_CHARS}]`),WS_REPLACE_REGEXP=new RegExp(`[${WS_CHARS}]{2,}`,"g");function compiler_replaceNgsp(value){return value.replace(new RegExp("","g")," ")}class WhitespaceVisitor{visitElement(element,context){return SKIP_WS_TRIM_TAGS.has(element.name)||element.attrs.some(attr=>"ngPreserveWhitespaces"===attr.name)?new Element$1(element.name,visitAll$1(this,element.attrs),element.children,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n):new Element$1(element.name,element.attrs,function(visitor,nodes){const result=[];return nodes.forEach((ast,i)=>{const context={prev:nodes[i-1],next:nodes[i+1]},astResult=ast.visit(visitor,context);astResult&&result.push(astResult)}),result}(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}visitAttribute(attribute,context){return"ngPreserveWhitespaces"!==attribute.name?attribute:null}visitText(text,context){const isNotBlank=text.value.match(NO_WS_REGEXP),hasExpansionSibling=context&&(context.prev instanceof Expansion||context.next instanceof Expansion);return isNotBlank||hasExpansionSibling?new Text$3(compiler_replaceNgsp(text.value).replace(WS_REPLACE_REGEXP," "),text.sourceSpan,text.i18n):null}visitComment(comment,context){return comment}visitExpansion(expansion,context){return expansion}visitExpansionCase(expansionCase,context){return expansionCase}}function removeWhitespaces(htmlAstWithErrors){return new ParseTreeResult(visitAll$1(new WhitespaceVisitor,htmlAstWithErrors.rootNodes),htmlAstWithErrors.errors)}const PLURAL_CASES=["zero","one","two","few","many","other"];function expandNodes(nodes){const expander=new _Expander;return new ExpansionResult(visitAll$1(expander,nodes),expander.isExpanded,expander.errors)}class ExpansionResult{constructor(nodes,expanded,errors){this.nodes=nodes,this.expanded=expanded,this.errors=errors}}class ExpansionError extends ParseError{constructor(span,errorMsg){super(span,errorMsg)}}class _Expander{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(element,context){return new Element$1(element.name,element.attrs,visitAll$1(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan)}visitAttribute(attribute,context){return attribute}visitText(text,context){return text}visitComment(comment,context){return comment}visitExpansion(icu,context){return this.isExpanded=!0,"plural"==icu.type?function(ast,errors){const children=ast.cases.map(c=>{-1!=PLURAL_CASES.indexOf(c.value)||c.value.match(/^=\d+$/)||errors.push(new ExpansionError(c.valueSourceSpan,`Plural cases should be "=<number>" or one of ${PLURAL_CASES.join(", ")}`));const expansionResult=expandNodes(c.expression);return errors.push(...expansionResult.errors),new Element$1("ng-template",[new compiler_Attribute("ngPluralCase",`${c.value}`,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new compiler_Attribute("[ngPlural]",ast.switchValue,ast.switchValueSourceSpan);return new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}(icu,this.errors):function(ast,errors){const children=ast.cases.map(c=>{const expansionResult=expandNodes(c.expression);return errors.push(...expansionResult.errors),"other"===c.value?new Element$1("ng-template",[new compiler_Attribute("ngSwitchDefault","",c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan):new Element$1("ng-template",[new compiler_Attribute("ngSwitchCase",`${c.value}`,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new compiler_Attribute("[ngSwitch]",ast.switchValue,ast.switchValueSourceSpan);return new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}(icu,this.errors)}visitExpansionCase(icuCase,context){throw new Error("Should not be reached")}}class TextAst{constructor(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitText(this,context)}}class BoundTextAst{constructor(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitBoundText(this,context)}}class AttrAst{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitAttr(this,context)}}const BoundPropertyMapping={4:4,1:1,2:2,0:0,3:3};class BoundElementPropertyAst{constructor(name,type,securityContext,value,unit,sourceSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.isAnimation=4===this.type}static fromBoundProperty(prop){const type=BoundPropertyMapping[prop.type];return new BoundElementPropertyAst(prop.name,type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan)}visit(visitor,context){return visitor.visitElementProperty(this,context)}}class BoundEventAst{constructor(name,target,phase,handler,sourceSpan,handlerSpan){this.name=name,this.target=target,this.phase=phase,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan,this.fullName=BoundEventAst.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(name,target,phase){return target?`${target}:${name}`:phase?`@${name}.${phase}`:name}static fromParsedEvent(event){const target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEventAst(event.name,target,phase,event.handler,event.sourceSpan,event.handlerSpan)}visit(visitor,context){return visitor.visitEvent(this,context)}}class ReferenceAst{constructor(name,value,originalValue,sourceSpan){this.name=name,this.value=value,this.originalValue=originalValue,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitReference(this,context)}}class VariableAst{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}static fromParsedVariable(v){return new VariableAst(v.name,v.value,v.sourceSpan)}visit(visitor,context){return visitor.visitVariable(this,context)}}class ElementAst{constructor(name,attrs,inputs,outputs,references,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.references=references,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitElement(this,context)}}class EmbeddedTemplateAst{constructor(attrs,outputs,references,variables,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.references=references,this.variables=variables,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitEmbeddedTemplate(this,context)}}class BoundDirectivePropertyAst{constructor(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitDirectiveProperty(this,context)}}class DirectiveAst{constructor(directive,inputs,hostProperties,hostEvents,contentQueryStartId,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.contentQueryStartId=contentQueryStartId,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitDirective(this,context)}}class ProviderAst{constructor(token,multiProvider,eager,providers,providerType,lifecycleHooks,sourceSpan,isModule){this.token=token,this.multiProvider=multiProvider,this.eager=eager,this.providers=providers,this.providerType=providerType,this.lifecycleHooks=lifecycleHooks,this.sourceSpan=sourceSpan,this.isModule=isModule}visit(visitor,context){return null}}var ProviderAstType;!function(ProviderAstType){ProviderAstType[ProviderAstType.PublicService=0]="PublicService",ProviderAstType[ProviderAstType.PrivateService=1]="PrivateService",ProviderAstType[ProviderAstType.Component=2]="Component",ProviderAstType[ProviderAstType.Directive=3]="Directive",ProviderAstType[ProviderAstType.Builtin=4]="Builtin"}(ProviderAstType||(ProviderAstType={}));class NgContentAst{constructor(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitNgContent(this,context)}}function templateVisitAll(visitor,asts,context=null){const result=[],visit=visitor.visit?ast=>visitor.visit(ast,context)||ast.visit(visitor,context):ast=>ast.visit(visitor,context);return asts.forEach(ast=>{const astResult=visit(ast);astResult&&result.push(astResult)}),result}class ProviderError extends ParseError{constructor(message,span){super(span,message)}}class ProviderViewContext{constructor(reflector,component){this.reflector=reflector,this.component=component,this.errors=[],this.viewQueries=function(component){let viewQueryId=1;const viewQueries=new Map;component.viewQueries&&component.viewQueries.forEach(query=>_addQueryToTokenMap(viewQueries,{meta:query,queryId:viewQueryId++}));return viewQueries}(component),this.viewProviders=new Map,component.viewProviders.forEach(provider=>{null==this.viewProviders.get(tokenReference(provider.token))&&this.viewProviders.set(tokenReference(provider.token),!0)})}}class ProviderElementContext{constructor(viewContext,_parent,_isViewRoot,_directiveAsts,attrs,refs,isTemplate,contentQueryStartId,_sourceSpan){this.viewContext=viewContext,this._parent=_parent,this._isViewRoot=_isViewRoot,this._directiveAsts=_directiveAsts,this._sourceSpan=_sourceSpan,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},attrs.forEach(attrAst=>this._attrs[attrAst.name]=attrAst.value);const directivesMeta=_directiveAsts.map(directiveAst=>directiveAst.directive);if(this._allProviders=function(directives,sourceSpan,targetErrors){const providersByToken=new Map;return directives.forEach(directive=>{_resolveProviders([{token:{identifier:directive.type},useClass:directive.type}],directive.isComponent?ProviderAstType.Component:ProviderAstType.Directive,!0,sourceSpan,targetErrors,providersByToken,!1)}),directives.filter(dir=>dir.isComponent).concat(directives.filter(dir=>!dir.isComponent)).forEach(directive=>{_resolveProviders(directive.providers,ProviderAstType.PublicService,!1,sourceSpan,targetErrors,providersByToken,!1),_resolveProviders(directive.viewProviders,ProviderAstType.PrivateService,!1,sourceSpan,targetErrors,providersByToken,!1)}),providersByToken}(directivesMeta,_sourceSpan,viewContext.errors),this._contentQueries=function(contentQueryStartId,directives){let contentQueryId=contentQueryStartId;const contentQueries=new Map;return directives.forEach((directive,directiveIndex)=>{directive.queries&&directive.queries.forEach(query=>_addQueryToTokenMap(contentQueries,{meta:query,queryId:contentQueryId++}))}),contentQueries}(contentQueryStartId,directivesMeta),Array.from(this._allProviders.values()).forEach(provider=>{this._addQueryReadsTo(provider.token,provider.token,this._queriedTokens)}),isTemplate){const templateRefId=createTokenForExternalReference(this.viewContext.reflector,Identifiers.TemplateRef);this._addQueryReadsTo(templateRefId,templateRefId,this._queriedTokens)}refs.forEach(refAst=>{let defaultQueryValue=refAst.value||createTokenForExternalReference(this.viewContext.reflector,Identifiers.ElementRef);this._addQueryReadsTo({value:refAst.name},defaultQueryValue,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(provider=>{(provider.eager||this._queriedTokens.get(tokenReference(provider.token)))&&this._getOrCreateLocalProvider(provider.providerType,provider.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(provider=>{this._getOrCreateLocalProvider(provider.providerType,provider.token,!1)})}get transformProviders(){const lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(provider=>{provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)}get transformedDirectiveAsts(){const sortedProviderTypes=this.transformProviders.map(provider=>provider.token.identifier),sortedDirectives=this._directiveAsts.slice();return sortedDirectives.sort((dir1,dir2)=>sortedProviderTypes.indexOf(dir1.directive.type)-sortedProviderTypes.indexOf(dir2.directive.type)),sortedDirectives}get queryMatches(){const allMatches=[];return this._queriedTokens.forEach(matches=>{allMatches.push(...matches)}),allMatches}_addQueryReadsTo(token,defaultValue,queryReadTokens){this._getQueriesFor(token).forEach(query=>{const queryValue=query.meta.read||defaultValue,tokenRef=tokenReference(queryValue);let queryMatches=queryReadTokens.get(tokenRef);queryMatches||(queryMatches=[],queryReadTokens.set(tokenRef,queryMatches)),queryMatches.push({queryId:query.queryId,value:queryValue})})}_getQueriesFor(token){const result=[];let queries,currentEl=this,distance=0;for(;null!==currentEl;)queries=currentEl._contentQueries.get(tokenReference(token)),queries&&result.push(...queries.filter(query=>query.meta.descendants||distance<=1)),currentEl._directiveAsts.length>0&&distance++,currentEl=currentEl._parent;return queries=this.viewContext.viewQueries.get(tokenReference(token)),queries&&result.push(...queries),result}_getOrCreateLocalProvider(requestingProviderType,token,eager){const resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider||(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.PrivateService||(requestingProviderType===ProviderAstType.PrivateService||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.Builtin)return null;let transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this.viewContext.errors.push(new ProviderError(`Cannot instantiate cyclic dependency! ${tokenName(token)}`,this._sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);const transformedProviders=resolvedProvider.providers.map(provider=>{let transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){const existingDiDep=this._getDependency(resolvedProvider.providerType,{token:provider.useExisting},eager);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(dep=>this._getDependency(resolvedProvider.providerType,dep,eager))}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(dep=>this._getDependency(resolvedProvider.providerType,dep,eager))}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst}_getLocalDependency(requestingProviderType,dep,eager=!1){if(dep.isAttribute){const attrValue=this._attrs[dep.token.value];return{isValue:!0,value:null==attrValue?null:attrValue}}if(null!=dep.token){if(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.Component){if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Renderer)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ElementRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ChangeDetectorRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.TemplateRef))return dep;tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Injector))return dep;if(null!=this._getOrCreateLocalProvider(requestingProviderType,dep.token,eager))return dep}return null}_getDependency(requestingProviderType,dep,eager=!1){let currElement=this,currEager=eager,result=null;if(dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep,eager)),dep.isSelf)!result&&dep.isOptional&&(result={isValue:!0,value:null});else{for(;!result&&currElement._parent;){const prevElement=currElement;currElement=currElement._parent,prevElement._isViewRoot&&(currEager=!1),result=currElement._getLocalDependency(ProviderAstType.PublicService,dep,currEager)}result||(result=!dep.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===tokenReference(dep.token)||null!=this.viewContext.viewProviders.get(tokenReference(dep.token))?dep:dep.isOptional?{isValue:!0,value:null}:null)}return result||this.viewContext.errors.push(new ProviderError(`No provider for ${tokenName(dep.token)}`,this._sourceSpan)),result}}class NgModuleProviderAnalyzer{constructor(reflector,ngModule,extraProviders,sourceSpan){this.reflector=reflector,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,ngModule.transitiveModule.modules.forEach(ngModuleType=>{_resolveProviders([{token:{identifier:ngModuleType},useClass:ngModuleType}],ProviderAstType.PublicService,!0,sourceSpan,this._errors,this._allProviders,!0)}),_resolveProviders(ngModule.transitiveModule.providers.map(entry=>entry.provider).concat(extraProviders),ProviderAstType.PublicService,!1,sourceSpan,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(provider=>{this._getOrCreateLocalProvider(provider.token,provider.eager)}),this._errors.length>0){const errorString=this._errors.join("\n");throw new Error(`Provider parse errors:\n${errorString}`)}const lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(provider=>{provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)}_getOrCreateLocalProvider(token,eager){const resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider)return null;let transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this._errors.push(new ProviderError(`Cannot instantiate cyclic dependency! ${tokenName(token)}`,resolvedProvider.sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);const transformedProviders=resolvedProvider.providers.map(provider=>{let transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){const existingDiDep=this._getDependency({token:provider.useExisting},eager,resolvedProvider.sourceSpan);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(dep=>this._getDependency(dep,eager,resolvedProvider.sourceSpan))}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(dep=>this._getDependency(dep,eager,resolvedProvider.sourceSpan))}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst}_getDependency(dep,eager=!1,requestorSourceSpan){let foundLocal=!1;return dep.isSkipSelf||null==dep.token||(tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.Injector)||tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.ComponentFactoryResolver)?foundLocal=!0:null!=this._getOrCreateLocalProvider(dep.token,eager)&&(foundLocal=!0)),dep}}function _transformProvider(provider,{useExisting:useExisting,useValue:useValue,deps:deps}){return{token:provider.token,useClass:provider.useClass,useExisting:useExisting,useFactory:provider.useFactory,useValue:useValue,deps:deps,multi:provider.multi}}function _transformProviderAst(provider,{eager:eager,providers:providers}){return new ProviderAst(provider.token,provider.multiProvider,provider.eager||eager,providers,provider.providerType,provider.lifecycleHooks,provider.sourceSpan,provider.isModule)}function _resolveProviders(providers,providerType,eager,sourceSpan,targetErrors,targetProvidersByToken,isModule){providers.forEach(provider=>{let resolvedProvider=targetProvidersByToken.get(tokenReference(provider.token));if(null!=resolvedProvider&&!!resolvedProvider.multiProvider!=!!provider.multi&&targetErrors.push(new ProviderError(`Mixing multi and non multi provider is not possible for token ${tokenName(resolvedProvider.token)}`,sourceSpan)),resolvedProvider)provider.multi||(resolvedProvider.providers.length=0),resolvedProvider.providers.push(provider);else{const lifecycleHooks=provider.token.identifier&&provider.token.identifier.lifecycleHooks?provider.token.identifier.lifecycleHooks:[],isUseValue=!(provider.useClass||provider.useExisting||provider.useFactory);resolvedProvider=new ProviderAst(provider.token,!!provider.multi,eager||isUseValue,[provider],providerType,lifecycleHooks,sourceSpan,isModule),targetProvidersByToken.set(tokenReference(provider.token),resolvedProvider)}})}function _addQueryToTokenMap(map,query){query.meta.selectors.forEach(token=>{let entry=map.get(tokenReference(token));entry||(entry=[],map.set(tokenReference(token),entry)),entry.push(query)})}class StyleWithImports{constructor(style,styleUrls){this.style=style,this.styleUrls=styleUrls}}function isStyleUrlResolvable(url){if(null==url||0===url.length||"/"==url[0])return!1;const schemeMatch=url.match(URL_WITH_SCHEMA_REGEXP);return null===schemeMatch||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}const CSS_IMPORT_REGEXP=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,CSS_STRIPPABLE_COMMENT_REGEXP=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,URL_WITH_SCHEMA_REGEXP=/^([^:/?#]+):/;class BindingParser{constructor(_exprParser,_interpolationConfig,_schemaRegistry,pipes,errors){if(this._exprParser=_exprParser,this._interpolationConfig=_interpolationConfig,this._schemaRegistry=_schemaRegistry,this.errors=errors,this.pipesByName=null,this._usedPipes=new Map,pipes){const pipesByName=new Map;pipes.forEach(pipe=>pipesByName.set(pipe.name,pipe)),this.pipesByName=pipesByName}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(dirMeta,sourceSpan){if(dirMeta.hostProperties){const boundProps=[];return Object.keys(dirMeta.hostProperties).forEach(propName=>{const expression=dirMeta.hostProperties[propName];"string"==typeof expression?this.parsePropertyBinding(propName,expression,!0,sourceSpan,sourceSpan.start.offset,void 0,[],boundProps):this._reportError(`Value of the host property binding "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}),boundProps}return null}createDirectiveHostPropertyAsts(dirMeta,elementSelector,sourceSpan){const boundProps=this.createBoundHostProperties(dirMeta,sourceSpan);return boundProps&&boundProps.map(prop=>this.createBoundElementProperty(elementSelector,prop))}createDirectiveHostEventAsts(dirMeta,sourceSpan){if(dirMeta.hostListeners){const targetEvents=[];return Object.keys(dirMeta.hostListeners).forEach(propName=>{const expression=dirMeta.hostListeners[propName];"string"==typeof expression?this.parseEvent(propName,expression,sourceSpan,sourceSpan,[],targetEvents):this._reportError(`Value of the host listener "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}),targetEvents}return null}parseInterpolation(value,sourceSpan){const sourceInfo=sourceSpan.start.toString();try{const ast=this._exprParser.parseInterpolation(value,sourceInfo,sourceSpan.start.offset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,sourceSpan.start.offset)}}parseInlineTemplateBinding(tplKey,tplValue,sourceSpan,absoluteValueOffset,targetMatchableAttrs,targetProps,targetVars){const bindings=this._parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteValueOffset);for(let i=0;i<bindings.length;i++){const binding=bindings[i];binding.keyIsVar?targetVars.push(new ParsedVariable(binding.key,binding.name,sourceSpan)):binding.value?this._parsePropertyAst(binding.key,binding.value,sourceSpan,void 0,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this.parseLiteralAttr(binding.key,null,sourceSpan,absoluteValueOffset,void 0,targetMatchableAttrs,targetProps))}}_parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteValueOffset){const sourceInfo=sourceSpan.start.toString();try{const bindingsResult=this._exprParser.parseTemplateBindings(tplKey,tplValue,sourceInfo,absoluteValueOffset);return this._reportExpressionParserErrors(bindingsResult.errors,sourceSpan),bindingsResult.templateBindings.forEach(binding=>{binding.value&&this._checkPipes(binding.value,sourceSpan)}),bindingsResult.warnings.forEach(warning=>{this._reportError(warning,sourceSpan,ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(`${e}`,sourceSpan),[]}}parseLiteralAttr(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){isAnimationLabel(name)?(name=name.substring(1),value&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',sourceSpan,ParseErrorLevel.ERROR),this._parseAnimation(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps)):targetProps.push(new ParsedProperty(name,this._exprParser.wrapLiteralPrimitive(value,"",absoluteOffset),ParsedPropertyType.LITERAL_ATTR,sourceSpan,valueSpan))}parsePropertyBinding(name,expression,isHost,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){0===name.length&&this._reportError("Property name is missing in binding",sourceSpan);let isAnimationProp=!1;name.startsWith("animate-")?(isAnimationProp=!0,name=name.substring("animate-".length)):isAnimationLabel(name)&&(isAnimationProp=!0,name=name.substring(1)),isAnimationProp?this._parseAnimation(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps):this._parsePropertyAst(name,this._parseBinding(expression,isHost,valueSpan||sourceSpan,absoluteOffset),sourceSpan,valueSpan,targetMatchableAttrs,targetProps)}parsePropertyInterpolation(name,value,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){const expr=this.parseInterpolation(value,valueSpan||sourceSpan);return!!expr&&(this._parsePropertyAst(name,expr,sourceSpan,valueSpan,targetMatchableAttrs,targetProps),!0)}_parsePropertyAst(name,ast,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.DEFAULT,sourceSpan,valueSpan))}_parseAnimation(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){0===name.length&&this._reportError("Animation trigger is missing",sourceSpan);const ast=this._parseBinding(expression||"undefined",!1,valueSpan||sourceSpan,absoluteOffset);targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.ANIMATION,sourceSpan,valueSpan))}_parseBinding(value,isHostBinding,sourceSpan,absoluteOffset){const sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown)").toString();try{const ast=isHostBinding?this._exprParser.parseSimpleBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig):this._exprParser.parseBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}}createBoundElementProperty(elementSelector,boundProp,skipValidation=!1,mapPropertyName=!0){if(boundProp.isAnimation)return new BoundElementProperty(boundProp.name,4,compiler_SecurityContext.NONE,boundProp.expression,null,boundProp.sourceSpan,boundProp.valueSpan);let unit=null,bindingType=void 0,boundPropertyName=null;const parts=boundProp.name.split(".");let securityContexts=void 0;if(parts.length>1)if("attr"==parts[0]){boundPropertyName=parts.slice(1).join("."),skipValidation||this._validatePropertyOrAttributeName(boundPropertyName,boundProp.sourceSpan,!0),securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,boundPropertyName,!0);const nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){const ns=boundPropertyName.substring(0,nsSeparatorIdx),name=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=mergeNsAndName(ns,name)}bindingType=1}else"class"==parts[0]?(boundPropertyName=parts[1],bindingType=2,securityContexts=[compiler_SecurityContext.NONE]):"style"==parts[0]&&(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=3,securityContexts=[compiler_SecurityContext.STYLE]);if(null===boundPropertyName){const mappedPropName=this._schemaRegistry.getMappedPropName(boundProp.name);boundPropertyName=mapPropertyName?mappedPropName:boundProp.name,securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,mappedPropName,!1),bindingType=0,skipValidation||this._validatePropertyOrAttributeName(mappedPropName,boundProp.sourceSpan,!1)}return new BoundElementProperty(boundPropertyName,bindingType,securityContexts[0],boundProp.expression,unit,boundProp.sourceSpan,boundProp.valueSpan)}parseEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){0===name.length&&this._reportError("Event name is missing in binding",sourceSpan),isAnimationLabel(name)?(name=name.substr(1),this._parseAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents)):this._parseRegularEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents)}calcPossibleSecurityContexts(selector,propName,isAttribute){const prop=this._schemaRegistry.getMappedPropName(propName);return calcPossibleSecurityContexts(this._schemaRegistry,selector,prop,isAttribute)}_parseAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents){const matches=_splitAt(name,".",[name,""]);const eventName=matches[0],phase=matches[1].toLowerCase();if(phase)switch(phase){case"start":case"done":const ast=this._parseAction(expression,handlerSpan);targetEvents.push(new ParsedEvent(eventName,phase,1,ast,sourceSpan,handlerSpan));break;default:this._reportError(`The provided animation output phase value "${phase}" for "@${eventName}" is not supported (use start or done)`,sourceSpan)}else this._reportError(`The animation trigger output event (@${eventName}) is missing its phase value name (start or done are currently supported)`,sourceSpan)}_parseRegularEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){const[target,eventName]=splitAtColon(name,[null,name]),ast=this._parseAction(expression,handlerSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new ParsedEvent(eventName,target,0,ast,sourceSpan,handlerSpan))}_parseAction(value,sourceSpan){const sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown").toString(),absoluteOffset=sourceSpan&&sourceSpan.start?sourceSpan.start.offset:0;try{const ast=this._exprParser.parseAction(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),!ast||ast.ast instanceof EmptyExpr?(this._reportError("Empty expressions are not allowed",sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)):(this._checkPipes(ast,sourceSpan),ast)}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}}_reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}_reportExpressionParserErrors(errors,sourceSpan){for(const error of errors)this._reportError(error.message,sourceSpan)}_checkPipes(ast,sourceSpan){if(ast&&this.pipesByName){const collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach((ast,pipeName)=>{const pipeMeta=this.pipesByName.get(pipeName);pipeMeta?this._usedPipes.set(pipeName,pipeMeta):this._reportError(`The pipe '${pipeName}' could not be found`,new ParseSourceSpan(sourceSpan.start.moveBy(ast.span.start),sourceSpan.start.moveBy(ast.span.end)))})}}_validatePropertyOrAttributeName(propName,sourceSpan,isAttr){const report=isAttr?this._schemaRegistry.validateAttribute(propName):this._schemaRegistry.validateProperty(propName);report.error&&this._reportError(report.msg,sourceSpan,ParseErrorLevel.ERROR)}}class PipeCollector extends RecursiveAstVisitor$1{constructor(){super(...arguments),this.pipes=new Map}visitPipe(ast,context){return this.pipes.set(ast.name,ast),ast.exp.visit(this),this.visitAll(ast.args,context),null}}function isAnimationLabel(name){return"@"==name[0]}function calcPossibleSecurityContexts(registry,selector,propName,isAttribute){const ctxs=[];return CssSelector.parse(selector).forEach(selector=>{const elementNames=selector.element?[selector.element]:registry.allKnownElementNames(),notElementNames=new Set(selector.notSelectors.filter(selector=>selector.isElementSelector()).map(selector=>selector.element)),possibleElementNames=elementNames.filter(elementName=>!notElementNames.has(elementName));ctxs.push(...possibleElementNames.map(elementName=>registry.securityContext(elementName,propName,isAttribute)))}),0===ctxs.length?[compiler_SecurityContext.NONE]:Array.from(new Set(ctxs)).sort()}function preparseElement(ast){let selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs="";ast.attrs.forEach(attr=>{const lcAttrName=attr.name.toLowerCase();"select"==lcAttrName?selectAttr=attr.value:"href"==lcAttrName?hrefAttr=attr.value:"rel"==lcAttrName?relAttr=attr.value:"ngNonBindable"==attr.name?nonBindable=!0:"ngProjectAs"==attr.name&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=function(selectAttr){if(null===selectAttr||0===selectAttr.length)return"*";return selectAttr}(selectAttr);const nodeName=ast.name.toLowerCase();let type=PreparsedElementType.OTHER;return isNgContent(nodeName)?type=PreparsedElementType.NG_CONTENT:"style"==nodeName?type=PreparsedElementType.STYLE:"script"==nodeName?type=PreparsedElementType.SCRIPT:"link"==nodeName&&"stylesheet"==relAttr&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}var PreparsedElementType;!function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));class PreparsedElement{constructor(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}}const BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;let _TEXT_CSS_SELECTOR;function TEXT_CSS_SELECTOR(){return _TEXT_CSS_SELECTOR||(_TEXT_CSS_SELECTOR=CssSelector.parse("*")[0]),_TEXT_CSS_SELECTOR}class TemplateParseError extends ParseError{constructor(message,span,level){super(span,message,level)}}class TemplateParseResult{constructor(templateAst,usedPipes,errors){this.templateAst=templateAst,this.usedPipes=usedPipes,this.errors=errors}}class TemplateParser{constructor(_config,_reflector,_exprParser,_schemaRegistry,_htmlParser,_console,transforms){this._config=_config,this._reflector=_reflector,this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this._console=_console,this.transforms=transforms}get expressionParser(){return this._exprParser}parse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){const result=this.tryParse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces),warnings=result.errors.filter(error=>error.level===ParseErrorLevel.WARNING),errors=result.errors.filter(error=>error.level===ParseErrorLevel.ERROR);if(warnings.length>0&&this._console.warn(`Template parse warnings:\n${warnings.join("\n")}`),errors.length>0){throw syntaxError(`Template parse errors:\n${errors.join("\n")}`,errors)}return{template:result.templateAst,pipes:result.usedPipes}}tryParse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){let htmlParseResult="string"==typeof template?this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(component)}):template;return preserveWhitespaces||(htmlParseResult=removeWhitespaces(htmlParseResult)),this.tryParseHtml(this.expandHtml(htmlParseResult),component,directives,pipes,schemas)}tryParseHtml(htmlAstWithErrors,component,directives,pipes,schemas){let result;const errors=htmlAstWithErrors.errors,usedPipes=[];if(htmlAstWithErrors.rootNodes.length>0){const uniqDirectives=removeSummaryDuplicates(directives),uniqPipes=removeSummaryDuplicates(pipes),providerViewContext=new ProviderViewContext(this._reflector,component);let interpolationConfig=void 0;component.template&&component.template.interpolation&&(interpolationConfig={start:component.template.interpolation[0],end:component.template.interpolation[1]});const bindingParser=new BindingParser(this._exprParser,interpolationConfig,this._schemaRegistry,uniqPipes,errors),parseVisitor=new TemplateParseVisitor(this._reflector,this._config,providerViewContext,uniqDirectives,bindingParser,this._schemaRegistry,schemas,errors);result=visitAll$1(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_ELEMENT_CONTEXT),errors.push(...providerViewContext.errors),usedPipes.push(...bindingParser.getUsedPipes())}else result=[];return this._assertNoReferenceDuplicationOnTemplate(result,errors),errors.length>0?new TemplateParseResult(result,usedPipes,errors):(this.transforms&&this.transforms.forEach(transform=>{result=templateVisitAll(transform,result)}),new TemplateParseResult(result,usedPipes,errors))}expandHtml(htmlAstWithErrors,forced=!1){const errors=htmlAstWithErrors.errors;if(0==errors.length||forced){const expandedHtmlAst=expandNodes(htmlAstWithErrors.rootNodes);errors.push(...expandedHtmlAst.errors),htmlAstWithErrors=new ParseTreeResult(expandedHtmlAst.nodes,errors)}return htmlAstWithErrors}getInterpolationConfig(component){if(component.template)return InterpolationConfig.fromArray(component.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(result,errors){const existingReferences=[];result.filter(element=>!!element.references).forEach(element=>element.references.forEach(reference=>{const name=reference.name;if(existingReferences.indexOf(name)<0)existingReferences.push(name);else{const error=new TemplateParseError(`Reference "#${name}" is defined several times`,reference.sourceSpan,ParseErrorLevel.ERROR);errors.push(error)}}))}}class TemplateParseVisitor{constructor(reflector,config,providerViewContext,directives,_bindingParser,_schemaRegistry,_schemas,_targetErrors){this.reflector=reflector,this.config=config,this.providerViewContext=providerViewContext,this._bindingParser=_bindingParser,this._schemaRegistry=_schemaRegistry,this._schemas=_schemas,this._targetErrors=_targetErrors,this.selectorMatcher=new SelectorMatcher,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=providerViewContext.component.viewQueries.length+1,directives.forEach((directive,index)=>{const selector=CssSelector.parse(directive.selector);this.selectorMatcher.addSelectables(selector,directive),this.directivesIndex.set(directive,index)})}visitExpansion(expansion,context){return null}visitExpansionCase(expansionCase,context){return null}visitText(text,parent){const ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR()),valueNoNgsp=compiler_replaceNgsp(text.value),expr=this._bindingParser.parseInterpolation(valueNoNgsp,text.sourceSpan);return expr?new BoundTextAst(expr,ngContentIndex,text.sourceSpan):new TextAst(valueNoNgsp,ngContentIndex,text.sourceSpan)}visitAttribute(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)}visitComment(comment,context){return null}visitElement(element,parent){const queryStartIndex=this.contentQueryStartId,elName=element.name,preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE)return null;if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return null;const matchableAttrs=[],elementOrDirectiveProps=[],elementOrDirectiveRefs=[],elementVars=[],events=[],templateElementOrDirectiveProps=[],templateMatchableAttrs=[],templateElementVars=[];let hasInlineTemplates=!1;const attrs=[],isTemplateElement=isNgTemplate(element.name);element.attrs.forEach(attr=>{const hasBinding=this._parseAttr(isTemplateElement,attr,matchableAttrs,elementOrDirectiveProps,events,elementOrDirectiveRefs,elementVars);let templateValue,templateKey;elementVars.push(...[].map(v=>VariableAst.fromParsedVariable(v)));const normalizedName=this._normalizeAttributeName(attr.name);normalizedName.startsWith("*")&&(templateValue=attr.value,templateKey=normalizedName.substring("*".length));const hasTemplateBinding=null!=templateValue;if(hasTemplateBinding){hasInlineTemplates&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attr.sourceSpan),hasInlineTemplates=!0;const parsedVariables=[],absoluteOffset=(attr.valueSpan||attr.sourceSpan).start.offset;this._bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attr.sourceSpan,absoluteOffset,templateMatchableAttrs,templateElementOrDirectiveProps,parsedVariables),templateElementVars.push(...parsedVariables.map(v=>VariableAst.fromParsedVariable(v)))}hasBinding||hasTemplateBinding||(attrs.push(this.visitAttribute(attr,null)),matchableAttrs.push([attr.name,attr.value]))});const elementCssSelector=createElementCssSelector(elName,matchableAttrs),{directives:directiveMetas,matchElement:matchElement}=this._parseDirectives(this.selectorMatcher,elementCssSelector),references=[],boundDirectivePropNames=new Set,directiveAsts=this._createDirectiveAsts(isTemplateElement,element.name,directiveMetas,elementOrDirectiveProps,elementOrDirectiveRefs,element.sourceSpan,references,boundDirectivePropNames),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,boundDirectivePropNames),isViewRoot=parent.isTemplateElement||hasInlineTemplates,providerContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,isViewRoot,directiveAsts,attrs,references,isTemplateElement,queryStartIndex,element.sourceSpan),children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,ElementContext.create(isTemplateElement,directiveAsts,isTemplateElement?parent.providerContext:providerContext));providerContext.afterElement();const projectionSelector=""!=preparsedElement.projectAs?CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=parent.findNgContentIndex(projectionSelector);let parsedElement;if(preparsedElement.type===PreparsedElementType.NG_CONTENT)element.children&&!element.children.every(_isEmptyTextNode)&&this._reportError("<ng-content> element cannot have content.",element.sourceSpan),parsedElement=new NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directiveAsts,events),this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts,elementProps,element.sourceSpan),parsedElement=new EmbeddedTemplateAst(attrs,events,references,elementVars,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertElementExists(matchElement,element),this._assertOnlyOneComponent(directiveAsts,element.sourceSpan);const ngContentIndex=hasInlineTemplates?null:parent.findNgContentIndex(projectionSelector);parsedElement=new ElementAst(elName,attrs,elementProps,events,references,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan,element.endSourceSpan||null)}if(hasInlineTemplates){const templateQueryStartIndex=this.contentQueryStartId,templateSelector=createElementCssSelector("ng-template",templateMatchableAttrs),{directives:directives}=this._parseDirectives(this.selectorMatcher,templateSelector),templateBoundDirectivePropNames=new Set,templateDirectiveAsts=this._createDirectiveAsts(!0,elName,directives,templateElementOrDirectiveProps,[],element.sourceSpan,[],templateBoundDirectivePropNames),templateElementProps=this._createElementPropertyAsts(elName,templateElementOrDirectiveProps,templateBoundDirectivePropNames);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts,templateElementProps,element.sourceSpan);const templateProviderContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,parent.isTemplateElement,templateDirectiveAsts,[],[],!0,templateQueryStartIndex,element.sourceSpan);templateProviderContext.afterElement(),parsedElement=new EmbeddedTemplateAst([],[],[],templateElementVars,templateProviderContext.transformedDirectiveAsts,templateProviderContext.transformProviders,templateProviderContext.transformedHasViewContainer,templateProviderContext.queryMatches,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement}_parseAttr(isTemplateElement,attr,targetMatchableAttrs,targetProps,targetEvents,targetRefs,targetVars){const name=this._normalizeAttributeName(attr.name),value=attr.value,srcSpan=attr.sourceSpan,absoluteOffset=attr.valueSpan?attr.valueSpan.start.offset:srcSpan.start.offset,boundEvents=[],bindParts=name.match(BIND_NAME_REGEXP);let hasBinding=!1;if(null!==bindParts)if(hasBinding=!0,null!=bindParts[1])this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps);else if(bindParts[2])if(isTemplateElement){const identifier=bindParts[7];this._parseVariable(identifier,value,srcSpan,targetVars)}else this._reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){const identifier=bindParts[7];this._parseReference(identifier,value,srcSpan,targetRefs)}else bindParts[4]?this._bindingParser.parseEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents):bindParts[5]?(this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[6]?this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[8]?(this._bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[8],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[9]?this._bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[10]&&this._bindingParser.parseEvent(bindParts[10],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents);else hasBinding=this._bindingParser.parsePropertyInterpolation(name,value,srcSpan,attr.valueSpan,targetMatchableAttrs,targetProps);return hasBinding||this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),targetEvents.push(...boundEvents.map(e=>BoundEventAst.fromParsedEvent(e))),hasBinding}_normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}_parseVariable(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1?this._reportError('"-" is not allowed in variable names',sourceSpan):0===identifier.length&&this._reportError("Variable does not have a name",sourceSpan),targetVars.push(new VariableAst(identifier,value,sourceSpan))}_parseReference(identifier,value,sourceSpan,targetRefs){identifier.indexOf("-")>-1?this._reportError('"-" is not allowed in reference names',sourceSpan):0===identifier.length&&this._reportError("Reference does not have a name",sourceSpan),targetRefs.push(new ElementOrDirectiveRef(identifier,value,sourceSpan))}_parseAssignmentEvent(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,targetEvents){this._bindingParser.parseEvent(`${name}Change`,`${expression}=$event`,sourceSpan,valueSpan,targetMatchableAttrs,targetEvents)}_parseDirectives(selectorMatcher,elementCssSelector){const directives=compiler_newArray(this.directivesIndex.size);let matchElement=!1;return selectorMatcher.match(elementCssSelector,(selector,directive)=>{directives[this.directivesIndex.get(directive)]=directive,matchElement=matchElement||selector.hasElementSelector()}),{directives:directives.filter(dir=>!!dir),matchElement:matchElement}}_createDirectiveAsts(isTemplateElement,elementName,directives,props,elementOrDirectiveRefs,elementSourceSpan,targetReferences,targetBoundDirectivePropNames){const matchedReferences=new Set;let component=null;const directiveAsts=directives.map(directive=>{const sourceSpan=new ParseSourceSpan(elementSourceSpan.start,elementSourceSpan.end,`Directive ${identifierName(directive.type)}`);directive.isComponent&&(component=directive);const directiveProperties=[];let hostProperties=this._bindingParser.createDirectiveHostPropertyAsts(directive,elementName,sourceSpan).map(prop=>BoundElementPropertyAst.fromBoundProperty(prop));hostProperties=this._checkPropertiesInSchema(elementName,hostProperties);const parsedEvents=this._bindingParser.createDirectiveHostEventAsts(directive,sourceSpan);this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties,targetBoundDirectivePropNames),elementOrDirectiveRefs.forEach(elOrDirRef=>{(0===elOrDirRef.value.length&&directive.isComponent||elOrDirRef.isReferenceToDirective(directive))&&(targetReferences.push(new ReferenceAst(elOrDirRef.name,createTokenForReference(directive.type.reference),elOrDirRef.value,elOrDirRef.sourceSpan)),matchedReferences.add(elOrDirRef.name))});const hostEvents=parsedEvents.map(e=>BoundEventAst.fromParsedEvent(e)),contentQueryStartId=this.contentQueryStartId;return this.contentQueryStartId+=directive.queries.length,new DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,contentQueryStartId,sourceSpan)});return elementOrDirectiveRefs.forEach(elOrDirRef=>{if(elOrDirRef.value.length>0)matchedReferences.has(elOrDirRef.name)||this._reportError(`There is no directive with "exportAs" set to "${elOrDirRef.value}"`,elOrDirRef.sourceSpan);else if(!component){let refToken=null;isTemplateElement&&(refToken=createTokenForExternalReference(this.reflector,Identifiers.TemplateRef)),targetReferences.push(new ReferenceAst(elOrDirRef.name,refToken,elOrDirRef.value,elOrDirRef.sourceSpan))}}),directiveAsts}_createDirectivePropertyAsts(directiveProperties,boundProps,targetBoundDirectiveProps,targetBoundDirectivePropNames){if(directiveProperties){const boundPropsByName=new Map;boundProps.forEach(boundProp=>{const prevValue=boundPropsByName.get(boundProp.name);prevValue&&!prevValue.isLiteral||boundPropsByName.set(boundProp.name,boundProp)}),Object.keys(directiveProperties).forEach(dirProp=>{const elProp=directiveProperties[dirProp],boundProp=boundPropsByName.get(elProp);boundProp&&(targetBoundDirectivePropNames.add(boundProp.name),isEmptyExpression(boundProp.expression)||targetBoundDirectiveProps.push(new BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan)))})}}_createElementPropertyAsts(elementName,props,boundDirectivePropNames){const boundElementProps=[];return props.forEach(prop=>{if(!prop.isLiteral&&!boundDirectivePropNames.has(prop.name)){const boundProp=this._bindingParser.createBoundElementProperty(elementName,prop);boundElementProps.push(BoundElementPropertyAst.fromBoundProperty(boundProp))}}),this._checkPropertiesInSchema(elementName,boundElementProps)}_findComponentDirectives(directives){return directives.filter(directive=>directive.directive.isComponent)}_findComponentDirectiveNames(directives){return this._findComponentDirectives(directives).map(directive=>identifierName(directive.directive.type))}_assertOnlyOneComponent(directives,sourceSpan){const componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${componentTypeNames.join(",")}`,sourceSpan)}_assertElementExists(matchElement,element){const elName=element.name.replace(/^:xhtml:/,"");if(!matchElement&&!this._schemaRegistry.hasElement(elName,this._schemas)){let errorMsg=`'${elName}' is not a known element:\n`;errorMsg+=`1. If '${elName}' is an Angular component, then verify that it is part of this module.\n`,elName.indexOf("-")>-1?errorMsg+=`2. If '${elName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:errorMsg+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(errorMsg,element.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,sourceSpan){const componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError(`Components on an embedded template: ${componentTypeNames.join(",")}`,sourceSpan),elementProps.forEach(prop=>{this._reportError(`Property binding ${prop.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,sourceSpan)})}_assertAllEventsPublishedByDirectives(directives,events){const allDirectiveEvents=new Set;directives.forEach(directive=>{Object.keys(directive.directive.outputs).forEach(k=>{const eventName=directive.directive.outputs[k];allDirectiveEvents.add(eventName)})}),events.forEach(event=>{null==event.target&&allDirectiveEvents.has(event.name)||this._reportError(`Event binding ${event.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,event.sourceSpan)})}_checkPropertiesInSchema(elementName,boundProps){return boundProps.filter(boundProp=>{if(0===boundProp.type&&!this._schemaRegistry.hasProperty(elementName,boundProp.name,this._schemas)){let errorMsg=`Can't bind to '${boundProp.name}' since it isn't a known property of '${elementName}'.`;elementName.startsWith("ng-")?errorMsg+=`\n1. If '${boundProp.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":elementName.indexOf("-")>-1&&(errorMsg+=`\n1. If '${elementName}' is an Angular component and it has '${boundProp.name}' input, then verify that it is part of this module.`+`\n2. If '${elementName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(errorMsg,boundProp.sourceSpan)}return!isEmptyExpression(boundProp.value)})}_reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this._targetErrors.push(new ParseError(sourceSpan,message,level))}}class ElementOrDirectiveRef{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}isReferenceToDirective(directive){return-1!==(exportAs=directive.exportAs,exportAs?exportAs.split(",").map(e=>e.trim()):[]).indexOf(this.value);var exportAs}}class ElementContext{constructor(isTemplateElement,_ngContentIndexMatcher,_wildcardNgContentIndex,providerContext){this.isTemplateElement=isTemplateElement,this._ngContentIndexMatcher=_ngContentIndexMatcher,this._wildcardNgContentIndex=_wildcardNgContentIndex,this.providerContext=providerContext}static create(isTemplateElement,directives,providerContext){const matcher=new SelectorMatcher;let wildcardNgContentIndex=null;const component=directives.find(directive=>directive.directive.isComponent);if(component){const ngContentSelectors=component.directive.template.ngContentSelectors;for(let i=0;i<ngContentSelectors.length;i++){"*"===ngContentSelectors[i]?wildcardNgContentIndex=i:matcher.addSelectables(CssSelector.parse(ngContentSelectors[i]),i)}}return new ElementContext(isTemplateElement,matcher,wildcardNgContentIndex,providerContext)}findNgContentIndex(selector){const ngContentIndices=[];return this._ngContentIndexMatcher.match(selector,(selector,ngContentIndex)=>{ngContentIndices.push(ngContentIndex)}),ngContentIndices.sort(),null!=this._wildcardNgContentIndex&&ngContentIndices.push(this._wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null}}function createElementCssSelector(elementName,attributes){const cssSelector=new CssSelector,elNameNoNs=splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(let i=0;i<attributes.length;i++){const attrName=attributes[i][0],attrNameNoNs=splitNsName(attrName)[1],attrValue=attributes[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),"class"==attrName.toLowerCase()){attrValue.trim().split(/\s+/g).forEach(className=>cssSelector.addClassName(className))}}return cssSelector}const EMPTY_ELEMENT_CONTEXT=new ElementContext(!0,new SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new class{visitElement(ast,parent){const preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;const attrNameAndValues=ast.attrs.map(attr=>[attr.name,attr.value]),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=parent.findNgContentIndex(selector),children=visitAll$1(this,ast.children,EMPTY_ELEMENT_CONTEXT);return new ElementAst(ast.name,visitAll$1(this,ast.attrs),[],[],[],[],[],!1,[],children,ngContentIndex,ast.sourceSpan,ast.endSourceSpan)}visitComment(comment,context){return null}visitAttribute(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)}visitText(text,parent){const ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR());return new TextAst(text.value,ngContentIndex,text.sourceSpan)}visitExpansion(expansion,context){return expansion}visitExpansionCase(expansionCase,context){return expansionCase}};function _isEmptyTextNode(node){return node instanceof Text$3&&0==node.value.trim().length}function removeSummaryDuplicates(items){const map=new Map;return items.forEach(item=>{map.get(item.type.reference)||map.set(item.type.reference,item)}),Array.from(map.values())}function isEmptyExpression(ast){return ast instanceof ASTWithSource&&(ast=ast.ast),ast instanceof EmptyExpr}function stripUnnecessaryQuotes(value){const qS=value.charCodeAt(0);if(qS==value.charCodeAt(value.length-1)&&(39==qS||34==qS)){const tempValue=value.substring(1,value.length-1);-1==tempValue.indexOf("'")&&-1==tempValue.indexOf('"')&&(value=tempValue)}return value}function hyphenate(value){return value.replace(/[a-z][A-Z]/g,v=>v.charAt(0)+"-"+v.charAt(1)).toLowerCase()}class StylingBuilder{constructor(_directiveExpr){this._directiveExpr=_directiveExpr,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(input){let binding=null,name=input.name;switch(input.type){case 0:binding=this.registerInputBasedOnName(name,input.value,input.sourceSpan);break;case 3:binding=this.registerStyleInput(name,!1,input.value,input.sourceSpan,input.unit);break;case 2:binding=this.registerClassInput(name,!1,input.value,input.sourceSpan)}return!!binding}registerInputBasedOnName(name,expression,sourceSpan){let binding=null;const prefix=name.substring(0,6),isStyle="style"===name||"style."===prefix||"style!"===prefix;if(isStyle||!isStyle&&("class"===name||"class."===prefix||"class!"===prefix)){const isMapBased="."!==name.charAt(5),property=name.substr(isMapBased?5:6);binding=isStyle?this.registerStyleInput(property,isMapBased,expression,sourceSpan):this.registerClassInput(property,isMapBased,expression,sourceSpan)}return binding}registerStyleInput(name,isMapBased,value,sourceSpan,unit){if(isEmptyExpression(value))return null;name=hyphenate(name);const{property:property,hasOverrideFlag:hasOverrideFlag,unit:bindingUnit}=parseProperty(name),entry={name:property,sanitize:!property||isStyleSanitizable(property),unit:unit||bindingUnit,value:value,sourceSpan:sourceSpan,hasOverrideFlag:hasOverrideFlag};return isMapBased?this._styleMapInput=entry:((this._singleStyleInputs=this._singleStyleInputs||[]).push(entry),registerIntoMap(this._stylesIndex,property)),this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this._checkForPipes(value),this.hasBindings=!0,entry}registerClassInput(name,isMapBased,value,sourceSpan){if(isEmptyExpression(value))return null;const{property:property,hasOverrideFlag:hasOverrideFlag}=parseProperty(name),entry={name:property,value:value,sourceSpan:sourceSpan,sanitize:!1,hasOverrideFlag:hasOverrideFlag,unit:null};if(isMapBased){if(this._classMapInput)throw new Error("[class] and [className] bindings cannot be used on the same element simultaneously");this._classMapInput=entry}else(this._singleClassInputs=this._singleClassInputs||[]).push(entry),registerIntoMap(this._classesIndex,property);return this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this._checkForPipes(value),this.hasBindings=!0,entry}_checkForPipes(value){value instanceof ASTWithSource&&value.ast instanceof BindingPipe&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(value){this._initialStyleValues=function(value){const styles=[];let i=0,parenDepth=0,quote=0,valueStart=0,propStart=0,currentProp=null,valueHasQuotes=!1;for(;i<value.length;){switch(value.charCodeAt(i++)){case 40:parenDepth++;break;case 41:parenDepth--;break;case 39:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=39:39===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 34:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=34:34===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 58:currentProp||0!==parenDepth||0!==quote||(currentProp=hyphenate(value.substring(propStart,i-1).trim()),valueStart=i);break;case 59:if(currentProp&&valueStart>0&&0===parenDepth&&0===quote){const styleVal=value.substring(valueStart,i-1).trim();styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal),propStart=i,valueStart=0,currentProp=null,valueHasQuotes=!1}}}if(currentProp&&valueStart){const styleVal=value.substr(valueStart).trim();styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal)}return styles}(value),this._hasInitialValues=!0}registerClassAttr(value){this._initialClassValues=value.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(attrs){if(this._initialClassValues.length){attrs.push(compiler_literal(1));for(let i=0;i<this._initialClassValues.length;i++)attrs.push(compiler_literal(this._initialClassValues[i]))}if(this._initialStyleValues.length){attrs.push(compiler_literal(2));for(let i=0;i<this._initialStyleValues.length;i+=2)attrs.push(compiler_literal(this._initialStyleValues[i]),compiler_literal(this._initialStyleValues[i+1]))}}assignHostAttrs(attrs,definitionMap){this._directiveExpr&&(attrs.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(attrs),definitionMap.set("hostAttrs",literalArr(attrs)))}buildClassMapInstruction(valueConverter){return this._classMapInput?this._buildMapBasedInstruction(valueConverter,!0,this._classMapInput):null}buildStyleMapInstruction(valueConverter){return this._styleMapInput?this._buildMapBasedInstruction(valueConverter,!1,this._styleMapInput):null}_buildMapBasedInstruction(valueConverter,isClassBased,stylingInput){let totalBindingSlotsRequired=2;const mapValue=stylingInput.value.visit(valueConverter);let reference;return mapValue instanceof Interpolation?(totalBindingSlotsRequired+=mapValue.expressions.length,reference=isClassBased?function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.classMap;case 3:return Identifiers$1.classMapInterpolate1;case 5:return Identifiers$1.classMapInterpolate2;case 7:return Identifiers$1.classMapInterpolate3;case 9:return Identifiers$1.classMapInterpolate4;case 11:return Identifiers$1.classMapInterpolate5;case 13:return Identifiers$1.classMapInterpolate6;case 15:return Identifiers$1.classMapInterpolate7;case 17:return Identifiers$1.classMapInterpolate8;default:return Identifiers$1.classMapInterpolateV}}(mapValue):function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.styleMap;case 3:return Identifiers$1.styleMapInterpolate1;case 5:return Identifiers$1.styleMapInterpolate2;case 7:return Identifiers$1.styleMapInterpolate3;case 9:return Identifiers$1.styleMapInterpolate4;case 11:return Identifiers$1.styleMapInterpolate5;case 13:return Identifiers$1.styleMapInterpolate6;case 15:return Identifiers$1.styleMapInterpolate7;case 17:return Identifiers$1.styleMapInterpolate8;default:return Identifiers$1.styleMapInterpolateV}}(mapValue)):reference=isClassBased?Identifiers$1.classMap:Identifiers$1.styleMap,{reference:reference,calls:[{supportsInterpolation:!0,sourceSpan:stylingInput.sourceSpan,allocateBindingSlots:totalBindingSlotsRequired,params:convertFn=>{const convertResult=convertFn(mapValue);return Array.isArray(convertResult)?convertResult:[convertResult]}}]}}_buildSingleInputs(reference,inputs,valueConverter,getInterpolationExpressionFn,isClassBased){const instructions=[];return inputs.forEach(input=>{const previousInstruction=instructions[instructions.length-1],value=input.value.visit(valueConverter);let referenceForCall=reference,totalBindingSlotsRequired=2;value instanceof Interpolation&&(totalBindingSlotsRequired+=value.expressions.length,getInterpolationExpressionFn&&(referenceForCall=getInterpolationExpressionFn(value)));const call={sourceSpan:input.sourceSpan,allocateBindingSlots:totalBindingSlotsRequired,supportsInterpolation:!!getInterpolationExpressionFn,params:convertFn=>{const params=[];params.push(compiler_literal(input.name));const convertResult=convertFn(value);return Array.isArray(convertResult)?params.push(...convertResult):params.push(convertResult),isClassBased||(input.unit?params.push(compiler_literal(input.unit)):input.sanitize&&params.push(importExpr(Identifiers$1.defaultStyleSanitizer))),params}};previousInstruction&&previousInstruction.reference===referenceForCall?previousInstruction.calls.push(call):instructions.push({reference:referenceForCall,calls:[call]})}),instructions}_buildClassInputs(valueConverter){return this._singleClassInputs?this._buildSingleInputs(Identifiers$1.classProp,this._singleClassInputs,valueConverter,null,!0):[]}_buildStyleInputs(valueConverter){return this._singleStyleInputs?this._buildSingleInputs(Identifiers$1.styleProp,this._singleStyleInputs,valueConverter,getStylePropInterpolationExpression,!1):[]}buildUpdateLevelInstructions(valueConverter){const instructions=[];if(this.hasBindings){const styleMapInstruction=this.buildStyleMapInstruction(valueConverter);styleMapInstruction&&instructions.push(styleMapInstruction);const classMapInstruction=this.buildClassMapInstruction(valueConverter);classMapInstruction&&instructions.push(classMapInstruction),instructions.push(...this._buildStyleInputs(valueConverter)),instructions.push(...this._buildClassInputs(valueConverter))}return instructions}}function registerIntoMap(map,key){map.has(key)||map.set(key,map.size)}function isStyleSanitizable(prop){return"background-image"===prop||"backgroundImage"===prop||"background"===prop||"border-image"===prop||"borderImage"===prop||"border-image-source"===prop||"borderImageSource"===prop||"filter"===prop||"list-style"===prop||"listStyle"===prop||"list-style-image"===prop||"listStyleImage"===prop||"clip-path"===prop||"clipPath"===prop}function parseProperty(name){let hasOverrideFlag=!1;const overrideIndex=name.indexOf("!important");-1!==overrideIndex&&(name=overrideIndex>0?name.substring(0,overrideIndex):"",hasOverrideFlag=!0);let unit="",property=name;const unitIndex=name.lastIndexOf(".");return unitIndex>0&&(unit=name.substr(unitIndex+1),property=name.substring(0,unitIndex)),{property:property,unit:unit,hasOverrideFlag:hasOverrideFlag}}function getStylePropInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.styleProp;case 3:return Identifiers$1.stylePropInterpolate1;case 5:return Identifiers$1.stylePropInterpolate2;case 7:return Identifiers$1.stylePropInterpolate3;case 9:return Identifiers$1.stylePropInterpolate4;case 11:return Identifiers$1.stylePropInterpolate5;case 13:return Identifiers$1.stylePropInterpolate6;case 15:return Identifiers$1.stylePropInterpolate7;case 17:return Identifiers$1.stylePropInterpolate8;default:return Identifiers$1.stylePropInterpolateV}}var TokenType$1;!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number",TokenType[TokenType.Error=6]="Error"}(TokenType$1||(TokenType$1={}));const KEYWORDS=["var","let","as","null","undefined","true","false","if","else","this"];class Lexer{tokenize(text){const scanner=new _Scanner(text),tokens=[];let token=scanner.scanToken();for(;null!=token;)tokens.push(token),token=scanner.scanToken();return tokens}}class Token$1{constructor(index,end,type,numValue,strValue){this.index=index,this.end=end,this.type=type,this.numValue=numValue,this.strValue=strValue}isCharacter(code){return this.type==TokenType$1.Character&&this.numValue==code}isNumber(){return this.type==TokenType$1.Number}isString(){return this.type==TokenType$1.String}isOperator(operator){return this.type==TokenType$1.Operator&&this.strValue==operator}isIdentifier(){return this.type==TokenType$1.Identifier}isKeyword(){return this.type==TokenType$1.Keyword}isKeywordLet(){return this.type==TokenType$1.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==TokenType$1.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==TokenType$1.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==TokenType$1.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==TokenType$1.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==TokenType$1.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==TokenType$1.Keyword&&"this"==this.strValue}isError(){return this.type==TokenType$1.Error}toNumber(){return this.type==TokenType$1.Number?this.numValue:-1}toString(){switch(this.type){case TokenType$1.Character:case TokenType$1.Identifier:case TokenType$1.Keyword:case TokenType$1.Operator:case TokenType$1.String:case TokenType$1.Error:return this.strValue;case TokenType$1.Number:return this.numValue.toString();default:return null}}}function newCharacterToken(index,end,code){return new Token$1(index,end,TokenType$1.Character,code,String.fromCharCode(code))}function newOperatorToken(index,end,text){return new Token$1(index,end,TokenType$1.Operator,0,text)}const EOF=new Token$1(-1,-1,TokenType$1.Character,0,"");class _Scanner{constructor(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const input=this.input,length=this.length;let peek=this.peek,index=this.index;for(;peek<=32;){if(++index>=length){peek=0;break}peek=input.charCodeAt(index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);const start=index;switch(peek){case 46:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(start,peek);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(start,String.fromCharCode(peek));case 63:return this.scanComplexOperator(start,"?",46,".");case 60:case 62:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=");case 33:case 61:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=",61,"=");case 38:return this.scanComplexOperator(start,"&",38,"&");case 124:return this.scanComplexOperator(start,"|",124,"|");case 160:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(peek)}]`,0)}scanCharacter(start,code){return this.advance(),newCharacterToken(start,this.index,code)}scanOperator(start,str){return this.advance(),newOperatorToken(start,this.index,str)}scanComplexOperator(start,one,twoCode,two,threeCode,three){this.advance();let str=one;return this.peek==twoCode&&(this.advance(),str+=two),null!=threeCode&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,this.index,str)}scanIdentifier(){const start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();const str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?(index=start,end=this.index,text=str,new Token$1(index,end,TokenType$1.Keyword,0,text)):function(index,end,text){return new Token$1(index,end,TokenType$1.Identifier,0,text)}(start,this.index,str);var index,end,text}scanNumber(start){let simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(46==this.peek)simple=!1;else{if(101!=(code=this.peek)&&69!=code)break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);simple=!1}this.advance()}var code;const str=this.input.substring(start,this.index),value=simple?function(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}(str):parseFloat(str);return index=start,end=this.index,n=value,new Token$1(index,end,TokenType$1.Number,n,"");var index,end,n}scanString(){const start=this.index,quote=this.peek;this.advance();let buffer="",marker=this.index;const input=this.input;for(;this.peek!=quote;)if(92==this.peek){let unescapedCode;if(buffer+=input.substring(marker,this.index),this.advance(),this.peek=this.peek,117==this.peek){const hex=input.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(hex))return this.error(`Invalid unicode escape [\\u${hex}]`,0);unescapedCode=parseInt(hex,16);for(let i=0;i<5;i++)this.advance()}else unescapedCode=compiler_unescape(this.peek),this.advance();buffer+=String.fromCharCode(unescapedCode),marker=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const last=input.substring(marker,this.index);return this.advance(),index=start,end=this.index,text=buffer+last,new Token$1(index,end,TokenType$1.String,0,text);var index,end,text}error(message,offset){const position=this.index+offset;return function(index,end,message){return new Token$1(index,end,TokenType$1.Error,0,message)}(position,this.index,`Lexer Error: ${message} at column ${position} in expression [${this.input}]`)}}function isIdentifierStart(code){return 97<=code&&code<=122||65<=code&&code<=90||95==code||36==code}function isIdentifierPart(code){return isAsciiLetter(code)||isDigit(code)||95==code||36==code}function isExponentSign(code){return 45==code||43==code}function compiler_unescape(code){switch(code){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return code}}class SplitInterpolation{constructor(strings,expressions,offsets){this.strings=strings,this.expressions=expressions,this.offsets=offsets}}class TemplateBindingParseResult{constructor(templateBindings,warnings,errors){this.templateBindings=templateBindings,this.warnings=warnings,this.errors=errors}}const defaultInterpolateRegExp=_createInterpolateRegExp(DEFAULT_INTERPOLATION_CONFIG);function _getInterpolateRegExp(config){return config===DEFAULT_INTERPOLATION_CONFIG?defaultInterpolateRegExp:_createInterpolateRegExp(config)}function _createInterpolateRegExp(config){const pattern=escapeRegExp(config.start)+"([\\s\\S]*?)"+escapeRegExp(config.end);return new RegExp(pattern,"g")}class Parser$1{constructor(_lexer){this._lexer=_lexer,this.errors=[],this.simpleExpressionChecker=SimpleExpressionChecker}parseAction(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){this._checkNoInterpolation(input,location,interpolationConfig);const sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(this._stripComments(input)),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!0,this.errors,input.length-sourceToLex.length).parseChain();return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}parseBinding(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig);return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}checkSimpleExpression(ast){const checker=new this.simpleExpressionChecker;return ast.visit(checker),checker.errors}parseSimpleBinding(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig),errors=this.checkSimpleExpression(ast);return errors.length>0&&this._reportError(`Host binding expression cannot contain ${errors.join(" ")}`,input,location),new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}_reportError(message,input,errLocation,ctxLocation){this.errors.push(new ParserError(message,input,errLocation,ctxLocation))}_parseBindingAst(input,location,absoluteOffset,interpolationConfig){const quote=this._parseQuote(input,location,absoluteOffset);if(null!=quote)return quote;this._checkNoInterpolation(input,location,interpolationConfig);const sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex);return new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,input.length-sourceToLex.length).parseChain()}_parseQuote(input,location,absoluteOffset){if(null==input)return null;const prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;const prefix=input.substring(0,prefixSeparatorIndex).trim();if(!function(input){if(0==input.length)return!1;const scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();0!==scanner.peek;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}(prefix))return null;const uninterpretedExpression=input.substring(prefixSeparatorIndex+1),span=new ParseSpan(0,input.length);return new Quote(span,span.toAbsolute(absoluteOffset),prefix,uninterpretedExpression,location)}parseTemplateBindings(templateKey,templateValue,templateUrl,absoluteOffset){const tokens=this._lexer.tokenize(templateValue);return new _ParseAST(templateValue,templateUrl,absoluteOffset,tokens,templateValue.length,!1,this.errors,0).parseTemplateBindings(templateKey)}parseInterpolation(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const split=this.splitInterpolation(input,location,interpolationConfig);if(null==split)return null;const expressions=[];for(let i=0;i<split.expressions.length;++i){const expressionText=split.expressions[i],sourceToLex=this._stripComments(expressionText),tokens=this._lexer.tokenize(sourceToLex),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,split.offsets[i]+(expressionText.length-sourceToLex.length)).parseChain();expressions.push(ast)}const span=new ParseSpan(0,null==input?0:input.length);return new ASTWithSource(new Interpolation(span,span.toAbsolute(absoluteOffset),split.strings,expressions),input,location,absoluteOffset,this.errors)}splitInterpolation(input,location,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const regexp=_getInterpolateRegExp(interpolationConfig),parts=input.split(regexp);if(parts.length<=1)return null;const strings=[],expressions=[],offsets=[];let offset=0;for(let i=0;i<parts.length;i++){const part=parts[i];i%2==0?(strings.push(part),offset+=part.length):part.trim().length>0?(offset+=interpolationConfig.start.length,expressions.push(part),offsets.push(offset),offset+=part.length+interpolationConfig.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",input,`at column ${this._findInterpolationErrorColumn(parts,i,interpolationConfig)} in`,location),expressions.push("$implicit"),offsets.push(offset))}return new SplitInterpolation(strings,expressions,offsets)}wrapLiteralPrimitive(input,location,absoluteOffset){const span=new ParseSpan(0,null==input?0:input.length);return new ASTWithSource(new LiteralPrimitive(span,span.toAbsolute(absoluteOffset),input),input,location,absoluteOffset,this.errors)}_stripComments(input){const i=this._commentStart(input);return null!=i?input.substring(0,i).trim():input}_commentStart(input){let outerQuote=null;for(let i=0;i<input.length-1;i++){const char=input.charCodeAt(i),nextChar=input.charCodeAt(i+1);if(47===char&&47==nextChar&&null==outerQuote)return i;outerQuote===char?outerQuote=null:null==outerQuote&&(39===(code=char)||34===code||96===code)&&(outerQuote=char)}var code;return null}_checkNoInterpolation(input,location,interpolationConfig){const regexp=_getInterpolateRegExp(interpolationConfig),parts=input.split(regexp);parts.length>1&&this._reportError(`Got interpolation (${interpolationConfig.start}${interpolationConfig.end}) where expression was expected`,input,`at column ${this._findInterpolationErrorColumn(parts,1,interpolationConfig)} in`,location)}_findInterpolationErrorColumn(parts,partInErrIdx,interpolationConfig){let errLocation="";for(let j=0;j<partInErrIdx;j++)errLocation+=j%2==0?parts[j]:`${interpolationConfig.start}${parts[j]}${interpolationConfig.end}`;return errLocation.length}}class IvyParser extends Parser$1{constructor(){super(...arguments),this.simpleExpressionChecker=IvySimpleExpressionChecker}}class _ParseAST{constructor(input,location,absoluteOffset,tokens,inputLength,parseAction,errors,offset){this.input=input,this.location=location,this.absoluteOffset=absoluteOffset,this.tokens=tokens,this.inputLength=inputLength,this.parseAction=parseAction,this.errors=errors,this.offset=offset,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.sourceSpanCache=new Map,this.index=0}peek(offset){const i=this.index+offset;return i<this.tokens.length?this.tokens[i]:EOF}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(start){return new ParseSpan(start,this.inputIndex)}sourceSpan(start){const serial=`${start}@${this.inputIndex}`;return this.sourceSpanCache.has(serial)||this.sourceSpanCache.set(serial,this.span(start).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(serial)}advance(){this.index++}consumeOptionalCharacter(code){return!!this.next.isCharacter(code)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(code){this.consumeOptionalCharacter(code)||this.error(`Missing expected ${String.fromCharCode(code)}`)}consumeOptionalOperator(op){return!!this.next.isOperator(op)&&(this.advance(),!0)}expectOperator(operator){this.consumeOptionalOperator(operator)||this.error(`Missing expected operator ${operator}`)}expectIdentifierOrKeyword(){const n=this.next;return n.isIdentifier()||n.isKeyword()?(this.advance(),n.toString()):(this.error(`Unexpected token ${n}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()?(this.advance(),n.toString()):(this.error(`Unexpected token ${n}, expected identifier, keyword, or string`),"")}parseChain(){const exprs=[],start=this.inputIndex;for(;this.index<this.tokens.length;){const expr=this.parsePipe();if(exprs.push(expr),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==exprs.length?new EmptyExpr(this.span(start),this.sourceSpan(start)):1==exprs.length?exprs[0]:new Chain(this.span(start),this.sourceSpan(start),exprs)}parsePipe(){let result=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const nameStart=this.inputIndex,name=this.expectIdentifierOrKeyword(),nameSpan=this.sourceSpan(nameStart),args=[];for(;this.consumeOptionalCharacter(58);)args.push(this.parseExpression());const{start:start}=result.span;result=new BindingPipe(this.span(start),this.sourceSpan(start),result,name,args,nameSpan)}while(this.consumeOptionalOperator("|"))}return result}parseExpression(){return this.parseConditional()}parseConditional(){const start=this.inputIndex,result=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const yes=this.parsePipe();let no;if(this.consumeOptionalCharacter(58))no=this.parsePipe();else{const end=this.inputIndex,expression=this.input.substring(start,end);this.error(`Conditional expression ${expression} requires all 3 expressions`),no=new EmptyExpr(this.span(start),this.sourceSpan(start))}return new Conditional(this.span(start),this.sourceSpan(start),result,yes,no)}return result}parseLogicalOr(){let result=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const right=this.parseLogicalAnd(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),"||",result,right)}return result}parseLogicalAnd(){let result=this.parseEquality();for(;this.consumeOptionalOperator("&&");){const right=this.parseEquality(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),"&&",result,right)}return result}parseEquality(){let result=this.parseRelational();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"==":case"===":case"!=":case"!==":this.advance();const right=this.parseRelational(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseRelational(){let result=this.parseAdditive();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"<":case">":case"<=":case">=":this.advance();const right=this.parseAdditive(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseAdditive(){let result=this.parseMultiplicative();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"+":case"-":this.advance();let right=this.parseMultiplicative();const{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseMultiplicative(){let result=this.parsePrefix();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"*":case"%":case"/":this.advance();let right=this.parsePrefix();const{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parsePrefix(){if(this.next.type==TokenType$1.Operator){const start=this.inputIndex,operator=this.next.strValue,literalSpan=new ParseSpan(start,start),literalSourceSpan=literalSpan.toAbsolute(this.absoluteOffset);let result;switch(operator){case"+":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),this.sourceSpan(start),"-",result,new LiteralPrimitive(literalSpan,literalSourceSpan,0));case"-":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),this.sourceSpan(start),operator,new LiteralPrimitive(literalSpan,literalSourceSpan,0),result);case"!":return this.advance(),result=this.parsePrefix(),new PrefixNot(this.span(start),this.sourceSpan(start),result)}}return this.parseCallChain()}parseCallChain(){let result=this.parsePrimary();const resultStart=result.span.start;for(;;)if(this.consumeOptionalCharacter(46))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.consumeOptionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const key=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("=")){const value=this.parseConditional();result=new KeyedWrite(this.span(resultStart),this.sourceSpan(resultStart),result,key,value)}else result=new KeyedRead(this.span(resultStart),this.sourceSpan(resultStart),result,key)}else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const args=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),result=new FunctionCall(this.span(resultStart),this.sourceSpan(resultStart),result,args)}else{if(!this.consumeOptionalOperator("!"))return result;result=new NonNullAssert(this.span(resultStart),this.sourceSpan(resultStart),result)}}parsePrimary(){const start=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const result=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),result}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),void 0);if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!0);if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!1);if(this.next.isKeywordThis())return this.advance(),new ImplicitReceiver(this.span(start),this.sourceSpan(start));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const elements=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new LiteralArray(this.span(start),this.sourceSpan(start),elements)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(start),this.sourceSpan(start)),!1);if(this.next.isNumber()){const value=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),value)}if(this.next.isString()){const literalValue=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),literalValue)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new EmptyExpr(this.span(start),this.sourceSpan(start))):(this.error(`Unexpected token ${this.next}`),new EmptyExpr(this.span(start),this.sourceSpan(start)))}parseExpressionList(terminator){const result=[];if(!this.next.isCharacter(terminator))do{result.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return result}parseLiteralMap(){const keys=[],values=[],start=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{const quoted=this.next.isString(),key=this.expectIdentifierOrKeywordOrString();keys.push({key:key,quoted:quoted}),this.expectCharacter(58),values.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new LiteralMap(this.span(start),this.sourceSpan(start),keys,values)}parseAccessMemberOrMethodCall(receiver,isSafe=!1){const start=receiver.span.start,id=this.expectIdentifierOrKeyword();if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const args=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;const span=this.span(start),sourceSpan=this.sourceSpan(start);return isSafe?new SafeMethodCall(span,sourceSpan,receiver,id,args):new MethodCall(span,sourceSpan,receiver,id,args)}if(isSafe)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr(this.span(start),this.sourceSpan(start))):new SafePropertyRead(this.span(start),this.sourceSpan(start),receiver,id);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new EmptyExpr(this.span(start),this.sourceSpan(start));const value=this.parseConditional();return new PropertyWrite(this.span(start),this.sourceSpan(start),receiver,id,value)}this.span(start);return new PropertyRead(this.span(start),this.sourceSpan(start),receiver,id)}parseCallArguments(){if(this.next.isCharacter(41))return[];const positionals=[];do{positionals.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return positionals}expectTemplateBindingKey(){let result="",operatorFound=!1;const start=this.inputIndex;do{result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.consumeOptionalOperator("-"),operatorFound&&(result+="-")}while(operatorFound);return{key:result,keySpan:new ParseSpan(start,start+result.length)}}parseTemplateBindings(templateKey){const bindings=[];for(bindings.push(...this.parseDirectiveKeywordBindings(templateKey,new ParseSpan(0,templateKey.length),this.absoluteOffset));this.index<this.tokens.length;){const letBinding=this.parseLetBinding();if(letBinding)bindings.push(letBinding);else{const{key:key,keySpan:keySpan}=this.expectTemplateBindingKey(),binding=this.parseAsBinding(key,keySpan,this.absoluteOffset);if(binding)bindings.push(binding);else{const actualKey=templateKey+key[0].toUpperCase()+key.substring(1);bindings.push(...this.parseDirectiveKeywordBindings(actualKey,keySpan,this.absoluteOffset))}}this.consumeStatementTerminator()}return new TemplateBindingParseResult(bindings,[],this.errors)}parseDirectiveKeywordBindings(key,keySpan,absoluteOffset){var _a;const bindings=[];this.consumeOptionalCharacter(58);const valueExpr=this.getDirectiveBoundTarget(),span=new ParseSpan(keySpan.start,this.inputIndex);bindings.push(new TemplateBinding(span,span.toAbsolute(absoluteOffset),key,!1,(null===(_a=valueExpr)||void 0===_a?void 0:_a.source)||"",valueExpr));const asBinding=this.parseAsBinding(key,keySpan,absoluteOffset);return asBinding&&bindings.push(asBinding),this.consumeStatementTerminator(),bindings}getDirectiveBoundTarget(){if(this.next===EOF||this.peekKeywordAs()||this.peekKeywordLet())return null;const ast=this.parsePipe(),{start:start,end:end}=ast.span,value=this.input.substring(start,end);return new ASTWithSource(ast,value,this.location,this.absoluteOffset+start,this.errors)}parseAsBinding(value,valueSpan,absoluteOffset){if(!this.peekKeywordAs())return null;this.advance();const{key:key}=this.expectTemplateBindingKey(),valueAst=new AST(valueSpan,valueSpan.toAbsolute(absoluteOffset)),valueExpr=new ASTWithSource(valueAst,value,this.location,absoluteOffset+valueSpan.start,this.errors),span=new ParseSpan(valueSpan.start,this.inputIndex);return new TemplateBinding(span,span.toAbsolute(absoluteOffset),key,!0,value,valueExpr)}parseLetBinding(){var _a;if(!this.peekKeywordLet())return null;const spanStart=this.inputIndex;this.advance();const{key:key}=this.expectTemplateBindingKey();let valueExpr=null;if(this.consumeOptionalOperator("=")){const{key:value,keySpan:valueSpan}=this.expectTemplateBindingKey(),ast=new AST(valueSpan,valueSpan.toAbsolute(this.absoluteOffset));valueExpr=new ASTWithSource(ast,value,this.location,this.absoluteOffset+valueSpan.start,this.errors)}const spanEnd=this.inputIndex,span=new ParseSpan(spanStart,spanEnd);return new TemplateBinding(span,span.toAbsolute(this.absoluteOffset),key,!0,(null===(_a=valueExpr)||void 0===_a?void 0:_a.source)||"$implicit",valueExpr)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(message,index=null){this.errors.push(new ParserError(message,this.input,this.locationText(index),this.location)),this.skip()}locationText(index=null){return null==index&&(index=this.index),index<this.tokens.length?`at column ${this.tokens[index].index+1} in`:"at the end of the expression"}skip(){let n=this.next;for(;this.index<this.tokens.length&&!n.isCharacter(59)&&(this.rparensExpected<=0||!n.isCharacter(41))&&(this.rbracesExpected<=0||!n.isCharacter(125))&&(this.rbracketsExpected<=0||!n.isCharacter(93));)this.next.isError()&&this.errors.push(new ParserError(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),n=this.next}}class SimpleExpressionChecker{constructor(){this.errors=[]}visitImplicitReceiver(ast,context){}visitInterpolation(ast,context){}visitLiteralPrimitive(ast,context){}visitPropertyRead(ast,context){}visitPropertyWrite(ast,context){}visitSafePropertyRead(ast,context){}visitMethodCall(ast,context){}visitSafeMethodCall(ast,context){}visitFunctionCall(ast,context){}visitLiteralArray(ast,context){this.visitAll(ast.expressions)}visitLiteralMap(ast,context){this.visitAll(ast.values)}visitBinary(ast,context){}visitPrefixNot(ast,context){}visitNonNullAssert(ast,context){}visitConditional(ast,context){}visitPipe(ast,context){this.errors.push("pipes")}visitKeyedRead(ast,context){}visitKeyedWrite(ast,context){}visitAll(asts){return asts.map(node=>node.visit(this))}visitChain(ast,context){}visitQuote(ast,context){}}class IvySimpleExpressionChecker extends SimpleExpressionChecker{visitBinary(ast,context){ast.left.visit(this),ast.right.visit(this)}visitPrefixNot(ast,context){ast.expression.visit(this)}}let _SECURITY_SCHEMA;function SECURITY_SCHEMA(){return _SECURITY_SCHEMA||(_SECURITY_SCHEMA={},registerContext(compiler_SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(compiler_SecurityContext.STYLE,["*|style"]),registerContext(compiler_SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(compiler_SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_SECURITY_SCHEMA}function registerContext(ctx,specs){for(const spec of specs)_SECURITY_SCHEMA[spec.toLowerCase()]=ctx}class ElementSchemaRegistry{}const SCHEMA=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],_ATTR_TO_PROP={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class DomElementSchemaRegistry extends ElementSchemaRegistry{constructor(){super(),this._schema={},SCHEMA.forEach(encodedType=>{const type={},[strType,strProperties]=encodedType.split("|"),properties=strProperties.split(","),[typeNames,superName]=strType.split("^");typeNames.split(",").forEach(tag=>this._schema[tag.toLowerCase()]=type);const superType=superName&&this._schema[superName.toLowerCase()];superType&&Object.keys(superType).forEach(prop=>{type[prop]=superType[prop]}),properties.forEach(property=>{if(property.length>0)switch(property[0]){case"*":break;case"!":type[property.substring(1)]="boolean";break;case"#":type[property.substring(1)]="number";break;case"%":type[property.substring(1)]="object";break;default:type[property]="string"}})})}hasProperty(tagName,propName,schemaMetas){if(schemaMetas.some(schema=>schema.name===compiler_NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(compiler_isNgContainer(tagName)||isNgContent(tagName))return!1;if(schemaMetas.some(schema=>schema.name===compiler_CUSTOM_ELEMENTS_SCHEMA.name))return!0}return!!(this._schema[tagName.toLowerCase()]||this._schema.unknown)[propName]}hasElement(tagName,schemaMetas){if(schemaMetas.some(schema=>schema.name===compiler_NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(compiler_isNgContainer(tagName)||isNgContent(tagName))return!0;if(schemaMetas.some(schema=>schema.name===compiler_CUSTOM_ELEMENTS_SCHEMA.name))return!0}return!!this._schema[tagName.toLowerCase()]}securityContext(tagName,propName,isAttribute){isAttribute&&(propName=this.getMappedPropName(propName)),tagName=tagName.toLowerCase(),propName=propName.toLowerCase();let ctx=SECURITY_SCHEMA()[tagName+"|"+propName];return ctx||(ctx=SECURITY_SCHEMA()["*|"+propName],ctx||compiler_SecurityContext.NONE)}getMappedPropName(propName){return _ATTR_TO_PROP[propName]||propName}getDefaultComponentElementName(){return"ng-component"}validateProperty(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${name}' is disallowed for security reasons, `+`please use (${name.slice(2)})=...`+`\nIf '${name}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${name}' is disallowed for security reasons, `+`please use (${name.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(propName){return propName.replace(DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}normalizeAnimationStyleValue(camelCaseProp,userProvidedProp,val){let unit="";const strVal=val.toString().trim();let errorMsg=null;if(function(prop){switch(prop){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(camelCaseProp)&&0!==val&&"0"!==val)if("number"==typeof val)unit="px";else{const valAndSuffixMatch=val.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&(errorMsg=`Please provide a CSS unit value for ${userProvidedProp}:${val}`)}return{error:errorMsg,value:strVal+unit}}}const BIND_NAME_REGEXP$1=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function htmlAstToRender3Ast(htmlNodes,bindingParser){const transformer=new HtmlAstToIvyAst(bindingParser),ivyNodes=visitAll$1(transformer,htmlNodes),allErrors=bindingParser.errors.concat(transformer.errors),errors=allErrors.filter(e=>e.level===ParseErrorLevel.ERROR);if(errors.length>0){throw syntaxError(`Template parse errors:\n${errors.join("\n")}`,errors)}return{nodes:ivyNodes,errors:allErrors,styleUrls:transformer.styleUrls,styles:transformer.styles}}class HtmlAstToIvyAst{constructor(bindingParser){this.bindingParser=bindingParser,this.errors=[],this.styles=[],this.styleUrls=[],this.inI18nBlock=!1}visitElement(element){const isI18nRootElement=isI18nRootNode(element.i18n);isI18nRootElement&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",element.sourceSpan),this.inI18nBlock=!0);const preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT)return null;if(preparsedElement.type===PreparsedElementType.STYLE){const contents=1===(node=element).children.length&&node.children[0]instanceof Text$3?node.children[0].value:null;return null!==contents&&this.styles.push(contents),null}if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return this.styleUrls.push(preparsedElement.hrefAttr),null;var node;const isTemplateElement=isNgTemplate(element.name),parsedProperties=[],boundEvents=[],variables=[],references=[],attributes=[],i18nAttrsMeta={},templateParsedProperties=[],templateVariables=[];let elementHasInlineTemplate=!1;for(const attribute of element.attrs){let hasBinding=!1;const normalizedName=normalizeAttributeName(attribute.name);let isTemplateBinding=!1;if(attribute.i18n&&(i18nAttrsMeta[attribute.name]=attribute.i18n),normalizedName.startsWith("*")){elementHasInlineTemplate&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attribute.sourceSpan),isTemplateBinding=!0,elementHasInlineTemplate=!0;const templateValue=attribute.value,templateKey=normalizedName.substring("*".length),parsedVariables=[],absoluteValueOffset=attribute.valueSpan?attribute.valueSpan.start.offset:attribute.sourceSpan.start.offset+attribute.name.length;this.bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attribute.sourceSpan,absoluteValueOffset,[],templateParsedProperties,parsedVariables),templateVariables.push(...parsedVariables.map(v=>new Variable(v.name,v.value,v.sourceSpan)))}else hasBinding=this.parseAttribute(isTemplateElement,attribute,[],parsedProperties,boundEvents,variables,references);hasBinding||isTemplateBinding||attributes.push(this.visitAttribute(attribute))}const children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR$1:this,element.children);let parsedElement;if(preparsedElement.type===PreparsedElementType.NG_CONTENT){element.children&&!element.children.every(node=>function(node){return node instanceof Text$3&&0==node.value.trim().length}(node)||function(node){return node instanceof Comment}(node))&&this.reportError("<ng-content> element cannot have content.",element.sourceSpan);const selector=preparsedElement.selectAttr,attrs=element.attrs.map(attr=>this.visitAttribute(attr));parsedElement=new Content(selector,attrs,element.sourceSpan,element.i18n)}else if(isTemplateElement){const attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new Template(element.name,attributes,attrs.bound,boundEvents,[],children,references,variables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}else{const attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new compiler_Element(element.name,attributes,attrs.bound,boundEvents,children,references,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}if(elementHasInlineTemplate){const attrs=this.extractAttributes("ng-template",templateParsedProperties,i18nAttrsMeta),templateAttrs=[];attrs.literal.forEach(attr=>templateAttrs.push(attr)),attrs.bound.forEach(attr=>templateAttrs.push(attr));const hoistedAttrs=parsedElement instanceof compiler_Element?{attributes:parsedElement.attributes,inputs:parsedElement.inputs,outputs:parsedElement.outputs}:{attributes:[],inputs:[],outputs:[]},i18n=isTemplateElement&&isI18nRootElement?void 0:element.i18n;parsedElement=new Template(parsedElement.name,hoistedAttrs.attributes,hoistedAttrs.inputs,hoistedAttrs.outputs,templateAttrs,[parsedElement],[],templateVariables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,i18n)}return isI18nRootElement&&(this.inI18nBlock=!1),parsedElement}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,attribute.valueSpan,attribute.i18n)}visitText(text){return this._visitTextWithInterpolation(text.value,text.sourceSpan,text.i18n)}visitExpansion(expansion){if(!expansion.i18n)return null;if(!isI18nRootNode(expansion.i18n))throw new Error(`Invalid type "${expansion.i18n.constructor}" for "i18n" property of ${expansion.sourceSpan.toString()}. Expected a "Message"`);const message=expansion.i18n,vars={},placeholders={};return Object.keys(message.placeholders).forEach(key=>{const value=message.placeholders[key];if(key.startsWith("VAR_")){const config=this.bindingParser.interpolationConfig,wrapped=`${config.start}${value}${config.end}`;vars[key]=this._visitTextWithInterpolation(wrapped,expansion.sourceSpan)}else placeholders[key]=this._visitTextWithInterpolation(value,expansion.sourceSpan)}),new Icu(vars,placeholders,expansion.sourceSpan,message)}visitExpansionCase(expansionCase){return null}visitComment(comment){return null}extractAttributes(elementName,properties,i18nPropsMeta){const bound=[],literal=[];return properties.forEach(prop=>{const i18n=i18nPropsMeta[prop.name];if(prop.isLiteral)literal.push(new TextAttribute(prop.name,prop.expression.source||"",prop.sourceSpan,void 0,i18n));else{const bep=this.bindingParser.createBoundElementProperty(elementName,prop,!0,!1);bound.push(BoundAttribute.fromBoundElementProperty(bep,i18n))}}),{bound:bound,literal:literal}}parseAttribute(isTemplateElement,attribute,matchableAttributes,parsedProperties,boundEvents,variables,references){const name=normalizeAttributeName(attribute.name),value=attribute.value,srcSpan=attribute.sourceSpan,absoluteOffset=attribute.valueSpan?attribute.valueSpan.start.offset:srcSpan.start.offset,bindParts=name.match(BIND_NAME_REGEXP$1);let hasBinding=!1;if(bindParts){if(hasBinding=!0,null!=bindParts[1])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[2])if(isTemplateElement){const identifier=bindParts[7];this.parseVariable(identifier,value,srcSpan,attribute.valueSpan,variables)}else this.reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){const identifier=bindParts[7];this.parseReference(identifier,value,srcSpan,attribute.valueSpan,references)}else if(bindParts[4]){const events=[];this.bindingParser.parseEvent(bindParts[7],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}else if(bindParts[5])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[7],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[6])this.bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[8])this.bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[8],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[9])this.bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[10]){const events=[];this.bindingParser.parseEvent(bindParts[10],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}}else hasBinding=this.bindingParser.parsePropertyInterpolation(name,value,srcSpan,attribute.valueSpan,matchableAttributes,parsedProperties);return hasBinding}_visitTextWithInterpolation(value,sourceSpan,i18n){const valueNoNgsp=compiler_replaceNgsp(value),expr=this.bindingParser.parseInterpolation(valueNoNgsp,sourceSpan);return expr?new BoundText(expr,sourceSpan,i18n):new Text(valueNoNgsp,sourceSpan)}parseVariable(identifier,value,sourceSpan,valueSpan,variables){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',sourceSpan):0===identifier.length&&this.reportError("Variable does not have a name",sourceSpan),variables.push(new Variable(identifier,value,sourceSpan,valueSpan))}parseReference(identifier,value,sourceSpan,valueSpan,references){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',sourceSpan):0===identifier.length&&this.reportError("Reference does not have a name",sourceSpan),references.push(new Reference(identifier,value,sourceSpan,valueSpan))}parseAssignmentEvent(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,boundEvents){const events=[];this.bindingParser.parseEvent(`${name}Change`,`${expression}=$event`,sourceSpan,valueSpan||sourceSpan,targetMatchableAttrs,events),addEvents(events,boundEvents)}reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}}const NON_BINDABLE_VISITOR$1=new class{visitElement(ast){const preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;const children=visitAll$1(this,ast.children,null);return new compiler_Element(ast.name,visitAll$1(this,ast.attrs),[],[],children,[],ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan)}visitComment(comment){return null}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,void 0,attribute.i18n)}visitText(text){return new Text(text.value,text.sourceSpan)}visitExpansion(expansion){return null}visitExpansionCase(expansionCase){return null}};function normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}function addEvents(events,boundEvents){boundEvents.push(...events.map(e=>BoundEvent.fromParsedEvent(e)))}var compiler_TagType;!function(TagType){TagType[TagType.ELEMENT=0]="ELEMENT",TagType[TagType.TEMPLATE=1]="TEMPLATE",TagType[TagType.PROJECTION=2]="PROJECTION"}(compiler_TagType||(compiler_TagType={}));class I18nContext{constructor(index,ref,level=0,templateIndex=null,meta,registry){this.index=index,this.ref=ref,this.level=level,this.templateIndex=templateIndex,this.meta=meta,this.registry=registry,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=registry||{getUniqueId:getSeqNumberGenerator(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(type,node,index,closed){if(node.isVoid&&closed)return;const ph=node.isVoid||!closed?node.startName:node.closeName,content={type:type,index:index,ctx:this.id,isVoid:node.isVoid,closed:closed};updatePlaceholderMap(this.placeholders,ph,content)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const result=new Map;return this.placeholders.forEach((values,key)=>result.set(key,values.map(serializePlaceholderValue))),result}appendBinding(binding){this.bindings.add(binding)}appendIcu(name,ref){updatePlaceholderMap(this._registry.icus,name,ref)}appendBoundText(node){assembleBoundTextPlaceholders(node,this.bindings.size,this.id).forEach((values,key)=>updatePlaceholderMap(this.placeholders,key,...values))}appendTemplate(node,index){this.appendTag(compiler_TagType.TEMPLATE,node,index,!1),this.appendTag(compiler_TagType.TEMPLATE,node,index,!0),this._unresolvedCtxCount++}appendElement(node,index,closed){this.appendTag(compiler_TagType.ELEMENT,node,index,closed)}appendProjection(node,index){this.appendTag(compiler_TagType.PROJECTION,node,index,!1),this.appendTag(compiler_TagType.PROJECTION,node,index,!0)}forkChildContext(index,templateIndex,meta){return new I18nContext(index,this.ref,this.level+1,templateIndex,meta,this._registry)}reconcileChildContext(context){["start","close"].forEach(op=>{const key=context.meta[`${op}Name`],tag=(this.placeholders.get(key)||[]).find(findTemplateFn(this.id,context.templateIndex));tag&&(tag.ctx=context.id)}),context.placeholders.forEach((values,key)=>{const phs=this.placeholders.get(key);if(!phs)return void this.placeholders.set(key,values);const tmplIdx=phs.findIndex(findTemplateFn(context.id,context.templateIndex));if(tmplIdx>=0){const isCloseTag=key.startsWith("CLOSE");if(key.endsWith("NG-TEMPLATE"))phs.splice(tmplIdx+(isCloseTag?0:1),0,...values);else{values[isCloseTag?values.length-1:0].tmpl=phs[tmplIdx],phs.splice(tmplIdx,1,...values)}}else phs.push(...values);this.placeholders.set(key,phs)}),this._unresolvedCtxCount--}}function wrap(symbol,index,contextId,closed){return wrapI18nPlaceholder(`${closed?"/":""}${symbol}${index}`,contextId)}function wrapTag(symbol,{index:index,ctx:ctx,isVoid:isVoid},closed){return isVoid?wrap(symbol,index,ctx)+wrap(symbol,index,ctx,!0):wrap(symbol,index,ctx,closed)}function findTemplateFn(ctx,templateIndex){return token=>"object"==typeof token&&token.type===compiler_TagType.TEMPLATE&&token.index===templateIndex&&token.ctx===ctx}function serializePlaceholderValue(value){const element=(data,closed)=>wrapTag("#",data,closed),template=(data,closed)=>wrapTag("*",data,closed);switch(value.type){case compiler_TagType.ELEMENT:return value.closed?element(value,!0)+(value.tmpl?template(value.tmpl,!0):""):value.tmpl?template(value.tmpl)+element(value)+(value.isVoid?template(value.tmpl,!0):""):element(value);case compiler_TagType.TEMPLATE:return template(value,value.closed);case compiler_TagType.PROJECTION:return data=value,closed=value.closed,wrapTag("!",data,closed);default:return value}var data,closed}const compiler_serializer=new class{visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expressionPlaceholder}, ${icu.type}, ${strCases.join(" ")}}`}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}formatPh(value){return`{${formatI18nPlaceholderName(value,!1)}}`}};function serializeIcuNode(icu){return icu.visit(compiler_serializer)}const TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class PlaceholderRegistry{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(tag,attrs,isVoid){const signature=this._hashTag(tag,attrs,isVoid);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(isVoid?baseName:`START_${baseName}`);return this._signatureToName[signature]=name,name}getCloseTagPlaceholderName(tag){const signature=this._hashClosingTag(tag);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(`CLOSE_${baseName}`);return this._signatureToName[signature]=name,name}getPlaceholderName(name,content){const upperName=name.toUpperCase(),signature=`PH: ${upperName}=${content}`;if(this._signatureToName[signature])return this._signatureToName[signature];const uniqueName=this._generateUniqueName(upperName);return this._signatureToName[signature]=uniqueName,uniqueName}getUniquePlaceholder(name){return this._generateUniqueName(name.toUpperCase())}_hashTag(tag,attrs,isVoid){return`<${tag}`+Object.keys(attrs).sort().map(name=>` ${name}=${attrs[name]}`).join("")+(isVoid?"/>":`></${tag}>`)}_hashClosingTag(tag){return this._hashTag(`/${tag}`,{},!1)}_generateUniqueName(base){if(!this._placeHolderNameCounts.hasOwnProperty(base))return this._placeHolderNameCounts[base]=1,base;const id=this._placeHolderNameCounts[base];return this._placeHolderNameCounts[base]=id+1,`${base}_${id}`}}const _expParser=new Parser$1(new Lexer);function createI18nMessageFactory(interpolationConfig){const visitor=new _I18nVisitor(_expParser,interpolationConfig);return(nodes,meaning,description,customId,visitNodeFn)=>visitor.toI18nMessage(nodes,meaning,description,customId,visitNodeFn)}function noopVisitNodeFn(_html,i18n){return i18n}class _I18nVisitor{constructor(_expressionParser,_interpolationConfig){this._expressionParser=_expressionParser,this._interpolationConfig=_interpolationConfig}toI18nMessage(nodes,meaning="",description="",customId="",visitNodeFn){const context={isIcu:1==nodes.length&&nodes[0]instanceof Expansion,icuDepth:0,placeholderRegistry:new PlaceholderRegistry,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:visitNodeFn||noopVisitNodeFn},i18nodes=visitAll$1(this,nodes,context);return new Message(i18nodes,context.placeholderToContent,context.placeholderToMessage,meaning,description,customId)}visitElement(el,context){const children=visitAll$1(this,el.children,context),attrs={};el.attrs.forEach(attr=>{attrs[attr.name]=attr.value});const isVoid=getHtmlTagDefinition(el.name).isVoid,startPhName=context.placeholderRegistry.getStartTagPlaceholderName(el.name,attrs,isVoid);context.placeholderToContent[startPhName]=el.sourceSpan.toString();let closePhName="";isVoid||(closePhName=context.placeholderRegistry.getCloseTagPlaceholderName(el.name),context.placeholderToContent[closePhName]=`</${el.name}>`);const node=new TagPlaceholder(el.name,attrs,startPhName,closePhName,children,isVoid,el.sourceSpan);return context.visitNodeFn(el,node)}visitAttribute(attribute,context){const node=this._visitTextWithInterpolation(attribute.value,attribute.sourceSpan,context);return context.visitNodeFn(attribute,node)}visitText(text,context){const node=this._visitTextWithInterpolation(text.value,text.sourceSpan,context);return context.visitNodeFn(text,node)}visitComment(comment,context){return null}visitExpansion(icu,context){context.icuDepth++;const i18nIcuCases={},i18nIcu=new Icu$1(icu.switchValue,icu.type,i18nIcuCases,icu.sourceSpan);if(icu.cases.forEach(caze=>{i18nIcuCases[caze.value]=new compiler_Container(caze.expression.map(node=>node.visit(this,context)),caze.expSourceSpan)}),context.icuDepth--,context.isIcu||context.icuDepth>0){const expPh=context.placeholderRegistry.getUniquePlaceholder(`VAR_${icu.type}`);return i18nIcu.expressionPlaceholder=expPh,context.placeholderToContent[expPh]=icu.switchValue,context.visitNodeFn(icu,i18nIcu)}const phName=context.placeholderRegistry.getPlaceholderName("ICU",icu.sourceSpan.toString());context.placeholderToMessage[phName]=this.toI18nMessage([icu],"","","",void 0);const node=new IcuPlaceholder(i18nIcu,phName,icu.sourceSpan);return context.visitNodeFn(icu,node)}visitExpansionCase(_icuCase,_context){throw new Error("Unreachable code")}_visitTextWithInterpolation(text,sourceSpan,context){const splitInterpolation=this._expressionParser.splitInterpolation(text,sourceSpan.start.toString(),this._interpolationConfig);if(!splitInterpolation)return new Text$1(text,sourceSpan);const nodes=[],container=new compiler_Container(nodes,sourceSpan),{start:sDelimiter,end:eDelimiter}=this._interpolationConfig;for(let i=0;i<splitInterpolation.strings.length-1;i++){const expression=splitInterpolation.expressions[i],baseName=expression.split(_CUSTOM_PH_EXP)[2]||"INTERPOLATION",phName=context.placeholderRegistry.getPlaceholderName(baseName,expression);splitInterpolation.strings[i].length&&nodes.push(new Text$1(splitInterpolation.strings[i],sourceSpan)),nodes.push(new Placeholder(expression,phName,sourceSpan)),context.placeholderToContent[phName]=sDelimiter+expression+eDelimiter}const lastStringIdx=splitInterpolation.strings.length-1;return splitInterpolation.strings[lastStringIdx].length&&nodes.push(new Text$1(splitInterpolation.strings[lastStringIdx],sourceSpan)),container}}const _CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;const setI18nRefs=(htmlNode,i18nNode)=>(htmlNode instanceof NodeWithI18n&&(i18nNode instanceof IcuPlaceholder&&htmlNode.i18n instanceof Message&&(i18nNode.previousMessage=htmlNode.i18n),htmlNode.i18n=i18nNode),i18nNode);class I18nMetaVisitor{constructor(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG,keepI18nAttrs=!1,enableI18nLegacyMessageIdFormat=!1){this.interpolationConfig=interpolationConfig,this.keepI18nAttrs=keepI18nAttrs,this.enableI18nLegacyMessageIdFormat=enableI18nLegacyMessageIdFormat,this.hasI18nMeta=!1,this._createI18nMessage=createI18nMessageFactory(this.interpolationConfig)}_generateI18nMessage(nodes,meta="",visitNodeFn){const{meaning:meaning,description:description,customId:customId}=this._parseMetadata(meta),message=this._createI18nMessage(nodes,meaning,description,customId,visitNodeFn);return this._setMessageId(message,meta),this._setLegacyIds(message,meta),message}visitElement(element){if(function(element){return element.attrs.some(attr=>isI18nAttribute(attr.name))}(element)){this.hasI18nMeta=!0;const attrs=[],attrsMeta={};for(const attr of element.attrs)if("i18n"===attr.name){const i18n=element.i18n||attr.value,message=this._generateI18nMessage(element.children,i18n,setI18nRefs);message.nodes.length&&(element.i18n=message)}else if(attr.name.startsWith("i18n-")){attrsMeta[attr.name.slice("i18n-".length)]=attr.value}else attrs.push(attr);if(Object.keys(attrsMeta).length)for(const attr of attrs){const meta=attrsMeta[attr.name];void 0!==meta&&attr.value&&(attr.i18n=this._generateI18nMessage([attr],attr.i18n||meta))}this.keepI18nAttrs||(element.attrs=attrs)}return visitAll$1(this,element.children,element.i18n),element}visitExpansion(expansion,currentMessage){let message;const meta=expansion.i18n;if(this.hasI18nMeta=!0,meta instanceof IcuPlaceholder){const name=meta.name;message=this._generateI18nMessage([expansion],meta),icuFromI18nMessage(message).name=name}else message=this._generateI18nMessage([expansion],currentMessage||meta);return expansion.i18n=message,expansion}visitText(text){return text}visitAttribute(attribute){return attribute}visitComment(comment){return comment}visitExpansionCase(expansionCase){return expansionCase}_parseMetadata(meta){return"string"==typeof meta?function(meta=""){let customId,meaning,description;if(meta=meta.trim()){const idIndex=meta.indexOf("@@"),descIndex=meta.indexOf("|");let meaningAndDesc;[meaningAndDesc,customId]=idIndex>-1?[meta.slice(0,idIndex),meta.slice(idIndex+2)]:[meta,""],[meaning,description]=descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc]}return{customId:customId,meaning:meaning,description:description}}(meta):meta instanceof Message?meta:{}}_setMessageId(message,meta){message.id||(message.id=meta instanceof Message&&meta.id||decimalDigest(message))}_setLegacyIds(message,meta){if(this.enableI18nLegacyMessageIdFormat)message.legacyIds=[computeDigest(message),computeDecimalDigest(message)];else if("string"!=typeof meta){const previousMessage=meta instanceof Message?meta:meta instanceof IcuPlaceholder?meta.previousMessage:void 0;message.legacyIds=previousMessage?previousMessage.legacyIds:[]}}}function createGoogleGetMsgStatements(variable$1,message,closureVar,params){const args=[compiler_literal(function(message){return message.nodes.map(node=>node.visit(serializerVisitor$1,null)).join("")}(message))];Object.keys(params).length&&args.push(mapLiteral(params,!0));const statements=[],jsdocComment=function(meta){const tags=[];return meta.description&&tags.push({tagName:"desc",text:meta.description}),meta.meaning&&tags.push({tagName:"meaning",text:meta.meaning}),0==tags.length?null:new JSDocCommentStmt(tags)}(message);return null!==jsdocComment&&statements.push(jsdocComment),statements.push(closureVar.set(variable("goog.getMsg").callFn(args)).toConstDecl()),statements.push(new ExpressionStatement(variable$1.set(closureVar))),statements}const serializerVisitor$1=new class{formatPh(value){return`{$${formatI18nPlaceholderName(value)}}`}visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){return serializeIcuNode(icu)}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}};function createLocalizeStatements(variable,message,params){const statements=[],{messageParts:messageParts,placeHolders:placeHolders}=function(message){const pieces=[];return message.nodes.forEach(node=>node.visit(serializerVisitor$2,pieces)),function(pieces){const messageParts=[],placeHolders=[];pieces[0]instanceof PlaceholderPiece&&messageParts.push("");for(let i=0;i<pieces.length;i++){const part=pieces[i];part instanceof LiteralPiece?messageParts.push(part.text):(placeHolders.push(part.text),pieces[i-1]instanceof PlaceholderPiece&&messageParts.push(""))}pieces[pieces.length-1]instanceof PlaceholderPiece&&messageParts.push("");return{messageParts:messageParts,placeHolders:placeHolders}}(pieces)}(message);return statements.push(new ExpressionStatement(variable.set(function(metaBlock,messageParts,placeholderNames,expressions,sourceSpan){return new LocalizedString(metaBlock,messageParts,placeholderNames,expressions,sourceSpan)}(message,messageParts,placeHolders,placeHolders.map(ph=>params[ph]))))),statements}class MessagePiece{constructor(text){this.text=text}}class LiteralPiece extends MessagePiece{}class PlaceholderPiece extends MessagePiece{constructor(name){super(formatI18nPlaceholderName(name,!1))}}const serializerVisitor$2=new class{visitText(text,context){context[context.length-1]instanceof LiteralPiece?context[context.length-1].text+=text.value:context.push(new LiteralPiece(text.value))}visitContainer(container,context){container.children.forEach(child=>child.visit(this,context))}visitIcu(icu,context){context.push(new LiteralPiece(serializeIcuNode(icu)))}visitTagPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.startName)),ph.isVoid||(ph.children.forEach(child=>child.visit(this,context)),context.push(new PlaceholderPiece(ph.closeName)))}visitPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.name))}visitIcuPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.name))}};const GLOBAL_TARGET_RESOLVERS=new Map([["window",Identifiers$1.resolveWindow],["document",Identifiers$1.resolveDocument],["body",Identifiers$1.resolveBody]]),LEADING_TRIVIA_CHARS=[" ","\n","\r","\t"];function renderFlagCheckIfStmt(flags,statements){return ifStmt(variable("rf").bitwiseAnd(compiler_literal(flags),null,!1),statements)}function prepareEventListenerParameters(eventAst,handlerName=null,scope=null){const{type:type,name:name,target:target,phase:phase,handler:handler}=eventAst;if(target&&!GLOBAL_TARGET_RESOLVERS.has(target))throw new Error(`Unexpected global target '${target}' defined for '${name}' event.\n        Supported list of global targets: ${Array.from(GLOBAL_TARGET_RESOLVERS.keys())}.`);const implicitReceiverAccesses=new Set,implicitReceiverExpr=null===scope||0===scope.bindingLevel?variable("ctx"):scope.getOrCreateSharedContextVar(0),bindingExpr=convertActionBinding(scope,implicitReceiverExpr,handler,"b",()=>compiler_error("Unexpected interpolation"),eventAst.handlerSpan,implicitReceiverAccesses),statements=[];scope&&(statements.push(...scope.restoreViewStatement()),statements.push(...scope.variableDeclarations())),statements.push(...bindingExpr.render3Stmts);const eventName=1===type?function(name,phase){return`@${name}.${phase}`}(name,phase):name,fnName=handlerName&&sanitizeIdentifier(handlerName),fnArgs=[];implicitReceiverAccesses.has("$event")&&fnArgs.push(new FnParam("$event",DYNAMIC_TYPE));const handlerFn=compiler_fn(fnArgs,statements,INFERRED_TYPE,null,fnName),params=[compiler_literal(eventName),handlerFn];return target&&params.push(compiler_literal(!1),importExpr(GLOBAL_TARGET_RESOLVERS.get(target))),params}class TemplateDefinitionBuilder{constructor(constantPool,parentBindingScope,level=0,contextName,i18nContext,templateIndex,templateName,directiveMatcher,directives,pipeTypeByName,pipes,_namespace,relativeContextFilePath,i18nUseExternalIds,_constants=[]){this.constantPool=constantPool,this.level=level,this.contextName=contextName,this.i18nContext=i18nContext,this.templateIndex=templateIndex,this.templateName=templateName,this.directiveMatcher=directiveMatcher,this.directives=directives,this.pipeTypeByName=pipeTypeByName,this.pipes=pipes,this._namespace=_namespace,this.i18nUseExternalIds=i18nUseExternalIds,this._constants=_constants,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=unsupported,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=invalid$1,this.visitVariable=invalid$1,this.visitTextAttribute=invalid$1,this.visitBoundAttribute=invalid$1,this.visitBoundEvent=invalid$1,this._bindingScope=parentBindingScope.nestedScope(level),this.fileBasedI18nSuffix=relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new ValueConverter(constantPool,()=>this.allocateDataSlot(),numSlots=>this.allocatePureFunctionSlots(numSlots),(name,localName,slot,value)=>{const pipeType=pipeTypeByName.get(name);pipeType&&this.pipes.add(pipeType),this._bindingScope.set(this.level,localName,value),this.creationInstruction(null,Identifiers$1.pipe,[compiler_literal(slot),compiler_literal(name)])})}buildTemplateFunction(nodes,variables,ngContentSelectorsOffset=0,i18n){this._ngContentSelectorsOffset=ngContentSelectorsOffset,this._namespace!==Identifiers$1.namespaceHTML&&this.creationInstruction(null,this._namespace),variables.forEach(v=>this.registerContextVariables(v));const initI18nContext=this.i18nContext||isI18nRootNode(i18n)&&!isSingleI18nIcu(i18n)&&!(1===(children=nodes).length&&children[0]instanceof compiler_Element&&nodes[0].i18n===i18n);var children;const selfClosingI18nInstruction=hasTextChildrenOnly(nodes);if(initI18nContext&&this.i18nStart(null,i18n,selfClosingI18nInstruction),visitAll(this,nodes),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(buildTemplateFn=>buildTemplateFn()),0===this.level&&this._ngContentReservedSlots.length){const parameters=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const r3ReservedSlots=this._ngContentReservedSlots.map(s=>"*"!==s?parseSelectorToR3Selector(s):s);parameters.push(this.constantPool.getConstLiteral(asLiteral(r3ReservedSlots),!0))}this.creationInstruction(null,Identifiers$1.projectionDef,parameters,!0)}initI18nContext&&this.i18nEnd(null,selfClosingI18nInstruction);const creationStatements=this._creationCodeFns.map(fn=>fn()),updateStatements=this._updateCodeFns.map(fn=>fn()),creationVariables=this._bindingScope.viewSnapshotStatements(),updateVariables=this._bindingScope.variableDeclarations().concat(this._tempVariables),creationBlock=creationStatements.length>0?[renderFlagCheckIfStmt(1,creationVariables.concat(creationStatements))]:[],updateBlock=updateStatements.length>0?[renderFlagCheckIfStmt(2,updateVariables.concat(updateStatements))]:[];return compiler_fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],[...this._prefixCode,...creationBlock,...updateBlock],INFERRED_TYPE,null,this.templateName)}getLocal(name){return this._bindingScope.get(name)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(message,params={},ref,transformFn){const _ref=ref||variable(this.constantPool.uniqueName("I18N_")),statements=function(message,variable,closureVar,params={},transformFn){const statements=[declareI18nVariable(variable),ifStmt(createClosureModeGuard(),createGoogleGetMsgStatements(variable,message,closureVar,i18nFormatPlaceholderNames(params,!0)),createLocalizeStatements(variable,message,i18nFormatPlaceholderNames(params,!1)))];transformFn&&statements.push(new ExpressionStatement(variable.set(transformFn(variable))));return statements}(message,_ref,this.i18nGenerateClosureVar(message.id),params,transformFn);return this.constantPool.statements.push(...statements),_ref}registerContextVariables(variable$1){const scopedName=this._bindingScope.freshReferenceName(),retrievalLevel=this.level,lhs=variable(variable$1.name+scopedName);this._bindingScope.set(retrievalLevel,variable$1.name,lhs,1,(scope,relativeLevel)=>{let rhs;if(scope.bindingLevel===retrievalLevel)rhs=variable("ctx");else{const sharedCtxVar=scope.getSharedContextName(retrievalLevel);rhs=sharedCtxVar||generateNextContextExpr(relativeLevel)}return[lhs.set(rhs.prop(variable$1.value||"$implicit")).toConstDecl()]})}i18nAppendBindings(expressions){expressions.length>0&&expressions.forEach(expression=>this.i18n.appendBinding(expression))}i18nBindProps(props){const bound={};return Object.keys(props).forEach(key=>{const prop=props[key];if(prop instanceof Text)bound[key]=compiler_literal(prop.value);else{const value=prop.value.visit(this._valueConverter);if(this.allocateBindingSlots(value),value instanceof Interpolation){const{strings:strings,expressions:expressions}=value,{id:id,bindings:bindings}=this.i18n,label=function(strings,bindingStartIndex=0,contextId=0){if(!strings.length)return"";let acc="";const lastIdx=strings.length-1;for(let i=0;i<lastIdx;i++)acc+=`${strings[i]}${wrapI18nPlaceholder(bindingStartIndex+i,contextId)}`;return acc+=strings[lastIdx],acc}(strings,bindings.size,id);this.i18nAppendBindings(expressions),bound[key]=compiler_literal(label)}}}),bound}i18nGenerateClosureVar(messageId){let name;const suffix=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const prefix=getTranslationConstPrefix("EXTERNAL_"),uniqueSuffix=this.constantPool.uniqueName(suffix);name=`${prefix}${sanitizeIdentifier(messageId)}$$${uniqueSuffix}`}else{const prefix=getTranslationConstPrefix(suffix);name=this.constantPool.uniqueName(prefix)}return variable(name)}i18nUpdateRef(context){const{icus:icus,meta:meta,isRoot:isRoot,isResolved:isResolved,isEmitted:isEmitted}=context;if(isRoot&&isResolved&&!isEmitted&&!isSingleI18nIcu(meta)){context.isEmitted=!0;const placeholders=context.getSerializedPlaceholders();let icuMapping={},params=placeholders.size?placeholdersToParams(placeholders):{};let transformFn;icus.size&&icus.forEach((refs,key)=>{if(1===refs.length)params[key]=refs[0];else{const placeholder=wrapI18nPlaceholder(`I18N_EXP_${key}`);params[key]=compiler_literal(placeholder),icuMapping[key]=literalArr(refs)}}),(Array.from(placeholders.values()).some(value=>value.length>1)||Object.keys(icuMapping).length)&&(transformFn=raw=>{const args=[raw];return Object.keys(icuMapping).length&&args.push(mapLiteral(icuMapping,!0)),compiler_instruction(null,Identifiers$1.i18nPostprocess,args)}),this.i18nTranslate(meta,params,context.ref,transformFn)}}i18nStart(span=null,meta,selfClosing){const index=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(index,this.templateIndex,meta);else{const ref=variable(this.constantPool.uniqueName("I18N_"));this.i18n=new I18nContext(index,ref,0,this.templateIndex,meta)}const{id:id,ref:ref}=this.i18n,params=[compiler_literal(index),ref];id>0&&params.push(compiler_literal(id)),this.creationInstruction(span,selfClosing?Identifiers$1.i18n:Identifiers$1.i18nStart,params)}i18nEnd(span=null,selfClosing){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:index,bindings:bindings}=this.i18n;if(bindings.size){const chainBindings=[];bindings.forEach(binding=>{chainBindings.push({sourceSpan:span,value:()=>this.convertPropertyBinding(binding)})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,Identifiers$1.i18nExp,chainBindings),this.updateInstruction(span,Identifiers$1.i18nApply,[compiler_literal(index)])}selfClosing||this.creationInstruction(span,Identifiers$1.i18nEnd),this.i18n=null}i18nAttributesInstruction(nodeIndex,attrs,sourceSpan){let hasBindings=!1;const i18nAttrArgs=[],bindings=[];if(attrs.forEach(attr=>{const message=attr.i18n;if(attr instanceof TextAttribute)i18nAttrArgs.push(compiler_literal(attr.name),this.i18nTranslate(message));else{const converted=attr.value.visit(this._valueConverter);if(this.allocateBindingSlots(converted),converted instanceof Interpolation){const params=placeholdersToParams(assembleBoundTextPlaceholders(message));i18nAttrArgs.push(compiler_literal(attr.name),this.i18nTranslate(message,params)),converted.expressions.forEach(expression=>{hasBindings=!0,bindings.push({sourceSpan:sourceSpan,value:()=>this.convertPropertyBinding(expression)})})}}}),bindings.length>0&&this.updateInstructionChainWithAdvance(nodeIndex,Identifiers$1.i18nExp,bindings),i18nAttrArgs.length>0){const index=compiler_literal(this.allocateDataSlot()),args=this.constantPool.getConstLiteral(literalArr(i18nAttrArgs),!0);this.creationInstruction(sourceSpan,Identifiers$1.i18nAttributes,[index,args]),hasBindings&&this.updateInstruction(sourceSpan,Identifiers$1.i18nApply,[index])}}getNamespaceInstruction(namespaceKey){switch(namespaceKey){case"math":return Identifiers$1.namespaceMathML;case"svg":return Identifiers$1.namespaceSVG;default:return Identifiers$1.namespaceHTML}}addNamespaceInstruction(nsInstruction,element){this._namespace=nsInstruction,this.creationInstruction(element.sourceSpan,nsInstruction)}interpolatedUpdateInstruction(instruction,elementIndex,attrName,input,value,params){this.updateInstructionWithAdvance(elementIndex,input.sourceSpan,instruction,()=>[compiler_literal(attrName),...this.getUpdateInstructionArguments(value),...params])}visitContent(ngContent){const slot=this.allocateDataSlot(),projectionSlotIdx=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,parameters=[compiler_literal(slot)];this._ngContentReservedSlots.push(ngContent.selector);const nonContentSelectAttributes=ngContent.attributes.filter(attr=>"select"!==attr.name.toLowerCase()),attributes=this.getAttributeExpressions(nonContentSelectAttributes,[],[]);attributes.length>0?parameters.push(compiler_literal(projectionSlotIdx),literalArr(attributes)):0!==projectionSlotIdx&&parameters.push(compiler_literal(projectionSlotIdx)),this.creationInstruction(ngContent.sourceSpan,Identifiers$1.projection,parameters),this.i18n&&this.i18n.appendProjection(ngContent.i18n,slot)}visitElement(element){const elementIndex=this.allocateDataSlot(),stylingBuilder=new StylingBuilder(null);let isNonBindableMode=!1;const isI18nRootElement=isI18nRootNode(element.i18n)&&!isSingleI18nIcu(element.i18n),i18nAttrs=[],outputAttrs=[],[namespaceKey,elementName]=splitNsName(element.name),isNgContainer$1=compiler_isNgContainer(element.name);for(const attr of element.attributes){const{name:name,value:value}=attr;"ngNonBindable"===name?isNonBindableMode=!0:"style"===name?stylingBuilder.registerStyleAttr(value):"class"===name?stylingBuilder.registerClassAttr(value):(attr.i18n?i18nAttrs:outputAttrs).push(attr)}this.matchDirectives(element.name,element);const parameters=[compiler_literal(elementIndex)];isNgContainer$1||parameters.push(compiler_literal(elementName));const allOtherInputs=[];element.inputs.forEach(input=>{stylingBuilder.registerBoundInput(input)||(0===input.type&&input.i18n?i18nAttrs.push(input):allOtherInputs.push(input))});const attributes=this.getAttributeExpressions(outputAttrs,allOtherInputs,element.outputs,stylingBuilder,[],i18nAttrs);parameters.push(this.addAttrsToConsts(attributes));const refs=this.prepareRefsArray(element.references);parameters.push(this.addToConsts(refs));const wasInNamespace=this._namespace,currentNamespace=this.getNamespaceInstruction(namespaceKey);currentNamespace!==wasInNamespace&&this.addNamespaceInstruction(currentNamespace,element),this.i18n&&this.i18n.appendElement(element.i18n,elementIndex);const hasChildren=!isI18nRootElement&&this.i18n?!hasTextChildrenOnly(element.children):element.children.length>0,createSelfClosingInstruction=!stylingBuilder.hasBindingsWithPipes&&0===element.outputs.length&&0===i18nAttrs.length&&!hasChildren,createSelfClosingI18nInstruction=!createSelfClosingInstruction&&hasTextChildrenOnly(element.children);if(createSelfClosingInstruction)this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainer:Identifiers$1.element,trimTrailingNulls(parameters));else{if(this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainerStart:Identifiers$1.elementStart,trimTrailingNulls(parameters)),isNonBindableMode&&this.creationInstruction(element.sourceSpan,Identifiers$1.disableBindings),i18nAttrs.length>0&&this.i18nAttributesInstruction(elementIndex,i18nAttrs,element.sourceSpan),element.outputs.length>0){const listeners=element.outputs.map(outputAst=>({sourceSpan:outputAst.sourceSpan,params:this.prepareListenerParameter(element.name,outputAst,elementIndex)}));this.creationInstructionChain(Identifiers$1.listener,listeners)}isI18nRootElement&&this.i18nStart(element.sourceSpan,element.i18n,createSelfClosingI18nInstruction)}const stylingInstructions=stylingBuilder.buildUpdateLevelInstructions(this._valueConverter),limit=stylingInstructions.length-1;for(let i=0;i<=limit;i++){const instruction=stylingInstructions[i];this._bindingSlots+=this.processStylingUpdateInstruction(elementIndex,instruction)}const emptyValueBindInstruction=compiler_literal(void 0),propertyBindings=[],attributeBindings=[];if(allOtherInputs.forEach(input=>{const inputType=input.type;if(4===inputType){const value=input.value.visit(this._valueConverter),hasValue=!(value instanceof LiteralPrimitive)||!!value.value;this.allocateBindingSlots(value),propertyBindings.push({name:prepareSyntheticPropertyName(input.name),sourceSpan:input.sourceSpan,value:()=>hasValue?this.convertPropertyBinding(value):emptyValueBindInstruction})}else{if(input.i18n)return;const value=input.value.visit(this._valueConverter);if(void 0!==value){const params=[],[attrNamespace,attrName]=splitNsName(input.name),isAttributeBinding=1===inputType,sanitizationRef=resolveSanitizationFn(input.securityContext,isAttributeBinding);if(sanitizationRef&&params.push(sanitizationRef),attrNamespace){const namespaceLiteral=compiler_literal(attrNamespace);sanitizationRef?params.push(namespaceLiteral):params.push(compiler_literal(null),namespaceLiteral)}if(this.allocateBindingSlots(value),0===inputType)value instanceof Interpolation?this.interpolatedUpdateInstruction(getPropertyInterpolationExpression(value),elementIndex,attrName,input,value,params):propertyBindings.push({name:attrName,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(value),params:params});else if(1===inputType)if(value instanceof Interpolation&&getInterpolationArgsLength(value)>1)this.interpolatedUpdateInstruction(function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 3:return Identifiers$1.attributeInterpolate1;case 5:return Identifiers$1.attributeInterpolate2;case 7:return Identifiers$1.attributeInterpolate3;case 9:return Identifiers$1.attributeInterpolate4;case 11:return Identifiers$1.attributeInterpolate5;case 13:return Identifiers$1.attributeInterpolate6;case 15:return Identifiers$1.attributeInterpolate7;case 17:return Identifiers$1.attributeInterpolate8;default:return Identifiers$1.attributeInterpolateV}}(value),elementIndex,attrName,input,value,params);else{const boundValue=value instanceof Interpolation?value.expressions[0]:value;attributeBindings.push({name:attrName,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(boundValue),params:params})}else this.updateInstructionWithAdvance(elementIndex,input.sourceSpan,Identifiers$1.classProp,()=>[compiler_literal(elementIndex),compiler_literal(attrName),this.convertPropertyBinding(value),...params])}}}),propertyBindings.length>0&&this.updateInstructionChainWithAdvance(elementIndex,Identifiers$1.property,propertyBindings),attributeBindings.length>0&&this.updateInstructionChainWithAdvance(elementIndex,Identifiers$1.attribute,attributeBindings),visitAll(this,element.children),!isI18nRootElement&&this.i18n&&this.i18n.appendElement(element.i18n,elementIndex,!0),!createSelfClosingInstruction){const span=element.endSourceSpan||element.sourceSpan;isI18nRootElement&&this.i18nEnd(span,createSelfClosingI18nInstruction),isNonBindableMode&&this.creationInstruction(span,Identifiers$1.enableBindings),this.creationInstruction(span,isNgContainer$1?Identifiers$1.elementContainerEnd:Identifiers$1.elementEnd)}}visitTemplate(template){const templateIndex=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(template.i18n,templateIndex);const tagName=sanitizeIdentifier(template.tagName||""),contextName=`${this.contextName}${tagName?"_"+tagName:""}_${templateIndex}`,templateName=`${contextName}_Template`,parameters=[compiler_literal(templateIndex),variable(templateName),compiler_literal(template.tagName?splitNsName(template.tagName)[1]:template.tagName)];this.matchDirectives("ng-template",template);const attrsExprs=this.getAttributeExpressions(template.attributes,template.inputs,template.outputs,void 0,template.templateAttrs,void 0);if(parameters.push(this.addAttrsToConsts(attrsExprs)),template.references&&template.references.length){const refs=this.prepareRefsArray(template.references);parameters.push(this.addToConsts(refs)),parameters.push(importExpr(Identifiers$1.templateRefExtractor))}const templateVisitor=new TemplateDefinitionBuilder(this.constantPool,this._bindingScope,this.level+1,contextName,this.i18n,templateIndex,templateName,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(()=>{const templateFunctionExpr=templateVisitor.buildTemplateFunction(template.children,template.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,template.i18n);this.constantPool.statements.push(templateFunctionExpr.toDeclStmt(templateName,null)),templateVisitor._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...templateVisitor._ngContentReservedSlots)}),this.creationInstruction(template.sourceSpan,Identifiers$1.templateCreate,()=>(parameters.splice(2,0,compiler_literal(templateVisitor.getConstCount()),compiler_literal(templateVisitor.getVarCount())),trimTrailingNulls(parameters))),this.templatePropertyBindings(templateIndex,template.templateAttrs),"ng-template"===template.tagName){const inputs=[],i18nAttrs=template.attributes.filter(attr=>!!attr.i18n);if(template.inputs.forEach(input=>(input.i18n?i18nAttrs:inputs).push(input)),i18nAttrs.length>0&&this.i18nAttributesInstruction(templateIndex,i18nAttrs,template.sourceSpan),inputs.length>0&&this.templatePropertyBindings(templateIndex,inputs),template.outputs.length>0){const listeners=template.outputs.map(outputAst=>({sourceSpan:outputAst.sourceSpan,params:this.prepareListenerParameter("ng_template",outputAst,templateIndex)}));this.creationInstructionChain(Identifiers$1.listener,listeners)}}}visitBoundText(text){if(this.i18n){const value=text.value.visit(this._valueConverter);return this.allocateBindingSlots(value),void(value instanceof Interpolation&&(this.i18n.appendBoundText(text.i18n),this.i18nAppendBindings(value.expressions)))}const nodeIndex=this.allocateDataSlot();this.creationInstruction(text.sourceSpan,Identifiers$1.text,[compiler_literal(nodeIndex)]);const value=text.value.visit(this._valueConverter);this.allocateBindingSlots(value),value instanceof Interpolation?this.updateInstructionWithAdvance(nodeIndex,text.sourceSpan,function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.textInterpolate;case 3:return Identifiers$1.textInterpolate1;case 5:return Identifiers$1.textInterpolate2;case 7:return Identifiers$1.textInterpolate3;case 9:return Identifiers$1.textInterpolate4;case 11:return Identifiers$1.textInterpolate5;case 13:return Identifiers$1.textInterpolate6;case 15:return Identifiers$1.textInterpolate7;case 17:return Identifiers$1.textInterpolate8;default:return Identifiers$1.textInterpolateV}}(value),()=>this.getUpdateInstructionArguments(value)):compiler_error("Text nodes should be interpolated and never bound directly.")}visitText(text){this.i18n||this.creationInstruction(text.sourceSpan,Identifiers$1.text,[compiler_literal(this.allocateDataSlot()),compiler_literal(text.value)])}visitIcu(icu){let initWasInvoked=!1;this.i18n||(initWasInvoked=!0,this.i18nStart(null,icu.i18n,!0));const i18n=this.i18n,vars=this.i18nBindProps(icu.vars),placeholders=this.i18nBindProps(icu.placeholders),message=icu.i18n,transformFn=raw=>{const formatted=i18nFormatPlaceholderNames(Object.assign(Object.assign({},vars),placeholders),!1);return compiler_instruction(null,Identifiers$1.i18nPostprocess,[raw,mapLiteral(formatted,!0)])};if(isSingleI18nIcu(i18n.meta))this.i18nTranslate(message,{},i18n.ref,transformFn);else{const ref=this.i18nTranslate(message,{},void 0,transformFn);i18n.appendIcu(icuFromI18nMessage(message).name,ref)}return initWasInvoked&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(asLiteral(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(templateIndex,attrs){const propertyBindings=[];attrs.forEach(input=>{if(input instanceof BoundAttribute){const value=input.value.visit(this._valueConverter);if(void 0!==value)if(this.allocateBindingSlots(value),value instanceof Interpolation){const params=[];this.interpolatedUpdateInstruction(getPropertyInterpolationExpression(value),templateIndex,input.name,input,value,params)}else propertyBindings.push({name:input.name,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(value)})}}),propertyBindings.length>0&&this.updateInstructionChainWithAdvance(templateIndex,Identifiers$1.property,propertyBindings)}instructionFn(fns,span,reference,paramsOrFn,prepend=!1){fns[prepend?"unshift":"push"](()=>{const params=Array.isArray(paramsOrFn)?paramsOrFn:paramsOrFn();return compiler_instruction(span,reference,params).toStmt()})}processStylingUpdateInstruction(elementIndex,instruction){let allocateBindingSlots=0;if(instruction){const calls=[];instruction.calls.forEach(call=>{allocateBindingSlots+=call.allocateBindingSlots,calls.push({sourceSpan:call.sourceSpan,value:()=>call.params(value=>call.supportsInterpolation&&value instanceof Interpolation?this.getUpdateInstructionArguments(value):this.convertPropertyBinding(value))})}),this.updateInstructionChainWithAdvance(elementIndex,instruction.reference,calls)}return allocateBindingSlots}creationInstruction(span,reference,paramsOrFn,prepend){this.instructionFn(this._creationCodeFns,span,reference,paramsOrFn||[],prepend)}creationInstructionChain(reference,calls){const span=calls.length?calls[0].sourceSpan:null;this._creationCodeFns.push(()=>chainedInstruction(reference,calls.map(call=>call.params()),span).toStmt())}updateInstructionWithAdvance(nodeIndex,span,reference,paramsOrFn){this.addAdvanceInstructionIfNecessary(nodeIndex,span),this.updateInstruction(span,reference,paramsOrFn)}updateInstruction(span,reference,paramsOrFn){this.instructionFn(this._updateCodeFns,span,reference,paramsOrFn||[])}updateInstructionChain(reference,bindings){const span=bindings.length?bindings[0].sourceSpan:null;this._updateCodeFns.push(()=>{const calls=bindings.map(property=>{const value=property.value(),fnParams=Array.isArray(value)?value:[value];return property.params&&fnParams.push(...property.params),property.name&&fnParams.unshift(compiler_literal(property.name)),fnParams});return chainedInstruction(reference,calls,span).toStmt()})}updateInstructionChainWithAdvance(nodeIndex,reference,bindings){this.addAdvanceInstructionIfNecessary(nodeIndex,bindings.length?bindings[0].sourceSpan:null),this.updateInstructionChain(reference,bindings)}addAdvanceInstructionIfNecessary(nodeIndex,span){if(nodeIndex!==this._currentIndex){const delta=nodeIndex-this._currentIndex;if(delta<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,span,Identifiers$1.advance,[compiler_literal(delta)]),this._currentIndex=nodeIndex}}allocatePureFunctionSlots(numSlots){const originalSlots=this._pureFunctionSlots;return this._pureFunctionSlots+=numSlots,originalSlots}allocateBindingSlots(value){this._bindingSlots+=value instanceof Interpolation?value.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?variable("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(value){const convertedPropertyBinding=convertPropertyBinding(this,this.getImplicitReceiverExpr(),value,this.bindingContext(),BindingForm.TrySimple,()=>compiler_error("Unexpected interpolation")),valExpr=convertedPropertyBinding.currValExpr;return this._tempVariables.push(...convertedPropertyBinding.stmts),valExpr}getUpdateInstructionArguments(value){const{args:args,stmts:stmts}=function(localResolver,contextVariableExpression,expressionWithArgumentsToExtract,bindingId){const visitor=new _AstToIrVisitor(localResolver,contextVariableExpression,bindingId,void 0),outputExpr=expressionWithArgumentsToExtract.visit(visitor,_Mode.Expression);visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();const stmts=getStatementsFromVisitor(visitor,bindingId);let args=outputExpr.args.slice(1);if(expressionWithArgumentsToExtract instanceof Interpolation){const strings=expressionWithArgumentsToExtract.strings;3===args.length&&""===strings[0]&&""===strings[1]?args=[args[1]]:args.length>=19&&(args=[literalArr(args)])}return{stmts:stmts,args:args}}(this,this.getImplicitReceiverExpr(),value,this.bindingContext());return this._tempVariables.push(...stmts),args}matchDirectives(elementName,elOrTpl){if(this.directiveMatcher){const selector=createCssSelector(elementName,getAttrsForDirectiveMatching(elOrTpl));this.directiveMatcher.match(selector,(cssSelector,staticType)=>{this.directives.add(staticType)})}}getAttributeExpressions(renderAttributes,inputs,outputs,styles,templateAttrs=[],i18nAttrs=[]){const alreadySeen=new Set,attrExprs=[];let ngProjectAsAttr;function addAttrExpr(key,value){"string"==typeof key?alreadySeen.has(key)||(attrExprs.push(...getAttributeNameLiterals(key)),void 0!==value&&attrExprs.push(value),alreadySeen.add(key)):attrExprs.push(compiler_literal(key))}if(renderAttributes.forEach(attr=>{"ngProjectAs"===attr.name&&(ngProjectAsAttr=attr),attrExprs.push(...getAttributeNameLiterals(attr.name),asLiteral(attr.value))}),ngProjectAsAttr&&attrExprs.push(...function(attribute){const parsedR3Selector=parseSelectorToR3Selector(attribute.value)[0];return[compiler_literal(5),asLiteral(parsedR3Selector)]}(ngProjectAsAttr)),styles&&styles.populateInitialStylingAttrs(attrExprs),inputs.length||outputs.length){const attrsLengthBeforeInputs=attrExprs.length;for(let i=0;i<inputs.length;i++){const input=inputs[i];4!==input.type&&1!==input.type&&addAttrExpr(input.name)}for(let i=0;i<outputs.length;i++){const output=outputs[i];1!==output.type&&addAttrExpr(output.name)}attrExprs.length!==attrsLengthBeforeInputs&&attrExprs.splice(attrsLengthBeforeInputs,0,compiler_literal(3))}return templateAttrs.length&&(attrExprs.push(compiler_literal(4)),templateAttrs.forEach(attr=>addAttrExpr(attr.name))),i18nAttrs.length&&(attrExprs.push(compiler_literal(6)),i18nAttrs.forEach(attr=>addAttrExpr(attr.name))),attrExprs}addToConsts(expression){if(isNull(expression))return TYPED_NULL_EXPR;for(let i=0;i<this._constants.length;i++)if(this._constants[i].isEquivalent(expression))return compiler_literal(i);return compiler_literal(this._constants.push(expression)-1)}addAttrsToConsts(attrs){return attrs.length>0?this.addToConsts(literalArr(attrs)):TYPED_NULL_EXPR}prepareRefsArray(references){if(!references||0===references.length)return TYPED_NULL_EXPR;return asLiteral(compiler_flatten(references.map(reference=>{const slot=this.allocateDataSlot(),variableName=this._bindingScope.freshReferenceName(),retrievalLevel=this.level,lhs=variable(variableName);return this._bindingScope.set(retrievalLevel,reference.name,lhs,0,(scope,relativeLevel)=>{const nextContextStmt=relativeLevel>0?[generateNextContextExpr(relativeLevel).toStmt()]:[],refExpr=lhs.set(importExpr(Identifiers$1.reference).callFn([compiler_literal(slot)]));return nextContextStmt.concat(refExpr.toConstDecl())},!0),[reference.name,reference.value]})))}prepareListenerParameter(tagName,outputAst,index){return()=>{const eventName=outputAst.name,bindingFnName=1===outputAst.type?prepareSyntheticListenerFunctionName(eventName,outputAst.phase):sanitizeIdentifier(eventName),handlerName=`${this.templateName}_${tagName}_${bindingFnName}_${index}_listener`,scope=this._bindingScope.nestedScope(this._bindingScope.bindingLevel);return prepareEventListenerParameters(outputAst,handlerName,scope)}}}class ValueConverter extends class{visitImplicitReceiver(ast,context){return ast}visitInterpolation(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Interpolation(ast.span,ast.sourceSpan,ast.strings,expressions):ast}visitLiteralPrimitive(ast,context){return ast}visitPropertyRead(ast,context){const receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new PropertyRead(ast.span,ast.sourceSpan,receiver,ast.name):ast}visitPropertyWrite(ast,context){const receiver=ast.receiver.visit(this),value=ast.value.visit(this);return receiver!==ast.receiver||value!==ast.value?new PropertyWrite(ast.span,ast.sourceSpan,receiver,ast.name,value):ast}visitSafePropertyRead(ast,context){const receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new SafePropertyRead(ast.span,ast.sourceSpan,receiver,ast.name):ast}visitMethodCall(ast,context){const receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new MethodCall(ast.span,ast.sourceSpan,receiver,ast.name,args):ast}visitSafeMethodCall(ast,context){const receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new SafeMethodCall(ast.span,ast.sourceSpan,receiver,ast.name,args):ast}visitFunctionCall(ast,context){const target=ast.target&&ast.target.visit(this),args=this.visitAll(ast.args);return target!==ast.target||args!==ast.args?new FunctionCall(ast.span,ast.sourceSpan,target,args):ast}visitLiteralArray(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new LiteralArray(ast.span,ast.sourceSpan,expressions):ast}visitLiteralMap(ast,context){const values=this.visitAll(ast.values);return values!==ast.values?new LiteralMap(ast.span,ast.sourceSpan,ast.keys,values):ast}visitBinary(ast,context){const left=ast.left.visit(this),right=ast.right.visit(this);return left!==ast.left||right!==ast.right?new Binary(ast.span,ast.sourceSpan,ast.operation,left,right):ast}visitPrefixNot(ast,context){const expression=ast.expression.visit(this);return expression!==ast.expression?new PrefixNot(ast.span,ast.sourceSpan,expression):ast}visitNonNullAssert(ast,context){const expression=ast.expression.visit(this);return expression!==ast.expression?new NonNullAssert(ast.span,ast.sourceSpan,expression):ast}visitConditional(ast,context){const condition=ast.condition.visit(this),trueExp=ast.trueExp.visit(this),falseExp=ast.falseExp.visit(this);return condition!==ast.condition||trueExp!==ast.trueExp||falseExp!==ast.falseExp?new Conditional(ast.span,ast.sourceSpan,condition,trueExp,falseExp):ast}visitPipe(ast,context){const exp=ast.exp.visit(this),args=this.visitAll(ast.args);return exp!==ast.exp||args!==ast.args?new BindingPipe(ast.span,ast.sourceSpan,exp,ast.name,args,ast.nameSpan):ast}visitKeyedRead(ast,context){const obj=ast.obj.visit(this),key=ast.key.visit(this);return obj!==ast.obj||key!==ast.key?new KeyedRead(ast.span,ast.sourceSpan,obj,key):ast}visitKeyedWrite(ast,context){const obj=ast.obj.visit(this),key=ast.key.visit(this),value=ast.value.visit(this);return obj!==ast.obj||key!==ast.key||value!==ast.value?new KeyedWrite(ast.span,ast.sourceSpan,obj,key,value):ast}visitAll(asts){const res=[];let modified=!1;for(let i=0;i<asts.length;++i){const original=asts[i],value=original.visit(this);res[i]=value,modified=modified||value!==original}return modified?res:asts}visitChain(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Chain(ast.span,ast.sourceSpan,expressions):ast}visitQuote(ast,context){return ast}}{constructor(constantPool,allocateSlot,allocatePureFunctionSlots,definePipe){super(),this.constantPool=constantPool,this.allocateSlot=allocateSlot,this.allocatePureFunctionSlots=allocatePureFunctionSlots,this.definePipe=definePipe,this._pipeBindExprs=[]}visitPipe(pipe,context){const slot=this.allocateSlot(),slotPseudoLocal=`PIPE:${slot}`,pureFunctionSlot=this.allocatePureFunctionSlots(2+pipe.args.length),target=new PropertyRead(pipe.span,pipe.sourceSpan,new ImplicitReceiver(pipe.span,pipe.sourceSpan),slotPseudoLocal),{identifier:identifier,isVarLength:isVarLength}=function(args){const identifier=pipeBindingIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pipeBindV,isVarLength:!identifier}}(pipe.args);this.definePipe(pipe.name,slotPseudoLocal,slot,importExpr(identifier));const args=[pipe.exp,...pipe.args],convertedArgs=isVarLength?this.visitAll([new LiteralArray(pipe.span,pipe.sourceSpan,args)]):this.visitAll(args),pipeBindExpr=new FunctionCall(pipe.span,pipe.sourceSpan,target,[new LiteralPrimitive(pipe.span,pipe.sourceSpan,slot),new LiteralPrimitive(pipe.span,pipe.sourceSpan,pureFunctionSlot),...convertedArgs]);return this._pipeBindExprs.push(pipeBindExpr),pipeBindExpr}updatePipeSlotOffsets(bindingSlots){this._pipeBindExprs.forEach(pipe=>{pipe.args[1].value+=bindingSlots})}visitLiteralArray(array,context){return new BuiltinFunctionCall(array.span,array.sourceSpan,this.visitAll(array.expressions),values=>{const literal=literalArr(values);return getLiteralFactory(this.constantPool,literal,this.allocatePureFunctionSlots)})}visitLiteralMap(map,context){return new BuiltinFunctionCall(map.span,map.sourceSpan,this.visitAll(map.values),values=>{const literal=literalMap(values.map((value,index)=>({key:map.keys[index].key,value:value,quoted:map.keys[index].quoted})));return getLiteralFactory(this.constantPool,literal,this.allocatePureFunctionSlots)})}}const pipeBindingIdentifiers=[Identifiers$1.pipeBind1,Identifiers$1.pipeBind2,Identifiers$1.pipeBind3,Identifiers$1.pipeBind4];const pureFunctionIdentifiers=[Identifiers$1.pureFunction0,Identifiers$1.pureFunction1,Identifiers$1.pureFunction2,Identifiers$1.pureFunction3,Identifiers$1.pureFunction4,Identifiers$1.pureFunction5,Identifiers$1.pureFunction6,Identifiers$1.pureFunction7,Identifiers$1.pureFunction8];function compiler_instruction(span,reference,params){return importExpr(reference,null,span).callFn(params,span)}function generateNextContextExpr(relativeLevelDiff){return importExpr(Identifiers$1.nextContext).callFn(relativeLevelDiff>1?[compiler_literal(relativeLevelDiff)]:[])}function getLiteralFactory(constantPool,literal$1,allocateSlots){const{literalFactory:literalFactory,literalFactoryArguments:literalFactoryArguments}=constantPool.getLiteralFactory(literal$1),startSlot=allocateSlots(1+literalFactoryArguments.length),{identifier:identifier,isVarLength:isVarLength}=function(args){const identifier=pureFunctionIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pureFunctionV,isVarLength:!identifier}}(literalFactoryArguments),args=[compiler_literal(startSlot),literalFactory];return isVarLength?args.push(literalArr(literalFactoryArguments)):args.push(...literalFactoryArguments),importExpr(identifier).callFn(args)}function getAttributeNameLiterals(name){const[attributeNamespace,attributeName]=splitNsName(name),nameLiteral=compiler_literal(attributeName);return attributeNamespace?[compiler_literal(0),compiler_literal(attributeNamespace),nameLiteral]:[nameLiteral]}class BindingScope{constructor(bindingLevel=0,parent=null){this.bindingLevel=bindingLevel,this.parent=parent,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return BindingScope._ROOT_SCOPE||(BindingScope._ROOT_SCOPE=(new BindingScope).set(0,"$event",variable("$event"))),BindingScope._ROOT_SCOPE}get(name){let current=this;for(;current;){let value=current.map.get(name);if(null!=value)return current!==this&&(value={retrievalLevel:value.retrievalLevel,lhs:value.lhs,declareLocalCallback:value.declareLocalCallback,declare:!1,priority:value.priority,localRef:value.localRef},this.map.set(name,value),this.maybeGenerateSharedContextVar(value),this.maybeRestoreView(value.retrievalLevel,value.localRef)),value.declareLocalCallback&&!value.declare&&(value.declare=!0),value.lhs;current=current.parent}return 0===this.bindingLevel?null:this.getComponentProperty(name)}set(retrievalLevel,name,lhs,priority=0,declareLocalCallback,localRef){if(this.map.has(name)){if(localRef)return this;compiler_error(`The name ${name} is already defined in scope to be ${this.map.get(name)}`)}return this.map.set(name,{retrievalLevel:retrievalLevel,lhs:lhs,declare:!1,declareLocalCallback:declareLocalCallback,priority:priority,localRef:localRef||!1}),this}getLocal(name){return this.get(name)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}nestedScope(level){const newScope=new BindingScope(level,this);return level>0&&newScope.generateSharedContextVar(0),newScope}getOrCreateSharedContextVar(retrievalLevel){const bindingKey="$$shared_ctx$$"+retrievalLevel;return this.map.has(bindingKey)||this.generateSharedContextVar(retrievalLevel),this.map.get(bindingKey).lhs}getSharedContextName(retrievalLevel){const sharedCtxObj=this.map.get("$$shared_ctx$$"+retrievalLevel);return sharedCtxObj&&sharedCtxObj.declare?sharedCtxObj.lhs:null}maybeGenerateSharedContextVar(value){if(1===value.priority&&value.retrievalLevel<this.bindingLevel){const sharedCtxObj=this.map.get("$$shared_ctx$$"+value.retrievalLevel);sharedCtxObj?sharedCtxObj.declare=!0:this.generateSharedContextVar(value.retrievalLevel)}}generateSharedContextVar(retrievalLevel){const lhs=variable("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+retrievalLevel,{retrievalLevel:retrievalLevel,lhs:lhs,declareLocalCallback:(scope,relativeLevel)=>[lhs.set(generateNextContextExpr(relativeLevel)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(name){const componentValue=this.map.get("$$shared_ctx$$0");return componentValue.declare=!0,this.maybeRestoreView(0,!1),componentValue.lhs.prop(name)}maybeRestoreView(retrievalLevel,localRefLookup){this.isListenerScope()&&(retrievalLevel<this.bindingLevel||localRefLookup)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=variable(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[compiler_instruction(null,Identifiers$1.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const getCurrentViewInstruction=compiler_instruction(null,Identifiers$1.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(getCurrentViewInstruction).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let currentContextLevel=0;return Array.from(this.map.values()).filter(value=>value.declare).sort((a,b)=>b.retrievalLevel-a.retrievalLevel||b.priority-a.priority).reduce((stmts,value)=>{const levelDiff=this.bindingLevel-value.retrievalLevel,currStmts=value.declareLocalCallback(this,levelDiff-currentContextLevel);return currentContextLevel=levelDiff,stmts.concat(currStmts)},[])}freshReferenceName(){let current=this;for(;current.parent;)current=current.parent;return`_r${current.referenceNameIndex++}`}}function createCssSelector(elementName,attributes){const cssSelector=new CssSelector,elementNameNoNs=splitNsName(elementName)[1];return cssSelector.setElement(elementNameNoNs),Object.getOwnPropertyNames(attributes).forEach(name=>{const nameNoNs=splitNsName(name)[1],value=attributes[name];if(cssSelector.addAttribute(nameNoNs,value),"class"===name.toLowerCase()){value.trim().split(/\s+/).forEach(className=>cssSelector.addClassName(className))}}),cssSelector}function getPropertyInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.propertyInterpolate;case 3:return Identifiers$1.propertyInterpolate1;case 5:return Identifiers$1.propertyInterpolate2;case 7:return Identifiers$1.propertyInterpolate3;case 9:return Identifiers$1.propertyInterpolate4;case 11:return Identifiers$1.propertyInterpolate5;case 13:return Identifiers$1.propertyInterpolate6;case 15:return Identifiers$1.propertyInterpolate7;case 17:return Identifiers$1.propertyInterpolate8;default:return Identifiers$1.propertyInterpolateV}}const elementRegistry=new DomElementSchemaRegistry;function makeBindingParser(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){return new BindingParser(new IvyParser(new Lexer),interpolationConfig,elementRegistry,null,[])}function resolveSanitizationFn(context,isAttribute){switch(context){case compiler_SecurityContext.HTML:return importExpr(Identifiers$1.sanitizeHtml);case compiler_SecurityContext.SCRIPT:return importExpr(Identifiers$1.sanitizeScript);case compiler_SecurityContext.STYLE:return isAttribute?importExpr(Identifiers$1.sanitizeStyle):null;case compiler_SecurityContext.URL:return importExpr(Identifiers$1.sanitizeUrl);case compiler_SecurityContext.RESOURCE_URL:return importExpr(Identifiers$1.sanitizeResourceUrl);default:return null}}function isTextNode(node){return node instanceof Text||node instanceof BoundText||node instanceof Icu}function hasTextChildrenOnly(children){return children.every(isTextNode)}function createClosureModeGuard(){return typeofExpr(variable("ngI18nClosureMode")).notIdentical(compiler_literal("undefined",STRING_TYPE)).and(variable("ngI18nClosureMode"))}const ATTR_REGEX=/attr\.([^\]]+)/;function baseDirectiveFields(meta,constantPool,bindingParser){const definitionMap=new DefinitionMap,selectors=parseSelectorToR3Selector(meta.selector);return definitionMap.set("type",meta.internalType),selectors.length>0&&definitionMap.set("selectors",asLiteral(selectors)),meta.queries.length>0&&definitionMap.set("contentQueries",function(queries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,"_t");for(const query of queries){const queryInstruction=query.static?Identifiers$1.staticContentQuery:Identifiers$1.contentQuery;createStatements.push(importExpr(queryInstruction).callFn([variable("dirIndex"),...prepareQueryParams(query,constantPool)]).toStmt());const temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())}const contentQueriesFnName=name?`${name}_ContentQueries`:null;return compiler_fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null),new FnParam("dirIndex",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,contentQueriesFnName)}(meta.queries,constantPool,meta.name)),meta.viewQueries.length&&definitionMap.set("viewQuery",function(viewQueries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,"_t");viewQueries.forEach(query=>{const queryDefinition=importExpr(query.static?Identifiers$1.staticViewQuery:Identifiers$1.viewQuery).callFn(prepareQueryParams(query,constantPool));createStatements.push(queryDefinition.toStmt());const temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())});const viewQueryFnName=name?`${name}_Query`:null;return compiler_fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,viewQueryFnName)}(meta.viewQueries,constantPool,meta.name)),definitionMap.set("hostBindings",function(hostBindingsMetadata,typeSourceSpan,bindingParser,constantPool,selector,name,definitionMap){const bindingContext=variable("ctx"),styleBuilder=new StylingBuilder(bindingContext),{styleAttr:styleAttr,classAttr:classAttr}=hostBindingsMetadata.specialAttributes;void 0!==styleAttr&&styleBuilder.registerStyleAttr(styleAttr);void 0!==classAttr&&styleBuilder.registerClassAttr(classAttr);const createStatements=[],updateStatements=[],hostBindingSourceSpan=typeSourceSpan,directiveSummary=metadataAsSummary(hostBindingsMetadata),eventBindings=bindingParser.createDirectiveHostEventAsts(directiveSummary,hostBindingSourceSpan);if(eventBindings&&eventBindings.length){const listeners=function(eventBindings,name){const listeners=[],syntheticListeners=[],instructions=[];eventBindings.forEach(binding=>{let bindingName=binding.name&&sanitizeIdentifier(binding.name);const bindingFnName=1===binding.type?prepareSyntheticListenerFunctionName(bindingName,binding.targetOrPhase):bindingName,handlerName=name&&bindingName?`${name}_${bindingFnName}_HostBindingHandler`:null,params=prepareEventListenerParameters(BoundEvent.fromParsedEvent(binding),handlerName);1==binding.type?syntheticListeners.push(params):listeners.push(params)}),syntheticListeners.length>0&&instructions.push(chainedInstruction(Identifiers$1.componentHostSyntheticListener,syntheticListeners).toStmt());listeners.length>0&&instructions.push(chainedInstruction(Identifiers$1.listener,listeners).toStmt());return instructions}(eventBindings,name);createStatements.push(...listeners)}const bindings=bindingParser.createBoundHostProperties(directiveSummary,hostBindingSourceSpan),allOtherBindings=[];let valueConverter,totalHostVarsCount=0;bindings&&bindings.forEach(binding=>{const name=binding.name;styleBuilder.registerInputBasedOnName(name,binding.expression,binding.sourceSpan)?totalHostVarsCount+=2:(allOtherBindings.push(binding),totalHostVarsCount++)});const getValueConverter=()=>{if(!valueConverter){valueConverter=new ValueConverter(constantPool,()=>compiler_error("Unexpected node"),numSlots=>{const originalVarsCount=totalHostVarsCount;return totalHostVarsCount+=numSlots,originalVarsCount},()=>compiler_error("Unexpected pipe"))}return valueConverter},propertyBindings=[],attributeBindings=[],syntheticHostBindings=[];allOtherBindings.forEach(binding=>{const value=binding.expression.visit(getValueConverter()),bindingExpr=bindingFn(bindingContext,value),{bindingName:bindingName,instruction:instruction,isAttribute:isAttribute}=function(binding){let instruction,bindingName=binding.name;const attrMatches=bindingName.match(ATTR_REGEX);attrMatches?(bindingName=attrMatches[1],instruction=Identifiers$1.attribute):binding.isAnimation?(bindingName=prepareSyntheticPropertyName(bindingName),instruction=Identifiers$1.updateSyntheticHostBinding):instruction=Identifiers$1.hostProperty;return{bindingName:bindingName,instruction:instruction,isAttribute:!!attrMatches}}(binding),securityContexts=bindingParser.calcPossibleSecurityContexts(selector,bindingName,isAttribute).filter(context=>context!==compiler_SecurityContext.NONE);let sanitizerFn=null;securityContexts.length&&(sanitizerFn=2===securityContexts.length&&securityContexts.indexOf(compiler_SecurityContext.URL)>-1&&securityContexts.indexOf(compiler_SecurityContext.RESOURCE_URL)>-1?importExpr(Identifiers$1.sanitizeUrlOrResourceUrl):resolveSanitizationFn(securityContexts[0],isAttribute));const instructionParams=[compiler_literal(bindingName),bindingExpr.currValExpr];sanitizerFn&&instructionParams.push(sanitizerFn),updateStatements.push(...bindingExpr.stmts),instruction===Identifiers$1.hostProperty?propertyBindings.push(instructionParams):instruction===Identifiers$1.attribute?attributeBindings.push(instructionParams):instruction===Identifiers$1.updateSyntheticHostBinding?syntheticHostBindings.push(instructionParams):updateStatements.push(importExpr(instruction).callFn(instructionParams).toStmt())}),propertyBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.hostProperty,propertyBindings).toStmt());attributeBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.attribute,attributeBindings).toStmt());syntheticHostBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.updateSyntheticHostBinding,syntheticHostBindings).toStmt());const hostAttrs=function(attributes){const values=[];for(let key of Object.getOwnPropertyNames(attributes)){const value=attributes[key];values.push(compiler_literal(key),value)}return values}(hostBindingsMetadata.attributes);styleBuilder.assignHostAttrs(hostAttrs,definitionMap),styleBuilder.hasBindings&&styleBuilder.buildUpdateLevelInstructions(getValueConverter()).forEach(instruction=>{if(instruction.calls.length>0){const calls=[];instruction.calls.forEach(call=>{totalHostVarsCount+=Math.max(call.allocateBindingSlots-2,0),calls.push(function(call,bindingContext,bindingFn){return call.params(value=>bindingFn(bindingContext,value).currValExpr)}(call,bindingContext,bindingFn))}),updateStatements.push(chainedInstruction(instruction.reference,calls).toStmt())}});totalHostVarsCount&&definitionMap.set("hostVars",compiler_literal(totalHostVarsCount));if(createStatements.length>0||updateStatements.length>0){const hostBindingsFnName=name?`${name}_HostBindings`:null,statements=[];return createStatements.length>0&&statements.push(renderFlagCheckIfStmt(1,createStatements)),updateStatements.length>0&&statements.push(renderFlagCheckIfStmt(2,updateStatements)),compiler_fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],statements,INFERRED_TYPE,null,hostBindingsFnName)}return null}(meta.host,meta.typeSourceSpan,bindingParser,constantPool,meta.selector||"",meta.name,definitionMap)),definitionMap.set("inputs",conditionallyCreateMapObjectLiteral(meta.inputs,!0)),definitionMap.set("outputs",conditionallyCreateMapObjectLiteral(meta.outputs)),null!==meta.exportAs&&definitionMap.set("exportAs",literalArr(meta.exportAs.map(e=>compiler_literal(e)))),definitionMap}function addFeatures(definitionMap,meta){const features=[],providers=meta.providers,viewProviders=meta.viewProviders;if(providers||viewProviders){const args=[providers||new LiteralArrayExpr([])];viewProviders&&args.push(viewProviders),features.push(importExpr(Identifiers$1.ProvidersFeature).callFn(args))}meta.usesInheritance&&features.push(importExpr(Identifiers$1.InheritDefinitionFeature)),meta.fullInheritance&&features.push(importExpr(Identifiers$1.CopyDefinitionFeature)),meta.lifecycle.usesOnChanges&&features.push(importExpr(Identifiers$1.NgOnChangesFeature)),features.length&&definitionMap.set("features",literalArr(features))}function compileDirectiveFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);return addFeatures(definitionMap,meta),{expression:importExpr(Identifiers$1.defineDirective).callFn([definitionMap.toLiteralMap()]),type:createTypeForDef(meta,Identifiers$1.DirectiveDefWithMeta)}}function compileComponentFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);addFeatures(definitionMap,meta);const selector=meta.selector&&CssSelector.parse(meta.selector),firstSelector=selector&&selector[0];if(firstSelector){const selectorAttributes=firstSelector.getAttrs();selectorAttributes.length&&definitionMap.set("attrs",constantPool.getConstLiteral(literalArr(selectorAttributes.map(value=>compiler_literal(null!=value?value:void 0))),!0))}let directiveMatcher=null;if(meta.directives.length>0){const matcher=new SelectorMatcher;for(const{selector:selector,expression:expression}of meta.directives)matcher.addSelectables(CssSelector.parse(selector),expression);directiveMatcher=matcher}const templateTypeName=meta.name,templateName=templateTypeName?`${templateTypeName}_Template`:null,directivesUsed=new Set,pipesUsed=new Set,changeDetection=meta.changeDetection,template=meta.template,templateBuilder=new TemplateDefinitionBuilder(constantPool,BindingScope.ROOT_SCOPE,0,templateTypeName,null,null,templateName,directiveMatcher,directivesUsed,meta.pipes,pipesUsed,Identifiers$1.namespaceHTML,meta.relativeContextFilePath,meta.i18nUseExternalIds),templateFunctionExpression=templateBuilder.buildTemplateFunction(template.nodes,[]),ngContentSelectors=templateBuilder.getNgContentSelectors();ngContentSelectors&&definitionMap.set("ngContentSelectors",ngContentSelectors),definitionMap.set("decls",compiler_literal(templateBuilder.getConstCount())),definitionMap.set("vars",compiler_literal(templateBuilder.getVarCount()));const consts=templateBuilder.getConsts();if(consts.length>0&&definitionMap.set("consts",literalArr(consts)),definitionMap.set("template",templateFunctionExpression),directivesUsed.size){let directivesExpr=literalArr(Array.from(directivesUsed));meta.wrapDirectivesAndPipesInClosure&&(directivesExpr=compiler_fn([],[new ReturnStatement(directivesExpr)])),definitionMap.set("directives",directivesExpr)}if(pipesUsed.size){let pipesExpr=literalArr(Array.from(pipesUsed));meta.wrapDirectivesAndPipesInClosure&&(pipesExpr=compiler_fn([],[new ReturnStatement(pipesExpr)])),definitionMap.set("pipes",pipesExpr)}if(null===meta.encapsulation&&(meta.encapsulation=compiler_ViewEncapsulation.Emulated),meta.styles&&meta.styles.length){const strings=(meta.encapsulation==compiler_ViewEncapsulation.Emulated?function(styles,selector,hostSelector){const shadowCss=new ShadowCss;return styles.map(style=>shadowCss.shimCssText(style,selector,hostSelector))}(meta.styles,"_ngcontent-%COMP%","_nghost-%COMP%"):meta.styles).map(str=>compiler_literal(str));definitionMap.set("styles",literalArr(strings))}else meta.encapsulation===compiler_ViewEncapsulation.Emulated&&(meta.encapsulation=compiler_ViewEncapsulation.None);return meta.encapsulation!==compiler_ViewEncapsulation.Emulated&&definitionMap.set("encapsulation",compiler_literal(meta.encapsulation)),null!==meta.animations&&definitionMap.set("data",literalMap([{key:"animation",value:meta.animations,quoted:!1}])),null!=changeDetection&&changeDetection!==compiler_ChangeDetectionStrategy.Default&&definitionMap.set("changeDetection",compiler_literal(changeDetection)),{expression:importExpr(Identifiers$1.defineComponent).callFn([definitionMap.toLiteralMap()]),type:createTypeForDef(meta,Identifiers$1.ComponentDefWithMeta)}}function prepareQueryParams(query,constantPool){const parameters=[getQueryPredicate(query,constantPool),compiler_literal(query.descendants)];return query.read&&parameters.push(query.read),parameters}function stringMapAsType(map){return expressionType(literalMap(Object.keys(map).map(key=>({key:key,value:compiler_literal(Array.isArray(map[key])?map[key][0]:map[key]),quoted:!0}))))}function stringArrayAsType(arr){return arr.length>0?expressionType(literalArr(arr.map(value=>compiler_literal(value)))):NONE_TYPE}function createTypeForDef(meta,typeBase){const selectorForType=null!==meta.selector?meta.selector.replace(/\n/g,""):null;return expressionType(importExpr(typeBase,[typeWithParameters(meta.type.type,meta.typeArgumentCount),null!==selectorForType?(str=selectorForType,expressionType(compiler_literal(str))):NONE_TYPE,null!==meta.exportAs?stringArrayAsType(meta.exportAs):NONE_TYPE,stringMapAsType(meta.inputs),stringMapAsType(meta.outputs),stringArrayAsType(meta.queries.map(q=>q.propertyName))]));var str}function bindingFn(implicit,value){return convertPropertyBinding(null,implicit,value,"b",BindingForm.TrySimple,()=>compiler_error("Unexpected interpolation"))}function metadataAsSummary(meta){return{hostAttributes:{},hostListeners:meta.listeners,hostProperties:meta.properties}}const HOST_REG_EXP$1=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class ResourceLoader{get(url){return""}}class CompilerFacadeImpl{constructor(jitEvaluator=new JitEvaluator){this.jitEvaluator=jitEvaluator,this.R3ResolvedDependencyType=compiler_R3ResolvedDependencyType,this.R3FactoryTarget=compiler_R3FactoryTarget,this.ResourceLoader=ResourceLoader,this.elementSchemaRegistry=new DomElementSchemaRegistry}compilePipe(angularCoreEnv,sourceMapUrl,facade){const res=compilePipeFromMetadata({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,deps:convertR3DependencyMetadataArray(facade.deps),pipeName:facade.pipeName,pure:facade.pure});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileInjectable(angularCoreEnv,sourceMapUrl,facade){const{expression:expression,statements:statements}=function(meta){let result=null;const factoryMeta={name:meta.name,type:meta.type,internalType:meta.internalType,typeArgumentCount:meta.typeArgumentCount,deps:[],injectFn:Identifiers.inject,target:compiler_R3FactoryTarget.Injectable};if(void 0!==meta.useClass){const useClassOnSelf=meta.useClass.isEquivalent(meta.internalType);let deps=void 0;void 0!==meta.userDeps&&(deps=meta.userDeps),result=void 0!==deps?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{delegate:meta.useClass,delegateDeps:deps,delegateType:R3FactoryDelegateType.Class})):useClassOnSelf?compileFactoryFunction(factoryMeta):delegateToFactory(meta.type.value,meta.useClass)}else result=void 0!==meta.useFactory?void 0!==meta.userDeps?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{delegate:meta.useFactory,delegateDeps:meta.userDeps||[],delegateType:R3FactoryDelegateType.Function})):{statements:[],factory:compiler_fn([],[new ReturnStatement(meta.useFactory.callFn([]))])}:void 0!==meta.useValue?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{expression:meta.useValue})):void 0!==meta.useExisting?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{expression:importExpr(Identifiers.inject).callFn([meta.useExisting])})):delegateToFactory(meta.type.value,meta.internalType);const injectableProps={token:meta.internalType,factory:result.factory};return null!==meta.providedIn.value&&(injectableProps.providedIn=meta.providedIn),{expression:importExpr(Identifiers.ɵɵdefineInjectable).callFn([mapToMapExpression(injectableProps)]),type:new ExpressionType(importExpr(Identifiers.InjectableDef,[typeWithParameters(meta.type.type,meta.typeArgumentCount)])),statements:result.statements}}({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,providedIn:computeProvidedIn(facade.providedIn),useClass:wrapExpression(facade,USE_CLASS),useFactory:wrapExpression(facade,USE_FACTORY),useValue:wrapExpression(facade,compiler_USE_VALUE),useExisting:wrapExpression(facade,USE_EXISTING),userDeps:convertR3DependencyMetadataArray(facade.userDeps)||void 0});return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,statements)}compileInjector(angularCoreEnv,sourceMapUrl,facade){const res=function(meta){const result=compileFactoryFunction({name:meta.name,type:meta.type,internalType:meta.internalType,typeArgumentCount:0,deps:meta.deps,injectFn:Identifiers$1.inject,target:compiler_R3FactoryTarget.NgModule}),definitionMap={factory:result.factory};return null!==meta.providers&&(definitionMap.providers=meta.providers),meta.imports.length>0&&(definitionMap.imports=literalArr(meta.imports)),{expression:importExpr(Identifiers$1.defineInjector).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.InjectorDef,[new ExpressionType(meta.type.type)])),statements:result.statements}}({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),providers:new WrappedNodeExpr(facade.providers),imports:facade.imports.map(i=>new WrappedNodeExpr(i))});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,res.statements)}compileNgModule(angularCoreEnv,sourceMapUrl,facade){const res=compiler_compileNgModule({type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),adjacentType:new WrappedNodeExpr(facade.type),bootstrap:facade.bootstrap.map(wrapReference$1),declarations:facade.declarations.map(wrapReference$1),imports:facade.imports.map(wrapReference$1),exports:facade.exports.map(wrapReference$1),emitInline:!0,containsForwardDecls:!1,schemas:facade.schemas?facade.schemas.map(wrapReference$1):null,id:facade.id?new WrappedNodeExpr(facade.id):null});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileDirective(angularCoreEnv,sourceMapUrl,facade){const constantPool=new ConstantPool,bindingParser=makeBindingParser(),res=compileDirectiveFromMetadata(convertDirectiveFacadeToMetadata(facade),constantPool,bindingParser);return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,constantPool.statements)}compileComponent(angularCoreEnv,sourceMapUrl,facade){const constantPool=new ConstantPool,interpolationConfig=facade.interpolation?InterpolationConfig.fromArray(facade.interpolation):DEFAULT_INTERPOLATION_CONFIG,template=function(template,templateUrl,options={}){const{interpolationConfig:interpolationConfig,preserveWhitespaces:preserveWhitespaces,enableI18nLegacyMessageIdFormat:enableI18nLegacyMessageIdFormat}=options,bindingParser=makeBindingParser(interpolationConfig),parseResult=(new HtmlParser).parse(template,templateUrl,Object.assign(Object.assign({leadingTriviaChars:LEADING_TRIVIA_CHARS},options),{tokenizeExpansionForms:!0}));if(parseResult.errors&&parseResult.errors.length>0)return{errors:parseResult.errors,nodes:[],styleUrls:[],styles:[]};let rootNodes=parseResult.rootNodes;const i18nMetaVisitor=new I18nMetaVisitor(interpolationConfig,!preserveWhitespaces,enableI18nLegacyMessageIdFormat);rootNodes=visitAll$1(i18nMetaVisitor,rootNodes),preserveWhitespaces||(rootNodes=visitAll$1(new WhitespaceVisitor,rootNodes),i18nMetaVisitor.hasI18nMeta&&(rootNodes=visitAll$1(new I18nMetaVisitor(interpolationConfig,!1),rootNodes)));const{nodes:nodes,errors:errors,styleUrls:styleUrls,styles:styles}=htmlAstToRender3Ast(rootNodes,bindingParser);return errors&&errors.length>0?{errors:errors,nodes:[],styleUrls:[],styles:[]}:{nodes:nodes,styleUrls:styleUrls,styles:styles}}(facade.template,sourceMapUrl,{preserveWhitespaces:facade.preserveWhitespaces,interpolationConfig:interpolationConfig});if(void 0!==template.errors){const errors=template.errors.map(err=>err.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${facade.name}: ${errors}`)}const res=compileComponentFromMetadata(Object.assign(Object.assign(Object.assign({},facade),convertDirectiveFacadeToMetadata(facade)),{selector:facade.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:template,wrapDirectivesAndPipesInClosure:!1,styles:[...facade.styles,...template.styles],encapsulation:facade.encapsulation,interpolation:interpolationConfig,changeDetection:facade.changeDetection,animations:null!=facade.animations?new WrappedNodeExpr(facade.animations):null,viewProviders:null!=facade.viewProviders?new WrappedNodeExpr(facade.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),constantPool,makeBindingParser(interpolationConfig)),jitExpressionSourceMap=`ng:///${facade.name}.js`;return this.jitExpression(res.expression,angularCoreEnv,jitExpressionSourceMap,constantPool.statements)}compileFactory(angularCoreEnv,sourceMapUrl,meta){const factoryRes=compileFactoryFunction({name:meta.name,type:wrapReference$1(meta.type),internalType:new WrappedNodeExpr(meta.type),typeArgumentCount:meta.typeArgumentCount,deps:convertR3DependencyMetadataArray(meta.deps),injectFn:"directiveInject"===meta.injectFn?Identifiers.directiveInject:Identifiers.inject,target:meta.target});return this.jitExpression(factoryRes.factory,angularCoreEnv,sourceMapUrl,factoryRes.statements)}createParseSourceSpan(kind,typeName,sourceUrl){return function(kind,typeName,sourceUrl){const sourceFile=new ParseSourceFile("",`in ${kind} ${typeName} in ${sourceUrl}`);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}(kind,typeName,sourceUrl)}jitExpression(def,context,sourceUrl,preStatements){const statements=[...preStatements,new DeclareVarStmt("$def",def,void 0,[StmtModifier.Exported])];return this.jitEvaluator.evaluateStatements(sourceUrl,statements,new R3JitReflector(context),!0).$def}}const USE_CLASS=Object.keys({useClass:null})[0],USE_FACTORY=Object.keys({useFactory:null})[0],compiler_USE_VALUE=Object.keys({useValue:null})[0],USE_EXISTING=Object.keys({useExisting:null})[0],wrapReference$1=function(value){const wrapped=new WrappedNodeExpr(value);return{value:wrapped,type:wrapped}};function compiler_convertToR3QueryMetadata(facade){return Object.assign(Object.assign({},facade),{predicate:Array.isArray(facade.predicate)?facade.predicate:new WrappedNodeExpr(facade.predicate),read:facade.read?new WrappedNodeExpr(facade.read):null,static:facade.static})}function convertDirectiveFacadeToMetadata(facade){const inputsFromMetadata=parseInputOutputs(facade.inputs||[]),outputsFromMetadata=parseInputOutputs(facade.outputs||[]),propMetadata=facade.propMetadata,inputsFromType={},outputsFromType={};for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"Input"===ann.ngMetadataName?inputsFromType[field]=ann.bindingPropertyName?[ann.bindingPropertyName,field]:field:isOutput(ann)&&(outputsFromType[field]=ann.bindingPropertyName||field)});return Object.assign(Object.assign({},facade),{typeSourceSpan:facade.typeSourceSpan,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),host:extractHostBindings(facade.propMetadata,facade.typeSourceSpan,facade.host),inputs:Object.assign(Object.assign({},inputsFromMetadata),inputsFromType),outputs:Object.assign(Object.assign({},outputsFromMetadata),outputsFromType),queries:facade.queries.map(compiler_convertToR3QueryMetadata),providers:null!=facade.providers?new WrappedNodeExpr(facade.providers):null,viewQueries:facade.viewQueries.map(compiler_convertToR3QueryMetadata),fullInheritance:!1})}function wrapExpression(obj,property){return obj.hasOwnProperty(property)?new WrappedNodeExpr(obj[property]):void 0}function computeProvidedIn(providedIn){return null==providedIn||"string"==typeof providedIn?new LiteralExpr(providedIn):new WrappedNodeExpr(providedIn)}function convertR3DependencyMetadata(facade){let tokenExpr;return tokenExpr=null===facade.token?new LiteralExpr(null):facade.resolved===compiler_R3ResolvedDependencyType.Attribute?new LiteralExpr(facade.token):new WrappedNodeExpr(facade.token),{token:tokenExpr,resolved:facade.resolved,host:facade.host,optional:facade.optional,self:facade.self,skipSelf:facade.skipSelf}}function convertR3DependencyMetadataArray(facades){return null==facades?null:facades.map(convertR3DependencyMetadata)}function extractHostBindings(propMetadata,sourceSpan,host){const bindings=function(host){const attributes={},listeners={},properties={},specialAttributes={};for(const key of Object.keys(host)){const value=host[key],matches=key.match(HOST_REG_EXP$1);if(null===matches)switch(key){case"class":if("string"!=typeof value)throw new Error("Class binding must be string");specialAttributes.classAttr=value;break;case"style":if("string"!=typeof value)throw new Error("Style binding must be string");specialAttributes.styleAttr=value;break;default:attributes[key]="string"==typeof value?compiler_literal(value):value}else if(null!=matches[1]){if("string"!=typeof value)throw new Error("Property binding must be string");properties[matches[1]]=value}else if(null!=matches[2]){if("string"!=typeof value)throw new Error("Event binding must be string");listeners[matches[2]]=value}}return{attributes:attributes,listeners:listeners,properties:properties,specialAttributes:specialAttributes}}(host||{}),errors=function(bindings,sourceSpan){const summary=metadataAsSummary(bindings),bindingParser=makeBindingParser();return bindingParser.createDirectiveHostEventAsts(summary,sourceSpan),bindingParser.createBoundHostProperties(summary,sourceSpan),bindingParser.errors}(bindings,sourceSpan);if(errors.length)throw new Error(errors.map(error=>error.msg).join("\n"));for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"HostBinding"===ann.ngMetadataName?bindings.properties[ann.hostPropertyName||field]=field:isHostListener(ann)&&(bindings.listeners[ann.eventName||field]=`${field}(${(ann.args||[]).join(",")})`)});return bindings}function isHostListener(value){return"HostListener"===value.ngMetadataName}function isOutput(value){return"Output"===value.ngMetadataName}function parseInputOutputs(values){return values.reduce((map,value)=>{const[field,property]=value.split(",").map(piece=>piece.trim());return map[field]=property||field,map},{})}new class{constructor(full){this.full=full;const splits=full.split(".");this.major=splits[0],this.minor=splits[1],this.patch=splits.slice(2).join(".")}}("9.0.7");class CompilerConfig{constructor({defaultEncapsulation:defaultEncapsulation=compiler_ViewEncapsulation.Emulated,useJit:useJit=!0,jitDevMode:jitDevMode=!1,missingTranslation:missingTranslation=null,preserveWhitespaces:preserveWhitespaces,strictInjectionParameters:strictInjectionParameters}={}){this.defaultEncapsulation=defaultEncapsulation,this.useJit=!!useJit,this.jitDevMode=!!jitDevMode,this.missingTranslation=missingTranslation,this.preserveWhitespaces=preserveWhitespacesDefault(noUndefined(preserveWhitespaces)),this.strictInjectionParameters=!0===strictInjectionParameters}}function preserveWhitespacesDefault(preserveWhitespacesOption,defaultSetting=!1){return null===preserveWhitespacesOption?defaultSetting:preserveWhitespacesOption}class DirectiveNormalizer{constructor(_resourceLoader,_urlResolver,_htmlParser,_config){this._resourceLoader=_resourceLoader,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser,this._config=_config,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(normalizedDirective){if(!normalizedDirective.isComponent)return;const template=normalizedDirective.template;this._resourceLoaderCache.delete(template.templateUrl),template.externalStylesheets.forEach(stylesheet=>{this._resourceLoaderCache.delete(stylesheet.moduleUrl)})}_fetch(url){let result=this._resourceLoaderCache.get(url);return result||(result=this._resourceLoader.get(url),this._resourceLoaderCache.set(url,result)),result}normalizeTemplate(prenormData){if(isDefined(prenormData.template)){if(isDefined(prenormData.templateUrl))throw syntaxError(`'${compiler_stringify(prenormData.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof prenormData.template)throw syntaxError(`The template specified for component ${compiler_stringify(prenormData.componentType)} is not a string`)}else{if(!isDefined(prenormData.templateUrl))throw syntaxError(`No template specified for component ${compiler_stringify(prenormData.componentType)}`);if("string"!=typeof prenormData.templateUrl)throw syntaxError(`The templateUrl specified for component ${compiler_stringify(prenormData.componentType)} is not a string`)}if(isDefined(prenormData.preserveWhitespaces)&&"boolean"!=typeof prenormData.preserveWhitespaces)throw syntaxError(`The preserveWhitespaces option for component ${compiler_stringify(prenormData.componentType)} must be a boolean`);return SyncAsync_then(this._preParseTemplate(prenormData),preparsedTemplate=>this._normalizeTemplateMetadata(prenormData,preparsedTemplate))}_preParseTemplate(prenomData){let template,templateUrl;return null!=prenomData.template?(template=prenomData.template,templateUrl=prenomData.moduleUrl):(templateUrl=this._urlResolver.resolve(prenomData.moduleUrl,prenomData.templateUrl),template=this._fetch(templateUrl)),SyncAsync_then(template,template=>this._preparseLoadedTemplate(prenomData,template,templateUrl))}_preparseLoadedTemplate(prenormData,template,templateAbsUrl){const isInline=!!prenormData.template,interpolationConfig=InterpolationConfig.fromArray(prenormData.interpolation),templateUrl=templateSourceUrl({reference:prenormData.ngModuleType},{type:{reference:prenormData.componentType}},{isInline:isInline,templateUrl:templateAbsUrl}),rootNodesAndErrors=this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:interpolationConfig});if(rootNodesAndErrors.errors.length>0){throw syntaxError(`Template parse errors:\n${rootNodesAndErrors.errors.join("\n")}`)}const templateMetadataStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:prenormData.styles,moduleUrl:prenormData.moduleUrl})),visitor=new TemplatePreparseVisitor;visitAll$1(visitor,rootNodesAndErrors.rootNodes);const templateStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:visitor.styles,styleUrls:visitor.styleUrls,moduleUrl:templateAbsUrl}));return{template:template,templateUrl:templateAbsUrl,isInline:isInline,htmlAst:rootNodesAndErrors,styles:templateMetadataStyles.styles.concat(templateStyles.styles),inlineStyleUrls:templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls),styleUrls:this._normalizeStylesheet(new CompileStylesheetMetadata({styleUrls:prenormData.styleUrls,moduleUrl:prenormData.moduleUrl})).styleUrls,ngContentSelectors:visitor.ngContentSelectors}}_normalizeTemplateMetadata(prenormData,preparsedTemplate){return SyncAsync_then(this._loadMissingExternalStylesheets(preparsedTemplate.styleUrls.concat(preparsedTemplate.inlineStyleUrls)),externalStylesheets=>this._normalizeLoadedTemplateMetadata(prenormData,preparsedTemplate,externalStylesheets))}_normalizeLoadedTemplateMetadata(prenormData,preparsedTemplate,stylesheets){const styles=[...preparsedTemplate.styles];this._inlineStyles(preparsedTemplate.inlineStyleUrls,stylesheets,styles);const styleUrls=preparsedTemplate.styleUrls,externalStylesheets=styleUrls.map(styleUrl=>{const stylesheet=stylesheets.get(styleUrl),styles=[...stylesheet.styles];return this._inlineStyles(stylesheet.styleUrls,stylesheets,styles),new CompileStylesheetMetadata({moduleUrl:styleUrl,styles:styles})});let encapsulation=prenormData.encapsulation;return null==encapsulation&&(encapsulation=this._config.defaultEncapsulation),encapsulation===compiler_ViewEncapsulation.Emulated&&0===styles.length&&0===styleUrls.length&&(encapsulation=compiler_ViewEncapsulation.None),new CompileTemplateMetadata({encapsulation:encapsulation,template:preparsedTemplate.template,templateUrl:preparsedTemplate.templateUrl,htmlAst:preparsedTemplate.htmlAst,styles:styles,styleUrls:styleUrls,ngContentSelectors:preparsedTemplate.ngContentSelectors,animations:prenormData.animations,interpolation:prenormData.interpolation,isInline:preparsedTemplate.isInline,externalStylesheets:externalStylesheets,preserveWhitespaces:preserveWhitespacesDefault(prenormData.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(styleUrls,stylesheets,targetStyles){styleUrls.forEach(styleUrl=>{const stylesheet=stylesheets.get(styleUrl);stylesheet.styles.forEach(style=>targetStyles.push(style)),this._inlineStyles(stylesheet.styleUrls,stylesheets,targetStyles)})}_loadMissingExternalStylesheets(styleUrls,loadedStylesheets=new Map){return SyncAsync_then(SyncAsync_all(styleUrls.filter(styleUrl=>!loadedStylesheets.has(styleUrl)).map(styleUrl=>SyncAsync_then(this._fetch(styleUrl),loadedStyle=>{const stylesheet=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:[loadedStyle],moduleUrl:styleUrl}));return loadedStylesheets.set(styleUrl,stylesheet),this._loadMissingExternalStylesheets(stylesheet.styleUrls,loadedStylesheets)}))),_=>loadedStylesheets)}_normalizeStylesheet(stylesheet){const moduleUrl=stylesheet.moduleUrl,allStyleUrls=stylesheet.styleUrls.filter(isStyleUrlResolvable).map(url=>this._urlResolver.resolve(moduleUrl,url)),allStyles=stylesheet.styles.map(style=>{const styleWithImports=function(resolver,baseUrl,cssText){const foundUrls=[],modifiedCssText=cssText.replace(CSS_STRIPPABLE_COMMENT_REGEXP,"").replace(CSS_IMPORT_REGEXP,(...m)=>{const url=m[1]||m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}(this._urlResolver,moduleUrl,style);return allStyleUrls.push(...styleWithImports.styleUrls),styleWithImports.style});return new CompileStylesheetMetadata({styles:allStyles,styleUrls:allStyleUrls,moduleUrl:moduleUrl})}}class TemplatePreparseVisitor{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(ast,context){const preparsedElement=preparseElement(ast);switch(preparsedElement.type){case PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case PreparsedElementType.STYLE:let textContent="";ast.children.forEach(child=>{child instanceof Text$3&&(textContent+=child.value)}),this.styles.push(textContent);break;case PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,visitAll$1(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(ast,context){visitAll$1(this,ast.cases)}visitExpansionCase(ast,context){visitAll$1(this,ast.expression)}visitComment(ast,context){return null}visitAttribute(ast,context){return null}visitText(ast,context){return null}}const QUERY_METADATA_IDENTIFIERS=[createViewChild,createViewChildren,createContentChild,createContentChildren];class DirectiveResolver{constructor(_reflector){this._reflector=_reflector}isDirective(type){const typeMetadata=this._reflector.annotations(compiler_resolveForwardRef(type));return typeMetadata&&typeMetadata.some(isDirectiveMetadata)}resolve(type,throwIfNotFound=!0){const typeMetadata=this._reflector.annotations(compiler_resolveForwardRef(type));if(typeMetadata){const metadata=findLast(typeMetadata,isDirectiveMetadata);if(metadata){const propertyMetadata=this._reflector.propMetadata(type),guards=this._reflector.guards(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,guards,type)}}if(throwIfNotFound)throw new Error(`No Directive annotation found on ${compiler_stringify(type)}`);return null}_mergeWithPropertyMetadata(dm,propertyMetadata,guards,directiveType){const inputs=[],outputs=[],host={},queries={};return Object.keys(propertyMetadata).forEach(propName=>{const input=findLast(propertyMetadata[propName],a=>createInput.isTypeOf(a));input&&(input.bindingPropertyName?inputs.push(`${propName}: ${input.bindingPropertyName}`):inputs.push(propName));const output=findLast(propertyMetadata[propName],a=>createOutput.isTypeOf(a));output&&(output.bindingPropertyName?outputs.push(`${propName}: ${output.bindingPropertyName}`):outputs.push(propName)),propertyMetadata[propName].filter(a=>createHostBinding.isTypeOf(a)).forEach(hostBinding=>{if(hostBinding.hostPropertyName){const startWith=hostBinding.hostPropertyName[0];if("("===startWith)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===startWith)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");host[`[${hostBinding.hostPropertyName}]`]=propName}else host[`[${propName}]`]=propName}),propertyMetadata[propName].filter(a=>createHostListener.isTypeOf(a)).forEach(hostListener=>{const args=hostListener.args||[];host[`(${hostListener.eventName})`]=`${propName}(${args.join(",")})`});const query=findLast(propertyMetadata[propName],a=>QUERY_METADATA_IDENTIFIERS.some(i=>i.isTypeOf(a)));query&&(queries[propName]=query)}),this._merge(dm,inputs,outputs,host,queries,guards,directiveType)}_extractPublicName(def){return splitAtColon(def,[null,def])[1].trim()}_dedupeBindings(bindings){const names=new Set,publicNames=new Set,reversedResult=[];for(let i=bindings.length-1;i>=0;i--){const binding=bindings[i],name=this._extractPublicName(binding);publicNames.add(name),names.has(name)||(names.add(name),reversedResult.push(binding))}return reversedResult.reverse()}_merge(directive,inputs,outputs,host,queries,guards,directiveType){const mergedInputs=this._dedupeBindings(directive.inputs?directive.inputs.concat(inputs):inputs),mergedOutputs=this._dedupeBindings(directive.outputs?directive.outputs.concat(outputs):outputs),mergedHost=directive.host?Object.assign(Object.assign({},directive.host),host):host,mergedQueries=directive.queries?Object.assign(Object.assign({},directive.queries),queries):queries;if(createComponent.isTypeOf(directive)){const comp=directive;return createComponent({selector:comp.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:comp.exportAs,moduleId:comp.moduleId,queries:mergedQueries,changeDetection:comp.changeDetection,providers:comp.providers,viewProviders:comp.viewProviders,entryComponents:comp.entryComponents,template:comp.template,templateUrl:comp.templateUrl,styles:comp.styles,styleUrls:comp.styleUrls,encapsulation:comp.encapsulation,animations:comp.animations,interpolation:comp.interpolation,preserveWhitespaces:directive.preserveWhitespaces})}return createDirective({selector:directive.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:directive.exportAs,queries:mergedQueries,providers:directive.providers,guards:guards})}}function isDirectiveMetadata(type){return createDirective.isTypeOf(type)||createComponent.isTypeOf(type)}function findLast(arr,condition){for(let i=arr.length-1;i>=0;i--)if(condition(arr[i]))return arr[i];return null}class I18nError extends ParseError{constructor(span,msg){super(span,msg)}}const _I18N_COMMENT_PREFIX_REGEXP=/^i18n:?/;let i18nCommentsWarned=!1;class ExtractionResult{constructor(messages,errors){this.messages=messages,this.errors=errors}}var _VisitorMode;!function(_VisitorMode){_VisitorMode[_VisitorMode.Extract=0]="Extract",_VisitorMode[_VisitorMode.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));class _Visitor$2{constructor(_implicitTags,_implicitAttrs){this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}extract(nodes,interpolationConfig){return this._init(_VisitorMode.Extract,interpolationConfig),nodes.forEach(node=>node.visit(this,null)),this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ExtractionResult(this._messages,this._errors)}merge(nodes,translations,interpolationConfig){this._init(_VisitorMode.Merge,interpolationConfig),this._translations=translations;const translatedNode=new Element$1("wrapper",[],nodes,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ParseTreeResult(translatedNode.children,this._errors)}visitExpansionCase(icuCase,context){const expression=visitAll$1(this,icuCase.expression,context);if(this._mode===_VisitorMode.Merge)return new ExpansionCase(icuCase.value,expression,icuCase.sourceSpan,icuCase.valueSourceSpan,icuCase.expSourceSpan)}visitExpansion(icu,context){this._mayBeAddBlockChildren(icu);const wasInIcu=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([icu]),this._inIcu=!0);const cases=visitAll$1(this,icu.cases,context);return this._mode===_VisitorMode.Merge&&(icu=new Expansion(icu.switchValue,icu.type,cases,icu.sourceSpan,icu.switchValueSourceSpan)),this._inIcu=wasInIcu,icu}visitComment(comment,context){const isOpening=!!((n=comment)instanceof Comment&&n.value&&n.value.startsWith("i18n"));var n;if(isOpening&&this._isInTranslatableSection)return void this._reportError(comment,"Could not start a block inside a translatable section");const isClosing=function(n){return!!(n instanceof Comment&&n.value&&"/i18n"===n.value)}(comment);if(!isClosing||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(isClosing){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(comment,this._blockChildren),this._inI18nBlock=!1;const message=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return visitAll$1(this,this._translateMessage(comment,message))}return void this._reportError(comment,"I18N blocks should not cross element boundaries")}}else if(isOpening){if(!i18nCommentsWarned&&console&&console.warn){i18nCommentsWarned=!0;const details=comment.sourceSpan.details?`, ${comment.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${comment.sourceSpan.start}${details})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=comment.value.replace(_I18N_COMMENT_PREFIX_REGEXP,"").trim(),this._openTranslatableSection(comment)}}else this._reportError(comment,"Trying to close an unopened block")}visitText(text,context){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(text),text}visitElement(el,context){this._mayBeAddBlockChildren(el),this._depth++;const wasInI18nNode=this._inI18nNode,wasInImplicitNode=this._inImplicitNode;let childNodes=[],translatedChildNodes=void 0;const i18nAttr=el.attrs.find(attr=>"i18n"===attr.name)||null;const i18nMeta=i18nAttr?i18nAttr.value:"",isImplicit=this._implicitTags.some(tag=>el.name===tag)&&!this._inIcu&&!this._isInTranslatableSection,isTopLevelImplicit=!wasInImplicitNode&&isImplicit;if(this._inImplicitNode=wasInImplicitNode||isImplicit,this._isInTranslatableSection||this._inIcu)(i18nAttr||isTopLevelImplicit)&&this._reportError(el,"Could not mark an element as translatable inside a translatable section"),this._mode==_VisitorMode.Extract&&visitAll$1(this,el.children);else{if(i18nAttr||isTopLevelImplicit){this._inI18nNode=!0;const message=this._addMessage(el.children,i18nMeta);translatedChildNodes=this._translateMessage(el,message)}if(this._mode==_VisitorMode.Extract){const isTranslatable=i18nAttr||isTopLevelImplicit;isTranslatable&&this._openTranslatableSection(el),visitAll$1(this,el.children),isTranslatable&&this._closeTranslatableSection(el,el.children)}}if(this._mode===_VisitorMode.Merge){(translatedChildNodes||el.children).forEach(child=>{const visited=child.visit(this,context);visited&&!this._isInTranslatableSection&&(childNodes=childNodes.concat(visited))})}if(this._visitAttributesOf(el),this._depth--,this._inI18nNode=wasInI18nNode,this._inImplicitNode=wasInImplicitNode,this._mode===_VisitorMode.Merge){const translatedAttrs=this._translateAttributes(el);return new Element$1(el.name,translatedAttrs,childNodes,el.sourceSpan,el.startSourceSpan,el.endSourceSpan)}return null}visitAttribute(attribute,context){throw new Error("unreachable code")}_init(mode,interpolationConfig){this._mode=mode,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(interpolationConfig)}_visitAttributesOf(el){const explicitAttrNameToValue={},implicitAttrNames=this._implicitAttrs[el.name]||[];el.attrs.filter(attr=>attr.name.startsWith("i18n-")).forEach(attr=>explicitAttrNameToValue[attr.name.slice("i18n-".length)]=attr.value),el.attrs.forEach(attr=>{attr.name in explicitAttrNameToValue?this._addMessage([attr],explicitAttrNameToValue[attr.name]):implicitAttrNames.some(name=>attr.name===name)&&this._addMessage([attr])})}_addMessage(ast,msgMeta){if(0==ast.length||1==ast.length&&ast[0]instanceof compiler_Attribute&&!ast[0].value)return null;const{meaning:meaning,description:description,id:id}=_parseMessageMeta(msgMeta),message=this._createI18nMessage(ast,meaning,description,id);return this._messages.push(message),message}_translateMessage(el,message){if(message&&this._mode===_VisitorMode.Merge){const nodes=this._translations.get(message);if(nodes)return nodes;this._reportError(el,`Translation unavailable for message id="${this._translations.digest(message)}"`)}return[]}_translateAttributes(el){const attributes=el.attrs,i18nParsedMessageMeta={};attributes.forEach(attr=>{attr.name.startsWith("i18n-")&&(i18nParsedMessageMeta[attr.name.slice("i18n-".length)]=_parseMessageMeta(attr.value))});const translatedAttributes=[];return attributes.forEach(attr=>{if("i18n"!==attr.name&&!attr.name.startsWith("i18n-"))if(attr.value&&""!=attr.value&&i18nParsedMessageMeta.hasOwnProperty(attr.name)){const{meaning:meaning,description:description,id:id}=i18nParsedMessageMeta[attr.name],message=this._createI18nMessage([attr],meaning,description,id),nodes=this._translations.get(message);if(nodes)if(0==nodes.length)translatedAttributes.push(new compiler_Attribute(attr.name,"",attr.sourceSpan));else if(nodes[0]instanceof Text$3){const value=nodes[0].value;translatedAttributes.push(new compiler_Attribute(attr.name,value,attr.sourceSpan))}else this._reportError(el,`Unexpected translation for attribute "${attr.name}" (id="${id||this._translations.digest(message)}")`);else this._reportError(el,`Translation unavailable for attribute "${attr.name}" (id="${id||this._translations.digest(message)}")`)}else translatedAttributes.push(attr)}),translatedAttributes}_mayBeAddBlockChildren(node){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(node)}_openTranslatableSection(node){this._isInTranslatableSection?this._reportError(node,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(node,directChildren){if(!this._isInTranslatableSection)return void this._reportError(node,"Unexpected section end");const startIndex=this._msgCountAtSectionStart;if(1==directChildren.reduce((count,node)=>count+(node instanceof Comment?0:1),0))for(let i=this._messages.length-1;i>=startIndex;i--){const ast=this._messages[i].nodes;if(!(1==ast.length&&ast[0]instanceof Text$1)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0}_reportError(node,msg){this._errors.push(new I18nError(node.sourceSpan,msg))}}function _parseMessageMeta(i18n){if(!i18n)return{meaning:"",description:"",id:""};const idIndex=i18n.indexOf("@@"),descIndex=i18n.indexOf("|"),[meaningAndDesc,id]=idIndex>-1?[i18n.slice(0,idIndex),i18n.slice(idIndex+2)]:[i18n,""],[meaning,description]=descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc];return{meaning:meaning,description:description,id:id.trim()}}const _TAG_DEFINITION=new class{constructor(){this.closedByParent=!1,this.contentType=TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(currentParent){return!1}isClosedByChild(name){return!1}};function getXmlTagDefinition(tagName){return _TAG_DEFINITION}class XmlParser extends Parser{constructor(){super(getXmlTagDefinition)}parse(source,url,options){return super.parse(source,url,options)}}class Xliff extends Serializer{write(messages,locale){const visitor=new _WriteVisitor,transUnits=[];messages.forEach(message=>{let contextTags=[];message.sources.forEach(source=>{let contextGroupTag=new Tag("context-group",{purpose:"location"});contextGroupTag.children.push(new CR(10),new Tag("context",{"context-type":"sourcefile"},[new Text$2(source.filePath)]),new CR(10),new Tag("context",{"context-type":"linenumber"},[new Text$2(`${source.startLine}`)]),new CR(8)),contextTags.push(new CR(8),contextGroupTag)});const transUnit=new Tag("trans-unit",{id:message.id,datatype:"html"});transUnit.children.push(new CR(8),new Tag("source",{},visitor.serialize(message.nodes)),...contextTags),message.description&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"description"},[new Text$2(message.description)])),message.meaning&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"meaning"},[new Text$2(message.meaning)])),transUnit.children.push(new CR(6)),transUnits.push(new CR(6),transUnit)});const body=new Tag("body",{},[...transUnits,new CR(4)]),file=new Tag("file",{"source-language":locale||"en",datatype:"plaintext",original:"ng2.template"},[new CR(4),body,new CR(2)]),xliff=new Tag("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])}load(content,url){const xliffParser=new XliffParser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xliffParser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n;if(Object.keys(msgIdToHtml).forEach(msgId=>{const{i18nNodes:i18nNodes,errors:e}=converter.convert(msgIdToHtml[msgId],url);errors.push(...e),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error(`xliff parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return digest(message)}}class _WriteVisitor{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const ctype=function(tag){switch(tag.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${tag}`}}(ph.tag);if(ph.isVoid)return[new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":`<${ph.tag}/>`})];const startTagPh=new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":`<${ph.tag}>`}),closeTagPh=new Tag("x",{id:ph.closeName,ctype:ctype,"equiv-text":`</${ph.tag}>`});return[startTagPh,...this.serialize(ph.children),closeTagPh]}visitPlaceholder(ph,context){return[new Tag("x",{id:ph.name,"equiv-text":`{{${ph.value}}}`})]}visitIcuPlaceholder(ph,context){const equivText=`{${ph.value.expression}, ${ph.value.type}, ${Object.keys(ph.value.cases).map(value=>value+" {...}").join(" ")}}`;return[new Tag("x",{id:ph.name,"equiv-text":equivText})]}serialize(nodes){return[].concat(...nodes.map(node=>node.visit(this)))}}class XliffParser{constructor(){this._locale=null}parse(xliff,url){this._unitMlString=null,this._msgIdToHtml={};const xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"trans-unit":this._unitMlString=null;const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,`Duplicated translations for msg ${id}`):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,`Message ${id} misses a translation`))}else this._addError(element,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":case"alt-trans":break;case"target":const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"file":const localeAttr=element.attrs.find(attr=>"target-language"===attr.name);localeAttr&&(this._locale=localeAttr.value),visitAll$1(this,element.children,null);break;default:visitAll$1(this,element.children,null)}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat(...visitAll$1(this,xmlIcu.rootNodes)),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitElement(el,context){if("x"===el.name){const nameAttr=el.attrs.find(attr=>"id"===attr.name);return nameAttr?new Placeholder("",nameAttr.value,el.sourceSpan):(this._addError(el,'<x> misses the "id" attribute'),null)}return"mrk"===el.name?[].concat(...visitAll$1(this,el.children)):(this._addError(el,"Unexpected tag"),null)}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new compiler_Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class Xliff2 extends Serializer{write(messages,locale){const visitor=new _WriteVisitor$1,units=[];messages.forEach(message=>{const unit=new Tag("unit",{id:message.id}),notes=new Tag("notes");(message.description||message.meaning)&&(message.description&&notes.children.push(new CR(8),new Tag("note",{category:"description"},[new Text$2(message.description)])),message.meaning&&notes.children.push(new CR(8),new Tag("note",{category:"meaning"},[new Text$2(message.meaning)]))),message.sources.forEach(source=>{notes.children.push(new CR(8),new Tag("note",{category:"location"},[new Text$2(`${source.filePath}:${source.startLine}${source.endLine!==source.startLine?","+source.endLine:""}`)]))}),notes.children.push(new CR(6)),unit.children.push(new CR(6),notes);const segment=new Tag("segment");segment.children.push(new CR(8),new Tag("source",{},visitor.serialize(message.nodes)),new CR(6)),unit.children.push(new CR(6),segment,new CR(4)),units.push(new CR(4),unit)});const file=new Tag("file",{original:"ng.template",id:"ngi18n"},[...units,new CR(2)]),xliff=new Tag("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:locale||"en"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])}load(content,url){const xliff2Parser=new Xliff2Parser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xliff2Parser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n$1;if(Object.keys(msgIdToHtml).forEach(msgId=>{const{i18nNodes:i18nNodes,errors:e}=converter.convert(msgIdToHtml[msgId],url);errors.push(...e),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error(`xliff2 parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return decimalDigest(message)}}class _WriteVisitor$1{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const type=function(tag){switch(tag.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(ph.tag);if(ph.isVoid){return[new Tag("ph",{id:(this._nextPlaceholderId++).toString(),equiv:ph.startName,type:type,disp:`<${ph.tag}/>`})]}const tagPc=new Tag("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:ph.startName,equivEnd:ph.closeName,type:type,dispStart:`<${ph.tag}>`,dispEnd:`</${ph.tag}>`}),nodes=[].concat(...ph.children.map(node=>node.visit(this)));return nodes.length?nodes.forEach(node=>tagPc.children.push(node)):tagPc.children.push(new Text$2("")),[tagPc]}visitPlaceholder(ph,context){const idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:`{{${ph.value}}}`})]}visitIcuPlaceholder(ph,context){const cases=Object.keys(ph.value.cases).map(value=>value+" {...}").join(" "),idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:`{${ph.value.expression}, ${ph.value.type}, ${cases}}`})]}serialize(nodes){return this._nextPlaceholderId=0,[].concat(...nodes.map(node=>node.visit(this)))}}class Xliff2Parser{constructor(){this._locale=null}parse(xliff,url){this._unitMlString=null,this._msgIdToHtml={};const xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"unit":this._unitMlString=null;const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,`Duplicated translations for msg ${id}`):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,`Message ${id} misses a translation`))}else this._addError(element,'<unit> misses the "id" attribute');break;case"source":break;case"target":const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"xliff":const localeAttr=element.attrs.find(attr=>"trgLang"===attr.name);localeAttr&&(this._locale=localeAttr.value);const versionAttr=element.attrs.find(attr=>"version"===attr.name);if(versionAttr){const version=versionAttr.value;"2.0"!==version?this._addError(element,`The XLIFF file version ${version} is not compatible with XLIFF 2.0 serializer`):visitAll$1(this,element.children,null)}break;default:visitAll$1(this,element.children,null)}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n$1{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat(...visitAll$1(this,xmlIcu.rootNodes)),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitElement(el,context){switch(el.name){case"ph":const nameAttr=el.attrs.find(attr=>"equiv"===attr.name);if(nameAttr)return[new Placeholder("",nameAttr.value,el.sourceSpan)];this._addError(el,'<ph> misses the "equiv" attribute');break;case"pc":const startAttr=el.attrs.find(attr=>"equivStart"===attr.name),endAttr=el.attrs.find(attr=>"equivEnd"===attr.name);if(startAttr){if(endAttr){const startId=startAttr.value,endId=endAttr.value;return[].concat(new Placeholder("",startId,el.sourceSpan),...el.children.map(node=>node.visit(this,null)),new Placeholder("",endId,el.sourceSpan))}this._addError(el,'<ph> misses the "equivEnd" attribute')}else this._addError(el,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat(...visitAll$1(this,el.children));default:this._addError(el,"Unexpected tag")}return null}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new compiler_Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:[].concat(...visitAll$1(this,icuCase.expression))}}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class Xtb extends Serializer{write(messages,locale){throw new Error("Unsupported")}load(content,url){const xtbParser=new XtbParser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xtbParser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n$2;if(Object.keys(msgIdToHtml).forEach(msgId=>{!function(messages,id,valueFn){Object.defineProperty(messages,id,{configurable:!0,enumerable:!0,get:function(){const value=valueFn();return Object.defineProperty(messages,id,{enumerable:!0,value:value}),value},set:_=>{throw new Error("Could not overwrite an XTB translation")}})}(i18nNodesByMsgId,msgId,(function(){const{i18nNodes:i18nNodes,errors:errors}=converter.convert(msgIdToHtml[msgId],url);if(errors.length)throw new Error(`xtb parse errors:\n${errors.join("\n")}`);return i18nNodes}))}),errors.length)throw new Error(`xtb parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return digest$1(message)}createNameMapper(message){return new SimplePlaceholderMapper(message,toPublicName)}}class XtbParser{constructor(){this._locale=null}parse(xtb,url){this._bundleDepth=0,this._msgIdToHtml={};const xml=(new XmlParser).parse(xtb,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(element,"<translationbundle> elements can not be nested");const langAttr=element.attrs.find(attr=>"lang"===attr.name);langAttr&&(this._locale=langAttr.value),visitAll$1(this,element.children,null),this._bundleDepth--;break;case"translation":const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;if(this._msgIdToHtml.hasOwnProperty(id))this._addError(element,`Duplicated translations for msg ${id}`);else{const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._msgIdToHtml[id]=innerText}}else this._addError(element,'<translation> misses the "id" attribute');break;default:this._addError(element,"Unexpected tag")}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n$2{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:visitAll$1(this,xmlIcu.rootNodes),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new compiler_Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}}visitElement(el,context){if("ph"===el.name){const nameAttr=el.attrs.find(attr=>"name"===attr.name);if(nameAttr)return new Placeholder("",nameAttr.value,el.sourceSpan);this._addError(el,'<ph> misses the "name" attribute')}else this._addError(el,"Unexpected tag");return null}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class TranslationBundle{constructor(_i18nNodesByMsgId={},locale,digest,mapperFactory,missingTranslationStrategy=compiler_MissingTranslationStrategy.Warning,console){this._i18nNodesByMsgId=_i18nNodesByMsgId,this.digest=digest,this.mapperFactory=mapperFactory,this._i18nToHtml=new I18nToHtmlVisitor(_i18nNodesByMsgId,locale,digest,mapperFactory,missingTranslationStrategy,console)}static load(content,url,serializer,missingTranslationStrategy,console){const{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}=serializer.load(content,url);return new TranslationBundle(i18nNodesByMsgId,locale,m=>serializer.digest(m),m=>serializer.createNameMapper(m),missingTranslationStrategy,console)}get(srcMsg){const html=this._i18nToHtml.convert(srcMsg);if(html.errors.length)throw new Error(html.errors.join("\n"));return html.nodes}has(srcMsg){return this.digest(srcMsg)in this._i18nNodesByMsgId}}class I18nToHtmlVisitor{constructor(_i18nNodesByMsgId={},_locale,_digest,_mapperFactory,_missingTranslationStrategy,_console){this._i18nNodesByMsgId=_i18nNodesByMsgId,this._locale=_locale,this._digest=_digest,this._mapperFactory=_mapperFactory,this._missingTranslationStrategy=_missingTranslationStrategy,this._console=_console,this._contextStack=[],this._errors=[]}convert(srcMsg){this._contextStack.length=0,this._errors.length=0;const text=this._convertToText(srcMsg),url=srcMsg.nodes[0].sourceSpan.start.file.url,html=(new HtmlParser).parse(text,url,{tokenizeExpansionForms:!0});return{nodes:html.rootNodes,errors:[...this._errors,...html.errors]}}visitText(text,context){return escapeXml(text.value)}visitContainer(container,context){return container.children.map(n=>n.visit(this)).join("")}visitIcu(icu,context){const cases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(icu.expression)?this._srcMsg.placeholders[icu.expression]:icu.expression}, ${icu.type}, ${cases.join(" ")}}`}visitPlaceholder(ph,context){const phName=this._mapper(ph.name);return this._srcMsg.placeholders.hasOwnProperty(phName)?this._srcMsg.placeholders[phName]:this._srcMsg.placeholderToMessage.hasOwnProperty(phName)?this._convertToText(this._srcMsg.placeholderToMessage[phName]):(this._addError(ph,`Unknown placeholder "${ph.name}"`),"")}visitTagPlaceholder(ph,context){const tag=`${ph.tag}`,attrs=Object.keys(ph.attrs).map(name=>`${name}="${ph.attrs[name]}"`).join(" ");return ph.isVoid?`<${tag} ${attrs}/>`:`<${tag} ${attrs}>${ph.children.map(c=>c.visit(this)).join("")}</${tag}>`}visitIcuPlaceholder(ph,context){return this._convertToText(this._srcMsg.placeholderToMessage[ph.name])}_convertToText(srcMsg){const id=this._digest(srcMsg),mapper=this._mapperFactory?this._mapperFactory(srcMsg):null;let nodes;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=srcMsg,this._i18nNodesByMsgId.hasOwnProperty(id))nodes=this._i18nNodesByMsgId[id],this._mapper=name=>mapper?mapper.toInternalName(name):name;else{if(this._missingTranslationStrategy===compiler_MissingTranslationStrategy.Error){const ctx=this._locale?` for locale "${this._locale}"`:"";this._addError(srcMsg.nodes[0],`Missing translation for message "${id}"${ctx}`)}else if(this._console&&this._missingTranslationStrategy===compiler_MissingTranslationStrategy.Warning){const ctx=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${id}"${ctx}`)}nodes=srcMsg.nodes,this._mapper=name=>name}const text=nodes.map(node=>node.visit(this)).join(""),context=this._contextStack.pop();return this._srcMsg=context.msg,this._mapper=context.mapper,text}_addError(el,msg){this._errors.push(new I18nError(el.sourceSpan,msg))}}class I18NHtmlParser{constructor(_htmlParser,translations,translationsFormat,missingTranslation=compiler_MissingTranslationStrategy.Warning,console){if(this._htmlParser=_htmlParser,translations){const serializer=function(format){switch(format=(format||"xlf").toLowerCase()){case"xmb":return new Xmb;case"xtb":return new Xtb;case"xliff2":case"xlf2":return new Xliff2;case"xliff":case"xlf":default:return new Xliff}}(translationsFormat);this._translationBundle=TranslationBundle.load(translations,"i18n",serializer,missingTranslation,console)}else this._translationBundle=new TranslationBundle({},null,digest,void 0,missingTranslation,console)}parse(source,url,options={}){const interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,parseResult=this._htmlParser.parse(source,url,Object.assign({interpolationConfig:interpolationConfig},options));return parseResult.errors.length?new ParseTreeResult(parseResult.rootNodes,parseResult.errors):function(nodes,translations,interpolationConfig,implicitTags,implicitAttrs){return new _Visitor$2(implicitTags,implicitAttrs).merge(nodes,translations,interpolationConfig)}(parseResult.rootNodes,this._translationBundle,interpolationConfig,[],{})}}function convertValueToOutputAst(ctx,value,type=null){return visitValue(value,new _ValueOutputAstTransformer(ctx),type)}class _ValueOutputAstTransformer{constructor(ctx){this.ctx=ctx}visitArray(arr,type){return literalArr(arr.map(value=>visitValue(value,this,null)),type)}visitStringMap(map,type){const entries=[],quotedSet=new Set(map&&map.$quoted$);return Object.keys(map).forEach(key=>{entries.push(new LiteralMapEntry(key,visitValue(map[key],this,null),quotedSet.has(key)))}),new LiteralMapExpr(entries,type)}visitPrimitive(value,type){return compiler_literal(value,type)}visitOther(value,type){return value instanceof Expression?value:this.ctx.importExpr(value)}}function ngfactoryFilePath(filePath,forceSourceFile=!1){const urlWithSuffix=splitTypescriptSuffix(filePath,forceSourceFile);return`${urlWithSuffix[0]}.ngfactory${normalizeGenFileSuffix(urlWithSuffix[1])}`}function splitTypescriptSuffix(path,forceSourceFile=!1){if(path.endsWith(".d.ts"))return[path.slice(0,-5),forceSourceFile?".ts":".d.ts"];const lastDot=path.lastIndexOf(".");return-1!==lastDot?[path.substring(0,lastDot),path.substring(lastDot)]:[path,""]}function normalizeGenFileSuffix(srcFileSuffix){return".tsx"===srcFileSuffix?".ts":srcFileSuffix}var LifecycleHooks;!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(LifecycleHooks||(LifecycleHooks={}));const LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];function hasLifecycleHook(reflector,hook,token){return reflector.hasLifecycleHook(token,function(hook){switch(hook){case LifecycleHooks.OnInit:return"ngOnInit";case LifecycleHooks.OnDestroy:return"ngOnDestroy";case LifecycleHooks.DoCheck:return"ngDoCheck";case LifecycleHooks.OnChanges:return"ngOnChanges";case LifecycleHooks.AfterContentInit:return"ngAfterContentInit";case LifecycleHooks.AfterContentChecked:return"ngAfterContentChecked";case LifecycleHooks.AfterViewInit:return"ngAfterViewInit";case LifecycleHooks.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${hook}`)}}(hook))}function getAllLifecycleHooks(reflector,token){return LIFECYCLE_HOOKS_VALUES.filter(hook=>hasLifecycleHook(reflector,hook,token))}class CompileMetadataResolver{constructor(_config,_htmlParser,_ngModuleResolver,_directiveResolver,_pipeResolver,_summaryResolver,_schemaRegistry,_directiveNormalizer,_console,_staticSymbolCache,_reflector,_errorCollector){this._config=_config,this._htmlParser=_htmlParser,this._ngModuleResolver=_ngModuleResolver,this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._summaryResolver=_summaryResolver,this._schemaRegistry=_schemaRegistry,this._directiveNormalizer=_directiveNormalizer,this._console=_console,this._staticSymbolCache=_staticSymbolCache,this._reflector=_reflector,this._errorCollector=_errorCollector,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(type){const dirMeta=this._directiveCache.get(type);this._directiveCache.delete(type),this._nonNormalizedDirectiveCache.delete(type),this._summaryCache.delete(type),this._pipeCache.delete(type),this._ngModuleOfTypes.delete(type),this._ngModuleCache.clear(),dirMeta&&this._directiveNormalizer.clearCacheFor(dirMeta)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(baseType,name){let delegate=null;const proxyClass=function(){if(!delegate)throw new Error(`Illegal state: Class ${name} for type ${compiler_stringify(baseType)} is not compiled yet!`);return delegate.apply(this,arguments)};return proxyClass.setDelegate=d=>{delegate=d,proxyClass.prototype=d.prototype},proxyClass.overriddenName=name,proxyClass}getGeneratedClass(dirType,name){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),name):this._createProxyClass(dirType,name)}getComponentViewClass(dirType){return this.getGeneratedClass(dirType,viewClassName(dirType,0))}getHostComponentViewClass(dirType){return this.getGeneratedClass(dirType,`HostView_${identifierName({reference:dirType})}`)}getHostComponentType(dirType){const name=`${identifierName({reference:dirType})}_Host`;return dirType instanceof StaticSymbol?this._staticSymbolCache.get(dirType.filePath,name):this._createProxyClass(dirType,name)}getRendererType(dirType){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),rendererTypeName(dirType)):{}}getComponentFactory(selector,dirType,inputs,outputs){if(dirType instanceof StaticSymbol)return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),componentFactoryName(dirType));{const hostView=this.getHostComponentViewClass(dirType);return this._reflector.resolveExternalReference(Identifiers.createComponentFactory)(selector,dirType,hostView,inputs,outputs,[])}}initComponentFactory(factory,ngContentSelectors){factory instanceof StaticSymbol||factory.ngContentSelectors.push(...ngContentSelectors)}_loadSummary(type,kind){let typeSummary=this._summaryCache.get(type);if(!typeSummary){const summary=this._summaryResolver.resolveSummary(type);typeSummary=summary?summary.type:null,this._summaryCache.set(type,typeSummary||null)}return typeSummary&&typeSummary.summaryKind===kind?typeSummary:null}getHostComponentMetadata(compMeta,hostViewType){const hostType=this.getHostComponentType(compMeta.type.reference);hostViewType||(hostViewType=this.getHostComponentViewClass(hostType));const template=CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate(),htmlAst=this._htmlParser.parse(template,"");return CompileDirectiveMetadata.create({isHost:!0,type:{reference:hostType,diDeps:[],lifecycleHooks:[]},template:new CompileTemplateMetadata({encapsulation:compiler_ViewEncapsulation.None,template:template,templateUrl:"",htmlAst:htmlAst,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:compiler_ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:hostViewType,rendererType:{id:"__Host__",encapsulation:compiler_ViewEncapsulation.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(ngModuleType,directiveType,isSync){if(this._directiveCache.has(directiveType))return null;directiveType=compiler_resolveForwardRef(directiveType);const{annotation:annotation,metadata:metadata}=this.getNonNormalizedDirectiveMetadata(directiveType),createDirectiveMetadata=templateMetadata=>{const normalizedDirMeta=new CompileDirectiveMetadata({isHost:!1,type:metadata.type,isComponent:metadata.isComponent,selector:metadata.selector,exportAs:metadata.exportAs,changeDetection:metadata.changeDetection,inputs:metadata.inputs,outputs:metadata.outputs,hostListeners:metadata.hostListeners,hostProperties:metadata.hostProperties,hostAttributes:metadata.hostAttributes,providers:metadata.providers,viewProviders:metadata.viewProviders,queries:metadata.queries,guards:metadata.guards,viewQueries:metadata.viewQueries,entryComponents:metadata.entryComponents,componentViewType:metadata.componentViewType,rendererType:metadata.rendererType,componentFactory:metadata.componentFactory,template:templateMetadata});return templateMetadata&&this.initComponentFactory(metadata.componentFactory,templateMetadata.ngContentSelectors),this._directiveCache.set(directiveType,normalizedDirMeta),this._summaryCache.set(directiveType,normalizedDirMeta.toSummary()),null};if(metadata.isComponent){const template=metadata.template,templateMeta=this._directiveNormalizer.normalizeTemplate({ngModuleType:ngModuleType,componentType:directiveType,moduleUrl:this._reflector.componentModuleUrl(directiveType,annotation),encapsulation:template.encapsulation,template:template.template,templateUrl:template.templateUrl,styles:template.styles,styleUrls:template.styleUrls,animations:template.animations,interpolation:template.interpolation,preserveWhitespaces:template.preserveWhitespaces});return compiler_isPromise(templateMeta)&&isSync?(this._reportError(function(compType){const error=Error(`Can't compile synchronously as ${compiler_stringify(compType)} is still being loaded!`);return error.ngComponentType=compType,error}(directiveType),directiveType),null):SyncAsync_then(templateMeta,createDirectiveMetadata)}return createDirectiveMetadata(null),null}getNonNormalizedDirectiveMetadata(directiveType){if(!(directiveType=compiler_resolveForwardRef(directiveType)))return null;let cacheEntry=this._nonNormalizedDirectiveCache.get(directiveType);if(cacheEntry)return cacheEntry;const dirMeta=this._directiveResolver.resolve(directiveType,!1);if(!dirMeta)return null;let nonNormalizedTemplateMetadata=void 0;if(createComponent.isTypeOf(dirMeta)){const compMeta=dirMeta;assertArrayOfStrings("styles",compMeta.styles),assertArrayOfStrings("styleUrls",compMeta.styleUrls),assertInterpolationSymbols("interpolation",compMeta.interpolation);const animations=compMeta.animations;nonNormalizedTemplateMetadata=new CompileTemplateMetadata({encapsulation:noUndefined(compMeta.encapsulation),template:noUndefined(compMeta.template),templateUrl:noUndefined(compMeta.templateUrl),htmlAst:null,styles:compMeta.styles||[],styleUrls:compMeta.styleUrls||[],animations:animations||[],interpolation:noUndefined(compMeta.interpolation),isInline:!!compMeta.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:noUndefined(dirMeta.preserveWhitespaces)})}let changeDetectionStrategy=null,viewProviders=[],entryComponentMetadata=[],selector=dirMeta.selector;if(createComponent.isTypeOf(dirMeta)){const compMeta=dirMeta;changeDetectionStrategy=compMeta.changeDetection,compMeta.viewProviders&&(viewProviders=this._getProvidersMetadata(compMeta.viewProviders,entryComponentMetadata,`viewProviders for "${stringifyType(directiveType)}"`,[],directiveType)),compMeta.entryComponents&&(entryComponentMetadata=flattenAndDedupeArray(compMeta.entryComponents).map(type=>this._getEntryComponentMetadata(type)).concat(entryComponentMetadata)),selector||(selector=this._schemaRegistry.getDefaultComponentElementName())}else selector||(selector=null);let providers=[];null!=dirMeta.providers&&(providers=this._getProvidersMetadata(dirMeta.providers,entryComponentMetadata,`providers for "${stringifyType(directiveType)}"`,[],directiveType));let queries=[],viewQueries=[];null!=dirMeta.queries&&(queries=this._getQueriesMetadata(dirMeta.queries,!1,directiveType),viewQueries=this._getQueriesMetadata(dirMeta.queries,!0,directiveType));const metadata=CompileDirectiveMetadata.create({isHost:!1,selector:selector,exportAs:noUndefined(dirMeta.exportAs),isComponent:!!nonNormalizedTemplateMetadata,type:this._getTypeMetadata(directiveType),template:nonNormalizedTemplateMetadata,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs||[],outputs:dirMeta.outputs||[],host:dirMeta.host||{},providers:providers||[],viewProviders:viewProviders||[],queries:queries||[],guards:dirMeta.guards||{},viewQueries:viewQueries||[],entryComponents:entryComponentMetadata,componentViewType:nonNormalizedTemplateMetadata?this.getComponentViewClass(directiveType):null,rendererType:nonNormalizedTemplateMetadata?this.getRendererType(directiveType):null,componentFactory:null});return nonNormalizedTemplateMetadata&&(metadata.componentFactory=this.getComponentFactory(selector,directiveType,metadata.inputs,metadata.outputs)),cacheEntry={metadata:metadata,annotation:dirMeta},this._nonNormalizedDirectiveCache.set(directiveType,cacheEntry),cacheEntry}getDirectiveMetadata(directiveType){const dirMeta=this._directiveCache.get(directiveType);return dirMeta||this._reportError(syntaxError(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${stringifyType(directiveType)}.`),directiveType),dirMeta}getDirectiveSummary(dirType){const dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);return dirSummary||this._reportError(syntaxError(`Illegal state: Could not load the summary for directive ${stringifyType(dirType)}.`),dirType),dirSummary}isDirective(type){return!!this._loadSummary(type,CompileSummaryKind.Directive)||this._directiveResolver.isDirective(type)}isAbstractDirective(type){const summary=this._loadSummary(type,CompileSummaryKind.Directive);if(summary&&!summary.isComponent)return!summary.selector;const meta=this._directiveResolver.resolve(type,!1);return!(!meta||createComponent.isTypeOf(meta))&&!meta.selector}isPipe(type){return!!this._loadSummary(type,CompileSummaryKind.Pipe)||this._pipeResolver.isPipe(type)}isNgModule(type){return!!this._loadSummary(type,CompileSummaryKind.NgModule)||this._ngModuleResolver.isNgModule(type)}getNgModuleSummary(moduleType,alreadyCollecting=null){let moduleSummary=this._loadSummary(moduleType,CompileSummaryKind.NgModule);if(!moduleSummary){const moduleMeta=this.getNgModuleMetadata(moduleType,!1,alreadyCollecting);moduleSummary=moduleMeta?moduleMeta.toSummary():null,moduleSummary&&this._summaryCache.set(moduleType,moduleSummary)}return moduleSummary}loadNgModuleDirectiveAndPipeMetadata(moduleType,isSync,throwIfNotFound=!0){const ngModule=this.getNgModuleMetadata(moduleType,throwIfNotFound),loading=[];return ngModule&&(ngModule.declaredDirectives.forEach(id=>{const promise=this.loadDirectiveMetadata(moduleType,id.reference,isSync);promise&&loading.push(promise)}),ngModule.declaredPipes.forEach(id=>this._loadPipeMetadata(id.reference))),Promise.all(loading)}getShallowModuleMetadata(moduleType){let compileMeta=this._shallowModuleCache.get(moduleType);if(compileMeta)return compileMeta;const ngModuleMeta=findLast(this._reflector.shallowAnnotations(moduleType),createNgModule.isTypeOf);return compileMeta={type:this._getTypeMetadata(moduleType),rawExports:ngModuleMeta.exports,rawImports:ngModuleMeta.imports,rawProviders:ngModuleMeta.providers},this._shallowModuleCache.set(moduleType,compileMeta),compileMeta}getNgModuleMetadata(moduleType,throwIfNotFound=!0,alreadyCollecting=null){moduleType=compiler_resolveForwardRef(moduleType);let compileMeta=this._ngModuleCache.get(moduleType);if(compileMeta)return compileMeta;const meta=this._ngModuleResolver.resolve(moduleType,throwIfNotFound);if(!meta)return null;const declaredDirectives=[],exportedNonModuleIdentifiers=[],declaredPipes=[],importedModules=[],exportedModules=[],providers=[],entryComponents=[],bootstrapComponents=[],schemas=[];meta.imports&&flattenAndDedupeArray(meta.imports).forEach(importedType=>{let importedModuleType=void 0;if(isValidType(importedType))importedModuleType=importedType;else if(importedType&&importedType.ngModule){const moduleWithProviders=importedType;importedModuleType=moduleWithProviders.ngModule,moduleWithProviders.providers&&providers.push(...this._getProvidersMetadata(moduleWithProviders.providers,entryComponents,`provider for the NgModule '${stringifyType(importedModuleType)}'`,[],importedType))}if(importedModuleType){if(this._checkSelfImport(moduleType,importedModuleType))return;if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(importedModuleType))return void this._reportError(syntaxError(`${this._getTypeDescriptor(importedModuleType)} '${stringifyType(importedType)}' is imported recursively by the module '${stringifyType(moduleType)}'.`),moduleType);alreadyCollecting.add(importedModuleType);const importedModuleSummary=this.getNgModuleSummary(importedModuleType,alreadyCollecting);if(alreadyCollecting.delete(importedModuleType),!importedModuleSummary)return void this._reportError(syntaxError(`Unexpected ${this._getTypeDescriptor(importedType)} '${stringifyType(importedType)}' imported by the module '${stringifyType(moduleType)}'. Please add a @NgModule annotation.`),moduleType);importedModules.push(importedModuleSummary)}else this._reportError(syntaxError(`Unexpected value '${stringifyType(importedType)}' imported by the module '${stringifyType(moduleType)}'`),moduleType)}),meta.exports&&flattenAndDedupeArray(meta.exports).forEach(exportedType=>{if(!isValidType(exportedType))return void this._reportError(syntaxError(`Unexpected value '${stringifyType(exportedType)}' exported by the module '${stringifyType(moduleType)}'`),moduleType);if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(exportedType))return void this._reportError(syntaxError(`${this._getTypeDescriptor(exportedType)} '${compiler_stringify(exportedType)}' is exported recursively by the module '${stringifyType(moduleType)}'`),moduleType);alreadyCollecting.add(exportedType);const exportedModuleSummary=this.getNgModuleSummary(exportedType,alreadyCollecting);alreadyCollecting.delete(exportedType),exportedModuleSummary?exportedModules.push(exportedModuleSummary):exportedNonModuleIdentifiers.push(this._getIdentifierMetadata(exportedType))});const transitiveModule=this._getTransitiveNgModuleMetadata(importedModules,exportedModules);meta.declarations&&flattenAndDedupeArray(meta.declarations).forEach(declaredType=>{if(!isValidType(declaredType))return void this._reportError(syntaxError(`Unexpected value '${stringifyType(declaredType)}' declared by the module '${stringifyType(moduleType)}'`),moduleType);const declaredIdentifier=this._getIdentifierMetadata(declaredType);if(this.isDirective(declaredType))this.isAbstractDirective(declaredType)&&this._reportError(syntaxError(`Directive ${stringifyType(declaredType)} has no selector, please add it!`),declaredType),transitiveModule.addDirective(declaredIdentifier),declaredDirectives.push(declaredIdentifier),this._addTypeToModule(declaredType,moduleType);else{if(!this.isPipe(declaredType))return void this._reportError(syntaxError(`Unexpected ${this._getTypeDescriptor(declaredType)} '${stringifyType(declaredType)}' declared by the module '${stringifyType(moduleType)}'. Please add a @Pipe/@Directive/@Component annotation.`),moduleType);transitiveModule.addPipe(declaredIdentifier),transitiveModule.pipes.push(declaredIdentifier),declaredPipes.push(declaredIdentifier),this._addTypeToModule(declaredType,moduleType)}});const exportedDirectives=[],exportedPipes=[];return exportedNonModuleIdentifiers.forEach(exportedId=>{if(transitiveModule.directivesSet.has(exportedId.reference))exportedDirectives.push(exportedId),transitiveModule.addExportedDirective(exportedId);else{if(!transitiveModule.pipesSet.has(exportedId.reference))return void this._reportError(syntaxError(`Can't export ${this._getTypeDescriptor(exportedId.reference)} ${stringifyType(exportedId.reference)} from ${stringifyType(moduleType)} as it was neither declared nor imported!`),moduleType);exportedPipes.push(exportedId),transitiveModule.addExportedPipe(exportedId)}}),meta.providers&&providers.push(...this._getProvidersMetadata(meta.providers,entryComponents,`provider for the NgModule '${stringifyType(moduleType)}'`,[],moduleType)),meta.entryComponents&&entryComponents.push(...flattenAndDedupeArray(meta.entryComponents).map(type=>this._getEntryComponentMetadata(type))),meta.bootstrap&&flattenAndDedupeArray(meta.bootstrap).forEach(type=>{isValidType(type)?bootstrapComponents.push(this._getIdentifierMetadata(type)):this._reportError(syntaxError(`Unexpected value '${stringifyType(type)}' used in the bootstrap property of module '${stringifyType(moduleType)}'`),moduleType)}),entryComponents.push(...bootstrapComponents.map(type=>this._getEntryComponentMetadata(type.reference))),meta.schemas&&schemas.push(...flattenAndDedupeArray(meta.schemas)),compileMeta=new CompileNgModuleMetadata({type:this._getTypeMetadata(moduleType),providers:providers,entryComponents:entryComponents,bootstrapComponents:bootstrapComponents,schemas:schemas,declaredDirectives:declaredDirectives,exportedDirectives:exportedDirectives,declaredPipes:declaredPipes,exportedPipes:exportedPipes,importedModules:importedModules,exportedModules:exportedModules,transitiveModule:transitiveModule,id:meta.id||null}),entryComponents.forEach(id=>transitiveModule.addEntryComponent(id)),providers.forEach(provider=>transitiveModule.addProvider(provider,compileMeta.type)),transitiveModule.addModule(compileMeta.type),this._ngModuleCache.set(moduleType,compileMeta),compileMeta}_checkSelfImport(moduleType,importedModuleType){return moduleType===importedModuleType&&(this._reportError(syntaxError(`'${stringifyType(moduleType)}' module can't import itself`),moduleType),!0)}_getTypeDescriptor(type){if(isValidType(type)){if(this.isDirective(type))return"directive";if(this.isPipe(type))return"pipe";if(this.isNgModule(type))return"module"}return type.provide?"provider":"value"}_addTypeToModule(type,moduleType){const oldModule=this._ngModuleOfTypes.get(type);oldModule&&oldModule!==moduleType?this._reportError(syntaxError(`Type ${stringifyType(type)} is part of the declarations of 2 modules: ${stringifyType(oldModule)} and ${stringifyType(moduleType)}! `+`Please consider moving ${stringifyType(type)} to a higher module that imports ${stringifyType(oldModule)} and ${stringifyType(moduleType)}. `+`You can also create a new NgModule that exports and includes ${stringifyType(type)} then import that NgModule in ${stringifyType(oldModule)} and ${stringifyType(moduleType)}.`),moduleType):this._ngModuleOfTypes.set(type,moduleType)}_getTransitiveNgModuleMetadata(importedModules,exportedModules){const result=new TransitiveCompileNgModuleMetadata,modulesByToken=new Map;return importedModules.concat(exportedModules).forEach(modSummary=>{modSummary.modules.forEach(mod=>result.addModule(mod)),modSummary.entryComponents.forEach(comp=>result.addEntryComponent(comp));const addedTokens=new Set;modSummary.providers.forEach(entry=>{const tokenRef=tokenReference(entry.provider.token);let prevModules=modulesByToken.get(tokenRef);prevModules||(prevModules=new Set,modulesByToken.set(tokenRef,prevModules));const moduleRef=entry.module.reference;!addedTokens.has(tokenRef)&&prevModules.has(moduleRef)||(prevModules.add(moduleRef),addedTokens.add(tokenRef),result.addProvider(entry.provider,entry.module))})}),exportedModules.forEach(modSummary=>{modSummary.exportedDirectives.forEach(id=>result.addExportedDirective(id)),modSummary.exportedPipes.forEach(id=>result.addExportedPipe(id))}),importedModules.forEach(modSummary=>{modSummary.exportedDirectives.forEach(id=>result.addDirective(id)),modSummary.exportedPipes.forEach(id=>result.addPipe(id))}),result}_getIdentifierMetadata(type){return{reference:type=compiler_resolveForwardRef(type)}}isInjectable(type){return this._reflector.tryAnnotations(type).some(ann=>createInjectable.isTypeOf(ann))}getInjectableSummary(type){return{summaryKind:CompileSummaryKind.Injectable,type:this._getTypeMetadata(type,null,!1)}}getInjectableMetadata(type,dependencies=null,throwOnUnknownDeps=!0){const typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable),typeMetadata=typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies,throwOnUnknownDeps),annotations=this._reflector.annotations(type).filter(ann=>createInjectable.isTypeOf(ann));if(0===annotations.length)return null;const meta=annotations[annotations.length-1];return{symbol:type,type:typeMetadata,providedIn:meta.providedIn,useValue:meta.useValue,useClass:meta.useClass,useExisting:meta.useExisting,useFactory:meta.useFactory,deps:meta.deps}}_getTypeMetadata(type,dependencies=null,throwOnUnknownDeps=!0){const identifier=this._getIdentifierMetadata(type);return{reference:identifier.reference,diDeps:this._getDependenciesMetadata(identifier.reference,dependencies,throwOnUnknownDeps),lifecycleHooks:getAllLifecycleHooks(this._reflector,identifier.reference)}}_getFactoryMetadata(factory,dependencies=null){return{reference:factory=compiler_resolveForwardRef(factory),diDeps:this._getDependenciesMetadata(factory,dependencies)}}getPipeMetadata(pipeType){const pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||this._reportError(syntaxError(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${stringifyType(pipeType)}.`),pipeType),pipeMeta||null}getPipeSummary(pipeType){const pipeSummary=this._loadSummary(pipeType,CompileSummaryKind.Pipe);return pipeSummary||this._reportError(syntaxError(`Illegal state: Could not load the summary for pipe ${stringifyType(pipeType)}.`),pipeType),pipeSummary}getOrLoadPipeMetadata(pipeType){let pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||(pipeMeta=this._loadPipeMetadata(pipeType)),pipeMeta}_loadPipeMetadata(pipeType){pipeType=compiler_resolveForwardRef(pipeType);const pipeAnnotation=this._pipeResolver.resolve(pipeType),pipeMeta=new CompilePipeMetadata({type:this._getTypeMetadata(pipeType),name:pipeAnnotation.name,pure:!!pipeAnnotation.pure});return this._pipeCache.set(pipeType,pipeMeta),this._summaryCache.set(pipeType,pipeMeta.toSummary()),pipeMeta}_getDependenciesMetadata(typeOrFunc,dependencies,throwOnUnknownDeps=!0){let hasUnknownDeps=!1;const dependenciesMetadata=(dependencies||this._reflector.parameters(typeOrFunc)||[]).map(param=>{let isAttribute=!1,isHost=!1,isSelf=!1,isSkipSelf=!1,isOptional=!1,token=null;return Array.isArray(param)?param.forEach(paramEntry=>{createHost.isTypeOf(paramEntry)?isHost=!0:createSelf.isTypeOf(paramEntry)?isSelf=!0:createSkipSelf.isTypeOf(paramEntry)?isSkipSelf=!0:createOptional.isTypeOf(paramEntry)?isOptional=!0:createAttribute.isTypeOf(paramEntry)?(isAttribute=!0,token=paramEntry.attributeName):createInject.isTypeOf(paramEntry)?token=paramEntry.token:createInjectionToken.isTypeOf(paramEntry)||paramEntry instanceof StaticSymbol?token=paramEntry:isValidType(paramEntry)&&null==token&&(token=paramEntry)}):token=param,null==token?(hasUnknownDeps=!0,{}):{isAttribute:isAttribute,isHost:isHost,isSelf:isSelf,isSkipSelf:isSkipSelf,isOptional:isOptional,token:this._getTokenMetadata(token)}});if(hasUnknownDeps){const depsTokens=dependenciesMetadata.map(dep=>dep.token?stringifyType(dep.token):"?").join(", "),message=`Can't resolve all parameters for ${stringifyType(typeOrFunc)}: (${depsTokens}).`;throwOnUnknownDeps||this._config.strictInjectionParameters?this._reportError(syntaxError(message),typeOrFunc):this._console.warn(`Warning: ${message} This will become an error in Angular v6.x`)}return dependenciesMetadata}_getTokenMetadata(token){let compileToken;return compileToken="string"==typeof(token=compiler_resolveForwardRef(token))?{value:token}:{identifier:{reference:token}},compileToken}_getProvidersMetadata(providers,targetEntryComponents,debugInfo,compileProviders=[],type){return providers.forEach((provider,providerIdx)=>{if(Array.isArray(provider))this._getProvidersMetadata(provider,targetEntryComponents,debugInfo,compileProviders);else{let providerMeta=void 0;if((provider=compiler_resolveForwardRef(provider))&&"object"==typeof provider&&provider.hasOwnProperty("provide"))this._validateProvider(provider),providerMeta=new ProviderMeta(provider.provide,provider);else{if(!isValidType(provider)){if(void 0===provider)return void this._reportError(syntaxError("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const providersInfo=providers.reduce((soFar,seenProvider,seenProviderIdx)=>(seenProviderIdx<providerIdx?soFar.push(`${stringifyType(seenProvider)}`):seenProviderIdx==providerIdx?soFar.push(`?${stringifyType(seenProvider)}?`):seenProviderIdx==providerIdx+1&&soFar.push("..."),soFar),[]).join(", ");return void this._reportError(syntaxError(`Invalid ${debugInfo||"provider"} - only instances of Provider and Type are allowed, got: [${providersInfo}]`),type)}}providerMeta=new ProviderMeta(provider,{useClass:provider})}providerMeta.token===this._reflector.resolveExternalReference(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS)?targetEntryComponents.push(...this._getEntryComponentsFromProvider(providerMeta,type)):compileProviders.push(this.getProviderMetadata(providerMeta))}}),compileProviders}_validateProvider(provider){provider.hasOwnProperty("useClass")&&null==provider.useClass&&this._reportError(syntaxError(`Invalid provider for ${stringifyType(provider.provide)}. useClass cannot be ${provider.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(provider,type){const components=[],collectedIdentifiers=[];return provider.useFactory||provider.useExisting||provider.useClass?(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),type),[]):provider.multi?(value=provider.useValue,targetIdentifiers=collectedIdentifiers,visitValue(value,new _CompileValueConverter,targetIdentifiers),collectedIdentifiers.forEach(identifier=>{const entry=this._getEntryComponentMetadata(identifier.reference,!1);entry&&components.push(entry)}),components):(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),type),[]);var value,targetIdentifiers}_getEntryComponentMetadata(dirType,throwIfNotFound=!0){const dirMeta=this.getNonNormalizedDirectiveMetadata(dirType);if(dirMeta&&dirMeta.metadata.isComponent)return{componentType:dirType,componentFactory:dirMeta.metadata.componentFactory};const dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);if(dirSummary&&dirSummary.isComponent)return{componentType:dirType,componentFactory:dirSummary.componentFactory};if(throwIfNotFound)throw syntaxError(`${dirType.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(type,dependencies=null){const typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable);return typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies)}getProviderMetadata(provider){let compileDeps=void 0,compileTypeMetadata=null,compileFactoryMetadata=null,token=this._getTokenMetadata(provider.token);return provider.useClass?(compileTypeMetadata=this._getInjectableTypeMetadata(provider.useClass,provider.dependencies),compileDeps=compileTypeMetadata.diDeps,provider.token===provider.useClass&&(token={identifier:compileTypeMetadata})):provider.useFactory&&(compileFactoryMetadata=this._getFactoryMetadata(provider.useFactory,provider.dependencies),compileDeps=compileFactoryMetadata.diDeps),{token:token,useClass:compileTypeMetadata,useValue:provider.useValue,useFactory:compileFactoryMetadata,useExisting:provider.useExisting?this._getTokenMetadata(provider.useExisting):void 0,deps:compileDeps,multi:provider.multi}}_getQueriesMetadata(queries,isViewQuery,directiveType){const res=[];return Object.keys(queries).forEach(propertyName=>{const query=queries[propertyName];query.isViewQuery===isViewQuery&&res.push(this._getQueryMetadata(query,propertyName,directiveType))}),res}_queryVarBindings(selector){return selector.split(/\s*,\s*/)}_getQueryMetadata(q,propertyName,typeOrFunc){let selectors;return"string"==typeof q.selector?selectors=this._queryVarBindings(q.selector).map(varName=>this._getTokenMetadata(varName)):q.selector?selectors=[this._getTokenMetadata(q.selector)]:(this._reportError(syntaxError(`Can't construct a query for the property "${propertyName}" of "${stringifyType(typeOrFunc)}" since the query selector wasn't defined.`),typeOrFunc),selectors=[]),{selectors:selectors,first:q.first,descendants:q.descendants,propertyName:propertyName,read:q.read?this._getTokenMetadata(q.read):null,static:q.static}}_reportError(error,type,otherType){if(!this._errorCollector)throw error;this._errorCollector(error,type),otherType&&this._errorCollector(error,otherType)}}function flattenAndDedupeArray(tree){return(array=function flattenArray(tree,out=[]){if(tree)for(let i=0;i<tree.length;i++){const item=compiler_resolveForwardRef(tree[i]);Array.isArray(item)?flattenArray(item,out):out.push(item)}return out}(tree))?Array.from(new Set(array)):[];var array}function isValidType(value){return value instanceof StaticSymbol||value instanceof compiler_Type}class _CompileValueConverter extends ValueTransformer{visitOther(value,targetIdentifiers){targetIdentifiers.push({reference:value})}}function stringifyType(type){return type instanceof StaticSymbol?`${type.name} in ${type.filePath}`:compiler_stringify(type)}function compiler_providerDef(ctx,providerAst){let flags=0;providerAst.eager||(flags|=4096),providerAst.providerType===ProviderAstType.PrivateService&&(flags|=8192),providerAst.isModule&&(flags|=1073741824),providerAst.lifecycleHooks.forEach(lifecycleHook=>{lifecycleHook!==LifecycleHooks.OnDestroy&&providerAst.providerType!==ProviderAstType.Directive&&providerAst.providerType!==ProviderAstType.Component||(flags|=lifecycleHookToNodeFlag(lifecycleHook))});const{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr}=providerAst.multiProvider?function(ctx,flags,providers){const allDepDefs=[],allParams=[],exprs=providers.map((provider,providerIndex)=>{let expr;if(provider.useClass){const depExprs=convertDeps(providerIndex,provider.deps||provider.useClass.diDeps);expr=ctx.importExpr(provider.useClass.reference).instantiate(depExprs)}else if(provider.useFactory){const depExprs=convertDeps(providerIndex,provider.deps||provider.useFactory.diDeps);expr=ctx.importExpr(provider.useFactory.reference).callFn(depExprs)}else if(provider.useExisting){expr=convertDeps(providerIndex,[{token:provider.useExisting}])[0]}else expr=convertValueToOutputAst(ctx,provider.useValue);return expr});return{providerExpr:compiler_fn(allParams,[new ReturnStatement(literalArr(exprs))],INFERRED_TYPE),flags:1024|flags,depsExpr:literalArr(allDepDefs)};function convertDeps(providerIndex,deps){return deps.map((dep,depIndex)=>{const paramName=`p${providerIndex}_${depIndex}`;return allParams.push(new FnParam(paramName,DYNAMIC_TYPE)),allDepDefs.push(depDef(ctx,dep)),variable(paramName)})}}(ctx,flags,providerAst.providers):singleProviderDef(ctx,flags,providerAst.providerType,providerAst.providers[0]);return{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr,tokenExpr:tokenExpr(ctx,providerAst.token)}}function singleProviderDef(ctx,flags,providerType,providerMeta){let providerExpr,deps;return providerType===ProviderAstType.Directive||providerType===ProviderAstType.Component?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=16384,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useClass?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=512,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useFactory?(providerExpr=ctx.importExpr(providerMeta.useFactory.reference),flags|=1024,deps=providerMeta.deps||providerMeta.useFactory.diDeps):providerMeta.useExisting?(providerExpr=NULL_EXPR,flags|=2048,deps=[{token:providerMeta.useExisting}]):(providerExpr=convertValueToOutputAst(ctx,providerMeta.useValue),flags|=256,deps=[]),{providerExpr:providerExpr,flags:flags,depsExpr:literalArr(deps.map(dep=>depDef(ctx,dep)))}}function tokenExpr(ctx,tokenMeta){return tokenMeta.identifier?ctx.importExpr(tokenMeta.identifier.reference):compiler_literal(tokenMeta.value)}function depDef(ctx,dep){const expr=dep.isValue?convertValueToOutputAst(ctx,dep.value):tokenExpr(ctx,dep.token);let flags=0;return dep.isSkipSelf&&(flags|=1),dep.isOptional&&(flags|=2),dep.isSelf&&(flags|=4),dep.isValue&&(flags|=8),0===flags?expr:literalArr([compiler_literal(flags),expr])}function lifecycleHookToNodeFlag(lifecycleHook){let nodeFlag=0;switch(lifecycleHook){case LifecycleHooks.AfterContentChecked:nodeFlag=2097152;break;case LifecycleHooks.AfterContentInit:nodeFlag=1048576;break;case LifecycleHooks.AfterViewChecked:nodeFlag=8388608;break;case LifecycleHooks.AfterViewInit:nodeFlag=4194304;break;case LifecycleHooks.DoCheck:nodeFlag=262144;break;case LifecycleHooks.OnChanges:nodeFlag=524288;break;case LifecycleHooks.OnDestroy:nodeFlag=131072;break;case LifecycleHooks.OnInit:nodeFlag=65536}return nodeFlag}function componentFactoryResolverProviderDef(reflector,ctx,flags,entryComponents){const entryComponentFactories=entryComponents.map(entryComponent=>ctx.importExpr(entryComponent.componentFactory)),token=createTokenForExternalReference(reflector,Identifiers.ComponentFactoryResolver),classMeta={diDeps:[{isValue:!0,value:literalArr(entryComponentFactories)},{token:token,isSkipSelf:!0,isOptional:!0},{token:createTokenForExternalReference(reflector,Identifiers.NgModuleRef)}],lifecycleHooks:[],reference:reflector.resolveExternalReference(Identifiers.CodegenComponentFactoryResolver)},{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr}=singleProviderDef(ctx,flags,ProviderAstType.PrivateService,{token:token,multi:!1,useClass:classMeta});return{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr,tokenExpr:tokenExpr(ctx,token)}}class NgModuleCompileResult{constructor(ngModuleFactoryVar){this.ngModuleFactoryVar=ngModuleFactoryVar}}const LOG_VAR=variable("_l");class NgModuleCompiler{constructor(reflector){this.reflector=reflector}compile(ctx,ngModuleMeta,extraProviders){const sourceSpan=function(kind,type){const moduleUrl=identifierModuleUrl(type),sourceFileName=null!=moduleUrl?`in ${kind} ${identifierName(type)} in ${moduleUrl}`:`in ${kind} ${identifierName(type)}`,sourceFile=new ParseSourceFile("",sourceFileName);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}("NgModule",ngModuleMeta.type),entryComponentFactories=ngModuleMeta.transitiveModule.entryComponents,bootstrapComponents=ngModuleMeta.bootstrapComponents,providerParser=new NgModuleProviderAnalyzer(this.reflector,ngModuleMeta,extraProviders,sourceSpan),providerDefs=[componentFactoryResolverProviderDef(this.reflector,ctx,0,entryComponentFactories)].concat(providerParser.parse().map(provider=>compiler_providerDef(ctx,provider))).map(({providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr})=>importExpr(Identifiers.moduleProviderDef).callFn([compiler_literal(flags),tokenExpr,providerExpr,depsExpr])),ngModuleDef=importExpr(Identifiers.moduleDef).callFn([literalArr(providerDefs)]),ngModuleDefFactory=compiler_fn([new FnParam(LOG_VAR.name)],[new ReturnStatement(ngModuleDef)],INFERRED_TYPE),ngModuleFactoryVar=`${identifierName(ngModuleMeta.type)}NgFactory`;if(this._createNgModuleFactory(ctx,ngModuleMeta.type.reference,importExpr(Identifiers.createModuleFactory).callFn([ctx.importExpr(ngModuleMeta.type.reference),literalArr(bootstrapComponents.map(id=>ctx.importExpr(id.reference))),ngModuleDefFactory])),ngModuleMeta.id){const id="string"==typeof ngModuleMeta.id?compiler_literal(ngModuleMeta.id):ctx.importExpr(ngModuleMeta.id),registerFactoryStmt=importExpr(Identifiers.RegisterModuleFactoryFn).callFn([id,variable(ngModuleFactoryVar)]).toStmt();ctx.statements.push(registerFactoryStmt)}return new NgModuleCompileResult(ngModuleFactoryVar)}createStub(ctx,ngModuleReference){this._createNgModuleFactory(ctx,ngModuleReference,NULL_EXPR)}_createNgModuleFactory(ctx,reference,value){const ngModuleFactoryStmt=variable(`${identifierName({reference:reference})}NgFactory`).set(value).toDeclStmt(importType(Identifiers.NgModuleFactory,[expressionType(ctx.importExpr(reference))],[TypeModifier.Const]),[StmtModifier.Final,StmtModifier.Exported]);ctx.statements.push(ngModuleFactoryStmt)}}class NgModuleResolver{constructor(_reflector){this._reflector=_reflector}isNgModule(type){return this._reflector.annotations(type).some(createNgModule.isTypeOf)}resolve(type,throwIfNotFound=!0){const ngModuleMeta=findLast(this._reflector.annotations(type),createNgModule.isTypeOf);if(ngModuleMeta)return ngModuleMeta;if(throwIfNotFound)throw new Error(`No NgModule metadata found for '${compiler_stringify(type)}'.`);return null}}class _TsEmitterVisitor extends AbstractEmitterVisitor{constructor(referenceFilter,importFilter){super(!1),this.referenceFilter=referenceFilter,this.importFilter=importFilter,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(t,ctx,defaultType="any"){t?(this.typeExpression++,t.visitType(this,ctx),this.typeExpression--):ctx.print(null,defaultType)}visitLiteralExpr(ast,ctx){const value=ast.value;return null==value&&ast.type!=INFERRED_TYPE?(ctx.print(ast,`(${value} as any)`),null):super.visitLiteralExpr(ast,ctx)}visitLiteralArrayExpr(ast,ctx){0===ast.entries.length&&ctx.print(ast,"(");const result=super.visitLiteralArrayExpr(ast,ctx);return 0===ast.entries.length&&ctx.print(ast," as any[])"),result}visitExternalExpr(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null}visitAssertNotNullExpr(ast,ctx){const result=super.visitAssertNotNullExpr(ast,ctx);return ctx.print(ast,"!"),result}visitDeclareVarStmt(stmt,ctx){if(stmt.hasModifier(StmtModifier.Exported)&&stmt.value instanceof ExternalExpr&&!stmt.type){const{name:name,moduleName:moduleName}=stmt.value.value;if(moduleName){let reexports=this.reexports.get(moduleName);return reexports||(reexports=[],this.reexports.set(moduleName,reexports)),reexports.push({name:name,as:stmt.name}),null}}return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),stmt.hasModifier(StmtModifier.Final)?ctx.print(stmt,"const"):ctx.print(stmt,"var"),ctx.print(stmt,` ${stmt.name}`),this._printColonType(stmt.type,ctx),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(ast,ctx){return ctx.print(ast,"(<"),ast.type.visitType(this,ctx),ctx.print(ast,">"),ast.value.visitExpression(this,ctx),ctx.print(ast,")"),null}visitInstantiateExpr(ast,ctx){return ctx.print(ast,"new "),this.typeExpression++,ast.classExpr.visitExpression(this,ctx),this.typeExpression--,ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null}visitDeclareClassStmt(stmt,ctx){return ctx.pushClass(stmt),stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,`class ${stmt.name}`),null!=stmt.parent&&(ctx.print(stmt," extends "),this.typeExpression++,stmt.parent.visitExpression(this,ctx),this.typeExpression--),ctx.println(stmt," {"),ctx.incIndent(),stmt.fields.forEach(field=>this._visitClassField(field,ctx)),null!=stmt.constructorMethod&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(getter=>this._visitClassGetter(getter,ctx)),stmt.methods.forEach(method=>this._visitClassMethod(method,ctx)),ctx.decIndent(),ctx.println(stmt,"}"),ctx.popClass(),null}_visitClassField(field,ctx){field.hasModifier(StmtModifier.Private)&&ctx.print(null,"/*private*/ "),field.hasModifier(StmtModifier.Static)&&ctx.print(null,"static "),ctx.print(null,field.name),this._printColonType(field.type,ctx),field.initializer&&(ctx.print(null," = "),field.initializer.visitExpression(this,ctx)),ctx.println(null,";")}_visitClassGetter(getter,ctx){getter.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,`get ${getter.name}()`),this._printColonType(getter.type,ctx),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println(null,"}")}_visitClassConstructor(stmt,ctx){ctx.print(stmt,"constructor("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.constructorMethod.body,ctx),ctx.decIndent(),ctx.println(stmt,"}")}_visitClassMethod(method,ctx){method.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,`${method.name}(`),this._visitParams(method.params,ctx),ctx.print(null,")"),this._printColonType(method.type,ctx,"void"),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println(null,"}")}visitFunctionExpr(ast,ctx){return ast.name&&(ctx.print(ast,"function "),ctx.print(ast,ast.name)),ctx.print(ast,"("),this._visitParams(ast.params,ctx),ctx.print(ast,")"),this._printColonType(ast.type,ctx,"void"),ast.name||ctx.print(ast," => "),ctx.println(ast,"{"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null}visitDeclareFunctionStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,`function ${stmt.name}(`),this._visitParams(stmt.params,ctx),ctx.print(stmt,")"),this._printColonType(stmt.type,ctx,"void"),ctx.println(stmt," {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitTryCatchStmt(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,`} catch (${CATCH_ERROR_VAR$1.name}) {`),ctx.incIndent();const catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack",null)).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitBuiltinType(type,ctx){let typeStr;switch(type.name){case BuiltinTypeName.Bool:typeStr="boolean";break;case BuiltinTypeName.Dynamic:typeStr="any";break;case BuiltinTypeName.Function:typeStr="Function";break;case BuiltinTypeName.Number:case BuiltinTypeName.Int:typeStr="number";break;case BuiltinTypeName.String:typeStr="string";break;case BuiltinTypeName.None:typeStr="never";break;default:throw new Error(`Unsupported builtin type ${type.name}`)}return ctx.print(null,typeStr),null}visitExpressionType(ast,ctx){return ast.value.visitExpression(this,ctx),null!==ast.typeParams&&(ctx.print(null,"<"),this.visitAllObjects(type=>this.visitType(type,ctx),ast.typeParams,ctx,","),ctx.print(null,">")),null}visitArrayType(type,ctx){return this.visitType(type.of,ctx),ctx.print(null,"[]"),null}visitMapType(type,ctx){return ctx.print(null,"{[key: string]:"),this.visitType(type.valueType,ctx),ctx.print(null,"}"),null}getBuiltinMethodName(method){let name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error(`Unknown builtin method: ${method}`)}return name}_visitParams(params,ctx){this.visitAllObjects(param=>{ctx.print(null,param.name),this._printColonType(param.type,ctx)},params,ctx,",")}_visitIdentifier(value,typeParams,ctx){const{name:name,moduleName:moduleName}=value;if(this.referenceFilter&&this.referenceFilter(value))ctx.print(null,"(null as any)");else{if(moduleName&&(!this.importFilter||!this.importFilter(value))){let prefix=this.importsWithPrefixes.get(moduleName);null==prefix&&(prefix=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(moduleName,prefix)),ctx.print(null,`${prefix}.`)}if(ctx.print(null,name),this.typeExpression>0){(typeParams||[]).length>0&&(ctx.print(null,"<"),this.visitAllObjects(type=>type.visitType(this,ctx),typeParams,ctx,","),ctx.print(null,">"))}}}_printColonType(type,ctx,defaultType){type!==INFERRED_TYPE&&(ctx.print(null,":"),this.visitType(type,ctx,defaultType))}}class PipeResolver{constructor(_reflector){this._reflector=_reflector}isPipe(type){const typeMetadata=this._reflector.annotations(compiler_resolveForwardRef(type));return typeMetadata&&typeMetadata.some(createPipe.isTypeOf)}resolve(type,throwIfNotFound=!0){const metas=this._reflector.annotations(compiler_resolveForwardRef(type));if(metas){const annotation=findLast(metas,createPipe.isTypeOf);if(annotation)return annotation}if(throwIfNotFound)throw new Error(`No Pipe decorator found on ${compiler_stringify(type)}`);return null}}new class{notifyImplicitReceiverUse(){}getLocal(name){return name===EventHandlerVars.event.name?variable("_any"):null}};class ViewCompileResult{constructor(viewClassVar,rendererTypeVar){this.viewClassVar=viewClassVar,this.rendererTypeVar=rendererTypeVar}}class ViewCompiler{constructor(_reflector){this._reflector=_reflector}compileComponent(outputCtx,component,template,styles,usedPipes){let embeddedViewCount=0,renderComponentVarName=void 0;if(!component.isHost){const template=component.template,customRenderData=[];template.animations&&template.animations.length&&customRenderData.push(new LiteralMapEntry("animation",convertValueToOutputAst(outputCtx,template.animations),!0));const renderComponentVar=variable(rendererTypeName(component.type.reference));renderComponentVarName=renderComponentVar.name,outputCtx.statements.push(renderComponentVar.set(importExpr(Identifiers.createRendererType2).callFn([new LiteralMapExpr([new LiteralMapEntry("encapsulation",compiler_literal(template.encapsulation),!1),new LiteralMapEntry("styles",styles,!1),new LiteralMapEntry("data",new LiteralMapExpr(customRenderData),!1)])])).toDeclStmt(importType(Identifiers.RendererType2),[StmtModifier.Final,StmtModifier.Exported]))}const viewBuilderFactory=parent=>{const embeddedViewIndex=embeddedViewCount++;return new ViewBuilder$1(this._reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,viewBuilderFactory)},visitor=viewBuilderFactory(null);return visitor.visitAll([],template),outputCtx.statements.push(...visitor.build()),new ViewCompileResult(visitor.viewName,renderComponentVarName)}}const LOG_VAR$1=variable("_l"),VIEW_VAR=variable("_v"),CHECK_VAR=variable("_ck"),COMP_VAR=variable("_co"),EVENT_NAME_VAR=variable("en"),ALLOW_DEFAULT_VAR=variable("ad");class ViewBuilder$1{constructor(reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,viewBuilderFactory){this.reflector=reflector,this.outputCtx=outputCtx,this.parent=parent,this.component=component,this.embeddedViewIndex=embeddedViewIndex,this.usedPipes=usedPipes,this.viewBuilderFactory=viewBuilderFactory,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?DYNAMIC_TYPE:expressionType(outputCtx.importExpr(this.component.type.reference)),this.viewName=viewClassName(this.component.type.reference,this.embeddedViewIndex)}visitAll(variables,astNodes){this.variables=variables,this.parent||this.usedPipes.forEach(pipe=>{pipe.pure&&(this.purePipeNodeIndices[pipe.name]=this._createPipe(null,pipe))}),this.parent||this.component.viewQueries.forEach((query,queryIndex)=>{const queryId=queryIndex+1,bindingType=query.first?0:1,flags=134217728|calcStaticDynamicQueryFlags(query);this.nodes.push(()=>({sourceSpan:null,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([compiler_literal(flags),compiler_literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,compiler_literal(bindingType),!1)])])}))}),templateVisitAll(this,astNodes),this.parent&&(0===astNodes.length||function needsAdditionalRootNode(astNodes){const lastAstNode=astNodes[astNodes.length-1];if(lastAstNode instanceof EmbeddedTemplateAst)return lastAstNode.hasViewContainer;if(lastAstNode instanceof ElementAst)return compiler_isNgContainer(lastAstNode.name)&&lastAstNode.children.length?needsAdditionalRootNode(lastAstNode.children):lastAstNode.hasViewContainer;return lastAstNode instanceof NgContentAst}(astNodes))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:importExpr(Identifiers.anchorDef).callFn([compiler_literal(0),NULL_EXPR,NULL_EXPR,compiler_literal(0)])}))}build(targetStatements=[]){this.children.forEach(child=>child.build(targetStatements));const{updateRendererStmts:updateRendererStmts,updateDirectivesStmts:updateDirectivesStmts,nodeDefExprs:nodeDefExprs}=this._createNodeExpressions(),updateRendererFn=this._createUpdateFn(updateRendererStmts),updateDirectivesFn=this._createUpdateFn(updateDirectivesStmts);let viewFlags=0;this.parent||this.component.changeDetection!==compiler_ChangeDetectionStrategy.OnPush||(viewFlags|=2);const viewFactory=new DeclareFunctionStmt(this.viewName,[new FnParam(LOG_VAR$1.name)],[new ReturnStatement(importExpr(Identifiers.viewDef).callFn([compiler_literal(viewFlags),literalArr(nodeDefExprs),updateDirectivesFn,updateRendererFn]))],importType(Identifiers.ViewDefinition),0===this.embeddedViewIndex?[StmtModifier.Exported]:[]);return targetStatements.push(viewFactory),targetStatements}_createUpdateFn(updateStmts){let updateFn;if(updateStmts.length>0){const preStmts=[];!this.component.isHost&&findReadVarNames(updateStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),updateFn=compiler_fn([new FnParam(CHECK_VAR.name,INFERRED_TYPE),new FnParam(VIEW_VAR.name,INFERRED_TYPE)],[...preStmts,...updateStmts],INFERRED_TYPE)}else updateFn=NULL_EXPR;return updateFn}visitNgContent(ast,context){this.nodes.push(()=>({sourceSpan:ast.sourceSpan,nodeFlags:8,nodeDef:importExpr(Identifiers.ngContentDef).callFn([compiler_literal(ast.ngContentIndex),compiler_literal(ast.index)])}))}visitText(ast,context){this.nodes.push(()=>({sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([compiler_literal(-1),compiler_literal(ast.ngContentIndex),literalArr([compiler_literal(ast.value)])])}))}visitBoundText(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const inter=ast.value.ast,updateRendererExpressions=inter.expressions.map((expr,bindingIndex)=>this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:ast.sourceSpan,context:COMP_VAR,value:expr})),checkIndex=nodeIndex;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([compiler_literal(checkIndex),compiler_literal(ast.ngContentIndex),literalArr(inter.strings.map(s=>compiler_literal(s)))]),updateRenderer:updateRendererExpressions})}visitEmbeddedTemplate(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const{flags:flags,queryMatchesExpr:queryMatchesExpr,hostEvents:hostEvents}=this._visitElementOrTemplate(nodeIndex,ast),childVisitor=this.viewBuilderFactory(this);this.children.push(childVisitor),childVisitor.visitAll(ast.variables,ast.children);const childCount=this.nodes.length-nodeIndex-1;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.anchorDef).callFn([compiler_literal(flags),queryMatchesExpr,compiler_literal(ast.ngContentIndex),compiler_literal(childCount),this._createElementHandleEventFn(nodeIndex,hostEvents),variable(childVisitor.viewName)])})}visitElement(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const elName=compiler_isNgContainer(ast.name)?null:ast.name,{flags:flags,usedEvents:usedEvents,queryMatchesExpr:queryMatchesExpr,hostBindings:dirHostBindings,hostEvents:hostEvents}=this._visitElementOrTemplate(nodeIndex,ast);let inputDefs=[],updateRendererExpressions=[],outputDefs=[];if(elName){const hostBindings=ast.inputs.map(inputAst=>({context:COMP_VAR,inputAst:inputAst,dirAst:null})).concat(dirHostBindings);hostBindings.length&&(updateRendererExpressions=hostBindings.map((hostBinding,bindingIndex)=>this._preprocessUpdateExpression({context:hostBinding.context,nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:hostBinding.inputAst.sourceSpan,value:hostBinding.inputAst.value})),inputDefs=hostBindings.map(hostBinding=>function(inputAst,dirAst){const inputType=inputAst.type;switch(inputType){case 1:return literalArr([compiler_literal(1),compiler_literal(inputAst.name),compiler_literal(inputAst.securityContext)]);case 0:return literalArr([compiler_literal(8),compiler_literal(inputAst.name),compiler_literal(inputAst.securityContext)]);case 4:return literalArr([compiler_literal(8|(dirAst&&dirAst.directive.isComponent?32:16)),compiler_literal("@"+inputAst.name),compiler_literal(inputAst.securityContext)]);case 2:return literalArr([compiler_literal(2),compiler_literal(inputAst.name),NULL_EXPR]);case 3:return literalArr([compiler_literal(4),compiler_literal(inputAst.name),compiler_literal(inputAst.unit)]);default:throw new Error(`unexpected ${inputType}`)}}(hostBinding.inputAst,hostBinding.dirAst))),outputDefs=usedEvents.map(([target,eventName])=>literalArr([compiler_literal(target),compiler_literal(eventName)]))}templateVisitAll(this,ast.children);const childCount=this.nodes.length-nodeIndex-1,compAst=ast.directives.find(dirAst=>dirAst.directive.isComponent);let compRendererType=NULL_EXPR,compView=NULL_EXPR;compAst&&(compView=this.outputCtx.importExpr(compAst.directive.componentViewType),compRendererType=this.outputCtx.importExpr(compAst.directive.rendererType));const checkIndex=nodeIndex;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.elementDef).callFn([compiler_literal(checkIndex),compiler_literal(flags),queryMatchesExpr,compiler_literal(ast.ngContentIndex),compiler_literal(childCount),compiler_literal(elName),elName?fixedAttrsDef(ast):NULL_EXPR,inputDefs.length?literalArr(inputDefs):NULL_EXPR,outputDefs.length?literalArr(outputDefs):NULL_EXPR,this._createElementHandleEventFn(nodeIndex,hostEvents),compView,compRendererType]),updateRenderer:updateRendererExpressions})}_visitElementOrTemplate(nodeIndex,ast){let flags=0;ast.hasViewContainer&&(flags|=16777216);const usedEvents=new Map;ast.outputs.forEach(event=>{const{name:name,target:target}=elementEventNameAndTarget(event,null);usedEvents.set(compiler_elementEventFullName(target,name),[target,name])}),ast.directives.forEach(dirAst=>{dirAst.hostEvents.forEach(event=>{const{name:name,target:target}=elementEventNameAndTarget(event,dirAst);usedEvents.set(compiler_elementEventFullName(target,name),[target,name])})});const hostBindings=[],hostEvents=[];this._visitComponentFactoryResolverProvider(ast.directives),ast.providers.forEach(providerAst=>{let dirAst=void 0;if(ast.directives.forEach(localDirAst=>{localDirAst.directive.type.reference===tokenReference(providerAst.token)&&(dirAst=localDirAst)}),dirAst){const{hostBindings:dirHostBindings,hostEvents:dirHostEvents}=this._visitDirective(providerAst,dirAst,ast.references,ast.queryMatches,usedEvents);hostBindings.push(...dirHostBindings),hostEvents.push(...dirHostEvents)}else this._visitProvider(providerAst,ast.queryMatches)});let queryMatchExprs=[];return ast.queryMatches.forEach(match=>{let valueType=void 0;tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.ElementRef)?valueType=0:tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.ViewContainerRef)?valueType=3:tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2),null!=valueType&&queryMatchExprs.push(literalArr([compiler_literal(match.queryId),compiler_literal(valueType)]))}),ast.references.forEach(ref=>{let valueType=void 0;ref.value?tokenReference(ref.value)===this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2):valueType=1,null!=valueType&&(this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([compiler_literal(ref.name),compiler_literal(valueType)])))}),ast.outputs.forEach(outputAst=>{hostEvents.push({context:COMP_VAR,eventAst:outputAst,dirAst:null})}),{flags:flags,usedEvents:Array.from(usedEvents.values()),queryMatchesExpr:queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,hostBindings:hostBindings,hostEvents:hostEvents}}_visitDirective(providerAst,dirAst,refs,queryMatches,usedEvents){const nodeIndex=this.nodes.length;this.nodes.push(null),dirAst.directive.queries.forEach((query,queryIndex)=>{const queryId=dirAst.contentQueryStartId+queryIndex,flags=67108864|calcStaticDynamicQueryFlags(query),bindingType=query.first?0:1;this.nodes.push(()=>({sourceSpan:dirAst.sourceSpan,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([compiler_literal(flags),compiler_literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,compiler_literal(bindingType),!1)])])}))});const childCount=this.nodes.length-nodeIndex-1;let{flags:flags,queryMatchExprs:queryMatchExprs,providerExpr:providerExpr,depsExpr:depsExpr}=this._visitProviderOrDirective(providerAst,queryMatches);refs.forEach(ref=>{ref.value&&tokenReference(ref.value)===tokenReference(providerAst.token)&&(this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([compiler_literal(ref.name),compiler_literal(4)])))}),dirAst.directive.isComponent&&(flags|=32768);const inputDefs=dirAst.inputs.map((inputAst,inputIndex)=>{const mapValue=literalArr([compiler_literal(inputIndex),compiler_literal(inputAst.directiveName)]);return new LiteralMapEntry(inputAst.directiveName,mapValue,!1)}),outputDefs=[],dirMeta=dirAst.directive;Object.keys(dirMeta.outputs).forEach(propName=>{const eventName=dirMeta.outputs[propName];usedEvents.has(eventName)&&outputDefs.push(new LiteralMapEntry(propName,compiler_literal(eventName),!1))});let updateDirectiveExpressions=[];(dirAst.inputs.length||(327680&flags)>0)&&(updateDirectiveExpressions=dirAst.inputs.map((input,bindingIndex)=>this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:input.sourceSpan,context:COMP_VAR,value:input.value})));const dirContextExpr=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,compiler_literal(nodeIndex)]),hostBindings=dirAst.hostProperties.map(inputAst=>({context:dirContextExpr,dirAst:dirAst,inputAst:inputAst})),hostEvents=dirAst.hostEvents.map(hostEventAst=>({context:dirContextExpr,eventAst:hostEventAst,dirAst:dirAst})),checkIndex=nodeIndex;return this.nodes[nodeIndex]=()=>({sourceSpan:dirAst.sourceSpan,nodeFlags:16384|flags,nodeDef:importExpr(Identifiers.directiveDef).callFn([compiler_literal(checkIndex),compiler_literal(flags),queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,compiler_literal(childCount),providerExpr,depsExpr,inputDefs.length?new LiteralMapExpr(inputDefs):NULL_EXPR,outputDefs.length?new LiteralMapExpr(outputDefs):NULL_EXPR]),updateDirectives:updateDirectiveExpressions,directive:dirAst.directive.type}),{hostBindings:hostBindings,hostEvents:hostEvents}}_visitProvider(providerAst,queryMatches){this._addProviderNode(this._visitProviderOrDirective(providerAst,queryMatches))}_visitComponentFactoryResolverProvider(directives){const componentDirMeta=directives.find(dirAst=>dirAst.directive.isComponent);if(componentDirMeta&&componentDirMeta.directive.entryComponents.length){const{providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr}=componentFactoryResolverProviderDef(this.reflector,this.outputCtx,8192,componentDirMeta.directive.entryComponents);this._addProviderNode({providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr,queryMatchExprs:[],sourceSpan:componentDirMeta.sourceSpan})}}_addProviderNode(data){this.nodes.push(()=>({sourceSpan:data.sourceSpan,nodeFlags:data.flags,nodeDef:importExpr(Identifiers.providerDef).callFn([compiler_literal(data.flags),data.queryMatchExprs.length?literalArr(data.queryMatchExprs):NULL_EXPR,data.tokenExpr,data.providerExpr,data.depsExpr])}))}_visitProviderOrDirective(providerAst,queryMatches){let queryMatchExprs=[];queryMatches.forEach(match=>{tokenReference(match.value)===tokenReference(providerAst.token)&&queryMatchExprs.push(literalArr([compiler_literal(match.queryId),compiler_literal(4)]))});const{providerExpr:providerExpr,depsExpr:depsExpr,flags:providerFlags,tokenExpr:tokenExpr}=compiler_providerDef(this.outputCtx,providerAst);return{flags:0|providerFlags,queryMatchExprs:queryMatchExprs,providerExpr:providerExpr,depsExpr:depsExpr,tokenExpr:tokenExpr,sourceSpan:providerAst.sourceSpan}}getLocal(name){if(name==EventHandlerVars.event.name)return EventHandlerVars.event;let currViewExpr=VIEW_VAR;for(let currBuilder=this;currBuilder;currBuilder=currBuilder.parent,currViewExpr=currViewExpr.prop("parent").cast(DYNAMIC_TYPE)){const refNodeIndex=currBuilder.refNodeIndices[name];if(null!=refNodeIndex)return importExpr(Identifiers.nodeValue).callFn([currViewExpr,compiler_literal(refNodeIndex)]);const varAst=currBuilder.variables.find(varAst=>varAst.name===name);if(varAst){const varValue=varAst.value||"$implicit";return currViewExpr.prop("context").prop(varValue)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(sourceSpan,argCount){if(0===argCount){const valueExpr=importExpr(Identifiers.EMPTY_ARRAY);return()=>valueExpr}const checkIndex=this.nodes.length;return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:32,nodeDef:importExpr(Identifiers.pureArrayDef).callFn([compiler_literal(checkIndex),compiler_literal(argCount)])})),args=>callCheckStmt(checkIndex,args)}_createLiteralMapConverter(sourceSpan,keys){if(0===keys.length){const valueExpr=importExpr(Identifiers.EMPTY_MAP);return()=>valueExpr}const map=literalMap(keys.map((e,i)=>Object.assign(Object.assign({},e),{value:compiler_literal(i)}))),checkIndex=this.nodes.length;return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:64,nodeDef:importExpr(Identifiers.pureObjectDef).callFn([compiler_literal(checkIndex),map])})),args=>callCheckStmt(checkIndex,args)}_createPipeConverter(expression,name,argCount){const pipe=this.usedPipes.find(pipeSummary=>pipeSummary.name===name);if(pipe.pure){const checkIndex=this.nodes.length;this.nodes.push(()=>({sourceSpan:expression.sourceSpan,nodeFlags:128,nodeDef:importExpr(Identifiers.purePipeDef).callFn([compiler_literal(checkIndex),compiler_literal(argCount)])}));let compViewExpr=VIEW_VAR,compBuilder=this;for(;compBuilder.parent;)compBuilder=compBuilder.parent,compViewExpr=compViewExpr.prop("parent").cast(DYNAMIC_TYPE);const pipeNodeIndex=compBuilder.purePipeNodeIndices[name],pipeValueExpr=importExpr(Identifiers.nodeValue).callFn([compViewExpr,compiler_literal(pipeNodeIndex)]);return args=>callUnwrapValue(expression.nodeIndex,expression.bindingIndex,callCheckStmt(checkIndex,[pipeValueExpr].concat(args)))}{const nodeIndex=this._createPipe(expression.sourceSpan,pipe),nodeValueExpr=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,compiler_literal(nodeIndex)]);return args=>callUnwrapValue(expression.nodeIndex,expression.bindingIndex,nodeValueExpr.callMethod("transform",args))}}_createPipe(sourceSpan,pipe){const nodeIndex=this.nodes.length;let flags=0;pipe.type.lifecycleHooks.forEach(lifecycleHook=>{lifecycleHook===LifecycleHooks.OnDestroy&&(flags|=lifecycleHookToNodeFlag(lifecycleHook))});const depExprs=pipe.type.diDeps.map(diDep=>depDef(this.outputCtx,diDep));return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:16,nodeDef:importExpr(Identifiers.pipeDef).callFn([compiler_literal(flags),this.outputCtx.importExpr(pipe.type.reference),literalArr(depExprs)])})),nodeIndex}_preprocessUpdateExpression(expression){return{nodeIndex:expression.nodeIndex,bindingIndex:expression.bindingIndex,sourceSpan:expression.sourceSpan,context:expression.context,value:convertPropertyBindingBuiltins({createLiteralArrayConverter:argCount=>this._createLiteralArrayConverter(expression.sourceSpan,argCount),createLiteralMapConverter:keys=>this._createLiteralMapConverter(expression.sourceSpan,keys),createPipeConverter:(name,argCount)=>this._createPipeConverter(expression,name,argCount)},expression.value)}}_createNodeExpressions(){const self=this;let updateBindingCount=0;const updateRendererStmts=[],updateDirectivesStmts=[],nodeDefExprs=this.nodes.map((factory,nodeIndex)=>{const{nodeDef:nodeDef,nodeFlags:nodeFlags,updateDirectives:updateDirectives,updateRenderer:updateRenderer,sourceSpan:sourceSpan}=factory();return updateRenderer&&updateRendererStmts.push(...createUpdateStatements(nodeIndex,sourceSpan,updateRenderer,!1)),updateDirectives&&updateDirectivesStmts.push(...createUpdateStatements(nodeIndex,sourceSpan,updateDirectives,(327680&nodeFlags)>0)),applySourceSpanToExpressionIfNeeded(3&nodeFlags?new CommaExpr([LOG_VAR$1.callFn([]).callFn([]),nodeDef]):nodeDef,sourceSpan)});return{updateRendererStmts:updateRendererStmts,updateDirectivesStmts:updateDirectivesStmts,nodeDefExprs:nodeDefExprs};function createUpdateStatements(nodeIndex,sourceSpan,expressions,allowEmptyExprs){const updateStmts=[],exprs=expressions.map(({sourceSpan:sourceSpan,context:context,value:value})=>{const bindingId=`${updateBindingCount++}`,nameResolver=context===COMP_VAR?self:null,{stmts:stmts,currValExpr:currValExpr}=convertPropertyBinding(nameResolver,context,value,bindingId,BindingForm.General);return updateStmts.push(...stmts.map(stmt=>applySourceSpanToStatementIfNeeded(stmt,sourceSpan))),applySourceSpanToExpressionIfNeeded(currValExpr,sourceSpan)});return(expressions.length||allowEmptyExprs)&&updateStmts.push(applySourceSpanToStatementIfNeeded(callCheckStmt(nodeIndex,exprs).toStmt(),sourceSpan)),updateStmts}}_createElementHandleEventFn(nodeIndex,handlers){const handleEventStmts=[];let handleEventFn,handleEventBindingCount=0;if(handlers.forEach(({context:context,eventAst:eventAst,dirAst:dirAst})=>{const bindingId=`${handleEventBindingCount++}`,nameResolver=context===COMP_VAR?this:null,{stmts:stmts,allowDefault:allowDefault}=convertActionBinding(nameResolver,context,eventAst.handler,bindingId),trueStmts=stmts;allowDefault&&trueStmts.push(ALLOW_DEFAULT_VAR.set(allowDefault.and(ALLOW_DEFAULT_VAR)).toStmt());const{target:eventTarget,name:eventName}=elementEventNameAndTarget(eventAst,dirAst),fullEventName=compiler_elementEventFullName(eventTarget,eventName);handleEventStmts.push(applySourceSpanToStatementIfNeeded(new IfStmt(compiler_literal(fullEventName).identical(EVENT_NAME_VAR),trueStmts),eventAst.sourceSpan))}),handleEventStmts.length>0){const preStmts=[ALLOW_DEFAULT_VAR.set(compiler_literal(!0)).toDeclStmt(BOOL_TYPE)];!this.component.isHost&&findReadVarNames(handleEventStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),handleEventFn=compiler_fn([new FnParam(VIEW_VAR.name,INFERRED_TYPE),new FnParam(EVENT_NAME_VAR.name,INFERRED_TYPE),new FnParam(EventHandlerVars.event.name,INFERRED_TYPE)],[...preStmts,...handleEventStmts,new ReturnStatement(ALLOW_DEFAULT_VAR)],INFERRED_TYPE)}else handleEventFn=NULL_EXPR;return handleEventFn}visitDirective(ast,context){}visitDirectiveProperty(ast,context){}visitReference(ast,context){}visitVariable(ast,context){}visitEvent(ast,context){}visitElementProperty(ast,context){}visitAttr(ast,context){}}function fixedAttrsDef(elementAst){const mapResult=Object.create(null);return elementAst.attrs.forEach(attrAst=>{mapResult[attrAst.name]=attrAst.value}),elementAst.directives.forEach(dirAst=>{Object.keys(dirAst.directive.hostAttributes).forEach(name=>{const value=dirAst.directive.hostAttributes[name],prevValue=mapResult[name];var attrName,attrValue1,attrValue2;mapResult[name]=null!=prevValue?(attrValue1=prevValue,attrValue2=value,"class"==(attrName=name)||"style"==attrName?`${attrValue1} ${attrValue2}`:attrValue2):value})}),literalArr(Object.keys(mapResult).sort().map(attrName=>literalArr([compiler_literal(attrName),compiler_literal(mapResult[attrName])])))}function callCheckStmt(nodeIndex,exprs){return exprs.length>10?CHECK_VAR.callFn([VIEW_VAR,compiler_literal(nodeIndex),compiler_literal(1),literalArr(exprs)]):CHECK_VAR.callFn([VIEW_VAR,compiler_literal(nodeIndex),compiler_literal(0),...exprs])}function callUnwrapValue(nodeIndex,bindingIdx,expr){return importExpr(Identifiers.unwrapValue).callFn([VIEW_VAR,compiler_literal(nodeIndex),compiler_literal(bindingIdx),expr])}function elementEventNameAndTarget(eventAst,dirAst){return eventAst.isAnimation?{name:`@${eventAst.name}.${eventAst.phase}`,target:dirAst&&dirAst.directive.isComponent?"component":null}:eventAst}function calcStaticDynamicQueryFlags(query){let flags=0;return query.first&&query.static?flags|=268435456:flags|=536870912,flags}function compiler_elementEventFullName(target,name){return target?`${target}:${name}`:name}new Set(["useValue","useFactory","data","id","loadChildren"]);class BindingScope$1{static build(){const current=new Map;return{define:function(name,value){return current.set(name,value),this},done:function(){return current.size>0?new PopulatedScope(current):BindingScope$1.empty}}}}BindingScope$1.missing={},BindingScope$1.empty={resolve:name=>BindingScope$1.missing};class PopulatedScope extends BindingScope$1{constructor(bindings){super(),this.bindings=bindings}resolve(name){return this.bindings.has(name)?this.bindings.get(name):BindingScope$1.missing}}class SummaryResolver{}class JitSummaryResolver{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(fileName){return fileName}fromSummaryFileName(fileName){return fileName}resolveSummary(reference){return this._summaries.get(reference)||null}getSymbolsOf(){return[]}getImportAs(reference){return reference}getKnownModuleName(fileName){return null}addSummary(summary){this._summaries.set(summary.symbol,summary)}}function _executeFunctionStatements(varNames,varValues,statements,ctx,visitor){const childCtx=ctx.createChildWihtLocalVars();for(let i=0;i<varNames.length;i++)childCtx.vars.set(varNames[i],varValues[i]);const result=visitor.visitAllStatements(statements,childCtx);return result?result.value:null}class _ExecutionContext{constructor(parent,instance,className,vars){this.parent=parent,this.instance=instance,this.className=className,this.vars=vars,this.exports=[]}createChildWihtLocalVars(){return new _ExecutionContext(this,this.instance,this.className,new Map)}}class ReturnValue{constructor(value){this.value=value}}class StatementInterpreter{constructor(reflector){this.reflector=reflector}debugAst(ast){return function(ast){const converter=new _TsEmitterVisitor,ctx=EmitterVisitorContext.createRoot();return(Array.isArray(ast)?ast:[ast]).forEach(ast=>{if(ast instanceof Statement)ast.visitStatement(converter,ctx);else if(ast instanceof Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof Type$1))throw new Error(`Don't know how to print debug info for ${ast}`);ast.visitType(converter,ctx)}}),ctx.toSource()}(ast)}visitDeclareVarStmt(stmt,ctx){const initialValue=stmt.value?stmt.value.visitExpression(this,ctx):void 0;return ctx.vars.set(stmt.name,initialValue),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitWriteVarExpr(expr,ctx){const value=expr.value.visitExpression(this,ctx);let currCtx=ctx;for(;null!=currCtx;){if(currCtx.vars.has(expr.name))return currCtx.vars.set(expr.name,value),value;currCtx=currCtx.parent}throw new Error(`Not declared variable ${expr.name}`)}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(ast,ctx){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(ast,ctx){let varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:return Object.getPrototypeOf(ctx.instance);case BuiltinVar.This:return ctx.instance;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$2;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$2;break;default:throw new Error(`Unknown builtin variable ${ast.builtin}`)}let currCtx=ctx;for(;null!=currCtx;){if(currCtx.vars.has(varName))return currCtx.vars.get(varName);currCtx=currCtx.parent}throw new Error(`Not declared variable ${varName}`)}visitWriteKeyExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),index=expr.index.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[index]=value,value}visitWritePropExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[expr.name]=value,value}visitInvokeMethodExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),args=this.visitAllExpressions(expr.args,ctx);let result;if(null!=expr.builtin)switch(expr.builtin){case BuiltinMethod.ConcatArray:result=receiver.concat(...args);break;case BuiltinMethod.SubscribeObservable:result=receiver.subscribe({next:args[0]});break;case BuiltinMethod.Bind:result=receiver.bind(...args);break;default:throw new Error(`Unknown builtin method ${expr.builtin}`)}else result=receiver[expr.name].apply(receiver,args);return result}visitInvokeFunctionExpr(stmt,ctx){const args=this.visitAllExpressions(stmt.args,ctx),fnExpr=stmt.fn;if(fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super)return ctx.instance.constructor.prototype.constructor.apply(ctx.instance,args),null;return stmt.fn.visitExpression(this,ctx).apply(null,args)}visitReturnStmt(stmt,ctx){return new ReturnValue(stmt.value.visitExpression(this,ctx))}visitDeclareClassStmt(stmt,ctx){const clazz=function(_classStmt,_ctx,_visitor){const propertyDescriptors={};_classStmt.getters.forEach(getter=>{propertyDescriptors[getter.name]={configurable:!1,get:function(){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements([],[],getter.body,instanceCtx,_visitor)}}}),_classStmt.methods.forEach((function(method){const paramNames=method.params.map(param=>param.name);propertyDescriptors[method.name]={writable:!1,configurable:!1,value:function(...args){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements(paramNames,args,method.body,instanceCtx,_visitor)}}}));const ctorParamNames=_classStmt.constructorMethod.params.map(param=>param.name),ctor=function(...args){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);_classStmt.fields.forEach(field=>{this[field.name]=void 0}),_executeFunctionStatements(ctorParamNames,args,_classStmt.constructorMethod.body,instanceCtx,_visitor)},superClass=_classStmt.parent?_classStmt.parent.visitExpression(_visitor,_ctx):Object;return ctor.prototype=Object.create(superClass.prototype,propertyDescriptors),ctor}(stmt,ctx,this);return ctx.vars.set(stmt.name,clazz),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitExpressionStmt(stmt,ctx){return stmt.expr.visitExpression(this,ctx)}visitIfStmt(stmt,ctx){return stmt.condition.visitExpression(this,ctx)?this.visitAllStatements(stmt.trueCase,ctx):null!=stmt.falseCase?this.visitAllStatements(stmt.falseCase,ctx):null}visitTryCatchStmt(stmt,ctx){try{return this.visitAllStatements(stmt.bodyStmts,ctx)}catch(e){const childCtx=ctx.createChildWihtLocalVars();return childCtx.vars.set(CATCH_ERROR_VAR$2,e),childCtx.vars.set(CATCH_STACK_VAR$2,e.stack),this.visitAllStatements(stmt.catchStmts,childCtx)}}visitThrowStmt(stmt,ctx){throw stmt.error.visitExpression(this,ctx)}visitCommentStmt(stmt,context){return null}visitJSDocCommentStmt(stmt,context){return null}visitInstantiateExpr(ast,ctx){const args=this.visitAllExpressions(ast.args,ctx);return new(ast.classExpr.visitExpression(this,ctx))(...args)}visitLiteralExpr(ast,ctx){return ast.value}visitLocalizedString(ast,context){return null}visitExternalExpr(ast,ctx){return this.reflector.resolveExternalReference(ast.value)}visitConditionalExpr(ast,ctx){return ast.condition.visitExpression(this,ctx)?ast.trueCase.visitExpression(this,ctx):null!=ast.falseCase?ast.falseCase.visitExpression(this,ctx):null}visitNotExpr(ast,ctx){return!ast.condition.visitExpression(this,ctx)}visitAssertNotNullExpr(ast,ctx){return ast.condition.visitExpression(this,ctx)}visitCastExpr(ast,ctx){return ast.value.visitExpression(this,ctx)}visitFunctionExpr(ast,ctx){return _declareFn(ast.params.map(param=>param.name),ast.statements,ctx,this)}visitDeclareFunctionStmt(stmt,ctx){const paramNames=stmt.params.map(param=>param.name);return ctx.vars.set(stmt.name,_declareFn(paramNames,stmt.statements,ctx,this)),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitBinaryOperatorExpr(ast,ctx){const lhs=()=>ast.lhs.visitExpression(this,ctx),rhs=()=>ast.rhs.visitExpression(this,ctx);switch(ast.operator){case BinaryOperator.Equals:return lhs()==rhs();case BinaryOperator.Identical:return lhs()===rhs();case BinaryOperator.NotEquals:return lhs()!=rhs();case BinaryOperator.NotIdentical:return lhs()!==rhs();case BinaryOperator.And:return lhs()&&rhs();case BinaryOperator.Or:return lhs()||rhs();case BinaryOperator.Plus:return lhs()+rhs();case BinaryOperator.Minus:return lhs()-rhs();case BinaryOperator.Divide:return lhs()/rhs();case BinaryOperator.Multiply:return lhs()*rhs();case BinaryOperator.Modulo:return lhs()%rhs();case BinaryOperator.Lower:return lhs()<rhs();case BinaryOperator.LowerEquals:return lhs()<=rhs();case BinaryOperator.Bigger:return lhs()>rhs();case BinaryOperator.BiggerEquals:return lhs()>=rhs();default:throw new Error(`Unknown operator ${ast.operator}`)}}visitReadPropExpr(ast,ctx){let result;return result=ast.receiver.visitExpression(this,ctx)[ast.name],result}visitReadKeyExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx)[ast.index.visitExpression(this,ctx)]}visitLiteralArrayExpr(ast,ctx){return this.visitAllExpressions(ast.entries,ctx)}visitLiteralMapExpr(ast,ctx){const result={};return ast.entries.forEach(entry=>result[entry.key]=entry.value.visitExpression(this,ctx)),result}visitCommaExpr(ast,context){const values=this.visitAllExpressions(ast.parts,context);return values[values.length-1]}visitAllExpressions(expressions,ctx){return expressions.map(expr=>expr.visitExpression(this,ctx))}visitAllStatements(statements,ctx){for(let i=0;i<statements.length;i++){const val=statements[i].visitStatement(this,ctx);if(val instanceof ReturnValue)return val}return null}}function _declareFn(varNames,statements,ctx,visitor){return(...args)=>_executeFunctionStatements(varNames,args,statements,ctx,visitor)}const CATCH_ERROR_VAR$2="error",CATCH_STACK_VAR$2="stack";class JitCompiler{constructor(_metadataResolver,_templateParser,_styleCompiler,_viewCompiler,_ngModuleCompiler,_summaryResolver,_reflector,_jitEvaluator,_compilerConfig,_console,getExtraNgModuleProviders){this._metadataResolver=_metadataResolver,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._summaryResolver=_summaryResolver,this._reflector=_reflector,this._jitEvaluator=_jitEvaluator,this._compilerConfig=_compilerConfig,this._console=_console,this.getExtraNgModuleProviders=getExtraNgModuleProviders,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(moduleType){return SyncAsync_assertSync(this._compileModuleAndComponents(moduleType,!0))}compileModuleAsync(moduleType){return Promise.resolve(this._compileModuleAndComponents(moduleType,!1))}compileModuleAndAllComponentsSync(moduleType){return SyncAsync_assertSync(this._compileModuleAndAllComponents(moduleType,!0))}compileModuleAndAllComponentsAsync(moduleType){return Promise.resolve(this._compileModuleAndAllComponents(moduleType,!1))}getComponentFactory(component){return this._metadataResolver.getDirectiveSummary(component).componentFactory}loadAotSummaries(summaries){this.clearCache(),this._addAotSummaries(summaries)}_addAotSummaries(fn){if(this._addedAotSummaries.has(fn))return;this._addedAotSummaries.add(fn);const summaries=fn();for(let i=0;i<summaries.length;i++){const entry=summaries[i];if("function"==typeof entry)this._addAotSummaries(entry);else{const summary=entry;this._summaryResolver.addSummary({symbol:summary.type.reference,metadata:null,type:summary})}}}hasAotSummary(ref){return!!this._summaryResolver.resolveSummary(ref)}_filterJitIdentifiers(ids){return ids.map(mod=>mod.reference).filter(ref=>!this.hasAotSummary(ref))}_compileModuleAndComponents(moduleType,isSync){return SyncAsync_then(this._loadModules(moduleType,isSync),()=>(this._compileComponents(moduleType,null),this._compileModule(moduleType)))}_compileModuleAndAllComponents(moduleType,isSync){return SyncAsync_then(this._loadModules(moduleType,isSync),()=>{const componentFactories=[];return this._compileComponents(moduleType,componentFactories),{ngModuleFactory:this._compileModule(moduleType),componentFactories:componentFactories}})}_loadModules(mainModule,isSync){const loading=[],mainNgModule=this._metadataResolver.getNgModuleMetadata(mainModule);return this._filterJitIdentifiers(mainNgModule.transitiveModule.modules).forEach(nestedNgModule=>{const moduleMeta=this._metadataResolver.getNgModuleMetadata(nestedNgModule);this._filterJitIdentifiers(moduleMeta.declaredDirectives).forEach(ref=>{const promise=this._metadataResolver.loadDirectiveMetadata(moduleMeta.type.reference,ref,isSync);promise&&loading.push(promise)}),this._filterJitIdentifiers(moduleMeta.declaredPipes).forEach(ref=>this._metadataResolver.getOrLoadPipeMetadata(ref))}),SyncAsync_all(loading)}_compileModule(moduleType){let ngModuleFactory=this._compiledNgModuleCache.get(moduleType);if(!ngModuleFactory){const moduleMeta=this._metadataResolver.getNgModuleMetadata(moduleType),extraProviders=this.getExtraNgModuleProviders(moduleMeta.type.reference),outputCtx=createOutputContext(),compileResult=this._ngModuleCompiler.compile(outputCtx,moduleMeta,extraProviders);ngModuleFactory=this._interpretOrJit(function(moduleMeta){return jitSourceUrl(`${identifierName(moduleMeta.type)}/module.ngfactory.js`)}(moduleMeta),outputCtx.statements)[compileResult.ngModuleFactoryVar],this._compiledNgModuleCache.set(moduleMeta.type.reference,ngModuleFactory)}return ngModuleFactory}_compileComponents(mainModule,allComponentFactories){const ngModule=this._metadataResolver.getNgModuleMetadata(mainModule),moduleByJitDirective=new Map,templates=new Set,transJitModules=this._filterJitIdentifiers(ngModule.transitiveModule.modules);transJitModules.forEach(localMod=>{const localModuleMeta=this._metadataResolver.getNgModuleMetadata(localMod);this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(dirRef=>{moduleByJitDirective.set(dirRef,localModuleMeta);const dirMeta=this._metadataResolver.getDirectiveMetadata(dirRef);if(dirMeta.isComponent&&(templates.add(this._createCompiledTemplate(dirMeta,localModuleMeta)),allComponentFactories)){const template=this._createCompiledHostTemplate(dirMeta.type.reference,localModuleMeta);templates.add(template),allComponentFactories.push(dirMeta.componentFactory)}})}),transJitModules.forEach(localMod=>{const localModuleMeta=this._metadataResolver.getNgModuleMetadata(localMod);this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(dirRef=>{const dirMeta=this._metadataResolver.getDirectiveMetadata(dirRef);dirMeta.isComponent&&dirMeta.entryComponents.forEach(entryComponentType=>{const moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))})}),localModuleMeta.entryComponents.forEach(entryComponentType=>{if(!this.hasAotSummary(entryComponentType.componentType)){const moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))}})}),templates.forEach(template=>this._compileTemplate(template))}clearCacheFor(type){this._compiledNgModuleCache.delete(type),this._metadataResolver.clearCacheFor(type),this._compiledHostTemplateCache.delete(type),this._compiledTemplateCache.get(type)&&this._compiledTemplateCache.delete(type)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(compType,ngModule){if(!ngModule)throw new Error(`Component ${compiler_stringify(compType)} is not part of any NgModule or the module has not been imported into your module.`);let compiledTemplate=this._compiledHostTemplateCache.get(compType);if(!compiledTemplate){const compMeta=this._metadataResolver.getDirectiveMetadata(compType);assertComponent(compMeta);const hostMeta=this._metadataResolver.getHostComponentMetadata(compMeta,compMeta.componentFactory.viewDefFactory);compiledTemplate=new CompiledTemplate(!0,compMeta.type,hostMeta,ngModule,[compMeta.type]),this._compiledHostTemplateCache.set(compType,compiledTemplate)}return compiledTemplate}_createCompiledTemplate(compMeta,ngModule){let compiledTemplate=this._compiledTemplateCache.get(compMeta.type.reference);return compiledTemplate||(assertComponent(compMeta),compiledTemplate=new CompiledTemplate(!1,compMeta.type,compMeta,ngModule,ngModule.transitiveModule.directives),this._compiledTemplateCache.set(compMeta.type.reference,compiledTemplate)),compiledTemplate}_compileTemplate(template){if(template.isCompiled)return;const compMeta=template.compMeta,externalStylesheetsByModuleUrl=new Map,outputContext=createOutputContext(),componentStylesheet=this._styleCompiler.compileComponent(outputContext,compMeta);compMeta.template.externalStylesheets.forEach(stylesheetMeta=>{const compiledStylesheet=this._styleCompiler.compileStyles(createOutputContext(),compMeta,stylesheetMeta);externalStylesheetsByModuleUrl.set(stylesheetMeta.moduleUrl,compiledStylesheet)}),this._resolveStylesCompileResult(componentStylesheet,externalStylesheetsByModuleUrl);template.ngModule.transitiveModule.pipes.map(pipe=>this._metadataResolver.getPipeSummary(pipe.reference));const{template:parsedTemplate,pipes:usedPipes}=this._parseTemplate(compMeta,template.ngModule,template.directives),compileResult=this._viewCompiler.compileComponent(outputContext,compMeta,parsedTemplate,variable(componentStylesheet.stylesVar),usedPipes),evalResult=this._interpretOrJit(function(ngModuleType,compMeta){return jitSourceUrl(`${identifierName(ngModuleType)}/${identifierName(compMeta.type)}.ngfactory.js`)}(template.ngModule.type,template.compMeta),outputContext.statements),viewClass=evalResult[compileResult.viewClassVar],rendererType=evalResult[compileResult.rendererTypeVar];template.compiled(viewClass,rendererType)}_parseTemplate(compMeta,ngModule,directiveIdentifiers){const preserveWhitespaces=compMeta.template.preserveWhitespaces,directives=directiveIdentifiers.map(dir=>this._metadataResolver.getDirectiveSummary(dir.reference)),pipes=ngModule.transitiveModule.pipes.map(pipe=>this._metadataResolver.getPipeSummary(pipe.reference));return this._templateParser.parse(compMeta,compMeta.template.htmlAst,directives,pipes,ngModule.schemas,templateSourceUrl(ngModule.type,compMeta,compMeta.template),preserveWhitespaces)}_resolveStylesCompileResult(result,externalStylesheetsByModuleUrl){result.dependencies.forEach((dep,i)=>{const nestedCompileResult=externalStylesheetsByModuleUrl.get(dep.moduleUrl),nestedStylesArr=this._resolveAndEvalStylesCompileResult(nestedCompileResult,externalStylesheetsByModuleUrl);dep.setValue(nestedStylesArr)})}_resolveAndEvalStylesCompileResult(result,externalStylesheetsByModuleUrl){return this._resolveStylesCompileResult(result,externalStylesheetsByModuleUrl),this._interpretOrJit(function(meta,id){const pathParts=meta.moduleUrl.split(/\/\\/g);return jitSourceUrl(`css/${id}${pathParts[pathParts.length-1]}.ngstyle.js`)}(result.meta,this._sharedStylesheetCount++),result.outputCtx.statements)[result.stylesVar]}_interpretOrJit(sourceUrl,statements){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(sourceUrl,statements,this._reflector,this._compilerConfig.jitDevMode):function(statements,reflector){const ctx=new _ExecutionContext(null,null,null,new Map);new StatementInterpreter(reflector).visitAllStatements(statements,ctx);const result={};return ctx.exports.forEach(exportName=>{result[exportName]=ctx.vars.get(exportName)}),result}(statements,this._reflector)}}class CompiledTemplate{constructor(isHost,compType,compMeta,ngModule,directives){this.isHost=isHost,this.compType=compType,this.compMeta=compMeta,this.ngModule=ngModule,this.directives=directives,this._viewClass=null,this.isCompiled=!1}compiled(viewClass,rendererType){this._viewClass=viewClass,this.compMeta.componentViewType.setDelegate(viewClass);for(let prop in rendererType)this.compMeta.rendererType[prop]=rendererType[prop];this.isCompiled=!0}}function assertComponent(meta){if(!meta.isComponent)throw new Error(`Could not compile '${identifierName(meta.type)}' because it is not a component.`)}function createOutputContext(){return{statements:[],genFilePath:"",importExpr:symbol=>importExpr({name:identifierName(symbol),moduleName:null,runtime:symbol}),constantPool:new ConstantPool}}class CompileReflector{}const UrlResolver=class{constructor(_packagePrefix=null){this._packagePrefix=_packagePrefix}resolve(baseUrl,url){let resolvedUrl=url;null!=baseUrl&&baseUrl.length>0&&(resolvedUrl=function(base,url){const parts=_split(encodeURI(url)),baseParts=_split(base);if(null!=parts[_ComponentIndex.Scheme])return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(let i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)null==parts[i]&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);let path=baseParts[_ComponentIndex.Path];null==path&&(path="/");const index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}(baseUrl,resolvedUrl));const resolvedParts=_split(resolvedUrl);let prefix=this._packagePrefix;if(null!=prefix&&null!=resolvedParts&&"package"==resolvedParts[_ComponentIndex.Scheme]){let path=resolvedParts[_ComponentIndex.Path];return prefix=prefix.replace(/\/+$/,""),path=path.replace(/^\/+/,""),`${prefix}/${path}`}return resolvedUrl}};const _splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var _ComponentIndex;function _split(uri){return uri.match(_splitRe)}function _joinAndCanonicalizePath(parts){let path=parts[_ComponentIndex.Path];return path=null==path?"":function(path){if("/"==path)return"/";const leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[];let up=0;for(let pos=0;pos<segments.length;pos++){const segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}(path),parts[_ComponentIndex.Path]=path,function(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){const out=[];return null!=opt_scheme&&out.push(opt_scheme+":"),null!=opt_domain&&(out.push("//"),null!=opt_userInfo&&out.push(opt_userInfo+"@"),out.push(opt_domain),null!=opt_port&&out.push(":"+opt_port)),null!=opt_path&&out.push(opt_path),null!=opt_queryData&&out.push("?"+opt_queryData),null!=opt_fragment&&out.push("#"+opt_fragment),out.join("")}(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));!function(global){(global.ng||(global.ng={})).ɵcompilerFacade=new CompilerFacadeImpl}(fesm2015_compiler_global);let _DOM=null;function getDOM(){return _DOM}const common_DOCUMENT=new InjectionToken("DocumentToken");class PlatformLocation{}function useBrowserPlatformLocation(){return ɵɵinject(BrowserPlatformLocation)}PlatformLocation.ɵfac=function(t){return new(t||PlatformLocation)},PlatformLocation.ɵprov=ɵɵdefineInjectable({factory:useBrowserPlatformLocation,token:PlatformLocation,providedIn:"platform"});const LOCATION_INITIALIZED=new InjectionToken("Location Initialized");class BrowserPlatformLocation extends PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}function supportsState(){return!!window.history.pushState}function createBrowserPlatformLocation(){return new BrowserPlatformLocation(ɵɵinject(common_DOCUMENT))}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}function stripTrailingSlash(url){const match=url.match(/#|\?|$/),pathEndIdx=match&&match.index||url.length,droppedSlashIdx=pathEndIdx-("/"===url[pathEndIdx-1]?1:0);return url.slice(0,droppedSlashIdx)+url.slice(pathEndIdx)}function normalizeQueryParams(params){return params&&"?"!==params[0]?"?"+params:params}BrowserPlatformLocation.ɵfac=function(t){return new(t||BrowserPlatformLocation)(ɵɵinject(common_DOCUMENT))},BrowserPlatformLocation.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],BrowserPlatformLocation.ɵprov=ɵɵdefineInjectable({factory:createBrowserPlatformLocation,token:BrowserPlatformLocation,providedIn:"platform"});class LocationStrategy{}function provideLocationStrategy(platformLocation){const location=ɵɵinject(common_DOCUMENT).location;return new PathLocationStrategy(ɵɵinject(PlatformLocation),location&&location.origin||"")}LocationStrategy.ɵfac=function(t){return new(t||LocationStrategy)},LocationStrategy.ɵprov=ɵɵdefineInjectable({factory:provideLocationStrategy,token:LocationStrategy,providedIn:"root"});const APP_BASE_HREF=new InjectionToken("appBaseHref");class PathLocationStrategy extends LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}PathLocationStrategy.ɵfac=function(t){return new(t||PathLocationStrategy)(ɵɵinject(PlatformLocation),ɵɵinject(APP_BASE_HREF,8))},PathLocationStrategy.ɵprov=ɵɵdefineInjectable({token:PathLocationStrategy,factory:PathLocationStrategy.ɵfac}),PathLocationStrategy.ctorParameters=()=>[{type:PlatformLocation},{type:String,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}];class HashLocationStrategy extends LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref="",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path="#"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}HashLocationStrategy.ɵfac=function(t){return new(t||HashLocationStrategy)(ɵɵinject(PlatformLocation),ɵɵinject(APP_BASE_HREF,8))},HashLocationStrategy.ɵprov=ɵɵdefineInjectable({token:HashLocationStrategy,factory:HashLocationStrategy.ɵfac}),HashLocationStrategy.ctorParameters=()=>[{type:PlatformLocation},{type:String,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}];class common_Location{constructor(platformStrategy,platformLocation){this._subject=new core_EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=""){return this.path()==this.normalize(path+normalizeQueryParams(query))}normalize(url){return common_Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&"/"!==url[0]&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query="",state=null){this._platformStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}replaceState(path,query="",state=null){this._platformStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}}function createLocation(){return new common_Location(ɵɵinject(LocationStrategy),ɵɵinject(PlatformLocation))}function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}common_Location.ɵfac=function(t){return new(t||common_Location)(ɵɵinject(LocationStrategy),ɵɵinject(PlatformLocation))},common_Location.normalizeQueryParams=normalizeQueryParams,common_Location.joinWithSlash=joinWithSlash,common_Location.stripTrailingSlash=stripTrailingSlash,common_Location.ctorParameters=()=>[{type:LocationStrategy},{type:PlatformLocation}],common_Location.ɵprov=ɵɵdefineInjectable({factory:createLocation,token:common_Location,providedIn:"root"});const CURRENCIES_EN={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"р.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RUR:[void 0,"р."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},NumberFormatStyle={Decimal:0,Percent:1,Currency:2,Scientific:3};NumberFormatStyle[NumberFormatStyle.Decimal]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent]="Percent",NumberFormatStyle[NumberFormatStyle.Currency]="Currency",NumberFormatStyle[NumberFormatStyle.Scientific]="Scientific";const Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Plural[Plural.Zero]="Zero",Plural[Plural.One]="One",Plural[Plural.Two]="Two",Plural[Plural.Few]="Few",Plural[Plural.Many]="Many",Plural[Plural.Other]="Other";const FormStyle={Format:0,Standalone:1};FormStyle[FormStyle.Format]="Format",FormStyle[FormStyle.Standalone]="Standalone";const TranslationWidth={Narrow:0,Abbreviated:1,Wide:2,Short:3};TranslationWidth[TranslationWidth.Narrow]="Narrow",TranslationWidth[TranslationWidth.Abbreviated]="Abbreviated",TranslationWidth[TranslationWidth.Wide]="Wide",TranslationWidth[TranslationWidth.Short]="Short";const FormatWidth={Short:0,Medium:1,Long:2,Full:3};FormatWidth[FormatWidth.Short]="Short",FormatWidth[FormatWidth.Medium]="Medium",FormatWidth[FormatWidth.Long]="Long",FormatWidth[FormatWidth.Full]="Full";const NumberSymbol={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};NumberSymbol[NumberSymbol.Decimal]="Decimal",NumberSymbol[NumberSymbol.Group]="Group",NumberSymbol[NumberSymbol.List]="List",NumberSymbol[NumberSymbol.PercentSign]="PercentSign",NumberSymbol[NumberSymbol.PlusSign]="PlusSign",NumberSymbol[NumberSymbol.MinusSign]="MinusSign",NumberSymbol[NumberSymbol.Exponential]="Exponential",NumberSymbol[NumberSymbol.SuperscriptingExponent]="SuperscriptingExponent",NumberSymbol[NumberSymbol.PerMille]="PerMille",NumberSymbol[NumberSymbol.Infinity]="Infinity",NumberSymbol[NumberSymbol.NaN]="NaN",NumberSymbol[NumberSymbol.TimeSeparator]="TimeSeparator",NumberSymbol[NumberSymbol.CurrencyDecimal]="CurrencyDecimal",NumberSymbol[NumberSymbol.CurrencyGroup]="CurrencyGroup";const WeekDay={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function getLocaleDateFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.DateFormat],width)}function getLocaleTimeFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.TimeFormat],width)}function getLocaleDateTimeFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.DateTimeFormat],width)}function getLocaleNumberSymbol(locale,symbol){const data=findLocaleData(locale),res=data[LocaleDataIndex.NumberSymbols][symbol];if(void 0===res){if(symbol===NumberSymbol.CurrencyDecimal)return data[LocaleDataIndex.NumberSymbols][NumberSymbol.Decimal];if(symbol===NumberSymbol.CurrencyGroup)return data[LocaleDataIndex.NumberSymbols][NumberSymbol.Group]}return res}function getLocaleNumberFormat(locale,type){return findLocaleData(locale)[LocaleDataIndex.NumberFormats][type]}WeekDay[WeekDay.Sunday]="Sunday",WeekDay[WeekDay.Monday]="Monday",WeekDay[WeekDay.Tuesday]="Tuesday",WeekDay[WeekDay.Wednesday]="Wednesday",WeekDay[WeekDay.Thursday]="Thursday",WeekDay[WeekDay.Friday]="Friday",WeekDay[WeekDay.Saturday]="Saturday";const common_getLocalePluralCase=getLocalePluralCase;function checkFullData(data){if(!data[LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${data[LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function getLastDefinedValue(data,index){for(let i=index;i>-1;i--)if(void 0!==data[i])return data[i];throw new Error("Locale data API: locale data undefined")}function extractTime(time){const[h,m]=time.split(":");return{hours:+h,minutes:+m}}function getCurrencySymbol(code,format,locale="en"){const currency=function(locale){return findLocaleData(locale)[LocaleDataIndex.Currencies]}(locale)[code]||CURRENCIES_EN[code]||[],symbolNarrow=currency[1];return"narrow"===format&&"string"==typeof symbolNarrow?symbolNarrow:currency[0]||code}const ISO8601_DATE_REGEX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NAMED_FORMATS={},DATE_FORMATS_SPLIT=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ZoneWidth={Short:0,ShortGMT:1,Long:2,Extended:3};ZoneWidth[ZoneWidth.Short]="Short",ZoneWidth[ZoneWidth.ShortGMT]="ShortGMT",ZoneWidth[ZoneWidth.Long]="Long",ZoneWidth[ZoneWidth.Extended]="Extended";const DateType={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};DateType[DateType.FullYear]="FullYear",DateType[DateType.Month]="Month",DateType[DateType.Date]="Date",DateType[DateType.Hours]="Hours",DateType[DateType.Minutes]="Minutes",DateType[DateType.Seconds]="Seconds",DateType[DateType.FractionalSeconds]="FractionalSeconds",DateType[DateType.Day]="Day";const TranslationType={DayPeriods:0,Days:1,Months:2,Eras:3};function formatDate(value,format,locale,timezone){let date=function(value){if(isDate(value))return value;if("number"==typeof value&&!isNaN(value))return new Date(value);if("string"==typeof value){value=value.trim();const parsedNb=parseFloat(value);if(!isNaN(value-parsedNb))return new Date(parsedNb);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){const[y,m,d]=value.split("-").map(val=>+val);return new Date(y,m-1,d)}let match;if(match=value.match(ISO8601_DATE_REGEX))return function(match){const date=new Date(0);let tzHour=0,tzMin=0;const dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=Number(match[9]+match[10]),tzMin=Number(match[9]+match[11]));dateSetter.call(date,Number(match[1]),Number(match[2])-1,Number(match[3]));const h=Number(match[4]||0)-tzHour,m=Number(match[5]||0)-tzMin,s=Number(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}(match)}const date=new Date(value);if(!isDate(date))throw new Error(`Unable to convert "${value}" into a date`);return date}(value);format=function getNamedFormat(locale,format){const localeId=function(locale){return findLocaleData(locale)[LocaleDataIndex.LocaleId]}(locale);if(NAMED_FORMATS[localeId]=NAMED_FORMATS[localeId]||{},NAMED_FORMATS[localeId][format])return NAMED_FORMATS[localeId][format];let formatValue="";switch(format){case"shortDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Short);break;case"mediumDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Medium);break;case"longDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Long);break;case"fullDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Full);break;case"shortTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Short);break;case"mediumTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Medium);break;case"longTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Long);break;case"fullTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Full);break;case"short":const shortTime=getNamedFormat(locale,"shortTime"),shortDate=getNamedFormat(locale,"shortDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Short),[shortTime,shortDate]);break;case"medium":const mediumTime=getNamedFormat(locale,"mediumTime"),mediumDate=getNamedFormat(locale,"mediumDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Medium),[mediumTime,mediumDate]);break;case"long":const longTime=getNamedFormat(locale,"longTime"),longDate=getNamedFormat(locale,"longDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Long),[longTime,longDate]);break;case"full":const fullTime=getNamedFormat(locale,"fullTime"),fullDate=getNamedFormat(locale,"fullDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Full),[fullTime,fullDate])}formatValue&&(NAMED_FORMATS[localeId][format]=formatValue);return formatValue}(locale,format)||format;let match,parts=[];for(;format;){if(match=DATE_FORMATS_SPLIT.exec(format),!match){parts.push(format);break}{parts=parts.concat(match.slice(1));const part=parts.pop();if(!part)break;format=part}}let dateTimezoneOffset=date.getTimezoneOffset();timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=function(date,timezone,reverse){const reverseValue=reverse?-1:1,dateTimezoneOffset=date.getTimezoneOffset(),timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return function(date,minutes){return(date=new Date(date.getTime())).setMinutes(date.getMinutes()+minutes),date}(date,reverseValue*(timezoneOffset-dateTimezoneOffset))}(date,timezone,!0));let text="";return parts.forEach(value=>{const dateFormatter=function(format){if(DATE_FORMATS[format])return DATE_FORMATS[format];let formatter;switch(format){case"G":case"GG":case"GGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Abbreviated);break;case"GGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Wide);break;case"GGGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Narrow);break;case"y":formatter=dateGetter(DateType.FullYear,1,0,!1,!0);break;case"yy":formatter=dateGetter(DateType.FullYear,2,0,!0,!0);break;case"yyy":formatter=dateGetter(DateType.FullYear,3,0,!1,!0);break;case"yyyy":formatter=dateGetter(DateType.FullYear,4,0,!1,!0);break;case"M":case"L":formatter=dateGetter(DateType.Month,1,1);break;case"MM":case"LL":formatter=dateGetter(DateType.Month,2,1);break;case"MMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated);break;case"MMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide);break;case"MMMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow);break;case"LLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"LLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide,FormStyle.Standalone);break;case"LLLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow,FormStyle.Standalone);break;case"w":formatter=weekGetter(1);break;case"ww":formatter=weekGetter(2);break;case"W":formatter=weekGetter(1,!0);break;case"d":formatter=dateGetter(DateType.Date,1);break;case"dd":formatter=dateGetter(DateType.Date,2);break;case"E":case"EE":case"EEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Abbreviated);break;case"EEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Wide);break;case"EEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Narrow);break;case"EEEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Short);break;case"a":case"aa":case"aaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated);break;case"aaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide);break;case"aaaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Standalone,!0);break;case"bbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Standalone,!0);break;case"bbbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Format,!0);break;case"BBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Format,!0);break;case"BBBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Format,!0);break;case"h":formatter=dateGetter(DateType.Hours,1,-12);break;case"hh":formatter=dateGetter(DateType.Hours,2,-12);break;case"H":formatter=dateGetter(DateType.Hours,1);break;case"HH":formatter=dateGetter(DateType.Hours,2);break;case"m":formatter=dateGetter(DateType.Minutes,1);break;case"mm":formatter=dateGetter(DateType.Minutes,2);break;case"s":formatter=dateGetter(DateType.Seconds,1);break;case"ss":formatter=dateGetter(DateType.Seconds,2);break;case"S":formatter=dateGetter(DateType.FractionalSeconds,1);break;case"SS":formatter=dateGetter(DateType.FractionalSeconds,2);break;case"SSS":formatter=dateGetter(DateType.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":formatter=timeZoneGetter(ZoneWidth.Short);break;case"ZZZZZ":formatter=timeZoneGetter(ZoneWidth.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":formatter=timeZoneGetter(ZoneWidth.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":formatter=timeZoneGetter(ZoneWidth.Long);break;default:return null}return DATE_FORMATS[format]=formatter,formatter}(value);text+=dateFormatter?dateFormatter(date,locale,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function formatDateTime(str,opt_values){return opt_values&&(str=str.replace(/\{([^}]+)}/g,(function(match,key){return null!=opt_values&&key in opt_values?opt_values[key]:match}))),str}function padNumber(num,digits,minusSign="-",trim,negWrap){let neg="";(num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg=minusSign));let strNum=String(num);for(;strNum.length<digits;)strNum="0"+strNum;return trim&&(strNum=strNum.substr(strNum.length-digits)),neg+strNum}function dateGetter(name,size,offset=0,trim=!1,negWrap=!1){return function(date,locale){let part=function(part,date){switch(part){case DateType.FullYear:return date.getFullYear();case DateType.Month:return date.getMonth();case DateType.Date:return date.getDate();case DateType.Hours:return date.getHours();case DateType.Minutes:return date.getMinutes();case DateType.Seconds:return date.getSeconds();case DateType.FractionalSeconds:return date.getMilliseconds();case DateType.Day:return date.getDay();default:throw new Error(`Unknown DateType value "${part}".`)}}(name,date);if((offset>0||part>-offset)&&(part+=offset),name===DateType.Hours)0===part&&-12===offset&&(part=12);else if(name===DateType.FractionalSeconds)return digits=size,padNumber(part,3).substr(0,digits);var digits;const localeMinus=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign);return padNumber(part,size,localeMinus,trim,negWrap)}}function dateStrGetter(name,width,form=FormStyle.Format,extended=!1){return function(date,locale){return function(date,locale,name,width,form,extended){switch(name){case TranslationType.Months:return function(locale,formStyle,width){const data=findLocaleData(locale),months=getLastDefinedValue([data[LocaleDataIndex.MonthsFormat],data[LocaleDataIndex.MonthsStandalone]],formStyle);return getLastDefinedValue(months,width)}(locale,form,width)[date.getMonth()];case TranslationType.Days:return function(locale,formStyle,width){const data=findLocaleData(locale),days=getLastDefinedValue([data[LocaleDataIndex.DaysFormat],data[LocaleDataIndex.DaysStandalone]],formStyle);return getLastDefinedValue(days,width)}(locale,form,width)[date.getDay()];case TranslationType.DayPeriods:const currentHours=date.getHours(),currentMinutes=date.getMinutes();if(extended){const rules=function(locale){const data=findLocaleData(locale);return checkFullData(data),(data[LocaleDataIndex.ExtraData][2]||[]).map(rule=>"string"==typeof rule?extractTime(rule):[extractTime(rule[0]),extractTime(rule[1])])}(locale),dayPeriods=function(locale,formStyle,width){const data=findLocaleData(locale);checkFullData(data);const dayPeriods=getLastDefinedValue([data[LocaleDataIndex.ExtraData][0],data[LocaleDataIndex.ExtraData][1]],formStyle)||[];return getLastDefinedValue(dayPeriods,width)||[]}(locale,form,width);let result;if(rules.forEach((rule,index)=>{if(Array.isArray(rule)){const{hours:hoursFrom,minutes:minutesFrom}=rule[0],{hours:hoursTo,minutes:minutesTo}=rule[1];currentHours>=hoursFrom&&currentMinutes>=minutesFrom&&(currentHours<hoursTo||currentHours===hoursTo&&currentMinutes<minutesTo)&&(result=dayPeriods[index])}else{const{hours:hours,minutes:minutes}=rule;hours===currentHours&&minutes===currentMinutes&&(result=dayPeriods[index])}}),result)return result}return function(locale,formStyle,width){const data=findLocaleData(locale),amPm=getLastDefinedValue([data[LocaleDataIndex.DayPeriodsFormat],data[LocaleDataIndex.DayPeriodsStandalone]],formStyle);return getLastDefinedValue(amPm,width)}(locale,form,width)[currentHours<12?0:1];case TranslationType.Eras:return function(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.Eras],width)}(locale,width)[date.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${name}`)}}(date,locale,name,width,form,extended)}}function timeZoneGetter(width){return function(date,locale,offset){const zone=-1*offset,minusSign=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign),hours=zone>0?Math.floor(zone/60):Math.ceil(zone/60);switch(width){case ZoneWidth.Short:return(zone>=0?"+":"")+padNumber(hours,2,minusSign)+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.ShortGMT:return"GMT"+(zone>=0?"+":"")+padNumber(hours,1,minusSign);case ZoneWidth.Long:return"GMT"+(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.Extended:return 0===offset?"Z":(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);default:throw new Error(`Unknown zone width "${width}"`)}}}TranslationType[TranslationType.DayPeriods]="DayPeriods",TranslationType[TranslationType.Days]="Days",TranslationType[TranslationType.Months]="Months",TranslationType[TranslationType.Eras]="Eras";function weekGetter(size,monthBased=!1){return function(date,locale){let result;if(monthBased){const nbDaysBefore1stDayOfMonth=new Date(date.getFullYear(),date.getMonth(),1).getDay()-1,today=date.getDate();result=1+Math.floor((today+nbDaysBefore1stDayOfMonth)/7)}else{const firstThurs=function(year){const firstDayOfYear=new Date(year,0,1).getDay();return new Date(year,0,1+(firstDayOfYear<=4?4:11)-firstDayOfYear)}(date.getFullYear()),diff=(datetime=date,new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))).getTime()-firstThurs.getTime();result=1+Math.round(diff/6048e5)}var datetime;return padNumber(result,size,getLocaleNumberSymbol(locale,NumberSymbol.MinusSign))}}const DATE_FORMATS={};function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");const requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function isDate(value){return value instanceof Date&&!isNaN(value.valueOf())}const NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function formatNumberToLocaleString(value,pattern,locale,groupSymbol,decimalSymbol,digitsInfo,isPercent=!1){let formattedText="",isZero=!1;if(isFinite(value)){let parsedNumber=function(num){let digits,integerLen,i,j,zeros,numStr=Math.abs(num)+"",exponent=0;(integerLen=numStr.indexOf("."))>-1&&(numStr=numStr.replace(".",""));(i=numStr.search(/e/i))>0?(integerLen<0&&(integerLen=i),integerLen+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):integerLen<0&&(integerLen=numStr.length);for(i=0;"0"===numStr.charAt(i);i++);if(i===(zeros=numStr.length))digits=[0],integerLen=1;else{for(zeros--;"0"===numStr.charAt(zeros);)zeros--;for(integerLen-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=Number(numStr.charAt(i))}integerLen>22&&(digits=digits.splice(0,21),exponent=integerLen-1,integerLen=1);return{digits:digits,exponent:exponent,integerLen:integerLen}}(value);isPercent&&(parsedNumber=function(parsedNumber){if(0===parsedNumber.digits[0])return parsedNumber;const fractionLen=parsedNumber.digits.length-parsedNumber.integerLen;parsedNumber.exponent?parsedNumber.exponent+=2:(0===fractionLen?parsedNumber.digits.push(0,0):1===fractionLen&&parsedNumber.digits.push(0),parsedNumber.integerLen+=2);return parsedNumber}(parsedNumber));let minInt=pattern.minInt,minFraction=pattern.minFrac,maxFraction=pattern.maxFrac;if(digitsInfo){const parts=digitsInfo.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new Error(`${digitsInfo} is not a valid digit info`);const minIntPart=parts[1],minFractionPart=parts[3],maxFractionPart=parts[5];null!=minIntPart&&(minInt=common_parseIntAutoRadix(minIntPart)),null!=minFractionPart&&(minFraction=common_parseIntAutoRadix(minFractionPart)),null!=maxFractionPart?maxFraction=common_parseIntAutoRadix(maxFractionPart):null!=minFractionPart&&minFraction>maxFraction&&(maxFraction=minFraction)}!function(parsedNumber,minFrac,maxFrac){if(minFrac>maxFrac)throw new Error(`The minimum number of digits after fraction (${minFrac}) is higher than the maximum (${maxFrac}).`);let digits=parsedNumber.digits,fractionLen=digits.length-parsedNumber.integerLen;const fractionSize=Math.min(Math.max(minFrac,fractionLen),maxFrac);let roundAt=fractionSize+parsedNumber.integerLen,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.integerLen,roundAt));for(let j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.integerLen=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(let i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(let k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.integerLen++;digits.unshift(1),parsedNumber.integerLen++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);let dropTrailingZeros=0!==fractionSize;const minLen=minFrac+parsedNumber.integerLen,carry=digits.reduceRight((function(carry,d,i,digits){return d+=carry,digits[i]=d<10?d:d-10,dropTrailingZeros&&(0===digits[i]&&i>=minLen?digits.pop():dropTrailingZeros=!1),d>=10?1:0}),0);carry&&(digits.unshift(carry),parsedNumber.integerLen++)}(parsedNumber,minFraction,maxFraction);let digits=parsedNumber.digits,integerLen=parsedNumber.integerLen;const exponent=parsedNumber.exponent;let decimals=[];for(isZero=digits.every(d=>!d);integerLen<minInt;integerLen++)digits.unshift(0);for(;integerLen<0;integerLen++)digits.unshift(0);integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);const groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(getLocaleNumberSymbol(locale,groupSymbol)),decimals.length&&(formattedText+=getLocaleNumberSymbol(locale,decimalSymbol)+decimals.join("")),exponent&&(formattedText+=getLocaleNumberSymbol(locale,NumberSymbol.Exponential)+"+"+exponent)}else formattedText=getLocaleNumberSymbol(locale,NumberSymbol.Infinity);return formattedText=value<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf,formattedText}function formatCurrency(value,locale,currency,currencyCode,digitsInfo){const pattern=parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Currency),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign));return pattern.minFrac=function(code){let digits;const currency=CURRENCIES_EN[code];return currency&&(digits=currency[2]),"number"==typeof digits?digits:2}(currencyCode),pattern.maxFrac=pattern.minFrac,formatNumberToLocaleString(value,pattern,locale,NumberSymbol.CurrencyGroup,NumberSymbol.CurrencyDecimal,digitsInfo).replace("¤",currency).replace("¤","").trim()}function parseNumberFormat(format,minusSign="-"){const p={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},patternParts=format.split(";"),positive=patternParts[0],negative=patternParts[1],positiveParts=-1!==positive.indexOf(".")?positive.split("."):[positive.substring(0,positive.lastIndexOf("0")+1),positive.substring(positive.lastIndexOf("0")+1)],integer=positiveParts[0],fraction=positiveParts[1]||"";p.posPre=integer.substr(0,integer.indexOf("#"));for(let i=0;i<fraction.length;i++){const ch=fraction.charAt(i);"0"===ch?p.minFrac=p.maxFrac=i+1:"#"===ch?p.maxFrac=i+1:p.posSuf+=ch}const groups=integer.split(",");if(p.gSize=groups[1]?groups[1].length:0,p.lgSize=groups[2]||groups[1]?(groups[2]||groups[1]).length:0,negative){const trunkLen=positive.length-p.posPre.length-p.posSuf.length,pos=negative.indexOf("#");p.negPre=negative.substr(0,pos).replace(/'/g,""),p.negSuf=negative.substr(pos+trunkLen).replace(/'/g,"")}else p.negPre=minusSign+p.posPre,p.negSuf=p.posSuf;return p}function common_parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}class NgLocalization{}function getPluralCategory(value,cases,ngLocalization,locale){let key=`=${value}`;if(cases.indexOf(key)>-1)return key;if(key=ngLocalization.getPluralCategory(value,locale),cases.indexOf(key)>-1)return key;if(cases.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${value}"`)}class NgLocaleLocalization extends NgLocalization{constructor(locale){super(),this.locale=locale}getPluralCategory(value,locale){switch(common_getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}}}function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(";")){const eqIndex=cookie.indexOf("="),[cookieName,cookieValue]=-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}NgLocaleLocalization.ɵfac=function(t){return new(t||NgLocaleLocalization)(ɵɵinject(LOCALE_ID$1))},NgLocaleLocalization.ɵprov=ɵɵdefineInjectable({token:NgLocaleLocalization,factory:NgLocaleLocalization.ɵfac}),NgLocaleLocalization.ctorParameters=()=>[{type:String,decorators:[{type:Inject,args:[LOCALE_ID$1]}]}];class common_NgClass{constructor(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(value){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof value?value.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof value?value.split(/\s+/):value,this._rawClass&&(isListLikeIterable$1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){const keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}}_applyKeyValueChanges(changes){changes.forEachAddedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachRemovedItem(record=>{record.previousValue&&this._toggleClass(record.key,!1)})}_applyIterableChanges(changes){changes.forEachAddedItem(record=>{if("string"!=typeof record.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${stringify(record.item)}`);this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(record=>this._toggleClass(record.item,!1))}_applyClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!0)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!!rawClassVal[klass])))}_removeClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!1)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!1)))}_toggleClass(klass,enabled){(klass=klass.trim())&&klass.split(/\s+/g).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}}common_NgClass.ɵfac=function(t){return new(t||common_NgClass)(ɵɵdirectiveInject(IterableDiffers),ɵɵdirectiveInject(KeyValueDiffers),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2))},common_NgClass.ɵdir=ɵɵdefineDirective({type:common_NgClass,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),common_NgClass.ctorParameters=()=>[{type:IterableDiffers},{type:KeyValueDiffers},{type:ElementRef},{type:Renderer2}],common_NgClass.propDecorators={klass:[{type:Input,args:["class"]}],ngClass:[{type:Input,args:["ngClass"]}]};class common_NgComponentOutlet{constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._componentRef=null,this._moduleRef=null}ngOnChanges(changes){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const elInjector=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(changes.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const parentModule=elInjector.get(NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(parentModule.injector)}else this._moduleRef=null;const componentFactory=(this._moduleRef?this._moduleRef.componentFactoryResolver:elInjector.get(ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(componentFactory,this._viewContainerRef.length,elInjector,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}common_NgComponentOutlet.ɵfac=function(t){return new(t||common_NgComponentOutlet)(ɵɵdirectiveInject(ViewContainerRef))},common_NgComponentOutlet.ɵdir=ɵɵdefineDirective({type:common_NgComponentOutlet,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[ɵɵNgOnChangesFeature]}),common_NgComponentOutlet.ctorParameters=()=>[{type:ViewContainerRef}],common_NgComponentOutlet.propDecorators={ngComponentOutlet:[{type:Input}],ngComponentOutletInjector:[{type:Input}],ngComponentOutletContent:[{type:Input}],ngComponentOutletNgModuleFactory:[{type:Input}]};class NgForOfContext{constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class common_NgForOf{constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){isDevMode()&&null!=fn&&"function"!=typeof fn&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error(`Cannot find a differ supporting object '${value}' of type '${type=value,type.name||typeof type}'. NgFor only supports binding to Iterables such as Arrays.`)}}var type;if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const insertTuples=[];changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex){const view=this._viewContainer.createEmbeddedView(this._template,new NgForOfContext(null,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=this._viewContainer.get(adjustedPreviousIndex);this._viewContainer.move(view,currentIndex);const tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(let i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(let i=0,ilen=this._viewContainer.length;i<ilen;i++){const viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{this._viewContainer.get(record.currentIndex).context.$implicit=record.item})}_perViewChange(view,record){view.context.$implicit=record.item}static ngTemplateContextGuard(dir,ctx){return!0}}common_NgForOf.ɵfac=function(t){return new(t||common_NgForOf)(ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(IterableDiffers))},common_NgForOf.ɵdir=ɵɵdefineDirective({type:common_NgForOf,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),common_NgForOf.ctorParameters=()=>[{type:ViewContainerRef},{type:TemplateRef},{type:IterableDiffers}],common_NgForOf.propDecorators={ngForOf:[{type:Input}],ngForTrackBy:[{type:Input}],ngForTemplate:[{type:Input}]};class RecordViewTuple{constructor(record,view){this.record=record,this.view=view}}class NgIf{constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate("ngIfThen",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate("ngIfElse",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(dir,ctx){return!0}}NgIf.ɵfac=function(t){return new(t||NgIf)(ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(TemplateRef))},NgIf.ɵdir=ɵɵdefineDirective({type:NgIf,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),NgIf.ctorParameters=()=>[{type:ViewContainerRef},{type:TemplateRef}],NgIf.propDecorators={ngIf:[{type:Input}],ngIfThen:[{type:Input}],ngIfElse:[{type:Input}]};class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(property,templateRef){if(!!(templateRef&&!templateRef.createEmbeddedView))throw new Error(`${property} must be a TemplateRef, but received '${stringify(templateRef)}'.`)}class SwitchView{constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}class NgSwitch{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)}_matchCase(value){const matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(let i=0;i<this._defaultViews.length;i++){this._defaultViews[i].enforceState(useDefault)}}}}NgSwitch.ɵfac=function(t){return new(t||NgSwitch)},NgSwitch.ɵdir=ɵɵdefineDirective({type:NgSwitch,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),NgSwitch.propDecorators={ngSwitch:[{type:Input}]};class NgSwitchCase{constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}NgSwitchCase.ɵfac=function(t){return new(t||NgSwitchCase)(ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(NgSwitch,1))},NgSwitchCase.ɵdir=ɵɵdefineDirective({type:NgSwitchCase,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),NgSwitchCase.ctorParameters=()=>[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}],NgSwitchCase.propDecorators={ngSwitchCase:[{type:Input}]};class NgSwitchDefault{constructor(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}}NgSwitchDefault.ɵfac=function(t){return new(t||NgSwitchDefault)(ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(NgSwitch,1))},NgSwitchDefault.ɵdir=ɵɵdefineDirective({type:NgSwitchDefault,selectors:[["","ngSwitchDefault",""]]}),NgSwitchDefault.ctorParameters=()=>[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}];class NgPlural{constructor(_localization){this._localization=_localization,this._caseViews={}}set ngPlural(value){this._switchValue=value,this._updateView()}addCase(value,switchView){this._caseViews[value]=switchView}_updateView(){this._clearViews();const cases=Object.keys(this._caseViews),key=getPluralCategory(this._switchValue,cases,this._localization);this._activateView(this._caseViews[key])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(view){view&&(this._activeView=view,this._activeView.create())}}NgPlural.ɵfac=function(t){return new(t||NgPlural)(ɵɵdirectiveInject(NgLocalization))},NgPlural.ɵdir=ɵɵdefineDirective({type:NgPlural,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),NgPlural.ctorParameters=()=>[{type:NgLocalization}],NgPlural.propDecorators={ngPlural:[{type:Input}]};class NgPluralCase{constructor(value,template,viewContainer,ngPlural){this.value=value;const isANumber=!isNaN(Number(value));ngPlural.addCase(isANumber?`=${value}`:value,new SwitchView(viewContainer,template))}}NgPluralCase.ɵfac=function(t){return new(t||NgPluralCase)(ɵɵinjectAttribute("ngPluralCase"),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(NgPlural,1))},NgPluralCase.ɵdir=ɵɵdefineDirective({type:NgPluralCase,selectors:[["","ngPluralCase",""]]}),NgPluralCase.ctorParameters=()=>[{type:String,decorators:[{type:Attribute,args:["ngPluralCase"]}]},{type:TemplateRef},{type:ViewContainerRef},{type:NgPlural,decorators:[{type:Host}]}];class NgStyle{constructor(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer,this._ngStyle=null,this._differ=null}set ngStyle(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())}ngDoCheck(){if(this._differ){const changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}}_setStyle(nameAndUnit,value){const[name,unit]=nameAndUnit.split(".");null!=(value=null!=value&&unit?`${value}${unit}`:value)?this._renderer.setStyle(this._ngEl.nativeElement,name,value):this._renderer.removeStyle(this._ngEl.nativeElement,name)}_applyChanges(changes){changes.forEachRemovedItem(record=>this._setStyle(record.key,null)),changes.forEachAddedItem(record=>this._setStyle(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._setStyle(record.key,record.currentValue))}}NgStyle.ɵfac=function(t){return new(t||NgStyle)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(KeyValueDiffers),ɵɵdirectiveInject(Renderer2))},NgStyle.ɵdir=ɵɵdefineDirective({type:NgStyle,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),NgStyle.ctorParameters=()=>[{type:ElementRef},{type:KeyValueDiffers},{type:Renderer2}],NgStyle.propDecorators={ngStyle:[{type:Input,args:["ngStyle"]}]};class NgTemplateOutlet{constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(changes){if(this._shouldRecreateView(changes)){const viewContainerRef=this._viewContainerRef;this._viewRef&&viewContainerRef.remove(viewContainerRef.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(changes){const ctxChange=changes.ngTemplateOutletContext;return!!changes.ngTemplateOutlet||ctxChange&&this._hasContextShapeChanged(ctxChange)}_hasContextShapeChanged(ctxChange){const prevCtxKeys=Object.keys(ctxChange.previousValue||{}),currCtxKeys=Object.keys(ctxChange.currentValue||{});if(prevCtxKeys.length===currCtxKeys.length){for(let propName of currCtxKeys)if(-1===prevCtxKeys.indexOf(propName))return!0;return!1}return!0}_updateExistingContext(ctx){for(let propName of Object.keys(ctx))this._viewRef.context[propName]=this.ngTemplateOutletContext[propName]}}NgTemplateOutlet.ɵfac=function(t){return new(t||NgTemplateOutlet)(ɵɵdirectiveInject(ViewContainerRef))},NgTemplateOutlet.ɵdir=ɵɵdefineDirective({type:NgTemplateOutlet,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ɵɵNgOnChangesFeature]}),NgTemplateOutlet.ctorParameters=()=>[{type:ViewContainerRef}],NgTemplateOutlet.propDecorators={ngTemplateOutletContext:[{type:Input}],ngTemplateOutlet:[{type:Input}]};function invalidPipeArgumentError(type,value){return Error(`InvalidPipeArgument: '${value}' for pipe '${stringify(type)}'`)}const _promiseStrategy=new class{createSubscription(async,updateLatestValue){return async.then(updateLatestValue,e=>{throw e})}dispose(subscription){}onDestroy(subscription){}},_observableStrategy=new class{createSubscription(async,updateLatestValue){return async.subscribe({next:updateLatestValue,error:e=>{throw e}})}dispose(subscription){subscription.unsubscribe()}onDestroy(subscription){subscription.unsubscribe()}};class common_AsyncPipe{constructor(_ref){this._ref=_ref,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(obj){return this._obj?obj!==this._obj?(this._dispose(),this.transform(obj)):looseIdentical(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,WrappedValue.wrap(this._latestValue)):(obj&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(obj){this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,value=>this._updateLatestValue(obj,value))}_selectStrategy(obj){if(core_isPromise(obj))return _promiseStrategy;if(isObservable(obj))return _observableStrategy;throw invalidPipeArgumentError(common_AsyncPipe,obj)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())}}common_AsyncPipe.ɵfac=function(t){return new(t||common_AsyncPipe)(ɵɵinjectPipeChangeDetectorRef())},common_AsyncPipe.ɵpipe=ɵɵdefinePipe({name:"async",type:common_AsyncPipe,pure:!1}),common_AsyncPipe.ctorParameters=()=>[{type:ChangeDetectorRef}];class LowerCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(LowerCasePipe,value);return value.toLowerCase()}}LowerCasePipe.ɵfac=function(t){return new(t||LowerCasePipe)},LowerCasePipe.ɵpipe=ɵɵdefinePipe({name:"lowercase",type:LowerCasePipe,pure:!0});const unicodeWordMatch=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class TitleCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(TitleCasePipe,value);return value.replace(unicodeWordMatch,txt=>txt[0].toUpperCase()+txt.substr(1).toLowerCase())}}TitleCasePipe.ɵfac=function(t){return new(t||TitleCasePipe)},TitleCasePipe.ɵpipe=ɵɵdefinePipe({name:"titlecase",type:TitleCasePipe,pure:!0});class UpperCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(UpperCasePipe,value);return value.toUpperCase()}}UpperCasePipe.ɵfac=function(t){return new(t||UpperCasePipe)},UpperCasePipe.ɵpipe=ɵɵdefinePipe({name:"uppercase",type:UpperCasePipe,pure:!0});class DatePipe{constructor(locale){this.locale=locale}transform(value,format="mediumDate",timezone,locale){if(null==value||""===value||value!=value)return null;try{return formatDate(value,format,locale||this.locale,timezone)}catch(error){throw invalidPipeArgumentError(DatePipe,error.message)}}}DatePipe.ɵfac=function(t){return new(t||DatePipe)(ɵɵdirectiveInject(LOCALE_ID$1))},DatePipe.ɵpipe=ɵɵdefinePipe({name:"date",type:DatePipe,pure:!0}),DatePipe.ctorParameters=()=>[{type:String,decorators:[{type:Inject,args:[LOCALE_ID$1]}]}];const _INTERPOLATION_REGEXP=/#/g;class I18nPluralPipe{constructor(_localization){this._localization=_localization}transform(value,pluralMap,locale){if(null==value)return"";if("object"!=typeof pluralMap||null===pluralMap)throw invalidPipeArgumentError(I18nPluralPipe,pluralMap);return pluralMap[getPluralCategory(value,Object.keys(pluralMap),this._localization,locale)].replace(_INTERPOLATION_REGEXP,value.toString())}}I18nPluralPipe.ɵfac=function(t){return new(t||I18nPluralPipe)(ɵɵdirectiveInject(NgLocalization))},I18nPluralPipe.ɵpipe=ɵɵdefinePipe({name:"i18nPlural",type:I18nPluralPipe,pure:!0}),I18nPluralPipe.ctorParameters=()=>[{type:NgLocalization}];class I18nSelectPipe{transform(value,mapping){if(null==value)return"";if("object"!=typeof mapping||"string"!=typeof value)throw invalidPipeArgumentError(I18nSelectPipe,mapping);return mapping.hasOwnProperty(value)?mapping[value]:mapping.hasOwnProperty("other")?mapping.other:""}}I18nSelectPipe.ɵfac=function(t){return new(t||I18nSelectPipe)},I18nSelectPipe.ɵpipe=ɵɵdefinePipe({name:"i18nSelect",type:I18nSelectPipe,pure:!0});class JsonPipe{transform(value){return JSON.stringify(value,null,2)}}JsonPipe.ɵfac=function(t){return new(t||JsonPipe)},JsonPipe.ɵpipe=ɵɵdefinePipe({name:"json",type:JsonPipe,pure:!1});class KeyValuePipe{constructor(differs){this.differs=differs,this.keyValues=[]}transform(input,compareFn=defaultComparator){if(!input||!(input instanceof Map)&&"object"!=typeof input)return null;this.differ||(this.differ=this.differs.find(input).create());const differChanges=this.differ.diff(input);return differChanges&&(this.keyValues=[],differChanges.forEachItem(r=>{var key,value;this.keyValues.push((key=r.key,value=r.currentValue,{key:key,value:value}))}),this.keyValues.sort(compareFn)),this.keyValues}}function defaultComparator(keyValueA,keyValueB){const a=keyValueA.key,b=keyValueB.key;if(a===b)return 0;if(void 0===a)return 1;if(void 0===b)return-1;if(null===a)return 1;if(null===b)return-1;if("string"==typeof a&&"string"==typeof b)return a<b?-1:1;if("number"==typeof a&&"number"==typeof b)return a-b;if("boolean"==typeof a&&"boolean"==typeof b)return a<b?-1:1;const aString=String(a),bString=String(b);return aString==bString?0:aString<bString?-1:1}KeyValuePipe.ɵfac=function(t){return new(t||KeyValuePipe)(ɵɵdirectiveInject(KeyValueDiffers))},KeyValuePipe.ɵpipe=ɵɵdefinePipe({name:"keyvalue",type:KeyValuePipe,pure:!1}),KeyValuePipe.ctorParameters=()=>[{type:KeyValueDiffers}];class DecimalPipe{constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(common_isEmpty(value))return null;locale=locale||this._locale;try{return function(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Decimal),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo)}(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(DecimalPipe,error.message)}}}DecimalPipe.ɵfac=function(t){return new(t||DecimalPipe)(ɵɵdirectiveInject(LOCALE_ID$1))},DecimalPipe.ɵpipe=ɵɵdefinePipe({name:"number",type:DecimalPipe,pure:!0}),DecimalPipe.ctorParameters=()=>[{type:String,decorators:[{type:Inject,args:[LOCALE_ID$1]}]}];class PercentPipe{constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(common_isEmpty(value))return null;locale=locale||this._locale;try{return function(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Percent),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo,!0).replace(new RegExp("%","g"),getLocaleNumberSymbol(locale,NumberSymbol.PercentSign))}(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(PercentPipe,error.message)}}}PercentPipe.ɵfac=function(t){return new(t||PercentPipe)(ɵɵdirectiveInject(LOCALE_ID$1))},PercentPipe.ɵpipe=ɵɵdefinePipe({name:"percent",type:PercentPipe,pure:!0}),PercentPipe.ctorParameters=()=>[{type:String,decorators:[{type:Inject,args:[LOCALE_ID$1]}]}];class CurrencyPipe{constructor(_locale,_defaultCurrencyCode="USD"){this._locale=_locale,this._defaultCurrencyCode=_defaultCurrencyCode}transform(value,currencyCode,display="symbol",digitsInfo,locale){if(common_isEmpty(value))return null;locale=locale||this._locale,"boolean"==typeof display&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),display=display?"symbol":"code");let currency=currencyCode||this._defaultCurrencyCode;"code"!==display&&(currency="symbol"===display||"symbol-narrow"===display?getCurrencySymbol(currency,"symbol"===display?"wide":"narrow",locale):display);try{return formatCurrency(strToNumber(value),locale,currency,currencyCode,digitsInfo)}catch(error){throw invalidPipeArgumentError(CurrencyPipe,error.message)}}}function common_isEmpty(value){return null==value||""===value||value!=value}function strToNumber(value){if("string"==typeof value&&!isNaN(Number(value)-parseFloat(value)))return Number(value);if("number"!=typeof value)throw new Error(`${value} is not a number`);return value}CurrencyPipe.ɵfac=function(t){return new(t||CurrencyPipe)(ɵɵdirectiveInject(LOCALE_ID$1),ɵɵdirectiveInject(DEFAULT_CURRENCY_CODE))},CurrencyPipe.ɵpipe=ɵɵdefinePipe({name:"currency",type:CurrencyPipe,pure:!0}),CurrencyPipe.ctorParameters=()=>[{type:String,decorators:[{type:Inject,args:[LOCALE_ID$1]}]},{type:String,decorators:[{type:Inject,args:[DEFAULT_CURRENCY_CODE]}]}];class SlicePipe{transform(value,start,end){if(null==value)return value;if(!this.supports(value))throw invalidPipeArgumentError(SlicePipe,value);return value.slice(start,end)}supports(obj){return"string"==typeof obj||Array.isArray(obj)}}SlicePipe.ɵfac=function(t){return new(t||SlicePipe)},SlicePipe.ɵpipe=ɵɵdefinePipe({name:"slice",type:SlicePipe,pure:!1});class CommonModule{}CommonModule.ɵmod=ɵɵdefineNgModule({type:CommonModule}),CommonModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||CommonModule)},providers:[{provide:NgLocalization,useClass:NgLocaleLocalization}]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(CommonModule,{declarations:[common_NgClass,common_NgComponentOutlet,common_NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase,common_AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe],exports:[common_NgClass,common_NgComponentOutlet,common_NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase,common_AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe]});function isPlatformBrowser(platformId){return"browser"===platformId}new Version("9.0.7");class ViewportScroller{}ViewportScroller.ɵprov=ɵɵdefineInjectable({token:ViewportScroller,providedIn:"root",factory:()=>new BrowserViewportScroller(ɵɵinject(common_DOCUMENT),window,ɵɵinject(ErrorHandler))});class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){Array.isArray(offset)?this.offset=()=>offset:this.offset=offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const elSelectedById=this.document.querySelector(`#${anchor}`);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}(()=>{if(_global.Node)_global.Node.prototype.contains})();class platform_browser_BrowserDomAdapter extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}getProperty(el,name){return el[name]}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}getValue(el){return el.value}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}isShadowRoot(node){return node instanceof DocumentFragment}getGlobalEventTarget(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=function(){if(!baseElement&&(baseElement=document.querySelector("base"),!baseElement))return null;return baseElement.getAttribute("href")}();return null==href?null:function(url){urlParsingNode||(urlParsingNode=document.createElement("a"));return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}(href)}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return parseCookieValue(document.cookie,name)}}let urlParsingNode,baseElement=null;const TRANSITION_ID=new InjectionToken("TRANSITION_ID");const SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(document.querySelectorAll("style[ng-transition]")).filter(el=>el.getAttribute("ng-transition")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,common_DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements();_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach((function(testability){testability.whenStable(decrement)}))})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,elem.host,!0):this.findTestabilityInTree(registry,elem.parentElement,!0):null}}function exportNgVar(name,value){if("undefined"==typeof COMPILED||!COMPILED){(_global.ng=_global.ng||{})[name]=value}}const CORE_TOKENS={ApplicationRef:core_ApplicationRef,NgZone:NgZone};function inspectNativeElementR2(element){return getDebugNodeR2(element)}new Optional;const ELEMENT_PROBE_PROVIDERS=[],EVENT_MANAGER_PLUGINS=new InjectionToken("EventManagerPlugins");class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}EventManager.ɵfac=function(t){return new(t||EventManager)(ɵɵinject(EVENT_MANAGER_PLUGINS),ɵɵinject(NgZone))},EventManager.ɵprov=ɵɵdefineInjectable({token:EventManager,factory:EventManager.ɵfac}),EventManager.ctorParameters=()=>[{type:Array,decorators:[{type:Inject,args:[EVENT_MANAGER_PLUGINS]}]},{type:NgZone}];class platform_browser_EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}SharedStylesHost.ɵfac=function(t){return new(t||SharedStylesHost)},SharedStylesHost.ɵprov=ɵɵdefineInjectable({token:SharedStylesHost,factory:SharedStylesHost.ɵfac});class platform_browser_DomSharedStylesHost extends SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement("style");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}platform_browser_DomSharedStylesHost.ɵfac=function(t){return new(t||platform_browser_DomSharedStylesHost)(ɵɵinject(common_DOCUMENT))},platform_browser_DomSharedStylesHost.ɵprov=ɵɵdefineInjectable({token:platform_browser_DomSharedStylesHost,factory:platform_browser_DomSharedStylesHost.ɵfac}),platform_browser_DomSharedStylesHost.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];const NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g,platform_browser_HOST_ATTR="_nghost-%COMP%",platform_browser_CONTENT_ATTR="_ngcontent-%COMP%";function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{if("__ngUnwrap__"===event)return eventHandler;!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}class platform_browser_DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation$1.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case ViewEncapsulation$1.Native:case ViewEncapsulation$1.ShadowDom:return new platform_browser_ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}platform_browser_DomRendererFactory2.ɵfac=function(t){return new(t||platform_browser_DomRendererFactory2)(ɵɵinject(EventManager),ɵɵinject(platform_browser_DomSharedStylesHost),ɵɵinject(APP_ID))},platform_browser_DomRendererFactory2.ɵprov=ɵɵdefineInjectable({token:platform_browser_DomRendererFactory2,factory:platform_browser_DomRendererFactory2.ɵfac}),platform_browser_DomRendererFactory2.ctorParameters=()=>[{type:EventManager},{type:platform_browser_DomSharedStylesHost},{type:String,decorators:[{type:Inject,args:[APP_ID]}]}];class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector "${selectorOrNode}" did not match any elements`);return preserveContent||(el.textContent=""),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+":"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?"important":""):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""}setProperty(el,name,value){el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}"@".charCodeAt(0);class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+"-"+component.id,component.styles,[]);var componentShortId;sharedStylesHost.addStyles(styles),this.contentAttr=(componentShortId=appId+"-"+component.id,platform_browser_CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)),this.hostAttr=function(componentShortId){return platform_browser_HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}(appId+"-"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,""),el}}class platform_browser_ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,component.encapsulation===ViewEncapsulation$1.ShadowDom?this.shadowRoot=hostEl.attachShadow({mode:"open"}):this.shadowRoot=hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement("style");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}class DomEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return!0}addEventListener(element,eventName,handler){return element.addEventListener(eventName,handler,!1),()=>this.removeEventListener(element,eventName,handler)}removeEventListener(target,eventName,callback){return target.removeEventListener(eventName,callback)}}DomEventsPlugin.ɵfac=function(t){return new(t||DomEventsPlugin)(ɵɵinject(common_DOCUMENT))},DomEventsPlugin.ɵprov=ɵɵdefineInjectable({token:DomEventsPlugin,factory:DomEventsPlugin.ɵfac}),DomEventsPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new InjectionToken("HammerLoader");class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}HammerGestureConfig.ɵfac=function(t){return new(t||HammerGestureConfig)},HammerGestureConfig.ɵprov=ɵɵdefineInjectable({token:HammerGestureConfig,factory:HammerGestureConfig.ɵfac});class HammerGesturesPlugin extends platform_browser_EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${eventName}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The "${eventName}" event cannot be bound because the custom `+"Hammer.JS loader failed."),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded((function(){handler(eventObj)}))};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}HammerGesturesPlugin.ɵfac=function(t){return new(t||HammerGesturesPlugin)(ɵɵinject(common_DOCUMENT),ɵɵinject(HAMMER_GESTURE_CONFIG),ɵɵinject(Console),ɵɵinject(HAMMER_LOADER,8))},HammerGesturesPlugin.ɵprov=ɵɵdefineInjectable({token:HammerGesturesPlugin,factory:HammerGesturesPlugin.ɵfac}),HammerGesturesPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:HammerGestureConfig,decorators:[{type:Inject,args:[HAMMER_GESTURE_CONFIG]}]},{type:Console},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[HAMMER_LOADER]}]}];const HAMMER_PROVIDERS__PRE_R3__=[{provide:EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:!0,deps:[common_DOCUMENT,HAMMER_GESTURE_CONFIG,Console,[new Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig,deps:[]}],HAMMER_PROVIDERS=[];class HammerModule{}HammerModule.ɵmod=ɵɵdefineNgModule({type:HammerModule}),HammerModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||HammerModule)},providers:HAMMER_PROVIDERS__PRE_R3__});const MODIFIER_KEYS=["alt","control","meta","shift"],_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class platform_browser_KeyEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=platform_browser_KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=platform_browser_KeyEventsPlugin.parseEventName(eventName),outsideHandler=platform_browser_KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;const key=platform_browser_KeyEventsPlugin._normalizeKey(parts.pop());let fullKey="";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey="",key=function(event){let key=event.key;if(null==key){if(key=event.keyIdentifier,null==key)return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}(event);return key=key.toLowerCase()," "===key?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(modifierName=>{if(modifierName!=key){(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}}),fullKey+=key,fullKey}static eventCallback(fullKey,handler,zone){return event=>{platform_browser_KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case"esc":return"escape";default:return keyName}}}platform_browser_KeyEventsPlugin.ɵfac=function(t){return new(t||platform_browser_KeyEventsPlugin)(ɵɵinject(common_DOCUMENT))},platform_browser_KeyEventsPlugin.ɵprov=ɵɵdefineInjectable({token:platform_browser_KeyEventsPlugin,factory:platform_browser_KeyEventsPlugin.ɵfac}),platform_browser_KeyEventsPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];class DomSanitizer{}function domSanitizerImplFactory(injector){return new platform_browser_DomSanitizerImpl(injector.get(common_DOCUMENT))}DomSanitizer.ɵfac=function(t){return new(t||DomSanitizer)},DomSanitizer.ɵprov=ɵɵdefineInjectable({factory:function(){return ɵɵinject(platform_browser_DomSanitizerImpl)},token:DomSanitizer,providedIn:"root"});class platform_browser_DomSanitizerImpl extends DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:return allowSanitizationBypassAndThrow(value,"HTML")?unwrapSafeValue(value):_sanitizeHtml(this._doc,String(value));case SecurityContext.STYLE:return allowSanitizationBypassAndThrow(value,"Style")?unwrapSafeValue(value):_sanitizeStyle(value);case SecurityContext.SCRIPT:if(allowSanitizationBypassAndThrow(value,"Script"))return unwrapSafeValue(value);throw new Error("unsafe value used in a script context");case SecurityContext.URL:getSanitizationBypassType(value);return allowSanitizationBypassAndThrow(value,"URL")?unwrapSafeValue(value):_sanitizeUrl(String(value));case SecurityContext.RESOURCE_URL:if(allowSanitizationBypassAndThrow(value,"ResourceURL"))return unwrapSafeValue(value);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(value){return new SafeHtmlImpl(value)}bypassSecurityTrustStyle(value){return new SafeStyleImpl(value)}bypassSecurityTrustScript(value){return new SafeScriptImpl(value)}bypassSecurityTrustUrl(value){return new SafeUrlImpl(value)}bypassSecurityTrustResourceUrl(value){return new SafeResourceUrlImpl(value)}}platform_browser_DomSanitizerImpl.ɵfac=function(t){return new(t||platform_browser_DomSanitizerImpl)(ɵɵinject(common_DOCUMENT))},platform_browser_DomSanitizerImpl.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],platform_browser_DomSanitizerImpl.ɵprov=ɵɵdefineInjectable({factory:function(){return domSanitizerImplFactory(ɵɵinject(INJECTOR))},token:platform_browser_DomSanitizerImpl,providedIn:"root"});const INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:PLATFORM_ID,useValue:"browser"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:common_DOCUMENT,useFactory:function(){return function(document){DOCUMENT=document}(document),document},deps:[]}],BROWSER_SANITIZATION_PROVIDERS=[],BROWSER_MODULE_PROVIDERS=(createPlatformFactory(platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS),[BROWSER_SANITIZATION_PROVIDERS,{provide:INJECTOR_SCOPE,useValue:"root"},{provide:ErrorHandler,useFactory:function(){return new ErrorHandler},deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:!0,deps:[common_DOCUMENT,NgZone,PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:platform_browser_KeyEventsPlugin,multi:!0,deps:[common_DOCUMENT]},HAMMER_PROVIDERS,{provide:platform_browser_DomRendererFactory2,useClass:platform_browser_DomRendererFactory2,deps:[EventManager,platform_browser_DomSharedStylesHost,APP_ID]},{provide:RendererFactory2,useExisting:platform_browser_DomRendererFactory2},{provide:SharedStylesHost,useExisting:platform_browser_DomSharedStylesHost},{provide:platform_browser_DomSharedStylesHost,useClass:platform_browser_DomSharedStylesHost,deps:[common_DOCUMENT]},{provide:Testability,useClass:Testability,deps:[NgZone]},{provide:EventManager,useClass:EventManager,deps:[EVENT_MANAGER_PLUGINS,NgZone]},ELEMENT_PROBE_PROVIDERS]);class platform_browser_BrowserModule{constructor(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(params){return{ngModule:platform_browser_BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}function createMeta(){return new platform_browser_Meta(ɵɵinject(common_DOCUMENT))}platform_browser_BrowserModule.ɵmod=ɵɵdefineNgModule({type:platform_browser_BrowserModule}),platform_browser_BrowserModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||platform_browser_BrowserModule)(ɵɵinject(platform_browser_BrowserModule,12))},providers:BROWSER_MODULE_PROVIDERS,imports:[CommonModule,ApplicationModule]}),platform_browser_BrowserModule.ctorParameters=()=>[{type:void 0,decorators:[{type:Optional},{type:SkipSelf},{type:Inject,args:[platform_browser_BrowserModule]}]}],("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(platform_browser_BrowserModule,{exports:function(){return[CommonModule,ApplicationModule]}});class platform_browser_Meta{constructor(_doc){this._doc=_doc,this._dom=getDOM()}addTag(tag,forceCreation=!1){return tag?this._getOrCreateElement(tag,forceCreation):null}addTags(tags,forceCreation=!1){return tags?tags.reduce((result,tag)=>(tag&&result.push(this._getOrCreateElement(tag,forceCreation)),result),[]):[]}getTag(attrSelector){return attrSelector&&this._doc.querySelector(`meta[${attrSelector}]`)||null}getTags(attrSelector){if(!attrSelector)return[];const list=this._doc.querySelectorAll(`meta[${attrSelector}]`);return list?[].slice.call(list):[]}updateTag(tag,selector){if(!tag)return null;selector=selector||this._parseSelector(tag);const meta=this.getTag(selector);return meta?this._setMetaElementAttributes(tag,meta):this._getOrCreateElement(tag,!0)}removeTag(attrSelector){this.removeTagElement(this.getTag(attrSelector))}removeTagElement(meta){meta&&this._dom.remove(meta)}_getOrCreateElement(meta,forceCreation=!1){if(!forceCreation){const selector=this._parseSelector(meta),elem=this.getTag(selector);if(elem&&this._containsAttributes(meta,elem))return elem}const element=this._dom.createElement("meta");return this._setMetaElementAttributes(meta,element),this._doc.getElementsByTagName("head")[0].appendChild(element),element}_setMetaElementAttributes(tag,el){return Object.keys(tag).forEach(prop=>el.setAttribute(prop,tag[prop])),el}_parseSelector(tag){const attr=tag.name?"name":"property";return`${attr}="${tag[attr]}"`}_containsAttributes(tag,elem){return Object.keys(tag).every(key=>elem.getAttribute(key)===tag[key])}}function createTitle(){return new Title(ɵɵinject(common_DOCUMENT))}platform_browser_Meta.ɵfac=function(t){return new(t||platform_browser_Meta)(ɵɵinject(common_DOCUMENT))},platform_browser_Meta.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],platform_browser_Meta.ɵprov=ɵɵdefineInjectable({factory:createMeta,token:platform_browser_Meta,providedIn:"root"});class Title{constructor(_doc){this._doc=_doc}getTitle(){return this._doc.title}setTitle(newTitle){this._doc.title=newTitle||""}}Title.ɵfac=function(t){return new(t||Title)(ɵɵinject(common_DOCUMENT))},Title.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],Title.ɵprov=ɵɵdefineInjectable({factory:createTitle,token:Title,providedIn:"root"});"undefined"!=typeof window&&window;class TransferState{constructor(){this.store={},this.onSerializeCallbacks={}}static init(initState){const transferState=new TransferState;return transferState.store=initState,transferState}get(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue}set(key,value){this.store[key]=value}remove(key){delete this.store[key]}hasKey(key){return this.store.hasOwnProperty(key)}onSerialize(key,callback){this.onSerializeCallbacks[key]=callback}toJson(){for(const key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}function initTransferState(doc,appId){const script=doc.getElementById(appId+"-state");let initialState={};if(script&&script.textContent)try{initialState=JSON.parse(function(text){const unescapedText={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return text.replace(/&[^;]+;/g,s=>unescapedText[s])}(script.textContent))}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return TransferState.init(initialState)}TransferState.ɵfac=function(t){return new(t||TransferState)},TransferState.ɵprov=ɵɵdefineInjectable({token:TransferState,factory:TransferState.ɵfac});class BrowserTransferStateModule{}BrowserTransferStateModule.ɵmod=ɵɵdefineNgModule({type:BrowserTransferStateModule}),BrowserTransferStateModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||BrowserTransferStateModule)},providers:[{provide:TransferState,useFactory:initTransferState,deps:[common_DOCUMENT,APP_ID]}]});new Version("9.0.7");const builtinExternalReferences=function(){const map=new Map;return map.set(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS,ANALYZE_FOR_ENTRY_COMPONENTS),map.set(Identifiers.ElementRef,ElementRef),map.set(Identifiers.NgModuleRef,NgModuleRef),map.set(Identifiers.ViewContainerRef,ViewContainerRef),map.set(Identifiers.ChangeDetectorRef,ChangeDetectorRef),map.set(Identifiers.Renderer2,Renderer2),map.set(Identifiers.QueryList,QueryList),map.set(Identifiers.TemplateRef,TemplateRef),map.set(Identifiers.CodegenComponentFactoryResolver,CodegenComponentFactoryResolver),map.set(Identifiers.ComponentFactoryResolver,ComponentFactoryResolver),map.set(Identifiers.ComponentFactory,ComponentFactory),map.set(Identifiers.ComponentRef,ComponentRef),map.set(Identifiers.NgModuleFactory,NgModuleFactory),map.set(Identifiers.createModuleFactory,createNgModuleFactory),map.set(Identifiers.moduleDef,moduleDef),map.set(Identifiers.moduleProviderDef,moduleProvideDef),map.set(Identifiers.RegisterModuleFactoryFn,registerModuleFactory),map.set(Identifiers.Injector,Injector),map.set(Identifiers.ViewEncapsulation,ViewEncapsulation$1),map.set(Identifiers.ChangeDetectionStrategy,ChangeDetectionStrategy),map.set(Identifiers.SecurityContext,SecurityContext),map.set(Identifiers.LOCALE_ID,LOCALE_ID$1),map.set(Identifiers.TRANSLATIONS_FORMAT,TRANSLATIONS_FORMAT),map.set(Identifiers.inlineInterpolate,inlineInterpolate),map.set(Identifiers.interpolate,core_interpolate),map.set(Identifiers.EMPTY_ARRAY,EMPTY_ARRAY$4),map.set(Identifiers.EMPTY_MAP,EMPTY_MAP),map.set(Identifiers.viewDef,viewDef),map.set(Identifiers.elementDef,elementDef),map.set(Identifiers.anchorDef,anchorDef),map.set(Identifiers.textDef,textDef),map.set(Identifiers.directiveDef,directiveDef),map.set(Identifiers.providerDef,providerDef),map.set(Identifiers.queryDef,queryDef),map.set(Identifiers.pureArrayDef,pureArrayDef),map.set(Identifiers.pureObjectDef,pureObjectDef),map.set(Identifiers.purePipeDef,purePipeDef),map.set(Identifiers.pipeDef,pipeDef),map.set(Identifiers.nodeValue,nodeValue),map.set(Identifiers.ngContentDef,ngContentDef),map.set(Identifiers.unwrapValue,unwrapValue),map.set(Identifiers.createRendererType2,createRendererType2),map.set(Identifiers.createComponentFactory,createComponentFactory),map}();const ERROR_COLLECTOR_TOKEN=new InjectionToken("ErrorCollector"),DEFAULT_PACKAGE_URL_PROVIDER={provide:PACKAGE_ROOT_URL,useValue:"/"},_NO_RESOURCE_LOADER={get(url){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${url}"`)}},baseHtmlParser=new InjectionToken("HtmlParser");const platform_browser_dynamic_0=new class{constructor(){this.reflectionCapabilities=new ReflectionCapabilities}componentModuleUrl(type,cmpMetadata){const moduleId=cmpMetadata.moduleId;if("string"==typeof moduleId){return function(url){const match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}(moduleId)?moduleId:`package:${moduleId}`}if(null!=moduleId)throw syntaxError(`moduleId should be a string in "${stringify(type)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${stringify(type)}`}parameters(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)}tryAnnotations(typeOrFunc){return this.annotations(typeOrFunc)}annotations(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)}shallowAnnotations(typeOrFunc){throw new Error("Not supported in JIT mode")}propMetadata(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)}hasLifecycleHook(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)}guards(type){return this.reflectionCapabilities.guards(type)}resolveExternalReference(ref){return builtinExternalReferences.get(ref)||ref.runtime}},platform_browser_dynamic_1=_NO_RESOURCE_LOADER,platform_browser_dynamic_3=new CompilerConfig,COMPILER_PROVIDERS=(new Optional,new Inject(TRANSLATIONS),new Optional,new Inject(TRANSLATIONS_FORMAT),[{provide:Compiler,useFactory:()=>new Compiler}]);function _lastDefined(args){for(let i=args.length-1;i>=0;i--)if(void 0!==args[i])return args[i]}function platform_browser_dynamic_mergeArrays(parts){const result=[];return parts.forEach(part=>part&&result.push(...part)),result}const platformCoreDynamic=createPlatformFactory(platformCore,"coreDynamic",[{provide:COMPILER_OPTIONS,useValue:{},multi:!0},{provide:CompilerFactory,useClass:class{constructor(defaultOptions){const compilerOptions={useJit:!0,defaultEncapsulation:ViewEncapsulation$1.Emulated,missingTranslation:MissingTranslationStrategy.Warning};this._defaultOptions=[compilerOptions,...defaultOptions]}createCompiler(options=[]){const opts={useJit:_lastDefined((optionsArr=this._defaultOptions.concat(options)).map(options=>options.useJit)),defaultEncapsulation:_lastDefined(optionsArr.map(options=>options.defaultEncapsulation)),providers:platform_browser_dynamic_mergeArrays(optionsArr.map(options=>options.providers)),missingTranslation:_lastDefined(optionsArr.map(options=>options.missingTranslation)),preserveWhitespaces:_lastDefined(optionsArr.map(options=>options.preserveWhitespaces))};var optionsArr;return Injector.create([COMPILER_PROVIDERS,{provide:CompilerConfig,useFactory:()=>new CompilerConfig({useJit:opts.useJit,jitDevMode:isDevMode(),defaultEncapsulation:opts.defaultEncapsulation,missingTranslation:opts.missingTranslation,preserveWhitespaces:opts.preserveWhitespaces}),deps:[]},opts.providers]).get(Compiler)}},deps:[COMPILER_OPTIONS]}]);class platform_browser_dynamic_ResourceLoaderImpl extends ResourceLoader{get(url){let resolve,reject;const promise=new Promise((res,rej)=>{resolve=res,reject=rej}),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){const response=xhr.response||xhr.responseText;let status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?resolve(response):reject(`Failed to load ${url}`)},xhr.onerror=function(){reject(`Failed to load ${url}`)},xhr.send(),promise}}platform_browser_dynamic_ResourceLoaderImpl.ɵfac=function(t){return ɵResourceLoaderImpl_BaseFactory(t||platform_browser_dynamic_ResourceLoaderImpl)},platform_browser_dynamic_ResourceLoaderImpl.ɵprov=ɵɵdefineInjectable({token:platform_browser_dynamic_ResourceLoaderImpl,factory:platform_browser_dynamic_ResourceLoaderImpl.ɵfac});const ɵResourceLoaderImpl_BaseFactory=ɵɵgetInheritedFactory(platform_browser_dynamic_ResourceLoaderImpl),INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[INTERNAL_BROWSER_PLATFORM_PROVIDERS,{provide:COMPILER_OPTIONS,useValue:{providers:[{provide:ResourceLoader,useClass:platform_browser_dynamic_ResourceLoaderImpl,deps:[]}]},multi:!0},{provide:PLATFORM_ID,useValue:"browser"}];new Version("9.0.7");const platformBrowserDynamic=createPlatformFactory(platformCoreDynamic,"browserDynamic",INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS);var tslib_es6=__webpack_require__("mrSG");class AnimationBuilder{}function trigger(name,definitions){return{type:7,name:name,definitions:definitions,options:{}}}function animate(timings,styles=null){return{type:4,styles:styles,timings:timings}}function sequence(steps,options=null){return{type:2,steps:steps,options:options}}function animations_style(tokens){return{type:6,styles:tokens,offset:null}}function animations_state(name,styles,options){return{type:0,name:name,styles:styles,options:options}}function animations_transition(stateChangeExpr,steps,options=null){return{type:1,expr:stateChangeExpr,animation:steps,options:options}}function animations_scheduleMicroTask(cb){Promise.resolve(null).then(cb)}class NoopAnimationPlayer{constructor(duration=0,delay=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=duration+delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){animations_scheduleMicroTask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){}setPosition(position){}getPosition(){return 0}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class AnimationGroupPlayer{constructor(_players){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_players;let doneCount=0,destroyCount=0,startCount=0;const total=this.players.length;0==total?animations_scheduleMicroTask(()=>this._onFinish()):this.players.forEach(player=>{player.onDone(()=>{++doneCount==total&&this._onFinish()}),player.onDestroy(()=>{++destroyCount==total&&this._onDestroy()}),player.onStart(()=>{++startCount==total&&this._onStart()})}),this.totalTime=this.players.reduce((time,player)=>Math.max(time,player.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this.players.forEach(player=>player.init())}onStart(fn){this._onStartFns.push(fn)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fn=>fn()),this._onStartFns=[])}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(player=>player.play())}pause(){this.players.forEach(player=>player.pause())}restart(){this.players.forEach(player=>player.restart())}finish(){this._onFinish(),this.players.forEach(player=>player.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(player=>player.destroy()),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){this.players.forEach(player=>player.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const timeAtPosition=p*this.totalTime;this.players.forEach(player=>{const position=player.totalTime?Math.min(1,timeAtPosition/player.totalTime):1;player.setPosition(position)})}getPosition(){let min=0;return this.players.forEach(player=>{const p=player.getPosition();min=Math.min(p,min)}),min}beforeDestroy(){this.players.forEach(player=>{player.beforeDestroy&&player.beforeDestroy()})}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}function isNode(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function optimizeGroupPlayer(players){switch(players.length){case 0:return new NoopAnimationPlayer;case 1:return players[0];default:return new AnimationGroupPlayer(players)}}function normalizeKeyframes(driver,normalizer,element,keyframes,preStyles={},postStyles={}){const errors=[],normalizedKeyframes=[];let previousOffset=-1,previousKeyframe=null;if(keyframes.forEach(kf=>{const offset=kf.offset,isSameOffset=offset==previousOffset,normalizedKeyframe=isSameOffset&&previousKeyframe||{};Object.keys(kf).forEach(prop=>{let normalizedProp=prop,normalizedValue=kf[prop];if("offset"!==prop)switch(normalizedProp=normalizer.normalizePropertyName(normalizedProp,errors),normalizedValue){case"!":normalizedValue=preStyles[prop];break;case"*":normalizedValue=postStyles[prop];break;default:normalizedValue=normalizer.normalizeStyleValue(prop,normalizedProp,normalizedValue,errors)}normalizedKeyframe[normalizedProp]=normalizedValue}),isSameOffset||normalizedKeyframes.push(normalizedKeyframe),previousKeyframe=normalizedKeyframe,previousOffset=offset}),errors.length){const LINE_START="\n - ";throw new Error(`Unable to animate due to the following errors:${LINE_START}${errors.join(LINE_START)}`)}return normalizedKeyframes}function listenOnPlayer(player,eventName,event,callback){switch(eventName){case"start":player.onStart(()=>callback(event&&copyAnimationEvent(event,"start",player)));break;case"done":player.onDone(()=>callback(event&&copyAnimationEvent(event,"done",player)));break;case"destroy":player.onDestroy(()=>callback(event&&copyAnimationEvent(event,"destroy",player)))}}function copyAnimationEvent(e,phaseName,player){const totalTime=player.totalTime,disabled=!!player.disabled,event=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,phaseName||e.phaseName,null==totalTime?e.totalTime:totalTime,disabled),data=e._data;return null!=data&&(event._data=data),event}function makeAnimationEvent(element,triggerName,fromState,toState,phaseName="",totalTime=0,disabled){return{element:element,triggerName:triggerName,fromState:fromState,toState:toState,phaseName:phaseName,totalTime:totalTime,disabled:!!disabled}}function getOrSetAsInMap(map,key,defaultValue){let value;return map instanceof Map?(value=map.get(key),value||map.set(key,value=defaultValue)):(value=map[key],value||(value=map[key]=defaultValue)),value}function parseTimelineCommand(command){const separatorPos=command.indexOf(":");return[command.substring(1,separatorPos),command.substr(separatorPos+1)]}let _contains=(elm1,elm2)=>!1;let _matches=(element,selector)=>!1;let _query=(element,selector,multi)=>[];const _isNode=isNode();(_isNode||"undefined"!=typeof Element)&&(_contains=(elm1,elm2)=>elm1.contains(elm2),_matches=(()=>{if(_isNode||Element.prototype.matches)return(element,selector)=>element.matches(selector);{const proto=Element.prototype,fn=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;return fn?(element,selector)=>fn.apply(element,[selector]):_matches}})(),_query=(element,selector,multi)=>{let results=[];if(multi)results.push(...element.querySelectorAll(selector));else{const elm=element.querySelector(selector);elm&&results.push(elm)}return results});let _CACHED_BODY=null,_IS_WEBKIT=!1;function validateStyleProperty(prop){_CACHED_BODY||(_CACHED_BODY=function(){if("undefined"!=typeof document)return document.body;return null}()||{},_IS_WEBKIT=!!_CACHED_BODY.style&&"WebkitAppearance"in _CACHED_BODY.style);let result=!0;if(_CACHED_BODY.style&&!function(prop){return"ebkit"==prop.substring(1,6)}(prop)&&(result=prop in _CACHED_BODY.style,!result&&_IS_WEBKIT)){result="Webkit"+prop.charAt(0).toUpperCase()+prop.substr(1)in _CACHED_BODY.style}return result}const matchesElement=_matches,containsElement=_contains,invokeQuery=_query;function hypenatePropsObject(object){const newObj={};return Object.keys(object).forEach(prop=>{const newProp=prop.replace(/([a-z])([A-Z])/g,"$1-$2");newObj[newProp]=object[prop]}),newObj}class browser_NoopAnimationDriver{validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return defaultValue||""}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){return new NoopAnimationPlayer(duration,delay)}}browser_NoopAnimationDriver.ɵfac=function(t){return new(t||browser_NoopAnimationDriver)},browser_NoopAnimationDriver.ɵprov=ɵɵdefineInjectable({token:browser_NoopAnimationDriver,factory:browser_NoopAnimationDriver.ɵfac});class AnimationDriver{}AnimationDriver.NOOP=new browser_NoopAnimationDriver;function resolveTimingValue(value){if("number"==typeof value)return value;const matches=value.match(/^(-?[\.\d]+)(m?s)/);return!matches||matches.length<2?0:_convertTimeValueToMS(parseFloat(matches[1]),matches[2])}function _convertTimeValueToMS(value,unit){switch(unit){case"s":return 1e3*value;default:return value}}function resolveTiming(timings,errors,allowNegativeValues){return timings.hasOwnProperty("duration")?timings:function(exp,errors,allowNegativeValues){const regex=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let duration,delay=0,easing="";if("string"==typeof exp){const matches=exp.match(regex);if(null===matches)return errors.push(`The provided timing value "${exp}" is invalid.`),{duration:0,delay:0,easing:""};duration=_convertTimeValueToMS(parseFloat(matches[1]),matches[2]);const delayMatch=matches[3];null!=delayMatch&&(delay=_convertTimeValueToMS(parseFloat(delayMatch),matches[4]));const easingVal=matches[5];easingVal&&(easing=easingVal)}else duration=exp;if(!allowNegativeValues){let containsErrors=!1,startIndex=errors.length;duration<0&&(errors.push("Duration values below 0 are not allowed for this animation step."),containsErrors=!0),delay<0&&(errors.push("Delay values below 0 are not allowed for this animation step."),containsErrors=!0),containsErrors&&errors.splice(startIndex,0,`The provided timing value "${exp}" is invalid.`)}return{duration:duration,delay:delay,easing:easing}}(timings,errors,allowNegativeValues)}function copyObj(obj,destination={}){return Object.keys(obj).forEach(prop=>{destination[prop]=obj[prop]}),destination}function copyStyles(styles,readPrototype,destination={}){if(readPrototype)for(let prop in styles)destination[prop]=styles[prop];else copyObj(styles,destination);return destination}function getStyleAttributeString(element,key,value){return value?key+":"+value+";":""}function writeStyleAttribute(element){let styleAttrValue="";for(let i=0;i<element.style.length;i++){const key=element.style.item(i);styleAttrValue+=getStyleAttributeString(0,key,element.style.getPropertyValue(key))}for(const key in element.style){if(!element.style.hasOwnProperty(key)||key.startsWith("_"))continue;styleAttrValue+=getStyleAttributeString(0,key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),element.style[key])}element.setAttribute("style",styleAttrValue)}function setStyles(element,styles,formerStyles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);formerStyles&&!formerStyles.hasOwnProperty(prop)&&(formerStyles[prop]=element.style[camelProp]),element.style[camelProp]=styles[prop]}),isNode()&&writeStyleAttribute(element))}function eraseStyles(element,styles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);element.style[camelProp]=""}),isNode()&&writeStyleAttribute(element))}function normalizeAnimationEntry(steps){return Array.isArray(steps)?1==steps.length?steps[0]:sequence(steps):steps}const PARAM_REGEX=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(value){let params=[];if("string"==typeof value){let match;for(;match=PARAM_REGEX.exec(value);)params.push(match[1]);PARAM_REGEX.lastIndex=0}return params}function browser_interpolateParams(value,params,errors){const original=value.toString(),str=original.replace(PARAM_REGEX,(_,varName)=>{let localVal=params[varName];return params.hasOwnProperty(varName)||(errors.push(`Please provide a value for the animation param ${varName}`),localVal=""),localVal.toString()});return str==original?value:str}function iteratorToArray(iterator){const arr=[];let item=iterator.next();for(;!item.done;)arr.push(item.value),item=iterator.next();return arr}const browser_DASH_CASE_REGEXP=/-+([a-z0-9])/g;function browser_dashCaseToCamelCase(input){return input.replace(browser_DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}function allowPreviousPlayerStylesMerge(duration,delay){return 0===duration||0===delay}function balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles){const previousStyleProps=Object.keys(previousStyles);if(previousStyleProps.length&&keyframes.length){let startingKeyframe=keyframes[0],missingStyleProps=[];if(previousStyleProps.forEach(prop=>{startingKeyframe.hasOwnProperty(prop)||missingStyleProps.push(prop),startingKeyframe[prop]=previousStyles[prop]}),missingStyleProps.length)for(var i=1;i<keyframes.length;i++){let kf=keyframes[i];missingStyleProps.forEach((function(prop){kf[prop]=computeStyle(element,prop)}))}}return keyframes}function visitDslNode(visitor,node,context){switch(node.type){case 7:return visitor.visitTrigger(node,context);case 0:return visitor.visitState(node,context);case 1:return visitor.visitTransition(node,context);case 2:return visitor.visitSequence(node,context);case 3:return visitor.visitGroup(node,context);case 4:return visitor.visitAnimate(node,context);case 5:return visitor.visitKeyframes(node,context);case 6:return visitor.visitStyle(node,context);case 8:return visitor.visitReference(node,context);case 9:return visitor.visitAnimateChild(node,context);case 10:return visitor.visitAnimateRef(node,context);case 11:return visitor.visitQuery(node,context);case 12:return visitor.visitStagger(node,context);default:throw new Error(`Unable to resolve animation metadata node #${node.type}`)}}function computeStyle(element,prop){return window.getComputedStyle(element)[prop]}function parseTransitionExpr(transitionValue,errors){const expressions=[];return"string"==typeof transitionValue?transitionValue.split(/\s*,\s*/).forEach(str=>function(eventStr,expressions,errors){if(":"==eventStr[0]){const result=function(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(fromState,toState)=>parseFloat(toState)>parseFloat(fromState);case":decrement":return(fromState,toState)=>parseFloat(toState)<parseFloat(fromState);default:return errors.push(`The transition alias value "${alias}" is not supported`),"* => *"}}(eventStr,errors);if("function"==typeof result)return void expressions.push(result);eventStr=result}const match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==match||match.length<4)return errors.push(`The provided transition expression "${eventStr}" is not supported`),expressions;const fromState=match[1],separator=match[2],toState=match[3];expressions.push(makeLambdaFromStates(fromState,toState));const isFullAnyStateExpr="*"==fromState&&"*"==toState;"<"!=separator[0]||isFullAnyStateExpr||expressions.push(makeLambdaFromStates(toState,fromState))}(str,expressions,errors)):expressions.push(transitionValue),expressions}const TRUE_BOOLEAN_VALUES=new Set(["true","1"]),FALSE_BOOLEAN_VALUES=new Set(["false","0"]);function makeLambdaFromStates(lhs,rhs){const LHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(lhs)||FALSE_BOOLEAN_VALUES.has(lhs),RHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(rhs)||FALSE_BOOLEAN_VALUES.has(rhs);return(fromState,toState)=>{let lhsMatch="*"==lhs||lhs==fromState,rhsMatch="*"==rhs||rhs==toState;return!lhsMatch&&LHS_MATCH_BOOLEAN&&"boolean"==typeof fromState&&(lhsMatch=fromState?TRUE_BOOLEAN_VALUES.has(lhs):FALSE_BOOLEAN_VALUES.has(lhs)),!rhsMatch&&RHS_MATCH_BOOLEAN&&"boolean"==typeof toState&&(rhsMatch=toState?TRUE_BOOLEAN_VALUES.has(rhs):FALSE_BOOLEAN_VALUES.has(rhs)),lhsMatch&&rhsMatch}}const SELF_TOKEN_REGEX=new RegExp("s*:selfs*,?","g");function buildAnimationAst(driver,metadata,errors){return new browser_AnimationAstBuilderVisitor(driver).build(metadata,errors)}class browser_AnimationAstBuilderVisitor{constructor(_driver){this._driver=_driver}build(metadata,errors){const context=new AnimationAstBuilderContext(errors);return this._resetContextStyleTimingState(context),visitDslNode(this,normalizeAnimationEntry(metadata),context)}_resetContextStyleTimingState(context){context.currentQuerySelector="",context.collectedStyles={},context.collectedStyles[""]={},context.currentTime=0}visitTrigger(metadata,context){let queryCount=context.queryCount=0,depCount=context.depCount=0;const states=[],transitions=[];return"@"==metadata.name.charAt(0)&&context.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),metadata.definitions.forEach(def=>{if(this._resetContextStyleTimingState(context),0==def.type){const stateDef=def,name=stateDef.name;name.toString().split(/\s*,\s*/).forEach(n=>{stateDef.name=n,states.push(this.visitState(stateDef,context))}),stateDef.name=name}else if(1==def.type){const transition=this.visitTransition(def,context);queryCount+=transition.queryCount,depCount+=transition.depCount,transitions.push(transition)}else context.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:metadata.name,states:states,transitions:transitions,queryCount:queryCount,depCount:depCount,options:null}}visitState(metadata,context){const styleAst=this.visitStyle(metadata.styles,context),astParams=metadata.options&&metadata.options.params||null;if(styleAst.containsDynamicStyles){const missingSubs=new Set,params=astParams||{};if(styleAst.styles.forEach(value=>{if(browser_isObject(value)){const stylesObj=value;Object.keys(stylesObj).forEach(prop=>{extractStyleParams(stylesObj[prop]).forEach(sub=>{params.hasOwnProperty(sub)||missingSubs.add(sub)})})}}),missingSubs.size){const missingSubsArr=iteratorToArray(missingSubs.values());context.errors.push(`state("${metadata.name}", ...) must define default values for all the following style substitutions: ${missingSubsArr.join(", ")}`)}}return{type:0,name:metadata.name,style:styleAst,options:astParams?{params:astParams}:null}}visitTransition(metadata,context){context.queryCount=0,context.depCount=0;const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return{type:1,matchers:parseTransitionExpr(metadata.expr,context.errors),animation:animation,queryCount:context.queryCount,depCount:context.depCount,options:normalizeAnimationOptions(metadata.options)}}visitSequence(metadata,context){return{type:2,steps:metadata.steps.map(s=>visitDslNode(this,s,context)),options:normalizeAnimationOptions(metadata.options)}}visitGroup(metadata,context){const currentTime=context.currentTime;let furthestTime=0;const steps=metadata.steps.map(step=>{context.currentTime=currentTime;const innerAst=visitDslNode(this,step,context);return furthestTime=Math.max(furthestTime,context.currentTime),innerAst});return context.currentTime=furthestTime,{type:3,steps:steps,options:normalizeAnimationOptions(metadata.options)}}visitAnimate(metadata,context){const timingAst=function(value,errors){let timings=null;if(value.hasOwnProperty("duration"))timings=value;else if("number"==typeof value){return makeTimingAst(resolveTiming(value,errors).duration,0,"")}const strValue=value;if(strValue.split(/\s+/).some(v=>"{"==v.charAt(0)&&"{"==v.charAt(1))){const ast=makeTimingAst(0,0,"");return ast.dynamic=!0,ast.strValue=strValue,ast}return timings=timings||resolveTiming(strValue,errors),makeTimingAst(timings.duration,timings.delay,timings.easing)}(metadata.timings,context.errors);let styleAst;context.currentAnimateTimings=timingAst;let styleMetadata=metadata.styles?metadata.styles:animations_style({});if(5==styleMetadata.type)styleAst=this.visitKeyframes(styleMetadata,context);else{let styleMetadata=metadata.styles,isEmpty=!1;if(!styleMetadata){isEmpty=!0;const newStyleData={};timingAst.easing&&(newStyleData.easing=timingAst.easing),styleMetadata=animations_style(newStyleData)}context.currentTime+=timingAst.duration+timingAst.delay;const _styleAst=this.visitStyle(styleMetadata,context);_styleAst.isEmptyStep=isEmpty,styleAst=_styleAst}return context.currentAnimateTimings=null,{type:4,timings:timingAst,style:styleAst,options:null}}visitStyle(metadata,context){const ast=this._makeStyleAst(metadata,context);return this._validateStyleAst(ast,context),ast}_makeStyleAst(metadata,context){const styles=[];Array.isArray(metadata.styles)?metadata.styles.forEach(styleTuple=>{"string"==typeof styleTuple?"*"==styleTuple?styles.push(styleTuple):context.errors.push(`The provided style string value ${styleTuple} is not allowed.`):styles.push(styleTuple)}):styles.push(metadata.styles);let containsDynamicStyles=!1,collectedEasing=null;return styles.forEach(styleData=>{if(browser_isObject(styleData)){const styleMap=styleData,easing=styleMap.easing;if(easing&&(collectedEasing=easing,delete styleMap.easing),!containsDynamicStyles)for(let prop in styleMap){if(styleMap[prop].toString().indexOf("{{")>=0){containsDynamicStyles=!0;break}}}}),{type:6,styles:styles,easing:collectedEasing,offset:metadata.offset,containsDynamicStyles:containsDynamicStyles,options:null}}_validateStyleAst(ast,context){const timings=context.currentAnimateTimings;let endTime=context.currentTime,startTime=context.currentTime;timings&&startTime>0&&(startTime-=timings.duration+timings.delay),ast.styles.forEach(tuple=>{"string"!=typeof tuple&&Object.keys(tuple).forEach(prop=>{if(!this._driver.validateStyleProperty(prop))return void context.errors.push(`The provided animation property "${prop}" is not a supported CSS property for animations`);const collectedStyles=context.collectedStyles[context.currentQuerySelector],collectedEntry=collectedStyles[prop];let updateCollectedStyle=!0;collectedEntry&&(startTime!=endTime&&startTime>=collectedEntry.startTime&&endTime<=collectedEntry.endTime&&(context.errors.push(`The CSS property "${prop}" that exists between the times of "${collectedEntry.startTime}ms" and "${collectedEntry.endTime}ms" is also being animated in a parallel animation between the times of "${startTime}ms" and "${endTime}ms"`),updateCollectedStyle=!1),startTime=collectedEntry.startTime),updateCollectedStyle&&(collectedStyles[prop]={startTime:startTime,endTime:endTime}),context.options&&function(value,options,errors){const params=options.params||{},matches=extractStyleParams(value);matches.length&&matches.forEach(varName=>{params.hasOwnProperty(varName)||errors.push(`Unable to resolve the local animation param ${varName} in the given list of values`)})}(tuple[prop],context.options,context.errors)})})}visitKeyframes(metadata,context){const ast={type:5,styles:[],options:null};if(!context.currentAnimateTimings)return context.errors.push("keyframes() must be placed inside of a call to animate()"),ast;let totalKeyframesWithOffsets=0;const offsets=[];let offsetsOutOfOrder=!1,keyframesOutOfRange=!1,previousOffset=0;const keyframes=metadata.steps.map(styles=>{const style=this._makeStyleAst(styles,context);let offsetVal=null!=style.offset?style.offset:function(styles){if("string"==typeof styles)return null;let offset=null;if(Array.isArray(styles))styles.forEach(styleTuple=>{if(browser_isObject(styleTuple)&&styleTuple.hasOwnProperty("offset")){const obj=styleTuple;offset=parseFloat(obj.offset),delete obj.offset}});else if(browser_isObject(styles)&&styles.hasOwnProperty("offset")){const obj=styles;offset=parseFloat(obj.offset),delete obj.offset}return offset}(style.styles),offset=0;return null!=offsetVal&&(totalKeyframesWithOffsets++,offset=style.offset=offsetVal),keyframesOutOfRange=keyframesOutOfRange||offset<0||offset>1,offsetsOutOfOrder=offsetsOutOfOrder||offset<previousOffset,previousOffset=offset,offsets.push(offset),style});keyframesOutOfRange&&context.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),offsetsOutOfOrder&&context.errors.push("Please ensure that all keyframe offsets are in order");const length=metadata.steps.length;let generatedOffset=0;totalKeyframesWithOffsets>0&&totalKeyframesWithOffsets<length?context.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==totalKeyframesWithOffsets&&(generatedOffset=1/(length-1));const limit=length-1,currentTime=context.currentTime,currentAnimateTimings=context.currentAnimateTimings,animateDuration=currentAnimateTimings.duration;return keyframes.forEach((kf,i)=>{const offset=generatedOffset>0?i==limit?1:generatedOffset*i:offsets[i],durationUpToThisFrame=offset*animateDuration;context.currentTime=currentTime+currentAnimateTimings.delay+durationUpToThisFrame,currentAnimateTimings.duration=durationUpToThisFrame,this._validateStyleAst(kf,context),kf.offset=offset,ast.styles.push(kf)}),ast}visitReference(metadata,context){return{type:8,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),options:normalizeAnimationOptions(metadata.options)}}visitAnimateChild(metadata,context){return context.depCount++,{type:9,options:normalizeAnimationOptions(metadata.options)}}visitAnimateRef(metadata,context){return{type:10,animation:this.visitReference(metadata.animation,context),options:normalizeAnimationOptions(metadata.options)}}visitQuery(metadata,context){const parentSelector=context.currentQuerySelector,options=metadata.options||{};context.queryCount++,context.currentQuery=metadata;const[selector,includeSelf]=function(selector){const hasAmpersand=!!selector.split(/\s*,\s*/).find(token=>":self"==token);hasAmpersand&&(selector=selector.replace(SELF_TOKEN_REGEX,""));return[selector=selector.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,match=>".ng-trigger-"+match.substr(1)).replace(/:animating/g,".ng-animating"),hasAmpersand]}(metadata.selector);context.currentQuerySelector=parentSelector.length?parentSelector+" "+selector:selector,getOrSetAsInMap(context.collectedStyles,context.currentQuerySelector,{});const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return context.currentQuery=null,context.currentQuerySelector=parentSelector,{type:11,selector:selector,limit:options.limit||0,optional:!!options.optional,includeSelf:includeSelf,animation:animation,originalSelector:metadata.selector,options:normalizeAnimationOptions(metadata.options)}}visitStagger(metadata,context){context.currentQuery||context.errors.push("stagger() can only be used inside of query()");const timings="full"===metadata.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(metadata.timings,context.errors,!0);return{type:12,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),timings:timings,options:null}}}class AnimationAstBuilderContext{constructor(errors){this.errors=errors,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function browser_isObject(value){return!Array.isArray(value)&&"object"==typeof value}function normalizeAnimationOptions(options){var obj;return options?(options=copyObj(options)).params&&(options.params=(obj=options.params)?copyObj(obj):null):options={},options}function makeTimingAst(duration,delay,easing){return{duration:duration,delay:delay,easing:easing}}function createTimelineInstruction(element,keyframes,preStyleProps,postStyleProps,duration,delay,easing=null,subTimeline=!1){return{type:1,element:element,keyframes:keyframes,preStyleProps:preStyleProps,postStyleProps:postStyleProps,duration:duration,delay:delay,totalTime:duration+delay,easing:easing,subTimeline:subTimeline}}class ElementInstructionMap{constructor(){this._map=new Map}consume(element){let instructions=this._map.get(element);return instructions?this._map.delete(element):instructions=[],instructions}append(element,instructions){let existingInstructions=this._map.get(element);existingInstructions||this._map.set(element,existingInstructions=[]),existingInstructions.push(...instructions)}has(element){return this._map.has(element)}clear(){this._map.clear()}}const ENTER_TOKEN_REGEX=new RegExp(":enter","g"),LEAVE_TOKEN_REGEX=new RegExp(":leave","g");function buildAnimationTimelines(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles={},finalStyles={},options,subInstructions,errors=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors)}class AnimationTimelineBuilderVisitor{buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors=[]){subInstructions=subInstructions||new ElementInstructionMap;const context=new AnimationTimelineContext(driver,rootElement,subInstructions,enterClassName,leaveClassName,errors,[]);context.options=options,context.currentTimeline.setStyles([startingStyles],null,context.errors,options),visitDslNode(this,ast,context);const timelines=context.timelines.filter(timeline=>timeline.containsAnimation());if(timelines.length&&Object.keys(finalStyles).length){const tl=timelines[timelines.length-1];tl.allowOnlyTimelineStyles()||tl.setStyles([finalStyles],null,context.errors,options)}return timelines.length?timelines.map(timeline=>timeline.buildKeyframes()):[createTimelineInstruction(rootElement,[],[],[],0,0,"",!1)]}visitTrigger(ast,context){}visitState(ast,context){}visitTransition(ast,context){}visitAnimateChild(ast,context){const elementInstructions=context.subInstructions.consume(context.element);if(elementInstructions){const innerContext=context.createSubContext(ast.options),startTime=context.currentTimeline.currentTime,endTime=this._visitSubInstructions(elementInstructions,innerContext,innerContext.options);startTime!=endTime&&context.transformIntoNewTimeline(endTime)}context.previousNode=ast}visitAnimateRef(ast,context){const innerContext=context.createSubContext(ast.options);innerContext.transformIntoNewTimeline(),this.visitReference(ast.animation,innerContext),context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime),context.previousNode=ast}_visitSubInstructions(instructions,context,options){let furthestTime=context.currentTimeline.currentTime;const duration=null!=options.duration?resolveTimingValue(options.duration):null,delay=null!=options.delay?resolveTimingValue(options.delay):null;return 0!==duration&&instructions.forEach(instruction=>{const instructionTimings=context.appendInstructionToTimeline(instruction,duration,delay);furthestTime=Math.max(furthestTime,instructionTimings.duration+instructionTimings.delay)}),furthestTime}visitReference(ast,context){context.updateOptions(ast.options,!0),visitDslNode(this,ast.animation,context),context.previousNode=ast}visitSequence(ast,context){const subContextCount=context.subContextCount;let ctx=context;const options=ast.options;if(options&&(options.params||options.delay)&&(ctx=context.createSubContext(options),ctx.transformIntoNewTimeline(),null!=options.delay)){6==ctx.previousNode.type&&(ctx.currentTimeline.snapshotCurrentStyles(),ctx.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);const delay=resolveTimingValue(options.delay);ctx.delayNextStep(delay)}ast.steps.length&&(ast.steps.forEach(s=>visitDslNode(this,s,ctx)),ctx.currentTimeline.applyStylesToKeyframe(),ctx.subContextCount>subContextCount&&ctx.transformIntoNewTimeline()),context.previousNode=ast}visitGroup(ast,context){const innerTimelines=[];let furthestTime=context.currentTimeline.currentTime;const delay=ast.options&&ast.options.delay?resolveTimingValue(ast.options.delay):0;ast.steps.forEach(s=>{const innerContext=context.createSubContext(ast.options);delay&&innerContext.delayNextStep(delay),visitDslNode(this,s,innerContext),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime),innerTimelines.push(innerContext.currentTimeline)}),innerTimelines.forEach(timeline=>context.currentTimeline.mergeTimelineCollectedStyles(timeline)),context.transformIntoNewTimeline(furthestTime),context.previousNode=ast}_visitTiming(ast,context){if(ast.dynamic){const strValue=ast.strValue;return resolveTiming(context.params?browser_interpolateParams(strValue,context.params,context.errors):strValue,context.errors)}return{duration:ast.duration,delay:ast.delay,easing:ast.easing}}visitAnimate(ast,context){const timings=context.currentAnimateTimings=this._visitTiming(ast.timings,context),timeline=context.currentTimeline;timings.delay&&(context.incrementTime(timings.delay),timeline.snapshotCurrentStyles());const style=ast.style;5==style.type?this.visitKeyframes(style,context):(context.incrementTime(timings.duration),this.visitStyle(style,context),timeline.applyStylesToKeyframe()),context.currentAnimateTimings=null,context.previousNode=ast}visitStyle(ast,context){const timeline=context.currentTimeline,timings=context.currentAnimateTimings;!timings&&timeline.getCurrentStyleProperties().length&&timeline.forwardFrame();const easing=timings&&timings.easing||ast.easing;ast.isEmptyStep?timeline.applyEmptyStep(easing):timeline.setStyles(ast.styles,easing,context.errors,context.options),context.previousNode=ast}visitKeyframes(ast,context){const currentAnimateTimings=context.currentAnimateTimings,startTime=context.currentTimeline.duration,duration=currentAnimateTimings.duration,innerTimeline=context.createSubContext().currentTimeline;innerTimeline.easing=currentAnimateTimings.easing,ast.styles.forEach(step=>{const offset=step.offset||0;innerTimeline.forwardTime(offset*duration),innerTimeline.setStyles(step.styles,step.easing,context.errors,context.options),innerTimeline.applyStylesToKeyframe()}),context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline),context.transformIntoNewTimeline(startTime+duration),context.previousNode=ast}visitQuery(ast,context){const startTime=context.currentTimeline.currentTime,options=ast.options||{},delay=options.delay?resolveTimingValue(options.delay):0;delay&&(6===context.previousNode.type||0==startTime&&context.currentTimeline.getCurrentStyleProperties().length)&&(context.currentTimeline.snapshotCurrentStyles(),context.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);let furthestTime=startTime;const elms=context.invokeQuery(ast.selector,ast.originalSelector,ast.limit,ast.includeSelf,!!options.optional,context.errors);context.currentQueryTotal=elms.length;let sameElementTimeline=null;elms.forEach((element,i)=>{context.currentQueryIndex=i;const innerContext=context.createSubContext(ast.options,element);delay&&innerContext.delayNextStep(delay),element===context.element&&(sameElementTimeline=innerContext.currentTimeline),visitDslNode(this,ast.animation,innerContext),innerContext.currentTimeline.applyStylesToKeyframe();const endTime=innerContext.currentTimeline.currentTime;furthestTime=Math.max(furthestTime,endTime)}),context.currentQueryIndex=0,context.currentQueryTotal=0,context.transformIntoNewTimeline(furthestTime),sameElementTimeline&&(context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline),context.currentTimeline.snapshotCurrentStyles()),context.previousNode=ast}visitStagger(ast,context){const parentContext=context.parentContext,tl=context.currentTimeline,timings=ast.timings,duration=Math.abs(timings.duration),maxTime=duration*(context.currentQueryTotal-1);let delay=duration*context.currentQueryIndex;switch(timings.duration<0?"reverse":timings.easing){case"reverse":delay=maxTime-delay;break;case"full":delay=parentContext.currentStaggerTime}const timeline=context.currentTimeline;delay&&timeline.delayNextStep(delay);const startingTime=timeline.currentTime;visitDslNode(this,ast.animation,context),context.previousNode=ast,parentContext.currentStaggerTime=tl.currentTime-startingTime+(tl.startTime-parentContext.currentTimeline.startTime)}}const DEFAULT_NOOP_PREVIOUS_NODE={};class AnimationTimelineContext{constructor(_driver,element,subInstructions,_enterClassName,_leaveClassName,errors,timelines,initialTimeline){this._driver=_driver,this.element=element,this.subInstructions=subInstructions,this._enterClassName=_enterClassName,this._leaveClassName=_leaveClassName,this.errors=errors,this.timelines=timelines,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=initialTimeline||new browser_TimelineBuilder(this._driver,element,0),timelines.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(options,skipIfExists){if(!options)return;const newOptions=options;let optionsToUpdate=this.options;null!=newOptions.duration&&(optionsToUpdate.duration=resolveTimingValue(newOptions.duration)),null!=newOptions.delay&&(optionsToUpdate.delay=resolveTimingValue(newOptions.delay));const newParams=newOptions.params;if(newParams){let paramsToUpdate=optionsToUpdate.params;paramsToUpdate||(paramsToUpdate=this.options.params={}),Object.keys(newParams).forEach(name=>{skipIfExists&&paramsToUpdate.hasOwnProperty(name)||(paramsToUpdate[name]=browser_interpolateParams(newParams[name],paramsToUpdate,this.errors))})}}_copyOptions(){const options={};if(this.options){const oldParams=this.options.params;if(oldParams){const params=options.params={};Object.keys(oldParams).forEach(name=>{params[name]=oldParams[name]})}}return options}createSubContext(options=null,element,newTime){const target=element||this.element,context=new AnimationTimelineContext(this._driver,target,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(target,newTime||0));return context.previousNode=this.previousNode,context.currentAnimateTimings=this.currentAnimateTimings,context.options=this._copyOptions(),context.updateOptions(options),context.currentQueryIndex=this.currentQueryIndex,context.currentQueryTotal=this.currentQueryTotal,context.parentContext=this,this.subContextCount++,context}transformIntoNewTimeline(newTime){return this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.currentTimeline=this.currentTimeline.fork(this.element,newTime),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(instruction,duration,delay){const updatedTimings={duration:null!=duration?duration:instruction.duration,delay:this.currentTimeline.currentTime+(null!=delay?delay:0)+instruction.delay,easing:""},builder=new SubTimelineBuilder(this._driver,instruction.element,instruction.keyframes,instruction.preStyleProps,instruction.postStyleProps,updatedTimings,instruction.stretchStartingKeyframe);return this.timelines.push(builder),updatedTimings}incrementTime(time){this.currentTimeline.forwardTime(this.currentTimeline.duration+time)}delayNextStep(delay){delay>0&&this.currentTimeline.delayNextStep(delay)}invokeQuery(selector,originalSelector,limit,includeSelf,optional,errors){let results=[];if(includeSelf&&results.push(this.element),selector.length>0){selector=(selector=selector.replace(ENTER_TOKEN_REGEX,"."+this._enterClassName)).replace(LEAVE_TOKEN_REGEX,"."+this._leaveClassName);const multi=1!=limit;let elements=this._driver.query(this.element,selector,multi);0!==limit&&(elements=limit<0?elements.slice(elements.length+limit,elements.length):elements.slice(0,limit)),results.push(...elements)}return optional||0!=results.length||errors.push(`\`query("${originalSelector}")\` returned zero elements. (Use \`query("${originalSelector}", { optional: true })\` if you wish to allow this.)`),results}}class browser_TimelineBuilder{constructor(_driver,element,startTime,_elementTimelineStylesLookup){this._driver=_driver,this.element=element,this.startTime=startTime,this._elementTimelineStylesLookup=_elementTimelineStylesLookup,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(element),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(element,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(delay){const hasPreStyleStep=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||hasPreStyleStep?(this.forwardTime(this.currentTime+delay),hasPreStyleStep&&this.snapshotCurrentStyles()):this.startTime+=delay}fork(element,currentTime){return this.applyStylesToKeyframe(),new browser_TimelineBuilder(this._driver,element,currentTime||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(time){this.applyStylesToKeyframe(),this.duration=time,this._loadKeyframe()}_updateStyle(prop,value){this._localTimelineStyles[prop]=value,this._globalTimelineStyles[prop]=value,this._styleSummary[prop]={time:this.currentTime,value:value}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(easing){easing&&(this._previousKeyframe.easing=easing),Object.keys(this._globalTimelineStyles).forEach(prop=>{this._backFill[prop]=this._globalTimelineStyles[prop]||"*",this._currentKeyframe[prop]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(input,easing,errors,options){easing&&(this._previousKeyframe.easing=easing);const params=options&&options.params||{},styles=function(input,allStyles){const styles={};let allProperties;return input.forEach(token=>{"*"===token?(allProperties=allProperties||Object.keys(allStyles),allProperties.forEach(prop=>{styles[prop]="*"})):copyStyles(token,!1,styles)}),styles}(input,this._globalTimelineStyles);Object.keys(styles).forEach(prop=>{const val=browser_interpolateParams(styles[prop],params,errors);this._pendingStyles[prop]=val,this._localTimelineStyles.hasOwnProperty(prop)||(this._backFill[prop]=this._globalTimelineStyles.hasOwnProperty(prop)?this._globalTimelineStyles[prop]:"*"),this._updateStyle(prop,val)})}applyStylesToKeyframe(){const styles=this._pendingStyles,props=Object.keys(styles);0!=props.length&&(this._pendingStyles={},props.forEach(prop=>{const val=styles[prop];this._currentKeyframe[prop]=val}),Object.keys(this._localTimelineStyles).forEach(prop=>{this._currentKeyframe.hasOwnProperty(prop)||(this._currentKeyframe[prop]=this._localTimelineStyles[prop])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(prop=>{const val=this._localTimelineStyles[prop];this._pendingStyles[prop]=val,this._updateStyle(prop,val)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const properties=[];for(let prop in this._currentKeyframe)properties.push(prop);return properties}mergeTimelineCollectedStyles(timeline){Object.keys(timeline._styleSummary).forEach(prop=>{const details0=this._styleSummary[prop],details1=timeline._styleSummary[prop];(!details0||details1.time>details0.time)&&this._updateStyle(prop,details1.value)})}buildKeyframes(){this.applyStylesToKeyframe();const preStyleProps=new Set,postStyleProps=new Set,isEmpty=1===this._keyframes.size&&0===this.duration;let finalKeyframes=[];this._keyframes.forEach((keyframe,time)=>{const finalKeyframe=copyStyles(keyframe,!0);Object.keys(finalKeyframe).forEach(prop=>{const value=finalKeyframe[prop];"!"==value?preStyleProps.add(prop):"*"==value&&postStyleProps.add(prop)}),isEmpty||(finalKeyframe.offset=time/this.duration),finalKeyframes.push(finalKeyframe)});const preProps=preStyleProps.size?iteratorToArray(preStyleProps.values()):[],postProps=postStyleProps.size?iteratorToArray(postStyleProps.values()):[];if(isEmpty){const kf0=finalKeyframes[0],kf1=copyObj(kf0);kf0.offset=0,kf1.offset=1,finalKeyframes=[kf0,kf1]}return createTimelineInstruction(this.element,finalKeyframes,preProps,postProps,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends browser_TimelineBuilder{constructor(driver,element,keyframes,preStyleProps,postStyleProps,timings,_stretchStartingKeyframe=!1){super(driver,element,timings.delay),this.element=element,this.keyframes=keyframes,this.preStyleProps=preStyleProps,this.postStyleProps=postStyleProps,this._stretchStartingKeyframe=_stretchStartingKeyframe,this.timings={duration:timings.duration,delay:timings.delay,easing:timings.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let keyframes=this.keyframes,{delay:delay,duration:duration,easing:easing}=this.timings;if(this._stretchStartingKeyframe&&delay){const newKeyframes=[],totalTime=duration+delay,startingGap=delay/totalTime,newFirstKeyframe=copyStyles(keyframes[0],!1);newFirstKeyframe.offset=0,newKeyframes.push(newFirstKeyframe);const oldFirstKeyframe=copyStyles(keyframes[0],!1);oldFirstKeyframe.offset=roundOffset(startingGap),newKeyframes.push(oldFirstKeyframe);const limit=keyframes.length-1;for(let i=1;i<=limit;i++){let kf=copyStyles(keyframes[i],!1);const timeAtKeyframe=delay+kf.offset*duration;kf.offset=roundOffset(timeAtKeyframe/totalTime),newKeyframes.push(kf)}duration=totalTime,delay=0,easing="",keyframes=newKeyframes}return createTimelineInstruction(this.element,keyframes,this.preStyleProps,this.postStyleProps,duration,delay,easing,!0)}}function roundOffset(offset,decimalPoints=3){const mult=Math.pow(10,decimalPoints-1);return Math.round(offset*mult)/mult}class AnimationStyleNormalizer{}class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(propertyName,errors){return browser_dashCaseToCamelCase(propertyName)}normalizeStyleValue(userProvidedProperty,normalizedProperty,value,errors){let unit="";const strVal=value.toString().trim();if(DIMENSIONAL_PROP_MAP[normalizedProperty]&&0!==value&&"0"!==value)if("number"==typeof value)unit="px";else{const valAndSuffixMatch=value.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&errors.push(`Please provide a CSS unit value for ${userProvidedProperty}:${value}`)}return strVal+unit}}const DIMENSIONAL_PROP_MAP=function(keys){const map={};return keys.forEach(key=>map[key]=!0),map}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function createTransitionInstruction(element,triggerName,fromState,toState,isRemovalTransition,fromStyles,toStyles,timelines,queriedElements,preStyleProps,postStyleProps,totalTime,errors){return{type:0,element:element,triggerName:triggerName,isRemovalTransition:isRemovalTransition,fromState:fromState,fromStyles:fromStyles,toState:toState,toStyles:toStyles,timelines:timelines,queriedElements:queriedElements,preStyleProps:preStyleProps,postStyleProps:postStyleProps,totalTime:totalTime,errors:errors}}const EMPTY_OBJECT={};class AnimationTransitionFactory{constructor(_triggerName,ast,_stateStyles){this._triggerName=_triggerName,this.ast=ast,this._stateStyles=_stateStyles}match(currentState,nextState,element,params){return function(matchFns,currentState,nextState,element,params){return matchFns.some(fn=>fn(currentState,nextState,element,params))}(this.ast.matchers,currentState,nextState,element,params)}buildStyles(stateName,params,errors){const backupStateStyler=this._stateStyles["*"],stateStyler=this._stateStyles[stateName],backupStyles=backupStateStyler?backupStateStyler.buildStyles(params,errors):{};return stateStyler?stateStyler.buildStyles(params,errors):backupStyles}build(driver,element,currentState,nextState,enterClassName,leaveClassName,currentOptions,nextOptions,subInstructions,skipAstBuild){const errors=[],transitionAnimationParams=this.ast.options&&this.ast.options.params||EMPTY_OBJECT,currentAnimationParams=currentOptions&&currentOptions.params||EMPTY_OBJECT,currentStateStyles=this.buildStyles(currentState,currentAnimationParams,errors),nextAnimationParams=nextOptions&&nextOptions.params||EMPTY_OBJECT,nextStateStyles=this.buildStyles(nextState,nextAnimationParams,errors),queriedElements=new Set,preStyleMap=new Map,postStyleMap=new Map,isRemoval="void"===nextState,animationOptions={params:Object.assign(Object.assign({},transitionAnimationParams),nextAnimationParams)},timelines=skipAstBuild?[]:buildAnimationTimelines(driver,element,this.ast.animation,enterClassName,leaveClassName,currentStateStyles,nextStateStyles,animationOptions,subInstructions,errors);let totalTime=0;if(timelines.forEach(tl=>{totalTime=Math.max(tl.duration+tl.delay,totalTime)}),errors.length)return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,[],[],preStyleMap,postStyleMap,totalTime,errors);timelines.forEach(tl=>{const elm=tl.element,preProps=getOrSetAsInMap(preStyleMap,elm,{});tl.preStyleProps.forEach(prop=>preProps[prop]=!0);const postProps=getOrSetAsInMap(postStyleMap,elm,{});tl.postStyleProps.forEach(prop=>postProps[prop]=!0),elm!==element&&queriedElements.add(elm)});const queriedElementsList=iteratorToArray(queriedElements.values());return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,timelines,queriedElementsList,preStyleMap,postStyleMap,totalTime)}}class AnimationStateStyles{constructor(styles,defaultParams){this.styles=styles,this.defaultParams=defaultParams}buildStyles(params,errors){const finalStyles={},combinedParams=copyObj(this.defaultParams);return Object.keys(params).forEach(key=>{const value=params[key];null!=value&&(combinedParams[key]=value)}),this.styles.styles.forEach(value=>{if("string"!=typeof value){const styleObj=value;Object.keys(styleObj).forEach(prop=>{let val=styleObj[prop];val.length>1&&(val=browser_interpolateParams(val,combinedParams,errors)),finalStyles[prop]=val})}}),finalStyles}}class AnimationTrigger{constructor(name,ast){var triggerName,states;this.name=name,this.ast=ast,this.transitionFactories=[],this.states={},ast.states.forEach(ast=>{const defaultParams=ast.options&&ast.options.params||{};this.states[ast.name]=new AnimationStateStyles(ast.style,defaultParams)}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),ast.transitions.forEach(ast=>{this.transitionFactories.push(new AnimationTransitionFactory(name,ast,this.states))}),this.fallbackTransition=(triggerName=name,states=this.states,new AnimationTransitionFactory(triggerName,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fromState,toState)=>!0],options:null,queryCount:0,depCount:0},states))}get containsQueries(){return this.ast.queryCount>0}matchTransition(currentState,nextState,element,params){return this.transitionFactories.find(f=>f.match(currentState,nextState,element,params))||null}matchStyles(currentState,params,errors){return this.fallbackTransition.buildStyles(currentState,params,errors)}}function balanceProperties(obj,key1,key2){obj.hasOwnProperty(key1)?obj.hasOwnProperty(key2)||(obj[key2]=obj[key1]):obj.hasOwnProperty(key2)&&(obj[key1]=obj[key2])}const EMPTY_INSTRUCTION_MAP=new ElementInstructionMap;class browser_TimelineAnimationEngine{constructor(bodyNode,_driver,_normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._normalizer=_normalizer,this._animations={},this._playersById={},this.players=[]}register(id,metadata){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`Unable to build the animation due to the following errors: ${errors.join("\n")}`);this._animations[id]=ast}_buildPlayer(i,preStyles,postStyles){const element=i.element,keyframes=normalizeKeyframes(this._driver,this._normalizer,0,i.keyframes,preStyles,postStyles);return this._driver.animate(element,keyframes,i.duration,i.delay,i.easing,[],!0)}create(id,element,options={}){const errors=[],ast=this._animations[id];let instructions;const autoStylesMap=new Map;if(ast?(instructions=buildAnimationTimelines(this._driver,element,ast,"ng-enter","ng-leave",{},{},options,EMPTY_INSTRUCTION_MAP,errors),instructions.forEach(inst=>{const styles=getOrSetAsInMap(autoStylesMap,inst.element,{});inst.postStyleProps.forEach(prop=>styles[prop]=null)})):(errors.push("The requested animation doesn't exist or has already been destroyed"),instructions=[]),errors.length)throw new Error(`Unable to create the animation due to the following errors: ${errors.join("\n")}`);autoStylesMap.forEach((styles,element)=>{Object.keys(styles).forEach(prop=>{styles[prop]=this._driver.computeStyle(element,prop,"*")})});const player=optimizeGroupPlayer(instructions.map(i=>{const styles=autoStylesMap.get(i.element);return this._buildPlayer(i,{},styles)}));return this._playersById[id]=player,player.onDestroy(()=>this.destroy(id)),this.players.push(player),player}destroy(id){const player=this._getPlayer(id);player.destroy(),delete this._playersById[id];const index=this.players.indexOf(player);index>=0&&this.players.splice(index,1)}_getPlayer(id){const player=this._playersById[id];if(!player)throw new Error(`Unable to find the timeline player referenced by ${id}`);return player}listen(id,element,eventName,callback){const baseEvent=makeAnimationEvent(element,"","","");return listenOnPlayer(this._getPlayer(id),eventName,baseEvent,callback),()=>{}}command(id,element,command,args){if("register"==command)return void this.register(id,args[0]);if("create"==command){const options=args[0]||{};return void this.create(id,element,options)}const player=this._getPlayer(id);switch(command){case"play":player.play();break;case"pause":player.pause();break;case"reset":player.reset();break;case"restart":player.restart();break;case"finish":player.finish();break;case"init":player.init();break;case"setPosition":player.setPosition(parseFloat(args[0]));break;case"destroy":this.destroy(id)}}}const EMPTY_PLAYER_ARRAY=[],NULL_REMOVAL_STATE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NULL_REMOVED_QUERIED_STATE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class StateValue{constructor(input,namespaceId=""){this.namespaceId=namespaceId;const isObj=input&&input.hasOwnProperty("value"),value=isObj?input.value:input;if(this.value=function(value){return null!=value?value:null}(value),isObj){const options=copyObj(input);delete options.value,this.options=options}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(options){const newParams=options.params;if(newParams){const oldParams=this.options.params;Object.keys(newParams).forEach(prop=>{null==oldParams[prop]&&(oldParams[prop]=newParams[prop])})}}}const DEFAULT_STATE_VALUE=new StateValue("void");class AnimationTransitionNamespace{constructor(id,hostElement,_engine){this.id=id,this.hostElement=hostElement,this._engine=_engine,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+id,addClass(hostElement,this._hostClassName)}listen(element,name,phase,callback){if(!this._triggers.hasOwnProperty(name))throw new Error(`Unable to listen on the animation trigger event "${phase}" because the animation trigger "${name}" doesn't exist!`);if(null==phase||0==phase.length)throw new Error(`Unable to listen on the animation trigger "${name}" because the provided event is undefined!`);if("start"!=(eventName=phase)&&"done"!=eventName)throw new Error(`The provided animation trigger event "${phase}" for the animation trigger "${name}" is not supported!`);var eventName;const listeners=getOrSetAsInMap(this._elementListeners,element,[]),data={name:name,phase:phase,callback:callback};listeners.push(data);const triggersWithStates=getOrSetAsInMap(this._engine.statesByElement,element,{});return triggersWithStates.hasOwnProperty(name)||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+name),triggersWithStates[name]=DEFAULT_STATE_VALUE),()=>{this._engine.afterFlush(()=>{const index=listeners.indexOf(data);index>=0&&listeners.splice(index,1),this._triggers[name]||delete triggersWithStates[name]})}}register(name,ast){return!this._triggers[name]&&(this._triggers[name]=ast,!0)}_getTrigger(name){const trigger=this._triggers[name];if(!trigger)throw new Error(`The provided animation trigger "${name}" has not been registered!`);return trigger}trigger(element,triggerName,value,defaultToFallback=!0){const trigger=this._getTrigger(triggerName),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);let triggersWithStates=this._engine.statesByElement.get(element);triggersWithStates||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+triggerName),this._engine.statesByElement.set(element,triggersWithStates={}));let fromState=triggersWithStates[triggerName];const toState=new StateValue(value,this.id);if(!(value&&value.hasOwnProperty("value"))&&fromState&&toState.absorbOptions(fromState.options),triggersWithStates[triggerName]=toState,fromState||(fromState=DEFAULT_STATE_VALUE),!("void"===toState.value)&&fromState.value===toState.value){if(!function(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(let i=0;i<k1.length;i++){const prop=k1[i];if(!b.hasOwnProperty(prop)||a[prop]!==b[prop])return!1}return!0}(fromState.params,toState.params)){const errors=[],fromStyles=trigger.matchStyles(fromState.value,fromState.params,errors),toStyles=trigger.matchStyles(toState.value,toState.params,errors);errors.length?this._engine.reportError(errors):this._engine.afterFlush(()=>{eraseStyles(element,fromStyles),setStyles(element,toStyles)})}return}const playersOnElement=getOrSetAsInMap(this._engine.playersByElement,element,[]);playersOnElement.forEach(player=>{player.namespaceId==this.id&&player.triggerName==triggerName&&player.queued&&player.destroy()});let transition=trigger.matchTransition(fromState.value,toState.value,element,toState.params),isFallbackTransition=!1;if(!transition){if(!defaultToFallback)return;transition=trigger.fallbackTransition,isFallbackTransition=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:isFallbackTransition}),isFallbackTransition||(addClass(element,"ng-animate-queued"),player.onStart(()=>{removeClass(element,"ng-animate-queued")})),player.onDone(()=>{let index=this.players.indexOf(player);index>=0&&this.players.splice(index,1);const players=this._engine.playersByElement.get(element);if(players){let index=players.indexOf(player);index>=0&&players.splice(index,1)}}),this.players.push(player),playersOnElement.push(player),player}deregister(name){delete this._triggers[name],this._engine.statesByElement.forEach((stateMap,element)=>{delete stateMap[name]}),this._elementListeners.forEach((listeners,element)=>{this._elementListeners.set(element,listeners.filter(entry=>entry.name!=name))})}clearElementCache(element){this._engine.statesByElement.delete(element),this._elementListeners.delete(element);const elementPlayers=this._engine.playersByElement.get(element);elementPlayers&&(elementPlayers.forEach(player=>player.destroy()),this._engine.playersByElement.delete(element))}_signalRemovalForInnerTriggers(rootElement,context){const elements=this._engine.driver.query(rootElement,".ng-trigger",!0);elements.forEach(elm=>{if(elm.__ng_removed)return;const namespaces=this._engine.fetchNamespacesByElement(elm);namespaces.size?namespaces.forEach(ns=>ns.triggerLeaveAnimation(elm,context,!1,!0)):this.clearElementCache(elm)}),this._engine.afterFlushAnimationsDone(()=>elements.forEach(elm=>this.clearElementCache(elm)))}triggerLeaveAnimation(element,context,destroyAfterComplete,defaultToFallback){const triggerStates=this._engine.statesByElement.get(element);if(triggerStates){const players=[];if(Object.keys(triggerStates).forEach(triggerName=>{if(this._triggers[triggerName]){const player=this.trigger(element,triggerName,"void",defaultToFallback);player&&players.push(player)}}),players.length)return this._engine.markElementAsRemoved(this.id,element,!0,context),destroyAfterComplete&&optimizeGroupPlayer(players).onDone(()=>this._engine.processLeaveNode(element)),!0}return!1}prepareLeaveAnimationListeners(element){const listeners=this._elementListeners.get(element);if(listeners){const visitedTriggers=new Set;listeners.forEach(listener=>{const triggerName=listener.name;if(visitedTriggers.has(triggerName))return;visitedTriggers.add(triggerName);const transition=this._triggers[triggerName].fallbackTransition,fromState=this._engine.statesByElement.get(element)[triggerName]||DEFAULT_STATE_VALUE,toState=new StateValue("void"),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:!0})})}}removeNode(element,context){const engine=this._engine;if(element.childElementCount&&this._signalRemovalForInnerTriggers(element,context),this.triggerLeaveAnimation(element,context,!0))return;let containsPotentialParentTransition=!1;if(engine.totalAnimations){const currentPlayers=engine.players.length?engine.playersByQueriedElement.get(element):[];if(currentPlayers&&currentPlayers.length)containsPotentialParentTransition=!0;else{let parent=element;for(;parent=parent.parentNode;){if(engine.statesByElement.get(parent)){containsPotentialParentTransition=!0;break}}}}if(this.prepareLeaveAnimationListeners(element),containsPotentialParentTransition)engine.markElementAsRemoved(this.id,element,!1,context);else{const removalFlag=element.__ng_removed;removalFlag&&removalFlag!==NULL_REMOVAL_STATE||(engine.afterFlush(()=>this.clearElementCache(element)),engine.destroyInnerAnimations(element),engine._onRemovalComplete(element,context))}}insertNode(element,parent){addClass(element,this._hostClassName)}drainQueuedTransitions(microtaskId){const instructions=[];return this._queue.forEach(entry=>{const player=entry.player;if(player.destroyed)return;const element=entry.element,listeners=this._elementListeners.get(element);listeners&&listeners.forEach(listener=>{if(listener.name==entry.triggerName){const baseEvent=makeAnimationEvent(element,entry.triggerName,entry.fromState.value,entry.toState.value);baseEvent._data=microtaskId,listenOnPlayer(entry.player,listener.phase,baseEvent,listener.callback)}}),player.markedForDestroy?this._engine.afterFlush(()=>{player.destroy()}):instructions.push(entry)}),this._queue=[],instructions.sort((a,b)=>{const d0=a.transition.ast.depCount,d1=b.transition.ast.depCount;return 0==d0||0==d1?d0-d1:this._engine.driver.containsElement(a.element,b.element)?1:-1})}destroy(context){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,context)}elementContainsData(element){let containsData=!1;return this._elementListeners.has(element)&&(containsData=!0),containsData=!!this._queue.find(entry=>entry.element===element)||containsData,containsData}}class browser_TransitionAnimationEngine{constructor(bodyNode,driver,_normalizer){this.bodyNode=bodyNode,this.driver=driver,this._normalizer=_normalizer,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(element,context)=>{}}_onRemovalComplete(element,context){this.onRemovalComplete(element,context)}get queuedPlayers(){const players=[];return this._namespaceList.forEach(ns=>{ns.players.forEach(player=>{player.queued&&players.push(player)})}),players}createNamespace(namespaceId,hostElement){const ns=new AnimationTransitionNamespace(namespaceId,hostElement,this);return hostElement.parentNode?this._balanceNamespaceList(ns,hostElement):(this.newHostElements.set(hostElement,ns),this.collectEnterElement(hostElement)),this._namespaceLookup[namespaceId]=ns}_balanceNamespaceList(ns,hostElement){const limit=this._namespaceList.length-1;if(limit>=0){let found=!1;for(let i=limit;i>=0;i--){const nextNamespace=this._namespaceList[i];if(this.driver.containsElement(nextNamespace.hostElement,hostElement)){this._namespaceList.splice(i+1,0,ns),found=!0;break}}found||this._namespaceList.splice(0,0,ns)}else this._namespaceList.push(ns);return this.namespacesByHostElement.set(hostElement,ns),ns}register(namespaceId,hostElement){let ns=this._namespaceLookup[namespaceId];return ns||(ns=this.createNamespace(namespaceId,hostElement)),ns}registerTrigger(namespaceId,name,trigger){let ns=this._namespaceLookup[namespaceId];ns&&ns.register(name,trigger)&&this.totalAnimations++}destroy(namespaceId,context){if(!namespaceId)return;const ns=this._fetchNamespace(namespaceId);this.afterFlush(()=>{this.namespacesByHostElement.delete(ns.hostElement),delete this._namespaceLookup[namespaceId];const index=this._namespaceList.indexOf(ns);index>=0&&this._namespaceList.splice(index,1)}),this.afterFlushAnimationsDone(()=>ns.destroy(context))}_fetchNamespace(id){return this._namespaceLookup[id]}fetchNamespacesByElement(element){const namespaces=new Set,elementStates=this.statesByElement.get(element);if(elementStates){const keys=Object.keys(elementStates);for(let i=0;i<keys.length;i++){const nsId=elementStates[keys[i]].namespaceId;if(nsId){const ns=this._fetchNamespace(nsId);ns&&namespaces.add(ns)}}}return namespaces}trigger(namespaceId,element,name,value){if(isElementNode(element)){const ns=this._fetchNamespace(namespaceId);if(ns)return ns.trigger(element,name,value),!0}return!1}insertNode(namespaceId,element,parent,insertBefore){if(!isElementNode(element))return;const details=element.__ng_removed;if(details&&details.setForRemoval){details.setForRemoval=!1,details.setForMove=!0;const index=this.collectedLeaveElements.indexOf(element);index>=0&&this.collectedLeaveElements.splice(index,1)}if(namespaceId){const ns=this._fetchNamespace(namespaceId);ns&&ns.insertNode(element,parent)}insertBefore&&this.collectEnterElement(element)}collectEnterElement(element){this.collectedEnterElements.push(element)}markElementAsDisabled(element,value){value?this.disabledNodes.has(element)||(this.disabledNodes.add(element),addClass(element,"ng-animate-disabled")):this.disabledNodes.has(element)&&(this.disabledNodes.delete(element),removeClass(element,"ng-animate-disabled"))}removeNode(namespaceId,element,isHostElement,context){if(isElementNode(element)){const ns=namespaceId?this._fetchNamespace(namespaceId):null;if(ns?ns.removeNode(element,context):this.markElementAsRemoved(namespaceId,element,!1,context),isHostElement){const hostNS=this.namespacesByHostElement.get(element);hostNS&&hostNS.id!==namespaceId&&hostNS.removeNode(element,context)}}else this._onRemovalComplete(element,context)}markElementAsRemoved(namespaceId,element,hasAnimation,context){this.collectedLeaveElements.push(element),element.__ng_removed={namespaceId:namespaceId,setForRemoval:context,hasAnimation:hasAnimation,removedBeforeQueried:!1}}listen(namespaceId,element,name,phase,callback){return isElementNode(element)?this._fetchNamespace(namespaceId).listen(element,name,phase,callback):()=>{}}_buildInstruction(entry,subTimelines,enterClassName,leaveClassName,skipBuildAst){return entry.transition.build(this.driver,entry.element,entry.fromState.value,entry.toState.value,enterClassName,leaveClassName,entry.fromState.options,entry.toState.options,subTimelines,skipBuildAst)}destroyInnerAnimations(containerElement){let elements=this.driver.query(containerElement,".ng-trigger",!0);elements.forEach(element=>this.destroyActiveAnimationsForElement(element)),0!=this.playersByQueriedElement.size&&(elements=this.driver.query(containerElement,".ng-animating",!0),elements.forEach(element=>this.finishActiveQueriedAnimationOnElement(element)))}destroyActiveAnimationsForElement(element){const players=this.playersByElement.get(element);players&&players.forEach(player=>{player.queued?player.markedForDestroy=!0:player.destroy()})}finishActiveQueriedAnimationOnElement(element){const players=this.playersByQueriedElement.get(element);players&&players.forEach(player=>player.finish())}whenRenderingDone(){return new Promise(resolve=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone(()=>resolve());resolve()})}processLeaveNode(element){const details=element.__ng_removed;if(details&&details.setForRemoval){if(element.__ng_removed=NULL_REMOVAL_STATE,details.namespaceId){this.destroyInnerAnimations(element);const ns=this._fetchNamespace(details.namespaceId);ns&&ns.clearElementCache(element)}this._onRemovalComplete(element,details.setForRemoval)}this.driver.matchesElement(element,".ng-animate-disabled")&&this.markElementAsDisabled(element,!1),this.driver.query(element,".ng-animate-disabled",!0).forEach(node=>{this.markElementAsDisabled(node,!1)})}flush(microtaskId=-1){let players=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ns,element)=>this._balanceNamespaceList(ns,element)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){addClass(this.collectedEnterElements[i],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const cleanupFns=[];try{players=this._flushAnimations(cleanupFns,microtaskId)}finally{for(let i=0;i<cleanupFns.length;i++)cleanupFns[i]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i];this.processLeaveNode(element)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(fn=>fn()),this._flushFns=[],this._whenQuietFns.length){const quietFns=this._whenQuietFns;this._whenQuietFns=[],players.length?optimizeGroupPlayer(players).onDone(()=>{quietFns.forEach(fn=>fn())}):quietFns.forEach(fn=>fn())}}reportError(errors){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${errors.join("\n")}`)}_flushAnimations(cleanupFns,microtaskId){const subTimelines=new ElementInstructionMap,skippedPlayers=[],skippedPlayersMap=new Map,queuedInstructions=[],queriedElements=new Map,allPreStyleElements=new Map,allPostStyleElements=new Map,disabledElementsSet=new Set;this.disabledNodes.forEach(node=>{disabledElementsSet.add(node);const nodesThatAreDisabled=this.driver.query(node,".ng-animate-queued",!0);for(let i=0;i<nodesThatAreDisabled.length;i++)disabledElementsSet.add(nodesThatAreDisabled[i])});const bodyNode=this.bodyNode,allTriggerElements=Array.from(this.statesByElement.keys()),enterNodeMap=buildRootMap(allTriggerElements,this.collectedEnterElements),enterNodeMapIds=new Map;let i=0;enterNodeMap.forEach((nodes,root)=>{const className="ng-enter"+i++;enterNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))});const allLeaveNodes=[],mergedLeaveNodes=new Set,leaveNodesWithoutAnimations=new Set;for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i],details=element.__ng_removed;details&&details.setForRemoval&&(allLeaveNodes.push(element),mergedLeaveNodes.add(element),details.hasAnimation?this.driver.query(element,".ng-star-inserted",!0).forEach(elm=>mergedLeaveNodes.add(elm)):leaveNodesWithoutAnimations.add(element))}const leaveNodeMapIds=new Map,leaveNodeMap=buildRootMap(allTriggerElements,Array.from(mergedLeaveNodes));leaveNodeMap.forEach((nodes,root)=>{const className="ng-leave"+i++;leaveNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))}),cleanupFns.push(()=>{enterNodeMap.forEach((nodes,root)=>{const className=enterNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),leaveNodeMap.forEach((nodes,root)=>{const className=leaveNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),allLeaveNodes.forEach(element=>{this.processLeaveNode(element)})});const allPlayers=[],erroneousTransitions=[];for(let i=this._namespaceList.length-1;i>=0;i--){this._namespaceList[i].drainQueuedTransitions(microtaskId).forEach(entry=>{const player=entry.player,element=entry.element;if(allPlayers.push(player),this.collectedEnterElements.length){const details=element.__ng_removed;if(details&&details.setForMove)return void player.destroy()}const nodeIsOrphaned=!bodyNode||!this.driver.containsElement(bodyNode,element),leaveClassName=leaveNodeMapIds.get(element),enterClassName=enterNodeMapIds.get(element),instruction=this._buildInstruction(entry,subTimelines,enterClassName,leaveClassName,nodeIsOrphaned);if(instruction.errors&&instruction.errors.length)return void erroneousTransitions.push(instruction);if(nodeIsOrphaned)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);if(entry.isFallbackTransition)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);instruction.timelines.forEach(tl=>tl.stretchStartingKeyframe=!0),subTimelines.append(element,instruction.timelines);const tuple={instruction:instruction,player:player,element:element};queuedInstructions.push(tuple),instruction.queriedElements.forEach(element=>getOrSetAsInMap(queriedElements,element,[]).push(player)),instruction.preStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);if(props.length){let setVal=allPreStyleElements.get(element);setVal||allPreStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))}}),instruction.postStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);let setVal=allPostStyleElements.get(element);setVal||allPostStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))})})}if(erroneousTransitions.length){const errors=[];erroneousTransitions.forEach(instruction=>{errors.push(`@${instruction.triggerName} has failed due to:\n`),instruction.errors.forEach(error=>errors.push(`- ${error}\n`))}),allPlayers.forEach(player=>player.destroy()),this.reportError(errors)}const allPreviousPlayersMap=new Map,animationElementMap=new Map;queuedInstructions.forEach(entry=>{const element=entry.element;subTimelines.has(element)&&(animationElementMap.set(element,element),this._beforeAnimationBuild(entry.player.namespaceId,entry.instruction,allPreviousPlayersMap))}),skippedPlayers.forEach(player=>{const element=player.element;this._getPreviousPlayers(element,!1,player.namespaceId,player.triggerName,null).forEach(prevPlayer=>{getOrSetAsInMap(allPreviousPlayersMap,element,[]).push(prevPlayer),prevPlayer.destroy()})});const replaceNodes=allLeaveNodes.filter(node=>replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)),postStylesMap=new Map;cloakAndComputeStyles(postStylesMap,this.driver,leaveNodesWithoutAnimations,allPostStyleElements,"*").forEach(node=>{replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)&&replaceNodes.push(node)});const preStylesMap=new Map;enterNodeMap.forEach((nodes,root)=>{cloakAndComputeStyles(preStylesMap,this.driver,new Set(nodes),allPreStyleElements,"!")}),replaceNodes.forEach(node=>{const post=postStylesMap.get(node),pre=preStylesMap.get(node);postStylesMap.set(node,Object.assign(Object.assign({},post),pre))});const rootPlayers=[],subPlayers=[],NO_PARENT_ANIMATION_ELEMENT_DETECTED={};queuedInstructions.forEach(entry=>{const{element:element,player:player,instruction:instruction}=entry;if(subTimelines.has(element)){if(disabledElementsSet.has(element))return player.onDestroy(()=>setStyles(element,instruction.toStyles)),player.disabled=!0,player.overrideTotalTime(instruction.totalTime),void skippedPlayers.push(player);let parentWithAnimation=NO_PARENT_ANIMATION_ELEMENT_DETECTED;if(animationElementMap.size>1){let elm=element;const parentsToAdd=[];for(;elm=elm.parentNode;){const detectedParent=animationElementMap.get(elm);if(detectedParent){parentWithAnimation=detectedParent;break}parentsToAdd.push(elm)}parentsToAdd.forEach(parent=>animationElementMap.set(parent,parentWithAnimation))}const innerPlayer=this._buildAnimation(player.namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap);if(player.setRealPlayer(innerPlayer),parentWithAnimation===NO_PARENT_ANIMATION_ELEMENT_DETECTED)rootPlayers.push(player);else{const parentPlayers=this.playersByElement.get(parentWithAnimation);parentPlayers&&parentPlayers.length&&(player.parentPlayer=optimizeGroupPlayer(parentPlayers)),skippedPlayers.push(player)}}else eraseStyles(element,instruction.fromStyles),player.onDestroy(()=>setStyles(element,instruction.toStyles)),subPlayers.push(player),disabledElementsSet.has(element)&&skippedPlayers.push(player)}),subPlayers.forEach(player=>{const playersForElement=skippedPlayersMap.get(player.element);if(playersForElement&&playersForElement.length){const innerPlayer=optimizeGroupPlayer(playersForElement);player.setRealPlayer(innerPlayer)}}),skippedPlayers.forEach(player=>{player.parentPlayer?player.syncPlayerEvents(player.parentPlayer):player.destroy()});for(let i=0;i<allLeaveNodes.length;i++){const element=allLeaveNodes[i],details=element.__ng_removed;if(removeClass(element,"ng-leave"),details&&details.hasAnimation)continue;let players=[];if(queriedElements.size){let queriedPlayerResults=queriedElements.get(element);queriedPlayerResults&&queriedPlayerResults.length&&players.push(...queriedPlayerResults);let queriedInnerElements=this.driver.query(element,".ng-animating",!0);for(let j=0;j<queriedInnerElements.length;j++){let queriedPlayers=queriedElements.get(queriedInnerElements[j]);queriedPlayers&&queriedPlayers.length&&players.push(...queriedPlayers)}}const activePlayers=players.filter(p=>!p.destroyed);activePlayers.length?removeNodesAfterAnimationDone(this,element,activePlayers):this.processLeaveNode(element)}return allLeaveNodes.length=0,rootPlayers.forEach(player=>{this.players.push(player),player.onDone(()=>{player.destroy();const index=this.players.indexOf(player);this.players.splice(index,1)}),player.play()}),rootPlayers}elementContainsData(namespaceId,element){let containsData=!1;const details=element.__ng_removed;return details&&details.setForRemoval&&(containsData=!0),this.playersByElement.has(element)&&(containsData=!0),this.playersByQueriedElement.has(element)&&(containsData=!0),this.statesByElement.has(element)&&(containsData=!0),this._fetchNamespace(namespaceId).elementContainsData(element)||containsData}afterFlush(callback){this._flushFns.push(callback)}afterFlushAnimationsDone(callback){this._whenQuietFns.push(callback)}_getPreviousPlayers(element,isQueriedElement,namespaceId,triggerName,toStateValue){let players=[];if(isQueriedElement){const queriedElementPlayers=this.playersByQueriedElement.get(element);queriedElementPlayers&&(players=queriedElementPlayers)}else{const elementPlayers=this.playersByElement.get(element);if(elementPlayers){const isRemovalAnimation=!toStateValue||"void"==toStateValue;elementPlayers.forEach(player=>{player.queued||(isRemovalAnimation||player.triggerName==triggerName)&&players.push(player)})}}return(namespaceId||triggerName)&&(players=players.filter(player=>(!namespaceId||namespaceId==player.namespaceId)&&(!triggerName||triggerName==player.triggerName))),players}_beforeAnimationBuild(namespaceId,instruction,allPreviousPlayersMap){const triggerName=instruction.triggerName,rootElement=instruction.element,targetNameSpaceId=instruction.isRemovalTransition?void 0:namespaceId,targetTriggerName=instruction.isRemovalTransition?void 0:triggerName;for(const timelineInstruction of instruction.timelines){const element=timelineInstruction.element,isQueriedElement=element!==rootElement,players=getOrSetAsInMap(allPreviousPlayersMap,element,[]);this._getPreviousPlayers(element,isQueriedElement,targetNameSpaceId,targetTriggerName,instruction.toState).forEach(player=>{const realPlayer=player.getRealPlayer();realPlayer.beforeDestroy&&realPlayer.beforeDestroy(),player.destroy(),players.push(player)})}eraseStyles(rootElement,instruction.fromStyles)}_buildAnimation(namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap){const triggerName=instruction.triggerName,rootElement=instruction.element,allQueriedPlayers=[],allConsumedElements=new Set,allSubElements=new Set,allNewPlayers=instruction.timelines.map(timelineInstruction=>{const element=timelineInstruction.element;allConsumedElements.add(element);const details=element.__ng_removed;if(details&&details.removedBeforeQueried)return new NoopAnimationPlayer(timelineInstruction.duration,timelineInstruction.delay);const isQueriedElement=element!==rootElement,previousPlayers=function(players){const finalPlayers=[];return function _flattenGroupPlayersRecur(players,finalPlayers){for(let i=0;i<players.length;i++){const player=players[i];player instanceof AnimationGroupPlayer?_flattenGroupPlayersRecur(player.players,finalPlayers):finalPlayers.push(player)}}(players,finalPlayers),finalPlayers}((allPreviousPlayersMap.get(element)||EMPTY_PLAYER_ARRAY).map(p=>p.getRealPlayer())).filter(p=>{const pp=p;return!!pp.element&&pp.element===element}),preStyles=preStylesMap.get(element),postStyles=postStylesMap.get(element),keyframes=normalizeKeyframes(this.driver,this._normalizer,0,timelineInstruction.keyframes,preStyles,postStyles),player=this._buildPlayer(timelineInstruction,keyframes,previousPlayers);if(timelineInstruction.subTimeline&&skippedPlayersMap&&allSubElements.add(element),isQueriedElement){const wrappedPlayer=new browser_TransitionAnimationPlayer(namespaceId,triggerName,element);wrappedPlayer.setRealPlayer(player),allQueriedPlayers.push(wrappedPlayer)}return player});allQueriedPlayers.forEach(player=>{getOrSetAsInMap(this.playersByQueriedElement,player.element,[]).push(player),player.onDone(()=>function(map,key,value){let currentValues;if(map instanceof Map){if(currentValues=map.get(key),currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&map.delete(key)}}else if(currentValues=map[key],currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&delete map[key]}return currentValues}(this.playersByQueriedElement,player.element,player))}),allConsumedElements.forEach(element=>addClass(element,"ng-animating"));const player=optimizeGroupPlayer(allNewPlayers);return player.onDestroy(()=>{allConsumedElements.forEach(element=>removeClass(element,"ng-animating")),setStyles(rootElement,instruction.toStyles)}),allSubElements.forEach(element=>{getOrSetAsInMap(skippedPlayersMap,element,[]).push(player)}),player}_buildPlayer(instruction,keyframes,previousPlayers){return keyframes.length>0?this.driver.animate(instruction.element,keyframes,instruction.duration,instruction.delay,instruction.easing,previousPlayers):new NoopAnimationPlayer(instruction.duration,instruction.delay)}}class browser_TransitionAnimationPlayer{constructor(namespaceId,triggerName,element){this.namespaceId=namespaceId,this.triggerName=triggerName,this.element=element,this._player=new NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(player){this._containsRealPlayer||(this._player=player,Object.keys(this._queuedCallbacks).forEach(phase=>{this._queuedCallbacks[phase].forEach(callback=>listenOnPlayer(player,phase,void 0,callback))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(player.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(totalTime){this.totalTime=totalTime}syncPlayerEvents(player){const p=this._player;p.triggerCallback&&player.onStart(()=>p.triggerCallback("start")),player.onDone(()=>this.finish()),player.onDestroy(()=>this.destroy())}_queueEvent(name,callback){getOrSetAsInMap(this._queuedCallbacks,name,[]).push(callback)}onDone(fn){this.queued&&this._queueEvent("done",fn),this._player.onDone(fn)}onStart(fn){this.queued&&this._queueEvent("start",fn),this._player.onStart(fn)}onDestroy(fn){this.queued&&this._queueEvent("destroy",fn),this._player.onDestroy(fn)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(phaseName){const p=this._player;p.triggerCallback&&p.triggerCallback(phaseName)}}function isElementNode(node){return node&&1===node.nodeType}function cloakElement(element,value){const oldValue=element.style.display;return element.style.display=null!=value?value:"none",oldValue}function cloakAndComputeStyles(valuesMap,driver,elements,elementPropsMap,defaultStyle){const cloakVals=[];elements.forEach(element=>cloakVals.push(cloakElement(element)));const failedElements=[];elementPropsMap.forEach((props,element)=>{const styles={};props.forEach(prop=>{const value=styles[prop]=driver.computeStyle(element,prop,defaultStyle);value&&0!=value.length||(element.__ng_removed=NULL_REMOVED_QUERIED_STATE,failedElements.push(element))}),valuesMap.set(element,styles)});let i=0;return elements.forEach(element=>cloakElement(element,cloakVals[i++])),failedElements}function buildRootMap(roots,nodes){const rootMap=new Map;if(roots.forEach(root=>rootMap.set(root,[])),0==nodes.length)return rootMap;const nodeSet=new Set(nodes),localRootMap=new Map;return nodes.forEach(node=>{const root=function getRoot(node){if(!node)return 1;let root=localRootMap.get(node);if(root)return root;const parent=node.parentNode;return root=rootMap.has(parent)?parent:nodeSet.has(parent)?1:getRoot(parent),localRootMap.set(node,root),root}(node);1!==root&&rootMap.get(root).push(node)}),rootMap}function addClass(element,className){if(element.classList)element.classList.add(className);else{let classes=element.$$classes;classes||(classes=element.$$classes={}),classes[className]=!0}}function removeClass(element,className){if(element.classList)element.classList.remove(className);else{let classes=element.$$classes;classes&&delete classes[className]}}function removeNodesAfterAnimationDone(engine,element,players){optimizeGroupPlayer(players).onDone(()=>engine.processLeaveNode(element))}function replacePostStylesAsPre(element,allPreStyleElements,allPostStyleElements){const postEntry=allPostStyleElements.get(element);if(!postEntry)return!1;let preEntry=allPreStyleElements.get(element);return preEntry?postEntry.forEach(data=>preEntry.add(data)):allPreStyleElements.set(element,postEntry),allPostStyleElements.delete(element),!0}class AnimationEngine{constructor(bodyNode,_driver,normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._triggerCache={},this.onRemovalComplete=(element,context)=>{},this._transitionEngine=new browser_TransitionAnimationEngine(bodyNode,_driver,normalizer),this._timelineEngine=new browser_TimelineAnimationEngine(bodyNode,_driver,normalizer),this._transitionEngine.onRemovalComplete=(element,context)=>this.onRemovalComplete(element,context)}registerTrigger(componentId,namespaceId,hostElement,name,metadata){const cacheKey=componentId+"-"+name;let trigger=this._triggerCache[cacheKey];if(!trigger){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`The animation trigger "${name}" has failed to build due to the following errors:\n - ${errors.join("\n - ")}`);trigger=function(name,ast){return new AnimationTrigger(name,ast)}(name,ast),this._triggerCache[cacheKey]=trigger}this._transitionEngine.registerTrigger(namespaceId,name,trigger)}register(namespaceId,hostElement){this._transitionEngine.register(namespaceId,hostElement)}destroy(namespaceId,context){this._transitionEngine.destroy(namespaceId,context)}onInsert(namespaceId,element,parent,insertBefore){this._transitionEngine.insertNode(namespaceId,element,parent,insertBefore)}onRemove(namespaceId,element,context,isHostElement){this._transitionEngine.removeNode(namespaceId,element,isHostElement||!1,context)}disableAnimations(element,disable){this._transitionEngine.markElementAsDisabled(element,disable)}process(namespaceId,element,property,value){if("@"==property.charAt(0)){const[id,action]=parseTimelineCommand(property),args=value;this._timelineEngine.command(id,element,action,args)}else this._transitionEngine.trigger(namespaceId,element,property,value)}listen(namespaceId,element,eventName,eventPhase,callback){if("@"==eventName.charAt(0)){const[id,action]=parseTimelineCommand(eventName);return this._timelineEngine.listen(id,element,action,callback)}return this._transitionEngine.listen(namespaceId,element,eventName,eventPhase,callback)}flush(microtaskId=-1){this._transitionEngine.flush(microtaskId)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function packageNonAnimatableStyles(element,styles){let startStyles=null,endStyles=null;return Array.isArray(styles)&&styles.length?(startStyles=filterNonAnimatableStyles(styles[0]),styles.length>1&&(endStyles=filterNonAnimatableStyles(styles[styles.length-1]))):styles&&(startStyles=filterNonAnimatableStyles(styles)),startStyles||endStyles?new SpecialCasedStyles(element,startStyles,endStyles):null}class SpecialCasedStyles{constructor(_element,_startStyles,_endStyles){this._element=_element,this._startStyles=_startStyles,this._endStyles=_endStyles,this._state=0;let initialStyles=SpecialCasedStyles.initialStylesByElement.get(_element);initialStyles||SpecialCasedStyles.initialStylesByElement.set(_element,initialStyles={}),this._initialStyles=initialStyles}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}SpecialCasedStyles.initialStylesByElement=new WeakMap;function filterNonAnimatableStyles(styles){let result=null;const props=Object.keys(styles);for(let i=0;i<props.length;i++){const prop=props[i];isNonAnimatableStyle(prop)&&(result=result||{},result[prop]=styles[prop])}return result}function isNonAnimatableStyle(prop){return"display"===prop||"position"===prop}class ElementAnimationStyleHandler{constructor(_element,_name,_duration,_delay,_easing,_fillMode,_onDoneFn){this._element=_element,this._name=_name,this._duration=_duration,this._delay=_delay,this._easing=_easing,this._fillMode=_fillMode,this._onDoneFn=_onDoneFn,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(element,value){const anim=getAnimationStyle(element,"").trim();let index=0;anim.length&&(index=function(value,char){let count=0;for(let i=0;i<value.length;i++){value.charAt(i)===char&&count++}return count}(anim,",")+1,value=`${anim}, ${value}`);setAnimationStyle(element,"",value)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),addRemoveAnimationEvent(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){playPauseAnimation(this._element,this._name,"paused")}resume(){playPauseAnimation(this._element,this._name,"running")}setPosition(position){const index=findIndexForAnimation(this._element,this._name);this._position=position*this._duration,setAnimationStyle(this._element,"Delay",`-${this._position}ms`,index)}getPosition(){return this._position}_handleCallback(event){const timestamp=event._ngTestManualTimestamp||Date.now(),elapsedTime=1e3*parseFloat(event.elapsedTime.toFixed(3));event.animationName==this._name&&Math.max(timestamp-this._startTime,0)>=this._delay&&elapsedTime>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),addRemoveAnimationEvent(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(element,name){const tokens=getAnimationStyle(element,"").split(","),index=findMatchingTokenIndex(tokens,name);if(index>=0){tokens.splice(index,1);const newValue=tokens.join(",");setAnimationStyle(element,"",newValue)}}(this._element,this._name))}}function playPauseAnimation(element,name,status){setAnimationStyle(element,"PlayState",status,findIndexForAnimation(element,name))}function findIndexForAnimation(element,value){const anim=getAnimationStyle(element,"");if(anim.indexOf(",")>0){return findMatchingTokenIndex(anim.split(","),value)}return findMatchingTokenIndex([anim],value)}function findMatchingTokenIndex(tokens,searchToken){for(let i=0;i<tokens.length;i++)if(tokens[i].indexOf(searchToken)>=0)return i;return-1}function addRemoveAnimationEvent(element,fn,doRemove){doRemove?element.removeEventListener("animationend",fn):element.addEventListener("animationend",fn)}function setAnimationStyle(element,name,value,index){const prop="animation"+name;if(null!=index){const oldValue=element.style[prop];if(oldValue.length){const tokens=oldValue.split(",");tokens[index]=value,value=tokens.join(",")}}element.style[prop]=value}function getAnimationStyle(element,name){return element.style["animation"+name]}class CssKeyframesPlayer{constructor(element,keyframes,animationName,_duration,_delay,easing,_finalStyles,_specialStyles){this.element=element,this.keyframes=keyframes,this.animationName=animationName,this._duration=_duration,this._delay=_delay,this._finalStyles=_finalStyles,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=easing||"linear",this.totalTime=_duration+_delay,this._buildStyler()}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(value){this._styler.setPosition(value)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ElementAnimationStyleHandler(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}beforeDestroy(){this.init();const styles={};if(this.hasStarted()){const finished=this._state>=3;Object.keys(this._finalStyles).forEach(prop=>{"offset"!=prop&&(styles[prop]=finished?this._finalStyles[prop]:computeStyle(this.element,prop))})}this.currentSnapshot=styles}}class browser_DirectStylePlayer extends NoopAnimationPlayer{constructor(element,styles){super(),this.element=element,this._startingStyles={},this.__initialized=!1,this._styles=hypenatePropsObject(styles)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(prop=>{this._startingStyles[prop]=this.element.style[prop]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(prop=>this.element.style.setProperty(prop,this._styles[prop])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(prop=>{const value=this._startingStyles[prop];value?this.element.style.setProperty(prop,value):this.element.style.removeProperty(prop)}),this._startingStyles=null,super.destroy())}}class CssKeyframesDriver{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}buildKeyframeElement(element,name,keyframes){keyframes=keyframes.map(kf=>hypenatePropsObject(kf));let keyframeStr=`@keyframes ${name} {\n`,tab="";keyframes.forEach(kf=>{tab=" ";const offset=parseFloat(kf.offset);keyframeStr+=`${tab}${100*offset}% {\n`,tab+=" ",Object.keys(kf).forEach(prop=>{const value=kf[prop];switch(prop){case"offset":return;case"easing":return void(value&&(keyframeStr+=`${tab}animation-timing-function: ${value};\n`));default:return void(keyframeStr+=`${tab}${prop}: ${value};\n`)}}),keyframeStr+=`${tab}}\n`}),keyframeStr+="}\n";const kfElm=document.createElement("style");return kfElm.innerHTML=keyframeStr,kfElm}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){scrubberAccessRequested&&this._notifyFaultyScrubber();const previousCssKeyframePlayers=previousPlayers.filter(player=>player instanceof CssKeyframesPlayer),previousStyles={};allowPreviousPlayerStylesMerge(duration,delay)&&previousCssKeyframePlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const finalStyles=function(keyframes){let flatKeyframes={};if(keyframes){(Array.isArray(keyframes)?keyframes:[keyframes]).forEach(kf=>{Object.keys(kf).forEach(prop=>{"offset"!=prop&&"easing"!=prop&&(flatKeyframes[prop]=kf[prop])})})}return flatKeyframes}(keyframes=balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles));if(0==duration)return new browser_DirectStylePlayer(element,finalStyles);const animationName=`gen_css_kf_${this._count++}`,kfElm=this.buildKeyframeElement(element,animationName,keyframes);document.querySelector("head").appendChild(kfElm);const specialStyles=packageNonAnimatableStyles(element,keyframes),player=new CssKeyframesPlayer(element,keyframes,animationName,duration,delay,easing,finalStyles,specialStyles);return player.onDestroy(()=>{var node;(node=kfElm).parentNode.removeChild(node)}),player}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class WebAnimationsPlayer{constructor(element,keyframes,options,_specialStyles){this.element=element,this.keyframes=keyframes,this.options=options,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=options.duration,this._delay=options.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const keyframes=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,keyframes,this.options),this._finalKeyframe=keyframes.length?keyframes[keyframes.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(element,keyframes,options){return element.animate(keyframes,options)}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(fn=>fn()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}setPosition(p){this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const styles={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(prop=>{"offset"!=prop&&(styles[prop]=this._finished?this._finalKeyframe[prop]:computeStyle(this.element,prop))}),this.currentSnapshot=styles}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class WebAnimationsDriver{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(getElementAnimateFn().toString()),this._cssKeyframesDriver=new CssKeyframesDriver}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}overrideWebAnimationsSupport(supported){this._isNativeImpl=supported}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){if(!scrubberAccessRequested&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(element,keyframes,duration,delay,easing,previousPlayers);const playerOptions={duration:duration,delay:delay,fill:0==delay?"both":"forwards"};easing&&(playerOptions.easing=easing);const previousStyles={},previousWebAnimationPlayers=previousPlayers.filter(player=>player instanceof WebAnimationsPlayer);allowPreviousPlayerStylesMerge(duration,delay)&&previousWebAnimationPlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const specialStyles=packageNonAnimatableStyles(element,keyframes=balancePreviousStylesIntoKeyframes(element,keyframes=keyframes.map(styles=>copyStyles(styles,!1)),previousStyles));return new WebAnimationsPlayer(element,keyframes,playerOptions,specialStyles)}}function getElementAnimateFn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class animations_BrowserAnimationBuilder extends AnimationBuilder{constructor(rootRenderer,doc){super(),this._nextAnimationId=0;const typeData={id:"0",encapsulation:ViewEncapsulation$1.None,styles:[],data:{animation:[]}};this._renderer=rootRenderer.createRenderer(doc.body,typeData)}build(animation){const id=this._nextAnimationId.toString();this._nextAnimationId++;const entry=Array.isArray(animation)?sequence(animation):animation;return issueAnimationCommand(this._renderer,null,id,"register",[entry]),new animations_BrowserAnimationFactory(id,this._renderer)}}animations_BrowserAnimationBuilder.ɵfac=function(t){return new(t||animations_BrowserAnimationBuilder)(ɵɵinject(RendererFactory2),ɵɵinject(common_DOCUMENT))},animations_BrowserAnimationBuilder.ɵprov=ɵɵdefineInjectable({token:animations_BrowserAnimationBuilder,factory:animations_BrowserAnimationBuilder.ɵfac}),animations_BrowserAnimationBuilder.ctorParameters=()=>[{type:RendererFactory2},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];class animations_BrowserAnimationFactory extends class{}{constructor(_id,_renderer){super(),this._id=_id,this._renderer=_renderer}create(element,options){return new RendererAnimationPlayer(this._id,element,options||{},this._renderer)}}class RendererAnimationPlayer{constructor(id,element,options,_renderer){this.id=id,this.element=element,this._renderer=_renderer,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",options)}_listen(eventName,callback){return this._renderer.listen(this.element,`@@${this.id}:${eventName}`,callback)}_command(command,...args){return issueAnimationCommand(this._renderer,this.element,this.id,command,args)}onDone(fn){this._listen("done",fn)}onStart(fn){this._listen("start",fn)}onDestroy(fn){this._listen("destroy",fn)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(p){this._command("setPosition",p)}getPosition(){return 0}}function issueAnimationCommand(renderer,element,id,command,args){return renderer.setProperty(element,`@@${id}:${command}`,args)}class AnimationRendererFactory{constructor(delegate,engine,_zone){this.delegate=delegate,this.engine=engine,this._zone=_zone,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),engine.onRemovalComplete=(element,delegate)=>{delegate&&delegate.parentNode(element)&&delegate.removeChild(element.parentNode,element)}}createRenderer(hostElement,type){const delegate=this.delegate.createRenderer(hostElement,type);if(!(hostElement&&type&&type.data&&type.data.animation)){let renderer=this._rendererCache.get(delegate);return renderer||(renderer=new BaseAnimationRenderer("",delegate,this.engine),this._rendererCache.set(delegate,renderer)),renderer}const componentId=type.id,namespaceId=type.id+"-"+this._currentId;this._currentId++,this.engine.register(namespaceId,hostElement);const registerTrigger=trigger=>{Array.isArray(trigger)?trigger.forEach(registerTrigger):this.engine.registerTrigger(componentId,namespaceId,hostElement,trigger.name,trigger)};return type.data.animation.forEach(registerTrigger),new AnimationRenderer(this,namespaceId,delegate,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(count,fn,data){count>=0&&count<this._microtaskId?this._zone.run(()=>fn(data)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(tuple=>{const[fn,data]=tuple;fn(data)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([fn,data]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}AnimationRendererFactory.ɵfac=function(t){return new(t||AnimationRendererFactory)(ɵɵinject(RendererFactory2),ɵɵinject(AnimationEngine),ɵɵinject(NgZone))},AnimationRendererFactory.ɵprov=ɵɵdefineInjectable({token:AnimationRendererFactory,factory:AnimationRendererFactory.ɵfac}),AnimationRendererFactory.ctorParameters=()=>[{type:RendererFactory2},{type:AnimationEngine},{type:NgZone}];class BaseAnimationRenderer{constructor(namespaceId,delegate,engine){this.namespaceId=namespaceId,this.delegate=delegate,this.engine=engine,this.destroyNode=this.delegate.destroyNode?n=>delegate.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(name,namespace){return this.delegate.createElement(name,namespace)}createComment(value){return this.delegate.createComment(value)}createText(value){return this.delegate.createText(value)}appendChild(parent,newChild){this.delegate.appendChild(parent,newChild),this.engine.onInsert(this.namespaceId,newChild,parent,!1)}insertBefore(parent,newChild,refChild){this.delegate.insertBefore(parent,newChild,refChild),this.engine.onInsert(this.namespaceId,newChild,parent,!0)}removeChild(parent,oldChild,isHostElement){this.engine.onRemove(this.namespaceId,oldChild,this.delegate,isHostElement)}selectRootElement(selectorOrNode,preserveContent){return this.delegate.selectRootElement(selectorOrNode,preserveContent)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setAttribute(el,name,value,namespace){this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){this.delegate.addClass(el,name)}removeClass(el,name){this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){"@"==name.charAt(0)&&"@.disabled"==name?this.disableAnimations(el,!!value):this.delegate.setProperty(el,name,value)}setValue(node,value){this.delegate.setValue(node,value)}listen(target,eventName,callback){return this.delegate.listen(target,eventName,callback)}disableAnimations(element,value){this.engine.disableAnimations(element,value)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(factory,namespaceId,delegate,engine){super(namespaceId,delegate,engine),this.factory=factory,this.namespaceId=namespaceId}setProperty(el,name,value){"@"==name.charAt(0)?"."==name.charAt(1)&&"@.disabled"==name?(value=void 0===value||!!value,this.disableAnimations(el,value)):this.engine.process(this.namespaceId,el,name.substr(1),value):this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("@"==eventName.charAt(0)){const element=function(target){switch(target){case"body":return document.body;case"document":return document;case"window":return window;default:return target}}(target);let name=eventName.substr(1),phase="";return"@"!=name.charAt(0)&&([name,phase]=function(triggerName){const dotIndex=triggerName.indexOf("."),trigger=triggerName.substring(0,dotIndex),phase=triggerName.substr(dotIndex+1);return[trigger,phase]}(name)),this.engine.listen(this.namespaceId,element,name,phase,event=>{const countId=event._data||-1;this.factory.scheduleListenerCallback(countId,callback,event)})}return this.delegate.listen(target,eventName,callback)}}class animations_InjectableAnimationEngine extends AnimationEngine{constructor(doc,driver,normalizer){super(doc.body,driver,normalizer)}}animations_InjectableAnimationEngine.ɵfac=function(t){return new(t||animations_InjectableAnimationEngine)(ɵɵinject(common_DOCUMENT),ɵɵinject(AnimationDriver),ɵɵinject(AnimationStyleNormalizer))},animations_InjectableAnimationEngine.ɵprov=ɵɵdefineInjectable({token:animations_InjectableAnimationEngine,factory:animations_InjectableAnimationEngine.ɵfac}),animations_InjectableAnimationEngine.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:AnimationDriver},{type:AnimationStyleNormalizer}];const ANIMATION_MODULE_TYPE=new InjectionToken("AnimationModuleType"),SHARED_ANIMATION_PROVIDERS=[{provide:AnimationBuilder,useClass:animations_BrowserAnimationBuilder},{provide:AnimationStyleNormalizer,useFactory:function(){return new WebAnimationsStyleNormalizer}},{provide:AnimationEngine,useClass:animations_InjectableAnimationEngine},{provide:RendererFactory2,useFactory:function(renderer,engine,zone){return new AnimationRendererFactory(renderer,engine,zone)},deps:[platform_browser_DomRendererFactory2,AnimationEngine,NgZone]}],BROWSER_ANIMATIONS_PROVIDERS=[{provide:AnimationDriver,useFactory:function(){return"function"==typeof getElementAnimateFn()?new WebAnimationsDriver:new CssKeyframesDriver}},{provide:ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...SHARED_ANIMATION_PROVIDERS],BROWSER_NOOP_ANIMATIONS_PROVIDERS=[{provide:AnimationDriver,useClass:browser_NoopAnimationDriver},{provide:ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...SHARED_ANIMATION_PROVIDERS];class BrowserAnimationsModule{}BrowserAnimationsModule.ɵmod=ɵɵdefineNgModule({type:BrowserAnimationsModule}),BrowserAnimationsModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||BrowserAnimationsModule)},providers:BROWSER_ANIMATIONS_PROVIDERS,imports:[platform_browser_BrowserModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(BrowserAnimationsModule,{exports:function(){return[platform_browser_BrowserModule]}});class NoopAnimationsModule{}function of(...args){let scheduler=args[args.length-1];return isScheduler(scheduler)?(args.pop(),scheduleArray(args,scheduler)):fromArray(args)}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}function filter_filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}NoopAnimationsModule.ɵmod=ɵɵdefineNgModule({type:NoopAnimationsModule}),NoopAnimationsModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||NoopAnimationsModule)},providers:BROWSER_NOOP_ANIMATIONS_PROVIDERS,imports:[platform_browser_BrowserModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(NoopAnimationsModule,{exports:function(){return[platform_browser_BrowserModule]}});class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(headers){this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit="string"==typeof headers?()=>{this.headers=new Map,headers.split("\n").forEach(line=>{const index=line.indexOf(":");if(index>0){const name=line.slice(0,index),key=name.toLowerCase(),value=line.slice(index+1).trim();this.maybeSetNormalizedName(name,key),this.headers.has(key)?this.headers.get(key).push(value):this.headers.set(key,[value])}})}:()=>{this.headers=new Map,Object.keys(headers).forEach(name=>{let values=headers[name];const key=name.toLowerCase();"string"==typeof values&&(values=[values]),values.length>0&&(this.headers.set(key,values),this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}has(name){return this.init(),this.headers.has(name.toLowerCase())}get(name){this.init();const values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(name){return this.init(),this.headers.get(name.toLowerCase())||null}append(name,value){return this.clone({name:name,value:value,op:"a"})}set(name,value){return this.clone({name:name,value:value,op:"s"})}delete(name,value){return this.clone({name:name,value:value,op:"d"})}maybeSetNormalizedName(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(update=>this.applyUpdate(update)),this.lazyUpdate=null))}copyFrom(other){other.init(),Array.from(other.headers.keys()).forEach(key=>{this.headers.set(key,other.headers.get(key)),this.normalizedNames.set(key,other.normalizedNames.get(key))})}clone(update){const clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone}applyUpdate(update){const key=update.name.toLowerCase();switch(update.op){case"a":case"s":let value=update.value;if("string"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);const base=("a"===update.op?this.headers.get(key):void 0)||[];base.push(...value),this.headers.set(key,base);break;case"d":const toDelete=update.value;if(toDelete){let existing=this.headers.get(key);if(!existing)return;existing=existing.filter(value=>-1===toDelete.indexOf(value)),0===existing.length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}}forEach(fn){this.init(),Array.from(this.normalizedNames.keys()).forEach(key=>fn(this.normalizedNames.get(key),this.headers.get(key)))}}class HttpUrlEncodingCodec{encodeKey(key){return standardEncoding(key)}encodeValue(value){return standardEncoding(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class HttpParams{constructor(options={}){if(this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(rawParams,codec){const map=new Map;if(rawParams.length>0){rawParams.split("&").forEach(param=>{const eqIdx=param.indexOf("="),[key,val]=-1==eqIdx?[codec.decodeKey(param),""]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],list=map.get(key)||[];list.push(val),map.set(key,list)})}return map}(options.fromString,this.encoder)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(key=>{const value=options.fromObject[key];this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}has(param){return this.init(),this.map.has(param)}get(param){this.init();const res=this.map.get(param);return res?res[0]:null}getAll(param){return this.init(),this.map.get(param)||null}keys(){return this.init(),Array.from(this.map.keys())}append(param,value){return this.clone({param:param,value:value,op:"a"})}set(param,value){return this.clone({param:param,value:value,op:"s"})}delete(param,value){return this.clone({param:param,value:value,op:"d"})}toString(){return this.init(),this.keys().map(key=>{const eKey=this.encoder.encodeKey(key);return(this.map.get(key).map(value=>eKey+"="+this.encoder.encodeValue(value)).join("&"))}).filter(param=>""!==param).join("&")}clone(update){const clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat([update]),clone}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(key=>this.map.set(key,this.cloneFrom.map.get(key))),this.updates.forEach(update=>{switch(update.op){case"a":case"s":const base=("a"===update.op?this.map.get(update.param):void 0)||[];base.push(update.value),this.map.set(update.param,base);break;case"d":if(void 0===update.value){this.map.delete(update.param);break}{let base=this.map.get(update.param)||[];const idx=base.indexOf(update.value);-1!==idx&&base.splice(idx,1),base.length>0?this.map.set(update.param,base):this.map.delete(update.param)}}}),this.cloneFrom=this.updates=null)}}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function http_isBlob(value){return"undefined"!=typeof Blob&&value instanceof Blob}function isFormData(value){return"undefined"!=typeof FormData&&value instanceof FormData}class HttpRequest{constructor(method,url,third,fourth){let options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=method.toUpperCase(),function(method){switch(method){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){const params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{const qIdx=url.indexOf("?"),sep=-1===qIdx?"?":qIdx<url.length-1?"&":"";this.urlWithParams=url+sep+params}}else this.params=new HttpParams,this.urlWithParams=url}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||http_isBlob(this.body)||isFormData(this.body)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:isFormData(this.body)?null:http_isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(update={}){const method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress;let headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce((headers,name)=>headers.set(name,update.setHeaders[name]),headers)),update.setParams&&(params=Object.keys(update.setParams).reduce((params,param)=>params.set(param,update.setParams[param]),params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})}}const HttpEventType={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};HttpEventType[HttpEventType.Sent]="Sent",HttpEventType[HttpEventType.UploadProgress]="UploadProgress",HttpEventType[HttpEventType.ResponseHeader]="ResponseHeader",HttpEventType[HttpEventType.DownloadProgress]="DownloadProgress",HttpEventType[HttpEventType.Response]="Response",HttpEventType[HttpEventType.User]="User";class HttpResponseBase{constructor(init,defaultStatus=200,defaultStatusText="OK"){this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.ResponseHeader}clone(update={}){return new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.Response,this.body=void 0!==init.body?init.body:null}clone(update={}){return new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(init){super(init,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${init.url||"(unknown url)"}`:this.message=`Http failure response for ${init.url||"(unknown url)"}: ${init.status} ${init.statusText}`,this.error=init.error||null}}function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}class http_HttpClient{constructor(handler){this.handler=handler}request(first,url,options={}){let req;if(first instanceof HttpRequest)req=first;else{let headers=void 0;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers);let params=void 0;options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||"json",withCredentials:options.withCredentials})}const events$=of(req).pipe(concatMap(req=>this.handler.handle(req)));if(first instanceof HttpRequest||"events"===options.observe)return events$;const res$=events$.pipe(filter_filter(event=>event instanceof HttpResponse));switch(options.observe||"body"){case"body":switch(req.responseType){case"arraybuffer":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return res.body}));case"blob":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof Blob))throw new Error("Response is not a Blob.");return res.body}));case"text":return res$.pipe(map_map(res=>{if(null!==res.body&&"string"!=typeof res.body)throw new Error("Response is not a string.");return res.body}));case"json":default:return res$.pipe(map_map(res=>res.body))}case"response":return res$;default:throw new Error(`Unreachable: unhandled observe type ${options.observe}}`)}}delete(url,options={}){return this.request("DELETE",url,options)}get(url,options={}){return this.request("GET",url,options)}head(url,options={}){return this.request("HEAD",url,options)}jsonp(url,callbackParam){return this.request("JSONP",url,{params:(new HttpParams).append(callbackParam,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(url,options={}){return this.request("OPTIONS",url,options)}patch(url,body,options={}){return this.request("PATCH",url,addBody(options,body))}post(url,body,options={}){return this.request("POST",url,addBody(options,body))}put(url,body,options={}){return this.request("PUT",url,addBody(options,body))}}http_HttpClient.ɵfac=function(t){return new(t||http_HttpClient)(ɵɵinject(HttpHandler))},http_HttpClient.ɵprov=ɵɵdefineInjectable({token:http_HttpClient,factory:http_HttpClient.ɵfac}),http_HttpClient.ctorParameters=()=>[{type:HttpHandler}];class HttpInterceptorHandler{constructor(next,interceptor){this.next=next,this.interceptor=interceptor}handle(req){return this.interceptor.intercept(req,this.next)}}const HTTP_INTERCEPTORS=new InjectionToken("HTTP_INTERCEPTORS");class NoopInterceptor{intercept(req,next){return next.handle(req)}}NoopInterceptor.ɵfac=function(t){return new(t||NoopInterceptor)},NoopInterceptor.ɵprov=ɵɵdefineInjectable({token:NoopInterceptor,factory:NoopInterceptor.ɵfac});let nextRequestId=0;class JsonpCallbackContext{}class http_JsonpClientBackend{constructor(callbackMap,document){this.callbackMap=callbackMap,this.document=document}nextCallback(){return`ng_jsonp_callback_${nextRequestId++}`}handle(req){if("JSONP"!==req.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==req.responseType)throw new Error("JSONP requests must use Json response type.");return new Observable_Observable(observer=>{const callback=this.nextCallback(),url=req.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${callback}$1`),node=this.document.createElement("script");node.src=url;let body=null,finished=!1,cancelled=!1;this.callbackMap[callback]=data=>{delete this.callbackMap[callback],cancelled||(body=data,finished=!0)};const cleanup=()=>{node.parentNode&&node.parentNode.removeChild(node),delete this.callbackMap[callback]},onLoad=event=>{cancelled||(cleanup(),finished?(observer.next(new HttpResponse({body:body,status:200,statusText:"OK",url:url})),observer.complete()):observer.error(new HttpErrorResponse({url:url,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},onError=error=>{cancelled||(cleanup(),observer.error(new HttpErrorResponse({error:error,status:0,statusText:"JSONP Error",url:url})))};return node.addEventListener("load",onLoad),node.addEventListener("error",onError),this.document.body.appendChild(node),observer.next({type:HttpEventType.Sent}),()=>{cancelled=!0,node.removeEventListener("load",onLoad),node.removeEventListener("error",onError),cleanup()}})}}http_JsonpClientBackend.ɵfac=function(t){return new(t||http_JsonpClientBackend)(ɵɵinject(JsonpCallbackContext),ɵɵinject(common_DOCUMENT))},http_JsonpClientBackend.ɵprov=ɵɵdefineInjectable({token:http_JsonpClientBackend,factory:http_JsonpClientBackend.ɵfac}),http_JsonpClientBackend.ctorParameters=()=>[{type:JsonpCallbackContext},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];class JsonpInterceptor{constructor(jsonp){this.jsonp=jsonp}intercept(req,next){return"JSONP"===req.method?this.jsonp.handle(req):next.handle(req)}}JsonpInterceptor.ɵfac=function(t){return new(t||JsonpInterceptor)(ɵɵinject(http_JsonpClientBackend))},JsonpInterceptor.ɵprov=ɵɵdefineInjectable({token:JsonpInterceptor,factory:JsonpInterceptor.ɵfac}),JsonpInterceptor.ctorParameters=()=>[{type:http_JsonpClientBackend}];const XSSI_PREFIX=/^\)\]\}',?\n/;class XhrFactory{}class BrowserXhr{constructor(){}build(){return new XMLHttpRequest}}BrowserXhr.ɵfac=function(t){return new(t||BrowserXhr)},BrowserXhr.ɵprov=ɵɵdefineInjectable({token:BrowserXhr,factory:BrowserXhr.ɵfac}),BrowserXhr.ctorParameters=()=>[];class http_HttpXhrBackend{constructor(xhrFactory){this.xhrFactory=xhrFactory}handle(req){if("JSONP"===req.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Observable_Observable(observer=>{const xhr=this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach((name,values)=>xhr.setRequestHeader(name,values.join(","))),req.headers.has("Accept")||xhr.setRequestHeader("Accept","application/json, text/plain, */*"),!req.headers.has("Content-Type")){const detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader("Content-Type",detectedType)}if(req.responseType){const responseType=req.responseType.toLowerCase();xhr.responseType="json"!==responseType?responseType:"text"}const reqBody=req.serializeBody();let headerResponse=null;const partialFromXhr=()=>{if(null!==headerResponse)return headerResponse;const status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||"OK",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function(xhr){return"responseURL"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url}),headerResponse},onLoad=()=>{let{headers:headers,status:status,statusText:statusText,url:url}=partialFromXhr(),body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);let ok=status>=200&&status<300;if("json"===req.responseType&&"string"==typeof body){const originalBody=body;body=body.replace(XSSI_PREFIX,"");try{body=""!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=error=>{const{url:url}=partialFromXhr(),res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||"Unknown Error",url:url||void 0});observer.error(res)};let sentHeaders=!1;const onDownProgress=event=>{sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);let progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),"text"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=event=>{let progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener("load",onLoad),xhr.addEventListener("error",onError),req.reportProgress&&(xhr.addEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener("progress",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),()=>{xhr.removeEventListener("error",onError),xhr.removeEventListener("load",onLoad),req.reportProgress&&(xhr.removeEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener("progress",onUpProgress)),xhr.abort()}})}}http_HttpXhrBackend.ɵfac=function(t){return new(t||http_HttpXhrBackend)(ɵɵinject(XhrFactory))},http_HttpXhrBackend.ɵprov=ɵɵdefineInjectable({token:http_HttpXhrBackend,factory:http_HttpXhrBackend.ɵfac}),http_HttpXhrBackend.ctorParameters=()=>[{type:XhrFactory}];const XSRF_COOKIE_NAME=new InjectionToken("XSRF_COOKIE_NAME"),XSRF_HEADER_NAME=new InjectionToken("XSRF_HEADER_NAME");class HttpXsrfTokenExtractor{}class http_HttpXsrfCookieExtractor{constructor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const cookieString=this.doc.cookie||"";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=parseCookieValue(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken}}http_HttpXsrfCookieExtractor.ɵfac=function(t){return new(t||http_HttpXsrfCookieExtractor)(ɵɵinject(common_DOCUMENT),ɵɵinject(PLATFORM_ID),ɵɵinject(XSRF_COOKIE_NAME))},http_HttpXsrfCookieExtractor.ɵprov=ɵɵdefineInjectable({token:http_HttpXsrfCookieExtractor,factory:http_HttpXsrfCookieExtractor.ɵfac}),http_HttpXsrfCookieExtractor.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:String,decorators:[{type:Inject,args:[PLATFORM_ID]}]},{type:String,decorators:[{type:Inject,args:[XSRF_COOKIE_NAME]}]}];class HttpXsrfInterceptor{constructor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}intercept(req,next){const lcUrl=req.url.toLowerCase();if("GET"===req.method||"HEAD"===req.method||lcUrl.startsWith("http://")||lcUrl.startsWith("https://"))return next.handle(req);const token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)}}HttpXsrfInterceptor.ɵfac=function(t){return new(t||HttpXsrfInterceptor)(ɵɵinject(HttpXsrfTokenExtractor),ɵɵinject(XSRF_HEADER_NAME))},HttpXsrfInterceptor.ɵprov=ɵɵdefineInjectable({token:HttpXsrfInterceptor,factory:HttpXsrfInterceptor.ɵfac}),HttpXsrfInterceptor.ctorParameters=()=>[{type:HttpXsrfTokenExtractor},{type:String,decorators:[{type:Inject,args:[XSRF_HEADER_NAME]}]}];class HttpInterceptingHandler{constructor(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}handle(req){if(null===this.chain){const interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight((next,interceptor)=>new HttpInterceptorHandler(next,interceptor),this.backend)}return this.chain.handle(req)}}function jsonpCallbackContext(){return"object"==typeof window?window:{}}HttpInterceptingHandler.ɵfac=function(t){return new(t||HttpInterceptingHandler)(ɵɵinject(HttpBackend),ɵɵinject(Injector))},HttpInterceptingHandler.ɵprov=ɵɵdefineInjectable({token:HttpInterceptingHandler,factory:HttpInterceptingHandler.ɵfac}),HttpInterceptingHandler.ctorParameters=()=>[{type:HttpBackend},{type:Injector}];class HttpClientXsrfModule{static disable(){return{ngModule:HttpClientXsrfModule,providers:[{provide:HttpXsrfInterceptor,useClass:NoopInterceptor}]}}static withOptions(options={}){return{ngModule:HttpClientXsrfModule,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}}}HttpClientXsrfModule.ɵmod=ɵɵdefineNgModule({type:HttpClientXsrfModule}),HttpClientXsrfModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||HttpClientXsrfModule)},providers:[HttpXsrfInterceptor,{provide:HTTP_INTERCEPTORS,useExisting:HttpXsrfInterceptor,multi:!0},{provide:HttpXsrfTokenExtractor,useClass:http_HttpXsrfCookieExtractor},{provide:XSRF_COOKIE_NAME,useValue:"XSRF-TOKEN"},{provide:XSRF_HEADER_NAME,useValue:"X-XSRF-TOKEN"}]});class HttpClientModule{}HttpClientModule.ɵmod=ɵɵdefineNgModule({type:HttpClientModule}),HttpClientModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||HttpClientModule)},providers:[http_HttpClient,{provide:HttpHandler,useClass:HttpInterceptingHandler},http_HttpXhrBackend,{provide:HttpBackend,useExisting:http_HttpXhrBackend},BrowserXhr,{provide:XhrFactory,useExisting:BrowserXhr}],imports:[[HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(HttpClientModule,{imports:[HttpClientXsrfModule]});class HttpClientJsonpModule{}function isObservable_isObservable(obj){return!!obj&&(obj instanceof Observable_Observable||"function"==typeof obj.lift&&"function"==typeof obj.subscribe)}function forkJoin(...sources){if(1===sources.length){const first=sources[0];if(isArray(first))return forkJoinInternal(first,null);if(isObject(first)&&Object.getPrototypeOf(first)===Object.prototype){const keys=Object.keys(first);return forkJoinInternal(keys.map(key=>first[key]),keys)}}if("function"==typeof sources[sources.length-1]){const resultSelector=sources.pop();return forkJoinInternal(sources=1===sources.length&&isArray(sources[0])?sources[0]:sources,null).pipe(map_map(args=>resultSelector(...args)))}return forkJoinInternal(sources,null)}function forkJoinInternal(sources,keys){return new Observable_Observable(subscriber=>{const len=sources.length;if(0===len)return void subscriber.complete();const values=new Array(len);let completed=0,emitted=0;for(let i=0;i<len;i++){const source=from_from(sources[i]);let hasValue=!1;subscriber.add(source.subscribe({next:value=>{hasValue||(hasValue=!0,emitted++),values[i]=value},error:err=>subscriber.error(err),complete:()=>{completed++,completed!==len&&hasValue||(emitted===len&&subscriber.next(keys?keys.reduce((result,key,i)=>(result[key]=values[i],result),{}):values),subscriber.complete())}}))}})}function concatAll(){return mergeAll(1)}function concat(...observables){return concatAll()(of(...observables))}HttpClientJsonpModule.ɵmod=ɵɵdefineNgModule({type:HttpClientJsonpModule}),HttpClientJsonpModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||HttpClientJsonpModule)},providers:[http_JsonpClientBackend,{provide:JsonpCallbackContext,useFactory:jsonpCallbackContext},{provide:HTTP_INTERCEPTORS,useClass:JsonpInterceptor,multi:!0}]});const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from_from(input):empty_empty()).subscribe(subscriber)})}const ArgumentOutOfRangeError=(()=>{function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl})();function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}class Action_Action extends Subscription_Subscription{constructor(scheduler,work){super()}schedule(state,delay=0){return this}}class AsyncAction_AsyncAction extends Action_Action{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work,this.pending=!1}schedule(state,delay=0){if(this.closed)return this;this.state=state;const id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this}requestAsyncId(scheduler,id,delay=0){return setInterval(scheduler.flush.bind(scheduler,this),delay)}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&this.delay===delay&&!1===this.pending)return id;clearInterval(id)}execute(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(state,delay){let errored=!1,errorValue=void 0;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue}_unsubscribe(){const id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null}}class Scheduler{constructor(SchedulerAction,now=Scheduler.now){this.SchedulerAction=SchedulerAction,this.now=now}schedule(work,delay=0,state){return new this.SchedulerAction(this,work).schedule(state,delay)}}Scheduler.now=()=>Date.now();class AsyncScheduler_AsyncScheduler extends Scheduler{constructor(SchedulerAction,now=Scheduler.now){super(SchedulerAction,()=>AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.now():now()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(work,delay=0,state){return AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.schedule(work,delay,state):super.schedule(work,delay,state)}flush(action){const{actions:actions}=this;if(this.active)return void actions.push(action);let error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}}const queue=new class extends AsyncScheduler_AsyncScheduler{}(class extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}schedule(state,delay=0){return delay>0?super.schedule(state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)}execute(state,delay){return delay>0||this.closed?super.execute(state,delay):this._execute(state,delay)}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0||null===delay&&this.delay>0?super.requestAsyncId(scheduler,id,delay):scheduler.flush(this)}});function throwError_throwError(error,scheduler){return new Observable_Observable(scheduler?subscriber=>scheduler.schedule(throwError_dispatch,0,{error:error,subscriber:subscriber}):subscriber=>subscriber.error(error))}function throwError_dispatch({error:error,subscriber:subscriber}){subscriber.error(error)}var NotificationKind;!function(NotificationKind){NotificationKind.NEXT="N",NotificationKind.ERROR="E",NotificationKind.COMPLETE="C"}(NotificationKind||(NotificationKind={}));class Notification_Notification{constructor(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}observe(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}}do(next,error,complete){switch(this.kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}}accept(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)}toObservable(){switch(this.kind){case"N":return of(this.value);case"E":return throwError_throwError(this.error);case"C":return empty_empty()}throw new Error("unexpected notification kind value")}static createNext(value){return void 0!==value?new Notification_Notification("N",value):Notification_Notification.undefinedValueNotification}static createError(err){return new Notification_Notification("E",void 0,err)}static createComplete(){return Notification_Notification.completeNotification}}Notification_Notification.completeNotification=new Notification_Notification("C"),Notification_Notification.undefinedValueNotification=new Notification_Notification("N",void 0);class observeOn_ObserveOnSubscriber extends Subscriber_Subscriber{constructor(destination,scheduler,delay=0){super(destination),this.scheduler=scheduler,this.delay=delay}static dispatch(arg){const{notification:notification,destination:destination}=arg;notification.observe(destination),this.unsubscribe()}scheduleMessage(notification){this.destination.add(this.scheduler.schedule(observeOn_ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))}_next(value){this.scheduleMessage(Notification_Notification.createNext(value))}_error(err){this.scheduleMessage(Notification_Notification.createError(err)),this.unsubscribe()}_complete(){this.scheduleMessage(Notification_Notification.createComplete()),this.unsubscribe()}}class ObserveOnMessage{constructor(notification,destination){this.notification=notification,this.destination=destination}}class ReplaySubject_ReplaySubject extends Subject_Subject{constructor(bufferSize=Number.POSITIVE_INFINITY,windowTime=Number.POSITIVE_INFINITY,scheduler){super(),this.scheduler=scheduler,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime,windowTime===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(value){const _events=this._events;_events.push(value),_events.length>this._bufferSize&&_events.shift(),super.next(value)}nextTimeWindow(value){this._events.push(new ReplayEvent(this._getNow(),value)),this._trimBufferThenGetEvents(),super.next(value)}_subscribe(subscriber){const _infiniteTimeWindow=this._infiniteTimeWindow,_events=_infiniteTimeWindow?this._events:this._trimBufferThenGetEvents(),scheduler=this.scheduler,len=_events.length;let subscription;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?subscription=Subscription_Subscription.EMPTY:(this.observers.push(subscriber),subscription=new SubjectSubscription_SubjectSubscription(this,subscriber)),scheduler&&subscriber.add(subscriber=new observeOn_ObserveOnSubscriber(subscriber,scheduler)),_infiniteTimeWindow)for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i]);else for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription}_getNow(){return(this.scheduler||queue).now()}_trimBufferThenGetEvents(){const now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length;let spliceCount=0;for(;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events}}class ReplayEvent{constructor(time,value){this.time=time,this.value=value}}function shareReplay(configOrBufferSize,windowTime,scheduler){let config;return config=configOrBufferSize&&"object"==typeof configOrBufferSize?configOrBufferSize:{bufferSize:configOrBufferSize,windowTime:windowTime,refCount:!1,scheduler:scheduler},source=>source.lift(function({bufferSize:bufferSize=Number.POSITIVE_INFINITY,windowTime:windowTime=Number.POSITIVE_INFINITY,refCount:useRefCount,scheduler:scheduler}){let subject,subscription,refCount=0,hasError=!1,isComplete=!1;return function(source){refCount++,subject&&!hasError||(hasError=!1,subject=new ReplaySubject_ReplaySubject(bufferSize,windowTime,scheduler),subscription=source.subscribe({next(value){subject.next(value)},error(err){hasError=!0,subject.error(err)},complete(){isComplete=!0,subscription=void 0,subject.complete()}}));const innerSub=subject.subscribe(this);this.add(()=>{refCount--,innerSub.unsubscribe(),subscription&&!isComplete&&useRefCount&&0===refCount&&(subscription.unsubscribe(),subscription=void 0,subject=void 0)})}}(config))}function switchMap(project,resultSelector){return"function"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from_from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber),this.innerSubscription!==innerSubscriber&&destination.add(this.innerSubscription)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}class TranslateLoader{}class ngx_translate_core_TranslateFakeLoader extends TranslateLoader{getTranslation(lang){return of({})}}ngx_translate_core_TranslateFakeLoader.ɵfac=function(t){return ɵTranslateFakeLoader_BaseFactory(t||ngx_translate_core_TranslateFakeLoader)},ngx_translate_core_TranslateFakeLoader.ɵprov=ɵɵdefineInjectable({token:ngx_translate_core_TranslateFakeLoader,factory:ngx_translate_core_TranslateFakeLoader.ɵfac});const ɵTranslateFakeLoader_BaseFactory=ɵɵgetInheritedFactory(ngx_translate_core_TranslateFakeLoader);class MissingTranslationHandler{}class FakeMissingTranslationHandler{handle(params){return params.key}}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!=o1&&o2!=o2)return!0;let length,key,keySet,t1=typeof o1;if(t1==typeof o2&&"object"==t1){if(!Array.isArray(o1)){if(Array.isArray(o2))return!1;for(key in keySet=Object.create(null),o1){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&void 0!==o2[key])return!1;return!0}if(!Array.isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function ngx_translate_core_isDefined(value){return null!=value}function ngx_translate_core_isObject(item){return item&&"object"==typeof item&&!Array.isArray(item)}FakeMissingTranslationHandler.ɵfac=function(t){return new(t||FakeMissingTranslationHandler)},FakeMissingTranslationHandler.ɵprov=ɵɵdefineInjectable({token:FakeMissingTranslationHandler,factory:FakeMissingTranslationHandler.ɵfac});class TranslateParser{}class TranslateDefaultParser extends TranslateParser{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(expr,params){let result;return result="string"==typeof expr?this.interpolateString(expr,params):"function"==typeof expr?this.interpolateFunction(expr,params):expr,result}getValue(target,key){let keys="string"==typeof key?key.split("."):[key];key="";do{key+=keys.shift(),!ngx_translate_core_isDefined(target)||!ngx_translate_core_isDefined(target[key])||"object"!=typeof target[key]&&keys.length?keys.length?key+=".":target=void 0:(target=target[key],key="")}while(keys.length);return target}interpolateFunction(fn,params){return fn(params)}interpolateString(expr,params){return params?expr.replace(this.templateMatcher,(substring,b)=>{let r=this.getValue(params,b);return ngx_translate_core_isDefined(r)?r:substring}):expr}}TranslateDefaultParser.ɵfac=function(t){return ɵTranslateDefaultParser_BaseFactory(t||TranslateDefaultParser)},TranslateDefaultParser.ɵprov=ɵɵdefineInjectable({token:TranslateDefaultParser,factory:TranslateDefaultParser.ɵfac});const ɵTranslateDefaultParser_BaseFactory=ɵɵgetInheritedFactory(TranslateDefaultParser);class TranslateCompiler{}class TranslateFakeCompiler extends TranslateCompiler{compile(value,lang){return value}compileTranslations(translations,lang){return translations}}TranslateFakeCompiler.ɵfac=function(t){return ɵTranslateFakeCompiler_BaseFactory(t||TranslateFakeCompiler)},TranslateFakeCompiler.ɵprov=ɵɵdefineInjectable({token:TranslateFakeCompiler,factory:TranslateFakeCompiler.ɵfac});const ɵTranslateFakeCompiler_BaseFactory=ɵɵgetInheritedFactory(TranslateFakeCompiler);class ngx_translate_core_TranslateStore{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new core_EventEmitter,this.onLangChange=new core_EventEmitter,this.onDefaultLangChange=new core_EventEmitter}}const USE_STORE=new InjectionToken("USE_STORE"),USE_DEFAULT_LANG=new InjectionToken("USE_DEFAULT_LANG"),DEFAULT_LANGUAGE=new InjectionToken("DEFAULT_LANGUAGE"),USE_EXTEND=new InjectionToken("USE_EXTEND");class ngx_translate_core_TranslateService{constructor(store,currentLoader,compiler,parser,missingTranslationHandler,useDefaultLang=!0,isolate=!1,extend=!1,defaultLanguage){this.store=store,this.currentLoader=currentLoader,this.compiler=compiler,this.parser=parser,this.missingTranslationHandler=missingTranslationHandler,this.useDefaultLang=useDefaultLang,this.isolate=isolate,this.extend=extend,this.pending=!1,this._onTranslationChange=new core_EventEmitter,this._onLangChange=new core_EventEmitter,this._onDefaultLangChange=new core_EventEmitter,this._langs=[],this._translations={},this._translationRequests={},defaultLanguage&&this.setDefaultLang(defaultLanguage)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(defaultLang){this.isolate?this._defaultLang=defaultLang:this.store.defaultLang=defaultLang}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(currentLang){this.isolate?this._currentLang=currentLang:this.store.currentLang=currentLang}get langs(){return this.isolate?this._langs:this.store.langs}set langs(langs){this.isolate?this._langs=langs:this.store.langs=langs}get translations(){return this.isolate?this._translations:this.store.translations}set translations(translations){this.isolate?this._translations=translations:this.store.translations=translations}setDefaultLang(lang){if(lang===this.defaultLang)return;let pending=this.retrieveTranslations(lang);void 0!==pending?(null==this.defaultLang&&(this.defaultLang=lang),pending.pipe(take(1)).subscribe(res=>{this.changeDefaultLang(lang)})):this.changeDefaultLang(lang)}getDefaultLang(){return this.defaultLang}use(lang){if(lang===this.currentLang)return of(this.translations[lang]);let pending=this.retrieveTranslations(lang);return void 0!==pending?(this.currentLang||(this.currentLang=lang),pending.pipe(take(1)).subscribe(res=>{this.changeLang(lang)}),pending):(this.changeLang(lang),of(this.translations[lang]))}retrieveTranslations(lang){let pending;return(void 0===this.translations[lang]||this.extend)&&(this._translationRequests[lang]=this._translationRequests[lang]||this.getTranslation(lang),pending=this._translationRequests[lang]),pending}getTranslation(lang){this.pending=!0;const loadingTranslations=this.currentLoader.getTranslation(lang).pipe(shareReplay(1),take(1));return this.loadingTranslations=loadingTranslations.pipe(map_map(res=>this.compiler.compileTranslations(res,lang)),shareReplay(1),take(1)),this.loadingTranslations.subscribe({next:res=>{this.translations[lang]=this.extend&&this.translations[lang]?Object.assign(Object.assign({},res),this.translations[lang]):res,this.updateLangs(),this.pending=!1},error:err=>{this.pending=!1}}),loadingTranslations}setTranslation(lang,translations,shouldMerge=!1){translations=this.compiler.compileTranslations(translations,lang),(shouldMerge||this.extend)&&this.translations[lang]?this.translations[lang]=function mergeDeep(target,source){let output=Object.assign({},target);return ngx_translate_core_isObject(target)&&ngx_translate_core_isObject(source)&&Object.keys(source).forEach(key=>{ngx_translate_core_isObject(source[key])&&key in target?output[key]=mergeDeep(target[key],source[key]):Object.assign(output,{[key]:source[key]})}),output}(this.translations[lang],translations):this.translations[lang]=translations,this.updateLangs(),this.onTranslationChange.emit({lang:lang,translations:this.translations[lang]})}getLangs(){return this.langs}addLangs(langs){langs.forEach(lang=>{-1===this.langs.indexOf(lang)&&this.langs.push(lang)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(translations,key,interpolateParams){let res;if(key instanceof Array){let result={},observables=!1;for(let k of key)result[k]=this.getParsedResult(translations,k,interpolateParams),isObservable_isObservable(result[k])&&(observables=!0);if(observables){return forkJoin(key.map(k=>isObservable_isObservable(result[k])?result[k]:of(result[k]))).pipe(map_map(arr=>{let obj={};return arr.forEach((value,index)=>{obj[key[index]]=value}),obj}))}return result}if(translations&&(res=this.parser.interpolate(this.parser.getValue(translations,key),interpolateParams)),void 0===res&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(res=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],key),interpolateParams)),void 0===res){let params={key:key,translateService:this};void 0!==interpolateParams&&(params.interpolateParams=interpolateParams),res=this.missingTranslationHandler.handle(params)}return void 0!==res?res:key}get(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(concatMap(res=>isObservable_isObservable(res=this.getParsedResult(res,key,interpolateParams))?res:of(res)));{let res=this.getParsedResult(this.translations[this.currentLang],key,interpolateParams);return isObservable_isObservable(res)?res:of(res)}}getStreamOnTranslationChange(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');return concat(defer(()=>this.get(key,interpolateParams)),this.onTranslationChange.pipe(switchMap(event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return"function"==typeof res.subscribe?res:of(res)})))}stream(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');return concat(defer(()=>this.get(key,interpolateParams)),this.onLangChange.pipe(switchMap(event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return isObservable_isObservable(res)?res:of(res)})))}instant(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');let res=this.getParsedResult(this.translations[this.currentLang],key,interpolateParams);if(isObservable_isObservable(res)){if(key instanceof Array){let obj={};return key.forEach((value,index)=>{obj[key[index]]=key[index]}),obj}return key}return res}set(key,value,lang=this.currentLang){this.translations[lang][key]=this.compiler.compile(value,lang),this.updateLangs(),this.onTranslationChange.emit({lang:lang,translations:this.translations[lang]})}changeLang(lang){this.currentLang=lang,this.onLangChange.emit({lang:lang,translations:this.translations[lang]}),null==this.defaultLang&&this.changeDefaultLang(lang)}changeDefaultLang(lang){this.defaultLang=lang,this.onDefaultLangChange.emit({lang:lang,translations:this.translations[lang]})}reloadLang(lang){return this.resetLang(lang),this.getTranslation(lang)}resetLang(lang){this._translationRequests[lang]=void 0,this.translations[lang]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let browserLang=window.navigator.languages?window.navigator.languages[0]:null;return browserLang=browserLang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==browserLang?(-1!==browserLang.indexOf("-")&&(browserLang=browserLang.split("-")[0]),-1!==browserLang.indexOf("_")&&(browserLang=browserLang.split("_")[0]),browserLang):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let browserCultureLang=window.navigator.languages?window.navigator.languages[0]:null;return browserCultureLang=browserCultureLang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,browserCultureLang}}ngx_translate_core_TranslateService.ɵfac=function(t){return new(t||ngx_translate_core_TranslateService)(ɵɵinject(ngx_translate_core_TranslateStore),ɵɵinject(TranslateLoader),ɵɵinject(TranslateCompiler),ɵɵinject(TranslateParser),ɵɵinject(MissingTranslationHandler),ɵɵinject(USE_DEFAULT_LANG),ɵɵinject(USE_STORE),ɵɵinject(USE_EXTEND),ɵɵinject(DEFAULT_LANGUAGE))},ngx_translate_core_TranslateService.ɵprov=ɵɵdefineInjectable({token:ngx_translate_core_TranslateService,factory:ngx_translate_core_TranslateService.ɵfac}),ngx_translate_core_TranslateService.ctorParameters=()=>[{type:ngx_translate_core_TranslateStore},{type:TranslateLoader},{type:TranslateCompiler},{type:TranslateParser},{type:MissingTranslationHandler},{type:Boolean,decorators:[{type:Inject,args:[USE_DEFAULT_LANG]}]},{type:Boolean,decorators:[{type:Inject,args:[USE_STORE]}]},{type:Boolean,decorators:[{type:Inject,args:[USE_EXTEND]}]},{type:String,decorators:[{type:Inject,args:[DEFAULT_LANGUAGE]}]}];class ngx_translate_core_TranslateDirective{constructor(translateService,element,_ref){this.translateService=translateService,this.element=element,this._ref=_ref,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(event=>{event.lang===this.translateService.currentLang&&this.checkNodes(!0,event.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(event=>{this.checkNodes(!0,event.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(event=>{this.checkNodes(!0)}))}set translate(key){key&&(this.key=key,this.checkNodes())}set translateParams(params){equals(this.currentParams,params)||(this.currentParams=params,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(forceUpdate=!1,translations){let nodes=this.element.nativeElement.childNodes;nodes.length||(this.setContent(this.element.nativeElement,this.key),nodes=this.element.nativeElement.childNodes);for(let i=0;i<nodes.length;++i){let node=nodes[i];if(3===node.nodeType){let key;if(forceUpdate&&(node.lastKey=null),ngx_translate_core_isDefined(node.lookupKey))key=node.lookupKey;else if(this.key)key=this.key;else{let content=this.getContent(node),trimmedContent=content.trim();trimmedContent.length&&(node.lookupKey=trimmedContent,content!==node.currentValue?(key=trimmedContent,node.originalContent=content||node.originalContent):node.originalContent?key=node.originalContent.trim():content!==node.currentValue&&(key=trimmedContent,node.originalContent=content||node.originalContent))}this.updateValue(key,node,translations)}}}updateValue(key,node,translations){if(key){if(node.lastKey===key&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let onTranslation=res=>{res!==key&&(node.lastKey=key),node.originalContent||(node.originalContent=this.getContent(node)),node.currentValue=ngx_translate_core_isDefined(res)?res:node.originalContent||key,this.setContent(node,this.key?node.currentValue:node.originalContent.replace(key,node.currentValue)),this._ref.markForCheck()};if(ngx_translate_core_isDefined(translations)){let res=this.translateService.getParsedResult(translations,key,this.currentParams);isObservable_isObservable(res)?res.subscribe(onTranslation):onTranslation(res)}else this.translateService.get(key,this.currentParams).subscribe(onTranslation)}}getContent(node){return ngx_translate_core_isDefined(node.textContent)?node.textContent:node.data}setContent(node,content){ngx_translate_core_isDefined(node.textContent)?node.textContent=content:node.data=content}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}ngx_translate_core_TranslateDirective.ɵfac=function(t){return new(t||ngx_translate_core_TranslateDirective)(ɵɵdirectiveInject(ngx_translate_core_TranslateService),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef))},ngx_translate_core_TranslateDirective.ɵdir=ɵɵdefineDirective({type:ngx_translate_core_TranslateDirective,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),ngx_translate_core_TranslateDirective.ctorParameters=()=>[{type:ngx_translate_core_TranslateService},{type:ElementRef},{type:ChangeDetectorRef}],ngx_translate_core_TranslateDirective.propDecorators={translate:[{type:Input}],translateParams:[{type:Input}]};class ngx_translate_core_TranslatePipe{constructor(translate,_ref){this.translate=translate,this._ref=_ref,this.value=""}updateValue(key,interpolateParams,translations){let onTranslation=res=>{this.value=void 0!==res?res:key,this.lastKey=key,this._ref.markForCheck()};if(translations){let res=this.translate.getParsedResult(translations,key,interpolateParams);isObservable_isObservable(res.subscribe)?res.subscribe(onTranslation):onTranslation(res)}this.translate.get(key,interpolateParams).subscribe(onTranslation)}transform(query,...args){if(!query||!query.length)return query;if(equals(query,this.lastKey)&&equals(args,this.lastParams))return this.value;let interpolateParams;if(ngx_translate_core_isDefined(args[0])&&args.length)if("string"==typeof args[0]&&args[0].length){let validArgs=args[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{interpolateParams=JSON.parse(validArgs)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${args[0]}`)}}else"object"!=typeof args[0]||Array.isArray(args[0])||(interpolateParams=args[0]);return this.lastKey=query,this.lastParams=args,this.updateValue(query,interpolateParams),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(event=>{this.lastKey&&event.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(event=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}ngx_translate_core_TranslatePipe.ɵfac=function(t){return new(t||ngx_translate_core_TranslatePipe)(ɵɵdirectiveInject(ngx_translate_core_TranslateService),ɵɵinjectPipeChangeDetectorRef())},ngx_translate_core_TranslatePipe.ɵpipe=ɵɵdefinePipe({name:"translate",type:ngx_translate_core_TranslatePipe,pure:!1}),ngx_translate_core_TranslatePipe.ɵprov=ɵɵdefineInjectable({token:ngx_translate_core_TranslatePipe,factory:ngx_translate_core_TranslatePipe.ɵfac}),ngx_translate_core_TranslatePipe.ctorParameters=()=>[{type:ngx_translate_core_TranslateService},{type:ChangeDetectorRef}];class TranslateModule{static forRoot(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:ngx_translate_core_TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},ngx_translate_core_TranslateStore,{provide:USE_STORE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},ngx_translate_core_TranslateService]}}static forChild(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:ngx_translate_core_TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},{provide:USE_STORE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},ngx_translate_core_TranslateService]}}}TranslateModule.ɵmod=ɵɵdefineNgModule({type:TranslateModule}),TranslateModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||TranslateModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(TranslateModule,{declarations:[ngx_translate_core_TranslatePipe,ngx_translate_core_TranslateDirective],exports:[ngx_translate_core_TranslatePipe,ngx_translate_core_TranslateDirective]});class TranslateHttpLoader{constructor(http,prefix="/assets/i18n/",suffix=".json"){this.http=http,this.prefix=prefix,this.suffix=suffix}getTranslation(lang){return this.http.get(`${this.prefix}${lang}${this.suffix}`)}}class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}const EmptyError=(()=>{function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl})(),NONE={};function combineLatest(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))}class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,oldVal=values[outerIndex],toRespond=this.toRespond?oldVal===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;if(ring.length<total)ring.push(value);else{ring[count%total]=value}}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}function throwIfEmpty(errorFactory=defaultErrorFactory){return source=>source.lift(new ThrowIfEmptyOperator(errorFactory))}class ThrowIfEmptyOperator{constructor(errorFactory){this.errorFactory=errorFactory}call(subscriber,source){return source.subscribe(new throwIfEmpty_ThrowIfEmptySubscriber(subscriber,this.errorFactory))}}class throwIfEmpty_ThrowIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,errorFactory){super(destination),this.errorFactory=errorFactory,this.hasValue=!1}_next(value){this.hasValue=!0,this.destination.next(value)}_complete(){if(this.hasValue)return this.destination.complete();{let err;try{err=this.errorFactory()}catch(e){err=e}this.destination.error(err)}}}function defaultErrorFactory(){return new EmptyError}function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function last_last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber);const innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&this.add(innerSubscription)}}}function first_first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function startWith(...array){const scheduler=array[array.length-1];return isScheduler(scheduler)?(array.pop(),source=>concat(array,source,scheduler)):source=>concat(array,source)}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop,this._tapError=noop,this._tapComplete=noop,this._tapError=error||noop,this._tapComplete=complete||noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop,this._tapError=observerOrNext.error||noop,this._tapComplete=observerOrNext.complete||noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}function finalize(callback){return source=>source.lift(new FinallyOperator(callback))}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger="imperative",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){const pos=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${pos}')`}}class ɵEmptyOutletComponent{}ɵEmptyOutletComponent.ɵfac=function(t){return new(t||ɵEmptyOutletComponent)},ɵEmptyOutletComponent.ɵcmp=ɵɵdefineComponent({type:ɵEmptyOutletComponent,selectors:[["ng-component"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&ɵɵelement(0,"router-outlet")},directives:function(){return[router_RouterOutlet]},encapsulation:2});class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function navigationCancelingError(message){const error=Error("NavigationCancelingError: "+message);return error.ngNavigationCancelingError=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=""){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){if(!route)throw new Error(`\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&"primary"!==route.outlet)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch){const exp="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${fullPath}", redirectTo: "${route.redirectTo}"}': please provide 'pathMatch'. ${exp}`)}if(void 0!==route.pathMatch&&"full"!==route.pathMatch&&"prefix"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:"":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign(Object.assign({},r),{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&"primary"!==c.outlet&&(c.component=ɵEmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],!equalArraysOrString(a[key],b[key]))return!1;return!0}function equalArraysOrString(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length==b.length&&a.every(aItem=>b.indexOf(aItem)>-1):a===b}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return isObservable(value)?value:core_isPromise(value)?from_from(Promise.resolve(value)):of(value)}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>equalArraysOrString(container[key],containee[key]))}(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length){return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren()}if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&(!!container.children.primary&&containsSegmentGroupHelper(container.children.primary,containee,next))}}(container,containee,containee.segments)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{"primary"===childOutlet&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{"primary"!==childOutlet&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){var s;return`${`/${function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children.primary?serializeSegment(segment.children.primary,!1):"",children=[];return forEach(segment.children,(v,k)=>{"primary"!==k&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join("//")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>"primary"===k?[serializeSegment(segment.children.primary,!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join("//")})`}}(tree.root,!0)}`}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join("&"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join("&")}`:""}(tree.queryParams)}${"string"==typeof tree.fragment?`#${s=tree.fragment,encodeURI(s)}`:""}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join("/")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join("")}`;var params}const SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:""}const QUERY_PARAM_RE=/^[^=?&#]+/;const QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional("?"))do{this.parseQueryParam(params)}while(this.consumeOptional("&"));return params}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());let children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));let res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res.primary=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(";");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:""}(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:""}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if("/"!==next&&")"!==next&&";"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(":")>-1?(outletName=path.substr(0,path.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName="primary");const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children.primary:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected "${str}".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=router_findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=router_findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function router_findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=router_findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},"",{},"primary",rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment("",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(""),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,"primary",rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map_map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map_map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy="emptyOnly"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if("always"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign(Object.assign({},res.params),curr.params),data:Object.assign(Object.assign({},res.data),curr.data),resolve:Object.assign(Object.assign({},res.resolve),curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(", ")} } `:"";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){const equalUrlParams=shallowEqual(a.params,b.params)&&(as=a.url,bs=b.url,equalPath(as,bs)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters)));var as,bs;const parentsMismatch=!a.parent!=!b.parent;return equalUrlParams&&!parentsMismatch&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=(c=curr.value,new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject(c.url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c)),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}function createUrlTree(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if("string"==typeof commands[0]&&1===commands.length&&"/"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]="string"==typeof commands?commands.split("/"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return"string"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split("/").forEach((urlPart,partIndex)=>{0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1,index=route.snapshot._lastPathIndex+modifier;return function(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,index,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),urlTree.root===oldSegmentGroup?new UrlTree(newSegmentGroup,qp,fragment):new UrlTree(function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");const cmdWithOutlet=commands.find(c=>"object"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return"object"==typeof command&&null!=command&&command.outlets?command.outlets.primary:`${command}`}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!router_compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!router_compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children.primary=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return"object"!=typeof commands[0]?{primary:commands}:void 0===commands[0].outlets?{primary:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if("object"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){const p=segmentGroup.segments[startIndex];paths.push(new UrlSegment(p.path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function router_compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{primary:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function(obj,fn){if(0===Object.keys(obj).length)return of({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(map_map(r=>res[k]=r));"primary"===k?waitHead.push(mapped):waitTail.push(mapped)}),of.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last_last(),map_map(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return of(...routes).pipe(map_map(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),concatAll(),first_first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||"EmptyError"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=router_match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if("**"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(map_map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=router_match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function(segmentGroup,consumedSegments,slicedSegments,config){if(slicedSegments.length>0&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&"primary"!==getOutlet(r))}(segmentGroup,slicedSegments,config)){return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){const res={};res.primary=primarySegmentGroup;for(const r of routes)""===r.path&&"primary"!==getOutlet(r)&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments,config)){return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign(Object.assign({},children),res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}}return{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);if(0===slicedSegments.length&&segmentGroup.hasChildren()){return this.expandChildren(childModule,childConfig,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup(consumedSegments,children)))}return 0===childConfig.length&&0===slicedSegments.length?of(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,"primary",!0).pipe(map_map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):function(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?from_from(canLoad).pipe(map_map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),function(predicate,thisArg){return source=>source.lift(new EveryOperator(predicate,thisArg,source))}(result=>!0===result)):of(!0)}(ngModule.injector,route,segments).pipe(mergeMap(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(map_map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route "path: '${route.path}'" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children.primary)return namedOutletsRedirect(route.redirectTo);c=c.children.primary}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if("string"==typeof v&&v.startsWith(":")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(":")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function router_match(segmentGroup,route,segments){if(""===route.path)return"full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children.primary){const c=s.children.primary;return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function getOutlet(route){return route.outlet||"primary"}function applyRedirects$1(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(switchMap(t=>function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map_map(urlAfterRedirects=>Object.assign(Object.assign({},t),{urlAfterRedirects:urlAfterRedirects})))))}}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return getChildRouteGuards(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);if(shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),future.component?getChildRouteGuards(futureNode,currNode,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,currNode,parentContexts,futurePath,checks),shouldRun){const component=context&&context.outlet&&context.outlet.component||null;checks.canDeactivateChecks.push(new CanDeactivate(component,curr))}}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),future.component?getChildRouteGuards(futureNode,null,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,null,parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{r.component?deactivateRouteAndItsChildren(node,context?context.children.getContext(childName):null,checks):deactivateRouteAndItsChildren(node,context,checks)}),r.component&&context&&context.outlet&&context.outlet.isActivated?checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,r)):checks.canDeactivateChecks.push(new CanDeactivate(null,r))}const INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap(obs=>combineLatest(...obs.map(o=>o.pipe(take(1),startWith(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter_filter(item=>item!==INITIAL_VALUE),map_map(item=>isUrlTree(item)?item:!0===item),take(1)))}function checkGuards(moduleInjector,forwardEvent){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign(Object.assign({},t),{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from_from(checks).pipe(mergeMap(check=>function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue()):of(!0)}(check.component,check.route,currRSS,futureRSS,moduleInjector)),first_first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from_from(checks).pipe(concatMap(check=>from_from([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),first_first(result=>!0!==result,!0))),first_first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):of(canDeactivate)),map_map(guardsResult=>Object.assign(Object.assign({},t),{guardsResult:guardsResult})))}))}}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())}))).pipe(prioritizedGuardValue()):of(!0)}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,"primary"),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),of(routeState)}catch(e){return new Observable_Observable(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join("/"),c=n.value.url.map(s=>s.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(children),children.sort((a,b)=>"primary"===a.value.outlet?-1:"primary"===b.value.outlet?1:a.value.outlet.localeCompare(b.value.outlet)),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||"primary")!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if("**"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function(segmentGroup,route,segments){if(""===route.path){if("full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign(Object.assign({},posParams),res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){if(route.children)return route.children;if(route.loadChildren)return route._loadedConfig.routes;return[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,"primary");return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&"primary"!==getOutlet$1(r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res.primary=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(""===r.path&&"primary"!==getOutlet$1(r)){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift="legacy"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign(Object.assign({},children),res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function getOutlet$1(route){return route.outlet||"primary"}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function recognize$1(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(mergeMap(t=>function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy="emptyOnly",relativeLinkResolution="legacy"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map_map(targetSnapshot=>Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot})))))}}function resolveData(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?from_from(canActivateChecks).pipe(concatMap(check=>function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map_map(value=>({[key]:value})))}const data={};return from_from(keys).pipe(mergeMap(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map_map(value=>(data[key]=value,value))))).pipe(last_last(),map_map(()=>data))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(map_map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign(Object.assign({},futureARS.data),inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),function(accumulator,seed){return arguments.length>=2?function(source){return pipe(scan(accumulator,seed),takeLast(1),defaultIfEmpty(seed))(source)}:function(source){return pipe(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),map_map(_=>t)):of(t)}))}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return resolver.resolve?wrapIntoObservable(resolver.resolve(futureARS,futureRSS)):wrapIntoObservable(resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?from_from(nextResult).pipe(map_map(()=>v)):from_from([v])}))}}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new InjectionToken("ROUTES");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(map_map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return"string"==typeof loadChildren?from_from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from_from(this.compiler.compileModuleAsync(t))))}}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return of(null)}class router_Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return(transitions.pipe(filter_filter(t=>0!==t.id),map_map(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:[t]}),switchMap(t=>Promise.resolve(t)),applyRedirects$1(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tap(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),recognize$1(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign(Object.assign({},extras),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map_map(t=>Object.assign(Object.assign({},t),{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),checkGuards(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter_filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),resolveData(this.paramsInheritanceStrategy,this.ngModule.injector),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map_map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=createNode(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),map_map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),finalize(()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null}),catchError(e=>{if(errored=!0,(error=e)&&error.ngNavigationCancelingError){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),redirecting?setTimeout(()=>{const mergedTree=this.urlHandlingStrategy.merge(e.url,this.rawUrlTree),extras={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy};return this.scheduleNavigation(mergedTree,"imperative",null,extras,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}var error;return empty_EMPTY}));var rootContexts,routeReuseStrategy,forwardEvent})))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source="popstate"===change.type?"popstate":"hashchange",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case"merge":q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),createUrlTree(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){isDevMode()&&this.isNgZoneEnabled&&!NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(rawUrl,source,restoredState,extras,priorPromise){const lastNavigation=this.getTransition();if(lastNavigation&&"imperative"!==source&&"imperative"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"hashchange"==source&&"popstate"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"popstate"==source&&"hashchange"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve,reject,promise;priorPromise?(resolve=priorPromise.resolve,reject=priorPromise.reject,promise=priorPromise.promise):promise=new Promise((res,rej)=>{resolve=res,reject=rej});const id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",Object.assign(Object.assign({},state),{navigationId:id})):this.location.go(path,"",Object.assign(Object.assign({},state),{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}router_Router.ɵfac=function(t){ɵɵinvalidFactory()},router_Router.ɵdir=ɵɵdefineDirective({type:router_Router});class router_RouterLink{constructor(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,"tabindex","0")}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=value}onClick(){const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}router_RouterLink.ɵfac=function(t){return new(t||router_RouterLink)(ɵɵdirectiveInject(router_Router),ɵɵdirectiveInject(router_ActivatedRoute),ɵɵinjectAttribute("tabindex"),ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},router_RouterLink.ɵdir=ɵɵdefineDirective({type:router_RouterLink,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function(){return ctx.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),router_RouterLink.ctorParameters=()=>[{type:router_Router},{type:router_ActivatedRoute},{type:String,decorators:[{type:Attribute,args:["tabindex"]}]},{type:Renderer2},{type:ElementRef}],router_RouterLink.propDecorators={queryParams:[{type:Input}],fragment:[{type:Input}],queryParamsHandling:[{type:Input}],preserveFragment:[{type:Input}],skipLocationChange:[{type:Input}],replaceUrl:[{type:Input}],state:[{type:Input}],routerLink:[{type:Input}],preserveQueryParams:[{type:Input}],onClick:[{type:HostListener,args:["click"]}]};class router_RouterLinkWithHref{constructor(router,route,locationStrategy){this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.updateTargetUrlAndHref()})}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=value}ngOnChanges(changes){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(button,ctrlKey,metaKey,shiftKey){if(0!==button||ctrlKey||metaKey||shiftKey)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}function attrBoolValue(s){return""===s||!!s}router_RouterLinkWithHref.ɵfac=function(t){return new(t||router_RouterLinkWithHref)(ɵɵdirectiveInject(router_Router),ɵɵdirectiveInject(router_ActivatedRoute),ɵɵdirectiveInject(LocationStrategy))},router_RouterLinkWithHref.ɵdir=ɵɵdefineDirective({type:router_RouterLinkWithHref,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function($event){return ctx.onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)})),2&rf&&(ɵɵhostProperty("href",ctx.href,ɵɵsanitizeUrl),ɵɵattribute("target",ctx.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ɵɵNgOnChangesFeature]}),router_RouterLinkWithHref.ctorParameters=()=>[{type:router_Router},{type:router_ActivatedRoute},{type:LocationStrategy}],router_RouterLinkWithHref.propDecorators={target:[{type:HostBinding,args:["attr.target"]},{type:Input}],queryParams:[{type:Input}],fragment:[{type:Input}],queryParamsHandling:[{type:Input}],preserveFragment:[{type:Input}],skipLocationChange:[{type:Input}],replaceUrl:[{type:Input}],state:[{type:Input}],href:[{type:HostBinding}],routerLink:[{type:Input}],preserveQueryParams:[{type:Input}],onClick:[{type:HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class RouterLinkActive{constructor(router,element,renderer,link,linkWithHref){this.router=router,this.element=element,this.renderer=renderer,this.link=link,this.linkWithHref=linkWithHref,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(_=>this.update()),this.linksWithHrefs.changes.subscribe(_=>this.update()),this.update()}set routerLinkActive(data){const classes=Array.isArray(data)?data:data.split(" ");this.classes=classes.filter(c=>!!c)}ngOnChanges(changes){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const hasActiveLinks=this.hasActiveLinks();this.isActive!==hasActiveLinks&&(this.isActive=hasActiveLinks,this.classes.forEach(c=>{hasActiveLinks?this.renderer.addClass(this.element.nativeElement,c):this.renderer.removeClass(this.element.nativeElement,c)}))})}isLinkActive(router){return link=>router.isActive(link.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const isActiveCheckFn=this.isLinkActive(this.router);return this.link&&isActiveCheckFn(this.link)||this.linkWithHref&&isActiveCheckFn(this.linkWithHref)||this.links.some(isActiveCheckFn)||this.linksWithHrefs.some(isActiveCheckFn)}}RouterLinkActive.ɵfac=function(t){return new(t||RouterLinkActive)(ɵɵdirectiveInject(router_Router),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(router_RouterLink,8),ɵɵdirectiveInject(router_RouterLinkWithHref,8))},RouterLinkActive.ɵdir=ɵɵdefineDirective({type:RouterLinkActive,selectors:[["","routerLinkActive",""]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&(ɵɵcontentQuery(dirIndex,router_RouterLink,!0),ɵɵcontentQuery(dirIndex,router_RouterLinkWithHref,!0)),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.links=_t),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.linksWithHrefs=_t))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ɵɵNgOnChangesFeature]}),RouterLinkActive.ctorParameters=()=>[{type:router_Router},{type:ElementRef},{type:Renderer2},{type:router_RouterLink,decorators:[{type:Optional}]},{type:router_RouterLinkWithHref,decorators:[{type:Optional}]}],RouterLinkActive.propDecorators={links:[{type:ContentChildren,args:[router_RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:ContentChildren,args:[router_RouterLinkWithHref,{descendants:!0}]}],routerLinkActiveOptions:[{type:Input}],routerLinkActive:[{type:Input}]};class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class router_RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core_EventEmitter,this.deactivateEvents=new core_EventEmitter,this.name=name||"primary",parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return(this._activatedRoute)}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=activatedRoute;const component=activatedRoute._futureSnapshot.routeConfig.component,factory=(resolver=resolver||this.resolver).resolveComponentFactory(component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}router_RouterOutlet.ɵfac=function(t){return new(t||router_RouterOutlet)(ɵɵdirectiveInject(ChildrenOutletContexts),ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(ComponentFactoryResolver),ɵɵinjectAttribute("name"),ɵɵdirectiveInject(ChangeDetectorRef))},router_RouterOutlet.ɵdir=ɵɵdefineDirective({type:router_RouterOutlet,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),router_RouterOutlet.ctorParameters=()=>[{type:ChildrenOutletContexts},{type:ViewContainerRef},{type:ComponentFactoryResolver},{type:String,decorators:[{type:Attribute,args:["name"]}]},{type:ChangeDetectorRef}],router_RouterOutlet.propDecorators={activateEvents:[{type:Output,args:["activate"]}],deactivateEvents:[{type:Output,args:["deactivate"]}]};class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_NoPreloading{preload(route,fn){return of(null)}}class router_RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy;this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter_filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from_from(res).pipe(mergeAll(),map_map(_=>{}))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}router_RouterPreloader.ɵfac=function(t){return new(t||router_RouterPreloader)(ɵɵinject(router_Router),ɵɵinject(NgModuleFactoryLoader),ɵɵinject(Compiler),ɵɵinject(Injector),ɵɵinject(PreloadingStrategy))},router_RouterPreloader.ɵprov=ɵɵdefineInjectable({token:router_RouterPreloader,factory:router_RouterPreloader.ɵfac}),router_RouterPreloader.ctorParameters=()=>[{type:router_Router},{type:NgModuleFactoryLoader},{type:Compiler},{type:Injector},{type:PreloadingStrategy}];class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}RouterScroller.ɵfac=function(t){ɵɵinvalidFactory()},RouterScroller.ɵdir=ɵɵdefineDirective({type:RouterScroller});const ROUTER_CONFIGURATION=new InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:function(urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy);routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy);opts.errorHandler&&(router.errorHandler=opts.errorHandler);opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler);if(opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation);opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy);opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy);opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution);return router},deps:[UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[class{},new Optional],[class{},new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:function(router){return router.routerState.root},deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,class{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}},{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken("Router",router_Router)}class router_RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:router_RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:LocationStrategy,useFactory:router_provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[router_Router,ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:router_RouterModule,providers:[provideRoutes(routes)]}}}function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function router_provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new HashLocationStrategy(platformLocationStrategy,baseHref):new PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}router_RouterModule.ɵmod=ɵɵdefineNgModule({type:router_RouterModule}),router_RouterModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||router_RouterModule)(ɵɵinject(ROUTER_FORROOT_GUARD,8),ɵɵinject(router_Router,8))}}),router_RouterModule.ctorParameters=()=>[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[ROUTER_FORROOT_GUARD]}]},{type:router_Router,decorators:[{type:Optional}]}],("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(router_RouterModule,{declarations:[router_RouterOutlet,router_RouterLink,router_RouterLinkWithHref,RouterLinkActive,ɵEmptyOutletComponent],exports:[router_RouterOutlet,router_RouterLink,router_RouterLinkWithHref,RouterLinkActive,ɵEmptyOutletComponent]});class router_RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if("disabled"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if("enabled"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return"legacy_enabled"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return"legacy_disabled"===opts.initialNavigation||!1===opts.initialNavigation}}function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}router_RouterInitializer.ɵfac=function(t){return new(t||router_RouterInitializer)(ɵɵinject(Injector))},router_RouterInitializer.ɵprov=ɵɵdefineInjectable({token:router_RouterInitializer,factory:router_RouterInitializer.ɵfac}),router_RouterInitializer.ctorParameters=()=>[{type:Injector}];const ROUTER_INITIALIZER=new InjectionToken("Router Initializer");new Version("9.0.7");var countries={Afghanistan:"AF","Aland Islands":"AX",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua And Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO",Brunei:"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG",DRC:"CD","Cook Islands":"CK","Costa Rica":"CR","Ivory Coast":"CI",Croatia:"HR",Cuba:"CU",Cyprus:"CY",Czechia:"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands":"FK","Faeroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island & Mcdonald Islands":"HM","Holy See (Vatican City State)":"VA",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID",Iran:"IR",Iraq:"IQ",Ireland:"IE","Isle Of Man":"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP","Channel Islands":"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI",Korea:"KR","S. Korea":"KR",Kuwait:"KW",Kyrgyzstan:"KG","Lao People's Democratic Republic":"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR","Libyan Arab Jamahiriya":"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO",Macedonia:"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX","Micronesia, Federated States Of":"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","Netherlands Antilles":"AN","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","North Macedonia":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW",Palestine:"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA","Réunion":"RE",Romania:"RO",Russia:"RU",Rwanda:"RW","Saint Barthelemy":"BL","St. Barth":"BL","Saint Helena":"SH","Saint Kitts And Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre And Miquelon":"PM","St. Vincent Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome And Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia And Sandwich Isl.":"GS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard And Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY",Taiwan:"TW",Tajikistan:"TJ",Tanzania:"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks And Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA",UAE:"AE",UK:"GB",USA:"US","United States Outlying Islands":"UM",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE",Vietnam:"VN","Virgin Islands, British":"VG","U.S. Virgin Islands":"VI","Wallis And Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW","Curaçao":"CW"},Percent=function(){function Percent(percent){this._value=percent}return Object.defineProperty(Percent.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(Percent.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),Percent.prototype.toString=function(){return this._value+"%"},Percent}();function Percent_percent(value){return new Percent(value)}function Type_isNaN(value){return Number(value)!==value}function Type_getType(value){return{}.toString.call(value)}function castString(value){if("string"==typeof value)return value;if("number"==typeof value)return""+value;throw new Error("Expected a string or number but got "+Type_getType(value))}function toBoolean(value){return!!value}function toNumber(value){if(Type_hasValue(value)&&!isNumber(value)){var converted=Number(value);return Type_isNaN(converted)&&isString(value)&&""!=value?toNumber(value.replace(/[^0-9.\-]+/g,"")):converted}return value}function toText(value){if(Type_hasValue(value)&&!isString(value)){if(isNumber(value))return castString(value);if(Type_isObject(value))return value.toString()}return value}function toNumberOrPercent(value){return!Type_hasValue(value)||isNumber(value)||function(value){return value instanceof Percent}(value)?value:isString(value)&&-1!=value.indexOf("%")?Percent_percent(toNumber(value)):toNumber(value)}function Type_hasValue(a){return null!=a}function getValue(a){if(Type_hasValue(a))return a;throw new Error("Value doesn't exist")}function getValueDefault(a,defaultValue){return Type_hasValue(a)?a:defaultValue}function Type_isDate(value){return"[object Date]"===Type_getType(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value&&Number(value)==value}function Type_isObject(value){return"object"==typeof value&&null!=value}function Type_isArray(value){return Array.isArray(value)}var PI=Math.PI,HALFPI=PI/2,RADIANS=PI/180,DEGREES=180/PI;function toNumberRange(value,min,max){return Type_hasValue(value)?fitToRange(value=toNumber(value),min,max):value}function Math_round(value,precision,floor){if(!isNumber(precision)||precision<=0){var rounded=Math.round(value);return floor&&rounded-value==.5&&rounded--,rounded}var d=Math.pow(10,precision);return Math.round(value*d)/d}function ceil(value,precision){if(!isNumber(precision)||precision<=0)return Math.ceil(value);var d=Math.pow(10,precision);return Math.ceil(value*d)/d}function fitToRange(value,minValue,maxValue){if(isNumber(minValue)){if(isNumber(maxValue)&&maxValue<minValue){var temp=maxValue;maxValue=minValue,minValue=temp}value<minValue&&(value=minValue)}return isNumber(maxValue)&&value>maxValue&&(value=maxValue),value}function Math_sin(value){return Math_round(Math.sin(RADIANS*value),10)}function tan(value){return Math_round(Math.tan(RADIANS*value),10)}function Math_cos(value){return Math_round(Math.cos(RADIANS*value),10)}function Math_max(left,right){return isNumber(left)?isNumber(right)&&right>left?right:left:isNumber(right)?right:null}function Math_min(left,right){return isNumber(left)?isNumber(right)&&right<left?right:left:isNumber(right)?right:null}function Math_intersect(range1,range2){var start1=getValue(range1.start),start2=getValue(range2.start),end1=getValue(range1.end),end2=getValue(range2.end);return Math.max(start1,start2)<=Math.min(end1,end2)}function invertRange(range){var start=getValue(range.start);return{start:1-getValue(range.end),end:1-start}}function getDistance(point1,point2){return point1?(point2||(point2={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(point1.x-point2.x),2)+Math.pow(Math.abs(point1.y-point2.y),2))):0}function getCubicCurveDistance(point1,point2,controlPointA,controlPointB,stepCount){if(!point1)return 0;point2||(point2={x:0,y:0});var distance=0,prevPoint=point1;if(stepCount>0)for(var s=0;s<=stepCount;s++){var point=getPointOnCubicCurve(point1,point2,controlPointA,controlPointB,s/stepCount);distance+=getDistance(prevPoint,point),prevPoint=point}return distance}function getScale(point1,startPoint1,point2,startPoint2){var initialDistance=getDistance(startPoint1,startPoint2),currentDistance=getDistance(point1,point2);return Math.abs(currentDistance/initialDistance)}function getMidPoint(point1,point2,position){return isNumber(position)||(position=.5),{x:point1.x+(point2.x-point1.x)*position,y:point1.y+(point2.y-point1.y)*position}}function getAngle(point1,point2){point2||(point2={x:2*point1.x,y:2*point1.y});var diffX=point2.x-point1.x,diffY=point2.y-point1.y,angle=Math.atan2(diffY,diffX)*DEGREES;return angle<0&&(angle+=360),normalizeAngle(angle)}function getBBox(points){if(points){var length_1=points.length;if(0!==length_1){for(var top_1,left=void 0,right=void 0,bottom=void 0,i=0;i<length_1;i++){var point=points[i];(!isNumber(right)||point.x>right)&&(right=point.x),(!isNumber(left)||point.x<left)&&(left=point.x),(!isNumber(top_1)||point.y<top_1)&&(top_1=point.y),(!isNumber(bottom)||point.y>bottom)&&(bottom=point.y)}return{x:left,y:top_1,width:right-left,height:bottom-top_1}}}return{x:0,y:0,width:0,height:0}}function getCommonRectangle(rectangles){var length=rectangles.length;if(0!==length){for(var minX=void 0,minY=void 0,maxX=void 0,maxY=void 0,i=0;i<length;i++){var rectangle=rectangles[i];minX=Math_min(rectangle.x,minX),minY=Math_min(rectangle.y,minY),maxX=Math_max(rectangle.x+rectangle.width,maxX),maxY=Math_max(rectangle.y+rectangle.height,maxY)}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}}function getPointOnQuadraticCurve(pointA,pointB,controlPoint,position){return{x:(1-position)*(1-position)*pointA.x+2*(1-position)*position*controlPoint.x+position*position*pointB.x,y:(1-position)*(1-position)*pointA.y+2*(1-position)*position*controlPoint.y+position*position*pointB.y}}function getPointOnCubicCurve(pointA,pointB,controlPointA,controlPointB,position){var point={x:0,y:0},mt1=1-position,mt2=mt1*mt1,mt3=mt2*mt1;return point.x=pointA.x*mt3+3*controlPointA.x*mt2*position+3*controlPointB.x*mt1*position*position+pointB.x*position*position*position,point.y=pointA.y*mt3+3*controlPointA.y*mt2*position+3*controlPointB.y*mt1*position*position+pointB.y*position*position*position,point}function getCubicControlPointA(p0,p1,p2,p3,tensionX,tensionY){return tensionX=adjustTension(tensionX),tensionY=adjustTension(tensionY),{x:(-p0.x+p1.x/tensionX+p2.x)*tensionX,y:(-p0.y+p1.y/tensionY+p2.y)*tensionY}}function getCubicControlPointB(p0,p1,p2,p3,tensionX,tensionY){return tensionX=adjustTension(tensionX),tensionY=adjustTension(tensionY),{x:(p1.x+p2.x/tensionX-p3.x)*tensionX,y:(p1.y+p2.y/tensionY-p3.y)*tensionY}}function adjustTension(tension){return 1-tension+1e-5}function normalizeAngle(value){return 360==value?360:value%360}function fitAngleToRange(value,startAngle,endAngle){if(startAngle>endAngle){var temp=startAngle;startAngle=endAngle,endAngle=temp}value=normalizeAngle(value);var count=(startAngle-normalizeAngle(startAngle))/360;return value<startAngle&&(value+=360*(count+1)),value>endAngle&&(value-360>startAngle?value-=360:value=value<startAngle+(endAngle-startAngle)/2+180?endAngle:startAngle),value<startAngle&&(value=value>startAngle+(endAngle-startAngle)/2-180?startAngle:endAngle),value}function getArcRect(startAngle,endAngle,radius){var minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=-Number.MAX_VALUE,maxY=-Number.MAX_VALUE,bpoints=[];isNumber(radius)||(radius=1),bpoints.push(getArcPoint(radius,startAngle)),bpoints.push(getArcPoint(radius,endAngle));for(var fromAngle=Math.min(90*Math.floor(startAngle/90),90*Math.floor(endAngle/90)),toAngle=Math.max(90*Math.ceil(startAngle/90),90*Math.ceil(endAngle/90)),angle=fromAngle;angle<=toAngle;angle+=90)angle>=startAngle&&angle<=endAngle&&bpoints.push(getArcPoint(radius,angle));for(var i=0;i<bpoints.length;i++){var pt=bpoints[i];pt.x<minX&&(minX=pt.x),pt.y<minY&&(minY=pt.y),pt.x>maxX&&(maxX=pt.x),pt.y>maxY&&(maxY=pt.y)}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}function getArcPoint(radius,arc){return{x:radius*Math_cos(arc),y:radius*Math_sin(arc)}}function isInRectangle(point,rectangle){return point.x>=rectangle.x&&point.x<=rectangle.x+rectangle.width&&point.y>rectangle.y&&point.y<rectangle.y+rectangle.height}function Array_indexOf(array,value){for(var length=array.length,i=0;i<length;++i)if(array[i]===value)return i;return-1}function any(array,test){for(var length=array.length,i=0;i<length;++i)if(test(array[i]))return!0;return!1}function Array_map(array,fn){for(var length=array.length,output=new Array(length),i=0;i<length;++i)output[i]=fn(array[i],i);return output}function each(array,fn){for(var length=array.length,i=0;i<length;++i)fn(array[i],i)}function eachContinue(array,fn){for(var length=array.length,i=0;i<length&&fn(array[i],i);++i);}function Array_remove(array,element){var found=!1,index=array.indexOf(element);if(-1!==index){found=!0,array.splice(index,1);for(var length_1=array.length;index<length_1;)array[index]===element?(array.splice(index,1),--length_1):++index}return found}function move(array,element,toIndex){var index=Array_indexOf(array,element);-1!==index&&removeIndex(array,index),null==toIndex?array.push(element):insertIndex(array,toIndex,element)}function Array_add(array,element,index){isNumber(index)?0===index?array.unshift(element):array.splice(index,0,element):array.push(element)}function toArray(input){return Array.isArray(input)?input:[input]}function Array_copy(array){for(var length=array.length,output=new Array(length),i=0;i<length;++i)output[i]=array[i];return output}function insertIndex(array,index,value){array.splice(index,0,value)}function removeIndex(array,index){array.splice(index,1)}function getSortedIndex(array,ordering,value){for(var start=0,end=array.length,found=!1;start<end;){var pivot=start+end>>1,order=ordering(value,array[pivot]);order<0?end=pivot:0===order?(found=!0,start=pivot+1):start=pivot+1}return{found:found,index:found?start-1:start}}function findIndex(array,matches){for(var length=array.length,i=0;i<length;++i)if(matches(array[i],i))return i;return-1}function find(array,matches){var index=findIndex(array,matches);if(-1!==index)return array[index]}function keepIf(array,keep){for(var length=array.length,i=0;i<length;)keep(array[i])?++i:(array.splice(i,1),--length)}var Disposer=function(){function Disposer(dispose){this._disposed=!1,this._dispose=dispose}return Disposer.prototype.isDisposed=function(){return this._disposed},Disposer.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},Disposer}(),Disposer_MultiDisposer=function(_super){function MultiDisposer(disposers){return _super.call(this,(function(){each(disposers,(function(x){x.dispose()}))}))||this}return Object(tslib_es6.d)(MultiDisposer,_super),MultiDisposer}(Disposer),Disposer_MutableValueDisposer=function(_super){function MutableValueDisposer(){var _this=_super.call(this,(function(){Type_hasValue(_this._disposer)&&(_this._disposer.dispose(),_this._disposer=void 0)}))||this;return _this}return Object(tslib_es6.d)(MutableValueDisposer,_super),MutableValueDisposer.prototype.get=function(){return this._value},MutableValueDisposer.prototype.set=function(value,disposer){Type_hasValue(this._disposer)&&this._disposer.dispose(),this._disposer=disposer,this._value=value},MutableValueDisposer.prototype.reset=function(){this.set(void 0,void 0)},MutableValueDisposer}(Disposer),Disposer_CounterDisposer=function(_super){function CounterDisposer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._counter=0,_this}return Object(tslib_es6.d)(CounterDisposer,_super),CounterDisposer.prototype.increment=function(){var _this=this;return++this._counter,new Disposer((function(){--_this._counter,0===_this._counter&&_this.dispose()}))},CounterDisposer}(Disposer),pendingFrame=!1,nextQueue=[],readQueue=[],writeQueue=[],idleQueue=[],raf="function"==typeof requestAnimationFrame?function(fn){requestAnimationFrame(fn)}:function(fn){setTimeout(fn,1e3/60)};function frameLoop(){for(var now=Date.now(),length=nextQueue.length,i=0;i<length;++i)nextQueue[i](now);!function(array,index){for(var length=array.length,i=index;i<length;++i)array[i-index]=array[i];array.length=length-index}(nextQueue,length);for(i=0;i<readQueue.length;++i)readQueue[i](now);readQueue.length=0;for(i=0;i<writeQueue.length;++i)writeQueue[i](now);writeQueue.length=0,0===nextQueue.length&&0===readQueue.length?pendingFrame=!1:raf(frameLoop)}function pendFrame(){pendingFrame||(pendingFrame=!0,raf(frameLoop))}function writeFrame(fn){writeQueue.push(fn),pendFrame()}var EventDispatcher_EventDispatcher=function(){function EventDispatcher(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return EventDispatcher.prototype.isDisposed=function(){return this._disposed},EventDispatcher.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{each(a,(function(x){x.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}},EventDispatcher.prototype.hasListeners=function(){return 0!==this._listeners.length},EventDispatcher.prototype.hasListenersByType=function(type){return any(this._listeners,(function(x){return(null===x.type||x.type===type)&&!x.killed}))},EventDispatcher.prototype.enable=function(){this._enabled=!0},EventDispatcher.prototype.disable=function(){this._enabled=!1},EventDispatcher.prototype.enableType=function(type){delete this._disabled[type]},EventDispatcher.prototype.disableType=function(type,amount){void 0===amount&&(amount=1/0),this._disabled[type]=amount},EventDispatcher.prototype._removeListener=function(listener){if(0===this._iterating){var index=this._listeners.indexOf(listener);if(-1===index)throw new Error("Invalid state: could not remove listener");this._listeners.splice(index,1)}else this._killed.push(listener)},EventDispatcher.prototype._removeExistingListener=function(once,type,callback,context){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(info){info.once!==once||info.type!==type||null!=callback&&info.callback!==callback||info.context!==context||info.disposer.dispose()}))},EventDispatcher.prototype.isEnabled=function(type){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(type)&&null==this._disabled[type]},EventDispatcher.prototype.has=function(type,callback,context){return-1!==findIndex(this._listeners,(function(info){return!0!==info.once&&info.type===type&&(null==callback||info.callback===callback)&&info.context===context}))},EventDispatcher.prototype._shouldDispatch=function(type){if(this._disposed)throw new Error("EventDispatcher is disposed");var count=this._disabled[type];return isNumber(count)?(count<=1?delete this._disabled[type]:--this._disabled[type],!1):this._enabled},EventDispatcher.prototype._eachListener=function(fn){var _this=this;++this._iterating;try{each(this._listeners,fn)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(each(this._killed,(function(killed){_this._removeListener(killed)})),this._killed.length=0)}},EventDispatcher.prototype.dispatchImmediately=function(type,event){this._shouldDispatch(type)&&this._eachListener((function(listener){listener.killed||null!==listener.type&&listener.type!==type||listener.dispatch(type,event)}))},EventDispatcher.prototype.dispatch=function(type,event){this._shouldDispatch(type)&&this._eachListener((function(listener){var fn;listener.killed||null!==listener.type&&listener.type!==type||(fn=function(){listener.killed||listener.dispatch(type,event)},idleQueue.push(fn))}))},EventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var _this=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(once,type,callback,context);var info={type:type,callback:callback,context:context,shouldClone:shouldClone,dispatch:dispatch,killed:!1,once:once,disposer:new Disposer((function(){info.killed=!0,_this._removeListener(info)}))};return this._listeners.push(info),info},EventDispatcher.prototype.onAll=function(callback,context,shouldClone){return void 0===shouldClone&&(shouldClone=!0),this._on(!1,null,callback,context,shouldClone,(function(type,event){return callback.call(context,type,event)})).disposer},EventDispatcher.prototype.on=function(type,callback,context,shouldClone){return void 0===shouldClone&&(shouldClone=!0),this._on(!1,type,callback,context,shouldClone,(function(type,event){return callback.call(context,event)})).disposer},EventDispatcher.prototype.once=function(type,callback,context,shouldClone){void 0===shouldClone&&(shouldClone=!0);var x=this._on(!0,type,callback,context,shouldClone,(function(type,event){x.disposer.dispose(),callback.call(context,event)}));return x.disposer},EventDispatcher.prototype.off=function(type,callback,context){this._removeExistingListener(!1,type,callback,context)},EventDispatcher.prototype.copyFrom=function(source){var _this=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(source===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each(source._listeners,(function(x){!x.killed&&x.shouldClone&&(null===x.type?_this.onAll(x.callback,x.context):x.once?_this.once(x.type,x.callback,x.context):_this.on(x.type,x.callback,x.context))}))},EventDispatcher}(),EventDispatcher_TargetedEventDispatcher=function(_super){function TargetedEventDispatcher(target){var _this=_super.call(this)||this;return _this.target=target,_this}return Object(tslib_es6.d)(TargetedEventDispatcher,_super),TargetedEventDispatcher.prototype.copyFrom=function(source){var _this=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(source===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each(source._listeners,(function(x){x.context!==source.target&&!x.killed&&x.shouldClone&&(null===x.type?_this.onAll(x.callback,x.context):x.once?_this.once(x.type,x.callback,x.context):_this.on(x.type,x.callback,x.context))}))},TargetedEventDispatcher}(EventDispatcher_EventDispatcher);function Object_keys(object){var output=[];for(var key in object)hasKey(object,key)&&output.push(key);return output}function hasKey(object,key){return{}.hasOwnProperty.call(object,key)}function Object_eachContinue(object,fn){for(var key in object)if(hasKey(object,key)&&!fn(key,object[key]))break}function Object_each(object,fn){Object_eachContinue(object,(function(key,value){return fn(key,value),!0}))}function eachOrdered(object,fn,ord){each(function(object,order){return Object_keys(object).sort(order)}(object,ord),(function(key){fn(key,object[key])}))}function Object_merge(object1,object2){return Object.assign({},object1,object2)}function copyProperties(source,target,keys){each(keys,(function(key){Type_hasValue(source[key])&&(target[key]=source[key])}))}function copyAllProperties(from,to){copyProperties(from,to,Object_keys(from))}function Iterator_fromArray(array){return function(push){for(var length=array.length,i=0;i<length&&push(array[i]);++i);}}function Iterator_toArray(iter){var output=[];return iter((function(value){return output.push(value),!0})),output}function Iterator_eachContinue(iter,fn){iter(fn)}function Iterator_each(iter,fn){iter((function(value){return fn(value),!0}))}function Iterator_sort(iter,fn){return Iterator_fromArray(Iterator_toArray(iter).sort(fn))}function Iterator_map(iter,fn){return function(push){return iter((function(value){return push(fn(value))}))}}function indexed(iter){return function(push){var index=0;iter((function(value){return push([index++,value])}))}}function Iterator_find(iter,matches){var output;return iter((function(value){return!matches(value)||(output=value,!1)})),output}function contains(iter,matches){var output=!1;return iter((function(value){return!matches(value)||(output=!0,!1)})),output}var Iterator_ListIterator=function(){function ListIterator(list,create){this.createNewItems=!1,this.list=list,this._create=create,this.reset()}return ListIterator.prototype.reset=function(){this._listCopy=Iterator_toArray(this.list.iterator())},ListIterator.prototype.clear=function(){this._listCopy.length=0},ListIterator.prototype.getFirst=function(){return this.returnItem(0)},ListIterator.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},ListIterator.prototype.find=function(fn){var index=findIndex(this._listCopy,fn);if(-1!==index){var item=this._listCopy[index];return Array_remove(this._listCopy,item),item}return this.getLast()},ListIterator.prototype.removeItem=function(item){return Array_remove(this._listCopy,item)},ListIterator.prototype.returnItem=function(index){if(index>=0&&index<this._listCopy.length){var item=this._listCopy[index];return Array_remove(this._listCopy,item),item}if(this.createNewItems)return this._create()},ListIterator.prototype.iterator=function(){return Iterator_fromArray(this._listCopy)},ListIterator}();function order(a,b){return a===b?0:a<b?-1:1}function repeat(string,amount){return new Array(amount+1).join(string)}var Dictionary_DictionaryDisposer=function(_super){function DictionaryDisposer(dict){var disposer=dict.events.on("removed",(function(x){x.oldValue.dispose()}),void 0,!1);return _super.call(this,(function(){disposer.dispose(),Iterator_each(dict.iterator(),(function(a){a[1].dispose()}))}))||this}return Object(tslib_es6.d)(DictionaryDisposer,_super),DictionaryDisposer}(Disposer),Dictionary_Dictionary=function(){function Dictionary(){this.events=new EventDispatcher_EventDispatcher,this._dictionary={}}return Dictionary.prototype.hasKey=function(key){return hasKey(this._dictionary,key)},Dictionary.prototype.getKey=function(key){return this._dictionary[key]},Dictionary.prototype.insertKey=function(key,value){if(hasKey(this._dictionary,key))throw new Error("Key "+key+" already exists in dictionary");this._dictionary[key]=value,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:key,newValue:value})},Dictionary.prototype.setKey=function(key,value){if(hasKey(this._dictionary,key)){var oldValue=this._dictionary[key];oldValue!==value&&(this._dictionary[key]=value,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:key,oldValue:oldValue,newValue:value}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:oldValue}))}else this._dictionary[key]=value,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:key,newValue:value})},Dictionary.prototype.updateKey=function(key,fn){if(!hasKey(this._dictionary,key))throw new Error("Key "+key+" doesn't exist in dictionary");var oldValue=this._dictionary[key],newValue=fn(oldValue);oldValue!==newValue&&(this._dictionary[key]=newValue,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:key,oldValue:oldValue,newValue:newValue}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:oldValue}))},Dictionary.prototype.removeKey=function(key){if(hasKey(this._dictionary,key)){var oldValue=this._dictionary[key];delete this._dictionary[key],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:key,oldValue:oldValue}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:oldValue})}},Dictionary.prototype.insertKeyIfEmpty=function(key,ifEmpty){return this.hasKey(key)||this.insertKey(key,ifEmpty()),this.getKey(key)},Dictionary.prototype.clear=function(){var _this=this;this.events.isEnabled("removed")&&Object_each(this._dictionary,(function(key,value){_this.events.dispatchImmediately("removed",{type:"removed",target:_this,oldValue:value})})),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},Dictionary.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),(function(a){_this.setKey(a[0],a[1])}))},Dictionary.prototype.iterator=function(){return object=this._dictionary,function(push){for(var key in object)if(hasKey(object,key)&&!push([key,object[key]]))break};var object},Dictionary.prototype[Symbol.iterator]=function(){var _a,_b,_i,key;return Object(tslib_es6.e)(this,(function(_c){switch(_c.label){case 0:for(_b in _a=[],this._dictionary)_a.push(_b);_i=0,_c.label=1;case 1:return _i<_a.length?(key=_a[_i],hasKey(this._dictionary,key)?[4,[key,this._dictionary[key]]]:[3,3]):[3,4];case 2:_c.sent(),_c.label=3;case 3:return _i++,[3,1];case 4:return[2]}}))},Dictionary.prototype.each=function(f){Iterator_each(this.iterator(),(function(_a){var _b=Object(tslib_es6.i)(_a,2),key=_b[0],value=_b[1];return f(key,value)}))},Dictionary.prototype.sortedIterator=function(){return Iterator_sort(this.iterator(),(function(x,y){return order(x[0],y[0])}))},Dictionary}(),Dictionary_DictionaryTemplate=function(_super){function DictionaryTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return Object(tslib_es6.d)(DictionaryTemplate,_super),Object.defineProperty(DictionaryTemplate.prototype,"template",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),DictionaryTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),(function(a){_this.setKey(a[0],a[1].clone())}))},DictionaryTemplate.prototype.create=function(key){var _this=this;return this.insertKeyIfEmpty(key,(function(){return _this.template.clone()}))},DictionaryTemplate}(Dictionary_Dictionary),Cache_cache=new(function(){function Cache(){this._storage=new Dictionary_Dictionary,this.ttl=1e3}return Cache.prototype.set=function(owner,key,value,ttl){var ownerStorage=this._storage.insertKeyIfEmpty(owner,(function(){return new Dictionary_Dictionary})),item={touched:(new Date).getTime(),ttl:isNumber(ttl)?ttl:this.ttl,value:value};ownerStorage.setKey(key,item)},Cache.prototype.get=function(owner,key,value){if(void 0===value&&(value=void 0),this._storage.hasKey(owner)){var ownerStorage=this._storage.getKey(owner);if(ownerStorage.hasKey(key)){var cacheItem=ownerStorage.getKey(key);return cacheItem.ttl&&cacheItem.touched+cacheItem.ttl<(new Date).getTime()&&(cacheItem.expired=!0),cacheItem.expired?(ownerStorage.removeKey(key),value):cacheItem.value}return value}return value},Cache.prototype.clear=function(owner){owner?this._storage.removeKey(owner):this._storage.clear()},Cache}()),Registry_registry=new(function(){function Registry(){var _this=this;this.events=new EventDispatcher_EventDispatcher,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],"undefined"!=typeof addEventListener&&(addEventListener("beforeprint",(function(){each(_this.baseSprites,(function(sprite){var svg=sprite.paper.svg;svg.setAttribute("viewBox","0 0 "+svg.clientWidth+" "+svg.clientHeight)}))})),addEventListener("afterprint",(function(){each(_this.baseSprites,(function(sprite){sprite.paper.svg.removeAttribute("viewBox")}))})))}return Registry.prototype.getUniqueId=function(){var uid=this._uidCount;return this._uidCount+=1,"id-"+uid},Object.defineProperty(Registry.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary_Dictionary),this._map},enumerable:!0,configurable:!0}),Registry.prototype.setCache=function(key,value,ttl){Cache_cache.set(this.uid,key,value,ttl)},Registry.prototype.getCache=function(key,value){return void 0===value&&(value=void 0),Cache_cache.get(this.uid,key,value)},Registry.prototype.dispatch=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatch(eventType,{type:eventType,target:this})):this.events.dispatch(eventType,{type:eventType,target:this}))},Registry.prototype.dispatchImmediately=function(eventType,data){this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatchImmediately(eventType,data)):this.events.dispatchImmediately(eventType,{type:eventType,target:this}))},Registry.prototype.getPlaceholder=function(key){return Type_hasValue(this._placeholders[key])?this._placeholders[key]:(this._placeholders[key]="__amcharts_"+key+"_"+function(chars){for(var res="",choice="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<chars;i++)res+=choice.charAt(Math.floor(Math.random()*choice.length));return res}(8)+"__",this._placeholders[key])},Registry.prototype.addToInvalidComponents=function(component){component.baseId?move(this.invalidDatas[component.baseId],component):move(this.invalidDatas.noBase,component)},Registry.prototype.removeFromInvalidComponents=function(component){component.baseId&&Array_remove(this.invalidDatas[component.baseId],component),Array_remove(this.invalidDatas.noBase,component)},Registry.prototype.addToInvalidSprites=function(sprite){sprite.baseId?Array_add(this.invalidSprites[sprite.baseId],sprite):Array_add(this.invalidSprites.noBase,sprite)},Registry.prototype.removeFromInvalidSprites=function(sprite){sprite.baseId&&Array_remove(this.invalidSprites[sprite.baseId],sprite),Array_remove(this.invalidSprites.noBase,sprite)},Registry.prototype.addToInvalidPositions=function(sprite){sprite.baseId?Array_add(this.invalidPositions[sprite.baseId],sprite):Array_add(this.invalidPositions.noBase,sprite)},Registry.prototype.removeFromInvalidPositions=function(sprite){sprite.baseId&&Array_remove(this.invalidPositions[sprite.baseId],sprite),Array_remove(this.invalidPositions.noBase,sprite)},Registry.prototype.addToInvalidLayouts=function(sprite){sprite.baseId?Array_add(this.invalidLayouts[sprite.baseId],sprite):Array_add(this.invalidLayouts.noBase,sprite)},Registry.prototype.removeFromInvalidLayouts=function(sprite){sprite.baseId&&Array_remove(this.invalidLayouts[sprite.baseId],sprite),Array_remove(this.invalidLayouts.noBase,sprite)},Registry}());function is(object,name){var x=Registry_registry.registeredClasses[name];return null!=x&&object instanceof x}var IndexedIterable=function(){function IndexedIterable(array,start,end){this._array=array,this._start=start,this._end=end}return IndexedIterable.prototype.iterator=function(){var _this=this;return function(push){if(_this._start!==_this._end)if(_this._start<_this._end)for(var i=_this._start;i<_this._end&&push(_this._array[i]);++i);else for(i=_this._start-1;i>=_this._end&&push(_this._array[i]);--i);}},IndexedIterable.prototype.backwards=function(){return new IndexedIterable(this._array,this._end,this._start)},IndexedIterable.prototype.range=function(start,end){if(start<=end){if(this._start===this._end)return this;if(this._start<this._end){var diff=end-start;return start=Math.max(this._start+start,this._start),end=Math.min(start+diff,this._end),new IndexedIterable(this._array,start,end)}diff=end-start;return start=Math.max(this._start-start,this._end),end=Math.max(start-diff,this._end),new IndexedIterable(this._array,start,end)}throw new Error("Start index must be lower than end index")},IndexedIterable}(),List_ListDisposer=(function(_super){function ListGrouper(list,getKey,sort){var _this=_super.call(this,[list.events.on("inserted",(function(x){var value=x.newValue,key=_this._getKey(value),index=0;Iterator_eachContinue(list.iterator(),(function(x){return x!==value&&(_this._getKey(x)===key&&++index,!0)})),_this._insert(value,key,index)}),void 0,!1),list.events.on("removed",(function(x){_this._remove(x.oldValue)}),void 0,!1)])||this;return _this._keys=[],_this._groups={},_this._getKey=getKey,_this._sort=sort,Iterator_each(list.iterator(),(function(x){_this._insert(x,getKey(x))})),_this}Object(tslib_es6.d)(ListGrouper,_super),ListGrouper.prototype._insert=function(x,key,index){if(null==this._groups[key]){this._groups[key]=[];var _a=getSortedIndex(this._keys,this._sort,key),found=_a.found,index_1=_a.index;if(found)throw new Error("Key already exists: "+key);insertIndex(this._keys,index_1,key)}null==index?this._groups[key].push(x):insertIndex(this._groups[key],index,x)},ListGrouper.prototype._remove=function(x){var key=this._getKey(x),values=this._groups[key];if(null!=values&&(Array_remove(values,x),0===values.length)){delete this._groups[key];var _a=getSortedIndex(this._keys,this._sort,key),found=_a.found,index=_a.index;if(!found)throw new Error("Key doesn't exist: "+key);removeIndex(this._keys,index)}},ListGrouper.prototype.iterator=function(){var iter,_this=this;return iter=Iterator_map(Iterator_fromArray(this._keys),(function(key){return Iterator_fromArray(_this._groups[key])})),function(push){var go=!0,push2=function(value){return go=push(value)};iter((function(value){return value(push2),go}))}}}(Disposer_MultiDisposer),function(_super){function ListDisposer(list,disposeOnRemove){void 0===disposeOnRemove&&(disposeOnRemove=!0);var _this=this;if(disposeOnRemove){var disposer_1=list.events.on("removed",(function(x){x.oldValue.dispose()}),void 0,!1);_this=_super.call(this,(function(){disposer_1.dispose(),Iterator_each(list.iterator(),(function(x){x.dispose()}))}))||this}else _this=_super.call(this,(function(){Iterator_each(list.iterator(),(function(x){x.dispose()}))}))||this;return _this}return Object(tslib_es6.d)(ListDisposer,_super),ListDisposer}(Disposer));function checkBounds(index,len){if(!(index>=0&&index<len))throw new Error("Index out of bounds: "+index)}var List_List=function(){function List(initial){void 0===initial&&(initial=[]),this.events=new EventDispatcher_EventDispatcher,this._values=initial}return Object.defineProperty(List.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),List.prototype.contains=function(value){return-1!==this._values.indexOf(value)},List.prototype.removeValue=function(value){for(var i=0,length=this._values.length;i<length;)this._values[i]===value?(this.removeIndex(i),--length):++i},List.prototype.indexOf=function(value){return Array_indexOf(this._values,value)},Object.defineProperty(List.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),List.prototype.hasIndex=function(index){return index>=0&&index<this._values.length},List.prototype.getIndex=function(index){return this._values[index]},List.prototype.setIndex=function(index,value){checkBounds(index,this._values.length);var oldValue=this._values[index];return oldValue!==value&&(this._values[index]=value,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:index,oldValue:oldValue,newValue:value}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:oldValue}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:value})),oldValue},List.prototype.insertIndex=function(index,value){checkBounds(index,this._values.length+1),insertIndex(this._values,index,value),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:index,newValue:value}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:value})},List.prototype._sortQuicksort=function(low,high,order){if(low<high){var p=this._sortPartition(low,high,order);this._sortQuicksort(low,p,order),this._sortQuicksort(p+1,high,order)}},List.prototype._sortPartition=function(low,high,order){for(var values=this._values,pivot=values[low],i=low-1,j=high+1;;){do{++i}while(order(values[i],pivot)<0);do{--j}while(order(values[j],pivot)>0);if(i>=j)return j;this.swap(i,j)}},List.prototype.sort=function(order){this._sortQuicksort(0,this._values.length-1,order)},List.prototype.swap=function(a,b){var len=this._values.length;if(checkBounds(a,len),checkBounds(b,len),a!==b){var value_a=this._values[a],value_b=this._values[b];this._values[a]=value_b,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:a,oldValue:value_a,newValue:value_b}),this._values[b]=value_a,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:b,oldValue:value_b,newValue:value_a})}},List.prototype.removeIndex=function(index){checkBounds(index,this._values.length);var oldValue=this._values[index];return removeIndex(this._values,index),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:index,oldValue:oldValue}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:oldValue}),oldValue},List.prototype.moveValue=function(value,toIndex){var index=this.indexOf(value);if(-1!==index){var oldValue=this._values[index];removeIndex(this._values,index),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:index,oldValue:oldValue})}null==toIndex?(toIndex=this._values.length,this._values.push(value)):insertIndex(this._values,toIndex,value),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:toIndex,newValue:value}),-1===index&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:value})},List.prototype.push=function(value){var index=this._values.push(value)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:index,newValue:value}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:value}),value},List.prototype.unshift=function(value){this.insertIndex(0,value)},List.prototype.pushAll=function(values){var _this=this;each(values,(function(value){_this.push(value)}))},List.prototype.copyFrom=function(source){this.pushAll(source._values)},List.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},List.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},List.prototype.setAll=function(newArray){var _this=this,oldArray=Array_copy(this._values);this._values.length=0,each(newArray,(function(value){_this._values.push(value)})),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:oldArray,newArray:this._values}),this.events.isEnabled("removed")&&each(oldArray,(function(x){_this.events.dispatchImmediately("removed",{type:"removed",target:_this,oldValue:x})})),this.events.isEnabled("inserted")&&each(this._values,(function(x){_this.events.dispatchImmediately("inserted",{type:"inserted",target:_this,newValue:x})}))},List.prototype.clear=function(){this.setAll([])},List.prototype.iterator=function(){return Iterator_fromArray(this._values)},List.prototype[Symbol.iterator]=function(){var length,i;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:length=this._values.length,i=0,_a.label=1;case 1:return i<length?[4,this._values[i]]:[3,4];case 2:_a.sent(),_a.label=3;case 3:return++i,[3,1];case 4:return[2]}}))},List.prototype.each=function(f){each(this._values,f)},List.prototype.range=function(start,end){if(start<=end){var diff=end-start;return start=Math.max(start,0),end=Math.min(start+diff,this._values.length),new IndexedIterable(this._values,start,end)}throw new Error("Start index must be lower than end index")},List.prototype.backwards=function(){return new IndexedIterable(this._values,this._values.length,0)},List}(),List_ListTemplate=function(_super){function ListTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return Object(tslib_es6.d)(ListTemplate,_super),Object.defineProperty(ListTemplate.prototype,"template",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),ListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),(function(value){_this.push(value.clone())}))},ListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.push(clone),clone},ListTemplate.prototype.clone=function(){for(var out=new ListTemplate(this.template),values=this.values,length=values.length,i=0;i<length;++i)out.push(values[i].clone());return out},ListTemplate}(List_List),SortedList_OrderedList=function(){function OrderedList(initial){this._values=[],this.events=new EventDispatcher_EventDispatcher,null!=initial&&this.setAll(initial)}return Object.defineProperty(OrderedList.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),OrderedList.prototype._insert=function(value){return this._values.push(value),this._values.length-1},Object.defineProperty(OrderedList.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),OrderedList.prototype.indexOf=function(value){return Array_indexOf(this._values,value)},OrderedList.prototype.contains=function(value){return-1!==this.indexOf(value)},OrderedList.prototype.getIndex=function(index){return this._values[index]},Object.defineProperty(OrderedList.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(OrderedList.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),OrderedList.prototype.insert=function(value){var index=this._insert(value);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:index,newValue:value})},OrderedList.prototype.remove=function(value){var index=this.indexOf(value);if(-1!==index){var oldValue=this._values[index];removeIndex(this._values,index),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:index,oldValue:oldValue})}},OrderedList.prototype.setAll=function(newArray){var _this=this;!function(array,fn){for(var i=array.length;i--;)fn(array[i],i)}(this._values,(function(x,i){_this._values.pop(),_this.events.isEnabled("removed")&&_this.events.dispatchImmediately("removed",{type:"removed",target:_this,index:i,oldValue:x})})),each(newArray,(function(value){_this.insert(value)}))},OrderedList.prototype.clear=function(){this.setAll([])},OrderedList.prototype.slice=function(start,end){var out=new OrderedList;return out._values=this._values.slice(start,end),out},OrderedList.prototype.findClosestIndex=function(value,fn,direction){void 0===direction&&(direction="any");var closestValue,closestDifference,closestIndex=-1,i=0;return Iterator_eachContinue(this.iterator(),(function(element){var item=fn(element);if("any"===direction){if(item===value)return closestIndex=i,!1;var difference=Math.abs(value-item);(!Type_hasValue(closestDifference)||closestDifference>difference)&&(closestIndex=i,closestValue=item,closestDifference=difference)}else"left"===direction&&item<value?(!Type_hasValue(closestValue)||closestValue<item)&&(closestIndex=i,closestValue=item):"right"===direction&&item>=value&&(!Type_hasValue(closestValue)||closestValue>=item)&&(closestIndex=i,closestValue=item);return++i,!0})),-1===closestIndex&&("left"===direction?closestIndex=0:"right"===direction&&(closestIndex=this.length-1)),closestIndex},OrderedList.prototype.iterator=function(){return Iterator_fromArray(this._values)},OrderedList.prototype[Symbol.iterator]=function(){var length,i;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:length=this._values.length,i=0,_a.label=1;case 1:return i<length?[4,this._values[i]]:[3,4];case 2:_a.sent(),_a.label=3;case 3:return++i,[3,1];case 4:return[2]}}))},OrderedList.prototype.each=function(f){each(this._values,f)},OrderedList}(),SortedList_SortedList=function(_super){function SortedList(sort){var _this=_super.call(this)||this;return _this._ordering=sort,_this}return Object(tslib_es6.d)(SortedList,_super),SortedList.prototype._insert=function(value){var index=getSortedIndex(this._values,this._ordering,value).index;return insertIndex(this._values,index,value),index},SortedList.prototype.indexOf=function(value){var _a=getSortedIndex(this._values,this._ordering,value),found=_a.found,index=_a.index;return found?index:-1},SortedList.prototype.update=function(value){var index=Array_indexOf(this._values,value);if(-1!==index){var last=this._values.length-1;(0===index||this._ordering(this._values[index-1],value)<0)&&(index===last||this._ordering(value,this._values[index+1])<0)||(removeIndex(this._values,index),this._insert(value))}},SortedList}(SortedList_OrderedList),SortedList_OrderedListTemplate=function(_super){function OrderedListTemplate(t){var _this=_super.call(this)||this;return _this.template=t,_this}return Object(tslib_es6.d)(OrderedListTemplate,_super),Object.defineProperty(OrderedListTemplate.prototype,"template",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),OrderedListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),(function(value){_this.insert(value.clone())}))},OrderedListTemplate.prototype.slice=function(start,end){var out=new OrderedListTemplate(this.template);return out._values=this._values.slice(start,end),out},OrderedListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.insert(clone),clone},OrderedListTemplate}(SortedList_OrderedList),SortedList_SortedListTemplate=function(_super){function SortedListTemplate(t,sort){var _this=_super.call(this,sort)||this;return _this.template=t,_this}return Object(tslib_es6.d)(SortedListTemplate,_super),Object.defineProperty(SortedListTemplate.prototype,"template",{get:function(){return this._template},set:function(v){v.isTemplate=!0,this._template=v},enumerable:!0,configurable:!0}),SortedListTemplate.prototype.copyFrom=function(source){var _this=this;Iterator_each(source.iterator(),(function(value){_this.insert(value.clone())}))},SortedListTemplate.prototype.create=function(make){var clone=null!=make?new make:this.template.clone();return this.insert(clone),clone},SortedListTemplate}(SortedList_SortedList);function Number_order(a,b){return a===b?0:a<b?-1:1}function reverse(a){switch(a){case 0:return 0;case-1:return 1;case 1:return-1}}function or(a,b){return 0===a?b:a}var globalAdapter=new(function(){function GlobalAdapter(){this._callbackId=0,this._callbacks=new SortedList_SortedList((function(left,right){return or(Number_order(left.priority,right.priority),Number_order(left.id,right.id))}))}return GlobalAdapter.prototype.addAll=function(type,key,callback,priority,scope){void 0===priority&&(priority=0),this._callbacks.insert({id:++this._callbackId,key:key,callback:callback,priority:priority,scope:scope,type:type})},GlobalAdapter.prototype.isEnabled=function(type,key){return any(this._callbacks.values,(function(x){return x.key===key&&type instanceof x.type}))},GlobalAdapter.prototype.applyAll=function(type,key,value){var callbacks=this._callbacks.values,length=callbacks.length;if(0==length)return value;for(var i=0;i<length;++i){var item=callbacks[i];item.key===key&&type instanceof item.type&&(value=item.callback.call(item.scope,value,type,key))}return value},GlobalAdapter}()),Adapter_Adapter=function(){function Adapter(c){this._callbackId=0,this._callbacks=new SortedList_SortedList((function(left,right){return or(Number_order(left.priority,right.priority),Number_order(left.id,right.id))})),this._disabled={},this.object=c,this.events=this._callbacks.events}return Adapter.prototype.add=function(key,callback,priority,scope){void 0===priority&&(priority=0),this._callbacks.insert({id:++this._callbackId,key:key,callback:callback,priority:priority,scope:scope})},Adapter.prototype.has=function(key,callback,priority,scope){return void 0===priority&&(priority=0),contains(this._callbacks.iterator(),(function(item){return item.key===key&&item.callback===callback&&item.priority===priority&&item.scope===scope}))},Adapter.prototype.remove=function(key,priority){var _this=this;each(Iterator_toArray(this._callbacks.iterator()),(function(item){item.key!==key||isNumber(priority)&&priority!==item.priority||_this._callbacks.remove(item)}))},Adapter.prototype.enableKey=function(key){delete this._disabled[key]},Adapter.prototype.disableKey=function(key,amount){void 0===amount&&(amount=1/0),this._disabled[key]=amount},Adapter.prototype._hasListenersByType=function(key){return any(this._callbacks.values,(function(x){return x.key===key}))},Adapter.prototype.isEnabled=function(key){return null==this._disabled[key]&&(this._hasListenersByType(key)||globalAdapter.isEnabled(this.object,key))},Adapter.prototype._shouldDispatch=function(key){var count=this._disabled[key];return!isNumber(count)||(count<=1?delete this._disabled[key]:--this._disabled[key],!1)},Adapter.prototype.apply=function(key,value){if(this._shouldDispatch(key)){var callbacks=this._callbacks.values,length_1=callbacks.length;if(length_1>0)for(var i=0;i<length_1;++i){var item=callbacks[i];item.key===key&&(value=item.callback.call(item.scope,value,this.object,key))}return value=globalAdapter.applyAll(this.object,key,value)}return value},Adapter.prototype.keys=function(){return Iterator_toArray(Iterator_map(this._callbacks.iterator(),(function(x){return x.key})))},Adapter.prototype.copyFrom=function(source){var _this=this;Iterator_each(source._callbacks.iterator(),(function(x){_this.add(x.key,x.callback,x.priority,x.scope)})),Object_each(source._disabled,(function(key,val){_this._disabled[key]=val}))},Adapter.prototype.clear=function(){this._callbacks.clear()},Adapter}(),namedColors={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Colors_rgb(color,alpha){var rgb;return namedColors[color]?rgb=namedColors[color]:"#"===color.charAt(0)?rgb=function(hex){hex=hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(m,r,g,b){return r+r+g+g+b+b}));var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:function(hex){hex=hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(function(m,r,g,b,a){return r+r+g+g+b+b+a+a}));var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16),a:parseInt(result[4],16)/256}:void 0}(hex)}(color):color.match(/^rgba?\(/)&&(rgb=function(color){var matches=(color=color.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(matches)matches.push("1");else if(!(matches=color.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(matches[1]),g:parseInt(matches[2]),b:parseInt(matches[3]),a:parseFloat(matches[4])}}(color)),rgb||(rgb={r:0,g:0,b:0,a:1}),Type_hasValue(alpha)&&(rgb.a=alpha),rgb}function pad2(c){return 1==c.length?"0"+c:""+c}function Colors_interpolate(rgb1,rgb2,percent){return percent=fitToRange(percent,0,1),rgb1?rgb2?{r:rgb1.r+Math.round((rgb2.r-rgb1.r)*percent),g:rgb1.g+Math.round((rgb2.g-rgb1.g)*percent),b:rgb1.b+Math.round((rgb2.b-rgb1.b)*percent),a:(rgb1.a||1)+Math.round(((rgb2.a||1)-(rgb1.a||1))*percent)}:rgb1:rgb2||rgb1}function getLightnessStep(value,percent){var base=percent>0?255-value:value;return Math.round(base*percent)}function hslToRgb(color){var r,g,b,h=color.h,s=color.s,l=color.l;if(0==s)r=g=b=l;else{var hue2rgb=function(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p},q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:Math.round(255*r),g:Math.round(255*g),b:Math.round(255*b)}}function rgbToHsl(color){var r=color.r/255,g=color.g/255,b=color.b/255,max=Math.max(r,g,b),min=Math.min(r,g,b),h=0,s=0,l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}var Color_Color=function(){function Color(color){this._value=color}return Object.defineProperty(Color.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,"hex",{get:function(){return this._value?"#"+pad2((rgb=this._value).r.toString(16))+pad2(rgb.g.toString(16))+pad2(rgb.b.toString(16)):"none";var rgb},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,"rgba",{get:function(){return this._value?Type_hasValue((rgb=this._value).a)&&1!==rgb.a?"rgba("+rgb.r+","+rgb.g+","+rgb.b+","+rgb.a+")":"rgb("+rgb.r+","+rgb.g+","+rgb.b+")":"none";var rgb},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(value){this._value&&(this._value.a=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new Color({r:255,g:255,b:255})),this._lightColor},set:function(color){this._lightColor=color},enumerable:!0,configurable:!0}),Object.defineProperty(Color.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new Color({r:0,g:0,b:0})),this._darkColor},set:function(color){this._darkColor=color},enumerable:!0,configurable:!0}),Color.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},Color.prototype.lighten=function(percent){return new Color(function(rgb,percent){return rgb?{r:Math.max(0,Math.min(255,rgb.r+getLightnessStep(rgb.r,percent))),g:Math.max(0,Math.min(255,rgb.g+getLightnessStep(rgb.g,percent))),b:Math.max(0,Math.min(255,rgb.b+getLightnessStep(rgb.b,percent))),a:rgb.a}:rgb}(this.rgb,percent))},Color.prototype.brighten=function(percent){return new Color(function(rgb,percent){if(rgb){var step=getLightnessStep(Math.min(Math.max(rgb.r,rgb.g,rgb.b),230),percent);return{r:Math.max(0,Math.min(255,Math.round(rgb.r+step))),g:Math.max(0,Math.min(255,Math.round(rgb.g+step))),b:Math.max(0,Math.min(255,Math.round(rgb.b+step))),a:rgb.a}}return rgb}(this.rgb,percent))},Color.prototype.saturate=function(saturation){return new Color(function(rgb,saturation){if(null==rgb||1==saturation)return rgb;var hsl=rgbToHsl(rgb);return hsl.s=saturation,hslToRgb(hsl)}(this.rgb,saturation))},Object.defineProperty(Color.prototype,"alternative",{get:function(){if(null!=this.rgb)return(299*(color=this.rgb).r+587*color.g+114*color.b)/1e3>=128?this.darkColor:this.lightColor;throw new Error("Color does not exist");var color},enumerable:!0,configurable:!0}),Color}();function Color_color(value,alpha){if(!Type_hasValue(value))return new Color_Color(void 0);if("string"==typeof value){var cacheId="_color_"+value+"_"+(alpha||"1"),cached=Registry_registry.getCache(cacheId);if(cached)return new Color_Color({r:cached.r,g:cached.g,b:cached.b,a:cached.a});var rgb=Colors_rgb(value,alpha);return Registry_registry.setCache(cacheId,rgb),new Color_Color(rgb)}return value instanceof Color_Color?(Type_hasValue(alpha)&&(value.alpha=alpha),value):new Color_Color(value)}function toColor(value){return Type_hasValue(value)&&!function(value){return value instanceof Color_Color}(value)?function(value){return Color_color(value)}(value):value}var Base_BaseObject=function(){function BaseObject(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return BaseObject.prototype.debug=function(){},Object.defineProperty(BaseObject.prototype,"uid",{get:function(){return this._uid||(this._uid=Registry_registry.getUniqueId(),Registry_registry.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(BaseObject.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value},enumerable:!0,configurable:!0}),Object.defineProperty(BaseObject.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary_Dictionary),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(BaseObject.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Dictionary_Dictionary),this._delayedMap},enumerable:!0,configurable:!0}),BaseObject.prototype.addDelayedMap=function(property,id){var map=this.delayedMap;map.hasKey(id)||map.setKey(id,[]),map.getKey(id).push({property:property,target:this})},BaseObject.prototype.processDelayedMap=function(){var _this=this;this.delayedMap.each((function(id,list){if(_this.map.hasKey(id)){var target_1=_this.map.getKey(id);each(list,(function(item){item.target[item.property]=target_1})),_this.delayedMap.removeKey(id)}}))},BaseObject.prototype.applyTheme=function(){var _this=this;if(Registry_registry){var themes=this.getCurrentThemes();themes&&each(themes,(function(theme,index){theme(_this)}))}},Object.defineProperty(BaseObject.prototype,"themes",{get:function(){return this._themes},set:function(value){this._themes=value},enumerable:!0,configurable:!0}),BaseObject.prototype.getCurrentThemes=function(){return this.themes||Registry_registry.themes},BaseObject.prototype.isDisposed=function(){return this._disposed},BaseObject.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._disposers;for(this._disposers=null;0!==a.length;){a.shift().dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var uid=this._uid;null!=uid&&Registry_registry.map.removeKey(uid)}},BaseObject.prototype.addDisposer=function(target){this._disposers.push(target)},BaseObject.prototype.removeDispose=function(target){if(!this._disposed){var index=Array_indexOf(this._disposers,target);index>-1&&this._disposers.splice(index,1)}target.dispose()},BaseObject.prototype.clone=function(cloneId){cloneId||(cloneId="clone-"+Registry_registry.getUniqueId());var newObject=new this.constructor;return newObject.cloneId=cloneId,newObject.copyFrom(this),newObject},Object.defineProperty(BaseObject.prototype,"clones",{get:function(){return this._clones||(this._clones=new List_List),this._clones},enumerable:!0,configurable:!0}),BaseObject.prototype.copyFrom=function(object){object.clones.push(this),this.clonedFrom=object},Object.defineProperty(BaseObject.prototype,"className",{get:function(){return this._className},set:function(value){this._className=value},enumerable:!0,configurable:!0}),BaseObject.prototype.setCache=function(key,value,ttl){Cache_cache.set(this.uid,key,value,ttl)},BaseObject.prototype.getCache=function(key,value){return void 0===value&&(value=void 0),Cache_cache.get(this.uid,key,value)},BaseObject.prototype.clearCache=function(){Cache_cache.clear(this.uid)},BaseObject.prototype.setTimeout=function(fn,delay){var _this=this,id=setTimeout((function(){_this.removeDispose(disposer),fn()}),delay),disposer=new Disposer((function(){clearTimeout(id)}));return this._disposers.push(disposer),disposer},BaseObject.prototype.setInterval=function(fn,delay){var _this=this,id=setInterval((function(){_this.removeDispose(disposer),fn()}),delay),disposer=new Disposer((function(){clearTimeout(id)}));return this._disposers.push(disposer),disposer},Object.defineProperty(BaseObject.prototype,"config",{set:function(config){try{this.processConfig(config)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),BaseObject.prototype.processConfig=function(config){var _this=this;if(config){var target=this;if(eachOrdered(config,(function(configKey,value){var item_1,configValue=value;if("callback"==configKey&&"function"==typeof value&&value.call(target),_this.hasProperty(configKey))if(!Type_isObject(configValue)||!Type_hasValue(configValue.type)||Type_isObject(target[configKey])&&Type_hasValue(target[configKey].className)&&!configValue.forceCreate&&target[configKey].className==configValue.type||_this.asIs(configKey)?item_1=target[configKey]:(item_1=_this.createClassInstance(configValue.type))?target[configKey]=item_1:item_1=target[configKey],item_1 instanceof Adapter_Adapter)_this.processAdapters(item_1,configValue);else if(item_1 instanceof EventDispatcher_EventDispatcher)_this.processEvents(item_1,configValue);else if("locale"==configKey&&isString(configValue))window["am4lang_"+configValue]&&(target[configKey]=window["am4lang_"+configValue]);else if("parent"==configKey&&isString(configValue)){var parent_1=_this.map.getKey(configValue);parent_1?target[configKey]=parent_1:_this.addDelayedMap("parent",configValue)}else if(_this.asIs(configKey))target[configKey]=configValue;else if(_this.asFunction(configKey)&&isString(configValue)){if(!Type_hasValue(Registry_registry.registeredClasses[configValue]))throw Error("Invalid easing function: "+configValue);target[configKey]=Registry_registry.registeredClasses[configValue]}else if(configValue instanceof BaseObject)target[configKey]=configValue;else if(item_1 instanceof BaseObject)item_1.config=configValue;else if(item_1 instanceof List_ListTemplate||item_1 instanceof SortedList_OrderedListTemplate||item_1 instanceof SortedList_SortedListTemplate){if(Type_isArray(configValue))item_1 instanceof List_ListTemplate?_this.processListTemplate(configValue,item_1):_this.processOrderedTemplate(configValue,item_1);else if(Type_isObject(configValue))if(configValue instanceof BaseObject)item_1.template=configValue;else{var templateValue=void 0;templateValue=Type_hasValue(configValue.template)?configValue.template:configValue,item_1.template instanceof BaseObject?item_1.template.config=templateValue:Object_each(templateValue,(function(entryKey,entryValue){var listItem=item_1.template[entryKey];listItem instanceof Adapter_Adapter?_this.processAdapters(listItem,entryValue):listItem instanceof EventDispatcher_EventDispatcher?_this.processEvents(listItem,entryValue):listItem instanceof Dictionary_DictionaryTemplate?_this.processDictionaryTemplate(listItem,entryValue):item_1.template[entryKey]instanceof BaseObject?item_1.template[entryKey].config=entryValue:Type_isObject(entryValue)&&Type_hasValue(entryValue.type)?(listItem=_this.createClassInstance(entryValue.type))?(listItem instanceof BaseObject&&(listItem.config=entryValue),item_1.template[entryKey]=listItem):item_1.template[entryKey]=entryValue:listItem instanceof List_List?_this.processList(entryValue,listItem):item_1.template[entryKey]=_this.maybeColorOrPercent(entryValue)})),Type_hasValue(configValue.values)&&(item_1 instanceof List_ListTemplate?_this.processListTemplate(configValue.values,item_1):_this.processOrderedTemplate(configValue.values,item_1))}}else item_1 instanceof List_List?"children"==configKey?_this.processList(configValue,item_1,_this):_this.processList(configValue,item_1):item_1 instanceof Dictionary_DictionaryTemplate?_this.processDictionaryTemplate(item_1,configValue):item_1 instanceof Dictionary_Dictionary?_this.processDictionary(item_1,configValue):item_1 instanceof Color_Color||item_1 instanceof Percent?target[configKey]=_this.maybeColorOrPercent(configValue):Type_isObject(item_1)&&Type_isObject(configValue)?copyAllProperties(configValue,item_1):(configValue=_this.maybeColorOrPercent(configValue),target[configKey]=configValue);else _this.isReserved(configKey)||(target[configKey]=configValue)}),this.configOrder),this.processingErrors.length){var errors=this.processingErrors.join("\n");throw this._processingErrors=[],Error(errors)}}},BaseObject.prototype.maybeColorOrPercent=function(value){if(isString(value)){if(value.match(/^[\-]?[0-9.]+\%$/))return Percent_percent(toNumber(value));if(value.match(/^\#[0-9abcdef]{3,}$/i))return Color_color(value)}return value},BaseObject.prototype.processAdapters=function(item,config){var _this=this;Type_isArray(config)?each(config,(function(entry,index){item.add(entry.key,entry.callback,entry.priority||0,_this)})):Type_isObject(config)&&Object_each(config,(function(key,entry){item.has(key,entry)||item.add(key,entry)}))},BaseObject.prototype.processEvents=function(item,config){var _this=this;Type_isObject(config)?Object_each(config,(function(key,entry){item.has(key,entry)||item.on(key,entry)})):Type_isArray(config)&&each(config,(function(entry,index){item.on(entry.type,entry.callback,_this)}))},BaseObject.prototype.processDictionaryTemplate=function(item,config){Type_isObject(config)&&Object_each(config,(function(entryKey,entryValue){var listItem;(listItem="template"==entryKey?item.template:item.hasKey(entryKey)?item.getKey(entryKey):item.create(entryKey))instanceof BaseObject?listItem.config=entryValue:Type_isObject(listItem)&&Type_isObject(entryValue)?copyAllProperties(entryValue,listItem):listItem.setKey(entryKey,entryValue)}))},BaseObject.prototype.processDictionary=function(item,config){Type_isObject(config)&&Object_each(config,(function(entryKey,entryValue){item.setKey(entryKey,entryValue)}))},BaseObject.prototype.processListTemplate=function(configValue,item){var _this=this;for(each(configValue,(function(entry,index){var listItem,type=_this.getConfigEntryType(entry);if(item.hasIndex(index)&&!entry.forceCreate)listItem=item.getIndex(index);else{if(entry instanceof BaseObject)return void item.push(entry);listItem=type?item.create(type):item.create()}entry===listItem||Type_isObject(entry)&&(listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)?copyAllProperties(entry,listItem):item.setIndex(item.indexOf(listItem),entry))}));configValue.length>item.length;)item.pop()},BaseObject.prototype.processOrderedTemplate=function(configValue,item){var _this=this;each(configValue,(function(entry,index){var listItem,type=_this.getConfigEntryType(entry);listItem=type?item.create(type):item.create(),Type_isObject(entry)&&(listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)?copyAllProperties(entry,listItem):item.insert(entry))}))},BaseObject.prototype.processList=function(configValue,item,parent){var _this=this;Type_isArray(configValue)||(configValue=[configValue]);var itemCount=item.length;for(each(configValue,(function(entry,index){if(Type_isObject(entry)){var listItem=void 0;if(index<itemCount&&!entry.forceCreate)listItem=item.getIndex(index);else{if(entry instanceof BaseObject)return void item.push(entry);listItem=_this.createEntryInstance(entry),parent?listItem.parent=parent:item.push(listItem)}listItem instanceof BaseObject?listItem.config=entry:Type_isObject(listItem)&&Type_isObject(entry)&&copyAllProperties(entry,listItem)}else item.hasIndex(index)?item.setIndex(index,entry):item.push(entry)}));configValue.length>item.length;)item.pop()},BaseObject.prototype.configOrder=function(a,b){return a==b?0:"language"==a?-1:"language"==b?1:0},BaseObject.prototype.asIs=function(field){return-1!=Array_indexOf(["locale"],field)},BaseObject.prototype.asFunction=function(field){return!1},BaseObject.prototype.createClassInstance=function(className){if(Type_hasValue(Registry_registry.registeredClasses[className]))return new Registry_registry.registeredClasses[className];throw Error('Invalid type: "'+className+'".')},BaseObject.prototype.createEntryInstance=function(config){var res;return Type_hasValue(config.type)&&(res=this.createClassInstance(config.type)),res||config},BaseObject.prototype.getConfigEntryType=function(config){if(Type_hasValue(config.type)){if(Type_hasValue(Registry_registry.registeredClasses[config.type]))return Registry_registry.registeredClasses[config.type];throw Error('Invalid type: "'+config.type+'".')}},BaseObject.prototype.hasProperty=function(prop){return prop in this},BaseObject.prototype.isReserved=function(key){return-1!==["type","forceCreate"].indexOf(key)},Object.defineProperty(BaseObject.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),BaseObject}(),Base_BaseObjectEvents=function(_super){function BaseObjectEvents(){var _this=_super.call(this)||this;return _this.className="BaseObjectEvents",_this}return Object(tslib_es6.d)(BaseObjectEvents,_super),Object.defineProperty(BaseObjectEvents.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new EventDispatcher_EventDispatcher,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),BaseObjectEvents.prototype.dispatch=function(eventType,data){this._eventDispatcher&&this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatch(eventType,{type:eventType,target:this})):this.events.dispatch(eventType,{type:eventType,target:this}))},BaseObjectEvents.prototype.dispatchImmediately=function(eventType,data){this._eventDispatcher&&this.events.isEnabled(eventType)&&(data?(data.type=eventType,data.target=data.target||this,this.events.dispatchImmediately(eventType,data)):this.events.dispatchImmediately(eventType,{type:eventType,target:this}))},BaseObjectEvents.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),source._eventDispatcher&&this.events.copyFrom(source._eventDispatcher)},BaseObjectEvents}(Base_BaseObject);function Utils_copyProperties(source,target){return Object_each(source,(function(key,value){Type_hasValue(value)&&(target[key]=value)})),target}function stripHash(url){return/^[^#]*/.exec(url)[0]}function getBaseURI(){var url="#";if(/apple/i.test(navigator.vendor)){var baseURI=document.baseURI;if(baseURI){baseURI=stripHash(baseURI);var loc=stripHash(location.href);baseURI!==loc&&(url=loc+url)}}return url}function Utils_softCopyProperties(source,target){return Object_each(source,(function(key,value){Type_hasValue(value)&&!Type_hasValue(target[key])&&(target[key]=value)})),target}function isNotEmpty(value){return Type_hasValue(value)&&""!==value.toString()}function relativeToValue(percent,full){return isNumber(percent)?percent:null!=percent&&isNumber(percent.value)&&isNumber(full)?full*percent.value:0}function relativeRadiusToValue(percent,full,subtractIfNegative){var value;return isNumber(percent)?(value=percent)<0&&(value=subtractIfNegative?full+value:full-value):null!=percent&&isNumber(percent.value)&&(value=full*percent.value),value}function capitalize(str){var arr=str.split("");return arr[0]=arr[0].toUpperCase(),arr.join("")}function Utils_stringify(value){return JSON.stringify(value)}function escapeForRgex(value){return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function splitTextByCharCount(text,maxChars,fullWords,rtl){if(text.length<=maxChars)return[text];var res=[];if(fullWords)for(var currentIndex=-1,words=text.replace(/([,;:!?\\\/\.]+[\s]+|[\s])/g,"__§§§__$1__§§§__").split("__§§§__"),i=0;i<words.length;i++){var word=words[i],wordLength=word.length;if(0!==wordLength){var parts;if(wordLength>maxChars){if(rtl&&(word=reverseString(word)),parts=word.match(new RegExp(".{1,"+maxChars+"}","g"))){if(rtl)for(var x=0;x<parts.length;x++)parts[x]=reverseString(parts[x]);res=res.concat(parts)}}else-1===currentIndex&&(res.push(""),currentIndex=0),res[currentIndex].length+wordLength+1>maxChars&&""!==res[currentIndex]&&(res.push(""),currentIndex++),res[currentIndex]+=word;currentIndex=res.length-1}}else if(parts=text.match(new RegExp(".{1,"+maxChars+"}","g"))){if(rtl)for(x=0;x<parts.length;x++)parts[x]=reverseString(parts[x]);res=parts}return 1==res.length&&fullWords&&res[0].length>maxChars&&(res=[]),res}function truncateWithEllipsis(text,maxChars,ellipsis,fullWords,rtl){return text.length<=maxChars?text:((maxChars-=ellipsis.length)<1&&(maxChars=1),(splitTextByCharCount(text,maxChars,fullWords,rtl)[0]||"")+ellipsis)}function trim(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rtrim(str){return str.replace(/[\s\uFEFF\xA0]+$/g,"")}function reverseString(str){return str.split("").reverse().join("")}function padString(value,len,char){return void 0===len&&(len=0),void 0===char&&(char="0"),"string"!=typeof value&&(value=value.toString()),len>value.length?Array(len-value.length+1).join(char)+value:value}function cleanFormat(format){return format.replace(/\/(date|number|duration)$/i,"")}function stripTags(text){return text?text.replace(/<[^>]*>/g,""):text}function plainText(text){return text?stripTags(text.replace(/[\n\r]+/g,". ")):text}function anyToDate(value){if(Type_isDate(value))return new Date(value);if(isNumber(value))return new Date(value);var num=Number(value);return isNumber(num)?new Date(num):new Date(value)}function anyToNumber(value){if(Type_isDate(value))return value.getTime();if(isNumber(value))return value;if(isString(value)){var num=Number(value);return isNumber(num)?num:void 0}}function getYearDay(date,utc){void 0===utc&&(utc=!1);var start=new Date(date.getFullYear(),0,0),diff=date.getTime()-start.getTime()+60*(start.getTimezoneOffset()-date.getTimezoneOffset())*1e3;return Math.floor(diff/864e5)}function getWeek(date,utc){void 0===utc&&(utc=!1);var day=getYearDay(date,utc)-1,week=Math.floor((day-(date.getDay()||7)+10)/7);return 0===week?week=53:53===week&&(week=1),week}function getMonthWeek(date,utc){void 0===utc&&(utc=!1);var firstWeek=getWeek(new Date(date.getFullYear(),date.getMonth(),1),utc),currentWeek=getWeek(date,utc);return 1==currentWeek&&(currentWeek=53),currentWeek-firstWeek+1}function get12Hours(hours,base){return hours>12?hours-=12:0===hours&&(hours=12),Type_hasValue(base)?hours+(base-1):hours}function getTimeZone(date,long,savings,utc){if(void 0===long&&(long=!1),void 0===savings&&(savings=!1),void 0===utc&&(utc=!1),utc)return long?"Coordinated Universal Time":"UTC";var wotz=date.toLocaleString("UTC"),wtz=date.toLocaleString("UTC",{timeZoneName:long?"long":"short"}).substr(wotz.length);return!1===savings&&(wtz=wtz.replace(/ (standard|daylight|summer|winter) /i," ")),wtz}function fitNumber(value,min,max){return value>max?max:value<min?min:value}function fitNumberRelative(value,min,max){var gap=max-min;return value>max?value=min+(value-gap*Math.floor(value/gap)):value<min&&(value=min+(value-gap*Math.floor(value/gap))),value}function svgPointToSprite(point,sprite){var x=point.x,y=point.y,sprites=[];if(sprite){for(;Type_hasValue(sprite.parent);)sprites.push(sprite),sprite=sprite.parent;sprites.reverse();for(var i=0;i<sprites.length;i++){var sprite_1=sprites[i],angle=sprite_1.rotation,relativeX=x-sprite_1.pixelX-sprite_1.ex,relativeY=y-sprite_1.pixelY-sprite_1.ey;sprite_1.dx&&(x-=sprite_1.dx),sprite_1.dy&&(y-=sprite_1.dy);var scale=sprite_1.scale;sprite_1.group&&(scale=sprite_1.group.scale),x=(Math_cos(-angle)*relativeX-Math_sin(-angle)*relativeY)/scale-sprite_1.pixelPaddingLeft,y=(Math_cos(-angle)*relativeY+Math_sin(-angle)*relativeX)/scale-sprite_1.pixelPaddingTop}}return{x:x,y:y}}function spritePointToSvg(point,sprite){var x=point.x,y=point.y;if(sprite)for(;Type_hasValue(sprite.parent);){var angle=sprite.rotation;x+=sprite.pixelPaddingLeft+sprite.ex,y+=sprite.pixelPaddingTop+sprite.ey;var scale=sprite.scale;sprite.group&&(scale=sprite.group.scale);var relativeX=sprite.pixelX+(x*Math_cos(angle)-y*Math_sin(angle))*scale,relativeY=sprite.pixelY+(x*Math_sin(angle)+y*Math_cos(angle))*scale;sprite.dx&&(relativeX+=sprite.dx),sprite.dy&&(relativeY+=sprite.dy),x=relativeX,y=relativeY,sprite=sprite.parent}return{x:x,y:y}}function spritePointToSprite(point,sprite,toSprite){return svgPointToSprite(spritePointToSvg(point,sprite),toSprite)}function spriteRectToSvg(rect,sprite){var p1=spritePointToSvg(rect,sprite),p2=spritePointToSvg({x:rect.x+rect.width,y:rect.y+rect.height},sprite);return{x:p1.x,y:p1.y,width:p2.x-p1.x,height:p2.y-p1.y}}function documentPointToSvg(point,svgContainer,cssScale){try{var bbox=svgContainer.getBoundingClientRect();return isNumber(cssScale)||(cssScale=1),{x:(point.x-bbox.left)/cssScale,y:(point.y-bbox.top)/cssScale}}catch(e){return point}}function svgPointToDocument(point,svgContainer){try{var bbox=svgContainer.getBoundingClientRect();return{x:point.x+bbox.left,y:point.y+bbox.top}}catch(e){return point}}function documentPointToSprite(point,sprite){return sprite&&sprite.htmlContainer?svgPointToSprite(documentPointToSvg(point,getValue(sprite.htmlContainer),sprite.svgContainer.cssScale),sprite):point}function spritePointToDocument(point,sprite){return sprite&&sprite.htmlContainer?svgPointToDocument(spritePointToSvg(point,sprite),getValue(sprite.htmlContainer)):point}var urlRegexp=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function parseUrl(url){var match=urlRegexp.exec(url);return{protocol:match&&match[1]||"",separator:match&&match[2]||"",authority:match&&match[3]||"",domain:match&&match[4]||"",port:match&&match[5]||"",path:match&&match[6]||"",query:match&&match[7]||"",hash:match&&match[8]||""}}function serializeUrl(url){return url.protocol+url.separator+url.authority+url.domain+url.port+url.path+url.query+url.hash}function isRelativeUrl(url){return""===url.protocol&&""===url.separator&&""===url.authority&&""===url.domain&&""===url.port}function joinUrl(left,right){var parsedLeft=parseUrl(left),parsedRight=parseUrl(right);if(isRelativeUrl(parsedLeft))throw new Error("Left URL is not absolute");if(isRelativeUrl(parsedRight)){if(""!==parsedRight.path)if("/"===parsedRight.path[0])parsedLeft.path=parsedRight.path;else{var leftPath=parsedLeft.path.split(/\//),rightPath=parsedRight.path.split(/\//);if(0===leftPath.length?0!==rightPath.length&&leftPath.push(""):leftPath.length>1&&leftPath.pop(),function(array,input){for(var length=input.length,i=0;i<length;++i)array.push(input[i])}(leftPath,rightPath),parsedLeft.path=leftPath.join("/"),""!==parsedLeft.path&&"/"!==parsedLeft.path[0])throw new Error("URL path must start with /")}return parsedLeft.query=parsedRight.query,parsedLeft.hash=parsedRight.hash,serializeUrl(parsedLeft)}return serializeUrl(parsedRight)}function isIE(){return!!window.MSInputMethodContext&&!!document.documentMode}function linear(t){return+t}function polyIn(t,e){return Math.pow(t,e)}function polyOut(t,e){return 1-Math.pow(1-t,e)}function polyInOut(t,e){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}function polyOut3(t){return polyOut(t,3)}function sinOut(t){return Math.sin(t*HALFPI)}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}Registry_registry.registeredClasses["ease.linear"]=linear,Registry_registry.registeredClasses["ease.quadIn"]=function(t){return t*t},Registry_registry.registeredClasses["ease.quadOut"]=function(t){return t*(2-t)},Registry_registry.registeredClasses["ease.quadInOut"]=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2},Registry_registry.registeredClasses["ease.polyIn"]=polyIn,Registry_registry.registeredClasses["ease.polyOut"]=polyOut,Registry_registry.registeredClasses["ease.polyInOut"]=polyInOut,Registry_registry.registeredClasses["ease.polyIn3"]=function(t){return polyIn(t,3)},Registry_registry.registeredClasses["ease.polyOut3"]=polyOut3,Registry_registry.registeredClasses["ease.polyInOut3"]=function(t){return polyInOut(t,3)},Registry_registry.registeredClasses["ease.expIn"]=function(t){return Math.pow(2,10*t-10)},Registry_registry.registeredClasses["ease.expOut"]=function(t){return 1-Math.pow(2,-10*t)},Registry_registry.registeredClasses["ease.expInOut"]=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2},Registry_registry.registeredClasses["ease.sinIn"]=function(t){return 1-Math.cos(t*HALFPI)},Registry_registry.registeredClasses["ease.sinOut"]=sinOut,Registry_registry.registeredClasses["ease.sinInOut"]=function(t){return(1-Math.cos(PI*t))/2},Registry_registry.registeredClasses["ease.cubicIn"]=cubicIn,Registry_registry.registeredClasses["ease.cubicOut"]=cubicOut,Registry_registry.registeredClasses["ease.cubicInOut"]=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},Registry_registry.registeredClasses["ease.circleIn"]=function(t){return 1-Math.sqrt(1-t*t)},Registry_registry.registeredClasses["ease.circleOut"]=function(t){return Math.sqrt(1- --t*t)},Registry_registry.registeredClasses["ease.circleInOut"]=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2};function bounceOut(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+.75:t<10/11?7.5625*(t-=9/11)*t+.9375:7.5625*(t-=21/22)*t+63/64}Registry_registry.registeredClasses["ease.bounceIn"]=function(t){return 1-bounceOut(1-t)},Registry_registry.registeredClasses["ease.bounceOut"]=bounceOut,Registry_registry.registeredClasses["ease.bounceInOut"]=function(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2};var tau=2*Math.PI,Ease_period=.3/tau,Ease_s=Math.asin(1)*Ease_period;Registry_registry.registeredClasses["ease.elasticIn"]=function(t){return 1*Math.pow(2,10*--t)*Math.sin((Ease_s-t)/Ease_period)},Registry_registry.registeredClasses["ease.elasticOut"]=function(t){return 1-1*Math.pow(2,-10*(t=+t))*Math.sin((t+Ease_s)/Ease_period)},Registry_registry.registeredClasses["ease.elasticInOut"]=function(t){return((t=2*t-1)<0?1*Math.pow(2,10*t)*Math.sin((Ease_s-t)/Ease_period):2-1*Math.pow(2,-10*t)*Math.sin((Ease_s+t)/Ease_period))/2};var SpriteState_SpriteState=function(_super){function SpriteState(){var _this=_super.call(this)||this;return _this.transitionDuration=0,_this.transitionEasing=cubicOut,_this.properties={},_this.propertyFields={},_this.filters=new List_List,_this.isTemplate=!1,_this.className="SpriteState",_this._disposers.push(new List_ListDisposer(_this.filters)),_this.applyTheme(),_this}return Object(tslib_es6.d)(SpriteState,_super),Object.defineProperty(SpriteState.prototype,"adapter",{get:function(){var _this=this;return this._adapterO||(this._adapterO=new Adapter_Adapter(this),this._adapterO.events.on("inserted",(function(ev){_this[ev.newValue.key]=_this[ev.newValue.key]}),void 0,!1),this._adapterO.events.on("removed",(function(ev){_this[ev.newValue.key]=_this[ev.newValue.key]}),void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),SpriteState.prototype.getPropertyValue=function(propertyName){var propValue=this.properties[propertyName],sprite=this.sprite;if(sprite){var fieldName=this.propertyFields[propertyName];if(Type_hasValue(fieldName)&&(sprite.dataItem&&(propValue=sprite.dataItem.dataContext[fieldName]),null==propValue&&(propValue="__unset")),Type_hasValue(propValue))this._adapterO&&(propValue=this._adapterO.apply(propertyName,propValue));else{var spriteValue=sprite.getPropertyValue(propertyName);(propValue=this._adapterO?this._adapterO.apply(propertyName,spriteValue):spriteValue)==spriteValue&&(propValue=void 0)}}return propValue},SpriteState.prototype.copyFrom=function(source){source&&source!=this&&(this.transitionDuration=source.transitionDuration,this.transitionEasing=source.transitionEasing,Utils_copyProperties(source.properties,this.properties),Utils_copyProperties(source.propertyFields,this.propertyFields),this.filters.copyFrom(source.filters),source._adapterO&&this.adapter.copyFrom(source._adapterO))},Object.defineProperty(SpriteState.prototype,"allValues",{get:function(){var _this=this,res={};(Object_each(this.properties,(function(prop,value){res[prop]=_this.getPropertyValue(prop)})),this._adapterO)&&Object_each(this._adapterO.keys(),(function(_x,prop){var value=_this.getPropertyValue(prop);res[prop]=value}));return Object_each(this.propertyFields,(function(prop){var value=_this.getPropertyValue(prop);res[prop]=value})),res},enumerable:!0,configurable:!0}),SpriteState.prototype.reset=function(){this.properties={},this.filters.clear()},SpriteState.prototype.processConfig=function(config){Type_hasValue(config)&&Type_hasValue(config.properties)&&Object_each(config.properties,(function(key,value){isString(value)&&(value.match(/^[0-9.\-]+\%$/)?config.properties[key]=Percent_percent(toNumber(value)):value.match(/^\#[0-9abcdef]{3,}$/i)&&(config.properties[key]=toColor(value)))})),_super.prototype.processConfig.call(this,config)},SpriteState.prototype.asFunction=function(field){return"transitionEasing"==field||_super.prototype.asIs.call(this,field)},SpriteState}(Base_BaseObject);Registry_registry.registeredClasses.SpriteState=SpriteState_SpriteState;var SpriteEvents_SpriteEventDispatcher=function(_super){function SpriteEventDispatcher(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._interactionEvents=new Dictionary_Dictionary,_this}return Object(tslib_es6.d)(SpriteEventDispatcher,_super),SpriteEventDispatcher.prototype._dispatchSpriteEvent=function(ev){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(ev.type)){var imev=Object_merge(ev,{target:this.target});this.target.events.dispatchImmediately(imev.type,imev)}},SpriteEventDispatcher.prototype._dispatchSpritePointEvent=function(ev){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(ev.type)){var imev=Object_merge(ev,{target:this.target,spritePoint:ev.point?documentPointToSprite(ev.point,this.target):void 0,svgPoint:this.target.getSvgPoint(ev.point)});this.target.events.dispatchImmediately(imev.type,imev)}},SpriteEventDispatcher.prototype._addInteractionObjectEvent=function(type,callback,context,shouldClone){var _this=this,key=shouldClone+"-"+type;return this._interactionEvents.insertKeyIfEmpty(key,(function(){var disposer=_this.target.interactions.events.on(type,callback,context,shouldClone);return new Disposer_CounterDisposer((function(){_this._interactionEvents.removeKey(key),disposer.dispose()}))})).increment()},SpriteEventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var info=_super.prototype._on.call(this,once,type,callback,context,shouldClone,dispatch),disposers=[info.disposer];switch(type){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":disposers.push(this._addInteractionObjectEvent(type,this._dispatchSpritePointEvent,this,shouldClone));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":disposers.push(this._addInteractionObjectEvent(type,this._dispatchSpriteEvent,this,shouldClone))}switch(type){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0}return info.disposer=new Disposer_MultiDisposer(disposers),info},SpriteEventDispatcher}(EventDispatcher_TargetedEventDispatcher),SVGDefaults_SVGDefaults=function(){function SVGDefaults(){}return SVGDefaults.opacity=1,SVGDefaults.strokeOpacity=1,SVGDefaults.strokeWidth=1,SVGDefaults.fillOpacity=1,SVGDefaults.fill=Color_color("#000000"),SVGDefaults.stroke=Color_color("#000000"),SVGDefaults.focusable=void 0,SVGDefaults.tabindex=0,SVGDefaults}(),Options_options={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never"};function getProgressNumber(progress,from,to){return from+(to-from)*progress}function getProgressPercent(progress,from,to){return new Percent(getProgressNumber(progress,from.percent,to.percent))}function getProgressColor(progress,from,to){var color=new Color_Color(Colors_interpolate(from.rgb,to.rgb,progress));return from.alpha!=to.alpha&&(color.alpha=from.alpha+(to.alpha-from.alpha)*progress),color}function getHybridProperty(property,type){return type+property.charAt(0).toUpperCase()+property.substr(1)}var rootStylesheet,Animation_AnimationDisposer=function(){function AnimationDisposer(array){this._disposer=new Disposer((function(){for(;0!==array.length;)array[0].dispose()}))}return AnimationDisposer.prototype.isDisposed=function(){return this._disposer.isDisposed()},AnimationDisposer.prototype.dispose=function(){this._disposer.dispose()},AnimationDisposer}(),Animation_Animation=function(_super){function Animation(object,animationOptions,duration,easing){var _this=_super.call(this)||this;return _this.duration=0,_this.easing=linear,_this.progress=0,_this._loop=0,_this._pause=!1,_this._delayTimeout=null,_this._time=0,_this._isFinished=!1,_this.className="Animation",!1===Options_options.animationsEnabled&&(duration=0),_this.object=object,_this.animationOptions=toArray(animationOptions),_this.duration=duration,easing&&(_this.easing=easing),_this.applyTheme(),_this}return Object(tslib_es6.d)(Animation,_super),Animation.prototype.debug=function(){},Animation.prototype.dispose=function(){_super.prototype.dispose.call(this),this.pause()},Animation.prototype.delay=function(delay){var _this=this;if(delay>0){this.pause(),move(this.object.animations,this);var id_1=setTimeout((function(){_this._delayTimeout=null,_this.start()}),delay);this._delayTimeout=new Disposer((function(){clearTimeout(id_1)}))}return this},Animation.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,move(system.animations,this),move(this.object.animations,this),system.requestFrame()},Animation.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var i=this.animationOptions.length-1;i>=0;i--){var options_1=this.animationOptions[i];if(Type_hasValue(options_1.from)||(options_1.childObject?options_1.from=options_1.childObject[options_1.property]:(options_1.from=this.object[options_1.property],Type_hasValue(options_1.from)||(options_1.from=SVGDefaults_SVGDefaults[options_1.property]))),options_1.from==options_1.to)Array_remove(this.animationOptions,options_1);else if(!Type_hasValue(options_1.from)||!(options_1.from instanceof Percent)&&options_1.to instanceof Percent||options_1.from instanceof Percent&&!(options_1.to instanceof Percent))this.staticOptions.push(options_1),Array_remove(this.animationOptions,options_1);else if(isNumber(options_1.to))if(options_1.updateMethod=getProgressNumber,options_1.from instanceof Percent){var convertedFrom=this.object[getHybridProperty(options_1.property,"pixel")];isNaN(convertedFrom)?(this.staticOptions.push(options_1),Array_remove(this.animationOptions,options_1)):options_1.from=convertedFrom}else isNaN(options_1.from)&&(this.staticOptions.push(options_1),Array_remove(this.animationOptions,options_1));else if(options_1.to instanceof Color_Color)options_1.from?options_1.updateMethod=getProgressColor:(this.staticOptions.push(options_1),Array_remove(this.animationOptions,options_1));else if(options_1.to instanceof Percent){if(options_1.updateMethod=getProgressPercent,!isNaN(options_1.from)){convertedFrom=this.object[getHybridProperty(options_1.property,"relative")];isNaN(convertedFrom)||(options_1.from=Percent_percent(100*convertedFrom))}}else this.staticOptions.push(options_1),Array_remove(this.animationOptions,options_1)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var event_1={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",event_1)}return this.update(),0===this.duration&&this.end(),this},Animation.prototype.loop=function(count){return isNumber(count)||(count=1/0),this._loop=count,this},Animation.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Array_remove(system.animations,this),Array_remove(this.object.animations,this),this},Animation.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},Animation.prototype.end=function(){if(0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var event_2={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",event_2)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},Animation.prototype.kill=function(){this.pause(),this._isFinished=!0},Animation.prototype.isFinished=function(){return this._isFinished},Animation.prototype.applyStaticOptions=function(){var _this=this;each(this.staticOptions,(function(options){options.childObject?options.childObject[options.property]=1==_this.progress?options.to:options.from:_this.object[options.property]=1==_this.progress?options.to:options.from}))},Animation.prototype.stop=function(skipEvent){if(this.pause(),!skipEvent&&this.events.isEnabled("animationstopped")){var event_3={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",event_3)}return this},Animation.prototype.setProgress=function(progress){var _this=this;if(this._time=this.duration*progress,each(this.animationOptions,(function(options){if(options.updateMethod&&Type_hasValue(options.from)){var value=options.updateMethod(progress,options.from,options.to);options.childObject?options.childObject[options.property]=value:_this.object[options.property]=value}})),this.progress=progress,this.events.isEnabled("animationprogress")){var event_4={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",event_4)}system.requestFrame()},Animation.prototype.update=function(){if(!this._pause){var progress=void 0;this._time=fitToRange(Date.now()-this._startTime,0,this.duration);var timeProgress=this._time/this.duration;progress=this.easing(timeProgress),(0==this.duration||!isNumber(progress)||timeProgress>=1)&&(progress=1),this.setProgress(progress),1==Math_round(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(Animation.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),Animation.prototype.stopSameAnimations=function(){var _this=this;each(Array_copy(this.object.animations),(function(animation){if(animation!==_this&&!animation.delayed){var killed_1=[];each(_this.animationOptions,(function(newOptions){each(animation.animationOptions,(function(oldOptions){newOptions.property==oldOptions.property&&newOptions.childObject==oldOptions.childObject&&(killed_1.push(oldOptions),0==animation.animationOptions.length&&animation.kill())}))})),each(killed_1,(function(oldOptions){Array_remove(animation.animationOptions,oldOptions)}))}}))},Animation.prototype.asFunction=function(field){return"easing"==field||_super.prototype.asIs.call(this,field)},Animation}(Base_BaseObjectEvents),SVGNS="http://www.w3.org/2000/svg",XMLNS="http://www.w3.org/2000/xmlns/",XLINK="http://www.w3.org/1999/xlink";function DOM_addEventListener(dom,type,listener,options){return dom.addEventListener(type,listener,options||!1),new Disposer((function(){dom.removeEventListener(type,listener,options||!1)}))}function getElement(el){if(isString(el)){var e=document.getElementById(el);if(null==e&&(e=document.getElementsByClassName(el)[0]),e instanceof HTMLElement)return e}else if(el instanceof HTMLElement)return el}function DOM_addClass(element,className){if(element)if(element.classList)element.classList.add(className);else{var currentClassName=element.getAttribute("class");currentClassName?element.setAttribute("class",currentClassName.split(" ").filter((function(item){return item!==className})).join(" ")+" "+className):element.setAttribute("class",className)}}function DOM_removeClass(element,className){if(element)if(element.classList)element.classList.remove(className);else{var currentClassName=element.getAttribute("class");currentClassName&&element.setAttribute("class",currentClassName.split(" ").filter((function(item){return item!==className})).join(" "))}}function setStyle(element,property,value){element.style[property]=value}function DOM_getComputedStyle(element,property){return element.currentStyle?element.currentStyle[property]:document.defaultView.getComputedStyle(element,null).getPropertyValue(property)}function DOM_blur(){var input=document.createElement("button");input.style.position="fixed",input.style.top="0px",input.style.left="-10000px",document.body.appendChild(input),input.focus(),input.blur(),document.body.removeChild(input)}function DOM_contains(a,b){for(var cursor=b;;){if(a===cursor)return!0;if(null==cursor.parentNode){if(null==cursor.host)return!1;cursor=cursor.host}else cursor=cursor.parentNode}}function getShadowRoot(a){for(var cursor=a;;){if(null==cursor.parentNode)return null!=cursor.host?cursor:null;cursor=cursor.parentNode}}function getRoot(a){for(var owner=a.ownerDocument,cursor=a;;){if(null==cursor.parentNode)return cursor===owner||null!=cursor.host?cursor:null;cursor=cursor.parentNode}}function fixPixelPerfect(el){var fn;fn=function(){try{var rect=el.getBoundingClientRect(),left_1=rect.left-Math.round(rect.left),top_1=rect.top-Math.round(rect.top);0!==left_1&&writeFrame((function(){el.style.left=left_1+"px"})),0!==top_1&&writeFrame((function(){el.style.top=top_1+"px"}))}catch(e){}},readQueue.push(fn),pendFrame()}var DOM_StyleRule=function(_super){function StyleRule(element,selector,styles){var _this=this,root=function(element){if(null==element){if(!Type_hasValue(rootStylesheet))(e=document.createElement("style")).type="text/css",""!=Options_options.nonce&&e.setAttribute("nonce",Options_options.nonce),document.head.appendChild(e),rootStylesheet=e.sheet;return rootStylesheet}var e;return(e=document.createElement("style")).type="text/css",""!=Options_options.nonce&&e.setAttribute("nonce",Options_options.nonce),element.appendChild(e),e.sheet}(element);return(_this=_super.call(this,(function(){var index=Array_indexOf(root.cssRules,_this._rule);if(-1===index)throw new Error("Could not dispose StyleRule");root.deleteRule(index)}))||this)._rule=function(root,selector){var index=root.cssRules.length;return root.insertRule(selector+"{}",index),root.cssRules[index]}(root,selector),Object_each(styles,(function(key,value){_this.setStyle(key,value)})),_this}return Object(tslib_es6.d)(StyleRule,_super),Object.defineProperty(StyleRule.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(selector){this._rule.selectorText=selector},enumerable:!0,configurable:!0}),StyleRule.prototype._setVendorPrefixName=function(name,value){var style=this._rule.style;style.setProperty("-webkit-"+name,value,""),style.setProperty("-moz-"+name,value,""),style.setProperty("-ms-"+name,value,""),style.setProperty("-o-"+name,value,""),style.setProperty(name,value,"")},StyleRule.prototype.setStyle=function(name,value){"transition"===name?this._setVendorPrefixName(name,value):this._rule.style.setProperty(name,value,"")},StyleRule}(Disposer),styleId=0;!function(_super){function StyleClass(element,styles,name){var _this=this,className=Type_hasValue(name)?name:"__style_"+ ++styleId+"__";return(_this=_super.call(this,element,"."+className,styles)||this)._className=className,_this}Object(tslib_es6.d)(StyleClass,_super),Object.defineProperty(StyleClass.prototype,"className",{get:function(){return this._className},set:function(name){this._className=name,this.selector="."+name},enumerable:!0,configurable:!0}),StyleClass.prototype.toString=function(){return this._className}}(DOM_StyleRule);function findFont(element){var font=DOM_getComputedStyle(element,"font-family");if(font)return font;var parent_1=element.parentElement||element.parentNode;return parent_1?findFont(parent_1):void 0}function findFontSize(element){var font=DOM_getComputedStyle(element,"font-size");if(font)return font;var parent_2=element.parentElement||element.parentNode;return parent_2?findFontSize(parent_2):void 0}function isElementInViewport(el,viewportTarget){var rect=el.getBoundingClientRect(),targets=Type_isArray(viewportTarget)?viewportTarget:viewportTarget?[viewportTarget]:[];if(targets.length){for(var i=0;i<targets.length;i++){var target=targets[i];if(!isElementInViewport(target))return!1;var viewportRect=target.getBoundingClientRect();if(rect.top>=0&&rect.left>=0&&rect.top<=viewportRect.top+viewportRect.height&&rect.left<=viewportRect.left+viewportRect.width)return!0}return!1}return rect.top>=0&&rect.left>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth)}var AMElement_AMElement=function(){function AMElement(element){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof element?document.createElementNS(SVGNS,element):element}return AMElement.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(AMElement.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),AMElement.prototype.transform=function(){var transfromString="translate("+this._x+","+this._y+")";if(1!=this._scale&&(transfromString+=(transfromString?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var rotateString="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(rotateString="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),transfromString+=(transfromString?" ":"")+rotateString}this._transformString=transfromString,this.node.setAttribute("transform",transfromString)},AMElement.prototype.getBBox=function(){var bbox={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var svgbbox=this.node.getBBox();bbox.x=svgbbox.x,bbox.y=svgbbox.y,bbox.width=svgbbox.width,bbox.height=svgbbox.height}catch(err){}return bbox},AMElement.prototype.moveTo=function(point){if(point){var x=point.x,y=point.y;this._x==x&&this._y==y||(this._x=x,this._y=y,this.transform())}},Object.defineProperty(AMElement.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(value){this.node.innerHTML=value},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(value){this.node.textContent=value},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"x",{get:function(){return this._x},set:function(value){this._x!=value&&(this._x=value,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"y",{get:function(){return this._y},set:function(value){this._y!=value&&(this._y=value,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"rotation",{get:function(){return this._rotation},set:function(angle){this._rotation!=angle&&(this._rotation=angle,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"rotationX",{get:function(){return this._rotationX},set:function(x){this._rotationX!=x&&(this._rotationX=x,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"rotationY",{get:function(){return this._rotationY},set:function(y){this._rotationY!=y&&(this._rotationY=y,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(AMElement.prototype,"scale",{get:function(){return this._scale},set:function(value){this._scale!=value&&(this._scale=value,this.transform())},enumerable:!0,configurable:!0}),AMElement.prototype.removeAttr=function(attribute){this.node.removeAttribute(attribute)},AMElement.prototype.attr=function(attributes){var _this=this;return Object_each(attributes,(function(attributeName,attributeValue){Type_hasValue(attributeValue)?_this.node.setAttribute(attributeName,attributeValue):_this.node.removeAttribute(attributeName)})),this},AMElement.prototype.getAttr=function(attribute){return this.node.getAttribute(attribute)},AMElement.prototype.attrNS=function(ns,attribute,value){return this.node.setAttributeNS(ns,attribute,value),this},AMElement.prototype.getAttrNS=function(ns,attribute){return this.node.getAttributeNS(ns,attribute)},AMElement.prototype.removeStyle=function(attribute){this.node.style[attribute]=null,delete this.node.style[attribute]},AMElement.prototype.getStyle=function(attribute){return this.node.style[attribute]},AMElement.prototype.addStyle=function(attributes){var _this=this;return Object_each(attributes,(function(attributeName,attributeValue){Type_hasValue(attributeValue)?_this.node.style[attributeName]=attributeValue:_this.removeStyle(attributeName)})),this},AMElement.prototype.addClass=function(name){DOM_addClass(this.node,name)},AMElement.prototype.removeClass=function(name){DOM_removeClass(this.node,name)},AMElement.prototype.setClass=function(name){this.node.setAttribute("class",name)},AMElement.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},AMElement.prototype.isDisposed=function(){return this._isDisposed},AMElement.prototype.dispose=function(){this.removeNode()},AMElement}(),Group_Group=function(_super){function Group(elementName){return _super.call(this,elementName)||this}return Object(tslib_es6.d)(Group,_super),Group.prototype.add=function(element){element&&this.node.appendChild(element.node)},Group.prototype.addToBack=function(element){if(element){var first=this.node.childNodes[0];first?first!=element.node&&this.node.insertBefore(element.node,first):this.node.appendChild(element.node)}},Group.prototype.removeElement=function(element){if(element)try{element.node&&element.node.parentNode==this.node&&this.node.removeChild(element.node)}catch(err){}},Group.prototype.hasChild=function(element){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==element.node)return!0;return!1},Object.defineProperty(Group.prototype,"content",{get:function(){return this.node.innerHTML},set:function(value){this.node.innerHTML=value},enumerable:!0,configurable:!0}),Group.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var childNode=this.node.firstChild;childNode&&childNode.parentNode&&childNode.parentNode.removeChild(childNode)}},Group}(AMElement_AMElement),InterfaceColorSet_InterfaceColorSet=function(_super){function InterfaceColorSet(){var _this=_super.call(this)||this;return _this._purposes={stroke:Color_color("#e5e5e5"),fill:Color_color("#f3f3f3"),primaryButton:Color_color("#6794dc"),primaryButtonHover:Color_color("#6771dc"),primaryButtonDown:Color_color("#68dc75"),primaryButtonActive:Color_color("#68dc75"),primaryButtonText:Color_color("#FFFFFF"),primaryButtonStroke:Color_color("#FFFFFF"),secondaryButton:Color_color("#d9d9d9"),secondaryButtonHover:Color_color("#d9d9d9").brighten(-.25),secondaryButtonDown:Color_color("#d9d9d9").brighten(-.35),secondaryButtonActive:Color_color("#d9d9d9").brighten(.35),secondaryButtonText:Color_color("#000000"),secondaryButtonStroke:Color_color("#FFFFFF"),grid:Color_color("#000000"),background:Color_color("#ffffff"),alternativeBackground:Color_color("#000000"),text:Color_color("#000000"),alternativeText:Color_color("#FFFFFF"),disabledBackground:Color_color("#999999"),positive:Color_color("#67dc75"),negative:Color_color("#dc6788")},_this.className="InterfaceColorSet",_this.applyTheme(),_this}return Object(tslib_es6.d)(InterfaceColorSet,_super),InterfaceColorSet.prototype.debug=function(){},InterfaceColorSet.prototype.getFor=function(purpose){return this._purposes[purpose]},InterfaceColorSet.prototype.setFor=function(purpose,color){this._purposes[purpose]=color},InterfaceColorSet}(Base_BaseObject);Registry_registry.registeredClasses.InterfaceColorSet=InterfaceColorSet_InterfaceColorSet;var PopupCSS_rules=new Dictionary_Dictionary,InteractionObjectEvents_InteractionObjectEventDispatcher=function(_super){function InteractionObjectEventDispatcher(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._domEvents={},_this}return Object(tslib_es6.d)(InteractionObjectEventDispatcher,_super),InteractionObjectEventDispatcher.prototype._addDOMEvent=function(type,key,listener,context){var _this=this;if(!this._domEvents[type]){var callback_1=function(e){listener.call(context,key,e)};this.target.element.addEventListener(type,callback_1,!1),this._domEvents[type]=new Disposer_CounterDisposer((function(){delete _this._domEvents[type],_this.target.element.removeEventListener(type,callback_1,!1)}))}return this._domEvents[type].increment()},InteractionObjectEventDispatcher.prototype._dispatchKeyboardEvent=function(key,ev){this.target.events.isEnabled(key)&&this.target.events.dispatchImmediately(key,{type:key,target:this.target,event:ev})},InteractionObjectEventDispatcher.prototype._on=function(once,type,callback,context,shouldClone,dispatch){var info=_super.prototype._on.call(this,once,type,callback,context,shouldClone,dispatch),disposers=[info.disposer];switch(type){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":disposers.push(this._addDOMEvent(type,type,this._dispatchKeyboardEvent,this))}return info.disposer=new Disposer_MultiDisposer(disposers),info},InteractionObjectEventDispatcher}(EventDispatcher_TargetedEventDispatcher),InteractionObject_InteractionObject=function(_super){function InteractionObject(element){var _this=_super.call(this)||this;return _this._eventDispatcher=new InteractionObjectEvents_InteractionObjectEventDispatcher(_this),_this.eventDisposers=new Dictionary_Dictionary,_this.replacedStyles=new Dictionary_Dictionary,_this._clickable=!1,_this._contextMenuDisabled=!1,_this._hoverable=!1,_this._trackable=!1,_this._draggable=!1,_this._swipeable=!1,_this._resizable=!1,_this._wheelable=!1,_this._inert=!1,_this._isHover=!1,_this.isRealHover=!1,_this._isHoverByTouch=!1,_this._isDown=!1,_this._isFocused=!1,_this._isTouchProtected=!1,_this._inertiaOptions=new Dictionary_Dictionary,_this.inertias=new Dictionary_Dictionary,_this._hitOptions={},_this._hoverOptions={},_this._swipeOptions={},_this._keyboardOptions={},_this._mouseOptions={},_this._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},_this._disposers.push(_this._eventDispatcher),_this._element=element,_this.className="InteractionObject",_this._disposers.push(new Dictionary_DictionaryDisposer(_this.inertias)),_this._disposers.push(new Dictionary_DictionaryDisposer(_this.eventDisposers)),_this.applyTheme(),_this}return Object(tslib_es6.d)(InteractionObject,_super),Object.defineProperty(InteractionObject.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"isHover",{get:function(){return this._isHover},set:function(value){this.isHover!=value&&(this._isHover=value,value?getInteraction().overObjects.moveValue(this):(this.isRealHover=!1,getInteraction().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(value){this.isHoverByTouch!=value&&(this._isHoverByTouch=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new List_List),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"isDown",{get:function(){return this._isDown},set:function(value){this.isDown!=value&&(this._isDown=value,value?getInteraction().downObjects.moveValue(this):getInteraction().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new List_List),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"isFocused",{get:function(){return this._isFocused},set:function(value){this.isFocused!=value&&(this._isFocused=value,getInteraction().focusedObject=value?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(value){this._isTouchProtected!=value&&(this._isTouchProtected=value,value?getInteraction().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&getInteraction().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"clickable",{get:function(){return this._clickable},set:function(value){this._clickable!==value&&(this._clickable=value,getInteraction().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(value){this._contextMenuDisabled!==value&&(this._contextMenuDisabled=value,getInteraction().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"hoverable",{get:function(){return this._hoverable},set:function(value){this._hoverable!==value&&(this._hoverable=value,getInteraction().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"trackable",{get:function(){return this._trackable},set:function(value){this._trackable!==value&&(this._trackable=value,getInteraction().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"draggable",{get:function(){return this._draggable},set:function(value){this._draggable!==value&&(this._draggable=value,getInteraction().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"swipeable",{get:function(){return this._swipeable},set:function(value){this._swipeable!==value&&(this._swipeable=value,getInteraction().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"resizable",{get:function(){return this._resizable},set:function(value){this._resizable!==value&&(this._resizable=value,getInteraction().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"wheelable",{get:function(){return this._wheelable},set:function(value){this._wheelable!==value&&(this._wheelable=value,getInteraction().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"inert",{get:function(){return this._inert},set:function(value){this._inert!==value&&(this._inert=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"focusable",{get:function(){return this._focusable},set:function(value){this._focusable!==value&&(this._focusable=value,this._focusable&&-1==this.tabindex&&(this._tabindex=1),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"tabindex",{get:function(){return getValueDefault(this._tabindex,-1)},set:function(value){this._tabindex!==value&&(this._tabindex=value,value>-1&&(this.focusable=!0),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"element",{get:function(){return this._element},set:function(element){this._element=element},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(value){this._originalPosition=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"originalScale",{get:function(){return getValueDefault(this._originalScale,1)},set:function(value){this._originalScale!==value&&(this._originalScale=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"originalAngle",{get:function(){return getValueDefault(this._originalAngle,0)},set:function(value){this._originalAngle!==value&&(this._originalAngle=value)},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(value){this._inertiaOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(value){this._hitOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(value){this._hoverOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(value){this._swipeOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(value){this._keyboardOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(value){this._mouseOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(InteractionObject.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(value){this._cursorOptions=value},enumerable:!0,configurable:!0}),InteractionObject.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.inertiaOptions=source.inertiaOptions,this.hitOptions=source.hitOptions,this.hoverOptions=source.hoverOptions,this.swipeOptions=source.swipeOptions,this.keyboardOptions=source.keyboardOptions,this.cursorOptions=source.cursorOptions,this.contextMenuDisabled=source.contextMenuDisabled,getInteraction().applyCursorOverStyle(this)},InteractionObject.prototype.setEventDisposer=function(key,value,f){var disposer=this.eventDisposers.getKey(key);value?null==disposer&&this.eventDisposers.setKey(key,f()):null!=disposer&&(disposer.dispose(),this.eventDisposers.removeKey(key))},InteractionObject.prototype.dispose=function(){_super.prototype.dispose.call(this);var interaction=getInteraction();interaction.overObjects.removeValue(this),interaction.downObjects.removeValue(this),interaction.trackedObjects.removeValue(this),interaction.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&interaction.unlockWheel(),interaction.focusedObject===this&&(interaction.focusedObject=void 0)},InteractionObject}(Base_BaseObjectEvents),InteractionKeyboardObject_InteractionKeyboardObject=function(){function InteractionKeyboardObject(io,ev){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=io,this.keyboardEvent=ev,this._startedOn=(new Date).getTime(),getInteraction().processDragStart(io),system.animations.push(this),this.update()}return InteractionKeyboardObject.prototype.update=function(){var io=this.interaction,speed=getInteraction().getKeyboardOption(io,"speed"),accelleration=getInteraction().getKeyboardOption(io,"accelleration"),accellerationDelay=getInteraction().getKeyboardOption(io,"accellerationDelay"),shift={x:0,y:0};this.keyboardEvent.shiftKey?(speed*=.5,accelleration=1):this.keyboardEvent.ctrlKey&&(speed*=2);var ms=(new Date).getTime()-this._startedOn,accelleratedMs=ms-accellerationDelay;if(accelleration>0&&accelleratedMs>0){var accellerationFactor=ms/accellerationDelay;ms=accellerationDelay,shift.x+=this.directionX*(speed*accelleration*accellerationFactor*accelleratedMs),shift.y+=this.directionY*(speed*accelleration*accellerationFactor*accelleratedMs)}shift.x+=this.directionX*(speed*ms),shift.y+=this.directionY*(speed*ms),getInteraction().handleTransformMove(io,shift,{x:0,y:0},this.keyboardEvent,!0,!1)},InteractionKeyboardObject.prototype.isDisposed=function(){return this._disposed},InteractionKeyboardObject.prototype.dispose=function(){this._disposed||(getInteraction().processDragStop(this.interaction),Array_remove(system.animations,this))},InteractionKeyboardObject}(),Inertia_Inertia=function(_super){function Inertia(interaction,type,point,startPoint){var _this=_super.call(this)||this;return _this.animations=[],_this.className="Inertia",_this.interaction=interaction,_this.type=type,_this.point=point,_this.startPoint=startPoint,_this._disposers.push(new Animation_AnimationDisposer(_this.animations)),_this}return Object(tslib_es6.d)(Inertia,_super),Object.defineProperty(Inertia.prototype,"x",{get:function(){return this.point.x},set:function(value){isNumber(value)&&(this.point.x=value,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(Inertia.prototype,"y",{get:function(){return this.point.y},set:function(value){isNumber(value)&&(this.point.y=value,this.handleMove())},enumerable:!0,configurable:!0}),Inertia.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var imev={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",imev)}},Inertia.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&getInteraction().processDragStop(this.interaction),this.dispose()},Inertia}(Base_BaseObject),keyboard=new(function(){function Keyboard(){}return Keyboard.prototype.getEventKey=function(ev){var key;switch(ev.keyCode||ev.which){case 38:key="up";break;case 40:key="down";break;case 37:key="left";break;case 39:key="right";break;case 13:key="enter";break;case 27:key="esc";break;case 36:key="home";break;case 35:key="end";break;case 9:key="tab";break;case 17:key="ctrl";break;case 18:key="alt";break;case 16:key="shift";break;case 32:key="space";break;case 36:key="home";break;case 35:key="end";break;case 33:key="pgup";break;case 34:key="pgdn";break;case 45:key="ins";break;case 46:key="del";break;case 107:key="plus";break;case 109:key="minus";break;default:key="other"}return key},Keyboard.prototype.isKey=function(ev,key){var eventKey=this.getEventKey(ev);return isString(key)&&(key=[key]),-1!==key.indexOf(eventKey)},Keyboard.prototype.shiftKey=function(ev){return ev.shiftKey},Keyboard.prototype.ctrlKey=function(ev){return ev.ctrlKey},Keyboard.prototype.altKey=function(ev){return ev.altKey},Keyboard.prototype.metaKey=function(ev){return ev.metaKey},Keyboard}()),timeUnitDurations={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function getNextUnit(unit){switch(unit){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function getDuration(unit,count){return Type_hasValue(count)||(count=1),timeUnitDurations[unit]*count}function getTime(){return(new Date).getTime()}function Time_copy(date){return new Date(date.getTime())}function checkChange(dateOne,dateTwo,unit,utc){dateOne=new Date(dateOne.getTime()),dateTwo=new Date(dateTwo.getTime());var timeZoneOffset1=0,timeZoneOffset2=0;utc||"millisecond"==unit||(timeZoneOffset1=dateOne.getTimezoneOffset(),dateOne.setUTCMinutes(dateOne.getUTCMinutes()-timeZoneOffset1),timeZoneOffset2=dateTwo.getTimezoneOffset(),dateTwo.setUTCMinutes(dateTwo.getUTCMinutes()-timeZoneOffset2));var changed=!1;switch(unit){case"year":dateOne.getUTCFullYear()!=dateTwo.getUTCFullYear()&&(changed=!0);break;case"month":dateOne.getUTCFullYear()!=dateTwo.getUTCFullYear()?changed=!0:dateOne.getUTCMonth()!=dateTwo.getUTCMonth()&&(changed=!0);break;case"day":dateOne.getUTCMonth()!=dateTwo.getUTCMonth()?changed=!0:dateOne.getUTCDate()!=dateTwo.getUTCDate()&&(changed=!0);break;case"hour":dateOne.getUTCHours()!=dateTwo.getUTCHours()&&(changed=!0);break;case"minute":dateOne.getUTCMinutes()!=dateTwo.getUTCMinutes()&&(changed=!0);break;case"second":dateOne.getUTCSeconds()!=dateTwo.getUTCSeconds()&&(changed=!0);break;case"millisecond":dateOne.getTime()!=dateTwo.getTime()&&(changed=!0)}if(changed)return!0;var nextUnit=getNextUnit(unit);return!!nextUnit&&(dateOne.setUTCMinutes(dateOne.getUTCMinutes()+timeZoneOffset1),dateTwo.setUTCMinutes(dateTwo.getUTCMinutes()+timeZoneOffset2),checkChange(dateOne,dateTwo,nextUnit,utc))}function Time_add(date,unit,count,utc){var timeZoneOffset=0;switch(utc||"millisecond"==unit||(timeZoneOffset=date.getTimezoneOffset(),date.setUTCMinutes(date.getUTCMinutes()-timeZoneOffset)),unit){case"day":var day=date.getUTCDate();date.setUTCDate(day+count);break;case"second":var seconds=date.getUTCSeconds();date.setUTCSeconds(seconds+count);break;case"millisecond":var milliseconds=date.getUTCMilliseconds();date.setUTCMilliseconds(milliseconds+count);break;case"hour":var hours=date.getUTCHours();date.setUTCHours(hours+count);break;case"minute":var minutes=date.getUTCMinutes();date.setUTCMinutes(minutes+count);break;case"year":var year=date.getUTCFullYear();date.setUTCFullYear(year+count);break;case"month":var month=date.getUTCMonth();date.setUTCMonth(month+count);break;case"week":var wday=date.getUTCDate();date.setUTCDate(wday+7*count)}if(!utc&&"millisecond"!=unit&&(date.setUTCMinutes(date.getUTCMinutes()+timeZoneOffset),"day"==unit||"week"==unit||"month"==unit||"year"==unit)){var newTimeZoneOffset=date.getTimezoneOffset();if(newTimeZoneOffset!=timeZoneOffset){var diff=newTimeZoneOffset-timeZoneOffset;date.setUTCMinutes(date.getUTCMinutes()+diff),date.getTimezoneOffset()!=newTimeZoneOffset&&date.setUTCMinutes(date.getUTCMinutes()-diff)}}return date}function Time_round(date,unit,count,firstDateOfWeek,utc,firstDate){isNumber(count)||(count=1);var timeZoneOffset=0;switch(utc||"millisecond"==unit||(timeZoneOffset=date.getTimezoneOffset(),date.setUTCMinutes(date.getUTCMinutes()-timeZoneOffset)),unit){case"day":var day=date.getUTCDate();if(count>1){if(firstDate){firstDate=Time_round(firstDate,"day",1);var difference=date.getTime()-firstDate.getTime(),unitCount=Math.floor(difference/getDuration("day")/count),duration=getDuration("day",unitCount*count);date.setTime(firstDate.getTime()+duration-timeZoneOffset*getDuration("minute"))}}else date.setUTCDate(day);date.setUTCHours(0,0,0,0);break;case"second":var seconds=date.getUTCSeconds();count>1&&(seconds=Math.floor(seconds/count)*count),date.setUTCSeconds(seconds,0);break;case"millisecond":if(1==count)return date;var milliseconds=date.getUTCMilliseconds();milliseconds=Math.floor(milliseconds/count)*count,date.setUTCMilliseconds(milliseconds);break;case"hour":var hours=date.getUTCHours();count>1&&(hours=Math.floor(hours/count)*count),date.setUTCHours(hours,0,0,0);break;case"minute":var minutes=date.getUTCMinutes();milliseconds=date.getUTCMilliseconds(),count>1&&(minutes=Math.floor(minutes/count)*count),date.setUTCMinutes(minutes,0,0);break;case"month":var month=date.getUTCMonth();count>1&&(month=Math.floor(month/count)*count),date.setUTCMonth(month,1),date.setUTCHours(0,0,0,0);break;case"year":var year=date.getUTCFullYear();count>1&&(year=Math.floor(year/count)*count),date.setUTCFullYear(year,0,1),date.setUTCHours(0,0,0,0);break;case"week":var wday=date.getUTCDate(),weekDay=date.getUTCDay();isNumber(firstDateOfWeek)||(firstDateOfWeek=1),wday=weekDay>=firstDateOfWeek?wday-weekDay+firstDateOfWeek:wday-(7+weekDay)+firstDateOfWeek,date.setUTCDate(wday),date.setUTCHours(0,0,0,0)}if(!utc&&"millisecond"!=unit&&(date.setUTCMinutes(date.getUTCMinutes()+timeZoneOffset),"day"==unit||"week"==unit||"month"==unit||"year"==unit)){var newTimeZoneOffset=date.getTimezoneOffset();if(newTimeZoneOffset!=timeZoneOffset){var diff=newTimeZoneOffset-timeZoneOffset;date.setUTCMinutes(date.getUTCMinutes()+diff)}}return date}function setTimezone(date,timezone){return new Date(date.toLocaleString("en-US",{timeZone:timezone}))}var Interaction_Interaction=function(_super){function Interaction(){var _this=_super.call(this)||this;return _this._globalEventsAdded=!1,_this._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},_this._usePointerEventsOnly=!1,_this._useTouchEventsOnly=!1,_this._addHoverEvents=!0,_this._passiveSupported=!1,_this._delayedEvents={out:[]},_this.overObjects=new List_List,_this.downObjects=new List_List,_this.trackedObjects=new List_List,_this.transformedObjects=new List_List,_this.pointers=new Dictionary_Dictionary,_this.inertiaOptions=new Dictionary_Dictionary,_this.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},_this.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},_this.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},_this.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},_this.mouseOptions={sensitivity:1},_this.className="Interaction",_this.body=_this.getInteraction(document.body),_this._disposers.push(_this.body),window.hasOwnProperty("PointerEvent")?(_this._pointerEvents.pointerdown="pointerdown",_this._pointerEvents.pointerup="pointerup",_this._pointerEvents.pointermove="pointermove",_this._pointerEvents.pointercancel="pointercancel",_this._pointerEvents.pointerover="pointerover",_this._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(_this._pointerEvents.pointerdown="MSPointerDown",_this._pointerEvents.pointerup="MSPointerUp",_this._pointerEvents.pointermove="MSPointerMove",_this._pointerEvents.pointercancel="MSPointerUp",_this._pointerEvents.pointerover="MSPointerOver",_this._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(_this._addHoverEvents=!1,_this._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)?_this._usePointerEventsOnly=!0:_this.fullFF()?_this._usePointerEventsOnly=!0:_this._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?_this._pointerEvents.wheel="wheel":Type_hasValue(document.onmousewheel)&&(_this._pointerEvents.wheel="mousewheel"),_this.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:polyOut3}),_this.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:polyOut3}),_this._passiveSupported=Interaction.passiveSupported,_this.applyTheme(),_this}return Object(tslib_es6.d)(Interaction,_super),Interaction.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},Interaction.prototype.debug=function(){},Interaction.prototype.addGlobalEvents=function(){var _this=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(DOM_addEventListener(document,this._pointerEvents.pointerdown,(function(ev){_this.handleGlobalPointerDown(ev)}))),this._disposers.push(DOM_addEventListener(document,this._pointerEvents.pointermove,(function(ev){_this.handleGlobalPointerMove(ev)}))),this._disposers.push(DOM_addEventListener(document,this._pointerEvents.pointerup,(function(ev){_this.handleGlobalPointerUp(ev)}))),this._disposers.push(DOM_addEventListener(document,this._pointerEvents.pointercancel,(function(ev){_this.handleGlobalPointerUp(ev,!0)}))),this._disposers.push(DOM_addEventListener(document,"mouseenter",(function(ev){Type_hasValue(ev.relatedTarget)||0!=ev.buttons&&0!=ev.which||_this.handleDocumentLeave(ev)})))),this._usePointerEventsOnly||(this._disposers.push(DOM_addEventListener(document,"touchstart",(function(ev){_this.handleGlobalTouchStart(ev)}))),this._disposers.push(DOM_addEventListener(document,"touchmove",(function(ev){_this.handleGlobalTouchMove(ev)}))),this._disposers.push(DOM_addEventListener(document,"touchend",(function(ev){_this.handleGlobalTouchEnd(ev)})))),this._disposers.push(DOM_addEventListener(document,"keydown",(function(ev){_this.handleGlobalKeyDown(ev)}))),this._disposers.push(DOM_addEventListener(document,"keyup",(function(ev){_this.handleGlobalKeyUp(ev)}))),this._globalEventsAdded=!0)},Interaction.prototype.processClickable=function(io){this.processTouchable(io)},Interaction.prototype.processContextMenu=function(io){io.contextMenuDisabled?io.eventDisposers.hasKey("contextMenuDisabled")||io.eventDisposers.setKey("contextMenuDisabled",DOM_addEventListener(io.element,"contextmenu",(function(e){e.preventDefault()}))):io.eventDisposers.hasKey("contextMenuDisabled")&&io.eventDisposers.getKey("contextMenuDisabled").dispose()},Interaction.prototype.processHoverable=function(io){var _this=this;if(io.hoverable||io.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(io),!io.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&io.eventDisposers.setKey("hoverable",new Disposer_MultiDisposer([DOM_addEventListener(io.element,this._pointerEvents.pointerout,(function(e){return _this.handlePointerOut(io,e)})),DOM_addEventListener(io.element,this._pointerEvents.pointerover,(function(e){return _this.handlePointerOver(io,e)}))])),io.trackable;else{var disposer=io.eventDisposers.getKey("hoverable");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey("hoverable"))}this.processTouchable(io)},Interaction.prototype.processMovable=function(io){(io.draggable||io.swipeable||io.trackable||io.resizable)&&(this.isGlobalElement(io)||io.isTouchProtected||this.prepElement(io),this.applyCursorOverStyle(io)),this.processTouchable(io)},Interaction.prototype.processTrackable=function(io){this.processHoverable(io),this.processMovable(io),io.trackable?this.trackedObjects.moveValue(io):this.trackedObjects.removeValue(io)},Interaction.prototype.processDraggable=function(io){this.processMovable(io)},Interaction.prototype.processSwipeable=function(io){this.processMovable(io)},Interaction.prototype.processResizable=function(io){this.processMovable(io)},Interaction.prototype.processWheelable=function(io){var _this=this;if(io.wheelable)io.eventDisposers.hasKey("wheelable")||io.eventDisposers.setKey("wheelable",new Disposer_MultiDisposer([DOM_addEventListener(io.element,this._pointerEvents.wheel,(function(e){return _this.handleMouseWheel(io,e)}),!!this._passiveSupported&&{passive:!1}),io.events.on("out",(function(e){io.wheelable&&_this.unlockWheel()})),io.events.on("over",(function(e){io.wheelable&&_this.lockWheel()}))]));else{var disposer=io.eventDisposers.getKey("wheelable");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey("wheelable"))}},Interaction.prototype.processFocusable=function(io){var _this=this;if(!0===io.focusable&&io.tabindex>-1&&!this._useTouchEventsOnly)io.eventDisposers.hasKey("focusable")||io.eventDisposers.setKey("focusable",new Disposer_MultiDisposer([DOM_addEventListener(io.element,"focus",(function(e){return _this.handleFocus(io,e)})),DOM_addEventListener(io.element,"blur",(function(e){return _this.handleBlur(io,e)})),DOM_addEventListener(io.element,this._pointerEvents.pointerdown,(function(e){return _this.handleFocusBlur(io,e)})),DOM_addEventListener(io.element,"touchstart",(function(e){return _this.handleFocusBlur(io,e)}),!!this._passiveSupported&&{passive:!1})]));else{var disposer=io.eventDisposers.getKey("focusable");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey("focusable"))}},Interaction.prototype.processTouchable=function(io){var _this=this;if(io.clickable||io.hoverable||io.trackable||io.draggable||io.swipeable||io.resizable)this.addGlobalEvents(),io.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||io.eventDisposers.setKey("touchable",DOM_addEventListener(io.element,"touchstart",(function(e){return _this.handleTouchDown(io,e)}),!!this._passiveSupported&&{passive:!1})):io.eventDisposers.setKey("touchable",DOM_addEventListener(io.element,this._pointerEvents.pointerdown,(function(e){return _this.handlePointerDown(io,e)}))):io.eventDisposers.setKey("touchable",new Disposer_MultiDisposer([DOM_addEventListener(io.element,this._pointerEvents.pointerdown,(function(e){return _this.handlePointerDown(io,e)})),DOM_addEventListener(io.element,"touchstart",(function(e){return _this.handleTouchDown(io,e)}),!!this._passiveSupported&&{passive:!1})])));else{var disposer=io.eventDisposers.getKey("touchable");null!=disposer&&(disposer.dispose(),io.eventDisposers.removeKey("touchable"))}},Interaction.prototype.handleFocus=function(io,ev){if(io.focusable){if(io.isFocused=!0,io.events.isEnabled("focus")&&!system.isPaused){var imev={type:"focus",target:io,event:ev};io.events.dispatchImmediately("focus",imev)}}else ev.preventDefault()},Interaction.prototype.handleFocusBlur=function(io,ev){!1!==io.focusable&&this.getHitOption(io,"noFocus")&&io.events.once("focus",(function(){io.events.disableType("blur"),DOM_blur(),io.sprite&&io.sprite.handleBlur(),io.events.enableType("blur")}))},Interaction.prototype.handleBlur=function(io,ev){if(io.focusable){if(io.isFocused=!1,io.events.isEnabled("blur")&&!system.isPaused){var imev={type:"blur",target:io,event:ev};io.events.dispatchImmediately("blur",imev)}}else ev.preventDefault()},Interaction.prototype.handleGlobalKeyDown=function(ev){if(this.focusedObject)if(keyboard.isKey(ev,"esc"))DOM_blur();else if(this.focusedObject.draggable&&keyboard.isKey(ev,["up","down","left","right"])){ev.preventDefault();var io=this.focusedObject;if(io.eventDisposers.hasKey("interactionKeyboardObject"))return;var ko=new InteractionKeyboardObject_InteractionKeyboardObject(io,ev);switch(io.eventDisposers.setKey("interactionKeyboardObject",ko),keyboard.getEventKey(ev)){case"up":ko.directionY=-1;break;case"down":ko.directionY=1;break;case"left":ko.directionX=-1;break;case"right":ko.directionX=1}}},Interaction.prototype.handleGlobalKeyUp=function(ev){if(this.focusedObject){var disposer=this.focusedObject.eventDisposers.getKey("interactionKeyboardObject");null!=disposer&&(ev.preventDefault(),disposer.dispose(),this.focusedObject.eventDisposers.removeKey("interactionKeyboardObject")),keyboard.isKey(ev,"enter")&&this.focusedObject.sprite&&this.focusedObject.sprite.events.isEnabled("hit")&&!this.focusedObject.sprite.events.isEnabled("toggled")&&this.focusedObject.dispatchImmediately("hit")}},Interaction.prototype.handleGlobalPointerMove=function(ev){var pointer=this.getPointer(ev);if(pointer.point=this.getPointerPoint(ev),this.events.isEnabled("track")&&!system.isPaused){var imev={type:"track",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("track",imev)}this.addBreadCrumb(pointer,pointer.point),this.handleGlobalMove(pointer,ev)},Interaction.prototype.handleGlobalPointerDown=function(ev){this.processDelayed();var pointer=this.getPointer(ev);if(this.events.isEnabled("down")&&!system.isPaused){var imev={type:"down",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("down",imev)}},Interaction.prototype.preventTouchAction=function(ev){ev.defaultPrevented||ev.preventDefault()},Interaction.prototype.handleGlobalPointerUp=function(ev,cancelled){void 0===cancelled&&(cancelled=!1);var pointer=this.getPointer(ev);if(this.events.isEnabled("up")&&!system.isPaused){var imev={type:"up",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("up",imev)}this.handleGlobalUp(pointer,ev,cancelled)},Interaction.prototype.handleGlobalTouchMove=function(ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);if(pointer.point=this.getPointerPoint(ev.changedTouches[i]),this.events.isEnabled("track")&&!system.isPaused){var imev={type:"track",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("track",imev)}this.addBreadCrumb(pointer,pointer.point),this.handleGlobalMove(pointer,ev)}},Interaction.prototype.handleGlobalTouchStart=function(ev){this.processDelayed();for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!system.isPaused){var imev={type:"down",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("down",imev)}}},Interaction.prototype.handleGlobalTouchEnd=function(ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);if(this.events.isEnabled("up")&&!system.isPaused){var imev={type:"up",target:this,event:ev,pointer:pointer,touch:pointer.touch};this.events.dispatchImmediately("up",imev)}this.handleGlobalUp(pointer,ev)}},Interaction.prototype.handlePointerDown=function(io,ev){var pointer=this.getPointer(ev);(pointer.touch||1==ev.which||3==ev.which)&&(pointer.button=ev.which,this.resetPointer(pointer,ev),this.handleDown(io,pointer,ev))},Interaction.prototype.handlePointerOver=function(io,ev){var pointer=this.getPointer(ev);this.handleOver(io,pointer,ev)},Interaction.prototype.handlePointerOut=function(io,ev){var pointer=this.getPointer(ev);this.handleOut(io,pointer,ev)},Interaction.prototype.handleMouseWheel=function(io,ev){var pointer=this.getPointer(ev);pointer.point=this.getPointerPoint(ev);var deltaX=0,deltaY=0,mod=1;if(1==ev.deltaMode&&(mod=50),mod*=this.getMouseOption(io,"sensitivity"),!(ev instanceof WheelEvent))throw new Error("Invalid event type");deltaX=Math.round(-1*ev.wheelDeltaX||ev.deltaX)*mod,deltaY=Math.round(-1*ev.wheelDeltaY||ev.deltaY)*mod,this.handleWheel(io,pointer,deltaX,deltaY,ev)},Interaction.prototype.handleTouchDown=function(io,ev){for(var i=0;i<ev.changedTouches.length;i++){var pointer=this.getPointer(ev.changedTouches[i]);this.maybePreventDefault(io,ev,pointer),this.resetPointer(pointer,ev.changedTouches[i]),this.handleDown(io,pointer,ev)}},Interaction.prototype.handleHit=function(io,pointer,ev){var now=getTime();if(io.lastHit&&io.lastHit>=now-this.getHitOption(io,"doubleHitTime")){if(now-io.lastHit<100)return;if(io.lastHit=void 0,io.lastHitPointer=void 0,io.events.isEnabled("doublehit")&&!system.isPaused){var imev={type:"doublehit",target:io,point:pointer.point,event:ev,touch:pointer.touch};io.events.dispatchImmediately("doublehit",imev)}}else if(io.lastHit=now,io.lastHitPointer=pointer,3===pointer.button){if(io.events.isEnabled("rightclick")&&!system.isPaused){imev={type:"rightclick",target:io,event:ev};io.events.dispatchImmediately("rightclick",imev)}}else if(io.events.isEnabled("hit")&&!system.isPaused){imev={type:"hit",target:io,event:ev,point:pointer.point,touch:pointer.touch};io.events.dispatchImmediately("hit",imev)}},Interaction.prototype.handleOver=function(io,pointer,ev,soft){if(void 0===soft&&(soft=!1),io.hoverable){var hoversPaused=!1;if(this.shouldCancelHovers(pointer)&&this.areTransformed()&&this.moved(pointer,this.getHitOption(io,"hitTolerance"))&&(hoversPaused=!0,this.cancelAllHovers(ev)),this.processDelayed(),io.overPointers.moveValue(pointer),!io.isRealHover&&(hoversPaused||(io.isHover=!0,io.isRealHover=!0,this.overObjects.moveValue(io)),this.handleTrack(this.body,pointer,ev,!0),io.events.isEnabled("over")&&!system.isPaused&&!hoversPaused)){var imev={type:"over",target:io,event:ev,pointer:pointer,touch:pointer.touch};io.events.dispatchImmediately("over",imev)}}},Interaction.prototype.handleOut=function(io,pointer,ev,soft,force){var _this=this;if(void 0===soft&&(soft=!1),void 0===force&&(force=!1),io.hoverable&&(io.overPointers.removeValue(pointer),io.isHover&&(!io.hasDelayedOut||force))){if(soft&&io.overPointers.length)return;if(pointer.touch&&!force&&!this.old(pointer)){var behavior=this.getHoverOption(io,"touchOutBehavior");if("leave"==behavior)return this._delayedEvents.out.push({type:"out",io:io,pointer:pointer,event:ev,keepUntil:getTime()+500}),void(io.hasDelayedOut=!0);if("delay"==behavior&&this.getHoverOption(io,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:io,pointer:pointer,event:ev,keepUntil:getTime()+500,timeout:this.setTimeout((function(){_this.handleOut(io,pointer,ev,!0)}),this.getHoverOption(io,"touchOutDelay"))})}if(io.isHover=!1,this.overObjects.removeValue(io),io.events.isEnabled("out")&&!system.isPaused){var imev={type:"out",target:io,event:ev,pointer:pointer,touch:pointer.touch};io.events.dispatchImmediately("out",imev)}io.overPointers.clear(),io.hasDelayedOut=!1}},Interaction.prototype.processDelayed=function(){for(var delayedEvent;delayedEvent=this._delayedEvents.out.pop();)delayedEvent.timeout&&delayedEvent.timeout.dispose(),this.handleOut(delayedEvent.io,delayedEvent.pointer,delayedEvent.event,!1,!0)},Interaction.prototype.handleDown=function(io,pointer,ev){if(this.maybePreventDefault(io,ev,pointer),io.inert&&this.stopInertia(io),this.handleOver(io,pointer,ev,!0),io.downPointers.moveValue(pointer),this.applyCursorDownStyle(io,pointer),io.isDown||(!1!==io.focusable&&this.getHitOption(io,"noFocus")&&this.focusedObject&&DOM_blur(),io.isDown=!0,this.downObjects.moveValue(io),io.draggable&&this.processDragStart(io,pointer,ev),io.resizable&&this.processResizeStart(io,pointer,ev)),io.events.isEnabled("down")&&!system.isPaused){var imev={type:"down",target:io,event:ev,pointer:pointer,touch:pointer.touch};io.events.dispatchImmediately("down",imev)}},Interaction.prototype.handleGlobalUp=function(pointer,ev,cancelled){var _this=this;void 0===cancelled&&(cancelled=!1);var sorted=this.downObjects.values.slice();sorted.sort((function(x,y){if(x&&y){var pos=x.element.compareDocumentPosition(y.element);return pos&Node.DOCUMENT_POSITION_CONTAINED_BY?1:pos&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0})),each(sorted,(function(io){io&&io.downPointers.contains(pointer)&&_this.handleUp(io,pointer,ev,cancelled)}))},Interaction.prototype.handleDocumentLeave=function(ev){var _this=this;Iterator_each(this.downObjects.backwards().iterator(),(function(io){io.downPointers.each((function(pointer){_this.handleUp(io,pointer,ev)}))}))},Interaction.prototype.handleUp=function(io,pointer,ev,cancelled){if(void 0===cancelled&&(cancelled=!1),this.restoreCursorDownStyle(io,pointer),io.downPointers.removeValue(pointer),(pointer.touch||this._useTouchEventsOnly)&&this.handleOut(io,pointer,ev,!0),io.isDown){if(0==io.downPointers.length&&(io.isDown=!1,this.downObjects.removeValue(io)),io.events.isEnabled("up")&&!system.isPaused){var imev={type:"up",target:io,event:ev,pointer:pointer,touch:pointer.touch};io.events.dispatchImmediately("up",imev)}cancelled||(io.swipeable&&this.swiped(io,pointer)?this.handleSwipe(io,pointer,ev):(io.clickable&&!this.moved(pointer,this.getHitOption(io,"hitTolerance"))&&this.handleHit(io,pointer,ev),io.inert&&this.moved(pointer,this.getHitOption(io,"hitTolerance"))?this.handleInertia(io,pointer):io.draggable&&this.processDragStop(io,pointer,ev),io.resizable&&this.processResizeStop(io,pointer,ev)))}},Interaction.prototype.maybePreventDefault=function(io,ev,pointer){!Type_hasValue(ev)||!(io.draggable||io.swipeable||io.trackable||io.resizable)||this.isGlobalElement(io)||!1===ev.cancelable||io.isTouchProtected&&pointer&&pointer.touch||ev.preventDefault()},Interaction.prototype.cancelAllHovers=function(ev){var _this=this;Iterator_each(this.overObjects.backwards().iterator(),(function(io){if(io){var pointer=io.overPointers.getIndex(0);_this.handleOut(io,pointer,ev,!0,!0)}}))},Interaction.prototype.shouldCancelHovers=function(pointer){return"always"==Options_options.disableHoverOnTransform||"touch"==Options_options.disableHoverOnTransform&&pointer.touch},Interaction.prototype.handleGlobalMove=function(pointer,ev){var event,_this=this;if(!pointer.touch){var target_1="function"==typeof(event=pointer.lastEvent).composedPath?event.composedPath()[0]:event.target;Iterator_each(this.overObjects.backwards().iterator(),(function(io){if(io&&io.overPointers.contains(pointer)&&io.hoverable){var reset=!1;io.element&&pointer.lastEvent&&DOM_contains(io.element,target_1)||(reset=!0),reset&&_this.handleOut(io,pointer,ev,!0)}}))}Iterator_each(this.transformedObjects.backwards().iterator(),(function(io){!io.downPointers.contains(pointer)||io.swipeable&&_this.swiping(io,pointer)||!io.draggable&&!io.resizable||_this.handleTransform(io,ev)})),Iterator_each(this.trackedObjects.backwards().iterator(),(function(io){io.overPointers.contains(pointer)||_this.handleTrack(io,pointer,ev)}))},Interaction.prototype.handleTrack=function(io,pointer,ev,skipCheck){if(void 0===skipCheck&&(skipCheck=!1),(skipCheck||this.moved(pointer,0))&&io.events.isEnabled("track")&&!system.isPaused){var imev={type:"track",target:io,event:ev,point:pointer.point,pointer:pointer,touch:pointer.touch};io.events.dispatchImmediately("track",imev)}},Interaction.prototype.handleSwipe=function(io,pointer,ev){if(io.events.isEnabled("swipe")&&!system.isPaused){var imev={type:"swipe",target:io,event:ev,touch:pointer.touch};io.events.dispatchImmediately("swipe",imev)}if(pointer.startPoint.x<pointer.point.x){if(io.events.isEnabled("swiperight")&&!system.isPaused){imev={type:"swiperight",target:io,event:ev,touch:pointer.touch};io.events.dispatchImmediately("swiperight",imev)}}else if(io.events.isEnabled("swipeleft")&&!system.isPaused){imev={type:"swipeleft",target:io,event:ev,touch:pointer.touch};io.events.dispatchImmediately("swipeleft",imev)}},Interaction.prototype.handleWheel=function(io,pointer,deltaX,deltaY,ev){var shift={x:deltaX,y:deltaY};io.events.isEnabled("wheel")&&!system.isPaused&&io.events.dispatchImmediately("wheel",{type:"wheel",target:io,event:ev,point:pointer.point,shift:shift}),deltaX<0?io.events.isEnabled("wheelleft")&&!system.isPaused&&io.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:io,event:ev,point:pointer.point,shift:shift}):deltaX>0?io.events.isEnabled("swiperight")&&!system.isPaused&&io.events.dispatchImmediately("wheelright",{type:"wheelright",target:io,event:ev,point:pointer.point,shift:shift}):deltaY<0?io.events.isEnabled("wheelup")&&!system.isPaused&&io.events.dispatchImmediately("wheelup",{type:"wheelup",target:io,event:ev,point:pointer.point,shift:shift}):deltaY>0&&io.events.isEnabled("wheeldown")&&!system.isPaused&&io.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:io,event:ev,point:pointer.point,shift:shift})},Interaction.prototype.handleInertia=function(io,pointer){io.draggable&&0===io.downPointers.length&&this.handleMoveInertia(io,pointer),io.resizable&&io.downPointers.length>1&&this.handleResizeInertia(io,pointer)},Interaction.prototype.handleMoveInertia=function(io,pointer){var interaction=io,point={x:pointer.point.x,y:pointer.point.y},startPoint={x:pointer.startPoint.x,y:pointer.startPoint.y},inertia=new Inertia_Inertia(interaction,"move",point,startPoint),ref=this.getTrailPoint(pointer,getTime()-this.getInertiaOption(io,"move","time"));if(void 0!==ref){var factor=this.getInertiaOption(io,"move","factor"),animationOptions=[{to:pointer.point.x+(pointer.point.x-ref.point.x)*factor,property:"x"},{to:pointer.point.y+(pointer.point.y-ref.point.y)*factor,property:"y"}],animation=new Animation_Animation(inertia,animationOptions,this.getInertiaOption(io,"move","duration"),this.getInertiaOption(io,"move","easing")).start();this._disposers.push(animation.events.on("animationended",(function(ev){inertia.done()}))),io.inertias.setKey("move",inertia)}else this.processDragStop(io,pointer,pointer.lastUpEvent)},Interaction.prototype.handleResizeInertia=function(io,pointer){},Interaction.prototype.handleTransform=function(io,ev){var pointer2,point2,startPoint2,pointer1=io.downPointers.getIndex(0),point1=null,startPoint1=null;pointer1&&(point1=pointer1.point,startPoint1=pointer1.startPoint),startPoint2=point2={x:io.originalPosition.x,y:io.originalPosition.y};for(var singlePoint=!0,i=1;i<io.downPointers.length;i++){var nextPointer=io.downPointers.getIndex(i);if(startPoint1.x!=nextPointer.startPoint.x&&startPoint1.y!=nextPointer.startPoint.y){singlePoint=!1,point2=(pointer2=nextPointer).point,startPoint2=pointer2.startPoint;break}}var pointer1Moved=pointer1&&this.moved(pointer1,0);if(io.draggable&&pointer1&&pointer1.dragStartEvents&&pointer1.dragStartEvents.length&&pointer1Moved&&io.events.isEnabled("dragstart")&&!system.isPaused&&io.events.dispatchImmediately("dragstart",pointer1.dragStartEvents.shift()),singlePoint&&io.draggable)this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved,pointer1.touch),this.shouldCancelHovers(pointer1)&&this.moved(pointer1,this.getHitOption(io,"hitTolerance"))&&this.cancelAllHovers(ev);else{var pointer2Moved=pointer2&&this.moved(pointer2,0);(this.shouldCancelHovers(pointer1)&&this.moved(pointer1,this.getHitOption(io,"hitTolerance"))||this.shouldCancelHovers(pointer2)&&this.moved(pointer2,this.getHitOption(io,"hitTolerance")))&&this.cancelAllHovers(ev),io.draggable&&io.resizable?(this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved&&pointer2Moved,pointer1.touch),this.handleTransformResize(io,point1,startPoint1,point2,startPoint2,ev,pointer1Moved&&pointer2Moved,pointer1.touch)):(io.draggable&&this.handleTransformMove(io,point1,startPoint1,ev,pointer1Moved,pointer1.touch),!io.resizable||singlePoint&&!ev.ctrlKey||this.handleTransformResize(io,point1,startPoint1,point2,startPoint2,ev,pointer1Moved&&pointer2Moved,pointer1.touch))}},Interaction.prototype.handleTransformMove=function(io,point,startPoint,ev,pointerMoved,touch){if(pointerMoved&&io.events.isEnabled("drag")&&!system.isPaused&&(!io.isTouchProtected||!touch)){var imev={type:"drag",target:io,event:ev,shift:{x:point.x-startPoint.x,y:point.y-startPoint.y},startPoint:startPoint,point:point,touch:touch};io.events.dispatchImmediately("drag",imev)}},Interaction.prototype.handleTransformResize=function(io,point1,startPoint1,point2,startPoint2,ev,pointerMoved,touch){if(io.events.isEnabled("resize")&&!system.isPaused&&(!io.isTouchProtected||!touch)){var imev={type:"resize",target:io,event:ev,scale:getScale(point1,startPoint1,point2,startPoint2),startPoint1:startPoint1,point1:point1,startPoint2:startPoint2,point2:point2,touch:touch};io.events.dispatchImmediately("resize",imev)}},Interaction.prototype.processDragStart=function(io,pointer,ev){this.transformedObjects.moveValue(io),this.shouldCancelHovers(pointer)&&this.cancelAllHovers(ev);var imev={type:"dragstart",target:io,event:ev,touch:!!pointer&&pointer.touch};pointer&&(pointer.dragTarget=io),pointer&&pointer.dragStartEvents?pointer.dragStartEvents.push(imev):system.isPaused||io.dispatchImmediately("dragstart",imev)},Interaction.prototype.processDragStop=function(io,pointer,ev){if(pointer||(pointer=this.getDragPointer(io)),pointer&&(pointer.dragTarget=void 0),this.transformedObjects.removeValue(io),(!pointer||this.moved(pointer,0))&&io.events.isEnabled("dragstop")&&!system.isPaused){var imev={type:"dragstop",target:io,touch:!!pointer&&pointer.touch};io.events.dispatchImmediately("dragstop",imev)}},Interaction.prototype.processResizeStart=function(io,pointer,ev){this.transformedObjects.moveValue(io)},Interaction.prototype.processResizeStop=function(io,pointer,ev){this.transformedObjects.removeValue(io)},Interaction.prototype.dragStart=function(io,pointer){pointer||(pointer=this.getDragPointer(io)),pointer&&this.handleDown(io,pointer,pointer.lastDownEvent)},Interaction.prototype.dragStop=function(io,pointer,cancelled){pointer||(pointer=this.getDragPointer(io)),pointer&&!cancelled&&this.handleGlobalUp(pointer,pointer.lastUpEvent,cancelled)},Interaction.prototype.getDragPointer=function(io){return io?io.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},Interaction.prototype.getPointerId=function(ev){return(Type_hasValue(ev.identifier)?""+ev.identifier:Type_hasValue(ev.pointerId)?""+ev.pointerId:"m").replace("-","")},Interaction.prototype.getPointerPoint=function(ev){return{x:ev.clientX,y:ev.clientY}},Interaction.prototype.getPointer=function(ev){var pointer,id=this.getPointerId(ev),point=this.getPointerPoint(ev);return this.pointers.hasKey(id)?(pointer=this.pointers.getKey(id)).touch=this.isPointerTouch(ev):(pointer={id:id,touch:this.isPointerTouch(ev),startPoint:point,startTime:getTime(),point:point,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(pointer,point),this.pointers.setKey(id,pointer)),pointer.lastEvent=ev,this.lastPointer=pointer,pointer},Interaction.prototype.isPointerTouch=function(ev){if("undefined"!=typeof Touch&&ev instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&ev instanceof PointerEvent&&Type_hasValue(ev.pointerType))switch(ev.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(ev instanceof MouseEvent)}else if(Type_hasValue(ev.type)&&ev.type.match(/^mouse/))return!1;return!0},Interaction.prototype.resetPointer=function(pointer,ev){var point=this.getPointerPoint(ev);pointer.startTime=getTime(),pointer.startPoint={x:point.x,y:point.y},pointer.point={x:point.x,y:point.y},pointer.track=[],pointer.swipeCanceled=!1},Interaction.prototype.addBreadCrumb=function(pointer,point){pointer.track.push({timestamp:getTime(),point:point})},Interaction.prototype.lockDocument=function(){this.prepElement(this.body)},Interaction.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},Interaction.prototype.lockElement=function(io){this.prepElement(io)},Interaction.prototype.unlockElement=function(io){this.restoreAllStyles(io)},Interaction.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},Interaction.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},Interaction.prototype.isLocalElement=function(pointer,svg,id){var cached=this.getCache("local_pointer_"+pointer.id);if(Type_hasValue(cached))return cached;var doc=getRoot(svg)||document;if(doc.elementFromPoint){var target=doc.elementFromPoint(pointer.point.x,pointer.point.y),local=target&&DOM_contains(svg,target);return this.setCache("local_pointer_"+pointer.id+"_"+id,local,100),local}return!1},Interaction.prototype.wheelLockEvent=function(ev){return ev.preventDefault(),!1},Interaction.prototype.prepElement=function(io){var el=io.element;if(el){for(var props=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],i=0;i<props.length;i++)props[i]in el.style&&this.setTemporaryStyle(io,props[i],"none");this.setTemporaryStyle(io,"tapHighlightColor","rgba(0, 0, 0, 0)")}},Interaction.prototype.unprepElement=function(io){var el=io.element;if(el){for(var props=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],i=0;i<props.length;i++)props[i]in el.style&&this.restoreStyle(io,props[i]);this.restoreStyle(io,"tapHighlightColor")}},Interaction.prototype.getHitOption=function(io,option){var res=io.hitOptions[option];return void 0===res&&(res=this.hitOptions[option]),res},Interaction.prototype.getHoverOption=function(io,option){var res=io.hoverOptions[option];return void 0===res&&(res=this.hoverOptions[option]),res},Interaction.prototype.getSwipeOption=function(io,option){var res=io.swipeOptions[option];return void 0===res&&(res=this.swipeOptions[option]),res},Interaction.prototype.getKeyboardOption=function(io,option){var res=io.keyboardOptions[option];return void 0===res&&(res=this.keyboardOptions[option]),res},Interaction.prototype.getMouseOption=function(io,option){var res=io.mouseOptions[option];return void 0===res&&(res=this.mouseOptions[option]),res},Interaction.prototype.getInertiaOption=function(io,type,option){var options=io.inertiaOptions.getKey(type);return options&&Type_hasValue(options[option])?options[option]:this.inertiaOptions.getKey(type)[option]},Interaction.prototype.stopInertia=function(io){for(var x,inertias=["move","resize"],i=0;i<inertias.length;i++)if(x=inertias[i],io.inertias.hasKey(x)){var inertia=io.inertias.getKey(x);if(inertia){inertia.dispose();continue}}},Interaction.prototype.swiping=function(io,pointer){var now=getTime();return!(pointer.swipeCanceled||!io.swipeable)&&(Math.abs(pointer.startPoint.y-pointer.point.y)<this.getSwipeOption(io,"verticalThreshold")&&pointer.startTime>now-this.getSwipeOption(io,"time"))},Interaction.prototype.swiped=function(io,pointer){var now=getTime();return!pointer.swipeCanceled&&(Math.abs(pointer.startPoint.x-pointer.point.x)>this.getSwipeOption(io,"horizontalThreshold")&&Math.abs(pointer.startPoint.y-pointer.point.y)<this.getSwipeOption(io,"verticalThreshold")&&pointer.startTime>now-this.getSwipeOption(io,"time"))},Interaction.prototype.applyCursorOverStyle=function(io){var options=io.cursorOptions;if(Type_hasValue(options.overStyle))for(var i=0;i<options.overStyle.length;i++)setStyle(io.element,options.overStyle[i].property,options.overStyle[i].value)},Interaction.prototype.applyCursorDownStyle=function(io,pointer){if(!pointer.touch){var downStyle=io.cursorOptions.downStyle;if(io.downPointers.contains(pointer)&&Type_hasValue(downStyle))for(var i=0;i<downStyle.length;i++)this.setTemporaryStyle(this.body,downStyle[i].property,downStyle[i].value),this.setTemporaryStyle(io,downStyle[i].property,downStyle[i].value)}},Interaction.prototype.restoreCursorDownStyle=function(io,pointer){if(!pointer.touch){var downStyle=io.cursorOptions.downStyle;if(io.downPointers.contains(pointer)&&Type_hasValue(downStyle))for(var i=0;i<downStyle.length;i++)this.restoreStyle(this.body,downStyle[i].property),this.restoreStyle(io,downStyle[i].property)}},Interaction.prototype.setGlobalStyle=function(style){for(var body=getInteraction().body,styles=Type_isArray(style)?style:[style],i=0;i<styles.length;i++)this.setTemporaryStyle(body,styles[i].property,styles[i].value)},Interaction.prototype.restoreGlobalStyle=function(style){for(var body=getInteraction().body,styles=Type_isArray(style)?style:[style],i=0;i<styles.length;i++)this.restoreStyle(body,styles[i].property)},Interaction.prototype.isGlobalElement=function(io){return document.body===io.element},Interaction.prototype.moved=function(pointer,tolerance,minTime){void 0===minTime&&(minTime=300);var shift=this.getShift(pointer);return Math.abs(shift.x)>tolerance||Math.abs(shift.y)>tolerance},Interaction.prototype.old=function(pointer,minTime){return void 0===minTime&&(minTime=300),getTime()-pointer.startTime>minTime},Interaction.prototype.getShift=function(pointer){return{x:pointer.startPoint.x-pointer.point.x,y:pointer.startPoint.y-pointer.point.y}},Interaction.prototype.getTrailPoint=function(pointer,timestamp){for(var res,i=0;i<pointer.track.length;i++)if(pointer.track[i].timestamp>=timestamp){res=pointer.track[i];break}return res},Interaction.prototype.pointerExists=function(list,pointer){var exists=!1;return list.each((function(item){item!=pointer&&(exists=item.point.x==pointer.point.x&&item.point.y==pointer.point.y)})),exists},Interaction.prototype.getInteraction=function(element){return new InteractionObject_InteractionObject(element)},Interaction.prototype.setTemporaryStyle=function(io,property,value){var el=io.element;Type_hasValue(el.style[property])&&!io.replacedStyles.hasKey(property)&&io.replacedStyles.setKey(property,el.style[property]),setStyle(el,property,value)},Interaction.prototype.restoreStyle=function(io,property){io.replacedStyles.hasKey(property)?(io.element.style[property]=io.replacedStyles.getKey(property),io.replacedStyles.removeKey(property)):delete io.element.style[property]},Interaction.prototype.restoreAllStyles=function(io){Iterator_each(io.replacedStyles.iterator(),(function(a){var key=a[0],value=a[1];io.element.style[key]=value,io.replacedStyles.removeKey(key)}))},Interaction.prototype.dispose=function(){this.isDisposed()||(_super.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},Interaction.prototype.log=function(text,ev,io){if(ev.changedTouches)for(var i=0;i<ev.changedTouches.length;i++)this.logTouch(text,ev.type,ev.changedTouches[i]);else{var type="";if(ev.pointerType)switch(ev.pointerType){case 2:type="touch";break;case 4:type="mouse";break;default:type=ev.pointerType}else type="undefined"!=typeof TouchEvent&&ev instanceof TouchEvent?"touch":ev.type.match(/^mouse/)?"mouse":"???";var id="";id=Type_hasValue(ev.identifier)?ev.identifier:Type_hasValue(ev.pointerId)?ev.pointerId:"???",io?console.log(text+" ("+io.uid+")  "+ev.type+"  "+type+"  "+id):console.log(text+"  "+ev.type+"  "+type+"  "+id)}},Interaction.prototype.areTransformed=function(except){var count=this.transformedObjects.length;if(except)for(var ex=Type_isArray(except)?except:[except],i=0;i<ex.length;i++)this.transformedObjects.contains(ex[i])&&count--;return count>0},Interaction.prototype.logTouch=function(text,type,ev){console.log(text+"  "+type+"  touch  "+ev.identifier)},Object.defineProperty(Interaction,"passiveSupported",{get:function(){var _this=this;if(null==this._passiveSupported)try{var options_1=Object.defineProperty({},"passive",{get:function(){_this._passiveSupported=!0}});window.addEventListener("test",options_1,options_1),window.removeEventListener("test",options_1,options_1)}catch(err){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),Interaction}(Base_BaseObjectEvents),Interaction_interaction=null;function getInteraction(){return null==Interaction_interaction&&(Interaction_interaction=new Interaction_Interaction),Interaction_interaction}var Popup_Popup=function(_super){function Popup(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._elements={},_this._IOs={},_this._content="",_this._title="",_this._classPrefix="ampopup",_this._defaultStyles=!0,_this._showCurtain=!1,_this._draggable=!0,_this._align="center",_this._dynamicResize=!0,_this._verticalAlign="middle",_this._shift={x:0,y:0},_this._tempShift={x:0,y:0},_this._readerTitle="",_this._closable=!0,_this._cssLoaded=!1,_this._fitTo="window",_this.isTemplate=!1,_this._sized=!1,_this.className="Popup",_this}return Object(tslib_es6.d)(Popup,_super),Popup.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},Popup.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},Popup.prototype.dispose=function(){this.close(),_super.prototype.dispose.call(this)},Popup.prototype.positionElement=function(forceResize){var _this=this;void 0===forceResize&&(forceResize=!0),this._elements.wrapper&&setTimeout((function(){if(_this._elements.wrapper){if(forceResize||!_this._sized){_this._elements.wrapper.style.opacity="0.01",_this._elements.wrapper.style.left="0",_this._elements.wrapper.style.top="0",_this._elements.wrapper.style.margin="0 0 0 0",_this._elements.wrapper.style.width="",_this._elements.wrapper.style.height="";var bbox=_this._elements.wrapper.getBoundingClientRect();_this._elements.wrapper.style.width=bbox.width+"px",_this._elements.wrapper.style.height=bbox.height+"px",_this._sized=!0}if(_this.dynamicResize)for(var images=_this._elements.wrapper.getElementsByTagName("img"),i=0;i<images.length;i++){var image=images[i];if(!image.complete){image.addEventListener("load",(function(){_this.positionElement(!0)}));break}}setTimeout((function(){if(_this._elements.wrapper){var bbox;switch(!forceResize&&_this._sized||!_this._bbox?(bbox=_this._elements.wrapper.getBoundingClientRect(),_this._elements.wrapper.style.opacity=""):bbox=_this._bbox,_this.align){case"left":_this._elements.wrapper.style.left="0",_this._elements.wrapper.style.right="auto",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x);break;case"center":_this._elements.wrapper.style.left="50%",_this._elements.wrapper.style.right="auto",_this._elements.wrapper.style.marginLeft=_this.toStyle(Math.round(-bbox.width/2)+(_this._shift.x+_this._tempShift.x));break;case"right":_this._elements.wrapper.style.left="auto",_this._elements.wrapper.style.right="0",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x);break;default:_this._elements.wrapper.style.left=_this.toStyle(_this.left)||"auto",_this._elements.wrapper.style.right=_this.toStyle(_this.right)||"auto",_this._elements.wrapper.style.marginLeft=_this.toStyle(_this._shift.x+_this._tempShift.x)}switch(_this.verticalAlign){case"top":_this._elements.wrapper.style.top="0",_this._elements.wrapper.style.bottom="auto",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y);break;case"middle":_this._elements.wrapper.style.top="50%",_this._elements.wrapper.style.bottom="auto",_this._elements.wrapper.style.marginTop=_this.toStyle(Math.round(-bbox.height/2)+(_this._shift.y+_this._tempShift.y));break;case"bottom":_this._elements.wrapper.style.top="auto",_this._elements.wrapper.style.bottom="0",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y);break;default:_this._elements.wrapper.style.top=_this.toStyle(_this.top)||"auto",_this._elements.wrapper.style.bottom=_this.toStyle(_this.bottom)||"auto",_this._elements.wrapper.style.marginTop=_this.toStyle(_this._shift.y+_this._tempShift.y)}}}),1)}}),1)},Popup.prototype.setupDragging=function(){var _this=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",(function(ev){_this._tempShift.x=ev.shift.x,_this._tempShift.y=ev.shift.y,_this.positionElement(!1)})),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",(function(ev){_this._shift.x+=_this._tempShift.x,_this._shift.y+=_this._tempShift.y,_this._tempShift.x=0,_this._tempShift.y=0,_this.positionElement(!1)}))):this._IOs.header&&(getInteraction().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},Popup.prototype.toStyle=function(value){return Type_hasValue(value)?isNumber(value)?value+"px":value.toString():null},Object.defineProperty(Popup.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(value){this._classPrefix=value},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(value){this._content!=value&&(this._content=value,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=value,this.positionElement())},enumerable:!0,configurable:!0}),Popup.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},Popup.prototype.createContentElement=function(){if(!this._elements.wrapper){var classNames=this.getClassNames(),wrapper=document.createElement("div");wrapper.className=classNames.contentClass,wrapper.style.opacity="0.01";var close=document.createElement("a");close.className=classNames.closeClass;var header=document.createElement("div");header.className=classNames.headerClass;var title=document.createElement("div");title.innerHTML=this.title,title.className=classNames.titleClass,this.title||(title.style.display="none");var content=document.createElement("div");content.className=classNames.insideClass,content.innerHTML=this.content,this._IOs.wrapper=getInteraction().getInteraction(wrapper),this._IOs.header=getInteraction().getInteraction(header),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=getInteraction().getInteraction(close),this._disposers.push(this._IOs.close),close.style.visibility="hidden",wrapper.setAttribute("role","dialog"),header.appendChild(close),header.appendChild(title),wrapper.appendChild(header),wrapper.appendChild(content),this.container.appendChild(wrapper),this._elements.wrapper=wrapper,this._elements.header=header,this._elements.content=content,this._elements.title=title,this._elements.close=close,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(Popup.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(value){this._title!=value&&(this._title=value,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=value,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(value){this._readerTitle!=value&&(this._readerTitle=value,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(value){value!==this._closable&&(this._closable=value,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(value){value!=this._fitTo&&(this._fitTo=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(value){this._defaultStyles!=value&&(this._defaultStyles=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(value){this._showCurtain!=value&&(this._showCurtain=value,this._elements.curtain&&(this._elements.curtain.style.display=value?"block":"none"))},enumerable:!0,configurable:!0}),Popup.prototype.createCurtainElement=function(){var classNames=this.getClassNames(),curtain=document.createElement("div");curtain.className=classNames.curtainClass,this.container.appendChild(curtain),this._IOs.curtain=getInteraction().getInteraction(curtain),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),curtain.style.display=this.showCurtain?"block":"none",this._elements.curtain=curtain},Object.defineProperty(Popup.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(value){this._draggable!=value&&(this._draggable=value,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(value){this._dynamicResize!=value&&(this._dynamicResize=value,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(value){this._align!=value&&(this._align=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(value){this._verticalAlign!=value&&(this._verticalAlign=value,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(value){this.left!=value&&(this._left=value,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(value){this.right!=value&&(this._right=value,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(value){this.top!=value&&(this._top=value,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(value){this.bottom!=value&&(this._bottom=value,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(Popup.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Popup.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function(element,prefix){prefix||(prefix="ampopup");var cs=new InterfaceColorSet_InterfaceColorSet,fg=cs.getFor("text"),bg=cs.getFor("background");bg.alpha=.8;var abg=cs.getFor("alternativeBackground");return abg.alpha=.05,PopupCSS_rules.insertKeyIfEmpty(prefix,(function(){var disposer=new Disposer_MultiDisposer([new DOM_StyleRule(element,"."+prefix,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new DOM_StyleRule(element,"."+prefix+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":bg.hex,opacity:"0.5"}),new DOM_StyleRule(element,"."+prefix+"-header",{display:"block",width:"100%","min-height":"1.8em",background:abg.rgba}),new DOM_StyleRule(element,"."+prefix+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new DOM_StyleRule(element,"."+prefix+"-content",{background:bg.hex,"background-color":bg.rgba,color:fg.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new DOM_StyleRule(element,"."+prefix+"-inside",{padding:"1em"}),new DOM_StyleRule(element,"."+prefix+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Disposer_CounterDisposer((function(){PopupCSS_rules.removeKey(prefix),disposer.dispose()}))})).increment()}(getShadowRoot(this.container),this.classPrefix)),Object_each(this._elements,(function(key,el){el.style.display=""})),this._cssLoaded=!0)},Popup.prototype.applyEvents=function(){var _this=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var disposers=[getInteraction().body.events.on("keyup",(function(ev){keyboard.isKey(ev.event,"esc")&&_this.closable&&_this.close()})),this._IOs.close.events.on("hit",(function(ev){_this.close()}))];disposers.push(this._IOs.curtain.events.on("hit",(function(ev){_this.showCurtain&&_this.closable&&_this.close()}))),this._disposers.push(new Disposer_MultiDisposer(disposers))}else this._IOs.close.element.style.visibility="hidden"},Popup.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},Popup.prototype.releasePointers=function(){Type_hasValue(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},Popup.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},Popup.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.container=source.container,this.sprite=source.sprite,this.classPrefix=source.classPrefixRaw,this.content=source.content,this.title=source.title,this.readerTitle=source.readerTitle,this.defaultStyles=source.defaultStyles,this.showCurtain=source.showCurtain,this.align=source.align,this.verticalAlign=source.verticalAlign,this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.adapter.copyFrom(source.adapter)},Popup}(Base_BaseObjectEvents),Modal_Modal=function(_super){function Modal(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.className="Modal",_this.showCurtain=!0,_this.draggable=!1,_this}return Object(tslib_es6.d)(Modal,_super),Modal}(Popup_Popup);function warn(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i]=arguments[_i];Options_options.suppressWarnings||console&&console.warn.apply(console,Object(tslib_es6.j)(messages))}var ResizeSensor_Native=function(){function Native(){var _this=this;this._targets=[],this._observer=new ResizeObserver((function(entries){each(entries,(function(entry){each(_this._targets,(function(x){x.target===entry.target&&x.callback()}))}))}))}return Native.prototype.addTarget=function(target,callback){this._observer.observe(target,{box:"content-box"}),this._targets.push({target:target,callback:callback})},Native.prototype.removeTarget=function(target){this._observer.unobserve(target),keepIf(this._targets,(function(x){return x.target!==target}))},Native}(),ResizeSensor_Raf=function(){function Raf(){this._targets=[]}return Raf.prototype.addTarget=function(target,callback){var _this=this;if(0===this._targets.length){var lastTime_1=null,loop_1=function(){var currentTime=Date.now();(null===lastTime_1||currentTime>lastTime_1+Raf.delay)&&(lastTime_1=currentTime,each(_this._targets,(function(x){var newSize=x.target.getBoundingClientRect();newSize.width===x.size.width&&newSize.height===x.size.height||(x.size=newSize,x.callback())}))),_this._timer=requestAnimationFrame(loop_1)};this._timer=requestAnimationFrame(loop_1)}var size=target.getBoundingClientRect();this._targets.push({target:target,callback:callback,size:size})},Raf.prototype.removeTarget=function(target){keepIf(this._targets,(function(x){return x.target!==target})),0===this._targets.length&&cancelAnimationFrame(this._timer)},Raf.delay=200,Raf}(),ResizeSensor_observer=null;var ResizeSensor_ResizeSensor=function(){function ResizeSensor(element,callback){this._disposed=!1,this._sensor=(null===ResizeSensor_observer&&(ResizeSensor_observer="undefined"!=typeof ResizeObserver?new ResizeSensor_Native:new ResizeSensor_Raf),ResizeSensor_observer),this._element=element,this._sensor.addTarget(element,callback)}return ResizeSensor.prototype.isDisposed=function(){return this._disposed},ResizeSensor.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(ResizeSensor.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),ResizeSensor.prototype.reset=function(){warn("resizeSensor.reset() is no longer needed and can be removed")},ResizeSensor}(),svgContainers=[],SVGContainer_SVGContainer=function(){function SVGContainer(htmlElement,ghost){var _this=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=htmlElement,ghost||(this._printing=!1,this.initSensor(),this._disposers.push(DOM_addEventListener(window,"beforeprint",(function(){_this._printing=!0}))),this._disposers.push(DOM_addEventListener(window,"afterprint",(function(){_this._printing=!1})))),svgContainers.push(this);var svgContainer=document.createElement("div"),style=svgContainer.style;style.width="100%",style.height="100%",style.position="relative",htmlElement.appendChild(svgContainer),this.SVGContainer=svgContainer}return SVGContainer.prototype.initSensor=function(){var _this=this;this.resizeSensor&&this.resizeSensor.dispose();this.resizeSensor=new ResizeSensor_ResizeSensor(this.htmlElement,(function(){_this.autoResize&&!_this._printing&&_this.measure()})),this._disposers.push(this.resizeSensor)},SVGContainer.prototype.measure=function(){var element,cs,paddingX,borderX,width=(element=this.htmlElement,cs=getComputedStyle(element),paddingX=parseFloat(cs.paddingLeft)+parseFloat(cs.paddingRight),borderX=parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth),element.clientWidth-paddingX-borderX),height=function(element){var cs=getComputedStyle(element),paddingY=parseFloat(cs.paddingTop)+parseFloat(cs.paddingBottom),borderY=parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth);return element.clientHeight-paddingY-borderY}(this.htmlElement),container=this.container;container&&(this.width==width&&this.height==height||(this.width=width,this.height=height,width>0&&(container.maxWidth=width),height>0&&(container.maxHeight=height),fixPixelPerfect(this.SVGContainer)),container.maxWidth||(container.maxWidth=0),container.maxHeight||(container.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(SVGContainer.prototype,"container",{get:function(){return this._container},set:function(container){this._container=container,this.measure()},enumerable:!0,configurable:!0}),SVGContainer.prototype.isDisposed=function(){return this._disposed},SVGContainer.prototype.dispose=function(){this._disposed||Array_remove(svgContainers,this),each(this._disposers,(function(item){item.dispose()}))},Object.defineProperty(SVGContainer.prototype,"hideOverflow",{set:function(value){this.SVGContainer.style.overflow=value?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(SVGContainer.prototype,"modal",{get:function(){return Type_hasValue(this._modal)||(this._modal=new Modal_Modal,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),SVGContainer.prototype.openModal=function(text,title){this.closeModal();var modal=this.modal;return modal.content=text,modal.readerTitle=title||"",modal.title=title||"",modal.open(),modal},SVGContainer.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(SVGContainer.prototype,"popups",{get:function(){if(!Type_hasValue(this._popups)){var popupTemplate=new Popup_Popup;popupTemplate.container=this.SVGContainer,this._popups=new List_ListTemplate(popupTemplate),this._disposers.push(new List_ListDisposer(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),SVGContainer.prototype.openPopup=function(text,title){var popup=this.popups.create();return popup.content=text,Type_hasValue(title)&&(popup.title=title),popup.open(),popup},SVGContainer.prototype.closeAllPopups=function(){this.popups.each((function(popup){popup.close()}))},Object.defineProperty(SVGContainer.prototype,"readerAlertElement",{get:function(){if(!Type_hasValue(this._readerAlertElement)){var div=document.createElement("div");div.setAttribute("role","alert"),div.style.zIndex="-100000",div.style.opacity="0",div.style.position="absolute",div.style.top="0",this.SVGContainer.appendChild(div),this._readerAlertElement=div}return this._readerAlertElement},enumerable:!0,configurable:!0}),SVGContainer.prototype.readerAlert=function(text){this.readerAlertElement.innerHTML=text},SVGContainer.prototype.checkTransform=function(div){if(window.getComputedStyle){if(div&&div.style){var style=window.getComputedStyle(div,null);if(style){var matrix=style.getPropertyValue("-webkit-transform")||style.getPropertyValue("-moz-transform")||style.getPropertyValue("-ms-transform")||style.getPropertyValue("-o-transform")||style.getPropertyValue("transform");if(matrix&&"none"!==matrix){var values=matrix.split("(")[1].split(")")[0].split(","),a=Number(values[0]),b=Number(values[1]),scale=Math.sqrt(a*a+b*b);isNaN(scale)||(this.cssScale*=scale)}}}div.parentNode&&div.parentNode instanceof HTMLElement&&this.checkTransform(div.parentNode)}},SVGContainer}(),Paper_Paper=function(){function Paper(container,id){this.container=container,this.id=id;var svg=document.createElementNS(SVGNS,"svg");svg.setAttribute("version","1.1"),svg.setAttributeNS(XMLNS,"xmlns",SVGNS),svg.setAttributeNS(XMLNS,"xmlns:xlink",XLINK),svg.setAttribute("role","group"),this.container.appendChild(svg),this.defs=document.createElementNS(SVGNS,"defs"),svg.appendChild(this.defs),svg.style.width="100%",svg.style.height="100%",svg.style.overflow="visible",this.svg=svg}return Paper.prototype.add=function(elementName){return new AMElement_AMElement(elementName)},Paper.prototype.addGroup=function(groupName){return new Group_Group(groupName)},Paper.prototype.append=function(element){element&&this.svg.appendChild(element.node)},Paper.prototype.appendDef=function(element){element&&this.defs.appendChild(element.node)},Paper.prototype.foreignObject=function(){return new AMElement_AMElement("foreignObject")},Paper.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},Paper}(),ghostPaper=null;function getGhostPaper(){if(null===ghostPaper){var ghostDiv=document.createElement("div");ghostDiv.hidden=!0,document.body.appendChild(ghostDiv);var ghostSvgContainer=new SVGContainer_SVGContainer(ghostDiv,!0);ghostPaper=new Paper_Paper(ghostSvgContainer.SVGContainer,"ghost")}return ghostPaper}var Pattern_Pattern=function(_super){function Pattern(){var _this=_super.call(this)||this;_this._elements=new List_List,_this.properties={},_this.className="Pattern",_this.width=10,_this.height=10,_this.x=0,_this.y=0,_this.patternUnits="userSpaceOnUse";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.backgroundFill=interfaceColors.getFor("background"),_this.backgroundOpacity=0,_this.fillOpacity=1,_this.fill=interfaceColors.getFor("alternativeBackground"),_this.stroke=interfaceColors.getFor("alternativeBackground"),_this.strokeOpacity=1,_this.strokeWidth=1,_this.shapeRendering="crispEdges",_this.rotation=0,_this.element=_this.paper.addGroup("pattern"),_this.id="pattern-"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this._disposers.push(new List_ListDisposer(_this._elements)),_this.patternUnits=_this.patternUnits,_this.width=_this.width,_this.height=_this.height,_this.applyTheme(),_this}return Object(tslib_es6.d)(Pattern,_super),Pattern.prototype.draw=function(){var _this=this,patternElement=this.element;if(patternElement){patternElement.removeChildNodes();var background=this.paper.add("rect");background.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),patternElement.add(background),patternElement.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),Iterator_each(this._elements.iterator(),(function(element){element.rotation=_this.rotation,element.rotationX=_this.properties.rotationX,element.rotationY=_this.properties.rotationY,_this.element.add(element)}))}},Pattern.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Pattern.prototype.addElement=function(element){this._elements.push(element),this._disposers.push(element)},Pattern.prototype.removeElement=function(element){this._elements.removeValue(element),this.removeDispose(element)},Object.defineProperty(Pattern.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(value){this.properties.fillOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"fill",{get:function(){return this.properties.fill},set:function(value){this.properties.fill=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(value){this.properties.backgroundFill=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(value){this.properties.backgroundOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(value){this.properties.stroke=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(value){this.properties.strokeOpacity=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(value){this.properties.strokeWidth=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(value){this.properties.shapeRendering=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(value){this.properties.rotation=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(value){this.properties.patternUnits=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"width",{get:function(){return this.properties.width},set:function(value){this.properties.width=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"height",{get:function(){return this.properties.height},set:function(value){this.properties.height=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"x",{get:function(){return this.properties.x},set:function(value){this.properties.x=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"y",{get:function(){return this.properties.y},set:function(value){this.properties.y=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.draw(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Pattern.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),Object_each(source.properties,(function(key,value){_this[key]=value}))},Object.defineProperty(Pattern.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(Pattern.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(value){this.properties.strokeDashArray=value,this.draw()},enumerable:!0,configurable:!0}),Pattern.prototype.processConfig=function(config){if(config&&Type_hasValue(config.elements)&&Type_isArray(config.elements))for(var i=0,len=config.elements.length;i<len;i++){var element=config.elements[i];if(Type_hasValue(element.type)){var sprite=this.createEntryInstance(element);sprite instanceof Base_BaseObject&&(sprite.config=element),this.addElement(Type_hasValue(element.typeProperty)?sprite[element.typeProperty]:sprite.element)}}_super.prototype.processConfig.call(this,config)},Pattern}(Base_BaseObject);Registry_registry.registeredClasses.Pattern=Pattern_Pattern;var LinearGradient_LinearGradient=function(_super){function LinearGradient(){var _this=_super.call(this)||this;return _this._stops=new List_List,_this._rotation=0,_this.className="LinearGradient",_this._stops.events.on("setIndex",_this.validate,_this),_this._stops.events.on("inserted",_this.validate,_this),_this.element=_this.paper.addGroup("linearGradient"),_this.id="gradient-"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this.applyTheme(),_this}return Object(tslib_es6.d)(LinearGradient,_super),LinearGradient.prototype.validate=function(){var _this=this,rotation=(this._rotation+90)*RADIANS,x1=Math.round(50+50*Math.sin(rotation+Math.PI))+"%",y1=Math.round(50+50*Math.cos(rotation))+"%",x2=Math.round(50+50*Math.sin(rotation))+"%",y2=Math.round(50+50*Math.cos(rotation+Math.PI))+"%",gradientElement=this.element;gradientElement.removeChildNodes(),gradientElement.attr({x1:x1,x2:x2,y1:y1,y2:y2}),Iterator_each(indexed(this._stops.iterator()),(function(a){var i=a[0],stop=a[1],offset=stop.offset;isNumber(offset)||(offset=i/(_this._stops.length-1));var gradientStop=_this.paper.add("stop");Type_hasValue(stop.color)&&gradientStop.attr({"stop-color":stop.color.toString()}),isNumber(stop.opacity)&&gradientStop.attr({"stop-opacity":stop.opacity}),isNumber(offset)&&gradientStop.attr({offset:offset}),gradientElement.add(gradientStop)}))},LinearGradient.prototype.clear=function(){this._stops.clear()},LinearGradient.prototype.addColor=function(color,opacity,offset){this._stops.push({color:color,opacity:opacity,offset:offset})},Object.defineProperty(LinearGradient.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(LinearGradient.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.validate(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(LinearGradient.prototype,"rotation",{get:function(){return this._rotation},set:function(value){this._rotation=value,this.validate()},enumerable:!0,configurable:!0}),LinearGradient.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.stops.copyFrom(source.stops),this._rotation=source.rotation},Object.defineProperty(LinearGradient.prototype,"gradientUnits",{set:function(value){this.element.attr({gradientUnits:value})},enumerable:!0,configurable:!0}),LinearGradient}(Base_BaseObject);Registry_registry.registeredClasses.LinearGradient=LinearGradient_LinearGradient;var RadialGradient_RadialGradient=function(_super){function RadialGradient(){var _this=_super.call(this)||this;return _this._stops=new List_List,_this.element=_this.paper.addGroup("radialGradient"),_this.id="gradient-"+Registry_registry.getUniqueId(),_this.element.attr({id:_this.id}),_this._disposers.push(_this.element),_this.applyTheme(),_this}return Object(tslib_es6.d)(RadialGradient,_super),RadialGradient.prototype.draw=function(){var value,_this=this,gradientElement=this.element;isNumber(this.cx)&&((value=this.cx)instanceof Percent&&(value=value.percent+"%"),gradientElement.attr({cx:value}));isNumber(this.cy)&&((value=this.cy)instanceof Percent&&(value=value.percent+"%"),gradientElement.attr({cy:value}));this.fx&&((value=this.fx)instanceof Percent&&(value=value.percent+"%"),gradientElement.attr({fx:value}));this.fy&&((value=this.fy)instanceof Percent&&(value=value.percent+"%"),gradientElement.attr({fy:value}));gradientElement.removeChildNodes(),Iterator_each(indexed(this._stops.iterator()),(function(a){var i=a[0],stop=a[1],offset=stop.offset;isNumber(offset)||(offset=i/(_this._stops.length-1));var gradientStop=_this.paper.add("stop");Type_hasValue(stop.color)&&gradientStop.attr({"stop-color":stop.color.toString()}),isNumber(stop.opacity)&&gradientStop.attr({"stop-opacity":stop.opacity}),isNumber(offset)&&gradientStop.attr({offset:offset}),gradientElement.add(gradientStop)}))},RadialGradient.prototype.addColor=function(color,opacity,offset){this._stops.push({color:color,opacity:opacity,offset:offset}),this.draw()},Object.defineProperty(RadialGradient.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper,this.draw(),paper.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,"cx",{get:function(){return this._cx},set:function(value){this._cx=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,"cy",{get:function(){return this._cy},set:function(value){this._cy=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,"fx",{get:function(){return this._fx},set:function(value){this._fx=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RadialGradient.prototype,"fy",{get:function(){return this._fy},set:function(value){this._fy=value,this.draw()},enumerable:!0,configurable:!0}),RadialGradient.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.stops.copyFrom(source.stops),this.cx=source.cx,this.cy=source.cy,this.fx=source.fx,this.fy=source.fy},Object.defineProperty(RadialGradient.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),RadialGradient.prototype.clear=function(){this._stops.clear()},RadialGradient}(Base_BaseObject);Registry_registry.registeredClasses.RadialGradient=RadialGradient_RadialGradient;var formatter,MouseCursorStyle=function(){function MouseCursorStyle(){}return MouseCursorStyle.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],MouseCursorStyle.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],MouseCursorStyle.pointer=[{property:"cursor",value:"pointer"}],MouseCursorStyle.default=[{property:"cursor",value:"default"}],MouseCursorStyle.horizontalResize=[{property:"cursor",value:"ew-resize"}],MouseCursorStyle.verticalResize=[{property:"cursor",value:"ns-resize"}],MouseCursorStyle.notAllowed=[{property:"cursor",value:"not-allowed"}],MouseCursorStyle.text=[{property:"cursor",value:"text"}],MouseCursorStyle}(),en={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(day){var res="th";if(day<11||day>13)switch(day%10){case 1:res="st";break;case 2:res="nd";break;case 3:res="rd"}return res},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},Language_Language=function(_super){function Language(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._locale=en,_this._defaultLocale=en,_this.className="Language",Type_hasValue(Options_options.defaultLocale)&&(_this.locale=Options_options.defaultLocale),_this.applyTheme(),_this}return Object(tslib_es6.d)(Language,_super),Language.prototype.getLocale=function(locale){return null==locale&&(locale=this._locale),this.adapter.apply("locale",{locale:locale}).locale},Language.prototype.translate=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];locale=this.getLocale(locale);var translation=prompt,translations=this.getTranslations(locale),value=translations[prompt];if(null===value)value="";else if(Type_hasValue(value))value&&(translation=value);else if(locale!==this._defaultLocale)return this.translate.apply(this,Object(tslib_es6.j)([prompt,this._defaultLocale],rest));if(rest.length)for(var len=rest.length,i=0;i<len;++i)translation=translation.split("%"+(i+1)).join(rest[i]);return this.adapter.apply("translate",{translation:translation,locale:locale}).translation},Language.prototype.translateAny=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];return this.translate.apply(this,Object(tslib_es6.j)([prompt,locale],rest))},Language.prototype.setTranslationAny=function(prompt,translation,locale){(locale||this.locale)[prompt]=translation},Language.prototype.translateEmpty=function(prompt,locale){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];var translation=this.translate.apply(this,Object(tslib_es6.j)([prompt,locale],rest));return translation==prompt?"":translation},Language.prototype.translateFunc=function(prompt,locale){locale=this.getLocale(locale);var value=this.getTranslations(locale)[prompt];return null!=value?value:locale!==this._defaultLocale?this.translateFunc(prompt,this._defaultLocale):function(){return""}},Language.prototype.translateAll=function(list,locale){var _this=this;return this.isDefault()?list:Array_map(list,(function(x){return _this.translate(x,locale)}))},Language.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(Language.prototype,"locale",{get:function(){return this._locale},set:function(value){if(this._locale!=value&&(this._locale=value,this.events.isEnabled("localechanged"))){var event_1={type:"localechanged",locale:value,target:this};this.events.dispatchImmediately("localechanged",event_1)}},enumerable:!0,configurable:!0}),Language.prototype.getTranslations=function(locale){return this.adapter.apply("translations",{translations:locale,locale:locale}).translations},Language}(Base_BaseObjectEvents),TextFormatter_TextFormatter=function(_super){function TextFormatter(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.className="TextFormatter",_this.applyTheme(),_this}return Object(tslib_es6.d)(TextFormatter,_super),TextFormatter.prototype.debug=function(){},TextFormatter.prototype.format=function(text,output){Type_hasValue(output)||(output="svg");var formatted="",styles=(text=this.escape(text)).match(/\[([^\]]*?)\]/gm);if(!styles)return this.wrap(text,"",output);for(var texts=text.split(/\[[^\[\]]*\]/),i=0,len=texts.length;i<len;i++){var t=texts[i];if(""!==t){t=this.adapter.apply("chunk",t);var s="";i>0&&(s=styles[i-1].replace("[","").replace("]","")),formatted+=this.wrap(t,s,output)}}return formatted=this.unescape(formatted),this.cleanUp(formatted)},TextFormatter.prototype.escape=function(text){return text.replace(/\[\[/g,Registry_registry.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+Registry_registry.getPlaceholder("2")).replace(/\]\]/g,Registry_registry.getPlaceholder("2")).replace(/\{\{/g,Registry_registry.getPlaceholder("3")).replace(/\}\}/g,Registry_registry.getPlaceholder("4")).replace(/\'\'/g,Registry_registry.getPlaceholder("5"))},TextFormatter.prototype.unescape=function(text){return text.replace(new RegExp(Registry_registry.getPlaceholder("1"),"g"),"[[").replace(new RegExp(Registry_registry.getPlaceholder("2"),"g"),"]]").replace(new RegExp(Registry_registry.getPlaceholder("3"),"g"),"{{").replace(new RegExp(Registry_registry.getPlaceholder("4"),"g"),"}}").replace(new RegExp(Registry_registry.getPlaceholder("5"),"g"),"'")},TextFormatter.prototype.cleanUp=function(text){return text.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},TextFormatter.prototype.wrap=function(text,style,output){switch(""!==style&&"/"!==style||(style=""),output){case"html":return this.wrapHtml(text,this.translateStyleShortcuts(style));default:return this.wrapSvg(text,this.translateStyleShortcuts(style))}},TextFormatter.prototype.wrapSvg=function(text,style){return""===style?"<tspan>"+text+"</tspan>":"<tspan style='"+style+"'>"+text+"</tspan>"},TextFormatter.prototype.getSvgElement=function(text,style){var element=new AMElement_AMElement("tspan");return element.textContent=text,style&&element.node.setAttribute("style",style),element},TextFormatter.prototype.wrapHtml=function(text,style){return""===style?"<span>"+text+"</span>":"<span style='"+this.styleSvgToHtml(style)+"'>"+text+"</span>"},TextFormatter.prototype.getHtmlElement=function(text,style){var element=document.createElement("span");return element.innerHTML=text,style&&element.setAttribute("style",style),element},TextFormatter.prototype.styleSvgToHtml=function(style){return style=style.replace(/fill:/,"color:")},TextFormatter.prototype.translateStyleShortcuts=function(style){if(""==style||"[ ]"==style)return"";var cached=Registry_registry.getCache("translateStyleShortcuts_"+style);if(cached)return cached;var q=style.match(/('[^']*')|("[^"]*")/gi);if(q)for(var i=0;i<q.length;i++)style=style.replace(q[i],q[i].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var b=style.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!b)return style;for(i=0;i<b.length;i++)b[i].match(/^bold$/i)?b[i]="font-weight:"+b[i]:"/"==b[i]?b[i]="":b[i].match(/:/)?b[i]=b[i].replace(/\+/g," "):b[i]="fill:"+b[i];var res=b.join(";");return Registry_registry.setCache("translateStyleShortcuts_"+style,res),res},TextFormatter.prototype.chunk=function(text,quotedBlocks,noFormatting){void 0===quotedBlocks&&(quotedBlocks=!1),void 0===noFormatting&&(noFormatting=!1);var res=[];text=this.escape(text);for(var chunks=quotedBlocks?text.split("'"):[text],i=0;i<chunks.length;i++){var chunk=chunks[i];if(""!==chunk)if(i%2==0)for(var chunks2=(chunk=(chunk=chunk.replace(/\]\[/g,"]__§§§__[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),i2=0;i2<chunks2.length;i2++){"__§§§__"!==(chunk2=this.cleanUp(this.unescape(chunks2[i2])))&&(""!==chunk2&&(i2%2==0?res.push({type:"value",text:this.adapter.apply("chunk",chunk2)}):res.push({type:noFormatting?"value":"format",text:"["+chunk2+"]"})))}else for(chunks2=chunk.split(/[\[\]]+/),i2=0;i2<chunks2.length;i2++){var chunk2;""!==(chunk2=this.cleanUp(this.unescape(chunks2[i2])))&&(i2%2==0?res.push({type:"text",text:chunk2}):this.isImage(chunk2)?res.push({type:"image",text:"["+chunk2+"]"}):res.push({type:"format",text:"["+chunk2+"]"}))}}return res},TextFormatter.prototype.isImage=function(text){return!!text.match(/img[ ]?:/)},TextFormatter}(Base_BaseObject);function getTextFormatter(){return null==formatter&&(formatter=new TextFormatter_TextFormatter),formatter}Registry_registry.registeredClasses.TextFormatter=TextFormatter_TextFormatter;var NumberFormatter_NumberFormatter=function(_super){function NumberFormatter(){var _this=_super.call(this)||this;return _this._negativeBase=0,_this._numberFormat="#,###.#####",_this._outputFormat="svg",_this._smallNumberThreshold=1,_this.className="NumberFormatter",_this.applyTheme(),_this}return Object(tslib_es6.d)(NumberFormatter,_super),NumberFormatter.prototype.dispose=function(){_super.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(NumberFormatter.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new Language_Language),this._language},set:function(value){this._language=value},enumerable:!0,configurable:!0}),NumberFormatter.prototype.format=function(value,format,precision){var formatted;(void 0===format||isString(format)&&"number"===format.toLowerCase())&&(format=this._numberFormat);var object,source=Number(value);if(Type_isObject(format))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,format).format(source):new Intl.NumberFormat(void 0,format).format(source)}catch(e){return"Invalid"}else{format=cleanFormat(format);var info=this.parseFormat(format,this.language),details=void 0;details=source>this._negativeBase?info.positive:source<this._negativeBase?info.negative:info.zero,Type_hasValue(precision)&&!details.mod&&(object=details,(details=JSON.parse(JSON.stringify(object))).decimals.active=0==source?0:precision),formatted=details.template.split("__§§§__").join(this.applyFormat(source,details))}return formatted},NumberFormatter.prototype.parseFormat=function(format,language){var _this=this,cached=this.getCache(format);if(Type_hasValue(cached))return cached;var info={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:language.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:language.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:language.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:language.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},parts=(format=format.replace("||","__§§§§__")).split("|");return info.positive.source=parts[0],void 0===parts[2]?info.zero=info.positive:info.zero.source=parts[2],void 0===parts[1]?info.negative=info.positive:info.negative.source=parts[1],Object_each(info,(function(part,item){if(!item.parsed)if(void 0===_this.getCache(item.source)){var partFormat=item.source;"number"===partFormat.toLowerCase()&&(partFormat=isString(_this._numberFormat)?_this._numberFormat:"#,###.#####");for(var chunks=getTextFormatter().chunk(partFormat,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if(chunk.text=chunk.text.replace("__§§§§__","|"),"value"===chunk.type){var matches=chunk.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES‰!]?/);if(matches)if(null===matches||""===matches[0])item.template+=chunk.text;else{var mods=matches[0].match(/[abesABES%‰!]{2}|[abesABES%‰]{1}$/);mods&&(item.mod=mods[0].toLowerCase(),item.modSpacing=!!matches[0].match(/[ ]{1}[abesABES%‰!]{1}$/));var a=matches[0].split(".");if(""===a[0]);else{item.thousands.active=(a[0].match(/0/g)||[]).length,item.thousands.passive=(a[0].match(/\#/g)||[]).length+item.thousands.active;var b=a[0].split(",");1===b.length||(item.thousands.interval=getValue(b.pop()).length,0===item.thousands.interval&&(item.thousands.interval=-1))}void 0===a[1]||(item.decimals.active=(a[1].match(/0/g)||[]).length,item.decimals.passive=(a[1].match(/\#/g)||[]).length+item.decimals.active),item.template+=chunk.text.split(matches[0]).join("__§§§__")}}else item.template+=chunk.text}_this.setCache(item.source,item),item.parsed=!0}else info[part]=_this.getCache(item.source)})),this.setCache(format,info),info},NumberFormatter.prototype.applyFormat=function(value,details){var negative=value<0;value=Math.abs(value);var prefix="",suffix="",mods=details.mod?details.mod.split(""):[];if(-1!==mods.indexOf("b")){var a_1=this.applyPrefix(value,this.bytePrefixes,-1!==mods.indexOf("!"));value=a_1[0],prefix=a_1[1],suffix=a_1[2],details.modSpacing&&(suffix=" "+suffix)}else if(-1!==mods.indexOf("a")){var a_2=this.applyPrefix(value,value<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==mods.indexOf("!"));value=a_2[0],prefix=a_2[1],suffix=a_2[2],details.modSpacing&&(suffix=" "+suffix)}else if(-1!==mods.indexOf("%")){var ol=Math_min(value.toString().length+2,21);value*=100,value=parseFloat(value.toPrecision(ol)),suffix="%"}else if(-1!==mods.indexOf("‰")){ol=Math_min(value.toString().length+3,21);value*=1e3,value=parseFloat(value.toPrecision(ol)),suffix="‰"}if(-1!==mods.indexOf("e")){var exp=void 0;exp=details.decimals.passive>=0?value.toExponential(details.decimals.passive).split("e"):value.toExponential().split("e"),value=Number(exp[0]),suffix="e"+exp[1],details.modSpacing&&(suffix=" "+suffix)}else if(0===details.decimals.passive)value=Math.round(value);else if(details.decimals.passive>0){var d=Math.pow(10,details.decimals.passive);value=Math.round(value*d)/d}var res="",a=function(value){if(Type_isNaN(value))return"NaN";if(value===1/0)return"Infinity";if(value===-1/0)return"-Infinity";if(0===value&&1/value==-1/0)return"-0";var negative=value<0;value=Math.abs(value);var res,parsed=getValue(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+value)),digits=parsed[1],decimals=parsed[2]||"";if(null==parsed[3])res=""===decimals?digits:digits+"."+decimals;else{var zeros,exponent=+parsed[3];if(value<1)res="0."+repeat("0",zeros=exponent-1)+digits+decimals;else res=0===(zeros=exponent-decimals.length)?digits+decimals:zeros<0?digits+decimals.slice(0,zeros)+"."+decimals.slice(zeros):digits+decimals+repeat("0",zeros)}return negative?"-"+res:res}(value).split("."),ints=a[0];if(ints.length<details.thousands.active&&(ints=Array(details.thousands.active-ints.length+1).join("0")+ints),details.thousands.interval>0){for(var ip=[],intsr=ints.split("").reverse().join(""),i=0,len=ints.length;i<=len;i+=details.thousands.interval){var c=intsr.substr(i,details.thousands.interval).split("").reverse().join("");""!==c&&ip.unshift(c)}ints=ip.join(details.thousands.separator)}res+=ints,1===a.length&&a.push("");var decs=a[1];return decs.length<details.decimals.active&&(decs+=Array(details.decimals.active-decs.length+1).join("0")),""!==decs&&(res+=details.decimals.separator+decs),""===res&&(res="0"),0!==value&&negative&&-1===mods.indexOf("s")&&(res="-"+res),prefix&&(res=prefix+res),suffix&&(res+=suffix),res},NumberFormatter.prototype.applyPrefix=function(value,prefixes,force){void 0===force&&(force=!1);for(var newvalue=value,prefix="",suffix="",applied=!1,k=1,i=0,len=prefixes.length;i<len;i++)prefixes[i].number<=value&&(0===prefixes[i].number?newvalue=0:(newvalue=value/prefixes[i].number,k=prefixes[i].number),prefix=prefixes[i].prefix,suffix=prefixes[i].suffix,applied=!0);return!applied&&force&&prefixes.length&&0!=value&&(newvalue=value/prefixes[0].number,prefix=prefixes[0].prefix,suffix=prefixes[0].suffix,applied=!0),applied&&(newvalue=parseFloat(newvalue.toPrecision(Math_min(k.toString().length+Math.floor(newvalue).toString().replace(/[^0-9]*/g,"").length,21)))),[newvalue,prefix,suffix]},NumberFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(NumberFormatter.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(format){this._numberFormat=format},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(value){this._intlLocales=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(value){this._negativeBase=value},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"bigNumberPrefixes",{get:function(){return Type_hasValue(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(prefixes){this._bigNumberPrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"smallNumberPrefixes",{get:function(){return Type_hasValue(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(prefixes){this._smallNumberPrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(value){this._smallNumberThreshold=value},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"bytePrefixes",{get:function(){return Type_hasValue(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(prefixes){this._bytePrefixes=prefixes},enumerable:!0,configurable:!0}),Object.defineProperty(NumberFormatter.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(outputFormat){this._outputFormat=outputFormat.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),NumberFormatter.prototype.escape=function(text){return text.replace("||","__§§§§__")},NumberFormatter.prototype.unescape=function(text){return text.replace("__§§§§__","|")},NumberFormatter}(Base_BaseObject);Registry_registry.registeredClasses.NumberFormatter=NumberFormatter_NumberFormatter;var DateFormatter_DateFormatter=function(_super){function DateFormatter(){var _this=_super.call(this)||this;return _this._dateFormat="yyyy-MM-dd",_this._inputDateFormat="yyyy-MM-dd",_this._utc=!1,_this._firstDayOfWeek=1,_this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],_this.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_this.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_this.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_this._outputFormat="svg",_this.capitalize=!0,_this.className="DateFormatter",_this.applyTheme(),_this}return Object(tslib_es6.d)(DateFormatter,_super),Object.defineProperty(DateFormatter.prototype,"language",{get:function(){return this._language},set:function(value){this._language=value,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),DateFormatter.prototype.format=function(source,format){var formatted,date;if(this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language_Language),void 0!==format&&""!==format||(format=this._dateFormat),date=isString(source)?this.parse(source):anyToDate(source),Type_isObject(format))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,format).format(date):new Intl.DateTimeFormat(void 0,format).format(date)}catch(e){return"Invalid"}else{format=cleanFormat(format);var info=this.parseFormat(format);if(Type_hasValue(this.timezoneOffset)?date.setMinutes(date.getMinutes()+date.getTimezoneOffset()-this.timezoneOffset):Type_hasValue(this.timezone)&&(date=setTimezone(date,this.timezone)),!isNumber(date.getTime()))return this.language.translate("Invalid date");formatted=this.applyFormat(date,info,this.language),this.capitalize&&(formatted=formatted.replace(/^.{1}/,formatted.substr(0,1).toUpperCase()))}return formatted},DateFormatter.prototype.parseFormat=function(format){var cached=this.getCache(format);if(Type_hasValue(cached))return cached;for(var info={template:"",parts:[]},chunks=getTextFormatter().chunk(format,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if("value"===chunk.type){chunk.text.match(/^date$/i)&&isString(this._dateFormat)&&(chunk.text=this._dateFormat);var matches=chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(matches)for(var x=0;x<matches.length;x++)info.parts.push(matches[x]),chunk.text=chunk.text.replace(matches[x],"__§§§__")}info.template+=chunk.text}return this.setCache(format,info),info},DateFormatter.prototype.applyFormat=function(date,info,language){var fullYear,month,weekday,day,hours,minutes,seconds,milliseconds,res=info.template,offset=date.getTimezoneOffset(),timestamp=date.getTime();this.utc?(fullYear=date.getUTCFullYear(),month=date.getUTCMonth(),weekday=date.getUTCDay(),day=date.getUTCDate(),hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds()):(fullYear=date.getFullYear(),month=date.getMonth(),weekday=date.getDay(),day=date.getDate(),hours=date.getHours(),minutes=date.getMinutes(),seconds=date.getSeconds(),milliseconds=date.getMilliseconds());for(var i=0,len=info.parts.length;i<len;i++){var value="";switch(info.parts[i]){case"G":value=language.translate(fullYear<0?"_era_bc":"_era_ad");break;case"yyyy":value=Math.abs(fullYear).toString(),fullYear<0&&(value+=language.translate("_era_bc"));break;case"yyy":case"yy":case"y":value=Math.abs(fullYear).toString().substr(-info.parts[i].length),fullYear<0&&(value+=language.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var year=fullYear;1==getWeek(date)&&weekday>4&&year--,value="YYYY"==info.parts[i]?Math.abs(year).toString():Math.abs(year).toString().substr(-info.parts[i].length),year<0&&(value+=language.translate("_era_bc"));break;case"u":break;case"q":value=""+Math.ceil((date.getMonth()+1)/3);break;case"MMMMM":value=language.translate(this.months[month]).substr(0,1);break;case"MMMM":value=language.translate(this.months[month]);break;case"MMM":value=language.translate(this.monthsShort[month]);break;case"MM":value=padString(month+1,2,"0");break;case"M":value=(month+1).toString();break;case"ww":value=padString(getWeek(date,this.utc),2,"0");break;case"w":value=getWeek(date,this.utc).toString();break;case"W":value=getMonthWeek(date,this.utc).toString();break;case"dd":value=padString(day,2,"0");break;case"d":value=day.toString();break;case"DD":case"DDD":value=padString(getYearDay(date,this.utc).toString(),info.parts[i].length,"0");break;case"D":value=getYearDay(date,this.utc).toString();break;case"F":case"g":break;case"t":value=language.translateFunc("_dateOrd").call(this,day);break;case"E":value=(weekday||7).toString();break;case"EE":value=padString((weekday||7).toString(),2,"0");break;case"EEE":case"eee":value=language.translate(this.weekdaysShort[weekday]);break;case"EEEE":case"eeee":value=language.translate(this.weekdays[weekday]);break;case"EEEEE":case"eeeee":value=language.translate(this.weekdays[weekday]).substr(0,1);break;case"e":case"ee":value=(weekday-this.firstDayOfWeek+1).toString(),"ee"==info.parts[i]&&(value=padString(value,2,"0"));break;case"a":value=hours>=12?language.translate("PM"):language.translate("AM");break;case"aa":value=hours>=12?language.translate("P.M."):language.translate("A.M.");break;case"aaa":value=hours>=12?language.translate("P"):language.translate("A");break;case"h":value=get12Hours(hours).toString();break;case"hh":value=padString(get12Hours(hours),2,"0");break;case"H":value=hours.toString();break;case"HH":value=padString(hours,2,"0");break;case"K":value=get12Hours(hours,0).toString();break;case"KK":value=padString(get12Hours(hours,0),2,"0");break;case"k":value=(hours+1).toString();break;case"kk":value=padString(hours+1,2,"0");break;case"m":value=minutes.toString();break;case"mm":value=padString(minutes,2,"0");break;case"s":value=seconds.toString();break;case"ss":value=padString(seconds,2,"0");break;case"S":case"SS":case"SSS":value=Math.round(milliseconds/1e3*Math.pow(10,info.parts[i].length)).toString();break;case"x":value=timestamp.toString();break;case"n":case"nn":case"nnn":value=padString(milliseconds,info.parts[i].length,"0");break;case"z":value=getTimeZone(date,!1,!1,this.utc);break;case"zz":value=getTimeZone(date,!0,!1,this.utc);break;case"zzz":value=getTimeZone(date,!1,!0,this.utc);break;case"zzzz":value=getTimeZone(date,!0,!0,this.utc);break;case"Z":case"ZZ":var tz=Math.abs(offset)/60,tzh=Math.floor(tz),tzm=60*tz-60*tzh;this.utc&&(tzh=0,tzm=0),"Z"==info.parts[i]?(value="GMT",value+=offset>0?"-":"+",value+=padString(tzh,2)+":"+padString(tzm,2)):(value=offset>0?"-":"+",value+=padString(tzh,2)+padString(tzm,2));break;case"i":value=date.toISOString();break;case"I":value=date.toUTCString()}res=res.replace("__§§§__",value)}return res},DateFormatter.prototype.parse=function(source,format){if(Type_hasValue(format)||(format=this.inputDateFormat),source instanceof Date)return source;if("number"==typeof source)return new Date(source);var res;"string"!=typeof source&&(source=source.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language_Language);var reg="";format=(format=cleanFormat(format)).substr(0,source.length);for(var info=this.parseFormat(format),parsedIndexes={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},resValues={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},indexAdjust=0,index=0,i=0;i<info.parts.length;i++){switch(index=i+indexAdjust+1,info.parts[i]){case"yyyy":case"YYYY":reg+="([0-9]{4})",parsedIndexes.year=index;break;case"yyy":case"YYY":reg+="([0-9]{3})",parsedIndexes.year3=index;break;case"yy":case"YY":reg+="([0-9]{2})",parsedIndexes.year2=index;break;case"y":case"Y":reg+="([0-9]{1})",parsedIndexes.year1=index;break;case"MMMM":reg+="("+this.getStringList(this.months).join("|")+")",parsedIndexes.monthLong=index;break;case"MMM":reg+="("+this.getStringList(this.monthsShort).join("|")+")",parsedIndexes.monthShort=index;break;case"MM":case"M":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.month=index;break;case"ww":case"w":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.week=index;break;case"dd":case"d":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.day=index;break;case"DDD":case"DD":case"D":reg+="([0-9]{3}|[0-9]{2}|[0-9]{1})",parsedIndexes.yearDay=index;break;case"dddd":reg+="("+this.getStringList(this.weekdays).join("|")+")",parsedIndexes.weekdayLong=index;break;case"ddd":reg+="("+this.getStringList(this.weekdaysShort).join("|")+")",parsedIndexes.weekdayShort=index;break;case"aaa":case"aa":case"a":reg+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",parsedIndexes.am=index;break;case"hh":case"h":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.hour12Base1=index;break;case"HH":case"H":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.hourBase0=index;break;case"KK":case"K":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.hour12Base0=index;break;case"kk":case"k":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.hourBase1=index;break;case"mm":case"m":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.minute=index;break;case"ss":case"s":reg+="([0-9]{2}|[0-9]{1})",parsedIndexes.second=index;break;case"SSS":case"SS":case"S":reg+="([0-9]{3}|[0-9]{2}|[0-9]{1})",parsedIndexes.millisecond=index,parsedIndexes.millisecondDigits=info.parts[i].length;break;case"nnn":case"nn":case"n":reg+="([0-9]{3}|[0-9]{2}|[0-9]{1})",parsedIndexes.millisecond=index;break;case"x":reg+="([0-9]{1,})",parsedIndexes.timestamp=index;break;case"Z":reg+="GMT([-+]+[0-9]{2}:[0-9]{2})",parsedIndexes.zone=index;break;case"ZZ":reg+="([\\-+]+[0-9]{2}[0-9]{2})",parsedIndexes.zone=index;break;case"i":reg+="([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})[0-9]*([Zz]?)",parsedIndexes.iso=index,indexAdjust+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":indexAdjust--}reg+="[^0-9]*"}var regex=new RegExp(reg),matches=source.match(regex);if(matches){if(parsedIndexes.year>-1&&(resValues.year=parseInt(matches[parsedIndexes.year])),parsedIndexes.year3>-1){var val=parseInt(matches[parsedIndexes.year3]);val+=1e3,resValues.year=val}if(parsedIndexes.year2>-1){val=parseInt(matches[parsedIndexes.year2]);val+=val>50?1e3:2e3,resValues.year=val}if(parsedIndexes.year1>-1){val=parseInt(matches[parsedIndexes.year1]);val=10*Math.floor((new Date).getFullYear()/10)+val,resValues.year=val}if(parsedIndexes.monthLong>-1&&(resValues.month=this.resolveMonth(matches[parsedIndexes.monthLong])),parsedIndexes.monthShort>-1&&(resValues.month=this.resolveShortMonth(matches[parsedIndexes.monthShort])),parsedIndexes.month>-1&&(resValues.month=parseInt(matches[parsedIndexes.month])-1),parsedIndexes.week>-1&&-1===parsedIndexes.day&&(resValues.month=0,resValues.day=function(week,year,weekday,utc){void 0===weekday&&(weekday=1),void 0===utc&&(utc=!1);var date=new Date(year,0,4,0,0,0,0);return utc&&date.setUTCFullYear(year),7*week+weekday-((date.getDay()||7)+3)}(parseInt(matches[parsedIndexes.week]),resValues.year,1,this.utc)),parsedIndexes.day>-1&&(resValues.day=parseInt(matches[parsedIndexes.day])),parsedIndexes.yearDay>-1&&(resValues.month=0,resValues.day=parseInt(matches[parsedIndexes.yearDay])),parsedIndexes.hourBase0>-1&&(resValues.hour=parseInt(matches[parsedIndexes.hourBase0])),parsedIndexes.hourBase1>-1&&(resValues.hour=parseInt(matches[parsedIndexes.hourBase1])-1),parsedIndexes.hour12Base0>-1)11==(val=parseInt(matches[parsedIndexes.hour12Base0]))&&(val=0),parsedIndexes.am>-1&&!this.isAm(matches[parsedIndexes.am])&&(val+=12),resValues.hour=val;if(parsedIndexes.hour12Base1>-1)12==(val=parseInt(matches[parsedIndexes.hour12Base1]))&&(val=0),parsedIndexes.am>-1&&!this.isAm(matches[parsedIndexes.am])&&(val+=12),resValues.hour=val;if(parsedIndexes.minute>-1&&(resValues.minute=parseInt(matches[parsedIndexes.minute])),parsedIndexes.second>-1&&(resValues.second=parseInt(matches[parsedIndexes.second])),parsedIndexes.millisecond>-1){val=parseInt(matches[parsedIndexes.millisecond]);2==parsedIndexes.millisecondDigits?val*=10:1==parsedIndexes.millisecondDigits&&(val*=100),resValues.millisecond=val}if(parsedIndexes.timestamp>-1){resValues.timestamp=parseInt(matches[parsedIndexes.timestamp]);var ts=new Date(resValues.timestamp);resValues.year=ts.getUTCFullYear(),resValues.month=ts.getUTCMonth(),resValues.day=ts.getUTCDate(),resValues.hour=ts.getUTCHours(),resValues.minute=ts.getUTCMinutes(),resValues.second=ts.getUTCSeconds(),resValues.millisecond=ts.getUTCMilliseconds()}if(parsedIndexes.zone>-1){var match=getValue(matches[parsedIndexes.zone].replace(/:/,"").match(/([+\-]?)([0-9]{2})([0-9]{2})/)),dir=match[1],hour=match[2],minute=match[3],offset=60*parseInt(hour)+parseInt(minute);"+"==dir&&(offset*=-1);var diff=offset-(new Date).getTimezoneOffset();resValues.offset=diff}parsedIndexes.iso>-1&&("Z"!=matches[parsedIndexes.iso+7]&&"z"!=matches[parsedIndexes.iso+7]||(resValues.utc=!0),resValues.year=toNumber(matches[parsedIndexes.iso+0]),resValues.month=toNumber(matches[parsedIndexes.iso+1])-1,resValues.day=toNumber(matches[parsedIndexes.iso+2]),resValues.hour=toNumber(matches[parsedIndexes.iso+3]),resValues.minute=toNumber(matches[parsedIndexes.iso+4]),resValues.second=toNumber(matches[parsedIndexes.iso+5]),resValues.millisecond=toNumber(matches[parsedIndexes.iso+6])),res=resValues.utc?new Date(Date.UTC(resValues.year,resValues.month,resValues.day,resValues.hour,resValues.minute,resValues.second,resValues.millisecond)):new Date(resValues.year,resValues.month,resValues.day,resValues.hour,resValues.minute+resValues.offset,resValues.second,resValues.millisecond)}else res=new Date(source);return res},DateFormatter.prototype.resolveMonth=function(value){var month=this.months.indexOf(value);return month>-1?month:this.language&&!this.language.isDefault()&&(month=this.language.translateAll(this.months).indexOf(value))>-1?month:0},DateFormatter.prototype.resolveShortMonth=function(value){var month=this.monthsShort.indexOf(value);return month>-1?month:(month=this.months.indexOf(value))>-1?month:this.language&&!this.language.isDefault()&&(month=this.language.translateAll(this.monthsShort).indexOf(value))>-1?month:0},DateFormatter.prototype.isAm=function(value){return this.getStringList(["AM","A.M.","A"]).indexOf(value.toUpperCase())>-1},DateFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},DateFormatter.prototype.getStringList=function(list){for(var res=[],i=0;i<list.length;i++)this.language?res.push(escapeForRgex(this.language.translate(list[i]))):res.push(escapeForRgex(list[i]));return res},Object.defineProperty(DateFormatter.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(value){this._dateFormat=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(value){this._inputDateFormat=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(value){this._intlLocales=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"utc",{get:function(){return this._utc},set:function(value){this._utc=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(value){this._timezoneOffset!=value&&(this._timezoneOffset=value,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"timezone",{get:function(){return this._timezone},set:function(value){this._timezone!=value&&(this._timezone=value,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(value){this._firstDayOfWeek=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormatter.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(value){this._outputFormat=value.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),DateFormatter}(Base_BaseObject);Registry_registry.registeredClasses.DateFormatter=DateFormatter_DateFormatter;var DurationFormatter_DurationFormatter=function(_super){function DurationFormatter(){var _this=_super.call(this)||this;return _this._negativeBase=0,_this._baseUnit="second",_this._outputFormat="svg",_this._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},_this._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},_this.className="DurationFormatter",_this.applyTheme(),_this}return Object(tslib_es6.d)(DurationFormatter,_super),DurationFormatter.prototype.format=function(value,format,base){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language_Language);var baseUnit=base||this._baseUnit;void 0!==format&&""!==format||(format=Type_hasValue(this.durationFormat)?this.durationFormat:this.getFormat(toNumber(value),null,baseUnit)),format=cleanFormat(format);var details,info=this.parseFormat(format,baseUnit),source=Number(value);details=source>this._negativeBase?info.positive:source<this._negativeBase?info.negative:info.zero;var formatted=this.applyFormat(source,details);return""!==details.color&&("svg"===this._outputFormat?formatted="<tspan fill='"+details.color+"'>"+formatted+"</tspan>":"html"===this._outputFormat&&(formatted="<span style='color: "+details.color+";'>"+formatted+"</span>")),formatted},DurationFormatter.prototype.parseFormat=function(format,base){var _this=this,cached=this.getCache(format);if(Type_hasValue(cached))return cached;var baseUnit=base||this._baseUnit,info={positive:{color:"",template:"",parts:[],source:"",baseUnit:baseUnit,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:baseUnit,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:baseUnit,parsed:!1,absolute:!1}},parts=(format=format.replace("||","__§§§§__")).split("|");return info.positive.source=parts[0],void 0===parts[2]?info.zero=info.positive:info.zero.source=parts[2],void 0===parts[1]?info.negative=info.positive:info.negative.source=parts[1],Object_each(info,(function(part,item){if(!item.parsed)if(void 0===_this.getCache(item.source)){var dirs,partFormat=item.source;(dirs=item.source.match(/^\[([^\]]*)\]/))&&dirs.length&&""!==dirs[0]&&(partFormat=item.source.substr(dirs[0].length),item.color=dirs[1]);for(var chunks=getTextFormatter().chunk(partFormat,!0),i=0;i<chunks.length;i++){var chunk=chunks[i];if(chunk.text=chunk.text.replace("__§§§§__","|"),"value"===chunk.type){chunk.text.match(/[yYMdDwhHKkmsSn]+a/)&&(item.absolute=!0,chunk.text=chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var matches=chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(matches)for(var x=0;x<matches.length;x++)Type_hasValue(matches[x])||(matches[x]=_this._unitAliases[matches[x]]),item.parts.push(matches[x]),chunk.text=chunk.text.replace(matches[x],"__§§§__")}item.template+=chunk.text}_this.setCache(item.source,item),item.parsed=!0}else info[part]=_this.getCache(item.source)})),this.setCache(format,info),info},DurationFormatter.prototype.applyFormat=function(value,details){var negative=!details.absolute&&value<this._negativeBase;value=Math.abs(value);for(var tstamp=this.toTimeStamp(value,details.baseUnit),res=details.template,i=0,len=details.parts.length;i<len;i++){var part=details.parts[i],unit=this.toTimeUnit(part.substr(0,1)),digits=part.length,ints=Math.floor(tstamp/this._unitValues[unit]);res=res.replace("__§§§__",padString(ints,digits,"0")),tstamp-=ints*this._unitValues[unit]}return negative&&(res="-"+res),res},DurationFormatter.prototype.toTimeStamp=function(value,baseUnit){return value*this._unitValues[baseUnit]},DurationFormatter.prototype.toTimeUnit=function(code){switch(code){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},DurationFormatter.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(DurationFormatter.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(baseUnit){this._baseUnit=baseUnit,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(DurationFormatter.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(outputFormat){this._outputFormat=outputFormat.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),DurationFormatter.prototype.getFormat=function(value,maxValue,baseUnit){if(Type_hasValue(this.durationFormat))return this.durationFormat;if(baseUnit||(baseUnit=this.baseUnit),Type_hasValue(maxValue)&&value!=maxValue){value=Math.abs(value),maxValue=Math.abs(maxValue);var maxUnit=this.getValueUnit(Math_max(value,maxValue),baseUnit);return this.durationFormats[baseUnit][maxUnit]}var unit=this.getValueUnit(value,baseUnit);return this.durationFormats[baseUnit][unit]},DurationFormatter.prototype.getValueUnit=function(value,baseUnit){var currentUnit;baseUnit||(baseUnit=this.baseUnit);var ms=this.getMilliseconds(value,baseUnit);return Object_eachContinue(this._unitValues,(function(key,val){if(key==baseUnit||currentUnit){if(ms/val<=1)return currentUnit||(currentUnit=key),!1;currentUnit=key}return!0})),currentUnit},DurationFormatter.prototype.getMilliseconds=function(value,baseUnit){return baseUnit||(baseUnit=this.baseUnit),value*this._unitValues[baseUnit]},Object.defineProperty(DurationFormatter.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(value){this._durationFormat!=value&&(this._durationFormat=value,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(DurationFormatter.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(value){this._durationFormats=value,this.invalidateSprite()},enumerable:!0,configurable:!0}),DurationFormatter}(Base_BaseObject);Registry_registry.registeredClasses.DurationFormatter=DurationFormatter_DurationFormatter;var pdfmakePromise,ExportCSS_rules=new Dictionary_Dictionary,Validatable_Validatable=function(_super){function Validatable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._validateDisposer=null,_this}return Object(tslib_es6.d)(Validatable,_super),Validatable.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=Registry_registry.events.on("exitframe",this.validate,this))},Validatable.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},Validatable.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),_super.prototype.dispose.call(this)},Validatable}(Base_BaseObjectEvents),ExportMenu_ExportMenu=function(_super){function ExportMenu(){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this.closeDelay=1e3,_this.closeOnClick=!0,_this._language=new Disposer_MutableValueDisposer,_this._menuTag="ul",_this._itemTag="li",_this._labelTag="a",_this._iconTag="img",_this._classPrefix="amexport",_this._defaultStyles=!0,_this._align="right",_this._verticalAlign="top",_this._tabindex=0,_this._ignoreNextClose=!1,_this._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],_this.className="ExportMenu",_this._disposers.push(_this._language),_this.invalidate(),_this.applyTheme(),_this}return Object(tslib_es6.d)(ExportMenu,_super),ExportMenu.prototype.validate=function(){this.draw(),_super.prototype.validate.call(this)},ExportMenu.prototype.draw=function(){var _this=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),getValue(this._container).appendChild(this._element);for(var items=this.adapter.apply("items",{items:this._items}).items,len=items.length,i=0;i<len;i++)this.drawBranch(this._element,items[i],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(getInteraction().body.events.on("down",(function(ev){ev.pointer.touch||(_this._ignoreNextClose=!1),_this.close()}))),this._disposers.push(getInteraction().body.events.on("keydown",(function(ev){var key=keyboard.getEventKey(ev.event);switch(key){case"esc":_this.close();break;case"up":case"down":case"left":case"right":_this._currentSelection&&ev.event.preventDefault(),_this.moveSelection(key)}}))),this.defaultStyles&&this.loadDefaultCSS()},ExportMenu.prototype.drawBranch=function(container,branch,level){var _this=this;if(!0!==(branch=this.adapter.apply("branch",{branch:branch,level:level}).branch).unsupported){branch.ascendants||(branch.ascendants=new List_List);var label,type=branch.type,element=this.createItemElement(level,type);branch.icon?((label=this.createIconElement(level,type)).src=branch.icon,(branch.label||branch.title)&&(label.title=branch.title||branch.label)):branch.svg?(label=this.createSvgElement(level,type,branch.svg),(branch.label||branch.title)&&(label.title=branch.title||branch.label)):((label=this.createLabelElement(level,type)).innerHTML=branch.label?this.language.translate(branch.label):"",branch.title&&(label.title=branch.title));var readerLabel=this.getReaderLabel(branch,label.innerHTML);label.setAttribute("aria-label",readerLabel),element.appendChild(label),branch.interactions=getInteraction().getInteraction(label),branch.element=element,this.typeClickable(type)&&(branch.interactions.events.on("hit",(function(ev){if(_this.events.isEnabled("hit")){var event_1={type:"hit",event:ev.event,target:_this,branch:branch};_this.events.dispatchImmediately("hit",event_1)}})),branch.interactions.events.on("keyup",(function(ev){if(keyboard.isKey(ev.event,"enter")&&_this.events.isEnabled("enter")){var event_2={type:"enter",event:ev.event,target:_this,branch:branch};_this.events.dispatchImmediately("enter",event_2)}})));var submenu_1=this.getSubMenu(branch);null!=submenu_1&&(branch.interactions.events.on("keyup",(function(ev){keyboard.isKey(ev.event,"enter")&&(_this.selectBranch(submenu_1[0]),_this.setFocus(submenu_1[0]))})),branch.interactions.events.on("hit",(function(ev){_this.selectBranch(branch)}))),branch.interactions.events.on("over",(function(ev){if(ev.pointer.touch&&(_this._ignoreNextClose=!0),_this.selectBranch(branch),_this.events.isEnabled("over")){var event_3={type:"over",event:ev.event,target:_this,branch:branch};_this.events.dispatchImmediately("over",event_3)}})),branch.interactions.events.on("out",(function(ev){if(ev.pointer.touch||_this.delayUnselectBranch(branch),_this.events.isEnabled("out")){var event_4={type:"out",event:ev.event,target:_this,branch:branch};_this.events.dispatchImmediately("out",event_4)}})),branch.interactions.events.on("focus",(function(ev){_this.selectBranch(branch)})),branch.interactions.events.on("blur",(function(ev){_this.delayUnselectBranch(branch)}));var local_level=level+1;if(branch.menu){for(var submenu=this.createMenuElement(local_level),len=branch.menu.length,i=0;i<len;i++){var ascendants=new List_List;branch.menu[i].ascendants=ascendants,branch.ascendants.length&&ascendants.copyFrom(branch.ascendants),ascendants.push(branch),this.drawBranch(submenu,branch.menu[i],local_level)}if(""==submenu.innerHTML)return;element.appendChild(submenu)}branch.hidden&&this.hideBranch(branch),branch.id&&element.setAttribute("id",branch.id),branch.color&&(element.style.backgroundColor=branch.color.hex),container.appendChild(element)}},ExportMenu.prototype.createMenuElement=function(level){var element=document.createElement(this.menuTag);return element.className=this.getMenuItemClass(level),0===level?element.setAttribute("role","menubar"):element.setAttribute("role","menu"),element},ExportMenu.prototype.getMenuItemClass=function(level){var className=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+level;return 0===level&&(className+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:className,level:level}).className},ExportMenu.prototype.createItemElement=function(level,type){var element=document.createElement(this.itemTag),className=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+level+" "+this.classPrefix+"-item-"+(type||"blank");return element.className=this.adapter.apply("itemClass",{className:className,level:level,type:type}).className,element.setAttribute("role","menuitem"),element},ExportMenu.prototype.createLabelElement=function(level,type){var element=document.createElement(this.labelTag),className=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+level+" "+this.classPrefix+"-item-"+(type||"blank");return this.typeClickable(type)&&(className+=" "+this.classPrefix+"-clickable"),element.className=this.adapter.apply("labelClass",{className:className,level:level,type:type}).className,element.setAttribute("tabindex",this.tabindex.toString()),element.setAttribute("role","menuitem"),element},ExportMenu.prototype.createIconElement=function(level,type){var element=document.createElement(this.iconTag),className=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+level+" "+this.classPrefix+"-item-"+(type||"blank");return this.typeClickable(type)&&(className+=" "+this.classPrefix+"-clickable"),element.className=this.adapter.apply("labelClass",{className:className,level:level,type:type}).className,element.setAttribute("tabindex",this.tabindex.toString()),element.setAttribute("role","menuitem"),element},ExportMenu.prototype.createSvgElement=function(level,type,svg){var element=(new DOMParser).parseFromString(svg,"image/svg+xml").documentElement,className=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+level+" "+this.classPrefix+"-item-"+(type||"blank");return this.typeClickable(type)&&(className+=" "+this.classPrefix+"-clickable"),element.setAttribute("class",this.adapter.apply("labelClass",{className:className,level:level,type:type}).className),element.setAttribute("tabindex",this.tabindex.toString()),element.setAttribute("role","menuitem"),element},ExportMenu.prototype.dispose=function(){this._disposed||(_super.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},ExportMenu.prototype.typeClickable=function(type){return Type_hasValue(type)},ExportMenu.prototype.hasSubMenu=function(branch){return!(!branch.menu||!branch.menu.length)},ExportMenu.prototype.getSubMenu=function(branch){if(branch.menu&&branch.menu.length)return branch.menu},ExportMenu.prototype.getReaderLabel=function(branch,label){return label=stripTags(label),0==branch.ascendants.length?(label="..."==label?this.language.translate("Export"):label,label+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(branch)?label+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==branch.type?label=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(branch.type)&&(label=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,label)),this.adapter.apply("rederLabel",{label:label,branch:branch}).label},Object.defineProperty(ExportMenu.prototype,"container",{get:function(){return this._container},set:function(container){this._container=container,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"items",{get:function(){return this._items},set:function(items){this._items=items,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"tag",{set:function(tag){this._menuTag=tag,this._itemTag="ul"==tag?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(value){this._align=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(value){this._verticalAlign=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(value){this._classPrefix=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(value){this._defaultStyles!=value&&(this._defaultStyles=value,value&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),ExportMenu.prototype.loadDefaultCSS=function(){var element,prefix,newPrefix,colorSet;this._disposers.push((element=getShadowRoot(this.container),prefix=this.classPrefix,newPrefix=prefix||"amexport",colorSet=new InterfaceColorSet_InterfaceColorSet,ExportCSS_rules.insertKeyIfEmpty(newPrefix,(function(){var disposer=new Disposer_MultiDisposer([new DOM_StyleRule(element,"."+newPrefix+"-menu *",{"box-sizing":"border-box"}),new DOM_StyleRule(element,"."+newPrefix+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new DOM_StyleRule(element,"."+newPrefix+"-menu-level-0."+newPrefix+"-left",{right:"auto",left:"5px"}),new DOM_StyleRule(element,"."+newPrefix+"-menu-level-0."+newPrefix+"-right",{right:"5px",left:"auto"}),new DOM_StyleRule(element,"."+newPrefix+"-menu-level-0."+newPrefix+"-top",{top:"5px",bottom:"auto"}),new DOM_StyleRule(element,"."+newPrefix+"-menu-level-0."+newPrefix+"-bottom",{top:"auto",bottom:"5px"}),new DOM_StyleRule(element,"."+newPrefix+"-item."+newPrefix+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new DOM_StyleRule(element,"div:hover ."+newPrefix+"-item."+newPrefix+"-item-level-0, ."+newPrefix+"-item."+newPrefix+"-item-level-0.active",{opacity:"0.9"}),new DOM_StyleRule(element,"."+newPrefix+"-item."+newPrefix+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new DOM_StyleRule(element,"."+newPrefix+"-item."+newPrefix+"-item-level-0:before",{display:"block"}),new DOM_StyleRule(element,"."+newPrefix+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":colorSet.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:colorSet.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new DOM_StyleRule(element,"."+newPrefix+"-left ."+newPrefix+"-item",{margin:"1px 0 0 1px"}),new DOM_StyleRule(element,"."+newPrefix+"-item:hover, ."+newPrefix+"-item.active",{background:colorSet.getFor("secondaryButtonHover").hex,color:colorSet.getFor("secondaryButtonText").hex}),new DOM_StyleRule(element,"."+newPrefix+"-item > ."+newPrefix+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new DOM_StyleRule(element,"."+newPrefix+"-left ."+newPrefix+"-item > ."+newPrefix+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new DOM_StyleRule(element,"."+newPrefix+"-right ."+newPrefix+"-item > ."+newPrefix+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new DOM_StyleRule(element,"."+newPrefix+"-top ."+newPrefix+"-item > ."+newPrefix+"-menu",{top:"-1px",bottom:"auto"}),new DOM_StyleRule(element,"."+newPrefix+"-bottom ."+newPrefix+"-item > ."+newPrefix+"-menu",{top:"auto",bottom:"0"}),new DOM_StyleRule(element,"."+newPrefix+"-item > ."+newPrefix+"-menu",{display:"none"}),new DOM_StyleRule(element,"."+newPrefix+"-item:hover > ."+newPrefix+"-menu, ."+newPrefix+"-item.active > ."+newPrefix+"-menu",{display:"block"}),new DOM_StyleRule(element,"."+newPrefix+"-item:hover > ."+newPrefix+"-menu > ."+newPrefix+"-item, ."+newPrefix+"-item.active > ."+newPrefix+"-menu > ."+newPrefix+"-item",{opacity:"1"}),new DOM_StyleRule(element,"."+newPrefix+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new DOM_StyleRule(element,"."+newPrefix+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new DOM_StyleRule(element,"."+newPrefix+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new DOM_StyleRule(element,"."+newPrefix+"-item-level-0 > ."+newPrefix+"-icon",{padding:"0.1em 0.2em"}),new DOM_StyleRule(element,"."+newPrefix+"-clickable",{cursor:"pointer"})]);return new Disposer_CounterDisposer((function(){ExportCSS_rules.removeKey(newPrefix),disposer.dispose()}))})).increment())),this._element&&(this._element.style.display="")},Object.defineProperty(ExportMenu.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(value){this._tabindex=value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ExportMenu.prototype,"language",{get:function(){var _this=this,language=this._language.get();return null==language&&(language=new Language_Language,this._language.set(language,language.events.on("localechanged",(function(ev){_this.invalidate()})))),language},set:function(value){var _this=this;this._language.set(value,value.events.on("localechanged",(function(ev){_this.invalidate()}))),this.invalidate()},enumerable:!0,configurable:!0}),ExportMenu.prototype.close=function(){var _this=this;if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout((function(){_this._element.style.pointerEvents="auto"}),100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var items=this._element.getElementsByClassName("active"),i=items.length-1;i>=0;i--)items[i]&&DOM_removeClass(items[i],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},ExportMenu.prototype.selectBranch=function(branch){var _this=this;if(branch.closeTimeout&&(this.removeDispose(branch.closeTimeout),branch.closeTimeout=void 0),DOM_addClass(branch.interactions.element.parentElement,"active"),branch.interactions.element.parentElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==branch&&this._currentSelection.ascendants&&Iterator_each(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return function(push){for(var go=!0,push2=function(value){return go=push(value)},length=args.length,i=0;i<length&&(args[i](push2),go);++i);}}(Iterator_fromArray([this._currentSelection]),this._currentSelection.ascendants.iterator()),(function(ascendant){branch.ascendants.contains(ascendant)||branch===ascendant||_this.unselectBranch(ascendant,!0)})),Iterator_each(branch.ascendants.iterator(),(function(ascendant){ascendant.closeTimeout&&(_this.removeDispose(ascendant.closeTimeout),ascendant.closeTimeout=void 0),DOM_addClass(ascendant.interactions.element.parentElement,"active")})),this._currentSelection=branch,this.events.isEnabled("branchselected")){var event_5={type:"branchselected",target:this,branch:branch};this.events.dispatchImmediately("branchselected",event_5)}},ExportMenu.prototype.unselectBranch=function(branch,simple){if(DOM_removeClass(branch.interactions.element.parentElement,"active"),branch.interactions.element.parentElement.removeAttribute("aria-expanded"),this._currentSelection==branch&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected")){var event_6={type:"branchunselected",target:this,branch:branch};this.events.dispatchImmediately("branchunselected",event_6)}},ExportMenu.prototype.delayUnselectBranch=function(branch,simple){var _this=this;branch.closeTimeout&&(this.removeDispose(branch.closeTimeout),branch.closeTimeout=void 0),branch.closeTimeout=this.setTimeout((function(){_this.unselectBranch(branch,simple)}),this.closeDelay),!0!==simple&&branch.ascendants&&Iterator_each(branch.ascendants.iterator(),(function(ascendant){_this.delayUnselectBranch(ascendant,!0)}))},ExportMenu.prototype.moveSelection=function(key){if(this._currentSelection){var newSelection;if("up"==key)newSelection=this.getPrevSibling(this._currentSelection);else if("down"==key)newSelection=this.getNextSibling(this._currentSelection);else if("left"==key&&"right"==this.align||"right"==key&&"left"==this.align){var menu=this.getSubMenu(this._currentSelection);null!=menu&&(newSelection=menu[0])}else("right"==key&&"right"==this.align||"left"==key&&"left"==this.align)&&(newSelection=this.getParentItem(this._currentSelection));newSelection&&newSelection!==this._currentSelection&&(this.selectBranch(newSelection),this.setFocus(newSelection),this._currentSelection=newSelection)}},ExportMenu.prototype.getSiblings=function(branch){var parent=this.getParentItem(branch);return parent&&parent.menu?parent.menu:[]},ExportMenu.prototype.getParentItem=function(branch){return branch.ascendants&&branch.ascendants.length?branch.ascendants.getIndex(branch.ascendants.length-1):void 0},ExportMenu.prototype.getNextSibling=function(branch){var siblings=this.getSiblings(branch);if(siblings.length>1){var next=siblings.indexOf(branch)+1;return siblings[next=siblings.length==next?0:next].unsupported?this.getNextSibling(siblings[next]):siblings[next]}return branch},ExportMenu.prototype.getPrevSibling=function(branch){var siblings=this.getSiblings(branch);if(siblings.length>1){var prev=siblings.indexOf(branch)-1;return siblings[prev=-1==prev?siblings.length-1:prev].unsupported?this.getPrevSibling(siblings[prev]):siblings[prev]}return branch},ExportMenu.prototype.setFocus=function(branch){if(branch.interactions)try{branch.interactions.element.focus()}catch(e){}},ExportMenu.prototype.setBlur=function(branch){if(branch.interactions)try{branch.interactions.element.blur()}catch(e){}},ExportMenu.prototype.hideBranch=function(branch){branch.element.style.display="none"},ExportMenu.prototype.showBranch=function(branch){branch.element.style.display=""},ExportMenu}(Validatable_Validatable);function Net_load(url,target,options){return new Promise((function(success,error){var isBlob=Type_hasValue(options)&&"blob"==options.responseType,xhr=new XMLHttpRequest;if(xhr.onload=function(){if(200===xhr.status){var blob_1,response=void 0;if(isBlob)return blob_1=xhr.response,void(blob=blob_1,new Promise((function(success,error){var reader=new FileReader;reader.onload=function(event){success(reader.result)},reader.onerror=function(e){error(e)},reader.readAsText(blob)}))).then((function(response){var output={xhr:xhr,error:!1,response:response,blob:blob_1,type:xhr.getResponseHeader("Content-Type"),target:target};success(output)}));response=xhr.responseText||xhr.response;var output={xhr:xhr,error:!1,response:response,blob:blob_1,type:xhr.getResponseHeader("Content-Type"),target:target};success(output)}else error({xhr:xhr,error:!0,type:xhr.getResponseHeader("Content-Type"),target:target});var blob},xhr.onerror=function(){error({xhr:xhr,error:!0,type:xhr.getResponseHeader("Content-Type"),target:target})},xhr.open("GET",url,!0),options&&options.withCredentials&&(xhr.withCredentials=!0),Type_hasValue(options)){if(Type_hasValue(options.requestHeaders))for(var i=0;i<options.requestHeaders.length;i++){var header=options.requestHeaders[i];xhr.setRequestHeader(header.key,header.value)}Type_hasValue(options.responseType)&&(xhr.responseType=options.responseType)}xhr.send()}))}var fontFamilySrcRegexp=/src: ([^;]+);/;function getCssRules(s){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var sheet;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:sheet=s.sheet,_a.label=1;case 1:return _a.trys.push([1,2,,4]),[2,sheet.cssRules];case 2:return _a.sent(),[4,new Promise((function(success,error){s.addEventListener("load",(function(){success(sheet.cssRules)}),!0),s.addEventListener("error",(function(e){error(e)}),!0),setTimeout((function(){error(new Error("Timeout while waiting for <style> to load"))}),1e4)}))];case 3:return[2,_a.sent()];case 4:return[2]}}))}))}function loadStylesheet(doc,url,f){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var response,e_2,s,rules;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,Net_load(url)];case 1:return response=_a.sent(),[3,3];case 2:return e_2=_a.sent(),console.error("Failed to load stylesheet",url,e_2),[2];case 3:(s=doc.createElement("style")).textContent=response.response,doc.head.appendChild(s),_a.label=4;case 4:return _a.trys.push([4,,7,8]),[4,getCssRules(s)];case 5:return rules=_a.sent(),[4,eachStylesheet(doc,url,rules,f)];case 6:return _a.sent(),[3,8];case 7:return doc.head.removeChild(s),[7];case 8:return[2]}}))}))}function eachStylesheet(doc,topUrl,rules,f){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var promises,length,i,rule,url;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:for(promises=[],length=rules.length,i=0;i<length;i++)(rule=rules[i]).type===CSSRule.IMPORT_RULE?(url=rule.href)&&(url=joinUrl(topUrl,url),promises.push(loadStylesheet(doc,url,f))):f(topUrl,rule);return promises.length?[4,Promise.all(promises)]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}}))}))}function eachStylesheets(f){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var iframe,doc_1;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:(iframe=document.createElement("iframe")).src="about:blank",iframe.setAttribute("title",""),document.head.appendChild(iframe),_a.label=1;case 1:return _a.trys.push([1,,3,4]),doc_1=iframe.contentDocument,[4,Promise.all(Array_map(document.styleSheets,(function(sheet){var url=sheet.href;return null==url?eachStylesheet(doc_1,location.href,sheet.cssRules,f):(url=joinUrl(location.href,url),loadStylesheet(doc_1,url,f))})))];case 2:return _a.sent(),[3,4];case 3:return document.head.removeChild(iframe),[7];case 4:return[2]}}))}))}var Export_Export=function(_super){function Export(container){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._formatOptions=new Dictionary_Dictionary,_this._extraSprites=[],_this._validateSprites=[],_this.dataFieldsOrder=[],_this._dynamicDataFields=!0,_this._removedObjects=new List_List,_this._hiddenObjects=[],_this._objectsAlreadyHidden=!1,_this._filePrefix="amCharts",_this.useWebFonts=!0,_this.useRetina=!0,_this.useSimplifiedExport=!0,_this.timeoutDelay=2e3,_this._exportRunning=!1,_this._prevHasData=!1,_this._container=container,_this.className="Export",_this._formatOptions.setKey("png",{}),_this._formatOptions.setKey("jpg",{quality:.8}),_this._formatOptions.setKey("gif",{}),_this._formatOptions.setKey("svg",{}),_this._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),_this._formatOptions.setKey("json",{indent:2,useLocale:!0}),_this._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),_this._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),_this._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),_this._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),_this._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),_this.adapter.add("options",(function(arg){var formatOptions=_this._formatOptions.getKey(arg.type);return arg.options?arg.options=Object_merge(formatOptions,arg.options):arg.options=formatOptions,arg})),_this.applyTheme(),_this.dispatchImmediately("inited"),_this}return Object(tslib_es6.d)(Export,_super),Object.defineProperty(Export.prototype,"menu",{get:function(){return this._menu},set:function(menu){var _this=this;this._menu&&this.removeDispose(this._menu),this._menu=menu,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(arg){return arg.branch.unsupported=!_this.typeSupported(arg.branch.type),arg})),this._menu.events.on("hit",(function(ev){_this.export(ev.branch.type,ev.branch.options),_this.menu.close()})),this._menu.events.on("enter",(function(ev){_this.export(ev.branch.type,ev.branch.options),_this.menu.close()})),this._menu.events.on("over",(function(ev){_this._disablePointers()})),this._menu.events.on("out",(function(ev){setTimeout((function(){_this._releasePointers()}),10)})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(obj){return obj.classPrefix=Options_options.classNamePrefix+obj.classPrefix,obj})),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),Export.prototype.typeSupported=function(type){var supported=!0,options=this.getFormatOptions(type);return Type_hasValue(options)&&options.disabled?supported=!1:"pdf"===type||("xlsx"===type?supported=!!this._hasData():("print"!=type||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(type)||this._hasData())||(supported=!1)),this.adapter.apply("supported",{supported:supported,type:type}).supported},Export.prototype._hasData=function(){return this.data&&this.data.length},Export.prototype._getFunction=function(type){switch(type){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},Export.prototype.export=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var event_1,func,data,event_2,event_3,_this=this;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return"custom"==type?(this.handleCustom(options),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(event_1={type:"exportstarted",target:this,format:type,options:options},this.events.dispatchImmediately("exportstarted",event_1)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){if(_this.events.isEnabled("exporttimedout")){var event_4={type:"exporttimedout",target:_this,format:type,options:options};_this.events.dispatchImmediately("exporttimedout",event_4)}_this.showTimeout()}),this.timeoutDelay)),this.hideNonExportableSprites(),func=this._getFunction(type),options=this.adapter.apply("options",{options:options,type:type}).options,[4,(func=this.adapter.apply("exportFunction",{func:func,type:type,options:options}).func).call(this,type,options)]);case 1:return data=_a.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),data?(this.events.isEnabled("exportfinished")&&(event_2={type:"exportfinished",target:this,format:type,options:options},this.events.dispatchImmediately("exportfinished",event_2)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===type?[2,this.print(data,options,this.adapter.apply("title",{title:this.title,options:options}).title)]:"pdfdata"==type?[2,this.download(data,this.filePrefix+".pdf")]:[2,this.download(data,this.filePrefix+"."+type)]):(this.events.isEnabled("error")&&(event_3={type:"error",target:this,format:type,options:options},this.events.dispatchImmediately("error",event_3)),[2,!1])}}))}))},Export.prototype.unsupported=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.e)(this,(function(_a){return[2,""]}))}))},Export.prototype.handleCustom=function(options){Type_hasValue(options)&&Type_hasValue(options.callback)&&options.callback.call(options.callbackTarget||this,options)},Export.prototype.getPrint=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.e)(this,(function(_a){return[2,this.getImage("png",options)]}))}))},Export.prototype.getFontFamilies=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var DOMURL,blobs,promises,a,_this=this;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return DOMURL=this.getDOMURL(),blobs=[],promises=[],[4,eachStylesheets((function(topUrl,rule){if(rule.type===CSSRule.FONT_FACE_RULE){var cssText_1=rule.cssText,src=fontFamilySrcRegexp.exec(cssText_1);if(null!==src){var urls=src[1].split(/ *, */).map((function(url){return Object(tslib_es6.b)(_this,void 0,void 0,(function(){var a,after,fullUrl,response,url_1,e_3;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return null!==(a=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(url))?[3,1]:[2,url];case 1:after=a[2],fullUrl=joinUrl(topUrl,a[1]),_a.label=2;case 2:return _a.trys.push([2,7,,8]),[4,Net_load(fullUrl,void 0,{responseType:"blob"})];case 3:return response=_a.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(url_1=DOMURL.createObjectURL(response.blob),blobs.push(url_1),[3,6]);case 4:return[4,(blob=response.blob,new Promise((function(resolve,reject){var f=new FileReader;f.onload=function(e){resolve(f.result)},f.onerror=function(e){reject(e)},f.readAsDataURL(blob)})))];case 5:url_1=_a.sent(),_a.label=6;case 6:return[2,'url("'+url_1+'")'+after];case 7:return e_3=_a.sent(),console.error("Failed to load font",fullUrl,e_3),[2,null];case 8:return[2]}var blob}))}))}));promises.push(Promise.all(urls).then((function(a){return 0===(a=a.filter((function(x){return null!=x}))).length?"":cssText_1.replace(fontFamilySrcRegexp,"src: "+a.join(", ")+";")})))}}}))];case 1:return _a.sent(),[4,Promise.all(promises)];case 2:return a=_a.sent(),[2,{blobs:blobs,cssText:a.filter((function(x){return!!x})).join("\n")}]}}))}))},Export.prototype.getImage=function(type,options,includeExtras){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var prehidden,canvas,uri,e_4,data;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),Type_hasValue(options)||(options=this.getFormatOptions(type)),[4,this.awaitValidSprites()];case 1:return _a.sent(),[4,this.simplifiedImageExport()];case 2:if(!_a.sent())return[3,10];_a.label=3;case 3:return _a.trys.push([3,7,,9]),[4,this.getCanvas(options)];case 4:return canvas=_a.sent(),!1===includeExtras?[3,6]:[4,this.addExtras(canvas,options)];case 5:canvas=_a.sent(),_a.label=6;case 6:return uri=canvas.toDataURL(this.getContentType(type),options.quality),this.disposeCanvas(canvas),prehidden||this.restoreNonExportableSprites(),[2,uri];case 7:return e_4=_a.sent(),console.error(e_4.message+"\n"+e_4.stack),warn("Simple export failed, falling back to advanced export"),[4,this.getImageAdvanced(type,options,includeExtras)];case 8:return data=_a.sent(),prehidden||this.restoreNonExportableSprites(),[2,data];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(type,options,includeExtras)];case 11:return data=_a.sent(),prehidden||this.restoreNonExportableSprites(),[2,data];case 12:return[2]}}))}))},Export.prototype.addExtras=function(canvas,options,advanced){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var middleLeft_1,middleTop_1,middleWidth_1,middleHeight_1,extraRight_1,extraBottom_1,extras,newCanvas,ctx_1,background,left_1,top_1,right_1,bottom_1,_this=this;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return this.extraSprites.length?(middleLeft_1=0,middleTop_1=0,middleWidth_1=canvas.width,middleHeight_1=canvas.height,extraRight_1=0,extraBottom_1=0,[4,Promise.all(Array_map(this.extraSprites,(function(extraSprite){return Object(tslib_es6.b)(_this,void 0,void 0,(function(){var extra,extraCanvas,extraWidth,extraHeight;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return(extra=extraSprite instanceof Sprite_Sprite?{sprite:extraSprite,position:"bottom"}:extraSprite).position=extra.position||"bottom",extra.marginTop=extra.marginTop||0,extra.marginRight=extra.marginRight||0,extra.marginBottom=extra.marginBottom||0,extra.marginLeft=extra.marginLeft||0,advanced?[4,extra.sprite.exporting.getCanvasAdvanced(options)]:[3,2];case 1:return extraCanvas=_a.sent(),[3,4];case 2:return[4,extra.sprite.exporting.getCanvas(options)];case 3:extraCanvas=_a.sent(),_a.label=4;case 4:return extraWidth=extraCanvas.width+extra.marginLeft+extra.marginRight,extraHeight=extraCanvas.height+extra.marginTop+extra.marginBottom,"top"==extra.position?(middleWidth_1=extra.crop?middleHeight_1:Math_max(middleWidth_1,extraWidth),middleTop_1+=extraHeight):"right"==extra.position?(middleHeight_1=extra.crop?middleHeight_1:Math_max(middleHeight_1,extraHeight),extraRight_1+=extraWidth):"left"==extra.position?(middleHeight_1=extra.crop?middleHeight_1:Math_max(middleHeight_1,extraHeight),middleLeft_1+=extraWidth):"bottom"===extra.position&&(middleWidth_1=extra.crop?middleHeight_1:Math_max(middleWidth_1,extraWidth),extraBottom_1+=extraHeight),[2,{canvas:extraCanvas,position:extra.position,left:extra.marginLeft,top:extra.marginTop,width:extraWidth,height:extraHeight}]}}))}))})))]):[3,2];case 1:return extras=_a.sent(),(newCanvas=this.getDisposableCanvas()).width=middleLeft_1+middleWidth_1+extraRight_1,newCanvas.height=middleTop_1+middleHeight_1+extraBottom_1,ctx_1=newCanvas.getContext("2d"),(background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(ctx_1.fillStyle=background.toString(),ctx_1.fillRect(0,0,newCanvas.width,newCanvas.height)),right_1=(left_1=middleLeft_1)+middleWidth_1,bottom_1=(top_1=middleTop_1)+middleHeight_1,each(extras,(function(extra){"top"==extra.position?(top_1-=extra.height,ctx_1.drawImage(extra.canvas,middleLeft_1+extra.left,top_1+extra.top)):"right"==extra.position?(ctx_1.drawImage(extra.canvas,right_1+extra.left,middleTop_1+extra.top),right_1+=extra.width):"left"==extra.position?(left_1-=extra.width,ctx_1.drawImage(extra.canvas,left_1+extra.left,middleTop_1+extra.top)):"bottom"===extra.position&&(ctx_1.drawImage(extra.canvas,middleLeft_1+extra.left,bottom_1+extra.top),bottom_1+=extra.height),_this.disposeCanvas(extra.canvas)})),ctx_1.drawImage(canvas,middleLeft_1,middleTop_1),[2,newCanvas];case 2:return[2,canvas]}}))}))},Export.prototype.getCanvas=function(options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var background,DOMURL,url,blobs,canvas,width,height,font,fontSize,scale,pixelRatio,ctx,promises,a,data,svg,img;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:Type_hasValue(options)||(options={}),background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),DOMURL=this.getDOMURL(),url=null,blobs=null,_a.label=1;case 1:return _a.trys.push([1,,4,5]),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),scale=options.scale||1,pixelRatio=this.getPixelRatio(options),scale=this.getAdjustedScale(width*pixelRatio,height*pixelRatio,scale,options),(canvas=this.getDisposableCanvas()).style.width=width*scale+"px",canvas.style.height=height*scale+"px",canvas.width=width*scale,canvas.height=height*scale,ctx=canvas.getContext("2d"),background&&(ctx.fillStyle=background.toString(),ctx.fillRect(0,0,width*scale,height*scale)),promises=[],this.useWebFonts&&promises.push(this.getFontFamilies().then((function(fonts){return blobs=fonts.blobs,fonts.cssText}))),promises.push(this.imagesToDataURI(this.sprite.dom,options)),promises.push(this.prepForeignObjects(this.sprite.dom,options)),[4,Promise.all(promises)];case 2:return a=_a.sent(),data=this.normalizeSVG("<style>"+a[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,scale,font,fontSize),svg=new Blob([data],{type:"image/svg+xml"}),url=DOMURL.createObjectURL(svg),[4,this.loadNewImage(url,width*scale*pixelRatio,height*scale*pixelRatio,"anonymous")];case 3:return img=_a.sent(),ctx.drawImage(img,0,0),[3,5];case 4:return null!==url&&DOMURL.revokeObjectURL(url),null!==blobs&&each(blobs,(function(url){DOMURL.revokeObjectURL(url)})),this.restoreRemovedObjects(),[7];case 5:return[2,canvas]}}))}))},Export.prototype.getCanvasAdvanced=function(options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var background,canvg,width,height,font,fontSize,scale,pixelRatio,data,canvas,config;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return Type_hasValue(options)||(options={}),[4,this.imagesToDataURI(this.sprite.dom,options)];case 1:return _a.sent(),background=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return canvg=_a.sent(),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),scale=options.scale||1,pixelRatio=this.getPixelRatio(options),scale=this.getAdjustedScale(width*pixelRatio,height*pixelRatio,scale,options),data=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,scale,font,fontSize,background),(canvas=this.getDisposableCanvas()).style.width=width*pixelRatio*scale+"px",canvas.style.height=height*pixelRatio*scale+"px",canvas.width=width*pixelRatio*scale,canvas.height=height*pixelRatio*scale,config={useCORS:!0},1!=pixelRatio&&(config.ignoreDimensions=!0,config.scaleWidth=width*pixelRatio*scale,config.scaleHeight=height*pixelRatio*scale),[4,canvg.fromString(canvas.getContext("2d"),data,config).render()];case 3:return _a.sent(),[2,canvas]}}))}))},Export.prototype.getImageAdvanced=function(type,options,includeExtras){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var prehidden,canvas,uri;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),Type_hasValue(options)||(options=this.getFormatOptions(type)),[4,this.getCanvasAdvanced(options)];case 1:return canvas=_a.sent(),!1===includeExtras?[3,3]:[4,this.addExtras(canvas,options,!0)];case 2:canvas=_a.sent(),_a.label=3;case 3:return uri=canvas.toDataURL(this.getContentType(type),options.quality),this.disposeCanvas(canvas),prehidden||this.restoreNonExportableSprites(),[2,uri]}}))}))},Export.prototype.getDisposableCanvas=function(){var canvas=document.createElement("canvas");return canvas.style.position="fixed",canvas.style.top="-10000px",document.body.appendChild(canvas),canvas},Export.prototype.disposeCanvas=function(canvas){document.body.removeChild(canvas)},Export.prototype.getPixelRatio=function(options){return this.useRetina&&window.devicePixelRatio||1},Export.prototype.getAdjustedScale=function(width,height,scale,options){if(!options)return scale;var widthScale,heightScale,adjWidth=width*scale,adjHeight=width*scale;return options.maxWidth&&adjWidth>options.maxWidth&&(widthScale=options.maxWidth/width),options.maxHeight&&adjHeight>options.maxHeight&&(heightScale=options.maxHeight/height),widthScale||heightScale?Math_min(widthScale,heightScale):(options.minWidth&&adjWidth<options.minWidth&&(widthScale=options.minWidth/width),options.minHeight&&adjHeight<options.minHeight&&(heightScale=options.minHeight/height),widthScale||heightScale?Math_max(widthScale,heightScale):scale)},Export.prototype.imagesToDataURI=function(el,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var images,promises,count,i,image,href;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:if(!(images=el.querySelectorAll("image")).length)return[3,2];for(promises=[],count=images.length,i=0;i<count;i++)image=images[i],(href=image.getAttributeNS(Export.XLINK,"href"))&&(-1!==href.indexOf("data:image")||(-1!==href.indexOf(".svg")?promises.push(this.svgToDataURI(image,options)):promises.push(this.imageToDataURI(image,options))));return[4,Promise.all(promises)];case 1:return _a.sent(),[2];case 2:return[2]}}))}))},Export.prototype.prepForeignObjects=function(el,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var objects,count,i;return Object(tslib_es6.e)(this,(function(_a){if((objects=el.querySelectorAll("foreignObject")).length)for(count=objects.length,i=0;i<count;i++)this.temporarilyRemoveObject(objects[i]);return[2]}))}))},Export.prototype.imageToDataURI=function(el,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var img,canvas,uri;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.loadNewImage(el.getAttributeNS(Export.XLINK,"href"),null,null,"anonymous")];case 1:img=_a.sent(),(canvas=document.createElement("canvas")).width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0);try{return uri=canvas.toDataURL(),el.setAttribute("href",uri),[2,uri]}catch(e){return!1!==options.keepTainted&&this.temporarilyRemoveObject(el),[2,void 0]}return[3,3];case 2:return _a.sent(),options&&!1===options.keepTainted||this.temporarilyRemoveObject(el),[2,void 0];case 3:return[2]}}))}))},Export.prototype.svgToDataURI=function(el,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var href,data,charset,uri;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:href=el.getAttributeNS(Export.XLINK,"href"),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,Net_load(href)];case 2:return data=_a.sent(),charset=this.adapter.apply("charset",{charset:"base64",type:"svg",options:options}).charset,uri=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+charset+","+btoa(data.response),options:options}).data,el.setAttributeNS(Export.XLINK,"href",uri),[2,uri];case 3:return _a.sent(),options&&!1===options.keepTainted||this.temporarilyRemoveObject(el),[2,void 0];case 4:return[2]}}))}))},Export.prototype.temporarilyRemoveObject=function(el,placeholder){var parent=el.parentElement||el.parentNode;placeholder||(placeholder=this.sprite.paper.add("g").node),parent.insertBefore(placeholder,el),el.textContent,parent.removeChild(el),this._removedObjects.push({element:el,placeholder:placeholder})},Export.prototype.restoreRemovedObjects=function(){for(var obj;obj=this._removedObjects.pop();){(obj.placeholder.parentElement||obj.placeholder.parentNode).insertBefore(obj.element,obj.placeholder)}},Export.prototype.simplifiedImageExport=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var cache,canvas,ctx,DOMURL,svg,url,img;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(cache=Registry_registry.getCache("simplifiedImageExport"))||!0===cache)return[2,cache];_a.label=1;case 1:_a.trys.push([1,6,,7]),(canvas=document.createElement("canvas")).width=1,canvas.height=1,ctx=canvas.getContext("2d"),DOMURL=this.getDOMURL(),svg=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),url=DOMURL.createObjectURL(svg),img=void 0,_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.loadNewImage(url,1,1)];case 3:return img=_a.sent(),[3,5];case 4:return _a.sent(),[2,!1];case 5:ctx.drawImage(img,0,0),DOMURL.revokeObjectURL(url);try{return Registry_registry.setCache("simplifiedImageExport",!0),[2,!0]}catch(e){return Registry_registry.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return _a.sent(),Registry_registry.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}}))}))},Export.prototype.loadNewImage=function(url,width,height,crossOrigin){return new Promise((function(success,error){var image;function onerror(){if(crossOrigin){var currentHref=image.src;image.onerror=function(){error(new Error('Loading image "'+url+'" failed'))},image.removeAttribute("crossorigin"),image.src="",image.src=currentHref}else error(new Error('Loading image "'+url+'" failed'))}image=width&&height?new Image(width,height):new Image,crossOrigin&&image.setAttribute("crossOrigin",crossOrigin),image.onload=function(){success(image)},image.onabort=onerror,image.onerror=onerror,image.src=url}))},Export.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},Export.prototype.getSVG=function(type,options,encodeURI){return void 0===encodeURI&&(encodeURI=!0),Object(tslib_es6.b)(this,void 0,void 0,(function(){var prehidden,width,height,font,fontSize,svg,charset,uri;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return(prehidden=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),[4,this.awaitValidSprites()];case 1:return _a.sent(),width=this.sprite.pixelWidth,height=this.sprite.pixelHeight,font=findFont(this.sprite.dom),fontSize=findFontSize(this.sprite.dom),svg=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),options,width,height,1,font,fontSize),charset=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:options}).charset,uri=this.adapter.apply("getSVG",{data:encodeURI?"data:"+this.getContentType(type)+";"+charset+","+encodeURIComponent(svg):svg,options:options}).data,prehidden||this.restoreNonExportableSprites(),[2,uri]}}))}))},Export.prototype.normalizeSVG=function(svg,options,width,height,scale,font,fontSize,background){var dimParams="";width&&(dimParams+='width="'+Math.round(width*scale)+'px" '),height&&(dimParams+='height="'+Math.round(height*scale)+'px" ');var styleParams="";font&&(styleParams+="font-family: "+font.replace(/"/g,"")+";"),fontSize&&(styleParams+="font-size: "+fontSize+";"),scale&&(dimParams+='viewBox="0 0 '+width+" "+height+'" ');var fos=[],ms=svg.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(ms)for(var i=0;i<ms.length;i++)svg=svg.replace(ms[i],"__§§§__"),fos.push(ms[i]);svg.match(/<svg/)?""!==dimParams&&(svg=(svg=(svg=svg.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+dimParams)):svg='<?xml version="1.0" encoding="utf-8"?><svg '+dimParams+' style="'+styleParams+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+svg+"</svg>",background&&(svg=svg.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+background.rgba+'"/>')),/MSIE |Trident\//.test(navigator.userAgent)&&(svg=svg.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var reg=new RegExp("url\\("+escapeForRgex(getBaseURI()),"g");if(svg=(svg=svg.replace(reg,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),fos.length)for(i=0;i<fos.length;i++)svg=svg.replace("__§§§__",fos[i]);return svg=this.adapter.apply("normalizeSVG",{data:svg,options:options}).data},Export.prototype.serializeElement=function(element){return(new XMLSerializer).serializeToString(element)},Export.prototype.getPDF=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){function addFont(font){var paths={};paths.normal=font.normal.path,vfs[font.normal.path]=font.normal.bytes,font.bold?(paths.bold=font.bold.path,vfs[font.bold.path]=font.bold.bytes):paths.bold=font.normal.path,font.italics?(paths.italics=font.italics.path,vfs[font.italics.path]=font.italics.bytes):paths.italics=font.normal.path,font.bolditalics?(paths.bolditalics=font.bolditalics.path,vfs[font.bolditalics.path]=font.bolditalics.bytes):paths.bolditalics=font.normal.path,fonts[font.name]=paths}var image,pdfmake,defaultMargins,doc,title,extraMargin,_a,_b,_c,fonts,vfs;return Object(tslib_es6.e)(this,(function(_d){switch(_d.label){case 0:return[4,this.getImage(options.imageFormat||"png",options)];case 1:return image=_d.sent(),[4,this.pdfmake];case 2:return pdfmake=_d.sent(),defaultMargins=[30,30,30,30],doc={pageSize:options.pageSize||"A4",pageOrientation:options.pageOrientation||"portrait",pageMargins:options.pageMargins||defaultMargins,defaultStyle:{font:options.font?options.font.name:void 0},content:[]},title=this.adapter.apply("title",{title:this.title,options:options}).title,extraMargin=0,title&&(doc.content.push({text:title,fontSize:options.fontSize||14,bold:!0,margin:[0,0,0,15]}),extraMargin+=50),options.addURL&&(doc.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:options.fontSize,margin:[0,0,0,15]}),extraMargin+=50),"pdfdata"!=type&&doc.content.push({image:image,alignment:options.align||"left",fit:this.getPageSizeFit(doc.pageSize,doc.pageMargins,extraMargin)}),"pdfdata"==type||options.addData?(_b=(_a=doc.content).push,_c={},[4,this.getPDFData("pdf",options)]):[3,4];case 3:_b.apply(_a,[(_c.table=_d.sent(),_c.fontSize=options.fontSize||14,_c)]),_d.label=4;case 4:return doc=this.adapter.apply("pdfmakeDocument",{doc:doc,options:options}).doc,fonts=null,vfs=null,options.font&&(fonts={},vfs={},addFont(options.font),options.extraFonts&&each(options.extraFonts,addFont)),[4,new Promise((function(success,error){pdfmake.createPdf(doc,null,fonts,vfs).getDataUrl((function(uri){success(uri)}))}))];case 5:return[2,_d.sent()]}}))}))},Export.prototype.getPDFData=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var content,dataFields,data,dataFieldsOrder_1,len,i,_this=this;return Object(tslib_es6.e)(this,(function(_a){if(content={body:[]},dataFields=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,data=this.data,options.pivot)dataFieldsOrder_1=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,eachOrdered(dataFields,(function(key,val){var dataRow=[];options.addColumnNames&&dataRow.push(val);for(var len=data.length,i=0;i<len;i++){var dataValue=data[i][key];dataRow.push(_this.convertToSpecialFormat(key,dataValue,options,!0))}content.body.push(_this.getPDFDataRow(dataRow,options,void 0,!0))}),(function(a,b){var ai=dataFieldsOrder_1.indexOf(a),bi=dataFieldsOrder_1.indexOf(b);return ai>bi?1:ai<bi?-1:0}));else for(options.addColumnNames&&(content.body.push(this.getPDFDataRow(dataFields,options,void 0,!0)),content.headerRows=1),len=data.length,i=0;i<len;i++)content.body.push(this.getPDFDataRow(data[i],options,dataFields));return[2,this.adapter.apply("pdfmakeTable",{table:content,options:options}).table]}))}))},Export.prototype.getPDFDataRow=function(row,options,dataFields,asIs){var _this=this;void 0===asIs&&(asIs=!1);var items=[];dataFields||(dataFields=row);var dataFieldsOrder=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return eachOrdered(dataFields,(function(key,name){var value=_this.convertEmptyValue(key,row[key],options),item=asIs?value:_this.convertToSpecialFormat(key,value,options);item=""+item,items.push(item)}),(function(a,b){var ai=dataFieldsOrder.indexOf(a),bi=dataFieldsOrder.indexOf(b);return ai>bi?1:ai<bi?-1:0})),items},Export.prototype.getPageSizeFit=function(pageSize,margins,extraMargin){void 0===extraMargin&&(extraMargin=0);var newMargins=[0,0,0,0];"number"==typeof margins?newMargins=[margins,margins,margins,margins]:2==margins.length?newMargins=[margins[0],margins[1],margins[0],margins[1]]:4==margins.length&&(newMargins=margins);var fitSize={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[pageSize];return fitSize[0]-=newMargins[0]+newMargins[2],fitSize[1]-=newMargins[1]+newMargins[3]+extraMargin,fitSize},Export.prototype.getExcel=function(type,options){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var XLSX,wbOptions,sheetName,wb,data,dataFields,dataFieldsOrder_2,len,i,_this=this;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return[4,this.xlsx];case 1:if(XLSX=_a.sent(),wbOptions=this.adapter.apply("xlsxWorkbookOptions",{options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,sheetName=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{name:this.title||this.language.translate("Data")}).name),wb={SheetNames:[sheetName],Sheets:{}},data=[],dataFields=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,options.pivot)dataFieldsOrder_2=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,eachOrdered(dataFields,(function(key,val){var dataRow=[];options.addColumnNames&&dataRow.push(val);for(var len=_this.data.length,i=0;i<len;i++){var dataValue=_this.data[i][key];dataRow.push(_this.convertToSpecialFormat(key,dataValue,options,!0))}data.push(_this.getExcelRow(dataRow,options,void 0,!0))}),(function(a,b){var ai=dataFieldsOrder_2.indexOf(a),bi=dataFieldsOrder_2.indexOf(b);return ai>bi?1:ai<bi?-1:0}));else for(options.addColumnNames&&data.push(this.getExcelRow(dataFields,options,void 0,!0)),len=this.data.length,i=0;i<len;i++)data.push(this.getExcelRow(this.data[i],options,dataFields));return wb.Sheets[sheetName]=XLSX.utils.aoa_to_sheet(data),wb=this.adapter.apply("xlsxWorkbook",{workbook:wb,options:options}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(type)+";base64,"+XLSX.write(wb,wbOptions),options:options}).data]}}))}))},Export.prototype.normalizeExcelSheetName=function(name){return truncateWithEllipsis(name=name.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},Export.prototype.getExcelRow=function(row,options,dataFields,asIs){var _this=this;void 0===asIs&&(asIs=!1);var items=[];dataFields||(dataFields=row);var dataFieldsOrder=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return eachOrdered(dataFields,(function(key,name){var value=_this.convertEmptyValue(key,row[key],options),item=asIs?value:_this.convertToSpecialFormat(key,value,options,!0);items.push(item)}),(function(a,b){var ai=dataFieldsOrder.indexOf(a),bi=dataFieldsOrder.indexOf(b);return ai>bi?1:ai<bi?-1:0})),items},Export.prototype.getCSV=function(type,options,encodeURI){return void 0===encodeURI&&(encodeURI=!0),Object(tslib_es6.b)(this,void 0,void 0,(function(){var csv,dataFields,br,data,dataFieldsOrder_3,len,i,row,charset,_this=this;return Object(tslib_es6.e)(this,(function(_a){if(csv="",dataFields=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,br="",data=this.data,options.pivot)dataFieldsOrder_3=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,eachOrdered(dataFields,(function(key,val){var dataRow=[];options.addColumnNames&&dataRow.push(val);for(var len=data.length,i=0;i<len;i++){var dataValue=data[i][key];dataRow.push(_this.convertToSpecialFormat(key,dataValue,options,!0))}csv+=br+_this.getCSVRow(dataRow,options,void 0,!0),br="\n"}),(function(a,b){var ai=dataFieldsOrder_3.indexOf(a),bi=dataFieldsOrder_3.indexOf(b);return ai>bi?-1:ai<bi?1:0}));else{for(len=data.length,i=0;i<len;i++)row=this.getCSVRow(data[i],options,dataFields),options.reverse?csv=row+br+csv:csv+=br+row,br="\n";options.addColumnNames&&(csv=this.getCSVRow(dataFields,options,void 0,!0)+br+csv)}return charset=this.adapter.apply("charset",{charset:"charset=utf-8",type:type,options:options}).charset,[2,this.adapter.apply("getCSV",{data:encodeURI?"data:"+this.getContentType(type)+";"+charset+","+encodeURIComponent(csv):csv,options:options}).data]}))}))},Export.prototype.getCSVRow=function(row,options,dataFields,asIs){var _this=this;void 0===asIs&&(asIs=!1);var separator=options.separator||",",items=[];dataFields||(dataFields=row);var dataFieldsOrder=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return eachOrdered(dataFields,(function(key,name){var value=_this.convertEmptyValue(key,row[key],options),item=asIs?value:_this.convertToSpecialFormat(key,value,options);item=(item=""+item).replace(/"/g,'""'),(options.forceQuotes||item.search(new RegExp('"|\n|'+separator,"g"))>=0)&&(item='"'+item+'"'),items.push(item)}),(function(a,b){var ai=dataFieldsOrder.indexOf(a),bi=dataFieldsOrder.indexOf(b);return ai>bi?1:ai<bi?-1:0})),items.join(separator)},Export.prototype.getHTML=function(type,options,encodeURI){return void 0===encodeURI&&(encodeURI=!0),Object(tslib_es6.b)(this,void 0,void 0,(function(){var html,dataFields,data,dataFieldsOrder_4,len,i,charset,_this=this;return Object(tslib_es6.e)(this,(function(_a){if(html="<table>",options.tableClass&&(html='<table class="'+options.tableClass+'">'),dataFields=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,data=this.data,options.pivot)dataFieldsOrder_4=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,html+="\n<tbody>",eachOrdered(dataFields,(function(key,val){var dataRow=[];options.addColumnNames&&dataRow.push(val);for(var len=data.length,i=0;i<len;i++){var dataValue=data[i][key];dataRow.push(_this.convertToSpecialFormat(key,dataValue,options,!0))}html+="\n"+_this.getHTMLRow(dataRow,options,void 0,!0)}),(function(a,b){var ai=dataFieldsOrder_4.indexOf(a),bi=dataFieldsOrder_4.indexOf(b);return ai>bi?-1:ai<bi?1:0})),html+="\n</tbody>";else{for(options.addColumnNames&&(html+="\n<thead>\n"+this.getHTMLRow(dataFields,options,void 0,!0,!0)+"\n</thead>"),html+="\n<tbody>",len=data.length,i=0;i<len;i++)html+="\n"+this.getHTMLRow(data[i],options,dataFields);html+="\n</tbody>"}return html+="\n</table>",charset=this.adapter.apply("charset",{charset:"charset=utf-8",type:type,options:options}).charset,[2,this.adapter.apply("getHTML",{data:encodeURI?"data:"+this.getContentType(type)+";"+charset+","+encodeURIComponent(html):html,options:options}).data]}))}))},Export.prototype.getHTMLRow=function(row,options,dataFields,asIs,headerRow){var _this=this;void 0===asIs&&(asIs=!1),void 0===headerRow&&(headerRow=!1);var html="\t<tr>";options.rowClass&&(html='\t<tr class="'+options.rowClass+'">'),dataFields||(dataFields=row);var dataFieldsOrder=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,tag=headerRow?"th":"td",first=!0;return eachOrdered(dataFields,(function(key,name){var value=_this.convertEmptyValue(key,row[key],options),item=asIs?value:_this.convertToSpecialFormat(key,value,options);item=(item=""+item).replace(/[\u00A0-\u9999<>\&]/gim,(function(i){return"&#"+i.charCodeAt(0)+";"}));var useTag=tag;options.pivot&&first&&(useTag="th"),options.cellClass?html+="\n\t\t<"+useTag+' class="'+options.cellClass+'">'+item+"</"+useTag+">":html+="\n\t\t<"+useTag+">"+item+"</"+useTag+">",first=!1}),(function(a,b){var ai=dataFieldsOrder.indexOf(a),bi=dataFieldsOrder.indexOf(b);return ai>bi?1:ai<bi?-1:0})),html+="\n\t</tr>"},Export.prototype.getJSON=function(type,options,encodeURI){return void 0===encodeURI&&(encodeURI=!0),Object(tslib_es6.b)(this,void 0,void 0,(function(){var data,dataFields,sourceData,_loop_1,len,i,json,charset,_this=this;return Object(tslib_es6.e)(this,(function(_a){if(dataFields=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,this._dynamicDataFields)data=this.data;else for(data=[],sourceData=this.data,_loop_1=function(len,i){var value=sourceData[i];if("object"==typeof value){var newValue_1={};Object_each(value,(function(field,item){Type_hasValue(dataFields[field])&&(newValue_1[dataFields[field]]=_this.convertToSpecialFormat(field,item,options))})),data.push(newValue_1)}},len=sourceData.length,i=0;i<len;i++)_loop_1(0,i);return json=JSON.stringify(data,(function(key,value){return"object"==typeof value&&Object_each(value,(function(field,item){value[field]=_this.convertToSpecialFormat(field,item,options)})),value}),options.indent),charset=this.adapter.apply("charset",{charset:"charset=utf-8",type:type,options:options}).charset,[2,this.adapter.apply("getJSON",{data:encodeURI?"data:"+this.getContentType(type)+";"+charset+","+encodeURIComponent(json):json,options:options}).data]}))}))},Export.prototype.convertToSpecialFormat=function(field,value,options,keepOriginal){if("number"==typeof value)if(this.isDateField(field))value=new Date(value);else{if(this.isDurationField(field))return this.durationFormatter.format(value,this.durationFormat);if(this.isNumberField(field)&&this.numberFormat)return this.numberFormatter.format(value,this.numberFormat)}return value instanceof Date?options.useTimestamps?value=value.getTime():options.useLocale?keepOriginal||(value=value.toLocaleString()):value=this.dateFormatter.format(value,this.dateFormat):isString(value)&&this.isDateField(field)&&this.dateFormat&&(value=this.dateFormatter.format(this.dateFormatter.parse(value),this.dateFormat)),value},Export.prototype.convertEmptyValue=function(field,value,options){return Type_hasValue(value)?value:options.emptyAs},Export.prototype.download=function(uri,fileName){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var blob_1,link_1,decoded,blob_2,url_2,chars,i,charCode,blob,url_3,link,parts,contentType,iframe,idoc;return Object(tslib_es6.e)(this,(function(_a){if(this.msBlobDownloadSupport()){if(parts=uri.split(";"),contentType=parts.shift().replace(/data:/,""),uri=decodeURIComponent(parts.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(contentType))return blob_1=new Blob([uri],{type:contentType}),window.navigator.msSaveBlob(blob_1,fileName),[2,!0];try{decoded=atob(uri),uri=decoded}catch(e){return[2,!1]}for(chars=new Array(uri.length),i=0;i<uri.length;++i)charCode=uri.charCodeAt(i),chars[i]=charCode;blob=new Blob([new Uint8Array(chars)],{type:contentType}),window.navigator.msSaveBlob(blob,fileName)}else if(this.blobDownloadSupport()){if((link_1=document.createElement("a")).download=fileName,document.body.appendChild(link_1),parts=uri.split(";"),contentType=parts.shift().replace(/data:/,""),uri=decodeURIComponent(parts.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(contentType))return blob_2=new Blob([uri],{type:contentType}),url_2=window.URL.createObjectURL(blob_2),link_1.href=url_2,link_1.download=fileName,link_1.click(),setTimeout((function(){document.body.removeChild(link_1),window.URL.revokeObjectURL(url_2)}),100),[2,!0];try{decoded=atob(uri),uri=decoded}catch(e){return[2,!1]}for(chars=new Array(uri.length),i=0;i<uri.length;++i)charCode=uri.charCodeAt(i),chars[i]=charCode;blob=new Blob([new Uint8Array(chars)],{type:contentType}),url_3=window.URL.createObjectURL(blob),link_1.href=url_3,link_1.download=fileName,document.body.appendChild(link_1),link_1.click(),document.body.removeChild(link_1),setTimeout((function(){window.URL.revokeObjectURL(url_3)}),100)}else this.linkDownloadSupport()?((link=document.createElement("a")).download=fileName,link.href=uri,document.body.appendChild(link),link.click(),document.body.removeChild(link)):this.legacyIE()?4===(parts=uri.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==parts[2]?parts[1].match(/^image\//)&&this.showModal('<img src="'+uri+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(contentType=void 0,fileName.match(/\.svg$/)?contentType="image/svg+xml":(contentType="text/plain",fileName+=".txt"),(iframe=document.createElement("iframe")).width="1px",iframe.height="1px",iframe.style.display="none",document.body.appendChild(iframe),(idoc=iframe.contentDocument).open(contentType,"replace"),idoc.write(decodeURIComponent(parts[3])),idoc.close(),idoc.execCommand("SaveAs",!0,fileName),document.body.removeChild(iframe))):window.location.href=uri;return[2,!0]}))}))},Export.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},Export.prototype.linkDownloadSupport=function(){var cache=Registry_registry.getCache("linkDownloadSupport");if(!1===cache||!0===cache)return cache;var res=void 0!==document.createElement("a").download;return Registry_registry.setCache("linkDownloadSupport",res),res},Export.prototype.blobDownloadSupport=function(){return Type_hasValue(window.Blob)},Export.prototype.msBlobDownloadSupport=function(){return Type_hasValue(window.navigator.msSaveOrOpenBlob)},Export.prototype.legacyIE=function(){var div=document.createElement("div");return div.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==div.getElementsByTagName("i").length},Export.prototype.print=function(data,options,title){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.e)(this,(function(_a){return"css"==options.printMethod?[2,this.printViaCSS(data,options,title)]:[2,this.printViaIframe(data,options,title)]}))}))},Export.prototype.printViaCSS=function(data,options,title){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var scroll,rule,originalTitle,img;return Object(tslib_es6.e)(this,(function(_a){return scroll=document.documentElement.scrollTop||document.body.scrollTop,rule=new DOM_StyleRule(getShadowRoot(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),title&&document&&document.title&&(originalTitle=document.title,document.title=title),(img=new Image).src=data,img.style.maxWidth="100%",img.style.display="block",img.style.position="relative",img.style.visibility="visible",img.style.opacity="1",img.style.clipPath="none",document.body.appendChild(img),this.setTimeout((function(){window.print()}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&options.delay<1e3?options.delay=1e3:options.delay<100&&(options.delay=100),this.setTimeout((function(){document.body.removeChild(img),rule.dispose(),originalTitle&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=scroll}),options.delay||500),[2,!0]}))}))},Export.prototype.printViaIframe=function(data,options,title){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var iframe,img;return Object(tslib_es6.e)(this,(function(_a){return(iframe=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),(img=new Image).src=data,img.style.maxWidth="100%",title&&(iframe.contentWindow.document.title=title),iframe.contentWindow.document.body.appendChild(img),iframe.load=function(){iframe.contentWindow.document.body.appendChild(img)},this.setTimeout((function(){try{iframe.contentWindow.document.execCommand("print",!1,null)||iframe.contentWindow.print()}catch(e){iframe.contentWindow.print()}}),options.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&options.delay<1e3?options.delay=1e3:options.delay<100&&(options.delay=100),this.setTimeout((function(){document.body.removeChild(iframe)}),options.delay+50||100),[2,!0]}))}))},Export.prototype.findBackgroundColor=function(element){var opacity=1,currentColor=DOM_getComputedStyle(element,"background-color");if((currentColor.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==currentColor)&&(opacity=0),0==opacity){var parent_2=element.parentElement;return parent_2?this.findBackgroundColor(parent_2):Color_color("#fff")}return Color_color(currentColor,opacity)},Object.defineProperty(Export.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(value){this._container=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(value){this._sprite=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(value){this._extraSprites=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(value){this._validateSprites=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(value){this._data=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(value){this._dataFields=value,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),Export.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var hasData=this.data.length>0;this._prevHasData!=hasData&&(this._prevHasData=hasData,this.menu&&this.menu.invalidate())},Object.defineProperty(Export.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new DateFormatter_DateFormatter,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(value){this._dateFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(value){this._dateFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new List_List),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(value){this._dateFields=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new NumberFormatter_NumberFormatter,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(value){this._numberFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(value){this._numberFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new List_List),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(value){this._numberFields=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new DurationFormatter_DurationFormatter,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(value){this._durationFormatter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(value){this._durationFormat=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new List_List),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(value){this._durationFields=value},enumerable:!0,configurable:!0}),Export.prototype.generateDataFields=function(){var _this=this;this._dataFields={},this.data.length&&each(this.data,(function(row){Object_each(row,(function(key,value){Type_hasValue(_this._dataFields[key])||(_this._dataFields[key]=_this.adapter.apply("dataFieldName",{name:key,field:key}).name)}))}))},Export.prototype.isDateField=function(field){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(field),field:field}).isDateField},Export.prototype.isNumberField=function(field){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(field),field:field}).isNumberField},Export.prototype.isDurationField=function(field){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(field),field:field}).isDurationField},Export.prototype.getContentType=function(type){var contentType="";switch(type){case"png":case"gif":contentType="image/"+type;break;case"jpg":contentType="image/jpeg";break;case"svg":contentType="image/svg+xml";break;case"csv":contentType="text/csv";break;case"json":contentType="application/json";break;case"html":contentType="text/html";break;case"pdf":case"pdfdata":contentType="application/pdf";break;case"xlsx":contentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:contentType,type:type}).contentType},Object.defineProperty(Export.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(value){this._filePrefix=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(value){this._backgroundColor=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(value){this._title=value},enumerable:!0,configurable:!0}),Export.prototype.showPreloader=function(){var preloader=this.preloader;preloader&&(preloader.progress=.5,preloader.label.text="...")},Export.prototype.hidePreloader=function(){var preloader=this.preloader;preloader&&(preloader.progress=1)},Object.defineProperty(Export.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),Export.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},Export.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(Export.prototype,"language",{get:function(){return this._language||(this._language=new Language_Language),this._language},set:function(value){this._language=value},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"modal",{get:function(){return this._modal||(this._modal=new Modal_Modal,this._modal.adapter.add("classPrefix",(function(value){return value=Options_options.classNamePrefix+value}))),this._modal},enumerable:!0,configurable:!0}),Export.prototype.showModal=function(text,title){this.hideModal(),this.hidePreloader();var modal=this.modal;modal.container=this.sprite.svgContainer.SVGContainer,modal.content=text,modal.readerTitle=title,modal.open()},Export.prototype.hideModal=function(){this._modal&&this.modal.close()},Export.prototype._canvg=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var canvg;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return[4,__webpack_require__.e(1).then(__webpack_require__.bind(null,"iJDN"))];case 1:return null!=(canvg=_a.sent()).default?[2,canvg.default]:[2,canvg]}}))}))},Object.defineProperty(Export.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(Export.prototype,"pdfmake",{get:function(){return null==pdfmakePromise&&(pdfmakePromise=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var a,pdfmake,vfs_fonts,global;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return[4,Promise.all([__webpack_require__.e(3).then(__webpack_require__.t.bind(null,"5JmO",7)),__webpack_require__.e(3).then(__webpack_require__.bind(null,"b0eU"))])];case 1:return a=_a.sent(),pdfmake=a[0],vfs_fonts=a[1],(global=window).pdfMake=global.pdfMake||{},global.pdfMake.vfs=vfs_fonts.default,pdfmake.vfs=vfs_fonts.default,[2,pdfmake]}}))}))}()),pdfmakePromise},enumerable:!0,configurable:!0}),Export.prototype._xlsx=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return[4,__webpack_require__.e(7).then(__webpack_require__.t.bind(null,"EUZL",7))];case 1:return[2,_a.sent()]}}))}))},Object.defineProperty(Export.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),Export.prototype.setFormatOptions=function(type,options){this._formatOptions.setKey(type,options)},Export.prototype.getFormatOptions=function(type){return this._formatOptions.getKey(type)},Object.defineProperty(Export.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),Export.prototype._disablePointers=function(){Type_hasValue(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},Export.prototype._releasePointers=function(){Type_hasValue(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},Export.prototype.hideNonExportableSprites=function(){var _this=this;if(!this._objectsAlreadyHidden){var svgContainer=this.sprite.svgContainer;svgContainer&&each(svgContainer.nonExportableSprites,(function(item){item.isHidden||item.isHiding||!item.visible||_this._hiddenObjects.push(item),item.hide(0)})),this._objectsAlreadyHidden=!0}},Export.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(each(this._hiddenObjects,(function(item){item.show(0)})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},Export.prototype.awaitValidSprites=function(){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var promises;return Object(tslib_es6.e)(this,(function(_a){switch(_a.label){case 0:return promises=[],this.validateSprites.length&&each(this.validateSprites,(function(sprite,index){sprite.invalid&&promises.push(new Promise((function(resolve,reject){sprite.events.once("validated",(function(ev){resolve()}))})))})),promises.length?[4,Promise.all(promises)]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}}))}))},Export.prototype.processConfig=function(config){Registry_registry.registeredClasses.ExportMenu=ExportMenu_ExportMenu,config&&Type_hasValue(config.menu)&&!Type_hasValue(config.menu.type)&&(config.menu.type="ExportMenu"),_super.prototype.processConfig.call(this,config)},Export.XLINK="http://www.w3.org/1999/xlink",Export}(Validatable_Validatable),visualProperties=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Sprite_Sprite=function(_super){function Sprite(){var _this=_super.call(this)||this;return _this.properties={},_this._eventDispatcher=new SpriteEvents_SpriteEventDispatcher(_this),_this._bindings={},_this._isTemplate=!1,_this._isPath=!1,_this._inited=!1,_this._ready=!1,_this.isHiding=!1,_this._isHidden=!1,_this.isShowing=!1,_this.isStandaloneInstance=!1,_this._isActive=!1,_this._mask=new Disposer_MutableValueDisposer,_this._positionPrecision=3,_this._language=new Disposer_MutableValueDisposer,_this._exporting=new Disposer_MutableValueDisposer,_this._exportable=!0,_this._bbox={x:0,y:0,width:0,height:0},_this.invalid=!1,_this.positionInvalid=!1,_this.propertyFields={},_this.applyOnClones=!1,_this._measuredWidthSelf=0,_this._measuredHeightSelf=0,_this.maxLeft=0,_this.maxRight=0,_this.maxTop=0,_this.maxBottom=0,_this.maxLeftSelf=0,_this.maxRightSelf=0,_this.maxTopSelf=0,_this.maxBottomSelf=0,_this._isDragged=!1,_this._isResized=!1,_this._disabled=!1,_this._internalDisabled=!1,_this._updateDisabled=!1,_this._internalDefaultsApplied=!1,_this.rollOutDelay=0,_this.isBaseSprite=!1,_this.shouldClone=!0,_this.appeared=!1,_this.ex=0,_this.ey=0,_this.dragWhileResize=!1,_this.measureFailed=!1,_this.preventShow=!1,_this.cloneTooltip=!0,_this.className="Sprite",_this._disposers.push(_this._eventDispatcher),_this.uid,_this.group=_this.paper.addGroup("g"),_this.setPropertyValue("scale",1),_this.setPropertyValue("rotation",0),_this.setPropertyValue("align","none"),_this.setPropertyValue("valign","none"),_this.setPropertyValue("pixelPerfect",!1),_this.setPropertyValue("visible",!0),_this.setPropertyValue("tooltipPosition","fixed"),_this.setPropertyValue("verticalCenter","none"),_this.setPropertyValue("horizontalCenter","none"),_this.setPropertyValue("tooltipX",Percent_percent(50)),_this.setPropertyValue("tooltipX",Percent_percent(50)),_this.setPropertyValue("marginTop",0),_this.setPropertyValue("marginBottom",0),_this.setPropertyValue("marginLeft",0),_this.setPropertyValue("marginRight",0),_this.setPropertyValue("dx",0),_this.setPropertyValue("dy",0),_this.setPropertyValue("paddingTop",0),_this.setPropertyValue("paddingBottom",0),_this.setPropertyValue("paddingRight",0),_this.setPropertyValue("paddingLeft",0),_this.setPropertyValue("togglable",!1),_this.setPropertyValue("hidden",!1),_this.setPropertyValue("urlTarget","_self"),_this.setPropertyValue("alwaysShowTooltip",!1),_this.setPropertyValue("showTooltipOn","hover"),_this._prevMeasuredWidth=0,_this._prevMeasuredHeight=0,_this._measuredWidth=0,_this._measuredHeight=0,_this._isMeasured=!0,_this.invalidate(),_this.applyTheme(),_this._disposers.push(_this.events),_this._disposers.push(_this.group),_this._disposers.push(_this._mask),_this._disposers.push(_this._language),_this._disposers.push(_this._exporting),_this._disposers.push(new Disposer((function(){Object_each(_this._bindings,(function(key,value){value.dispose()}))}))),_this.setPropertyValue("interactionsEnabled",!0),_this}return Object(tslib_es6.d)(Sprite,_super),Object.defineProperty(Sprite.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter_Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),Sprite.prototype.applyTheme=function(){_super.prototype.applyTheme.call(this),Options_options.autoSetClassName&&this.setClassName()},Sprite.prototype.getCurrentThemes=function(){var themes=this._themes;if(themes)return themes;var parent_1=this._parent;return parent_1?parent_1.getCurrentThemes():Registry_registry.themes},Sprite.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},Sprite.prototype.invalidate=function(){this.disabled||this._isTemplate||this.invalid||(this.invalid=!0,Registry_registry.addToInvalidSprites(this),system.requestFrame())},Sprite.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,Registry_registry.removeFromInvalidSprites(this),this.afterDraw()},Sprite.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,Registry_registry.addToInvalidPositions(this),system.requestFrame())},Sprite.prototype.validatePosition=function(){var pixelX=this.pixelX,pixelY=this.pixelY,dx=this.dx,dy=this.dy,x=pixelX+dx,y=pixelY+dy;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var sizeChanged=this.measure(),prevGroupTransform=this.group.transformString;this.group.moveTo({x:x,y:y}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(prevGroupTransform!=this.group.transformString||sizeChanged)&&(null==prevGroupTransform?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),pixelX+dx==x&&pixelY+dy==y&&(Registry_registry.removeFromInvalidPositions(this),this.positionInvalid=!1);var maskRectangle=this._maskRectangle;maskRectangle&&this._clipElement.moveTo({x:maskRectangle.x-pixelX,y:maskRectangle.y-pixelY})},Sprite.prototype.beforeDraw=function(){},Sprite.prototype.draw=function(){},Sprite.prototype.afterDraw=function(){var e_1,_a;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var _b=Object(tslib_es6.k)(this._adapterO.keys()),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;switch(key){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[key]=this[key]}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},Sprite.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},Sprite.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},Sprite.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},Sprite.prototype.updateFilterScale=function(){var _this=this;Iterator_each(this.filters.iterator(),(function(filter){filter.scale=_this.globalScale}))},Sprite.prototype.removeFromInvalids=function(){Registry_registry.removeFromInvalidSprites(this),Registry_registry.removeFromInvalidPositions(this)},Sprite.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),this.isMeasured=source.isMeasured,this.states.copyFrom(source.states),source.filters.length>0&&source.filters.each((function(filter){_this.filters.push(filter.clone())})),source._adapterO&&this.adapter.copyFrom(source._adapterO),source._interaction&&this.interactions.copyFrom(source.interactions),source._plugins&&this.plugins.copyFrom(source.plugins),this.configField=source.configField,this.applyOnClones=source.applyOnClones,this.disabled=source.disabled,this.virtualParent=source.virtualParent,this.exportable=source.exportable,source._tooltip&&(this._tooltip?this._tooltip.copyFrom(source.tooltip):source.cloneTooltip?this.tooltip=source.tooltip.clone():this._tooltip=source.tooltip),this._showSystemTooltip=source.showSystemTooltip,Utils_copyProperties(source.propertyFields,this.propertyFields),Utils_copyProperties(source.properties,this),source.fillModifier&&(this.fillModifier=source.fillModifier.clone()),source.strokeModifier&&(this.strokeModifier=source.strokeModifier.clone())},Sprite.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(_super.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var i=this._clones.length-1;i>=0;i--){this._clones.getIndex(i).dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var stroke=this.stroke;!stroke||stroke instanceof Color_Color||!stroke.dispose||this.clonedFrom&&this.clonedFrom.stroke==stroke||stroke.dispose();var fill=this.fill;if(!fill||fill instanceof Color_Color||!fill.dispose||this.clonedFrom&&this.clonedFrom.fill==fill||fill.dispose(),Type_hasValue(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var filter=this._filters.getIndex(0);filter.dispose(),this._filters.removeValue(filter)}this._alwaysShowDisposers=void 0}},Object.defineProperty(Sprite.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(value){value=toBoolean(value),this._isTemplate!=value&&(this._isTemplate=value,this instanceof Container_Container&&Iterator_each(this.children.iterator(),(function(child){child.isTemplate=value})),value?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"showSystemTooltip",{get:function(){return Type_hasValue(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(value){value=toBoolean(value),this._showSystemTooltip!=value&&(this._showSystemTooltip=value,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(value){this._topParent=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"parent",{get:function(){return this._parent},set:function(parent){if(!this._isTemplate){this.paper;var oldParent=this._parent;oldParent!=parent&&(oldParent&&oldParent.children.removeValue(this),this._parent=parent,parent?(this.topParent=parent.topParent,parent.isTemplate&&(this.isTemplate=!0),this.baseId=parent.baseId,parent.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=parent.tooltipContainer),this._dataItem||(this.dataItem=parent.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),Sprite.prototype.handleAlwaysShow=function(){this.showTooltip()},Sprite.prototype.handleAlwaysShowTooltip=function(){var sprite=this,oldDisposers=this._alwaysShowDisposers;if(oldDisposers&&each(oldDisposers,(function(oldDisposer){oldDisposer.dispose()})),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=sprite;){var disposer=sprite.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(disposer),this._alwaysShowDisposers.push(disposer),sprite=sprite.parent}},Object.defineProperty(Sprite.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(value){this._virtualParent=value,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Sprite.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var fill=this.fill;fill&&fill.element&&this.paper.appendDef(fill.element);var stroke=this.stroke;if(stroke&&stroke.element&&this.paper.appendDef(stroke.element),this.fillModifier&&this.fill instanceof Color_Color){var fill_1=this.fillModifier.modify(this.fill);fill_1&&fill_1.element&&this.paper.appendDef(fill_1.element)}if(this.strokeModifier&&this.stroke instanceof Color_Color){var stroke_1=this.strokeModifier.modify(this.stroke);stroke_1&&stroke_1.element&&this.paper.appendDef(stroke_1.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(Sprite.prototype,"map",{get:function(){var top=this.topParent;return top?top.map:(this._map||(this._map=new Dictionary_Dictionary),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"delayedMap",{get:function(){var top=this.topParent;return top?top.delayedMap:(this._delayedMap||(this._delayedMap=new Dictionary_Dictionary),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"id",{get:function(){return this._id},set:function(value){if(this._id!=value){if(this._id=value,this.map.hasKey(value))throw Error("Duplicate id ("+value+") used on multiple objects.");this.map.setKey(value,this),Options_options.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"paper",{get:function(){if(this._paper)return this._paper;var parent_2=this._parent;return parent_2?parent_2.paper:getGhostPaper()},set:function(paper){this.setPaper(paper)},enumerable:!0,configurable:!0}),Sprite.prototype.setPaper=function(paper){return this._paper!=paper&&(this._paper=paper,this.appendDefs(),!0)},Object.defineProperty(Sprite.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var parent_3=this._parent;return parent_3?parent_3.htmlContainer:void 0},set:function(htmlContainer){this._htmlContainer=htmlContainer},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"filters",{get:function(){return this._filters||(this._filters=new List_List,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new List_ListDisposer(this._filters))),this._filters},enumerable:!0,configurable:!0}),Sprite.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},Sprite.prototype.setSVGAttribute=function(attribute){this.group.attr(attribute)},Sprite.prototype.removeSVGAttribute=function(attribute){this.group.removeAttr(attribute)},Sprite.prototype.setClassName=function(){var className=this.className,classNamePrefix=Options_options.classNamePrefix;this.element&&this.element.addClass(classNamePrefix+className),this.group.addClass(classNamePrefix+className+"-group"),Type_hasValue(this.id)&&this.group.addClass(classNamePrefix+this.id),this.userClassName&&this.group.addClass(this.userClassName)},Sprite.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},Sprite.prototype.updateClipPath=function(){var element=this._clipElement;element&&element.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},Sprite.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var id=Registry_registry.getUniqueId();this._clipPath.attr({id:id}),this.group.attr({"clip-path":'url("'+getBaseURI()+id+'")'})}},Sprite.prototype.applyMask=function(){var mask=this.mask;if(this._clipPath&&mask)if(mask instanceof Container_Container){this._clipElement.attr({width:Math_max(0,mask.pixelWidth),height:Math_max(0,mask.pixelHeight)});var point=spritePointToSprite({x:mask.pixelX,y:mask.pixelY},mask.parent,this);this._clipPath.x=point.x,this._clipPath.y=point.y}else mask.element&&mask.element!=this._clipElement&&(this._clipElement=mask.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=mask.scale,this._clipPath.x=mask.pixelX,this._clipPath.y=mask.pixelY,this._clipPath.rotation=mask.rotation},Sprite.prototype.applyFilters=function(){var _this=this;if(this._filters&&this._filters.length>0){var width_1=100,height_1=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var id="filter-"+this.uid;this.filterElement.attr({id:id}),Iterator_each(this.filters.iterator(),(function(filter){filter.sprite=_this,filter.paper=_this.paper,_this.filterElement.attr({filterUnits:filter.filterUnits}),filter.appendPrimitives(_this.filterElement),filter.width>width_1&&(width_1=filter.width),filter.height>height_1&&(height_1=filter.height),filter.scale=_this.globalScale}));var w=width_1+"%",h=height_1+"%";this.filterElement.attr({width:w,height:h,x:-(width_1-100)/2+"%",y:-(height_1-100)/2+"%"}),this.group.attr({filter:'url("'+getBaseURI()+id+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},Sprite.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},Sprite.prototype.setElement=function(element){this.element=element,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(Sprite.prototype,"element",{get:function(){return this._element},set:function(element){this.removeElement(),this._element=element,this.group.add(element),element.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),Options_options.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(svgContainer){this._svgContainer=svgContainer},enumerable:!0,configurable:!0}),Sprite.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var svgBBox=this.element.getBBox();this._bbox={x:svgBBox.x,y:svgBBox.y,width:svgBBox.width,height:svgBBox.height}}},Sprite.prototype.updateCenter=function(){if(this.element){var prevElementTransform=this.element.transformString,bbox=this.bbox,ex=0,ey=0,elementX=bbox.x,elementY=bbox.y,elementWidth=bbox.width,elementHeigth=bbox.height,pixelPaddingLeft=this.pixelPaddingLeft,pixelPaddingRight=this.pixelPaddingRight,pixelPaddingTop=this.pixelPaddingTop,pixelPaddingBottom=this.pixelPaddingBottom,measuredWidth=Math_max(elementWidth+pixelPaddingLeft+pixelPaddingRight,this.pixelWidth),measuredHeight=Math_max(elementHeigth+pixelPaddingTop+pixelPaddingBottom,this.pixelHeight),left=bbox.x,right=bbox.x+measuredWidth,top_1=bbox.y,bottom=bbox.y+measuredHeight,horizontalCenter=this.horizontalCenter,verticalCenter=this.verticalCenter;switch(horizontalCenter){case"none":ex=elementX+pixelPaddingLeft;break;case"left":ex=pixelPaddingLeft;break;case"middle":ex=pixelPaddingLeft-(elementWidth+pixelPaddingRight+pixelPaddingLeft)/2;break;case"right":ex=-pixelPaddingRight-elementWidth}switch(verticalCenter){case"none":ey=elementY+pixelPaddingTop;break;case"top":ey=pixelPaddingTop;break;case"middle":ey=pixelPaddingTop-(elementHeigth+pixelPaddingBottom+pixelPaddingTop)/2;break;case"bottom":ey=-pixelPaddingBottom-elementHeigth}this._measuredHeight=measuredHeight,this._measuredWidth=measuredWidth;var x=Math_round(ex-elementX,this._positionPrecision,!0),y=Math_round(ey-elementY,this._positionPrecision,!0);this.ex=x-pixelPaddingLeft,this.ey=y-pixelPaddingTop,this.maxLeft=left+x-pixelPaddingLeft,this.maxRight=right+x-pixelPaddingLeft,this.maxTop=top_1+y-pixelPaddingTop,this.maxBottom=bottom+y-pixelPaddingTop,this.pixelPerfect&&(x-=.5,y-=.5),this.element.moveTo({x:x,y:y}),prevElementTransform!=this.element.transformString&&this.dispatchImmediately("transformed")}},Sprite.prototype.measure=function(){this.updateCenter();var measuredWidth=this._measuredWidth,measuredHeight=this._measuredHeight,left=this.maxLeft,right=this.maxRight,top=this.maxTop,bottom=this.maxBottom;this._measuredWidthSelf=measuredWidth,this._measuredHeightSelf=measuredHeight;var positionPrecision=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var svg=this.paper.svg,matrix=svg.createSVGMatrix(),rotation=this.rotation,scale=this.scale;this.nonScaling&&(scale=this.scale/this.globalScale),matrix.a=Math_cos(rotation)*scale,matrix.c=-Math_sin(rotation)*scale,matrix.e=0,matrix.b=Math_sin(rotation)*scale,matrix.d=Math_cos(rotation)*scale,matrix.f=0;var p1=svg.createSVGPoint();p1.x=left,p1.y=top;var p2=svg.createSVGPoint();p2.x=right,p2.y=top;var p3=svg.createSVGPoint();p3.x=right,p3.y=bottom;var p4=svg.createSVGPoint();p4.x=left,p4.y=bottom;var pt1=p1.matrixTransform(matrix),pt2=p2.matrixTransform(matrix),pt3=p3.matrixTransform(matrix),pt4=p4.matrixTransform(matrix);left=Math.min(pt1.x,pt2.x,pt3.x,pt4.x),right=Math.max(pt1.x,pt2.x,pt3.x,pt4.x),top=Math.min(pt1.y,pt2.y,pt3.y,pt4.y),measuredWidth=right-left,measuredHeight=(bottom=Math.max(pt1.y,pt2.y,pt3.y,pt4.y))-top,this.maxLeft=Math_round(left,positionPrecision,!0),this.maxRight=Math_round(right,positionPrecision,!0),this.maxTop=Math_round(top,positionPrecision,!0),this.maxBottom=Math_round(bottom,positionPrecision,!0)}return this._measuredWidth=Math_round(measuredWidth,positionPrecision,!0),this._measuredHeight=Math_round(measuredHeight,positionPrecision,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(Type_hasValue(this.tooltipText)||Type_hasValue(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},Sprite.prototype.insertBefore=function(sprite){var parent=this._parent;if(parent){var index=parent.children.indexOf(sprite);-1!==index&&(parent.children.moveValue(this,index),parent.sortChildren())}return this},Sprite.prototype.insertAfter=function(sprite){var parent=this._parent;if(parent){var index=parent.children.indexOf(sprite);-1!==index&&(parent.children.moveValue(this,index+1),parent.sortChildren())}return this},Sprite.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},Sprite.prototype.getRelativeX=function(value){return value instanceof Percent?value.value:this._parent?value/this._parent.innerWidth:0},Sprite.prototype.getRelativeY=function(value){return value instanceof Percent?value.value:this._parent?value/this._parent.innerHeight:0},Sprite.prototype.getPixelX=function(value){var pixel=0;if(isNumber(value))pixel=value;else if(value instanceof Percent){var relative=value.value;this._parent&&(pixel=Math_round(this._parent.innerWidth*relative,this._positionPrecision,!0))}return pixel},Sprite.prototype.getPixelY=function(value){var pixel=0;if(isNumber(value))pixel=value;else if(value instanceof Percent){var relative=value.value;this._parent&&(pixel=Math_round(this._parent.innerHeight*relative,this._positionPrecision,!0))}return pixel},Sprite.prototype.moveTo=function(point,rotation,scale,isDragged){this.isDragged&&!isDragged||(point&&(isNumber(point.x)&&this.setPropertyValue("x",Math_round(point.x,this._positionPrecision,!0)),isNumber(point.y)&&this.setPropertyValue("y",Math_round(point.y,this._positionPrecision,!0))),isNumber(rotation)&&(this.rotation=rotation),isNumber(scale)&&(this.scale=scale),this.invalidatePosition())},Object.defineProperty(Sprite.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(mask){var _this=this;this._mask.get()!==mask&&(mask?(this.createClipPath(),mask instanceof Container_Container?this._clipElement=this.paper.add("rect"):(mask.isMeasured=!1,mask.element&&(this._clipElement=mask.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(mask,new Disposer_MultiDisposer([mask.events.on("maxsizechanged",(function(){_this.inited&&_this.applyMask()}),void 0,!1),mask.events.on("validated",this.applyMask,this,!1),mask.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(rect){rect?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:rect.width,height:rect.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=rect},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(value){(value=toBoolean(value))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=value&&(this._isMeasured=value,this.invalidatePosition())},enumerable:!0,configurable:!0}),Sprite.prototype.hitTest=function(sprite){this.invalid&&this.validate(),sprite.invalid&&sprite.validate();var ax1=this.pixelX+this.maxLeft,ay1=this.pixelY+this.maxTop,ax2=ax1+this.maxRight,ay2=ay1+this.maxBottom,bx1=sprite.pixelX+sprite.maxLeft,by1=sprite.pixelY+sprite.maxTop,bx2=bx1+sprite.maxRight,by2=by1+sprite.maxBottom;return!(bx1>ax2||bx2<ax1||by1>ay2||by2<ay1)},Object.defineProperty(Sprite.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),Sprite.prototype.isReady=function(){return this._ready},Object.defineProperty(Sprite.prototype,"states",{get:function(){if(!this._states){var state=new SpriteState_SpriteState;this._states=new Dictionary_DictionaryTemplate(state),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new Dictionary_DictionaryDisposer(this._states)),this._disposers.push(state)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var hiddenState=this.states.create("hidden");hiddenState.properties.opacity=0,hiddenState.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"defaultState",{get:function(){this.states.getKey("default")||(this.states.create("default").properties.opacity=1);return this.states.getKey("default")},enumerable:!0,configurable:!0}),Sprite.prototype.processState=function(event){var state=event.newValue;if(state.sprite=this,state.name=event.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(Type_hasValue(this.tooltipHTML)||Type_hasValue(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(Type_hasValue(this.tooltipHTML)||Type_hasValue(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var clones=this.clones.values,length_1=clones.length,i=0;i<length_1;++i){var clone=clones[i];clone.isDisposed()||clone.states.setKey(state.name,state)}},Object.defineProperty(Sprite.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Sprite.prototype.getSvgPoint=function(point){try{var bbox=this.htmlContainer.getBoundingClientRect();return{x:point.x-bbox.left,y:point.y-bbox.top}}catch(e){return point}},Sprite.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Sprite.prototype.setState=function(value,transitionDuration,easing){var state;if(value instanceof SpriteState_SpriteState)this.states.setKey(value.name,value),state=value;else if(!(state=this.states.getKey(value)))return;if("hover"==state.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==state.name?this.isHiding=!0:this.visible||this.setVisibility(state.properties.visible||this.defaultState.properties.visible),"active"==state.name&&(this.isActive=!0),isNumber(transitionDuration)||(transitionDuration=state.transitionDuration),Type_hasValue(easing)||(easing=state.transitionEasing),this.transitTo(state,transitionDuration,easing)},Sprite.prototype.applyCurrentState=function(duration){var animation=this.setState(this.defaultState,duration);return this.isHover&&(animation=this.setState("hover",duration)),this.isDown&&this.interactions.downPointers.length&&(animation=this.setState("down",duration)),this.isFocused=this.isFocused,this.isActive&&(animation=this.setState("active",duration),this.isHover&&this.states.hasKey("hoverActive")&&(animation=this.setState("hoverActive",duration))),animation},Sprite.prototype.transitTo=function(state,duration,easing){var transition,_this=this,options=[];if(Object_each(state.allValues,(function(propertyName,finalValue){var currentValue=_this[propertyName];if(finalValue!=currentValue&&null==_this.defaultState.properties[propertyName]&&(_this.defaultState.properties[propertyName]=currentValue),"__unset"!=finalValue){var option={from:currentValue,to:finalValue,property:propertyName};options.push(option)}})),options.length>0&&((transition=this.animate(options,duration,easing))&&!transition.isFinished()?this._disposers.push(transition.events.on("animationended",(function(){_this.dispatchImmediately("transitionended")}))):this.dispatchImmediately("transitionended")),state.filters.length>0){var newFilters_1=[];Iterator_each(state.filters.iterator(),(function(stateFilter){var newFilter=stateFilter.clone();newFilters_1.push(newFilter);var animationOptions=[];Iterator_each(_this.filters.iterator(),(function(currentFilter){currentFilter.className==newFilter.className&&(contains(_this.defaultState.filters.iterator(),(function(x){return x.className===newFilter.className}))||_this.defaultState.filters.push(currentFilter),Object_each(newFilter.properties,(function(propertyName,newValue){var currentValue=currentFilter.properties[propertyName];currentValue!=newValue&&animationOptions.push({property:propertyName,from:currentValue,to:newValue})})))})),newFilter.animate(animationOptions,duration,easing)})),this.filters.clear(),this.filters.pushAll(newFilters_1)}return transition},Sprite.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(Sprite.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(value){(value=toBoolean(value))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=value,value?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(value){value=toBoolean(value),this.isInteractive()&&this.isDown!=value&&(this.interactions.isDown=value,value?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(value){value=toBoolean(value),this.focusable&&this.isFocused!=value&&this.isInteractive()&&(this.interactions.isFocused=value,!0===value?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"isActive",{get:function(){return this._isActive},set:function(value){this.setActive(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setActive=function(value){value=toBoolean(value),this._isActive!==value&&(this._isActive=value,value&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(Sprite.prototype,"disabled",{get:function(){var current=this.getPropertyValue("disabled");return Type_hasValue(current)?current:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(value){this.setDisabled(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setDisabled=function(value){if(value=toBoolean(value),this.getPropertyValue("disabled")!=value){if(this.setPropertyValue("disabled",value,!0),value)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var group=this._parent.element;group.hasChild(this.group)||group.add(this.group)}this instanceof Container_Container?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),system.requestFrame(),!0}return!1},Object.defineProperty(Sprite.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(value){this._internalDisabled!=value&&(this._internalDisabled=value,this._updateDisabled=!0,this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new NumberFormatter_NumberFormatter,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(value){this._numberFormatter=value,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new DateFormatter_DateFormatter,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(value){this._dateFormatter=value,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new DurationFormatter_DurationFormatter,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(value){this._durationFormatter=value,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"language",{get:function(){var language=this._language.get();return language||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(language=new Language_Language,this.language=language,language))},set:function(value){var _this=this;this._language.get()!==value&&this._language.set(value,value.events.on("localechanged",(function(ev){if(_this._numberFormatter&&(_this._numberFormatter.language=_this.language),_this._dateFormatter&&(_this._dateFormatter.language=_this.language),_this._durationFormatter&&(_this._durationFormatter.language=_this.language),_this._exporting.get()){var exporting=_this._exporting.get();exporting.numberFormatter.language=_this.language,exporting.dateFormatter.language=_this.language,exporting.durationFormatter.language=_this.language,exporting.language=_this.language}_this instanceof Container_Container&&_this.deepInvalidate()})))},enumerable:!0,configurable:!0}),Sprite.prototype.populateString=function(string,dataItem){if(Type_hasValue(string)){string=castString(string);var tags=(string=getTextFormatter().escape(string)).match(/\{([^}]+)\}/g),i=void 0;if(tags)for(i=0;i<tags.length;i++){var tag=tags[i].replace(/\{([^}]+)\}/,"$1"),value=this.getTagValue(tag,"",dataItem);Type_hasValue(value)||(value=""),string=string.split(tags[i]).join(value)}string=getTextFormatter().unescape(string)}else string="";return this._adapterO?this._adapterO.apply("populateString",string):string},Sprite.prototype.getTagValue=function(tagName,format,dataItem){var value;Type_hasValue(dataItem)||(dataItem=this.dataItem);for(var matches,parts=[],reg=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(matches=reg.exec(tagName));)if(matches[3])parts.push({prop:matches[3]});else{var params=[];if(""!=trim(matches[2]))for(var reg2=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,matches2=void 0;null!==(matches2=reg2.exec(matches[2]));)params.push(matches2[1]||matches2[2]||matches2[3]);parts.push({method:matches[1],params:params})}if(dataItem){Type_hasValue(value=this.getTagValueFromObject(parts,dataItem.values))&&!Type_isObject(value)||(value=this.getTagValueFromObject(parts,dataItem));var dataContext=dataItem.dataContext;!Type_hasValue(value)&&dataContext&&!Type_hasValue(value=this.getTagValueFromObject(parts,dataItem.dataContext))&&dataContext.dataContext&&(value=this.getTagValueFromObject(parts,dataContext.dataContext)),!Type_hasValue(value)&&dataItem.component&&dataItem.component.dataItem!==dataItem&&(value=dataItem.component.getTagValue(tagName,format))}return Type_hasValue(value)||(value=this.getTagValueFromObject(parts,this.populateStringFrom||this)),!Type_hasValue(value)&&this._parent&&(value=this._parent.getTagValue(tagName,format)),value},Sprite.prototype.getTagValueFromObject=function(parts,object,format){for(var current=object,formatApplied=!1,i=0,len=parts.length;i<len;i++){var part=parts[i];if(part.prop){if(!Type_hasValue(current=current[part.prop]))return}else switch(part.method){case"formatNumber":var numberValue=anyToNumber(current);Type_hasValue(numberValue)&&(current=this.numberFormatter.format(numberValue,format||part.params[0]||void 0),formatApplied=!0);break;case"formatDate":var dateValue=void 0;if(!Type_isDate(dateValue=isString(current)?this.dateFormatter.parse(current):anyToDate(current))||Type_isNaN(dateValue.getTime()))return;Type_hasValue(dateValue)&&(current=this.dateFormatter.format(dateValue,format||part.params[0]||void 0),formatApplied=!0);break;case"formatDuration":var durationValue=anyToNumber(current);Type_hasValue(durationValue)&&(current=this.durationFormatter.format(durationValue,format||part.params[0]||void 0,part.params[1]||void 0),formatApplied=!0);break;case"urlEncode":case"encodeURIComponent":current=encodeURIComponent(current);break;default:current[part.method]&&current[part.method].apply(this,part.params)}}if(!formatApplied){var formatParts=[{method:"",params:format}];if(Type_hasValue(format)){var formatterType=function(format){if(void 0===format)return"string";var hints=(format=(format=(format=format.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return hints?hints[1]:"number"===format?"number":"date"===format?"date":"duration"===format?"duration":format.match(/[#0]/)?"number":format.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(format);"number"===formatterType?formatParts[0].method="formatNumber":"date"===formatterType?formatParts[0].method="formatDate":"duration"===formatterType&&(formatParts[0].method="formatDuration")}else isNumber(current)?(formatParts[0].method="formatNumber",formatParts[0].params=""):Type_isDate(current)&&(formatParts[0].method="formatDate",formatParts[0].params="");formatParts[0].method&&(current=this.getTagValueFromObject(formatParts,current))}return current},Object.defineProperty(Sprite.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(dataItem){this.setDataItem(dataItem)},enumerable:!0,configurable:!0}),Sprite.prototype.setDataItem=function(dataItem){var _this=this;if(this._dataItem!=dataItem){if(this._dataItem=dataItem,dataItem){if(this.configField){var dataContext_1=dataItem.dataContext;dataContext_1&&(this.config=dataContext_1[this.configField],!this.config&&dataContext_1.dataContext&&(this.config=dataContext_1.dataContext[this.configField]))}var dataContext_2=dataItem.dataContext;if(dataContext_2){var dataContext2_1=dataContext_2.dataContext;Object_each(this.propertyFields,(function(propertyName,fieldValue){if(Type_hasValue(dataContext_2[fieldValue]))_this[propertyName]=dataContext_2[fieldValue];else if(dataContext2_1){var value=dataContext2_1[fieldValue];if(Type_hasValue(value))_this[propertyName]=value}}))}}this.invalidate()}},Sprite.prototype.getPropertyValue=function(propertyName){var propValue=this.properties[propertyName];return this._isTemplate||(this._adapterO&&(propValue=this._adapterO.apply(propertyName,propValue)),propValue=globalAdapter.applyAll(this,propertyName,propValue)),propValue},Sprite.prototype.setColorProperty=function(property,value,invalidate){var currentValue=this.properties[property];return!(value instanceof Color_Color&&currentValue instanceof Color_Color&&value.toString()==currentValue.toString())&&this.setPropertyValue(property,value,invalidate)},Sprite.prototype.setPercentProperty=function(property,value,invalidate,transform,precision,floor){if(isNumber(value=toNumberOrPercent(value)))return isNumber(precision)&&(value=Math_round(value,precision,floor)),this.setPropertyValue(property,value,invalidate,transform);var currentValue=this.properties[property];return!(value instanceof Percent&&currentValue instanceof Percent&&value.value==currentValue.value)&&this.setPropertyValue(property,value,invalidate,transform)},Sprite.prototype.setPropertyValue=function(property,value,invalidate,transform){if(this.properties[property]!==value&&!this.isDisposed()){if(this.properties[property]=value,this.events.isEnabled("propertychanged")){var event_1={type:"propertychanged",target:this,property:property};this.events.dispatchImmediately("propertychanged",event_1)}if(invalidate&&this.invalidate(),transform&&this.invalidatePosition(),this.applyOnClones)for(var clones=this.clones.values,length_2=clones.length,i=0;i<length_2;++i){var clone=clones[i];clone.isDisposed()||(clone[property]=value)}return!0}return!1},Sprite.prototype.bind=function(property,source,bindToProperty,modifier){var _this=this;void 0===bindToProperty&&(bindToProperty=property),Type_hasValue(this._bindings[property])&&this._bindings[property].dispose(),this[property]=source[bindToProperty],this._bindings[property]=source.events.on("propertychanged",(function(event){if(event.property===bindToProperty){var value=source[bindToProperty];modifier&&(value=modifier(value)),_this[property]=value}}))},Sprite.prototype.observe=function(property,listener,context,shouldClone){var _this=this;return new Disposer_MultiDisposer(Array_map(toArray(property),(function(prop){return _this.events.on("propertychanged",(function(e){e.property===prop&&listener.call(context,e)}),context,shouldClone)})))},Sprite.prototype.applyAccessibility=function(){var title=this.readerTitle,description=this.readerDescription,role=this.role,hidden=this.readerHidden,checked=this.readerChecked,controls=this.readerControls,live=this.readerLive,orientation=this.readerOrientation,valueNow=this.readerValueNow,valueText=this.readerValueText,labelledByIds=[],describedByIds=[],labelledBy=this.readerLabelledBy;labelledBy&&labelledByIds.push(labelledBy);var describedBy=this.readerDescribedBy;if(describedBy&&describedByIds.push(describedBy),title)if(labelledByIds.length){var titleElement=this.titleElement,titleId=this.uid+"-title";titleElement.node.textContent!=title&&(titleElement.node.textContent=title,titleElement.attr({id:titleId})),labelledByIds.push(titleId)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":title});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(description){var descriptionElement=this.descriptionElement,descriptionId=this.uid+"-description";descriptionElement.node.textContent!=description&&(descriptionElement.node.textContent=description,descriptionElement.attr({id:descriptionId})),describedByIds.push(descriptionId)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);labelledByIds.length?this.setSVGAttribute({"aria-labelledby":labelledByIds.join(" ")}):this.removeSVGAttribute("aria-labelledby"),describedByIds.length?this.setSVGAttribute({"aria-describedby":describedByIds.join(" ")}):this.removeSVGAttribute("aria-describedby"),role?this.setSVGAttribute({role:role}):this.removeSVGAttribute("role"),hidden?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),checked?this.setSVGAttribute({"aria-checked":"true"}):!1===checked?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),controls?this.setSVGAttribute({"aria-controls":controls}):this.removeSVGAttribute("aria-controls"),live?this.setSVGAttribute({"aria-live":live}):this.removeSVGAttribute("aria-live"),orientation?this.setSVGAttribute({"aria-orientation":orientation}):this.removeSVGAttribute("aria-orientation"),valueNow?this.setSVGAttribute({"aria-valuenow":valueNow}):this.removeSVGAttribute("aria-valuenow"),valueText?this.setSVGAttribute({"aria-valuetext":valueText}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(Sprite.prototype,"readerTitle",{get:function(){var title=this.getPropertyValue("readerTitle");return Type_hasValue(title)&&this.dataItem?this.populateString(title):title},set:function(value){value=toText(value),this.setPropertyValue("readerTitle",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerDescription",{get:function(){var description=this.getPropertyValue("readerDescription");return Type_hasValue(description)&&this.dataItem?this.populateString(description):this.getPropertyValue("readerDescription")},set:function(value){value=toText(value),this.setPropertyValue("readerDescription",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(value){value=toText(value),this.setPropertyValue("role",value)&&(this.applyAccessibility(),"slider"==value&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(value){value=toBoolean(value),this.setPropertyValue("readerHidden",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(value){value=toBoolean(value),this.setPropertyValue("readerChecked",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(value){value=toText(value),this.setPropertyValue("readerControls",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(value){value=toText(value),this.setPropertyValue("readerLive",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(value){value=toText(value),this.setPropertyValue("readerLabelledBy",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(value){value=toText(value),this.setPropertyValue("readerDescribedBy",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(value){value=toText(value),this.setPropertyValue("readerOrientation",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(value){value=toText(value),this.setPropertyValue("readerValueNow",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(value){value=toText(value),this.setPropertyValue("readerValueText",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"interactions",{get:function(){if(!this._interaction){var interaction=getInteraction().getInteraction(this.dom);this._interaction=interaction,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),Sprite.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(Sprite.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("focusable",value)&&(value||this.isInteractive())&&(this.interactions.focusable=value,value?(this.setSVGAttribute({focusable:value}),this._tabindex||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",value,(function(){return new Disposer_MultiDisposer([_this.events.on("blur",_this.handleBlur,_this,!1),_this.events.on("focus",_this.handleFocus,_this,!1)])})))},enumerable:!0,configurable:!0}),Sprite.prototype.handleFocus=function(ev){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},Sprite.prototype.handleBlur=function(ev){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(Sprite.prototype,"focusFilter",{get:function(){var focusFilter=this._focusFilter;return focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(value){this._focusFilter=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(value){value!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tabindex",{get:function(){var index=this._tabindex;return null!=index?index:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(value){value=toNumber(value),this.setPropertyValue("tabindex",value)&&isNumber(value)&&(this.interactions.tabindex=value,this.setSVGAttribute({tabindex:value}),this._tabindex=value,this.focusable=value>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("draggable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=value,this.interactions.setEventDisposer("sprite-draggable",value,(function(){return new Disposer_MultiDisposer([_this.events.on("down",_this.handleDown,_this,!1),_this.events.on("dragstart",_this.handleDragStart,_this,!1),_this.events.on("drag",_this.handleDragMove,_this,!1),_this.events.on("dragstop",_this.handleDragStop,_this,!1)])})))},enumerable:!0,configurable:!0}),Sprite.prototype.handleDragStart=function(ev){this.interactions.isTouchProtected&&ev.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},Sprite.prototype.dragStart=function(pointer){this._isDragged=!0,getInteraction().dragStart(this.interactions,pointer)},Sprite.prototype.handleDragStop=function(ev){this.interactions.isTouchProtected&&ev.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},Sprite.prototype.dragStop=function(pointer,cancelled){this._isDragged=!1,getInteraction().dragStop(this.interactions,pointer,cancelled)},Sprite.prototype.handleDragMove=function(ev){if(!this.interactions.isTouchProtected||!ev.touch){var point=this.interactions.originalPosition;if(point&&this._isDragged){var globalScale=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:point.x+ev.shift.x/globalScale,y:point.y+ev.shift.y/globalScale},void 0,void 0,!0)}this.dispatchImmediately("dragged",ev)}},Object.defineProperty(Sprite.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(value){value=toBoolean(value),this.setPropertyValue("inert",value)&&(value||this.isInteractive())&&(this.interactions.inert=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("hoverable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=value,this.interactions.setEventDisposer("sprite-hoverable",value,(function(){return new Disposer_MultiDisposer([_this.events.on("over",_this.handleOver,_this,!1),_this.events.on("out",_this.handleOut,_this,!1)])})))},enumerable:!0,configurable:!0}),Sprite.prototype.handleOver=function(ev){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var point=void 0;ev&&ev.pointer&&(point=documentPointToSvg(ev.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(point)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},Sprite.prototype.handleOut=function(ev){var _this=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout((function(){_this.tooltip.isHover||(_this.tooltip.targetSprite==_this&&_this.hideTooltip(),_this._outTimeout=_this.setTimeout(_this.handleOutReal.bind(_this),_this.rollOutDelay))}),10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},Sprite.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(Sprite.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),Sprite.prototype.handleDown=function(ev){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},Sprite.prototype.handleUp=function(ev){var _this=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(ev.pointer.point),this._disposers.push(Registry_registry.events.once("exitframe",(function(){_this.showTooltip()}))),this._disposers.push(getInteraction().body.events.once("down",(function(ev){_this.hideTooltip()}))))},Object.defineProperty(Sprite.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("clickable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=value,this.interactions.setEventDisposer("sprite-clickable",value,(function(){return new Disposer_MultiDisposer([_this.events.on("down",_this.handleDown,_this,!1),_this.events.on("up",_this.handleUp,_this,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("togglable",value)&&(value||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",value,(function(){return _this.events.on("hit",_this.handleToggle,_this,!1)}))},enumerable:!0,configurable:!0}),Sprite.prototype.handleToggle=function(ev){this.isActive=!this.isActive},Object.defineProperty(Sprite.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(value){value=toBoolean(value),this.setPropertyValue("contextMenuDisabled",value)&&(this.interactions.contextMenuDisabled=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(value){this.setPropertyValue("url",value)&&(this._urlDisposer&&this._urlDisposer.dispose(),isNotEmpty(value)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=MouseCursorStyle.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(value){this.setBaseId(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setBaseId=function(value){value!=this._baseId&&(this.invalid&&(this.invalid=!1,Registry_registry.removeFromInvalidSprites(this),this.invalidate()),this._baseId=value)},Object.defineProperty(Sprite.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(value){this.setPropertyValue("urlTarget",value)},enumerable:!0,configurable:!0}),Sprite.prototype.urlHandler=function(ev){if(isNotEmpty(this.url)){var url=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=url:window.open(url,this.urlTarget)}},Object.defineProperty(Sprite.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(value){value=toBoolean(value),this.setPropertyValue("swipeable",value)&&(this.applyCursorStyle(),(value||this.isInteractive())&&(this.interactions.swipeable=value))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(value){value=toBoolean(value),this.setPropertyValue("trackable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(value){this.setPropertyValue("wheelable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(value){var _this=this;value=toBoolean(value),this.setPropertyValue("resizable",value)&&(value||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=value,this.interactions.setEventDisposer("sprite-resizable",value,(function(){return new Disposer_MultiDisposer([_this.events.on("down",_this.handleDown,_this,!1),_this.events.on("resize",_this.handleResize,_this,!1)])})))},enumerable:!0,configurable:!0}),Sprite.prototype.handleResize=function(ev){if((!this.interactions.isTouchProtected||!ev.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*ev.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var svgMidPoint=getMidPoint(documentPointToSvg(ev.point1,this.htmlContainer,this.svgContainer.cssScale),documentPointToSvg(ev.point2,this.htmlContainer,this.svgContainer.cssScale)),parentPoint1=documentPointToSprite(ev.startPoint1,this._parent),parentPoint2=documentPointToSprite(ev.startPoint2,this._parent),originalPosition=this.interactions.originalPosition,originalScale=this.interactions.originalScale;if(originalPosition){var spriteMidPoint=getMidPoint({x:(parentPoint1.x-originalPosition.x)/originalScale,y:(parentPoint1.y-originalPosition.y)/originalScale},{x:(parentPoint2.x-originalPosition.x)/originalScale,y:(parentPoint2.y-originalPosition.y)/originalScale}),parentPoint=svgPointToSprite(svgMidPoint,this._parent);this.moveTo({x:parentPoint.x-spriteMidPoint.x*this.scale,y:parentPoint.y-spriteMidPoint.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(Sprite.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"cursorOverStyle",{set:function(style){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=style,getInteraction().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"cursorDownStyle",{set:function(style){this.cursorOptions.downStyle=style},enumerable:!0,configurable:!0}),Sprite.prototype.applyCursorStyle=function(){},Object.defineProperty(Sprite.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(value){if(value=toBoolean(value),this.setPropertyValue("interactionsEnabled",value)){var pointerEvents=null;value?this.group.node.style.pointerEvents="":pointerEvents="none",this.group.node.style.pointerEvents=pointerEvents}},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"exporting",{get:function(){return this.getExporting()},set:function(exp){this._exporting.set(exp,exp)},enumerable:!0,configurable:!0}),Sprite.prototype.getExporting=function(){var _export=this._exporting.get();return _export||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((_export=new Export_Export(this.svgContainer.SVGContainer)).sprite=this,_export.language=this.language,_export.numberFormatter=this.numberFormatter,_export.dateFormatter=this.dateFormatter,_export.durationFormatter=this.durationFormatter,this._exporting.set(_export,_export),_export))},Object.defineProperty(Sprite.prototype,"exportable",{get:function(){return this._exportable},set:function(value){var svgContainer=this.svgContainer;this._exportable=value,svgContainer&&(value?Array_remove(svgContainer.nonExportableSprites,this):-1==Array_indexOf(svgContainer.nonExportableSprites,this)&&svgContainer.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),Sprite.prototype.modalPrefix=function(value){return value=Options_options.classNamePrefix+value},Object.defineProperty(Sprite.prototype,"modal",{get:function(){var svgContainer=this.svgContainer;if(svgContainer){var modal=svgContainer.modal;return modal.adapter.has("classPrefix",this.modalPrefix)||modal.adapter.add("classPrefix",this.modalPrefix),modal}},enumerable:!0,configurable:!0}),Sprite.prototype.openModal=function(text,title){var svgContainer=this.svgContainer;if(svgContainer)return svgContainer.openModal(text,title)},Sprite.prototype.closeModal=function(){var svgContainer=this.svgContainer;svgContainer&&svgContainer.closeModal()},Object.defineProperty(Sprite.prototype,"popups",{get:function(){var svgContainer=this.svgContainer;if(svgContainer){var popups=svgContainer.popups;return popups.template.sprite=this,popups.template.adapter.has("classPrefix",this.modalPrefix)||popups.template.adapter.add("classPrefix",this.modalPrefix),popups}},enumerable:!0,configurable:!0}),Sprite.prototype.openPopup=function(text,title){var svgContainer=this.svgContainer;if(svgContainer)return svgContainer.openPopup(text,title)},Sprite.prototype.closeAllPopups=function(){var svgContainer=this.svgContainer;svgContainer&&svgContainer.closeAllPopups()},Object.defineProperty(Sprite.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(value){this.isDragged||this.setPercentProperty("x",value,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelX",{get:function(){var value=fitToRange(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("minX",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("maxX",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(value){this.isDragged||this.setPercentProperty("y",value,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelY",{get:function(){var value=fitToRange(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("minY",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("maxY",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("dx",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(value){isNumber(value)&&(value=Math_round(value,this._positionPrecision,!0),this.setPropertyValue("dy",value,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(value){isNumber(value=toNumber(value))||(value=0),this.setPropertyValue("rotation",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(value){value=toText(value),this.setPropertyValue("align",value)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(value){value=toText(value),this.setPropertyValue("valign",value)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(value){value=toText(value),this.setPropertyValue("horizontalCenter",value)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(value){value=toText(value),this.setPropertyValue("verticalCenter",value)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"maxWidth",{get:function(){var maxWidth=this.getPropertyValue("maxWidth");if(!isNumber(maxWidth)&&this._parent){var parentWidth=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(parentWidth=parentWidth-this.pixelMarginLeft-this.pixelMarginRight),parentWidth}return maxWidth},set:function(value){this.setMaxWidth(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setMaxWidth=function(value){var prevWidth=this.maxWidth,prevHeight=this.maxHeight;if(this.setPropertyValue("maxWidth",value)){isNumber(this.relativeWidth)&&this.invalidate();var event_2={type:"maxsizechanged",target:this,previousWidth:prevWidth,previousHeight:prevHeight};this.dispatchImmediately("maxsizechanged",event_2)}},Object.defineProperty(Sprite.prototype,"maxHeight",{get:function(){var maxHeight=this.getPropertyValue("maxHeight");if(!isNumber(maxHeight)&&this._parent){var parentHeight=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(parentHeight=parentHeight-this.pixelMarginTop-this.pixelMarginBottom),parentHeight}return maxHeight},set:function(value){this.setMaxHeight(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setMaxHeight=function(value){var prevWidth=this.maxWidth,prevHeight=this.maxHeight;if(this.setPropertyValue("maxHeight",value)){isNumber(this.relativeHeight)&&this.invalidate();var event_3={type:"maxsizechanged",target:this,previousWidth:prevWidth,previousHeight:prevHeight};this.dispatchImmediately("maxsizechanged",event_3)}},Object.defineProperty(Sprite.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(value){this.setPropertyValue("minWidth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(value){this.setPropertyValue("minHeight",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(value){this.setPercentProperty("width",value,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,value instanceof Percent?(this.percentWidth=value.percent,isNumber(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(value),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(value){this.setPercentProperty("height",value,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,value instanceof Percent?(this.percentHeight=value.percent,isNumber(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(value),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelWidth",{get:function(){var width;width=isNumber(this.percentWidth)?this.maxWidth:isNumber(this._pixelWidth)?this._pixelWidth:0;var minWidth=this.minWidth;null!=minWidth&&width<minWidth&&(width=minWidth);var value=Math_round(width,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelHeight",{get:function(){var height;height=isNumber(this.percentHeight)?this.maxHeight:isNumber(this._pixelHeight)?this._pixelHeight:0;var minHeight=this.minHeight;null!=minHeight&&height<minHeight&&(height=minHeight);var value=Math_round(height,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeWidth",{get:function(){var relativeWidth=this._relativeWidth;if(isNumber(relativeWidth))return this._adapterO?this._adapterO.apply("relativeWidth",relativeWidth):relativeWidth},set:function(value){this._relativeWidth!=value&&(this._relativeWidth=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeHeight",{get:function(){var relativeHeight=this._relativeHeight;if(isNumber(relativeHeight))return this._adapterO?this._adapterO.apply("relativeHeight",relativeHeight):relativeHeight},set:function(value){this._relativeHeight!=value&&(this._relativeHeight=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"outerWidth",{get:function(){var value=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"outerHeight",{get:function(){var value=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"innerWidth",{get:function(){var value=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"innerHeight",{get:function(){var value=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"globalScale",{get:function(){var scale=this.scale;return this._parent&&(scale*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",scale):scale},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(value){(value=toNumber(value))<0&&(value=0),value!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",value,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),Sprite.prototype.margin=function(top,right,bottom,left){return this.marginTop=top,this.marginRight=right,this.marginBottom=bottom,this.marginLeft=left,this},Object.defineProperty(Sprite.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(value){this.setPercentProperty("marginLeft",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(value){this.setPercentProperty("marginRight",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(value){this.setPercentProperty("marginTop",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(value){this.setPercentProperty("marginBottom",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelMarginRight",{get:function(){var value=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeMarginRight",{get:function(){var value=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelMarginLeft",{get:function(){var value=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeMarginLeft",{get:function(){var value=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelMarginTop",{get:function(){var value=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeMarginTop",{get:function(){var value=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelMarginBottom",{get:function(){var value=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",value):value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativeMarginBottom",{get:function(){var value=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",value):value},enumerable:!0,configurable:!0}),Sprite.prototype.padding=function(top,right,bottom,left){return this.paddingTop=top,this.paddingRight=right,this.paddingBottom=bottom,this.paddingLeft=left,this},Object.defineProperty(Sprite.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(value){this.setPercentProperty("paddingLeft",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(value){this.setPercentProperty("paddingRight",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(value){this.setPercentProperty("paddingTop",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(value){this.setPercentProperty("paddingBottom",value,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(value){this.setPath(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setPath=function(value){return!!this.setPropertyValue("path",value)&&(this._adapterO&&(value=this._adapterO.apply("path",value)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),Type_hasValue(value)?this.element.attr({d:value}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(Sprite.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(value){this.setPropertyValue("fillModifier",value)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(value){this.setPropertyValue("strokeModifier",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue("fillOpacity",value)&&this.setSVGAttribute({"fill-opacity":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(value){this.setFill(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setFill=function(value){if((!Type_isObject(value)||"r"in value)&&(value=toColor(value)),this.setColorProperty("fill",value)||this.fillModifier)if(value instanceof Color_Color&&this.fillModifier&&(value=this.fillModifier.modify(value)),this.realFill=value,value instanceof Color_Color)this.setSVGAttribute({fill:value.toString()});else if(Type_hasValue(value)){if(value instanceof Pattern_Pattern||value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient){var fill=value;fill.paper=this.paper,this.setSVGAttribute({fill:'url("'+getBaseURI()+fill.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(Sprite.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue("opacity",value)&&this.setSVGAttribute({opacity:value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(value){this.setStroke(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setStroke=function(value){if((!Type_isObject(value)||"r"in value)&&(value=toColor(value)),this.setColorProperty("stroke",value)||this.strokeModifier)if(value instanceof Color_Color&&this.strokeModifier&&(value=this.strokeModifier.modify(value)),this.realStroke=value,value instanceof Color_Color)"none"==value.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:value.toString()});else if(Type_hasValue(value)){if(value instanceof Pattern_Pattern||value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient){var stroke=value;stroke.paper=this.paper,this.setSVGAttribute({stroke:'url("'+getBaseURI()+stroke.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(Sprite.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(value){value=toNumberRange(value,0,1),this.setPropertyValue("strokeOpacity",value)&&this.setSVGAttribute({"stroke-opacity":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(value){value=toBoolean(value),this.setPropertyValue("nonScalingStroke",value)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(value){value=toBoolean(value),this.setPropertyValue("nonScaling",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(value){value=toNumber(value),this.setPropertyValue("strokeWidth",value,!0),this.nonScalingStroke&&(isNumber(value)||(value=1),value/=this.globalScale),this.setSVGAttribute({"stroke-width":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(value){value=toText(value),this.setPropertyValue("strokeDasharray",value)&&this.setSVGAttribute({"stroke-dasharray":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(value){value=toNumber(value),this.setPropertyValue("strokeDashoffset",value)&&this.setSVGAttribute({"stroke-dashoffset":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(value){this.setPropertyValue("strokeLinecap",value)&&this.setSVGAttribute({"stroke-linecap":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(value){this.setPropertyValue("strokeLinejoin",value)&&this.setSVGAttribute({"stroke-linejoin":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(value){value=toText(value),this.setPropertyValue("shapeRendering",value)&&this.setSVGAttribute({"shape-rendering":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(value){value=toBoolean(value),this._positionPrecision=value?0:3,this.setPropertyValue("pixelPerfect",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"rtl",{get:function(){return Type_hasValue(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(value){value=toBoolean(value),this.isBaseSprite&&(this.topParent.rtl=value),this._rtl=value},enumerable:!0,configurable:!0}),Sprite.prototype.show=function(duration){return this.showReal(duration)},Sprite.prototype.showReal=function(duration){var _this=this;if(!this.preventShow){var transition,properties=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=properties.opacity&&this.opacity<properties.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),isNumber(duration)||(duration=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(transition=this.applyCurrentState(duration))&&!transition.isFinished()?(this._showHideDisposer=transition.events.on("animationended",(function(){_this.isShowing=!1})),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var visible=this.defaultState.properties.visible;Type_hasValue(visible)||(visible=!0),this.visible=visible,this.readerHidden=!1,this.dispatchImmediately("shown")}return transition}},Sprite.prototype.hide=function(duration){return this.hideReal(duration)},Sprite.prototype.hideReal=function(duration){var transition,_this=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var hiddenState_1=this.hiddenState;hiddenState_1?(transition=this.setState(hiddenState_1,duration,void 0))&&!transition.isFinished()?(this._hideAnimation=transition,this._showHideDisposer=transition.events.on("animationended",(function(){_this.isHiding=!1,_this._isHidden=!0,0==hiddenState_1.properties.visible&&(_this.visible=!1)}),this),this._disposers.push(this._showHideDisposer),this._disposers.push(transition)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return isNumber(duration)||(duration=this.hiddenState.transitionDuration),transition},Object.defineProperty(Sprite.prototype,"visible",{get:function(){return this.getVisibility()},set:function(value){value=toBoolean(value),this.setVisibility(value)},enumerable:!0,configurable:!0}),Sprite.prototype.getVisibility=function(){var value=this.getPropertyValue("visible");return Type_hasValue(value)||(value=!0),value},Sprite.prototype.setVisibility=function(value){if(this.setPropertyValue("visible",value)&&(value?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var event_4={type:"visibilitychanged",target:this,visible:value};this.events.dispatchImmediately("visibilitychanged",event_4)}},Object.defineProperty(Sprite.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(value){value=toNumber(value),this.setPropertyValue("zIndex",value)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),Sprite.prototype.toFront=function(){var parent=this._parent;parent&&parent.children.indexOf(this)!=parent.children.length-1&&(parent.children.moveValue(this,parent.children.length-1),this.dispatch("zIndexChanged"))},Sprite.prototype.toBack=function(){var parent=this._parent;parent&&0!=parent.children.indexOf(this)&&(parent.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(Sprite.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(value){this.setPropertyValue("userClassName",value)&&(!value&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(tooltip){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=tooltip,tooltip&&(tooltip.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipDataItem",{get:function(){var tooltipDataItem=this._tooltipDataItem;return tooltipDataItem||this.dataItem},set:function(value){this._tooltipDataItem=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(sprite){this._tooltipColorSource=sprite},enumerable:!0,configurable:!0}),Sprite.prototype.showTooltip=function(point){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!point&&"pointer"==this.tooltipPosition&&this.isHover&&(point=documentPointToSvg(getInteraction().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var sprite=this;null!=sprite;){if(!sprite.visible||sprite.disabled||sprite.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));sprite=sprite.parent}if(Type_hasValue(this.tooltipText)||Type_hasValue(this.tooltipHTML)){var tooltip=this.tooltip,tooltipDataItem=this.tooltipDataItem;if(tooltip){tooltip.targetSprite=this;var colorSource_1=this,tooltipColorSource_1=this.tooltipColorSource;if((tooltip.getStrokeFromObject||tooltip.getFillFromObject)&&tooltipColorSource_1&&(tooltipColorSource_1.isTemplate?tooltipDataItem&&eachContinue(tooltipDataItem.sprites,(function(sprite){return sprite.clonedFrom!=tooltipColorSource_1||(colorSource_1=sprite,!1)})):colorSource_1=tooltipColorSource_1),tooltip.getStrokeFromObject){for(var stroke=this.stroke,source=colorSource_1;null!=source.parent&&(null==(stroke=source.stroke)&&(source=source.parent),null==stroke););stroke instanceof Color_Color?tooltip.background.animate({property:"stroke",to:stroke},tooltip.animationDuration):tooltip.background.stroke=stroke}if(tooltip.dataItem=tooltipDataItem,tooltip.label.populateStringFrom=this,tooltip.getFillFromObject){var fill=this.fill;for(source=colorSource_1;null!=source.parent;)if(null==(fill=source.fill)||fill instanceof Color_Color&&null==fill.rgb)source=source.parent;else if(null!=fill)break;null==fill&&(fill=Color_color("#000000")),fill instanceof Color_Color&&tooltip.visible?tooltip.background.animate({property:"fill",to:fill},tooltip.animationDuration):tooltip.background.fill=fill,tooltip.autoTextColor&&fill instanceof Color_Color&&(tooltip.label.fill=fill.alternative)}var text="";if(this.tooltipHTML&&(tooltip.html=this.tooltipHTML,text=this.tooltipHTML),this.tooltipText&&(tooltip.text=this.tooltipText,text=this.tooltipText),this.updateTooltipPosition(point)){if(tooltip.readerDescribedBy=this.uidAttr(),tooltip.label.invalid&&tooltip.label.validate(),null!=text&&""!=text&&""!=tooltip.label.currentText){tooltip&&!tooltip.parent&&(tooltip.parent=this.tooltipContainer);var duration=tooltip.defaultState.transitionDuration;return duration<=0&&(duration=1),tooltip.show(duration),tooltip.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},Sprite.prototype.updateTooltipPosition=function(point){var _this=this;if("pointer"!=this.tooltipPosition){var globalPoint=spritePointToSvg({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(globalPoint)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=getInteraction().body.events.on("track",(function(ev){return _this.pointTooltipTo(documentPointToSvg(ev.point,_this.svgContainer.SVGContainer,_this.svgContainer.cssScale),!0)})),point)return this.pointTooltipTo(point,!0)},Sprite.prototype.pointTooltipTo=function(point,instantly){var tooltip=this.tooltip;if(tooltip&&this.topParent){if(tooltip.showInViewport)return tooltip.pointTo(point,instantly),!0;if(isInRectangle(point,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return tooltip.pointTo(point,instantly),!0}return!1},Sprite.prototype.hideTooltip=function(duration){if("always"!=this.showTooltipOn){var tooltip=this.tooltip;tooltip&&(tooltip.targetSprite==this&&(tooltip.targetSprite=void 0),tooltip.hide(duration),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(Sprite.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(value){value=toText(value),this.hoverable=!0,this.setPropertyValue("tooltipHTML",value)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(value){(value=toText(value))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",value)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(value){this._tooltipContainer=value},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(value){this.setPercentProperty("tooltipX",value)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(value){(value=toBoolean(value))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(value){this.setPropertyValue("showTooltipOn",value)&&("hit"==value&&(this.clickable=!0),this.tooltip&&("always"==value?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(value){this.setPropertyValue("tooltipPosition",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(value){this.setPercentProperty("tooltipY",value)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Sprite.prototype.getTooltipX=function(){var value,x=this.getPropertyValue("tooltipX");return Type_hasValue(x)||(x=Percent_percent(50)),isNumber(x)&&(value=x),x instanceof Percent&&(value=this.maxLeftSelf+this._measuredWidthSelf*x.value-this.pixelPaddingLeft-this.ex),isNumber(value)||(value=0),value},Sprite.prototype.getTooltipY=function(){var value,y=this.getPropertyValue("tooltipY");return Type_hasValue(y)||(y=Percent_percent(50)),isNumber(y)&&(value=y),y instanceof Percent&&(value=this.maxTopSelf+this._measuredHeightSelf*y.value-this.pixelPaddingTop-this.ey),isNumber(value)||(value=0),value},Sprite.prototype.raiseCriticalError=function(e,closable){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,closable?this.modal.closable=!0:this.disabled=!0,Options_options.suppressErrors||this.modal.open()),Options_options.verbose&&console.log(e)},Sprite.prototype.processConfig=function(config){config&&(Type_hasValue(config.tooltipColorSource)&&isString(config.tooltipColorSource)&&this.map.hasKey(config.tooltipColorSource)&&(config.tooltipColorSource=this.map.getKey(config.tooltipColorSource)),Type_hasValue(config.cursorOverStyle)&&isString(config.cursorOverStyle)&&(config.cursorOverStyle=this.getCursorStyle(config.cursorOverStyle)),Type_hasValue(config.cursorDowntyle)&&isString(config.cursorDowntyle)&&(config.cursorDowntyle=this.getCursorStyle(config.cursorDowntyle)),Type_hasValue(config.cursorOptions)&&(Type_hasValue(config.cursorOptions.overStyle)&&isString(config.cursorOptions.overStyle)&&(config.cursorOptions.overStyle=this.getCursorStyle(config.cursorOptions.overStyle)),Type_hasValue(config.cursorOptions.downStyle)&&isString(config.cursorOptions.downStyle)&&(config.cursorOptions.downStyle=this.getCursorStyle(config.cursorOptions.downStyle)))),_super.prototype.processConfig.call(this,config),this.processDelayedMap()},Sprite.prototype.getCursorStyle=function(style){switch(style){case"grab":return MouseCursorStyle.grab;case"grabbing":return MouseCursorStyle.grabbing;case"pointer":return MouseCursorStyle.pointer;case"horizontalResize":return MouseCursorStyle.horizontalResize;case"verticalResize":return MouseCursorStyle.verticalResize;default:return MouseCursorStyle.default}},Sprite.prototype.configOrder=function(a,b){return a==b?0:"tooltipColorSource"==a?1:"tooltipColorSource"==b?-1:_super.prototype.configOrder.call(this,a,b)},Object.defineProperty(Sprite.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(value){value=toBoolean(value),this.setShowOnInit(value)},enumerable:!0,configurable:!0}),Sprite.prototype.setShowOnInit=function(value){this.setPropertyValue("showOnInit",value)&&(this.isTemplate||(!value||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Disposer_MultiDisposer([Registry_registry.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},Sprite.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},Sprite.prototype.appear=function(){var _this=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var animation=this.show();animation&&!animation.isFinished()?this.addDisposer(animation.events.on("animationended",(function(){_this.appeared=!0,_this.dispatch("appeared")}))):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(Sprite.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(value){value=toBoolean(value),this.setPropertyValue("hidden",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(Sprite.prototype,"plugins",{get:function(){var _this=this;return this._plugins||(this._plugins=new List_List,this._disposers.push(this._plugins.events.on("inserted",(function(ev){ev.newValue.target=_this,ev.newValue.init()}))),this._disposers.push(new List_ListDisposer(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),Sprite.prototype._systemUpdate=function(skippedSprites){this.validate()},Sprite.prototype._systemCheckIfValidate=function(){return!0},Sprite.prototype._systemValidatePositions=function(){this.validatePosition()},Sprite.prototype._systemValidateLayouts=function(){},Sprite}(Base_BaseObjectEvents);Registry_registry.registeredClasses.Sprite=Sprite_Sprite;var Rectangle_Rectangle=function(_super){function Rectangle(){var _this=_super.call(this)||this;return _this.className="Rectangle",_this.element=_this.paper.add("rect"),_this.applyTheme(),_this}return Object(tslib_es6.d)(Rectangle,_super),Rectangle.prototype.draw=function(){_super.prototype.draw.call(this);var precision=this._positionPrecision;this.pixelPerfect&&(precision=0);var w=Math_round(this.innerWidth,precision),h=Math_round(this.innerHeight,precision);this.element.attr({width:w,height:h})},Rectangle.prototype.measureElement=function(){},Object.defineProperty(Rectangle.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Rectangle}(Sprite_Sprite);Registry_registry.registeredClasses.Rectangle=Rectangle_Rectangle;var Container_Container=function(_super){function Container(){var _this=_super.call(this)||this;return _this._childrenByLayout=[],_this._childrenDisposers=new Dictionary_Dictionary,_this.hasFocused=!1,_this.setStateOnSprites=[],_this.layoutInvalid=!1,_this._absoluteWidth=0,_this._absoluteHeight=0,_this._shouldBeReady=[],_this._tapToActivate=!1,_this.tapTimeout=3e3,_this.className="Container",_this._element=_this.paper.addGroup("g"),_this.group.add(_this.element),_this.setPropertyValue("pixelPerfect",!1),_this.setPropertyValue("layout","absolute"),_this.setPropertyValue("fixedWidthGrid",!1),_this.setPropertyValue("verticalCenter","none"),_this.setPropertyValue("horizontalCenter","none"),_this._positionPrecision=4,_this._disposers.push(new Dictionary_DictionaryDisposer(_this._childrenDisposers)),_this.children.events.on("inserted",_this.handleChildAdded,_this),_this.children.events.on("removed",_this.handleChildRemoved,_this),_this.applyTheme(),_this}return Object(tslib_es6.d)(Container,_super),Container.prototype.handleChildAdded=function(event){this.processChild(event.newValue)},Container.prototype.processChild=function(child){try{this._childrenDisposers.insertKey(child.uid,new Disposer_MultiDisposer([child.events.on("transformed",this.handleChildTransform,this),child.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(err){}this.element&&this.element.add(child.group);child.parent=this,child.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:child}),this.invalidate()},Container.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},Container.prototype.handleChildRemoved=function(event){var child=event.oldValue;(this._childrenDisposers.removeKey(child.uid),this.element)&&this.element.removeElement(child.group);child.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:child})},Container.prototype.handleChildTransform=function(event){event.target.isMeasured&&this.invalidateLayout()},Container.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,Registry_registry.addToInvalidLayouts(this),system.requestFrame())},Container.prototype.invalidate=function(){_super.prototype.invalidate.call(this),this.invalidateLayout()},Container.prototype.deepInvalidate=function(){_super.prototype.invalidate.call(this),each(this._childrenByLayout,(function(child){child instanceof Container?child.deepInvalidate():child.invalidate()})),this.invalidateLayout()},Object.defineProperty(Container.prototype,"children",{get:function(){return this._children||(this._children=new List_List),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(value){this.setPropertyValue("minWidth",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(value){this.setPropertyValue("minHeight",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Container.prototype.removeElement=function(){},Container.prototype.sortChildren=function(){var _this=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var fixed_1=[],relative_1=[];Iterator_each(this.children.iterator(),(function(child){"horizontal"==_this.layout||"grid"==_this.layout?isNumber(child.percentWidth)?relative_1.push(child):fixed_1.push(child):"vertical"==_this.layout&&isNumber(child.percentHeight)?relative_1.push(child):fixed_1.push(child)})),this._childrenByLayout=fixed_1.concat(relative_1)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},Container.prototype.calculateRelativeSize=function(){var _this=this,totalRelativeWidth=0,totalRelativeHeight=0;each(this._childrenByLayout,(function(child){child.isMeasured&&(isNumber(child.percentWidth)&&(totalRelativeWidth+=child.percentWidth),isNumber(child.percentHeight)&&(totalRelativeHeight+=child.percentHeight))})),each(this._childrenByLayout,(function(child){child.isMeasured&&("horizontal"==_this.layout&&(isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/totalRelativeWidth),isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100)),"vertical"==_this.layout&&(isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/totalRelativeHeight),isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100)),"grid"==_this.layout&&(isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100),isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100))),"absolute"!=_this.layout&&child.isMeasured||(isNumber(child.percentWidth)&&(child.relativeWidth=child.percentWidth/100),isNumber(child.percentHeight)&&(child.relativeHeight=child.percentHeight/100))}))},Container.prototype.addChildren=function(){if(this.element){var zindexed=Array_copy(this.children.values),sortArray=zindexed.map((function(data,idx){return{idx:idx,data:data}}));sortArray.sort((function(a,b){var ai=a.data.zIndex||0,bi=b.data.zIndex||0;return ai<bi?-1:ai>bi?1:a.idx-b.idx})),zindexed=sortArray.map((function(val){return val.data}));var group_1=this.element,isCorrect=!0;if(group_1.node&&group_1.node.childNodes)for(var i=0,len=group_1.node.childNodes.length;i<len;i++)if(group_1.node.childNodes[i]!=zindexed[i].group.node){isCorrect=!1;break}isCorrect||(each(zindexed,(function(child){child.group&&group_1.add(child.group)})),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},Container.prototype.createChild=function(classType){var sprite=new classType;return sprite.parent=this,sprite},Container.prototype.removeChildren=function(){for(;this.children.length>0;){var child=this.children.getIndex(0);child.parent=void 0,this.children.removeValue(child)}},Container.prototype.disposeChildren=function(){for(;this.children.length>0;){var child=this.children.getIndex(0);child.dispose(),this.children.removeValue(child)}},Object.defineProperty(Container.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(background){this._background&&this.background!=background&&this.removeDispose(this._background),background&&(this._background=background,this._disposers.push(background),this.processBackground())},enumerable:!0,configurable:!0}),Container.prototype.handleGlobalScale=function(){_super.prototype.handleGlobalScale.call(this),this.children.each((function(child){child.handleGlobalScale()}))},Container.prototype.createBackground=function(){return new Rectangle_Rectangle},Container.prototype.processBackground=function(){var background=this._background;background&&(background.isMeasured=!1,this._background.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("background"),background.parent=this,background.isMeasured=!1,this.children.removeValue(background),this._disposers.push(background),this.group.addToBack(this._background.group))},Container.prototype.validateLayout=function(){var _this=this;Registry_registry.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var measuredWidth=0,measuredHeight=0,allValid=!0;this.children&&(this.sortChildren(),each(this._childrenByLayout,(function(child){var maxWidth,maxHeight;if(isNumber(child.relativeWidth)?(maxWidth=Math_round(_this._availableWidth*child.relativeWidth,2),"horizontal"==_this.layout&&(maxWidth-=child.pixelMarginRight+child.pixelMarginLeft)):"horizontal"==_this.layout&&child.invalid&&child.validate(),isNumber(child.relativeHeight)?(maxHeight=Math_round(_this._availableHeight*child.relativeHeight,2),"vertical"==_this.layout&&(maxHeight-=child.pixelMarginTop+child.pixelMarginBottom)):"vertical"==_this.layout&&child.invalid&&child.validate(),0==child.invalid){if(isNumber(child.relativeWidth)&&(child.maxWidth=maxWidth),isNumber(child.relativeHeight)&&(child.maxHeight=maxHeight),child.isMeasured){"horizontal"==_this.layout&&(isNumber(child.percentWidth)||child.measuredWidth>0&&(_this._availableWidth-=child.measuredWidth+child.pixelMarginLeft+child.pixelMarginRight)),"vertical"==_this.layout&&(isNumber(child.percentHeight)||child.measuredHeight>0&&(_this._availableHeight-=child.measuredHeight+child.pixelMarginTop+child.pixelMarginBottom));var childMeasuredWidth=child.measuredWidth,childMeasuredHeight=child.measuredHeight;"none"!=child.align&&(childMeasuredWidth+=child.pixelMarginLeft+child.pixelMarginRight),"none"!=child.valign&&(childMeasuredHeight+=child.pixelMarginTop+child.pixelMarginBottom),measuredWidth=Math.max(measuredWidth,childMeasuredWidth),measuredHeight=Math.max(measuredHeight,childMeasuredHeight)}}else child.isMeasured&&(isNumber(child.relativeWidth)&&child.maxWidth!=maxWidth&&(child.maxWidth=maxWidth,allValid=!1),isNumber(child.relativeHeight)&&child.maxHeight!=maxHeight&&(child.maxHeight=maxHeight,allValid=!1))}))),this._absoluteWidth=measuredWidth,this._absoluteHeight=measuredHeight,allValid&&this.arrange()},Container.prototype.arrange=function(){var left,right,top,bottom,maxCellWidth,minCellWidth,columnCount,contentLeft,contentRight,contentTop,contentBottom,_this=this,children=this.children,measuredWidth=0,measuredHeight=0,innerWidth=Math_max(this.innerWidth,this._absoluteWidth),innerHeight=Math_max(this.innerHeight,this._absoluteHeight),paddingLeft=this.pixelPaddingLeft,paddingRight=this.pixelPaddingRight,paddingTop=this.pixelPaddingTop,paddingBottom=this.pixelPaddingBottom,nextX=0,nextY=0,row=0,column=0,columnWidth=[],rowHeight=[],maxWidth=this.maxWidth,maxHeight=this.maxHeight,minWidth=this.minWidth,minHeight=this.minHeight,childrenCopy=Array_copy(children.values);if(this.reverseOrder&&childrenCopy.reverse(),"grid"==this.layout){minCellWidth=maxWidth,maxCellWidth=1;for(var i=0,len=childrenCopy.length;i<len;i++){if((child=childrenCopy[i]).isMeasured&&!child.disabled&&!child.__disabled){var childMeasuredWidth=child.measuredWidth;childMeasuredWidth<minCellWidth&&(minCellWidth=childMeasuredWidth),childMeasuredWidth>maxCellWidth&&(maxCellWidth=childMeasuredWidth)}}minCellWidth=fitToRange(minCellWidth,1,maxWidth),maxCellWidth=fitToRange(maxCellWidth,1,maxWidth),columnCount=this.fixedWidthGrid?maxWidth/maxCellWidth:maxWidth/minCellWidth,columnCount=Math_max(1,Math.floor(columnCount)),columnCount=Math_min(this.maxColumns,columnCount),columnWidth=this.getColumnWidth(childrenCopy,columnCount,maxCellWidth)}for(i=0,len=childrenCopy.length;i<len;i++){var child;if(!(child=childrenCopy[i]).isMeasured||child.disabled||child.__disabled)child.validatePosition();else{var x=void 0,y=void 0,childMarginLeft=child.pixelMarginLeft,childMarginRight=child.pixelMarginRight,childMarginTop=child.pixelMarginTop,childMarginBottom=child.pixelMarginBottom,childWidth=child.measuredWidth,childHeight=child.measuredHeight,childLeft=void 0,childRight=void 0,childTop=void 0,childBottom=void 0;switch(this.layout){case"none":break;case"absolute":switch(child.align){case"left":x=childMarginLeft-child.maxLeft;break;case"center":x=(innerWidth-childWidth)/2-child.maxLeft;break;case"right":x=innerWidth-childMarginRight-child.maxRight;break;default:child.x instanceof Percent||(x=child.pixelX)}switch(child.valign){case"top":y=childMarginTop-child.maxTop;break;case"middle":y=(innerHeight-childHeight)/2-child.maxTop;break;case"bottom":y=innerHeight-childMarginBottom-child.maxBottom;break;default:child.y instanceof Percent||(y=child.pixelY)}break;case"vertical":switch(child.align){case"left":x=childMarginLeft-child.maxLeft;break;case"center":x=(innerWidth-childWidth)/2-child.maxLeft;break;case"right":x=innerWidth-childMarginRight-child.maxRight;break;default:x=child.pixelX}nextY=(y=nextY+childMarginTop-child.maxTop)+child.maxBottom+childMarginBottom;break;case"horizontal":switch(child.valign){case"top":y=childMarginTop-child.maxTop;break;case"middle":y=(innerHeight-childHeight)/2-child.maxTop;break;case"bottom":y=innerHeight-childMarginBottom-child.maxBottom;break;default:y=child.pixelY}nextX=(x=nextX+childMarginLeft-child.maxLeft)+child.maxRight+childMarginRight;break;case"grid":switch(x=nextX+childMarginLeft-child.maxLeft,child.valign){case"top":y=nextY+childMarginTop-child.maxTop;break;case"middle":y=nextY+(innerHeight-childHeight)/2-child.maxTop;break;case"bottom":y=nextY+innerHeight-childMarginBottom-child.maxBottom;break;default:y=nextY-child.maxTop}nextX+=columnWidth[column],rowHeight[row]=Math_max(rowHeight[row],childHeight);var nextColumnWidth=columnWidth[++column];if(isNumber(nextColumnWidth)||(nextColumnWidth=maxCellWidth),nextX>Math_min(this.innerWidth,maxWidth)-nextColumnWidth+1&&column<columnCount){columnCount=column,nextX=0,nextY=0,row=0,column=0,columnWidth=this.getColumnWidth(childrenCopy,columnCount,maxCellWidth),rowHeight=[],i=-1;continue}column>=columnCount&&(column=0,nextY+=rowHeight[row],row++,nextX=0)}"none"!==this.layout&&(child.moveTo({x:x,y:y}),childLeft=x+child.maxLeft-childMarginLeft,childRight=x+child.maxRight+childMarginRight,childTop=y+child.maxTop-childMarginTop,childBottom=y+child.maxBottom+childMarginBottom,(childRight>right||!isNumber(right))&&(right=childRight),(childLeft<left||!isNumber(left))&&(left=childLeft),(childTop<top||!isNumber(top))&&(top=childTop),(childBottom>bottom||!isNumber(bottom))&&(bottom=childBottom),(childRight>contentRight||!isNumber(contentRight))&&(contentRight=childRight),(childLeft<contentLeft||!isNumber(contentLeft))&&(contentLeft=childLeft),(childTop<contentTop||!isNumber(contentTop))&&(contentTop=childTop),(childBottom>contentBottom||!isNumber(contentBottom))&&(contentBottom=contentBottom))}}if("none"==this.layout){var noneBBox=this.bbox;left=noneBBox.x,right=noneBBox.x+noneBBox.width,top=noneBBox.y,bottom=noneBBox.y+noneBBox.height}isNumber(left)||(left=0,contentLeft=0),isNumber(right)||(contentRight=right=this._availableWidth),isNumber(top)||(top=0,contentTop=0),isNumber(bottom)||(contentBottom=bottom=this._availableHeight),isNumber(contentTop)||(contentTop=0),isNumber(contentBottom)||(contentBottom=contentTop),isNumber(contentLeft)||(contentLeft=0),isNumber(contentRight)||(contentRight=contentLeft),measuredWidth=right-left,measuredHeight=bottom-top,isNumber(this.relativeWidth)&&(left=0,right=measuredWidth=maxWidth-paddingLeft-paddingRight),isNumber(this.relativeHeight)&&(top=0,bottom=measuredHeight=maxHeight-paddingTop-paddingBottom),isNumber(this._pixelWidth)&&(left=0,measuredWidth=this._pixelWidth-paddingLeft-paddingRight),isNumber(minWidth)&&measuredWidth<minWidth&&(left=0,measuredWidth=this.minWidth-paddingLeft-paddingRight),isNumber(this._pixelHeight)&&(top=0,measuredHeight=this._pixelHeight-paddingTop-paddingBottom),isNumber(minHeight)&&measuredHeight<minHeight&&(top=0,measuredHeight=minHeight-paddingTop-paddingBottom);var measuredContentWidth=contentRight-contentLeft,measuredContentHeight=contentBottom-contentTop;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&children.length>0){var dx_1,dy_1,mwa=measuredWidth,mha=measuredHeight;mwa<measuredContentWidth&&(mwa=measuredContentWidth),mha<measuredContentHeight&&(mha=measuredContentHeight),"center"==this.contentAlign&&(dx_1=(mwa-measuredContentWidth)/2),"right"==this.contentAlign&&(dx_1=mwa-measuredContentWidth),"middle"==this.contentValign&&(dy_1=(mha-measuredContentHeight)/2),"bottom"==this.contentValign&&(dy_1=mha-measuredContentHeight),isNumber(dx_1)&&Iterator_each(children.iterator(),(function(child){var childLeft=child.maxLeft,ddx=dx_1;"horizontal"==_this.layout&&(child.x=child.pixelX+ddx),"grid"==_this.layout&&(child.x=child.pixelX+ddx),"vertical"==_this.layout&&(ddx+=child.pixelMarginLeft,"none"==child.align&&(child.x=ddx-childLeft)),"absolute"==_this.layout&&(ddx+=child.pixelMarginLeft,"none"==child.align&&(child.x=ddx-childLeft))})),isNumber(dy_1)&&Iterator_each(children.iterator(),(function(child){var childTop=child.maxTop,ddy=dy_1;"horizontal"==_this.layout&&(ddy+=child.pixelMarginTop,"none"==child.valign&&(child.y=ddy-childTop)),"grid"==_this.layout&&(ddy+=child.pixelMarginTop,child.y=ddy-childTop),"vertical"==_this.layout&&(child.y=child.pixelY+ddy),"absolute"==_this.layout&&(ddy+=child.pixelMarginTop,"none"==child.valign&&(child.y=ddy-childTop))}))}var oldBBox=this.bbox;measuredWidth=Math_max(measuredWidth,minWidth),measuredHeight=Math_max(measuredHeight,minHeight),this.contentWidth=measuredWidth,this.contentHeight=measuredHeight,measuredWidth=Math_min(measuredWidth,maxWidth),measuredHeight=Math_min(measuredHeight,maxHeight),this._bbox={x:left,y:top,width:measuredWidth,height:measuredHeight};var prevLeft=this.maxLeft,prevTop=this.maxTop,prevBotttom=this.maxBottom,prevRight=this.maxRight;if(this.measure(),(prevLeft!=this.maxLeft||prevRight!=this.maxRight||prevTop!=this.maxTop||prevBotttom!=this.maxBottom)&&this.events.isEnabled("transformed")){var event_1={type:"transformed",target:this};oldBBox&&(event_1.dummyData=oldBBox.width+" "+measuredWidth+"  "+oldBBox.height+" "+measuredHeight),this.events.dispatchImmediately("transformed",event_1)}this.dispatchImmediately("layoutvalidated")},Container.prototype.updateCenter=function(){_super.prototype.updateCenter.call(this),this.updateBackground()},Container.prototype.updateBackground=function(){var background=this._background;background&&(background.x=this.maxLeft,background.y=this.maxTop,background.width=this.maxRight-this.maxLeft,background.height=this.maxBottom-this.maxTop)},Container.prototype.getColumnWidth=function(children,columnCount,maxCellWidth){var _this=this,columnWidth=[],column=0;return each(children,(function(child){!child.isMeasured||child.disabled||child.__disabled||(_this.fixedWidthGrid?columnWidth[column]=maxCellWidth:columnWidth[column]=Math_max(columnWidth[column],child.measuredWidth+child.pixelMarginRight+child.pixelMarginLeft),++column==columnCount&&(column=0))})),columnWidth},Object.defineProperty(Container.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(value){this.setPropertyValue("layout",value)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(value){this.setPropertyValue("contentValign",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(value){this.setPropertyValue("contentAlign",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(value){this.setPropertyValue("fixedWidthGrid",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(value){this.setPropertyValue("maxColumns",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(value){this.setPropertyValue("reverseOrder",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(value){this.setPropertyValue("setStateOnChildren",value,!0)},enumerable:!0,configurable:!0}),Container.prototype.fitsToBounds=function(point){var x=point.x,y=point.y;return x>=-.5&&x<=this.pixelWidth+.5&&y>=-.5&&y<=this.pixelHeight+.5},Container.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),this.layout=source.layout,this.setStateOnChildren=source.setStateOnChildren,source._background&&(this.background=source._background.clone(),this.background.copyFrom(source._background)),Iterator_each(source.children.iterator(),(function(child){child.shouldClone&&(child.clone().parent=_this)}))},Object.defineProperty(Container.prototype,"preloader",{get:function(){var preloader=this._preloader;return preloader||(this.parent?this.parent.preloader:void 0)},set:function(preloader){this._preloader&&this.removeDispose(this._preloader),this._preloader=preloader,preloader&&(preloader.parent=this.tooltipContainer,this._disposers.push(preloader))},enumerable:!0,configurable:!0}),Container.prototype.setPaper=function(paper){var _this=this,changed=_super.prototype.setPaper.call(this,paper);return changed&&(this._background&&(this._background.paper=paper,this._background.topParent=this.topParent),this.children.each((function(child){child.setPaper(paper),child.topParent=_this.topParent}))),changed},Container.prototype.removeFromInvalids=function(){_super.prototype.removeFromInvalids.call(this),Registry_registry.removeFromInvalidLayouts(this)},Container.prototype.setDataItem=function(dataItem){this._dataItem!=dataItem&&(Iterator_each(this.children.iterator(),(function(child){child.dataItem=dataItem})),this._background&&(this._background.dataItem=dataItem)),_super.prototype.setDataItem.call(this,dataItem)},Container.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(Container.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(value){this.setPropertyValue("fontFamily",value,!0)&&(this.setSVGAttribute({"font-family":value}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(value){this.setPropertyValue("fontSize",value,!0)&&(this.setSVGAttribute({"font-size":value}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Container.prototype.invalidateLabels=function(){this.children.each((function(child){child.hardInvalidate?(child.hardInvalidate(),child.events.once("validated",child.handleValidate,child,!1)):child instanceof Container&&child.invalidateLabels()}))},Object.defineProperty(Container.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(value){this.setPropertyValue("fontWeight",value),this.setSVGAttribute({"font-weight":value})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(value){this.setPropertyValue("textDecoration",value),this.setSVGAttribute({"text-decoration":value})},enumerable:!0,configurable:!0}),Container.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),_super.prototype.dispose.call(this)},Container.prototype.setState=function(value,transitionDuration,easing){var stateName=value;return value instanceof SpriteState_SpriteState&&(stateName=value.name),this.setStateOnChildren&&Iterator_each(this.children.iterator(),(function(child){child.setState(stateName,transitionDuration,easing),"active"!=stateName&&(child.isActive=!1)})),this._background&&this._background.setState(stateName),this.setStateOnSprites.length&&each(this.setStateOnSprites,(function(item){item.setState(stateName,transitionDuration,easing)})),_super.prototype.setState.call(this,value,transitionDuration,easing)},Container.prototype.setActive=function(value){_super.prototype.setActive.call(this,value),this._background&&(this._background.isActive=value)},Container.prototype.dispatchReady=function(){var _this=this;if(!this.isReady()&&!this.isDisposed()){var allReady_1=!0;Iterator_eachContinue(this.children.iterator(),(function(sprite){return!!(sprite.__disabled||sprite.disabled||sprite.isReady())||(allReady_1=!1,!1)})),eachContinue(this._shouldBeReady,(function(sprite){return!!(sprite.__disabled||sprite.disabled||sprite.isReady())||(allReady_1=!1,!1)})),allReady_1?_super.prototype.dispatchReady.call(this):Registry_registry.events.once("exitframe",(function(){_this.dispatchReady(),system.requestFrame()}),void 0,!1)}},Container.prototype._systemUpdate=function(skippedSprites){this.children.each((function(child){child.invalid&&(child._systemCheckIfValidate()?child.dataItem&&child.dataItem.component&&child.dataItem.component.dataInvalid?skippedSprites.push(child):child.validate():skippedSprites.push(child))})),_super.prototype._systemUpdate.call(this,skippedSprites)},Container.prototype._systemValidatePositions=function(){this.children.each((function(sprite){sprite.positionInvalid&&sprite.validatePosition()})),_super.prototype._systemValidatePositions.call(this)},Container.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(Container.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(value){this._tapToActivate!=value&&this.setTapToActivate(value)},enumerable:!0,configurable:!0}),Container.prototype.setTapToActivate=function(value){var _this=this;this._tapToActivate=value,this.interactions.isTouchProtected=value,value&&this.interactions.setEventDisposer("container-tapToActivate",value,(function(){return new Disposer_MultiDisposer([_this.events.on("hit",_this.handleTapToActivate,_this,!1),_this.events.on("down",_this.initTapTimeout,_this,!1),_this.events.on("track",_this.initTapTimeout,_this,!1),getInteraction().body.events.on("down",(function(ev){getInteraction().isLocalElement(ev.pointer,_this.paper.svg,_this.uid)||_this.handleTapToActivateDeactivation()}),_this,!1)])})),getInteraction()},Container.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},Container.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},Container.prototype.initTapTimeout=function(){var _this=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout((function(){_this.handleTapToActivateDeactivation()}),this.tapTimeout))},Container.prototype.moveHtmlContainer=function(htmlElement){var newContainer=getElement(htmlElement);if(newContainer){this.htmlContainer=newContainer;var svgDiv=this.svgContainer;svgDiv.htmlElement=newContainer,svgDiv.htmlElement.appendChild(svgDiv.SVGContainer),svgDiv.initSensor(),svgDiv.measure()}else isString(htmlElement)&&""!=htmlElement&&system.log("html container '"+htmlElement+"' not found")},Container.prototype.hasLicense=function(){if(Options_options.commercialLicense)return!0;for(var i=0;i<Options_options.licenses.length;i++)if(Options_options.licenses[i].match(/^CH.{5,}/i))return!0;return!1},Container}(Sprite_Sprite);Registry_registry.registeredClasses.Container=Container_Container;var system=new(function(){function System(){this._isPaused=!1,this.animations=[],this.uid=Registry_registry.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return System.prototype.reportTime=function(msg,reset){this.dummyCounter,reset&&(this.time=Date.now())},System.prototype.update=function(){var _this=this;if(!this._isPaused){this._frameRequested=!1;var time=Date.now();Registry_registry.dispatchImmediately("enterframe");for(var key in Registry_registry.invalidDatas)if(hasKey(Registry_registry.invalidDatas,key)){for(var invalidData=Registry_registry.invalidDatas[key];invalidData.length>0;){var dataProvider=(component=invalidData[0]).dataProvider;if(component.isDisposed())Array_remove(invalidData,component);else if(dataProvider&&dataProvider.dataInvalid)try{if(dataProvider.validateData(),dataProvider.dataValidationProgress<1)break}catch(e){Array_remove(invalidData,dataProvider),dataProvider.raiseCriticalError(e)}else try{if(component.validateData(),component.dataValidationProgress<1)break}catch(e){Array_remove(invalidData,component),component.raiseCriticalError(e)}}if(Date.now()-time>this.updateStepDuration)break}for(;Registry_registry.invalidRawDatas.length>0;){if((component=Registry_registry.invalidRawDatas[0]).isDisposed())Array_remove(Registry_registry.invalidRawDatas,component);else try{component.validateRawData()}catch(e){Array_remove(Registry_registry.invalidRawDatas,component),component.raiseCriticalError(e)}}for(;Registry_registry.invalidDataItems.length>0;){dataProvider=(component=Registry_registry.invalidDataItems[0]).dataProvider;if(component.isDisposed()||component.dataInvalid||dataProvider&&dataProvider.dataInvalid);else try{component.validateDataItems()}catch(e){Array_remove(Registry_registry.invalidDataItems,component),component.raiseCriticalError(e)}Array_remove(Registry_registry.invalidDataItems,component)}for(;Registry_registry.invalidDataRange.length>0;){var component;dataProvider=(component=Registry_registry.invalidDataRange[0]).dataProvider;if(component.isDisposed()||component.dataInvalid||dataProvider&&dataProvider.dataInvalid);else try{component.validateDataRange(),component.skipRangeEvent||component.dispatchImmediately("datarangechanged"),component.skipRangeEvent=!1}catch(e){Array_remove(Registry_registry.invalidDataRange,component),component.raiseCriticalError(e)}Array_remove(Registry_registry.invalidDataRange,component)}var skippedSprites=[];Object_each(Registry_registry.invalidLayouts,(function(key){_this.validateLayouts(key)})),Object_each(Registry_registry.invalidPositions,(function(key){_this.validatePositions(key)}));var hasSkipped=!1;if(time=Date.now(),Object_each(Registry_registry.invalidSprites,(function(key,invalidSprites){for(var count=0;invalidSprites.length>0;){if(_this.validateLayouts(key),_this.validatePositions(key),5==++count){if(Date.now()-time>_this.updateStepDuration)break;count=0}var sprite=invalidSprites[invalidSprites.length-1];if(sprite&&!sprite.isDisposed()){if(sprite._systemCheckIfValidate())if(_this.checkIfValidate2(sprite))try{sprite._systemUpdate(skippedSprites)}catch(e){sprite.invalid=!1,Array_remove(invalidSprites,sprite),sprite.raiseCriticalError(e)}else skippedSprites.push(sprite);else skippedSprites.push(sprite);sprite.invalid=!1}Array_remove(invalidSprites,sprite)}Registry_registry.invalidSprites[key]=Registry_registry.invalidSprites[key].concat(skippedSprites)})),Object_each(Registry_registry.invalidSprites,(function(key,value){value.length>0&&(hasSkipped=!0)})),Object_each(Registry_registry.invalidDatas,(function(key,value){value.length>0&&(hasSkipped=!0)})),each(Array_copy(this.animations),(function(x){x.update()})),Object_each(Registry_registry.invalidLayouts,(function(key){_this.validateLayouts(key)})),Object_each(Registry_registry.invalidPositions,(function(key){_this.validatePositions(key)})),function(){for(var now=Date.now(),length=idleQueue.length,i=0;i<length;++i)idleQueue.shift()(now)}(),Object_each(Registry_registry.invalidLayouts,(function(key){_this.validateLayouts(key)})),Object_each(Registry_registry.invalidPositions,(function(key){_this.validatePositions(key)})),Registry_registry.dispatchImmediately("exitframe"),(hasSkipped||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var all0_1=!0;Object_each(Registry_registry.invalidDatas,(function(key,value){value.length>0&&(all0_1=!1)})),Object_each(Registry_registry.invalidSprites,(function(key,value){value.length>0&&(all0_1=!1)})),all0_1&&(this.updateStepDuration=200)}}},System.prototype.checkIfValidate2=function(sprite){return!(sprite.dataItem&&sprite.dataItem.component&&sprite.dataItem.component.dataInvalid&&!sprite.dataItem.component.isTemplate)},System.prototype.requestFrame=function(){var _this=this;this._frameRequested||(raf((function(){_this.update()})),this._frameRequested=!0)},System.prototype.softInvalidate=function(container){var _this=this;container.children.each((function(child){child instanceof Container_Container&&_this.softInvalidate(child),child.measureFailed&&(is(child,"Label")?child.hardInvalidate():child.invalidate(),child.measureFailed=!1)}))},System.prototype.validatePositions=function(id){for(var invalidPositions=Registry_registry.invalidPositions[id];invalidPositions.length>0;){var sprite=invalidPositions[invalidPositions.length-1];if(sprite.isDisposed())Array_remove(invalidPositions,sprite);else try{sprite._systemValidatePositions()}catch(e){sprite.positionInvalid=!1,Array_remove(invalidPositions,sprite),sprite.raiseCriticalError(e)}}},System.prototype.validateLayouts=function(id){for(var invalidLayouts=Registry_registry.invalidLayouts[id];invalidLayouts.length>0;){var container=invalidLayouts[invalidLayouts.length-1];if(container.isDisposed())Array_remove(invalidLayouts,container);else try{container.children.each((function(sprite){sprite._systemValidateLayouts()})),container.validateLayout()}catch(e){container.layoutInvalid=!1,Array_remove(invalidLayouts,container),container.raiseCriticalError(e)}}},System.prototype.log=function(value){!function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i]=arguments[_i];Options_options.verbose&&console&&console.log.apply(console,Object(tslib_es6.j)(messages))}(value)},Object.defineProperty(System.prototype,"isPaused",{get:function(){return this._isPaused},set:function(value){this._isPaused=value,value||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),System.VERSION="4.10.4",System}()),DataParser_DataParser=function(){function DataParser(){}return DataParser.prototype.parse=function(data){return[]},Object.defineProperty(DataParser.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),DataParser.prototype.maybeToNumber=function(field,value){return-1!==this.options.numberFields.indexOf(field)?anyToNumber(value):value},Object.defineProperty(DataParser.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),DataParser.prototype.maybeToDate=function(field,value){return-1!==this.options.dateFields.indexOf(field)?this.options.dateFormatter.parse(value,this.dateFormat):value},DataParser.prototype.maybeToEmpty=function(value){return Type_hasValue(value)&&""!=value||!Type_hasValue(this.options.emptyAs)?value:this.options.emptyAs},Object.defineProperty(DataParser.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new DateFormatter_DateFormatter,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(DataParser.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),DataParser}(),separators=[",",";","\t"],CSVParser_CSVParser=function(_super){function CSVParser(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.contentType="text/csv",_this.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},_this}return Object(tslib_es6.d)(CSVParser,_super),CSVParser.isCSV=function(data){return!!CSVParser.getDelimiterFromData(data)},CSVParser.getDelimiterFromData=function(data){var separator,lines=data.split("\n"),len=lines.length;return each(separators,(function(sep){for(var columns=0,lineColums=0,i=0;i<len;++i){if(!((columns=lines[i].split(sep).length)>1)){lineColums=0;break}if(0===lineColums)lineColums=columns;else if(columns!=lineColums){lineColums=0;break}}lineColums&&(separator=sep)})),separator},CSVParser.prototype.parse=function(csv){this.options.delimiter||(this.options.delimiter=CSVParser.getDelimiterFromData(csv));var col,i,row,data=this.CSVToArray(csv,this.options.delimiter),empty=Type_hasValue(this.options.emptyAs),numbers=this.parsableNumbers,dates=this.parsableDates,res=[],cols=[];for(i=0;i<this.options.skipRows;i++)data.shift();if(this.options.useColumnNames){cols=data.shift();for(var x=0;x<cols.length;x++)""===(col=Type_hasValue(cols[x])?cols[x].replace(/^\s+|\s+$/gm,""):"")&&(col="col"+x),cols[x]=col}for(;row=this.options.reverse?data.pop():data.shift();)if(!this.options.skipEmpty||1!==row.length||""!==row[0]){var dataPoint={};for(i=0;i<row.length;i++)dataPoint[col=void 0===cols[i]?"col"+i:cols[i]]=""===row[i]?this.options.emptyAs:row[i],empty&&(dataPoint[col]=this.maybeToEmpty(dataPoint[col])),numbers&&(dataPoint[col]=this.maybeToNumber(col,dataPoint[col])),dates&&(dataPoint[col]=this.maybeToDate(col,dataPoint[col]));res.push(dataPoint)}return res},CSVParser.prototype.CSVToArray=function(data,delimiter){delimiter=delimiter||",";for(var objPattern=new RegExp("(\\"+delimiter+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+delimiter+"\\r\\n]*))","gi"),arrData=[[]],arrMatches=null;arrMatches=objPattern.exec(data);){var strMatchedDelimiter=arrMatches[1];strMatchedDelimiter.length&&strMatchedDelimiter!==delimiter&&arrData.push([]);var strMatchedValue=void 0;strMatchedValue=arrMatches[2]?arrMatches[2].replace(new RegExp('""',"g"),'"'):arrMatches[3],arrData[arrData.length-1].push(strMatchedValue)}return arrData},CSVParser}(DataParser_DataParser),JSONParser_JSONParser=function(_super){function JSONParser(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.contentType="application/json",_this.options={},_this}return Object(tslib_es6.d)(JSONParser,_super),JSONParser.isJSON=function(data){try{return JSON.parse(data),!0}catch(e){return!1}},JSONParser.prototype.parse=function(data){var res,_this=this;try{Type_hasValue(JSON)&&(res=JSON.parse(data))}catch(e){return}var empty=Type_hasValue(this.options.emptyAs),numbers=this.parsableNumbers,dates=this.parsableDates;if(Array.isArray(res)&&(numbers||dates||empty))for(var _loop_1=function(i,len){var row=res[i];Object_each(row,(function(key,value){empty&&(row[key]=_this.maybeToEmpty(row[key])),numbers&&(row[key]=_this.maybeToNumber(key,row[key])),dates&&(row[key]=_this.maybeToDate(key,row[key]))}))},i=0,len=res.length;i<len;i++)_loop_1(i);return res},JSONParser}(DataParser_DataParser),dataLoader=new(function(){function DataLoader(){this.adapter=new Adapter_Adapter(this)}return DataLoader.prototype.load=function(source){var promises=Array_map(Array.isArray(source)?source:[source],(function(x){return x.dispatchImmediately("started"),x.dispatchImmediately("loadstarted"),Net_load(x.url,x,x.requestOptions)}));Promise.all(promises).then((function(res){each(res,(function(result){var source=result.target;source.dispatchImmediately("loadended"),result.error?source.events.isEnabled("error")&&source.events.dispatchImmediately("error",{type:"error",code:result.xhr.status,message:source.language.translate("Unable to load file: %1",null,source.url),target:source}):source.processData(result.response,result.type),source.dispatchImmediately("ended")}))})).catch((function(res){res.target&&(res.target.dispatchImmediately("loadended"),res.target.events.isEnabled("error")&&res.target.events.dispatchImmediately("error",{type:"error",code:res.xhr.status,message:res.target.language.translate("Unable to load file: %1",null,res.target.url),target:res.target}),res.target.dispatchImmediately("ended"))}))},DataLoader.prototype.getParserByType=function(contentType){var parser=this.adapter.apply("getParserByType",{parser:null,type:contentType}).parser;return parser||("csv"==contentType||"text/csv"==contentType||"application/vnd.ms-excel"==contentType?new CSVParser_CSVParser:"json"==contentType||"application/json"==contentType?new JSONParser_JSONParser:void 0)},DataLoader.prototype.getParserByData=function(data,contentType){var parser=this.adapter.apply("getParserByData",{parser:null,data:data,type:contentType}).parser;if(!parser){if(parser=this.getParserByType(contentType))return parser;if(JSONParser_JSONParser.isJSON(data))return this.getParserByType("json");if(CSVParser_CSVParser.isCSV(data))return this.getParserByType("csv")}return parser},DataLoader}()),DataSource_DataSource=function(_super){function DataSource(url,parser){var _this=_super.call(this)||this;return _this.adapter=new Adapter_Adapter(_this),_this._requestOptions={},_this._incremental=!1,_this._incrementalParams={},_this._keepCount=!1,_this._updateCurrentData=!1,_this.showPreloader=!0,_this.className="DataSource",url&&(_this.url=url),parser&&(_this.parser="string"==typeof parser?dataLoader.getParserByType(parser):parser),_this}return Object(tslib_es6.d)(DataSource,_super),DataSource.prototype.processData=function(data,contentType){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=dataLoader.getParserByData(data,contentType),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",data))),!Type_hasValue(this.data)&&this.events.isEnabled("parseerror")){var event_2={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",event_2)}this.dispatchImmediately("parseended"),Type_hasValue(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var event_1={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",event_1)}this.dispatchImmediately("parseended")}},Object.defineProperty(DataSource.prototype,"url",{get:function(){var url=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(url=this.addUrlParams(url,this.incrementalParams)),this.adapter.apply("url",url)},set:function(value){this._url=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(value){this._requestOptions=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"parser",{get:function(){return this._parser||(this._parser=new JSONParser_JSONParser),this.adapter.apply("parser",this._parser)},set:function(value){this._parser=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(value){var _this=this;this._reloadFrequency!=value&&(this._reloadFrequency=value,value?Type_hasValue(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",(function(ev){_this._reloadTimeout=setTimeout((function(){_this.load()}),_this.reloadFrequency)}))):Type_hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(value){this._incremental=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(value){this._incrementalParams=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(value){this._keepCount=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(value){this._updateCurrentData=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Language_Language,this.language)},set:function(value){this._language=value},enumerable:!0,configurable:!0}),Object.defineProperty(DataSource.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new DateFormatter_DateFormatter,this.dateFormatter)},set:function(value){this._dateFormatter=value},enumerable:!0,configurable:!0}),DataSource.prototype.timestampUrl=function(url){var params={};return params[(new Date).getTime().toString()]="",this.addUrlParams(url,params)},DataSource.prototype.dispose=function(){_super.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),Type_hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},DataSource.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),dataLoader.load(this))},DataSource.prototype.addUrlParams=function(url,params){var join=url.match(/\?/)?"&":"?",add=[];return Object_each(params,(function(key,value){""!=value?add.push(key+"="+encodeURIComponent(value)):add.push(key)})),add.length?url+join+add.join("&"):url},DataSource.prototype.processConfig=function(config){Registry_registry.registeredClasses.json=JSONParser_JSONParser,Registry_registry.registeredClasses.JSONParser=JSONParser_JSONParser,Registry_registry.registeredClasses.csv=CSVParser_CSVParser,Registry_registry.registeredClasses.CSVParser=CSVParser_CSVParser,_super.prototype.processConfig.call(this,config)},DataSource}(Base_BaseObjectEvents),Responsive_Responsive=function(_super){function Responsive(){var _this=_super.call(this)||this;return _this._rules=new List_List,_this._appliedRules={},_this._appliedTargets=[],_this._useDefault=!0,_this.adapter=new Adapter_Adapter(_this),_this._enabled=!1,_this._responsiveDisposers=[],_this._noStates=[],_this.className="Responsive",_this.rules.events.on("inserted",(function(){_this.checkRules()}),!0),_this.rules.events.on("removed",(function(){_this.checkRules()}),!0),_this._disposers.push(_this.rules.events),_this.applyTheme(),_this}return Object(tslib_es6.d)(Responsive,_super),Object.defineProperty(Responsive.prototype,"component",{get:function(){return this._component},set:function(value){var _this=this;value!=this._component&&(this.disposeResponsiveHandlers(),this._component=value,this._responsiveDisposers.push(getValue(this.component).events.on("sizechanged",(function(){_this.checkRules()}),this)),this._responsiveDisposers.push(getValue(this.component).events.on("datavalidated",(function(){_this._component.isReady()&&_this.checkRules(!0)}),this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(value){this._enabled!=value&&(this._enabled=value,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(value){this._useDefault!=value&&(this._useDefault=value,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(value){this._rules=value,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",defaultRules)},enumerable:!0,configurable:!0}),Object.defineProperty(Responsive.prototype,"allRules",{get:function(){var rules=new List_List;return this.useDefault&&rules.copyFrom(this.defaultRules),rules.copyFrom(this.rules),this.adapter.apply("allRules",rules)},enumerable:!0,configurable:!0}),Responsive.prototype.isApplied=function(ruleId){var rule=this._appliedRules[ruleId];return!!Type_hasValue(rule)&&rule},Responsive.prototype.checkRules=function(force){var _this=this;void 0===force&&(force=!1);var rules=this.allRules;if(rules&&0!=rules.length){var rulesChanged=!1,component=getValue(this.component);if(Iterator_each(rules.iterator(),(function(rule){rule.id||(rule.id=Registry_registry.getUniqueId());var apply=rule.relevant(component);(apply&&!_this.isApplied(rule.id)||!apply&&_this.isApplied(rule.id))&&(rulesChanged=!0),_this._appliedRules[rule.id]=apply})),force&&(rulesChanged=!0),rulesChanged){if(!this.component.isReady())return component.hidden=!0,void component.events.once("ready",(function(ev){ev.target.show(0),_this.applyRules()}));this.dispatchImmediately("ruleschanged"),this.applyRules()}}},Responsive.prototype.applyRules=function(target){var array,element,index,ind,_this=this,newTarget=Type_hasValue(target)?target:getValue(this.component),defaultStateApplied=!1;if(this.enabled){var isApplied_1=!1;Iterator_each(this.allRules.iterator(),(function(rule){var state=_this.getState(rule,newTarget);state&&(defaultStateApplied||(-1!==Array_indexOf(_this._appliedTargets,newTarget.uid)&&newTarget.setState(_this.getDefaultState(newTarget),0),defaultStateApplied=!0),_this.isApplied(getValue(rule.id))&&(state.transitionDuration=0,_this.setTargetState(newTarget,state),_this.dispatchImmediately("ruleapplied",{rule:rule}),isApplied_1=!0))})),isApplied_1?(array=this._appliedTargets,element=newTarget.uid,-1!==(ind=array.indexOf(element))&&array.splice(ind,1),isNumber(index)?array.splice(index,0,element):array.push(element)):Array_remove(this._appliedTargets,newTarget.uid)}newTarget.children&&Iterator_each(newTarget.children.iterator(),(function(child){_this.applyRules(child)}))},Responsive.prototype.getState=function(rule,target){var stateId="responsive-"+rule.id,tmpId=target.uid+"_"+stateId;if(-1===Array_indexOf(this._noStates,tmpId)){if(target.states.hasKey(stateId))return target.states.getKey(stateId);var state=rule.state(target,stateId);return state||this._noStates.push(tmpId),state}},Responsive.prototype.getDefaultState=function(target){return target.states.hasKey("responsive-default")?target.states.getKey("responsive-default"):target.states.create("responsive-default")},Responsive.prototype.setTargetState=function(target,state){var _this=this,defaultState=this.getDefaultState(target);Object_each(state.properties,(function(key,val){Type_hasValue(defaultState.properties[key])||(defaultState.properties[key]=_this.getValue(target,key))})),target.setState(state)},Responsive.prototype.getValue=function(target,property){var value=target.getPropertyValue(property);return!Type_hasValue(value)&&Type_hasValue(target[property])&&(value=target[property]),value},Responsive.prototype.dispose=function(){this.disposeResponsiveHandlers(),_super.prototype.dispose.call(this)},Responsive.prototype.disposeResponsiveHandlers=function(){for(var disposer=this._responsiveDisposers.pop();disposer;)disposer.dispose(),disposer=this._responsiveDisposers.pop()},Responsive}(Base_BaseObjectEvents),defaultRules=new List_List;defaultRules.events.on("inserted",(function(ev){ev.newValue.id=Registry_registry.getUniqueId()}));var ResponsiveBreakpoints=function(){function ResponsiveBreakpoints(){}return ResponsiveBreakpoints.widthXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.widthXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.widthS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.widthM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.widthL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.widthXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.widthXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.heightXXS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.heightXS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.heightS=function(container){return container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.heightM=function(container){return container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.heightL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.heightXL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.heightXXL=function(container){return container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.isXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS&&container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.isXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS&&container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.isS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S&&container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.isM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M&&container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.isL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L&&container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.isXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL&&container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.isXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL&&container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.maybeXXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXS||container.pixelHeight<=ResponsiveBreakpoints.XXS},ResponsiveBreakpoints.maybeXS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XS||container.pixelHeight<=ResponsiveBreakpoints.XS},ResponsiveBreakpoints.maybeS=function(container){return container.pixelWidth<=ResponsiveBreakpoints.S||container.pixelHeight<=ResponsiveBreakpoints.S},ResponsiveBreakpoints.maybeM=function(container){return container.pixelWidth<=ResponsiveBreakpoints.M||container.pixelHeight<=ResponsiveBreakpoints.M},ResponsiveBreakpoints.maybeL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.L||container.pixelHeight<=ResponsiveBreakpoints.L},ResponsiveBreakpoints.maybeXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XL||container.pixelHeight<=ResponsiveBreakpoints.XL},ResponsiveBreakpoints.maybeXXL=function(container){return container.pixelWidth<=ResponsiveBreakpoints.XXL||container.pixelHeight<=ResponsiveBreakpoints.XXL},ResponsiveBreakpoints.XXS=100,ResponsiveBreakpoints.XS=200,ResponsiveBreakpoints.S=300,ResponsiveBreakpoints.M=400,ResponsiveBreakpoints.L=600,ResponsiveBreakpoints.XL=800,ResponsiveBreakpoints.XXL=1e3,ResponsiveBreakpoints}(),DataItem_DataItem=function(_super){function DataItem(){var _this=_super.call(this)||this;return _this._disabled=!1,_this.hasProperties=!1,_this.values={},_this.categories={},_this.dates={},_this.locations={},_this.workingLocations={},_this.properties={},_this.sprites=[],_this.isTemplate=!1,_this._index=null,_this._visible=!0,_this._hidden=!1,_this._ignoreMinMax=!1,_this.hasChildren={},_this.isHiding=!1,_this._valueAnimations={},_this._locationAnimations={},_this.className="DataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(DataItem,_super),Object.defineProperty(DataItem.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter_Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(value){value&&(this.hidden=!1),this._visible!=value&&this.setVisibility(value)},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"hidden",{get:function(){return this._hidden},set:function(value){this._hidden!=value&&(this._hidden=value,value?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"__disabled",{get:function(){return this._disabled},set:function(value){this._disabled=value,each(this.sprites,(function(sprite){sprite.__disabled=value}))},enumerable:!0,configurable:!0}),DataItem.prototype.setVisibility=function(value,noChangeValues){if(each(this.sprites,(function(sprite){value?sprite.visible=sprite.defaultState.properties.visible:sprite.hiddenState?sprite.visible=sprite.hiddenState.properties.visible:sprite.visible=!1})),this._visible=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var event_1={type:"visibilitychanged",target:this,visible:value};this.events.dispatchImmediately("visibilitychanged",event_1)}},DataItem.prototype.show=function(duration,delay,fields){var animation_1,_this=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),fields&&each(fields,(function(field){animation_1=_this.setWorkingValue(field,_this.values[field].value,duration,delay)})),each(this.sprites,(function(sprite){var animation=sprite.show(duration);null==animation||animation.isFinished()||(_this._disposers.push(animation),null!=delay&&delay>0&&animation.delay(delay))})),animation_1},DataItem.prototype.dispose=function(){_super.prototype.dispose.call(this),each(this.sprites,(function(sprite){sprite.dispose()})),this.sprites=[]},DataItem.prototype.hide=function(duration,delay,toValue,fields){var _this=this;if(this.isHiding=!0,each(this.sprites,(function(sprite){var animation=sprite.hide(duration);null==animation||animation.isFinished()||(_this._disposers.push(animation),null!=delay&&delay>0&&animation.delay(delay))})),isNumber(toValue)&&fields){var animation_2;if(each(fields,(function(field){var anim=_this.setWorkingValue(field,toValue,duration,delay);anim&&(animation_2=anim)})),animation_2&&!animation_2.isFinished())return this._hideDisposer=animation_2.events.on("animationended",(function(){_this.setVisibility(!1,!0),_this.isHiding=!1})),this._disposers.push(this._hideDisposer),animation_2;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},DataItem.prototype.getDuration=function(duration){if(!isNumber(duration)){var component=this.component;component&&(duration=component.interpolationDuration)}if(null!=duration)return this._adapterO?this._adapterO.apply("duration",duration):duration},DataItem.prototype.getValue=function(name,calculated){if(name&&this.component){calculated||(calculated=this.component.dataFields[name+"Show"])||(calculated="value");var value=this.values[name][calculated];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:value,field:name}).value:value}},DataItem.prototype.getWorkingValue=function(name){if(name&&this.component){var realName=this.component.dataFields[name+"Show"];return realName||(realName="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[name][realName],field:name}).workingValue:this.values[name][realName]}},DataItem.prototype.getActualWorkingValue=function(name){return this.values[name].workingValue},DataItem.prototype.setValue=function(name,value,duration,delay){var currentValue=this.values[name].value,newDuration=this.getDuration(duration);if(currentValue!==(value=toNumber(value))){if(this.values[name].value=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var event_2={type:"valuechanged",target:this,property:name};this.events.dispatchImmediately("valuechanged",event_2)}this.component&&this.component.handleDataItemValueChange(this,name)}this.setWorkingValue(name,value,newDuration,delay)},DataItem.prototype.setCalculatedValue=function(name,value,calculated){if(this.values[name][calculated]!==value&&isNumber(value)){if(this.values[name][calculated]=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var event_3={type:"calculatedvaluechanged",target:this,property:name};this.events.dispatchImmediately("calculatedvaluechanged",event_3)}this.component&&this.component.handleDataItemCalculatedValueChange(this,name)}},DataItem.prototype.setWorkingValue=function(name,value,duration,delay){if(isNumber(this.values[name].value)){var newDuration=this.getDuration(duration),workingValue=this.values[name].workingValue;if(null!=newDuration&&newDuration>0&&isNumber(workingValue)&&this.component){if(workingValue!=value){var animation=this.animate({childObject:this.values[name],property:"workingValue",from:workingValue,to:value,dummyData:name},newDuration,this.component.interpolationEasing);return null!=delay&&animation.delay(delay),animation.events.on("animationstarted",this.handleInterpolationProgress,this),animation.events.on("animationprogress",this.handleInterpolationProgress,this),animation.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[name]=animation,animation}(valueAnimation=this._valueAnimations[name])&&valueAnimation.stop(),this.values[name].workingValue=value}else{var valueAnimation;if((valueAnimation=this._valueAnimations[name])&&valueAnimation.stop(),this.values[name].workingValue=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var event_4={type:"workingvaluechanged",target:this,property:name};this.events.dispatchImmediately("workingvaluechanged",event_4)}this.component&&this.component.handleDataItemWorkingValueChange(this,name)}}},DataItem.prototype.setLocation=function(name,value,duration,delay){if(this.locations[name]!==value){if(this.locations[name]=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var event_5={type:"locationchanged",target:this,property:name};this.events.dispatchImmediately("locationchanged",event_5)}this.component&&this.component.handleDataItemValueChange(this,name),this.setWorkingLocation(name,value,duration,delay)}},DataItem.prototype.setWorkingLocation=function(name,value,duration,delay){var newDuration=this.getDuration(duration),workingLocation=this.workingLocations[name];if(null!=newDuration&&newDuration>0&&isNumber(workingLocation)&&this.component){if(workingLocation!=value){var animation=this.animate({childObject:this.workingLocations,property:name,from:workingLocation,to:value,dummyData:name},newDuration,this.component.interpolationEasing);return null!=delay&&animation.delay(delay),animation.events.on("animationstarted",this.handleInterpolationProgress,this),animation.events.on("animationprogress",this.handleInterpolationProgress,this),animation.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[name]=animation,animation}(locationAnimation=this._locationAnimations[name])&&locationAnimation.stop(),this.workingLocations[name]=value}else{var locationAnimation;if((locationAnimation=this._locationAnimations[name])&&locationAnimation.stop(),this.workingLocations[name]=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var event_6={type:"workinglocationchanged",target:this,property:name};this.events.dispatchImmediately("workinglocationchanged",event_6)}this.component&&this.component.handleDataItemWorkingLocationChange(this,name)}},DataItem.prototype.setDate=function(name,date,duration){!Type_isDate(date)&&this.component&&(date=this.component.dateFormatter.parse(date)),this.dates[name]!==date&&(this.dates[name]=date,this.setValue(name,date.getTime(),duration))},DataItem.prototype.getDate=function(name){return this._adapterO?this._adapterO.apply("date",{date:this.dates[name],field:name}).date:this.dates[name]},DataItem.prototype.setProperty=function(name,value){if(this.properties[name]!==value){if(this.hasProperties=!0,this.properties[name]=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var event_7={type:"propertychanged",target:this,property:name,value:value};this.events.dispatchImmediately("propertychanged",event_7)}this.component&&this.component.handleDataItemPropertyChange(this,name)}},DataItem.prototype.setCategory=function(name,value){isString(value)||(value=castString(value)),this.categories[name]!==value&&(this.categories[name]=value)},DataItem.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),source.dataContext&&(this.dataContext=function(source,target){return Object_each(source,(function(key,value){target[key]=value})),target}(source.dataContext,{})),Utils_copyProperties(source.locations,this.locations),source._adapterO&&this.adapter.copyFrom(source._adapterO),this.component=source.component},Object.defineProperty(DataItem.prototype,"opacity",{set:function(value){each(this.sprites,(function(sprite){sprite.opacity=value}))},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(value){if(this._ignoreMinMax=value,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var event_8={type:"propertychanged",target:this,property:"ignoreMinMax",value:value};this.events.dispatchImmediately("propertychanged",event_8)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),DataItem.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},DataItem.prototype.handleInterpolationProgress=function(event){var animationOptions=event.target.animationOptions[0];if(animationOptions){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var event_9={type:"workingvaluechanged",target:this,property:animationOptions.dummyData};this.events.dispatchImmediately("workingvaluechanged",event_9)}this.component&&this.component.handleDataItemWorkingValueChange(this,animationOptions.dummyData)}},DataItem.prototype.hasValue=function(fields){for(var i=0,len=fields.length;i<len;i++){var values=this.values[fields[i]];if(!values||!Type_hasValue(values.value))return!1}return!0},Object.defineProperty(DataItem.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(DataItem.prototype,"dataContext",{get:function(){return this._dataContext},set:function(value){this._dataContext=value},enumerable:!0,configurable:!0}),DataItem.prototype.addSprite=function(sprite){sprite.dataItem&&sprite.dataItem!=this&&Array_remove(sprite.dataItem.sprites,sprite),this.visible||sprite.hide(0),this.isHiding&&sprite.hide(),this.sprites.push(sprite),sprite.dataItem=this},DataItem}(Base_BaseObjectEvents),Component_Component=function(_super){function Component(){var _this=_super.call(this)||this;return _this.dataFields={},_this._dataSources={},_this._parseDataFrom=0,_this._dataDisposers=[],_this._currentDataSetId="",_this._start=0,_this._end=1,_this.skipRangeEvent=!1,_this.rangeChangeDuration=0,_this.rangeChangeEasing=cubicOut,_this.parsingStepDuration=50,_this.dataInvalid=!1,_this.rawDataInvalid=!1,_this.dataRangeInvalid=!1,_this.dataItemsInvalid=!1,_this.interpolationDuration=0,_this.interpolationEasing=cubicOut,_this.sequencedInterpolation=!0,_this.sequencedInterpolationDelay=0,_this.dataValidationProgress=0,_this._addAllDataItems=!0,_this._usesData=!0,_this.className="Component",_this.minZoomCount=1,_this.maxZoomCount=0,_this._dataItems=new SortedList_OrderedListTemplate(_this.createDataItem()),_this._dataItems.events.on("inserted",_this.handleDataItemAdded,_this,!1),_this._dataItems.events.on("removed",_this.handleDataItemRemoved,_this,!1),_this._disposers.push(new List_ListDisposer(_this._dataItems)),_this._disposers.push(_this._dataItems.template),_this.invalidateData(),_this.dataUsers.events.on("inserted",_this.handleDataUserAdded,_this,!1),_this._disposers.push(new Disposer_MultiDisposer(_this._dataDisposers)),_this._start=0,_this._end=1,_this.maxZoomDeclination=1,_this.applyTheme(),_this}return Object(tslib_es6.d)(Component,_super),Component.prototype.createDataItem=function(){return new DataItem_DataItem},Component.prototype.handleDataUserAdded=function(event){event.newValue.dataProvider=this},Component.prototype.handleDataItemValueChange=function(dataItem,name){this.dataItemsInvalid||this.invalidateDataItems()},Component.prototype.handleDataItemWorkingValueChange=function(dataItem,name){},Component.prototype.handleDataItemWorkingLocationChange=function(dataItem,name){},Component.prototype.handleDataItemCalculatedValueChange=function(dataItem,name){},Component.prototype.handleDataItemPropertyChange=function(dataItem,name){},Component.prototype.processDataItem=function(dataItem,dataContext){var _this=this;if(dataItem){dataContext||(dataContext={}),dataItem.dataContext=dataContext;var hasSomeValues_1=!1;Object_each(this.dataFields,(function(key,fieldValue){var fieldName=key,value=dataContext[fieldValue];if(_this._adapterO&&_this._adapterO.isEnabled("dataContextValue")&&(value=_this._adapterO.apply("dataContextValue",{field:fieldName,value:value,dataItem:dataItem}).value),Type_hasValue(value))if(hasSomeValues_1=!0,dataItem.hasChildren[fieldName]){var template=_this.createDataItem();template.copyFrom(_this.mainDataSet.template);var children=new SortedList_OrderedListTemplate(template);children.events.on("inserted",_this.handleDataItemAdded,_this,!1),children.events.on("removed",_this.handleDataItemRemoved,_this,!1),_this._dataDisposers.push(new List_ListDisposer(children));for(var count=value.length,i=0;i<count;i++){var rawDataItem=value[i],childDataItem=children.create();childDataItem.parent=dataItem,_this.processDataItem(childDataItem,rawDataItem)}dataItem[fieldName]=children}else dataItem[fieldName]=value})),Object_each(this.propertyFields,(function(key,fieldValue){var f=key,value=dataContext[fieldValue];Type_hasValue(value)&&(hasSomeValues_1=!0,dataItem.setProperty(f,value))})),this._addAllDataItems||hasSomeValues_1||this.mainDataSet.remove(dataItem)}},Component.prototype.updateDataItem=function(dataItem){var _this=this;if(dataItem){var dataContext_1=dataItem.dataContext;Object_each(this.dataFields,(function(key,fieldValue){var fieldName=key,value=dataContext_1[fieldValue];(_this._adapterO&&(value=_this._adapterO.apply("dataContextValue",{field:fieldName,value:value,dataItem:dataItem}).value),Type_hasValue(value))&&(dataItem.hasChildren[fieldName]?dataItem[fieldName].each((function(child){_this.updateDataItem(child)})):dataItem[fieldName]=value)})),Object_each(this.propertyFields,(function(key,fieldValue){var f=key,value=dataContext_1[fieldValue];Type_hasValue(value)&&dataItem.setProperty(f,value)}))}},Component.prototype.validateDataElements=function(){for(var count=this.endIndex,i=this.startIndex;i<count;i++){var dataItem=this.dataItems.getIndex(i);dataItem&&this.validateDataElement(dataItem)}},Component.prototype.validate=function(){this.validateDataElements(),_super.prototype.validate.call(this)},Component.prototype.validateDataElement=function(dataItem){},Component.prototype.addData=function(rawDataItem,removeCount,skipRaw){var _this=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),skipRaw||(rawDataItem instanceof Array?each(rawDataItem,(function(dataItem){_this.data.push(dataItem)})):this.data.push(rawDataItem)),this.inited)this.removeData(removeCount,skipRaw);else if(isNumber(removeCount))for(;removeCount>0;)this.data.shift(),removeCount--;this.invalidateData()},Component.prototype.removeData=function(count,skipRaw){if(isNumber(count)&&count>0){for(;count>0;){var dataItem=this.mainDataSet.getIndex(0);dataItem&&this.mainDataSet.remove(dataItem),this.dataUsers.each((function(dataUser){if(!dataUser.data||0==dataUser.data.length){var dataItem_1=dataUser.mainDataSet.getIndex(0);dataItem_1&&dataUser.mainDataSet.remove(dataItem_1)}})),skipRaw||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,count--}this.invalidateDataItems()}},Component.prototype.invalidateData=function(){this.disabled||this.isTemplate||(Registry_registry.addToInvalidComponents(this),system.requestFrame(),this.dataInvalid=!0,Iterator_each(this.dataUsers.iterator(),(function(x){x.invalidateDataItems()})))},Component.prototype.invalidateDataUsers=function(){Iterator_each(this.dataUsers.iterator(),(function(x){x.invalidate()}))},Component.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(move(Registry_registry.invalidDataItems,this),system.requestFrame(),this.dataItemsInvalid=!0,Iterator_each(this.dataUsers.iterator(),(function(x){x.invalidateDataItems()})))},Component.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,move(Registry_registry.invalidDataRange,this),system.requestFrame())},Component.prototype.validateDataRange=function(){Array_remove(Registry_registry.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},Component.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},Component.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},Component.prototype.appendDataItems=function(){for(var count=this.endIndex,i=this.startIndex;i<count;i++){(dataItem=this.dataItems.getIndex(i))&&(dataItem.__disabled=!1)}for(i=0;i<this.startIndex;i++){(dataItem=this.dataItems.getIndex(i))&&(dataItem.__disabled=!0)}for(i=this.endIndex;i<this.dataItems.length;i++){var dataItem;(dataItem=this.dataItems.getIndex(i))&&(dataItem.__disabled=!0)}},Component.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(move(Registry_registry.invalidRawDatas,this),system.requestFrame(),this.rawDataInvalid=!0,Iterator_each(this.dataUsers.iterator(),(function(x){x.invalidateRawData()})))},Component.prototype.validateRawData=function(){var _this=this;Array_remove(Registry_registry.invalidRawDatas,this),Iterator_each(this.mainDataSet.iterator(),(function(dataItem){dataItem&&_this.updateDataItem(dataItem)}))},Component.prototype.dispose=function(){var _this=this;this.mainDataSet.template.clones.clear(),Object_each(this._dataSources,(function(key,source){_this.removeDispose(source)})),_super.prototype.dispose.call(this)},Component.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),each(this._dataDisposers,(function(x){x.dispose()})),Iterator_each(this.dataUsers.iterator(),(function(dataUser){dataUser.disposeData()})),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},Component.prototype.getDataItem=function(dataContext){return this.mainDataSet.create()},Component.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,Registry_registry.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var dataContext=this.dataItem.dataContext;this._data=dataContext[this.dataFields.data]}if(0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var preloader=this.preloader;Iterator_each(this.dataUsers.iterator(),(function(dataUser){dataUser._startIndex=void 0,dataUser._endIndex=void 0}));for(var counter=0,startTime=Date.now(),i=this._parseDataFrom,n=this.data.length,_loop_1=function(){var rawDataItem=this_1.data[i];if(this_1._usesData){var dataItem=this_1.getDataItem(rawDataItem);this_1.processDataItem(dataItem,rawDataItem)}if((this_1.dataUsers.each((function(dataUser){if(0==dataUser.data.length){var dataUserDataItem=dataUser.getDataItem(rawDataItem);dataUser.processDataItem(dataUserDataItem,rawDataItem)}})),100==++counter)&&(counter=0,Date.now()-startTime>this_1.parsingStepDuration&&i<this_1.data.length-10))return this_1._parseDataFrom=i+1,preloader&&(i/this_1.data.length>.5&&!preloader.visible||(preloader.progress=i/this_1.data.length)),this_1.dataValidationProgress=i/this_1.data.length,i=this_1.data.length,this_1.invalidateData(),{value:void 0}},this_1=this;i<n;i++){var state_1=_loop_1();if("object"==typeof state_1)return state_1.value}preloader&&(preloader.progress=1),this.dataUsers.each((function(dataUser){dataUser.hidden&&dataUser.hide(0)}))}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},Component.prototype.validateDataItems=function(){Array_remove(Registry_registry.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(Component.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(value){this.setData(value)},enumerable:!0,configurable:!0}),Component.prototype.setData=function(value){this._parseDataFrom=0,this.disposeData(),this._data=value,value&&value.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated"))},Component.prototype.getDataSource=function(property){var _this=this;return Type_hasValue(this._dataSources[property])||(this._dataSources[property]=new DataSource_DataSource,this._dataSources[property].component=this,this.setDataSourceEvents(this._dataSources[property],property),this._dataSources[property].adapter.add("dateFields",(function(val){return _this.dataSourceDateFields(val)})),this._dataSources[property].adapter.add("numberFields",(function(val){return _this.dataSourceNumberFields(val)})),this.events.on("inited",(function(){_this.loadData(property)}),this,!1)),this._dataSources[property]},Object.defineProperty(Component.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(value){var _this=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=value,this._dataSources.data.component=this,this.events.on("inited",(function(){_this.loadData("data")}),this,!1),this.setDataSourceEvents(value,"data")},enumerable:!0,configurable:!0}),Component.prototype.loadData=function(property){this._dataSources[property].load()},Component.prototype.dataSourceDateFields=function(value){return value},Component.prototype.dataSourceNumberFields=function(value){return value},Component.prototype.populateDataSourceFields=function(list,dataFields,targetList){return each(targetList,(function(value){dataFields[value]&&-1===Array_indexOf(list,dataFields[value])&&list.push(dataFields[value])})),list},Component.prototype.setDataSourceEvents=function(ds,property){var _this=this;ds.events.on("started",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=0)}),void 0,!1),ds.events.on("loadstarted",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.25)}),void 0,!1),ds.events.on("loadended",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.5)}),void 0,!1),ds.events.on("parseended",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=.75)}),void 0,!1),ds.events.on("ended",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1)}),void 0,!1),ds.events.on("error",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1),_this.openModal(ev.message)}),void 0,!1),property&&ds.events.on("done",(function(ev){var preloader=_this.preloader;preloader&&(preloader.progress=1),"data"!=property||Type_isArray(ev.data)||(ev.data=[ev.data]),ds.incremental&&"data"==property&&_this.data.length?_this.addData(ev.data,ds.keepCount?ev.data.length:0):ds.updateCurrentData&&"data"==property&&_this.data.length?(each(_this.data,(function(item,index){Type_hasValue(ev.data[index])&&Object_each(item,(function(key,val){Type_hasValue(ev.data[index][key])&&(item[key]=ev.data[index][key])}))})),_this.invalidateRawData()):_this[property]=ev.data}))},Object.defineProperty(Component.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Responsive_Responsive,this._responsive.component=this),this._responsive},set:function(value){this._responsive=value,this._responsive.component=this},enumerable:!0,configurable:!0}),Component.prototype.zoom=function(range,skipRangeEvent,instantly,declination){var _this=this;void 0===skipRangeEvent&&(skipRangeEvent=!1),void 0===instantly&&(instantly=!1);var start=range.start,end=range.end,priority=range.priority;if(range.start==range.end&&(range.start=range.start-.5/this.maxZoomFactor,range.end=range.end+.5/this.maxZoomFactor),"end"==priority&&1==end&&0!=start&&start<this.start&&(priority="start"),"start"==priority&&0==start&&end>this.end&&(priority="end"),isNumber(declination)||(declination=this.maxZoomDeclination),!isNumber(start)||!isNumber(end))return{start:this.start,end:this.end};if(this._finalStart!=start||this._finalEnd!=end){var maxZoomFactor=this.maxZoomFactor/this.minZoomCount,minZoomFactor=this.maxZoomFactor/this.maxZoomCount;if("start"==priority?(this.maxZoomCount>0&&1/(end-start)<minZoomFactor&&(end=start+1/minZoomFactor),1/(end-start)>maxZoomFactor&&(end=start+1/maxZoomFactor),end>1&&end-start<1/maxZoomFactor&&(start=end-1/maxZoomFactor)):(this.maxZoomCount>0&&1/(end-start)<minZoomFactor&&(start=end-1/minZoomFactor),1/(end-start)>maxZoomFactor&&(start=end-1/maxZoomFactor),start<0&&end-start<1/maxZoomFactor&&(end=start+1/maxZoomFactor)),start<-declination&&(start=-declination),1/(end-start)>maxZoomFactor&&(end=start+1/maxZoomFactor),end>1+declination&&(end=1+declination),1/(end-start)>maxZoomFactor&&(start=end-1/maxZoomFactor),this._finalEnd=end,this._finalStart=start,this.skipRangeEvent=skipRangeEvent,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!instantly){var rangeChangeAnimation=this.rangeChangeAnimation;if(rangeChangeAnimation&&rangeChangeAnimation.progress<1){var options=rangeChangeAnimation.animationOptions;if(options.length>1){if(options[0].to==start&&options[1].to==end)return{start:start,end:end};rangeChangeAnimation.isDisposed()||rangeChangeAnimation.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),rangeChangeAnimation=this.animate([{property:"start",to:start},{property:"end",to:end}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=rangeChangeAnimation,rangeChangeAnimation&&!rangeChangeAnimation.isFinished()?rangeChangeAnimation.events.on("animationended",(function(){_this.dispatchImmediately("rangechangeended")})):this.dispatchImmediately("rangechangeended")}else this.start=start,this.end=end,this.dispatch("rangechangeended")}return{start:start,end:end}},Component.prototype.zoomToIndexes=function(startIndex,endIndex,skipRangeEvent,instantly){if(isNumber(startIndex)&&isNumber(endIndex)){var start=startIndex/this.dataItems.length,end=endIndex/this.dataItems.length;this.zoom({start:start,end:end},skipRangeEvent,instantly)}},Object.defineProperty(Component.prototype,"zoomFactor",{get:function(){return fitToRange(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(value){this.setPropertyValue("maxZoomFactor",value)&&(1==value&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(value){this.setPropertyValue("maxZoomDeclination",value)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"startIndex",{get:function(){return isNumber(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(value){this._startIndex=fitToRange(Math.round(value),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),Component.prototype.indexToPosition=function(index){return index/this.dataItems.length},Object.defineProperty(Component.prototype,"endIndex",{get:function(){var count=this.dataItems.length;return(!isNumber(this._endIndex)||this._endIndex>count)&&(this._endIndex=count),this._endIndex},set:function(value){this._endIndex=fitToRange(Math.round(value),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(value){if(this._start!=value){this._start=value;var startIndex=Math.max(0,Math.floor(this.dataItems.length*value)||0);this._startIndex=Math.min(startIndex,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(value){this._end!=value&&(this._end=value,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*value)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),Component.prototype.removeFromInvalids=function(){_super.prototype.removeFromInvalids.call(this),Registry_registry.removeFromInvalidComponents(this),Array_remove(Registry_registry.invalidDataItems,this),Array_remove(Registry_registry.invalidDataRange,this),Array_remove(Registry_registry.invalidRawDatas,this)},Object.defineProperty(Component.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var dataItems=this.dataSets.getKey(this._currentDataSetId);if(dataItems)return dataItems}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Dictionary_Dictionary),this._dataSets},enumerable:!0,configurable:!0}),Component.prototype.setDataSet=function(id){if(this._currentDataSetId!=id){if(this.dataSets.getKey(id))return this.dataItems.each((function(dataItem){dataItem.__disabled=!0})),this._currentDataSetId=id,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(dataItem){dataItem.__disabled=!1})),!0;if(""!=this._currentDataSetId)return this.dataItems.each((function(dataItem){dataItem.__disabled=!0})),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(dataItem){dataItem.__disabled=!1})),!0}return!1},Object.defineProperty(Component.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),Component.prototype._updateDataItemIndexes=function(startIndex){for(var dataItems=this.mainDataSet.values,length=dataItems.length,i=startIndex;i<length;++i)dataItems[i]._index=i},Component.prototype.handleDataItemAdded=function(event){event.newValue.component=this,this._updateDataItemIndexes(event.index),this.dataItemsInvalid||this.invalidateDataItems()},Component.prototype.handleDataItemRemoved=function(event){this._updateDataItemIndexes(event.index),this.dataItemsInvalid||this.invalidateDataItems()},Component.prototype.bindDataField=function(field,value){this.dataFields[field]=value,this.invalidateDataRange()},Component.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},Component.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(Component.prototype,"dataUsers",{get:function(){var _this=this;return this._dataUsers||(this._dataUsers=new List_List,this._disposers.push(new Disposer((function(){Iterator_each(_this._dataUsers.iterator(),(function(x){x.dispose()}))})))),this._dataUsers},enumerable:!0,configurable:!0}),Component.prototype.clone=function(){var component=_super.prototype.clone.call(this);return component.dataFields=Utils_copyProperties(this.dataFields,{}),component},Component.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.data=source.data,this.sequencedInterpolation=source.sequencedInterpolation,this.sequencedInterpolationDelay=source.sequencedInterpolationDelay,this.interpolationDuration=source.interpolationDuration,this.interpolationEasing=source.interpolationEasing},Component.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},Component.prototype.getExporting=function(){var _export=_super.prototype.getExporting.call(this);return _export.adapter.has("data",this._exportData,-1,this)||(_export.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",(function(ev){_export.handleDataUpdated()}))),_export},Component.prototype._exportData=function(arg){return arg.data=this.data,arg},Component.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return changed&&this.invalidateData(),changed},Component.prototype.setShowOnInit=function(value){value!=this.getPropertyValue("showOnInit")&&(!value||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),_super.prototype.setShowOnInit.call(this,value)},Component.prototype.setBaseId=function(value){value!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,Registry_registry.removeFromInvalidComponents(this),this._baseId=value,this.invalidateData()),_super.prototype.setBaseId.call(this,value)},Object.defineProperty(Component.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(value){this.setPropertyValue("minZoomCount",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Component.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(value){this.setPropertyValue("maxZoomCount",value)},enumerable:!0,configurable:!0}),Component.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},Component.prototype.asFunction=function(field){return"interpolationEasing"==field||"rangeChangeEasing"==field||_super.prototype.asIs.call(this,field)},Component}(Container_Container);Registry_registry.registeredClasses.Component=Component_Component;var Label_Label=function(_super){function Label(){var _this=_super.call(this)||this;return _this.isOversized=!1,_this.className="Label",_this.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("text"),_this.wrap=!1,_this.truncate=!1,_this.fullWords=!0,_this.ellipsis="…",_this.textAlign="start",_this.textValign="top",_this.layout="absolute",_this.baseLineRatio=-.27,_this._positionPrecision=1,_this.events.on("maxsizechanged",(function(){_this.inited&&_this.handleMaxSize()}),_this,!1),_this.events.once("validated",_this.handleValidate,_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(Label,_super),Label.prototype.afterDraw=function(){_super.prototype.afterDraw.call(this),this.validatePosition()},Label.prototype.setPaper=function(paper){var changed=_super.prototype.setPaper.call(this,paper);return changed&&this.hardInvalidate(),changed},Label.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||Registry_registry.events.once("exitframe",this.hardInvalidate,this)},Label.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},Label.prototype.arrange=function(){},Label.prototype.updateCurrentText=function(){var output,text;isNotEmpty(this.html)&&this.paper.supportsForeignObject()?(output="html",text=this.html):(output="svg",text=this.text),Type_isObject(text)&&(text=text.toString()),Type_hasValue(text)&&""!==text&&(text=this.populateString(text,this.dataItem)),"html"==output?this._adapterO&&(text=this._adapterO.apply("htmlOutput",text)):this._adapterO&&(text=this._adapterO.apply("textOutput",text));var changed=text!=this.currentText||output!=this._currentFormat;return this.currentText=text,this._currentFormat=output,changed},Label.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},Label.prototype.getLineBBox=function(lineInfo){var element=lineInfo&&lineInfo.element,node=element&&element.node;node&&node.parentNode&&(lineInfo.bbox=element.getBBox())},Label.prototype.draw=function(){_super.prototype.draw.call(this);var oldW=this.bbox.width,oldH=this.bbox.height,topParent=this.topParent;if(!topParent||topParent.maxWidth&&topParent.maxHeight){var maxWidth=Math_max(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),maxHeight=Math_max(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),status=maxHeight+","+maxWidth+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=status){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var output=this._currentFormat,text=this.currentText;if(Type_hasValue(text)&&""!=text){var lines=text.split("\n");this._prevStatus=status,this.textAlign=this.textAlign;var display=this.group.getAttr("display");if("none"==display&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===output){this.element.removeAttr("display");var group=this.element;this.resetBBox();for(var currentHeight=0,currentFormat="",i=0;i<lines.length;i++){var line=lines[i];if(""!=line){var chunks=getTextFormatter().chunk(line,null,this.ignoreFormatting),currentLineHeight=0,firstChunk=!0,skipTextChunks=!1,lineInfo=this.getLineInfo(i);lineInfo?(lineInfo.text="",lineInfo.element.textContent=""):(lineInfo={text:"",element:this.getSVGLineElement("",0),complex:!1},group.add(lineInfo.element)),lineInfo.element.removeAttr("display"),lineInfo.element.removeChildren(),this.textPathElement&&lineInfo.element.add(this.textPathElement);for(var x=0;x<chunks.length;x++){x&&(lineInfo.complex=!0);var chunk=chunks[x];if("format"===chunk.type)currentFormat=chunk.text;else{if(skipTextChunks)continue;lineInfo.text=chunk.text,lineInfo.style=getTextFormatter().translateStyleShortcuts(currentFormat);var tspan=this.getSvgElement(lineInfo.text,lineInfo.style);if(this.textPathElement?this.textPathElement.add(tspan):lineInfo.element.add(tspan),this.getLineBBox(lineInfo),lineInfo.bbox.width=Math.ceil(lineInfo.bbox.width),currentLineHeight<lineInfo.bbox.height&&(currentLineHeight=lineInfo.bbox.height),(this.wrap||this.truncate)&&lineInfo.bbox.width>maxWidth){this.isOversized=!0;var lineText=lineInfo.element.textContent,avgCharWidth=lineInfo.bbox.width/lineText.length,excessChars=Math_min(Math.ceil((lineInfo.bbox.width-maxWidth)/avgCharWidth),lineText.length);if(this.truncate){var addEllipsis=!1,node_1=lineInfo.element.node;if(node_1&&node_1.childNodes)for(var e=lineInfo.element.node.childNodes.length-1;e>=0;e--){var node_2=lineInfo.element.node.childNodes[e];if(addEllipsis&&lineInfo.bbox.width<=maxWidth&&(node_2.textContent+=" "+this.ellipsis,lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),lineInfo.bbox.width<=maxWidth))break;addEllipsis=!1;var elementText=node_2.textContent;for(lineText=lineInfo.element.textContent,excessChars=Math_min(Math.ceil((lineInfo.bbox.width-maxWidth)/avgCharWidth),lineText.length);lineInfo.bbox.width>maxWidth&&excessChars<=lineText.length&&excessChars>0;){(maxChars=Math_max(lineText.length-excessChars-this.ellipsis.length,1))<=1&&(excessChars=0,e>0&&(addEllipsis=!0,lineInfo.element.node.removeChild(node_2))),(elementText=truncateWithEllipsis(elementText,maxChars,this.ellipsis,this.fullWords,this.rtl)).length>maxChars&&this.fullWords&&(elementText=truncateWithEllipsis(elementText,maxChars,this.ellipsis,!1,this.rtl)),node_2.textContent=elementText,lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),excessChars=Math.ceil(1.1*excessChars)}skipTextChunks=!0}}else{if(lineInfo.element.node){for(var lastNode=lineInfo.element.node.lastChild,splitLines=void 0;lineInfo.bbox.width>maxWidth&&excessChars<=lineText.length&&excessChars>0;){var maxChars=Math_max(chunk.text.length-excessChars,1);firstChunk?splitLines=splitTextByCharCount(chunk.text,maxChars,!0,this.rtl):((splitLines=splitTextByCharCount(chunk.text,maxChars,!0,this.rtl))[0].length>maxChars||1===maxChars)&&(lineInfo.element.node.removeChild(lastNode),excessChars=0),excessChars>0&&(lastNode.textContent=getTextFormatter().cleanUp(trim(splitLines.shift()))),lineInfo.bbox=lineInfo.element.getBBox(),lineInfo.bbox.width=Math.floor(lineInfo.bbox.width),excessChars=Math.ceil(1.1*excessChars)}if(splitLines.length>0){var restOfLine="";Type_hasValue(splitLines)&&(this.rtl?restOfLine+=splitLines.join("")+currentFormat:restOfLine+=currentFormat+splitLines.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var c=x+1;c<chunks.length;c++)"value"==chunks[c].type?restOfLine+=chunks[c].text.replace(/([\[\]]{1})/g,"$1$1"):restOfLine+=chunks[c].text;lines.splice(i+1,0,restOfLine)}skipTextChunks=!0}}}this.bbox.width<lineInfo.bbox.width&&(this.bbox.width=lineInfo.bbox.width),this.bbox.height=currentHeight+currentLineHeight,this.textPathElement?lineInfo.element.attr({dy:-this.paddingBottom.toString()}):lineInfo.element.attr({x:"0",y:currentHeight+currentLineHeight,dy:Math_round(this.baseLineRatio*currentLineHeight,3).toString()}),firstChunk=!1}}var node=lineInfo.element.node;if(node)(lastNode=node.lastChild)&&(lastNode.textContent=this.rtl?lastNode.textContent.replace(/^[\s\uFEFF\xA0]+/g,""):rtrim(lastNode.textContent));currentHeight+=currentLineHeight,this.addLineInfo(lineInfo,i)}else{var tempElement=this.getSVGLineElement("",0);tempElement.add(this.getSvgElement(".",getTextFormatter().translateStyleShortcuts(currentFormat))),group.add(tempElement);var offset=Math.ceil(tempElement.getBBox().height);offset>0&&(currentHeight+=offset),group.removeElement(tempElement);var lineInfo_1=this.getLineInfo(i);lineInfo_1&&(lineInfo_1.text="",lineInfo_1.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=Math_round(Math_max(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=Math_round(Math_max(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,oldH==this._measuredHeight&&oldW==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(lines.length)}else{this.element.removeAttr("display"),this.resetBBox(),(group=this.element).removeChildren();var fo=this.paper.foreignObject();group.add(fo),this.maxWidth&&fo.attr({width:this.maxWidth}),this.maxHeight&&fo.attr({height:this.maxHeight});var lineElement=this.getHTMLLineElement(text);fo.node.appendChild(lineElement),lineElement.style.display="inline-block";var clientWidth=lineElement.clientWidth,clientHeight=lineElement.clientHeight;lineElement.style.display="block",this._bbox={x:0,y:0,width:clientWidth,height:clientHeight},fo.attr({width:clientWidth,height:clientHeight}),this.maybeHideOversized(),this._measuredWidth=Math_max(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Math_max(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(lineElement.style.overflow="hidden"),(clientWidth>maxWidth||clientHeight>maxHeight)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==display&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else topParent.events.once("maxsizechanged",this.hardInvalidate,this,!1)},Label.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},Label.prototype.alignSVGText=function(){var group=this.element,children=group.node.children||group.node.childNodes;if(children&&(!children||0!=children.length)){var width=this._measuredWidth,height=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom;for(var i=children.length-1;i>=0;i--){var node=children[i];if(node.setAttribute("text-anchor",this.textAlign),this.textPathElement)node.removeAttribute("x"),node.removeAttribute("y");else{switch(this.textAlign){case"middle":node.setAttribute("x",(width/2).toString()+"px");break;case"end":this.rtl||node.setAttribute("x",width.toString());break;default:this.rtl?node.setAttribute("x",width.toString()):node.removeAttribute("text-anchor")}var y=toNumber(node.getAttribute("y"));switch(this.textValign){case"middle":node.setAttribute("y",((y||0)+(height-this.bbox.height)/2).toString());break;case"bottom":node.setAttribute("y",((y||0)+height-this.bbox.height).toString());break;default:node.setAttribute("y",(y||0).toString())}}}}},Label.prototype.getSVGLineElement=function(text,y){var element=this.paper.addGroup("text");return element.textContent=text,element.attr({x:"0"}),Type_hasValue(y)&&element.attr({y:y.toString()}),(this.truncate||this.wrap)&&element.attr({overflow:"hidden"}),this.rtl&&element.attr({direction:"rtl"}),element},Object.defineProperty(Label.prototype,"rtl",{set:function(value){value=toBoolean(value),this.element&&(value?this.element.attr({direction:"rtl"}):this.element.removeAttr("direction")),this._rtl=value},enumerable:!0,configurable:!0}),Label.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},Label.prototype.getHTMLLineElement=function(text){var div=document.createElement("div");switch(div.innerHTML=text,this.textAlign){case"middle":div.style.textAlign="center";break;case"end":div.style.textAlign="right"}return this.wrap?div.style.wordWrap="break-word":div.style.whiteSpace="nowrap",this.rtl&&(div.style.direction="rtl"),Type_hasValue(this.fill)&&(div.style.color=this.fill.toString()),div},Label.prototype.setStyles=function(){var group=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?group.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(group.removeStyle("webkitUserSelect"),group.removeStyle("msUserSelect"))},Label.prototype.hideUnused=function(index){this.initLineCache();var lines=this.getCache("lineInfo");if(lines.length>=index)for(var i=index;i<lines.length;i++){var line=lines[i];line&&line.element&&line.element.attr({display:"none"})}},Object.defineProperty(Label.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(value){this.setPropertyValue("text",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(value){this.setPropertyValue("path",value,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:value}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(XLINK,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:value}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(value){this.setPropertyValue("locationOnPath",value),this.textPathElement&&this.textPathElement.attr({startOffset:100*value+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(value){this.setPropertyValue("baseLineRatio",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(value){this.resetBBox(),this.setPropertyValue("wrap",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(value){this.resetBBox(),this.setPropertyValue("truncate",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(value){this.setPropertyValue("fullWords",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(value){this.setPropertyValue("ellipsis",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(value){this.setPropertyValue("selectable",value,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(value){this.setPropertyValue("textAlign",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(value){this.setPropertyValue("textValign",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(value){this.setPropertyValue("html",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(value){this.setPropertyValue("hideOversized",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(value){this.setPropertyValue("ignoreFormatting",value,!0)},enumerable:!0,configurable:!0}),Label.prototype.measureElement=function(){},Label.prototype.getLineInfo=function(index){this.initLineCache();var lines=this.getCache("lineInfo");return lines.length>index?lines[index]:void 0},Label.prototype.addLineInfo=function(line,index){this.initLineCache(),this.getCache("lineInfo")[index]=line},Label.prototype.initLineCache=function(){Type_hasValue(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},Label.prototype.setDataItem=function(dataItem){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),dataItem&&(this._sourceDataItemEvents=new Disposer_MultiDisposer([dataItem.events.on("valuechanged",this.invalidate,this,!1),dataItem.events.on("workingvaluechanged",this.invalidate,this,!1),dataItem.events.on("calculatedvaluechanged",this.invalidate,this,!1),dataItem.events.on("propertychanged",this.invalidate,this,!1)])),_super.prototype.setDataItem.call(this,dataItem)},Object.defineProperty(Label.prototype,"availableWidth",{get:function(){return Type_hasValue(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"availableHeight",{get:function(){return Type_hasValue(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),Label.prototype.getSvgElement=function(text,style){var element=this.paper.add("tspan");return element.textContent=text,style&&element.node.setAttribute("style",style),element},Label.prototype.deepInvalidate=function(){_super.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(Label.prototype,"readerTitle",{get:function(){var title=this.getPropertyValue("readerTitle");return title?this.dataItem&&(title=this.populateString(title)):title=this.populateString(plainText(isNotEmpty(this.html)?this.html:this.text)),title},set:function(value){value=toText(value),this.setPropertyValue("readerTitle",value)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Label}(Container_Container);Registry_registry.registeredClasses.Label=Label_Label,defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Label_Label&&target.parent&&target.parent.isBaseSprite){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var RoundedRectangle_RoundedRectangle=function(_super){function RoundedRectangle(){var _this=_super.call(this)||this;return _this.className="RoundedRectangle",_this.element=_this.paper.add("path"),_this.cornerRadius(3,3,3,3),_this.applyTheme(),_this}return Object(tslib_es6.d)(RoundedRectangle,_super),RoundedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.innerWidth,h=this.innerHeight;if(isNumber(w)&&isNumber(h)){var minSide=Math_min(w,h)/2,cornerRadiusTopLeft=relativeToValue(this.cornerRadiusTopLeft,minSide),cornerRadiusTopRight=relativeToValue(this.cornerRadiusTopRight,minSide),cornerRadiusBottomRight=relativeToValue(this.cornerRadiusBottomRight,minSide),cornerRadiusBottomLeft=relativeToValue(this.cornerRadiusBottomLeft,minSide),maxcr=Math_min(Math.abs(w/2),Math.abs(h/2)),crtl=fitToRange(cornerRadiusTopLeft,0,maxcr),crtr=fitToRange(cornerRadiusTopRight,0,maxcr),crbr=fitToRange(cornerRadiusBottomRight,0,maxcr),crbl=fitToRange(cornerRadiusBottomLeft,0,maxcr),path="M"+crtl+",0 L"+(w-crtr)+",0"+(" a"+crtr+","+crtr+" 0 0 1 "+crtr+","+crtr)+(" L"+w+","+(h-crbr))+(" a"+crbr+","+crbr+" 0 0 1 -"+crbr+","+crbr)+(" L"+crbl+","+h)+(" a"+crbl+","+crbl+" 0 0 1 -"+crbl+",-"+crbl)+(" L0,"+crtl)+(" a"+crtl+","+crtl+" 0 0 1 "+crtl+",-"+crtl)+" Z";this.path=path}},RoundedRectangle.prototype.cornerRadius=function(tl,tr,bl,br){this.cornerRadiusTopLeft=tl,this.cornerRadiusTopRight=tr,this.cornerRadiusBottomLeft=bl,this.cornerRadiusBottomRight=br},Object.defineProperty(RoundedRectangle.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(value){this.setPercentProperty("cornerRadiusTopLeft",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(value){this.setPercentProperty("cornerRadiusTopRight",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(value){this.setPercentProperty("cornerRadiusBottomRight",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RoundedRectangle.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(value){this.setPercentProperty("cornerRadiusBottomLeft",value,!0)},enumerable:!0,configurable:!0}),RoundedRectangle.prototype.measureElement=function(){},Object.defineProperty(RoundedRectangle.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),RoundedRectangle}(Sprite_Sprite);Registry_registry.registeredClasses.RoundedRectangle=RoundedRectangle_RoundedRectangle;var Button_Button=function(_super){function Button(){var _this=_super.call(this)||this;_this.className="Button",_this.tooltipY=0,_this.iconPosition="left",_this.layout="horizontal",_this.contentAlign="center",_this.contentValign="middle",_this.padding(8,16,8,16),_this.setStateOnChildren=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.fill=interfaceColors.getFor("secondaryButton"),background.stroke=interfaceColors.getFor("secondaryButtonStroke"),background.fillOpacity=1,background.strokeOpacity=1,background.cornerRadius(3,3,3,3),_this.label=new Label_Label,_this.label.fill=interfaceColors.getFor("secondaryButtonText"),_this.label.shouldClone=!1;var hoverState=background.states.create("hover");hoverState.properties.fillOpacity=1,hoverState.properties.fill=interfaceColors.getFor("secondaryButtonHover");var downState=background.states.create("down");return downState.transitionDuration=100,downState.properties.fill=interfaceColors.getFor("secondaryButtonDown"),downState.properties.fillOpacity=1,_this.role="button",_this.focusable=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(Button,_super),Object.defineProperty(Button.prototype,"icon",{get:function(){return this._icon},set:function(icon){var currentIcon=this._icon;currentIcon&&(currentIcon.parent=void 0),icon&&(this._icon=icon,icon.parent=this,icon.interactionsEnabled=!1,icon.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(icon))},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(position){this.setPropertyValue("iconPosition",position),this.icon&&("left"==position?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"label",{get:function(){return this._label},set:function(label){this._label&&this.removeDispose(this._label),this._label=label,label&&(label.parent=this,label.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),Button.prototype.createBackground=function(){return new RoundedRectangle_RoundedRectangle},Button.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),source.label&&this.label.copyFrom(source.label),source.icon&&(this.icon=source.icon.clone())},Button}(Container_Container);Registry_registry.registeredClasses.Button=Button_Button;var Circle_Circle=function(_super){function Circle(){var _this=_super.call(this)||this;return _this.className="Circle",_this.element=_this.paper.add("circle"),_this.setPercentProperty("radius",Percent_percent(100)),_this.setPropertyValue("horizontalCenter","middle"),_this.setPropertyValue("verticalCenter","middle"),_this.applyTheme(),_this}return Object(tslib_es6.d)(Circle,_super),Circle.prototype.draw=function(){_super.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(Circle.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Circle.prototype,"pixelRadius",{get:function(){return relativeToValue(this.radius,Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Circle.prototype.measureElement=function(){var pixelRadius=this.pixelRadius;this._bbox={x:-pixelRadius,y:-pixelRadius,width:2*pixelRadius,height:2*pixelRadius}},Circle}(Sprite_Sprite);Registry_registry.registeredClasses.Circle=Circle_Circle;var Ellipse_Ellipse=function(_super){function Ellipse(){var _this=_super.call(this)||this;return _this.className="Ellipse",_this.element=_this.paper.add("ellipse"),_this.applyTheme(),_this}return Object(tslib_es6.d)(Ellipse,_super),Ellipse.prototype.draw=function(){_super.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(Ellipse.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(value){this.height=2*value,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(Ellipse.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(value){this.width=2*value,this.invalidate()},enumerable:!0,configurable:!0}),Ellipse}(Circle_Circle);Registry_registry.registeredClasses.Ellipse=Ellipse_Ellipse;var Image_Image=function(_super){function Image(){var _this=_super.call(this)||this;return _this.className="Image",_this.element=_this.paper.add("image"),_this.applyTheme(),_this.width=50,_this.height=50,_this}return Object(tslib_es6.d)(Image,_super),Image.prototype.draw=function(){if(_super.prototype.draw.call(this),this.href){var width=this.innerWidth,height=this.innerHeight;isNumber(this.widthRatio)&&(width=height*this.widthRatio,this.width=width),isNumber(this.heightRatio)&&(height=width*this.heightRatio,this.height=height),this.element.attr({width:width,height:height}),this.element.attrNS(XLINK,"xlink:href",this.href)}},Object.defineProperty(Image.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(value){this.setPropertyValue("href",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(value){this.setPropertyValue("widthRatio",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(value){this.setPropertyValue("heightRatio",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Image.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),Image}(Sprite_Sprite);Registry_registry.registeredClasses.Image=Image_Image;var Line_Line=function(_super){function Line(){var _this=_super.call(this)||this;return _this.className="Line",_this.element=_this.paper.add("line"),_this.fill=Color_color(),_this.x1=0,_this.y1=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(Line,_super),Line.prototype.draw=function(){_super.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(Line.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(value){isNumber(value)||(value=0);var delta=0;this.pixelPerfect&&this.stroke instanceof LinearGradient_LinearGradient&&(delta=1e-5),this.setPropertyValue("x1",value,!0),this.element.attr({x1:value+delta})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,"x2",{get:function(){var value=this.getPropertyValue("x2");return isNumber(value)||(value=this.pixelWidth),value},set:function(value){isNumber(value)||(value=0),this.setPropertyValue("x2",value,!0),this.element.attr({x2:value})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(value){isNumber(value)||(value=0);var delta=0;this.pixelPerfect&&this.stroke instanceof LinearGradient_LinearGradient&&(delta=1e-5),this.setPropertyValue("y1",value,!0),this.element.attr({y1:value+delta})},enumerable:!0,configurable:!0}),Object.defineProperty(Line.prototype,"y2",{get:function(){var value=this.getPropertyValue("y2");return isNumber(value)||(value=this.pixelHeight),value},set:function(value){isNumber(value)||(value=0),this.setPropertyValue("y2",value,!0),this.element.attr({y2:value})},enumerable:!0,configurable:!0}),Line.prototype.positionToPoint=function(position){var point1={x:this.x1,y:this.y1},point2={x:this.x2,y:this.y2},point=getMidPoint(point1,point2,position),angle=getAngle(point1,point2);return{x:point.x,y:point.y,angle:angle}},Line}(Sprite_Sprite);Registry_registry.registeredClasses.Line=Line_Line;var PointedRectangle_PointedRectangle=function(_super){function PointedRectangle(){var _this=_super.call(this)||this;return _this.className="PointedRectangle",_this.element=_this.paper.add("path"),_this.cornerRadius=6,_this.applyTheme(),_this}return Object(tslib_es6.d)(PointedRectangle,_super),PointedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var cr=this.cornerRadius,w=this.innerWidth,h=this.innerHeight;if(w>0&&h>0){var stemX,stemY,x=this.pointerX,y=this.pointerY,bwh=this.pointerBaseWidth/2,maxcr=Math_min(w/2,h/2),crtl=fitToRange(cr,0,maxcr),crtr=fitToRange(cr,0,maxcr),crbr=fitToRange(cr,0,maxcr),crbl=fitToRange(cr,0,maxcr),lineT=void 0,lineR=void 0,lineB=void 0,lineL=void 0,d1=(x-0)*(h-0)-(y-0)*(w-0),d2=(x-0)*(0-h)-(y-h)*(w-0);if(d1>0&&d2>0)lineT="M"+crtl+",0 L"+((stemX=fitToRange(x,crtl+bwh,w-bwh-crtr))-bwh)+",0 L"+x+","+(y=fitToRange(y,-1/0,0))+" L"+(stemX+bwh)+",0 L"+(w-crtr)+",0";else lineT="M"+crtl+",0 L"+(w-crtr)+",0";if(d1<0&&d2<0)lineB=" L"+(w-crbr)+","+h+" L"+((stemX=fitToRange(x,crbl+bwh,w-bwh-crbr))+bwh)+","+h+" L"+x+","+(y=fitToRange(y,h,1/0))+" L"+(stemX-bwh)+","+h+" L"+crbl+","+h;else lineB=" L"+crbl+","+h;if(d1<0&&d2>0)lineL=" L0,"+(h-crbl)+" L0,"+((stemY=fitToRange(y,crtl+bwh,h-crbl-bwh))+bwh)+" L"+(x=fitToRange(x,-1/0,0))+","+y+" L0,"+(stemY-bwh)+" L0,"+crtl;else lineL=" L0,"+crtl;if(d1>0&&d2<0)lineR=" L"+w+","+crtr+" L"+w+","+((stemY=fitToRange(y,crtr+bwh,h-bwh-crbr))-bwh)+" L"+(x=fitToRange(x,w,1/0))+","+y+" L"+w+","+(stemY+bwh)+" L"+w+","+(h-crbr);else lineR=" L"+w+","+(h-crbr);var arcTR=" a"+crtr+","+crtr+" 0 0 1 "+crtr+","+crtr,arcBR=" a"+crbr+","+crbr+" 0 0 1 -"+crbr+","+crbr,arcBL=" a"+crbl+","+crbl+" 0 0 1 -"+crbl+",-"+crbl,arcTL=" a"+crtl+","+crtl+" 0 0 1 "+crtl+",-"+crtl;this.path=lineT+arcTR+lineR+arcBR+lineB+arcBL+lineL+arcTL}},Object.defineProperty(PointedRectangle.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(value){this.setPropertyValue("cornerRadius",value,!0)},enumerable:!0,configurable:!0}),PointedRectangle}(function(_super){function PointedShape(){var _this=_super.call(this)||this;return _this.className="PointedShape",_this.pointerBaseWidth=15,_this.pointerLength=10,_this.pointerY=0,_this.pointerX=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(PointedShape,_super),PointedShape.prototype.draw=function(){_super.prototype.draw.call(this),isNumber(this.pointerX)||(this.pointerX=this.pixelWidth/2),isNumber(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(PointedShape.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(value){this.setPropertyValue("pointerBaseWidth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(value){this.setPropertyValue("pointerLength",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(value){this.setPropertyValue("pointerX",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PointedShape.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(value){this.setPropertyValue("pointerY",value,!0)},enumerable:!0,configurable:!0}),PointedShape}(Sprite_Sprite));function polyline(points){var path=lineTo(points[0]),prevPoint={x:0,y:0},minStep=Options_options.minPolylineStep;isNumber(minStep)||(minStep=.5);for(var i=0,len=points.length;i<len;i++){var point=points[i];getDistance(point,prevPoint)>minStep&&(path+=lineTo(point),prevPoint=point)}return path}function moveTo(point){return" M"+Math_round(point.x,4)+","+Math_round(point.y,4)+" "}function lineTo(point){return" L"+Math_round(point.x,4)+","+Math_round(point.y,4)+" "}function quadraticCurveTo(point,controlPoint){return" Q"+Math_round(controlPoint.x,4)+","+Math_round(controlPoint.y,4)+" "+Math_round(point.x,4)+","+Math_round(point.y,4)}function cubicCurveTo(point,controlPointA,controlPointB){return" C"+Math_round(controlPointA.x,4)+","+Math_round(controlPointA.y,4)+" "+Math_round(controlPointB.x,4)+","+Math_round(controlPointB.y,4)+" "+Math_round(point.x,4)+","+Math_round(point.y,4)}function arcTo(startAngle,arc,radius,radiusY){if(0==arc)return"";isNumber(radiusY)||(radiusY=radius);var path="",c=",",segments=Math.ceil(Math.abs(arc)/180),l=1;arc<0&&(l=0);var pax=0,pay=0,cx=-Math_cos(startAngle)*radius,cy=-Math_sin(startAngle)*radiusY;if(arc<.5&&radius>3e3)return lineTo({x:ax=Math_round(Math_cos(endAngle=startAngle+arc)*radius,4),y:ay=Math_round(Math_sin(endAngle)*radiusY,4)});for(var i=0;i<segments;i++){var endAngle,ax,ay;path+=" a"+radius+c+radiusY+c+0+c+0+c+l+c+(ax=Math_round(Math_cos(endAngle=startAngle+arc/segments*(i+1))*radius+cx-pax,4))+c+(ay=Math_round(Math_sin(endAngle)*radiusY+cy-pay,4)),pax=ax,pay=ay}return path}function Path_arc(startAngle,arc,radius,innerRadius,radiusY,cornerRadius,innerCornerRadius){if(0==arc)return"";if(isNumber(innerRadius)||(innerRadius=0),0==radius&&innerRadius<=0)return"";if(radius<innerRadius){var temp=radius;radius=innerRadius,innerRadius=temp,isNumber(radiusY)&&(radiusY=radiusY/innerRadius*radius)}360==(arc=Math_min(arc,360))&&(cornerRadius=0,innerCornerRadius=0);var endAngle=startAngle+arc,crSin=Math_sin(Math_min(arc,45)/2),innerRadiusY=(radiusY=isNumber(radiusY)?radiusY:radius)/radius*innerRadius,cornerRadiusY=radiusY/radius*(cornerRadius=cornerRadius||0),innerCornerRadiusY=radiusY/radius*(innerCornerRadius=isNumber(innerCornerRadius)?innerCornerRadius:cornerRadius);cornerRadius=fitToRange(cornerRadius,0,(radius-innerRadius)/2),cornerRadiusY=fitToRange(cornerRadiusY,0,(radiusY-innerRadiusY)/2),innerCornerRadius=fitToRange(innerCornerRadius,0,(radius-innerRadius)/2),innerCornerRadiusY=fitToRange(innerCornerRadiusY,0,(radiusY-innerRadiusY)/2),cornerRadius=Math_round(fitToRange(cornerRadius,0,radius*crSin),4),cornerRadiusY=Math_round(fitToRange(cornerRadiusY,0,radiusY*crSin),4),innerCornerRadius=Math_round(fitToRange(innerCornerRadius,0,innerRadius*crSin),4),innerCornerRadiusY=Math_round(fitToRange(innerCornerRadiusY,0,innerRadiusY*crSin),4);var crAngle=Math.asin(cornerRadius/radius/2)*DEGREES*2,crAngleY=Math.asin(cornerRadiusY/radiusY/2)*DEGREES*2;innerRadius<innerCornerRadius&&(innerRadius=innerCornerRadius),innerRadiusY<innerCornerRadiusY&&(innerRadiusY=innerCornerRadiusY);var crInnerAngle=Math.asin(innerCornerRadius/innerRadius/2)*DEGREES*2,crInnerAngleY=Math.asin(innerCornerRadiusY/innerRadiusY/2)*DEGREES*2;isNumber(crInnerAngle)||(crInnerAngle=0),isNumber(crInnerAngleY)||(crInnerAngleY=0);var middleAngle=startAngle+arc/2,mPoint={x:Math_round(Math_cos(middleAngle)*innerRadius,4),y:Math_sin(middleAngle)*innerRadiusY},a0={x:Math_cos(startAngle)*(innerRadius+innerCornerRadius),y:Math_sin(startAngle)*(innerRadiusY+innerCornerRadiusY)},b0={x:Math_cos(startAngle)*(radius-cornerRadius),y:Math_sin(startAngle)*(radiusY-cornerRadiusY)},c0={x:Math_cos(endAngle)*(radius-cornerRadius),y:Math_sin(endAngle)*(radiusY-cornerRadiusY)},d0={x:Math_cos(endAngle)*(innerRadius+innerCornerRadius),y:Math_sin(endAngle)*(innerRadiusY+innerCornerRadiusY)},b1={x:Math_cos(startAngle+crAngle)*radius,y:Math_sin(startAngle+crAngleY)*radiusY},d1={x:Math_cos(endAngle-crInnerAngle)*innerRadius,y:Math_sin(endAngle-crInnerAngleY)*innerRadiusY};innerCornerRadius+=innerCornerRadius*Math_sin(crInnerAngle/2),innerCornerRadiusY+=innerCornerRadiusY*Math_sin(crInnerAngleY/2),crInnerAngle>(endAngle-startAngle)/2&&(d1=mPoint);var path="";return 360==arc?path=moveTo(b0):(path=moveTo(a0),path+=lineTo(b0),path+=arcToPoint(b1,cornerRadius,cornerRadiusY,!0)),path+=arcTo(startAngle+crAngle,arc-2*crAngle,radius,radiusY),isNumber(innerRadius)&&0!=innerRadius?(360==arc&&0==cornerRadius?path+=moveTo(d0):(path+=arcToPoint(c0,cornerRadius,cornerRadiusY,!0),path+=lineTo(d0),path+=arcToPoint(d1,innerCornerRadius,innerCornerRadiusY,!0)),path+=arcTo(endAngle-crInnerAngle,-(arc-2*crInnerAngle),innerRadius,innerRadiusY),(arc<360||cornerRadius>0)&&(path+=arcToPoint(a0,innerCornerRadius,innerCornerRadiusY,!0)),path+=lineTo(a0)):(path+=arcToPoint(c0,cornerRadius,cornerRadiusY,!0),arc<360&&(path+=lineTo(a0))),path}function arcToPoint(point,radius,radiusY,sweepFlag,largeArcFlag,xAxisRotation){if(0==radius)return"";var c=",";return" A"+radius+c+radiusY+c+(xAxisRotation=xAxisRotation||0)+c+ +(largeArcFlag=Boolean(largeArcFlag))+c+ +(sweepFlag=Boolean(sweepFlag))+c+Math_round(point.x,4)+c+Math_round(point.y,4)}function Path_rectangle(width,height,x,y){return isNumber(x)||(x=0),isNumber(y)||(y=0),moveTo({x:x,y:y})+lineTo({x:x+width,y:y})+lineTo({x:x+width,y:y+height})+lineTo({x:x,y:y+height})+" Z"}function rectToPath(rect,ccw){var c=",",L=" L";return ccw?"M"+rect.x+c+rect.y+L+rect.x+c+(rect.y+rect.height)+L+(rect.x+rect.width)+c+(rect.y+rect.height)+L+(rect.x+rect.width)+c+rect.y+L+rect.x+c+rect.y:"M"+rect.x+c+rect.y+L+(rect.x+rect.width)+c+rect.y+L+(rect.x+rect.width)+c+(rect.y+rect.height)+L+rect.x+c+(rect.y+rect.height)+L+rect.x+c+rect.y}var Polyline_Polyline=function(_super){function Polyline(){var _this=_super.call(this)||this;return _this._distance=0,_this.className="Polyline",_this.element=_this.paper.add("path"),_this.shapeRendering="auto",_this.fill=Color_color(),_this.strokeOpacity=1,_this.applyTheme(),_this}return Object(tslib_es6.d)(Polyline,_super),Polyline.prototype.makePath=function(){this._distance=0;var segments=this.segments;if(segments&&segments.length>0){for(var path="",i=0,len=segments.length;i<len;i++){var points=segments[i];if(points.length>0){path+=moveTo(points[0]);for(var p=1;p<points.length;p++){var point=points[p];path+=lineTo(point),this._distance+=getDistance(points[p-1],point)}}}this.path=path}this._realSegments=segments},Object.defineProperty(Polyline.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(segments){this.setPropertyValue("segments",segments),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyline.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),Polyline.prototype.positionToPoint=function(position){var deltaAngle=0;position<0&&(position=Math.abs(position),deltaAngle=180);var segments=this._realSegments;if(segments){for(var totalDistance=this.distance,currentDistance=0,positionA=0,positionB=0,pointA=void 0,pointB=void 0,s=0;s<segments.length;s++){var points=segments[s];if(points.length>1){for(var p=1;p<points.length;p++)if(positionA=currentDistance/totalDistance,positionB=(currentDistance+=getDistance(pointA=points[p-1],pointB=points[p]))/totalDistance,positionA<=position&&positionB>position){s=segments.length;break}}else 1==points.length&&(pointA=points[0],pointB=points[0],positionA=0,positionB=1)}if(pointA&&pointB){var midPoint=getMidPoint(pointA,pointB,(position-positionA)/(positionB-positionA));return{x:midPoint.x,y:midPoint.y,angle:deltaAngle+getAngle(pointA,pointB)}}}return{x:0,y:0,angle:0}},Object.defineProperty(Polyline.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),Polyline}(Sprite_Sprite);Registry_registry.registeredClasses.Polyline=Polyline_Polyline;var Polyarc_Polyarc=function(_super){function Polyarc(){var _this=_super.call(this)||this;return _this.className="Polyarc",_this.controlPointDistance=.5,_this.controlPointPosition=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(Polyarc,_super),Polyarc.prototype.makePath=function(){this._distance=0;var segments=this.segments;if(segments&&segments.length>0){var path="";this._realSegments=[];for(var i=0,len=segments.length;i<len;i++){var points=segments[i],realPoints=[];if(this._realSegments.push(realPoints),points.length>0){path+=moveTo(points[0]);for(var p=1;p<points.length;p++){var pointA=points[p-1],pointB=points[p],distanceAB=getDistance(pointB,pointA),cpDistance=distanceAB*this.controlPointDistance,controlPointPosition=this.controlPointPosition,angle=-getAngle(pointA,pointB),controlPoint1={x:pointA.x+(pointB.x-pointA.x)*controlPointPosition*.5-cpDistance*Math_sin(angle),y:pointA.y+(pointB.y-pointA.y)*controlPointPosition*.5-cpDistance*Math_cos(angle)},controlPoint2={x:pointA.x+(pointB.x-pointA.x)*controlPointPosition*1.5-cpDistance*Math_sin(angle),y:pointA.y+(pointB.y-pointA.y)*controlPointPosition*1.5-cpDistance*Math_cos(angle)};path+=cubicCurveTo(pointB,controlPoint1,controlPoint2);var stepCount=Math.ceil(distanceAB),prevPoint=pointA;if(stepCount>0)for(var i_1=0;i_1<=stepCount;i_1++){var point=getPointOnCubicCurve(pointA,pointB,controlPoint1,controlPoint2,i_1/stepCount);realPoints.push(point),this._distance+=getDistance(prevPoint,point),prevPoint=point}else realPoints.push(pointA)}}}this.path=path}},Object.defineProperty(Polyarc.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(value){this.setPropertyValue("controlPointPosition",value),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyarc.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(value){this.setPropertyValue("controlPointDistance",value),this.makePath()},enumerable:!0,configurable:!0}),Polyarc}(Polyline_Polyline);Registry_registry.registeredClasses.Polyarc=Polyarc_Polyarc;var Morpher_Morpher=function(_super){function Morpher(morphable){var _this=_super.call(this)||this;return _this._bboxes=[],_this.morphDuration=800,_this.morphEasing=cubicOut,_this.morphToSingle=!0,_this.scaleRatio=1,_this.className="Morpher",_this.morphable=morphable,_this.applyTheme(),_this}return Object(tslib_es6.d)(Morpher,_super),Morpher.prototype.morphToPolygon=function(toPoints,duration,easing){var points=this.morphable.currentPoints;if(points&&toPoints){this.sortPoints(points),this.sortPoints(toPoints),this._morphFromPointsReal=[],this._morphToPointsReal=[],Type_hasValue(duration)||(duration=this.morphDuration),Type_hasValue(easing)||(easing=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(toPoints,points),this._morphToPointsReal=this.normalizePoints(points,toPoints),this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:"morphProgress",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation}},Morpher.prototype.normalizePoints=function(pointsA,pointsB){for(var i=0,len=pointsA.length;i<len;i++){var surfaceA=pointsA[i][0],holeA=pointsA[i][1],bboxA=getValue(getBBox(surfaceA)),middleX=bboxA.x+bboxA.width,middleY=bboxA.y+bboxA.height;if(pointsB[i]||(pointsB[i]=[]),surfaceA&&!pointsB[i][0]&&(pointsB[i][0]=[{x:middleX,y:middleY},{x:middleX,y:middleY}]),pointsB[i][0]){pointsB[i][0]=this.addPoints(pointsB[i][0],surfaceA.length);for(var distance=1/0,splitAt=0,a=0;a<pointsB[i][0].length;a++){var newDistance=getDistance(pointsB[i][0][a],surfaceA[0]);newDistance<distance&&(splitAt=a,distance=newDistance)}var partA=pointsB[i][0].slice(0,splitAt),partB=pointsB[i][0].slice(splitAt);pointsB[i][0]=partB.concat(partA)}holeA&&(pointsB[i][1]||(pointsB[i][1]=[{x:middleX,y:middleY},{x:middleX,y:middleY}]),pointsB[i][1]=this.addPoints(pointsB[i][1],holeA.length))}return pointsB},Morpher.prototype.sortPoints=function(points){points.sort((function(a,b){var bbox1=getValue(getBBox(a[0])),bbox2=getValue(getBBox(b[0]));return bbox1.width*bbox1.height>bbox2.width*bbox2.height?-1:1}));for(var bboxes=[],i=0,len=points.length;i<len;i++){var surface=points[i][0];surface&&bboxes.push(getValue(getBBox(surface)))}return getCommonRectangle(bboxes)},Morpher.prototype.morphToCircle=function(radius,duration,easing){var points=this.morphable.points,commonBBox=this.sortPoints(points);this._morphFromPointsReal=[],this._morphToPointsReal=[],Type_hasValue(duration)||(duration=this.morphDuration),Type_hasValue(easing)||(easing=this.morphEasing);for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(this._morphFromPointsReal[i]=[],this._morphToPointsReal[i]=[],surface){var toPoints=surface,fromPoints=surface,bbox=getValue(getBBox(fromPoints));this.morphToSingle&&(bbox=getValue(commonBBox));var middleX=bbox.x+bbox.width/2,middleY=bbox.y+bbox.height/2,realRadius=radius;isNumber(realRadius)||(realRadius=Math.min(bbox.width/2,bbox.height/2)),toPoints=[];var startAngle=getAngle({x:middleX,y:middleY},surface[0]),count=100;surface.length>count&&(count=surface.length);for(var angle=360/((count=(fromPoints=this.addPoints(surface,count)).length)-1),a=0;a<count;a++){var realAngle=angle*a+startAngle,pointOnCircle={x:middleX+realRadius*Math_cos(realAngle),y:middleY+realRadius*Math_sin(realAngle)};toPoints[a]=pointOnCircle}if(hole&&hole.length>0)for(var i_1=0,hlen=hole.length;i_1<hlen;i_1++)toPoints.push({x:middleX,y:middleY});this._morphFromPointsReal[i][0]=fromPoints,this._morphToPointsReal[i][0]=toPoints}}this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:"morphProgress",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Morpher.prototype.addPoints=function(points,mustHaveCount){for(var addToSegmentCount=Math.round(mustHaveCount/points.length),newPoints=[],i=0,len=points.length;i<len;i++){var point0=points[i],point1=void 0;point1=i==points.length-1?points[0]:points[i+1],newPoints.push(point0);for(var p=1;p<addToSegmentCount;p++){var percent=p/addToSegmentCount,extraPoint={x:point0.x+(point1.x-point0.x)*percent,y:point0.y+(point1.y-point0.y)*percent};newPoints.push(extraPoint)}newPoints.length+points.length-i==mustHaveCount&&(addToSegmentCount=0)}if(newPoints.length<mustHaveCount&&points.length>0){var lastPoint=points[points.length-1];for(p=newPoints.length;p<mustHaveCount;p++)newPoints.push({x:lastPoint.x,y:lastPoint.y})}return newPoints},Morpher.prototype.morphToRectangle=function(width,height,duration,easing){var points=this.morphable.points;this.sortPoints(points),this._morphFromPointsReal=[],this._morphToPointsReal=[],Type_hasValue(duration)||(duration=this.morphDuration),Type_hasValue(easing)||(easing=this.morphEasing);for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(this._morphFromPointsReal[i]=[],this._morphToPointsReal[i]=[],surface){var toPoints=surface,fromPoints=surface,bbox=this._bboxes[i];this.morphToSingle;var x=bbox.x,y=bbox.y,realWidth=width,realHeight=height;if(isNumber(realWidth)||(realWidth=bbox.width),isNumber(realHeight)||(realHeight=bbox.height),toPoints=[{x:x,y:y},{x:x+realWidth,y:y},{x:x+realWidth,y:y+realHeight},{x:x,y:y+realHeight}],toPoints=this.addPoints(toPoints,surface.length),surface.length<4)for(var i_2=surface.length;i_2<4;i_2++)toPoints.push({x:surface[i_2].x,y:surface[i_2].y});if(hole&&hole.length>0)for(var middleX=bbox.x+bbox.width/2,middleY=bbox.y+bbox.height/2,i_3=0,hlen=hole.length;i_3<hlen;i_3++)toPoints.push({x:middleX,y:middleY});this._morphFromPointsReal[i][0]=fromPoints,this._morphToPointsReal[i][0]=toPoints}}this.morphable.currentPoints=this._morphFromPointsReal;var animation=new Animation_Animation(this,{property:"morphProgress",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Object.defineProperty(Morpher.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(value){this._morphProgress=value;var currentPoints=[];if(null!=value){var fromPoints=this._morphFromPointsReal,toPoints=this._morphToPointsReal;if(null!=fromPoints&&null!=toPoints)for(var i=0,len=fromPoints.length;i<len;i++){var currentArea=[];currentPoints.push(currentArea);var surfaceFrom=fromPoints[i][0],holeFrom=fromPoints[i][1],surfaceTo=toPoints[i][0],holeTo=toPoints[i][1];if(surfaceFrom&&surfaceFrom.length>0&&surfaceTo&&surfaceTo.length>0){for(var currentSurface=[],i_4=0,slen=surfaceFrom.length;i_4<slen;i_4++){var point0=surfaceFrom[i_4],point1=surfaceTo[i_4],currentPoint={x:point0.x+(point1.x*this.scaleRatio-point0.x)*value,y:point0.y+(point1.y*this.scaleRatio-point0.y)*value};currentSurface.push(currentPoint)}currentArea[0]=currentSurface}if(holeFrom&&holeFrom.length>0&&holeTo&&holeTo.length>0){for(var currentHole=[],i_5=0,hlen=holeFrom.length;i_5<hlen;i_5++){point0=holeFrom[i_5],point1=holeTo[i_5],currentPoint={x:point0.x+(point1.x*this.scaleRatio-point0.x)*value,y:point0.y+(point1.y*this.scaleRatio-point0.y)*value};currentHole.push(currentPoint)}currentArea[1]=currentHole}}}this.morphable.currentPoints=currentPoints},enumerable:!0,configurable:!0}),Morpher.prototype.morphBack=function(duration,easing){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,Type_hasValue(duration)||(duration=this.morphDuration),Type_hasValue(easing)||(easing=this.morphEasing);var animation=new Animation_Animation(this,{property:"morphProgress",from:0,to:1},duration,easing);return this._disposers.push(animation),animation.start(),animation},Object.defineProperty(Morpher.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Morpher}(Base_BaseObject),Polygon_Polygon=function(_super){function Polygon(){var _this=_super.call(this)||this;return _this.className="Polygon",_this.element=_this.paper.add("path"),_this.shapeRendering="auto",_this._currentPoints=[],_this.applyTheme(),_this}return Object(tslib_es6.d)(Polygon,_super),Object.defineProperty(Polygon.prototype,"points",{get:function(){var points=this.getPropertyValue("points"),path=this.path;if(path&&(!points||0==points.length)){for(var segments=path.slice(1,path.length-1).split("ZM"),s=0;s<segments.length;s++){var segment=segments[s];if(segment.length>0){var areaHole=segment.split("M"),areaArr=areaHole[0],holeArr=areaHole[1];if(areaArr&&areaArr.length>0){var pointsArr=areaArr.split("L");if(pointsArr.length>0){var area=[],areaAndHole=[area];points.push(areaAndHole);for(var p=0;p<pointsArr.length;p++){var coords=pointsArr[p].split(",");area.push({x:+coords[0],y:+coords[1]})}if(holeArr&&holeArr.length>0){var pointsArr_1=holeArr.split("L");if(pointsArr_1.length>0){var hole=[];areaAndHole.push(hole);for(p=pointsArr_1.length-1;p>=0;p--){coords=pointsArr_1[p].split(",");hole.push({x:+coords[0],y:+coords[1]})}}}}}}}this.setPropertyValue("points",points),this._currentPoints=points}return points},set:function(points){this.setPropertyValue("points",points,!0),this._currentPoints=points},enumerable:!0,configurable:!0}),Object.defineProperty(Polygon.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(points){this._currentPoints!=points&&(this._currentPoints=points,this.draw())},enumerable:!0,configurable:!0}),Polygon.prototype.draw=function(){var left,right,top,bottom,path="",points=this._currentPoints;if(points.length>0){for(var i=0,len=points.length;i<len;i++){var surface=points[i][0],hole=points[i][1];if(surface&&surface.length>0){path+=moveTo(point=surface[0]);for(var s=0;s<surface.length;s++)path+=lineTo(point=surface[s]),(!isNumber(right)||right<point.x)&&(right=point.x),(!isNumber(left)||left>point.x)&&(left=point.x),(!isNumber(top)||top>point.y)&&(top=point.y),(!isNumber(bottom)||bottom<point.y)&&(bottom=point.y)}if(hole&&hole.length>0){var point;path+=moveTo(point=hole[0]);for(var h=0,hlen=hole.length;h<hlen;h++)path+=lineTo(point=hole[h])}}path&&(path+=" Z"),this.bbox.x=left,this.bbox.y=top,this.bbox.width=right-left,this.bbox.height=bottom-top,_super.prototype.setPath.call(this,path)}},Polygon.prototype.setPath=function(value){return!!_super.prototype.setPath.call(this,value)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},Polygon.prototype.measureElement=function(){},Object.defineProperty(Polygon.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(Polygon.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Morpher_Morpher(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),Polygon}(Sprite_Sprite);Registry_registry.registeredClasses.Polygon=Polygon_Polygon;var Polyspline_Polyspline=function(_super){function Polyspline(){var _this=_super.call(this)||this;return _this.className="Polyspline",_this.tensionX=.5,_this.tensionY=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(Polyspline,_super),Polyspline.prototype.makePath=function(){this._distance=0;var segments=this.segments,tensionX=this.tensionX,tensionY=this.tensionY;if(this.allPoints=[],segments&&segments.length>0){var path="";this._realSegments=[];for(var i=0,len=segments.length;i<len;i++){var points=segments[i],realPoints=[];if(this._realSegments.push(realPoints),points.length>0){var first=points[0],last=points[points.length-1],closed_1=!1;Math_round(first.x,3)==Math_round(last.x)&&Math_round(first.y)==Math_round(last.y)&&(closed_1=!0),path+=moveTo(points[0]);for(var p=0;p<points.length-1;p++){var p0=points[p-1],p1=points[p],p2=points[p+1],p3=points[p+2];0===p?p0=points[p]:p==points.length-2&&(p3=points[p+1]),p3||(p3=p2),0===p?p0=closed_1?points[points.length-2]:points[i]:p==points.length-2&&(p3=closed_1?points[1]:points[p+1]);var controlPointA=getCubicControlPointA(p0,p1,p2,0,tensionX,tensionY),controlPointB=getCubicControlPointB(0,p1,p2,p3,tensionX,tensionY);path+=cubicCurveTo(p2,controlPointA,controlPointB);var stepCount=1.2*Math.ceil(getCubicCurveDistance(p1,p2,controlPointA,controlPointB,20)),prevPoint=p1;if(stepCount>0)for(var s=0;s<=stepCount;s++){var point=getPointOnCubicCurve(p1,p2,controlPointA,controlPointB,s/stepCount);if(point.x!=prevPoint.x||point.y!=prevPoint.y){realPoints.push(point);var angle=Math_round(getAngle(prevPoint,point),5);this._distance+=getDistance(prevPoint,point),this.allPoints[Math.floor(this._distance)]={x:point.x,y:point.y,angle:angle},prevPoint=point}}else realPoints.push(p0)}}var allPoints=this.allPoints;if(allPoints.length>1)for(var i_1=0;i_1<allPoints.length;i_1++)if(!allPoints[i_1])if(i_1>1)allPoints[i_1]=allPoints[i_1-1];else for(var k=1;k<allPoints.length;k++)if(allPoints[k]){allPoints[i_1]=allPoints[k];break}}this.path=path}},Polyspline.prototype.getClosestPointIndex=function(point){var index,points=this.allPoints,closest=1/0;if(points.length>1)for(var p=1;p<points.length;p++){var distance=getDistance(point,points[p]);distance<closest&&(index=p,closest=distance)}return index},Object.defineProperty(Polyspline.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(value){this.setPropertyValue("tensionX",value),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(Polyspline.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(value){this.setPropertyValue("tensionY",value,!0),this.makePath()},enumerable:!0,configurable:!0}),Polyspline.prototype.positionToPoint=function(position,extend){var deltaAngle=0,allPoints=this.allPoints,len=allPoints.length;if(isNumber(position)||(position=0),len>1){if(extend&&len>3){if(position<0){position<-.01&&(position=-.01);var f0=allPoints[0],f1=allPoints[1];return{x:x=f0.x-(f0.x-f1.x)*len*position,y:y=f0.y-(f0.y-f1.y)*len*position,angle:getAngle(f0,f1)}}if(position>1){position>1.01&&(position=1.01);var x,y;f0=allPoints[allPoints.length-2],f1=allPoints[allPoints.length-3];return{x:x=f0.x+(f0.x-f1.x)*len*(position-1),y:y=f0.y+(f0.y-f1.y)*len*(position-1),angle:getAngle(f0,{x:x,y:y})}}if(1==position){var point_1=allPoints[allPoints.length-1];return{x:point_1.x,y:point_1.y,angle:point_1.angle}}}else position<0&&(position=Math.abs(position),deltaAngle=180),position>=1&&(position=.9999999999999);var point;return{x:(point=allPoints[Math.floor(position*len)]).x,y:point.y,angle:point.angle+deltaAngle}}return 1==len?{x:(point=allPoints[0]).x,y:point.y,angle:point.angle}:{x:0,y:0,angle:0}},Polyspline}(Polyline_Polyline);Registry_registry.registeredClasses.Polyspline=Polyspline_Polyspline;var Slice_Slice=function(_super){function Slice(){var _this=_super.call(this)||this;return _this.className="Slice",_this.setPropertyValue("cornerRadius",0),_this.setPropertyValue("startAngle",0),_this.setPercentProperty("innerRadius",0),_this.setPercentProperty("radius",0),_this.setPropertyValue("arc",0),_this.setPropertyValue("shiftRadius",0),_this.strokeOpacity=1,_this.setPropertyValue("layout","none"),_this.slice=_this.createChild(Sprite_Sprite),_this.slice.isMeasured=!1,_this._disposers.push(_this.slice),_this.applyTheme(),_this}return Object(tslib_es6.d)(Slice,_super),Slice.prototype.draw=function(){_super.prototype.draw.call(this);var radiusY=this.radiusY;this.radius>0&&0==radiusY&&(radiusY=.01),this.slice.path=Path_arc(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,radiusY,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof RadialGradient_RadialGradient&&this.updateGradient(this.realFill),this.realStroke instanceof RadialGradient_RadialGradient&&this.updateGradient(this.realStroke)},Slice.prototype.updateGradient=function(gradient){gradient.element.attr({gradientUnits:"userSpaceOnUse"}),gradient.element.attr({r:this.radius}),gradient.cx=0,gradient.cy=0,gradient.element.attr({radius:this.radius})},Object.defineProperty(Slice.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?getCommonRectangle([getArcRect(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),getArcRect(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",normalizeAngle(value),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(value){isNumber(value)||(value=0),this.setPropertyValue("arc",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"radius",{get:function(){var radius=this.getPropertyValue("radius");return isNumber(radius)||(radius=0),radius},set:function(value){this.setPropertyValue("radius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"radiusY",{get:function(){var value=this.getPropertyValue("radiusY");return isNumber(value)||(value=this.radius),value},set:function(value){this.setPropertyValue("radiusY",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(value){this.setPropertyValue("cornerRadius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(value){this.setPropertyValue("innerCornerRadius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(value){this.setPropertyValue("shiftRadius",value),this.dx=value*this.radius*this.ix,this.dy=value*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"ix",{get:function(){return Math_cos(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"iy",{get:function(){return this.radius,Math_sin(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),Slice.prototype.getTooltipX=function(){var value=this.getPropertyValue("tooltipX");if(isNumber(value))return value;var p=.5;value instanceof Percent&&(p=value.value);var innerRadius=relativeToValue(this.innerRadius,this.radius);return this.ix*(innerRadius+(this.radius-innerRadius)*p)},Slice.prototype.getTooltipY=function(){var value=this.getPropertyValue("tooltipY");if(isNumber(value))return value;var p=.5;value instanceof Percent&&(p=value.value);var innerRadius=relativeToValue(this.innerRadius,this.radius);return this.iy*(innerRadius+(this.radius-innerRadius)*p)+this.slice.dy},Slice}(Container_Container);Registry_registry.registeredClasses.Slice=Slice_Slice;var Preloader_Preloader=function(_super){function Preloader(){var _this=_super.call(this)||this;_this.className="Preloader",_this.width=Percent_percent(100),_this.height=Percent_percent(100);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,sliceContainer=_this.createChild(Container_Container);sliceContainer.shouldClone=!1;var backgroundSlice=sliceContainer.createChild(Slice_Slice);backgroundSlice.shouldClone=!1,backgroundSlice.radius=53,backgroundSlice.arc=360,backgroundSlice.fill=interfaceColors.getFor("fill"),backgroundSlice.fillOpacity=.8,backgroundSlice.innerRadius=42,backgroundSlice.isMeasured=!1,_this.backgroundSlice=backgroundSlice;var progressSlice=sliceContainer.createChild(Slice_Slice);progressSlice.shouldClone=!1,progressSlice.radius=50,progressSlice.innerRadius=45,progressSlice.fill=interfaceColors.getFor("alternativeBackground"),progressSlice.fillOpacity=.2,progressSlice.isMeasured=!1,_this.progressSlice=progressSlice;var label=sliceContainer.createChild(Label_Label);return label.shouldClone=!1,label.horizontalCenter="middle",label.verticalCenter="middle",label.isMeasured=!1,label.fill=interfaceColors.getFor("text"),label.align="center",label.valign="middle",label.textAlign="middle",label.fillOpacity=.4,_this.label=label,_this.background.opacity=1,_this.background.fill=interfaceColors.getFor("background"),_this.contentAlign="center",_this.contentValign="middle",_this.delay=300,_this.states.create("hidden").properties.opacity=0,_this.visible=!1,_this.hide(0),_this.__disabled=!0,_this._disposers.push(_this.backgroundSlice),_this._disposers.push(_this.progressSlice),_this._disposers.push(_this.label),_this._disposers.push(sliceContainer),_this}return Object(tslib_es6.d)(Preloader,_super),Object.defineProperty(Preloader.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(value){var _this=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",value),this.progressSlice.arc=360*value,this.label&&(this.label.text=Math.round(100*value)+"%"),value>=1?(this._started&&(this._started=void 0),Registry_registry.events.once("enterframe",(function(){var animation=_this.hide();animation&&!animation.isFinished()?animation.events.once("animationended",(function(){_this.__disabled=!0})):_this.__disabled=!0})),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):value>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(Preloader.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(value){this.setPropertyValue("delay",value)},enumerable:!0,configurable:!0}),Preloader}(Container_Container);Registry_registry.registeredClasses.Preloader=Preloader_Preloader;var ResizeButton_ResizeButton=function(_super){function ResizeButton(){var _this=_super.call(this)||this;_this.className="ResizeButton",_this.orientation="horizontal",_this.layout="absolute",_this.horizontalCenter="middle",_this.verticalCenter="middle",_this.draggable=!0,_this.padding(8,8,8,8),_this.background.cornerRadius(20,20,20,20);var icon=new Sprite_Sprite;icon.element=_this.paper.add("path");var path=moveTo({x:-2,y:-6});return path+=lineTo({x:-2,y:6}),path+=moveTo({x:2,y:-6}),path+=lineTo({x:2,y:6}),icon.path=path,icon.pixelPerfect=!0,icon.padding(0,4,0,4),icon.stroke=(new InterfaceColorSet_InterfaceColorSet).getFor("alternativeText"),icon.strokeOpacity=.7,_this.icon=icon,_this.label.dispose(),_this.label=void 0,_this.applyTheme(),_this}return Object(tslib_es6.d)(ResizeButton,_super),Object.defineProperty(ResizeButton.prototype,"orientation",{set:function(value){var icon=this.icon;icon&&(icon.rotation="horizontal"==value?0:-90)},enumerable:!0,configurable:!0}),ResizeButton}(Button_Button);Registry_registry.registeredClasses.ResizeButton=ResizeButton_ResizeButton;var CloseButton_CloseButton=function(_super){function CloseButton(){var _this=_super.call(this)||this;_this.className="CloseButton",_this.padding(8,8,8,8),_this.showSystemTooltip=!0,_this.width=30,_this.height=30;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.cursorOverStyle=MouseCursorStyle.pointer;var background=_this.background;background.cornerRadius(20,20,20,20);var bgc=interfaceColors.getFor("background");background.fill=bgc,background.stroke=interfaceColors.getFor("primaryButton"),background.strokeOpacity=1,background.strokeWidth=1;var downColor=interfaceColors.getFor("primaryButtonActive"),bhs=background.states.getKey("hover");bhs.properties.strokeWidth=3,bhs.properties.fill=bgc;var bds=background.states.getKey("down");bds.properties.stroke=downColor,bds.properties.fill=bgc;var icon=new Sprite_Sprite;return icon.element=_this.paper.add("path"),icon.stroke=background.stroke,_this.icon=icon,_this.applyTheme(),_this}return Object(tslib_es6.d)(CloseButton,_super),CloseButton.prototype.validate=function(){_super.prototype.validate.call(this);var w=this.pixelWidth/3,h=this.pixelHeight/3,path=moveTo({x:-w/2,y:-h/2});path+=lineTo({x:w/2,y:h/2}),path+=moveTo({x:w/2,y:-h/2}),path+=lineTo({x:-w/2,y:h/2}),this.icon.path=path,this.invalidateLayout()},CloseButton.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},CloseButton}(Button_Button);Registry_registry.registeredClasses.CloseButton=CloseButton_CloseButton;var SwitchButton_SwitchButton=function(_super){function SwitchButton(){var _this=_super.call(this)||this;_this.className="SwitchButton",_this.tooltipY=0,_this.layout="horizontal",_this.contentAlign="center",_this.contentValign="middle",_this.padding(8,16,8,16),_this.setStateOnChildren=!0,_this.states.create("active");var interfaceColors=new InterfaceColorSet_InterfaceColorSet,leftLabel=new Label_Label;leftLabel.fillOpacity=.3,leftLabel.states.create("active").properties.fillOpacity=1,leftLabel.isActive=!0,_this.leftLabel=leftLabel;var button=new Button_Button,circle=new Circle_Circle;button.contentValign="none",button.padding(0,0,0,0),circle.radius=10,button.icon=circle,button.icon.valign="middle",button.label=void 0;var p100=Percent_percent(100);button.background.cornerRadius(p100,p100,p100,p100),button.width=3.5*circle.radius,button.height=2.1*circle.radius,button.marginLeft=8,button.marginRight=8,button.togglable=!0,circle.dx=.7*-circle.radius,circle.fill=interfaceColors.getFor("primaryButton"),circle.states.create("hover").properties.fill=interfaceColors.getFor("primaryButtonHover");var as=circle.states.create("active");as.properties.fill=interfaceColors.getFor("primaryButtonActive"),as.properties.dx=.7*circle.radius,_this.switchButton=button,_this.events.on("toggled",(function(){_this.leftLabel.isActive=!_this.isActive,_this.rightLabel.isActive=_this.isActive}));var rightLabel=new Label_Label;return rightLabel.fillOpacity=.3,rightLabel.states.create("active").properties.fillOpacity=1,_this.rightLabel=rightLabel,_this.role="button",_this.focusable=!0,rightLabel.valign="middle",leftLabel.valign="middle",button.valign="middle",_this.applyTheme(),_this}return Object(tslib_es6.d)(SwitchButton,_super),Object.defineProperty(SwitchButton.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(label){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=label,label&&(label.parent=this,label.interactionsEnabled=!1,label.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(SwitchButton.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(label){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=label,label&&(label.parent=this,label.interactionsEnabled=!1,label.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(SwitchButton.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(SwitchButton.prototype,"switchButton",{set:function(button){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=button,button&&(button.parent=this,button.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),SwitchButton.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),source.leftLabel&&this.leftLabel.copyFrom(source.leftLabel),source.rightLabel&&this.rightLabel.copyFrom(source.rightLabel),source.switchButton&&this.switchButton.copyFrom(source.switchButton)},SwitchButton}(Container_Container);Registry_registry.registeredClasses.SwitchButton=SwitchButton_SwitchButton;var Scrollbar_Scrollbar=function(_super){function Scrollbar(){var _this=_super.call(this)||this;_this._previousStart=0,_this._previousEnd=1,_this._prevStart=0,_this._prevEnd=1,_this._isBusy=!1,_this._skipRangeEvents=!1,_this.updateWhileMoving=!0,_this.className="Scrollbar",_this.minHeight=12,_this.minWidth=12,_this.animationDuration=0,_this.animationEasing=cubicOut,_this.margin(10,10,10,10);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;return background.cornerRadius(10,10,10,10),background.fill=interfaceColors.getFor("fill"),background.fillOpacity=.5,_this.showSystemTooltip=!0,_this.startGrip=new ResizeButton_ResizeButton,_this.endGrip=new ResizeButton_ResizeButton,_this.events.on("transformed",_this.updateThumb,_this,!1),_this.start=0,_this.end=1,_this.role="scrollbar",_this.thumb.role="slider",_this.thumb.readerLive="polite",_this.startGrip.role="slider",_this.endGrip.role="slider",_this.events.once("inited",(function(){_this._previousStart=void 0,_this.dispatchRangeChange()}),void 0,!1),_this.hideGrips=!1,_this.orientation="horizontal",_this.setSVGAttribute({"aria-valuemin":"0"}),_this.setSVGAttribute({"aria-valuemax":"100"}),_this.applyTheme(),_this}return Object(tslib_es6.d)(Scrollbar,_super),Scrollbar.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),Type_hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),Type_hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),Type_hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),Type_hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),Type_hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),Type_hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},Scrollbar.prototype.validateLayout=function(){this.updateSize(),_super.prototype.validateLayout.call(this),this.updateExtremes()},Scrollbar.prototype.processBackground=function(){_super.prototype.processBackground.call(this);var background=this.background;background.clickable=!0,background.events.on("hit",this.handleBgHit,this,void 0)},Scrollbar.prototype.handleBgHit=function(event){this.makeBusy();var point=event.spritePoint;point=spritePointToSprite(point,this.background,this);var thumb=this.thumb;if("horizontal"==this.orientation){var thumbX=point.x-thumb.pixelWidth/2;thumbX=fitToRange(thumbX,0,this.innerWidth-thumb.pixelWidth),this._thumbAnimation=thumb.animate({property:"x",to:thumbX},this.animationDuration,this.animationEasing)}else{var thumbY=point.y-thumb.pixelHeight/2;thumbY=fitToRange(thumbY,0,this.innerHeight-thumb.pixelHeight),this._thumbAnimation=thumb.animate({property:"y",to:thumbY},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},Scrollbar.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},Scrollbar.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},Scrollbar.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},Scrollbar.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},Scrollbar.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},Scrollbar.prototype.updateThumb=function(){if(this.parent){var thumb=this.thumb,start=this.start,end=this.end,startGrip=this.startGrip,endGrip=this.endGrip;if("horizontal"==this.orientation){var innerWidth_1=this.innerWidth;thumb.width=innerWidth_1*(end-start),thumb.maxX=innerWidth_1-thumb.pixelWidth,thumb.x=start*innerWidth_1,startGrip.moveTo({x:thumb.pixelX,y:0},void 0,void 0,!0),endGrip.moveTo({x:thumb.pixelX+thumb.pixelWidth,y:0},void 0,void 0,!0),startGrip.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*start)+"%",position:start}).value),startGrip.readerValueNow=""+Math.round(100*start),startGrip.readerValueText=startGrip.readerTitle,endGrip.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*end)+"%",position:end}).value),endGrip.readerValueNow=""+Math.round(100*end),endGrip.readerValueText=endGrip.readerTitle}else{var innerHeight_1=this.innerHeight;thumb.height=innerHeight_1*(end-start),thumb.maxY=innerHeight_1-thumb.pixelHeight,thumb.y=(1-end)*innerHeight_1,startGrip.moveTo({x:0,y:thumb.pixelY+thumb.pixelHeight},void 0,void 0,!0),endGrip.moveTo({x:0,y:thumb.pixelY},void 0,void 0,!0),startGrip.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-start))+"%",position:1-start}).value),startGrip.readerValueNow=""+Math.round(100*start),startGrip.readerValueText=startGrip.readerTitle,endGrip.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-end))+"%",position:1-end}).value),endGrip.readerValueNow=""+Math.round(100*end),endGrip.readerValueText=endGrip.readerTitle}thumb.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*start)+"%",position:start}).value,this.adapter.apply("positionValue",{value:Math.round(100*end)+"%",position:end}).value),thumb.readerValueNow=""+Math.round(100*start),thumb.readerValueText=thumb.readerTitle,this.readerValueNow=""+Math.round(100*start),this.readerValueText=thumb.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},Scrollbar.prototype.updateExtremes=function(){var minX=0,minY=0,maxX=0,maxY=0;"horizontal"==this.orientation?(maxX=this.innerWidth,minY=maxY=this.innerHeight/2):(maxY=this.innerHeight,minX=maxX=this.innerWidth/2);var startGrip=this.startGrip;startGrip.minX=minX,startGrip.maxX=maxX,startGrip.minY=minY,startGrip.maxY=maxY;var endGrip=this.endGrip;endGrip.minX=minX,endGrip.maxX=maxX,endGrip.minY=minY,endGrip.maxY=maxY;var thumb=this.thumb;thumb.minX=minX,thumb.maxX=maxX,thumb.minY=minY,thumb.maxY=maxY},Scrollbar.prototype.updateSize=function(){var orientation=this.orientation,startGrip=this.startGrip;startGrip&&(startGrip.orientation=orientation),this.endGrip&&(this.endGrip.orientation=orientation);var thumb=this.thumb;thumb&&("horizontal"==orientation?(isNumber(this._pixelWidth)||this.width instanceof Percent||(this.width=Percent_percent(100)),Type_hasValue(this.percentHeight)&&(this.height=this.minHeight),thumb.height=this.innerHeight,thumb.verticalCenter="middle",thumb.horizontalCenter="left"):(isNumber(this._pixelHeight)||this.height instanceof Percent||(this.height=Percent_percent(100)),Type_hasValue(this.percentWidth)&&(this.width=this.minWidth),thumb.width=this.innerWidth,thumb.verticalCenter="top",thumb.horizontalCenter="middle"))},Object.defineProperty(Scrollbar.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(position){this._isBusy||(this.__start=position)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"__start",{get:function(){return this._start},set:function(position){this._start=this.getPosition(position),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(position){this._isBusy||(this.__end=position)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"__end",{get:function(){return this._end},set:function(position){this._end=this.getPosition(position),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),Scrollbar.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},Scrollbar.prototype.fixRange=function(range){range.start==Math_round(this._start,2)&&range.end==Math_round(this._end,2)||(this._start=range.start,this._end=range.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},Scrollbar.prototype.getPosition=function(position){return fitToRange(Math_round(position,4),0,1)},Object.defineProperty(Scrollbar.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value)&&("horizontal"===value?(this.startGrip.cursorOverStyle=MouseCursorStyle.horizontalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.horizontalResize):(this.startGrip.cursorOverStyle=MouseCursorStyle.verticalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),Scrollbar.prototype.updateByOrientation=function(){},Object.defineProperty(Scrollbar.prototype,"startGrip",{get:function(){return this._startGrip},set:function(button){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=button,this.processGrip(button)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"endGrip",{get:function(){return this._endGrip},set:function(button){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=button,this.processGrip(button)},enumerable:!0,configurable:!0}),Scrollbar.prototype.processGrip=function(button){button.parent=this,button.isMeasured=!1,button.focusable=!0,button.shouldClone=!1,button.zIndex=100,button.events.on("drag",this.handleGripDrag,this,!1),button.events.on("dragstop",this.makeUnbusy,this,!1),button.events.on("down",this.makeBusy,this,!1),this._disposers.push(button)},Scrollbar.prototype.handleGripDrag=function(event){this.makeBusy(),event.target===this._startGrip?this._usingGrip="start":this._usingGrip="end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(Scrollbar.prototype,"thumb",{get:function(){if(!this._thumb){var thumb=new Button_Button;thumb.background.cornerRadius(10,10,10,10),thumb.padding(0,0,0,0),this.thumb=thumb}return this._thumb},set:function(thumb){var _this=this;thumb&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=thumb,thumb.parent=this,thumb.isMeasured=!1,thumb.inert=!0,thumb.draggable=!0,thumb.clickable=!0,thumb.hoverable=!0,thumb.focusable=!0,thumb.shouldClone=!1,thumb.zIndex=0,thumb.cursorOverStyle=MouseCursorStyle.grab,thumb.cursorDownStyle=MouseCursorStyle.grabbing,thumb.events.on("dragstart",this.makeBusy,this,!1),thumb.events.on("dragstop",this.makeUnbusy,this,!1),thumb.events.on("positionchanged",this.handleThumbPosition,this,!1),thumb.events.on("sizechanged",this.handleThumbPosition,this,!1),thumb.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(getInteraction().body.events.on("keyup",(function(ev){keyboard.isKey(ev.event,["space","enter"])&&_this.thumb.isFocused&&(ev.event.preventDefault(),_this.handleDoubleClick())}))),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),Scrollbar.prototype.handleDoubleClick=function(){this.makeBusy();var newStart=0,newEnd=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(newStart=this._prevStart,newEnd=this._prevEnd);var zoomAnimation=this.animate([{property:"__start",to:newStart},{property:"__end",to:newEnd}],this.animationDuration,this.animationEasing);zoomAnimation&&!zoomAnimation.isFinished()?(zoomAnimation.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=zoomAnimation):this.makeUnbusy()},Scrollbar.prototype.handleThumbPosition=function(){var thumb=this.thumb;if("horizontal"==this.orientation){var innerWidth_2=this.innerWidth,w=thumb.innerWidth,x=thumb.pixelX;this._start=x/innerWidth_2,this._end=(x+w)/innerWidth_2,this.updateThumb()}else{var innerHeight_2=this.innerHeight,h=thumb.innerHeight,y=thumb.pixelY;this._start=1-(y+h)/innerHeight_2,this._end=1-y/innerHeight_2,this.updateThumb()}},Scrollbar.prototype.createBackground=function(){return new RoundedRectangle_RoundedRectangle},Object.defineProperty(Scrollbar.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(value){var _this=this;this._hideGrips=value,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),value?(this._overDisposer=this.events.on("over",(function(){_this.startGrip.show(),_this.endGrip.show()}),void 0,!1),this._outDisposer=this.events.on("out",(function(){_this.startGrip.hide(),_this.endGrip.hide()}),void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(value){this.setPropertyValue("animationDuration",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Scrollbar.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(value){this.setPropertyValue("animationEasing",value)},enumerable:!0,configurable:!0}),Scrollbar.prototype.asFunction=function(field){return"animationEasing"==field||_super.prototype.asIs.call(this,field)},Scrollbar}(Container_Container);Registry_registry.registeredClasses.Scrollbar=Scrollbar_Scrollbar;var Slider_Slider=function(_super){function Slider(){var _this=_super.call(this)||this;return _this.className="Slider",_this.thumb.opacity=0,_this.thumb.interactionsEnabled=!1,_this.endGrip.opacity=0,_this.endGrip.interactionsEnabled=!1,_this.startGrip.events.on("drag",(function(){_this.endGrip.x=_this.startGrip.x,_this.endGrip.y=_this.startGrip.y})),_this.applyTheme(),_this}return Object(tslib_es6.d)(Slider,_super),Object.defineProperty(Slider.prototype,"__end",{get:function(){return this._start},set:function(value){},enumerable:!0,configurable:!0}),Object.defineProperty(Slider.prototype,"end",{get:function(){return this._start},set:function(position){},enumerable:!0,configurable:!0}),Object.defineProperty(Slider.prototype,"start",{get:function(){return this._start},set:function(position){this._isBusy||(this.__start=position)},enumerable:!0,configurable:!0}),Slider}(Scrollbar_Scrollbar);Registry_registry.registeredClasses.Slider=Slider_Slider;var TextLink_TextLink=function(_super){function TextLink(){var _this=_super.call(this)||this;_this.className="TextLink",_this.selectable=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fill=interfaceColors.getFor("primaryButton").brighten(.3),_this.states.create("hover").properties.fill=interfaceColors.getFor("primaryButtonHover").brighten(.3),_this.states.create("down").properties.fill=interfaceColors.getFor("primaryButtonDown").brighten(.3),_this.cursorOverStyle=MouseCursorStyle.pointer,_this.applyTheme(),_this}return Object(tslib_es6.d)(TextLink,_super),TextLink}(Label_Label);Registry_registry.registeredClasses.TextLink=TextLink_TextLink;var Filter_Filter=function(_super){function Filter(){var _this=_super.call(this)||this;return _this.properties={},_this.isTemplate=!1,_this._scale=1,_this._nonScaling=!0,_this.className="Filter",_this.filterPrimitives=new List_List,_this.properties.filterUnits="objectBoundingBox",_this.filterPrimitives.events.on("inserted",(function(ev){_this._disposers.push(ev.newValue)})),_this.width=120,_this.height=120,_this.applyTheme(),_this}return Object(tslib_es6.d)(Filter,_super),Filter.prototype.appendPrimitives=function(filterElement){Iterator_each(this.filterPrimitives.iterator(),(function(filterPrimitive){filterElement.add(filterPrimitive)}))},Filter.prototype.animate=function(animationOptions,duration,easing){return new Animation_Animation(this,animationOptions,duration,easing).start()},Object.defineProperty(Filter.prototype,"width",{get:function(){return this.properties.width},set:function(value){this.properties.width=value},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,"height",{get:function(){return this.properties.height},set:function(value){this.properties.height=value},enumerable:!0,configurable:!0}),Filter.prototype.copyFrom=function(filter){var _this=this;_super.prototype.copyFrom.call(this,filter),Object_each(filter.properties,(function(key,value){_this[key]=value}))},Object.defineProperty(Filter.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(paper){this._paper!=paper&&(this._paper=paper)},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Animation_AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,"scale",{get:function(){return this._scale},set:function(value){this._scale=value,this.updateScale()},enumerable:!0,configurable:!0}),Filter.prototype.updateScale=function(){},Object.defineProperty(Filter.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(value){this.properties.filterUnits=value},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(value){this._nonScaling=value,value||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(Filter.prototype,"sprite",{set:function(value){this.setSprite(value)},enumerable:!0,configurable:!0}),Filter.prototype.setSprite=function(value){this._sprite&&this._sprite!=value&&this._sprite.filters.removeValue(this),this._sprite=value},Filter}(Base_BaseObject),DropShadowFilter_DropShadowFilter=function(_super){function DropShadowFilter(){var _this=_super.call(this)||this;return _this.className="DropShadowFilter",_this.color=Color_color("#000"),_this.feGaussianBlur=_this.paper.add("feGaussianBlur"),_this.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),_this.filterPrimitives.push(_this.feGaussianBlur),_this.feOffset=_this.paper.add("feOffset"),_this.feOffset.attr({result:"offsetBlur"}),_this.filterPrimitives.push(_this.feOffset),_this.feFlood=_this.paper.add("feFlood"),_this.feFlood.attr({"flood-color":_this.color}),_this.filterPrimitives.push(_this.feFlood),_this.feComposite=_this.paper.add("feComposite"),_this.feComposite.attr({in2:"offsetBlur",operator:"in"}),_this.filterPrimitives.push(_this.feComposite),_this.feMerge=_this.paper.addGroup("feMerge"),_this.feMerge.add(_this.paper.add("feMergeNode")),_this.feMerge.add(_this.paper.add("feMergeNode").attr({in:"SourceGraphic"})),_this.filterPrimitives.push(_this.feMerge),_this.width=200,_this.height=200,_this.blur=1.5,_this.dx=3,_this.dy=3,_this.opacity=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(DropShadowFilter,_super),Object.defineProperty(DropShadowFilter.prototype,"color",{get:function(){return this.properties.color},set:function(value){this.properties.color=value,this.feFlood&&this.feFlood.attr({"flood-color":value})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(value){this.properties.opacity=value,this.feFlood.attr({"flood-opacity":value})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,"dx",{get:function(){return this.properties.dx},set:function(value){this.properties.dx=value,this.feOffset.attr({dx:value/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,"dy",{get:function(){return this.properties.dy},set:function(value){this.properties.dy=value,this.feOffset.attr({dy:value/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(DropShadowFilter.prototype,"blur",{get:function(){return this.properties.blur},set:function(value){this.properties.blur=value,this.feGaussianBlur.attr({stdDeviation:value/this.scale})},enumerable:!0,configurable:!0}),DropShadowFilter.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},DropShadowFilter}(Filter_Filter);Registry_registry.registeredClasses.DropShadowFilter=DropShadowFilter_DropShadowFilter;var Tooltip_Tooltip=function(_super){function Tooltip(){var _this=_super.call(this)||this;_this._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},_this._pointTo={x:0,y:0},_this.fitPointerToBounds=!1,_this._verticalOrientation="up",_this.fixDoc=!0,_this.className="Tooltip",_this.isMeasured=!1,_this.getFillFromObject=!0,_this.margin(5,5,5,5),_this.defaultState.transitionDuration=1,_this.hiddenState.transitionDuration=1;var background=_this.background;background.interactionsEnabled=!1,background.fillOpacity=.9,background.strokeWidth=1,background.strokeOpacity=1,background.stroke=Color_color("#ffffff"),background.cornerRadius=3,background.pointerLength=6,background.pointerBaseWidth=10;var dropShadow=new DropShadowFilter_DropShadowFilter;dropShadow.dy=1,dropShadow.dx=1,dropShadow.opacity=.5,background.filters.push(dropShadow),_this.autoTextColor=!0;var label=_this.createChild(Label_Label);return label.shouldClone=!1,_this.label=label,label.padding(7,12,4,12),label.interactionsEnabled=!1,label.horizontalCenter="middle",label.fill=Color_color("#ffffff"),_this._disposers.push(label),_this.label.events.on("sizechanged",_this.drawBackground,_this),_this.label.zIndex=1,_this.pointerOrientation="vertical",_this.animationDuration=0,_this.animationEasing=cubicOut,_this.setPropertyValue("showInViewport",!1),_this.role="tooltip",_this.visible=!1,_this.opacity=0,_this.x=0,_this.y=0,_this.events.on("visibilitychanged",_this.handleVisibility,_this),_this.applyTheme(),_this}return Object(tslib_es6.d)(Tooltip,_super),Tooltip.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(Tooltip.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(value){this.setPropertyValue("getStrokeFromObject",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(value){this.setPropertyValue("autoTextColor",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(value){var _this=this;this.setPropertyValue("keepTargetHover",value,!0)&&value&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",(function(ev){_this.targetSprite&&_this.targetSprite.hoverable&&(_this.targetSprite.isHover=!0)}))),this._disposers.push(this.events.on("out",(function(ev){_this.targetSprite&&_this.targetSprite.hoverable&&(_this.targetSprite.isHover=!1)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(value){this.setPropertyValue("showInViewport",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(value){this.setPropertyValue("getFillFromObject",value,!0)},enumerable:!0,configurable:!0}),Tooltip.prototype.createBackground=function(){return new PointedRectangle_PointedRectangle},Object.defineProperty(Tooltip.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(value){this.setPropertyValue("pointerOrientation",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(value){this.setPropertyValue("animationDuration",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(value){this.setPropertyValue("animationEasing",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"html",{get:function(){return this.label.html},set:function(value){this.label.html!=value&&(this.label.html=value,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"text",{get:function(){return this.label.text},set:function(value){this.label.text!=value&&(this.label.text=value,this.invalidate())},enumerable:!0,configurable:!0}),Tooltip.prototype.draw=function(){_super.prototype.draw.call(this);var label=this.label;label.invalid&&label.validate();var textX,textY,x=this._pointTo.x,y=this._pointTo.y,boundingRect=this._boundingRect,textW=label.measuredWidth,textH=label.measuredHeight,pointerLength=this.background.pointerLength;if(this.fixDoc&&textW>boundingRect.width){spritePointToDocument({x:boundingRect.x,y:boundingRect.y},this.parent);var p1=spritePointToDocument({x:boundingRect.x+boundingRect.width,y:boundingRect.y+boundingRect.height},this.parent),documentWidth=document.body.offsetWidth;document.body.offsetHeight,p1.x>documentWidth/2?boundingRect.x=boundingRect.width-textW:boundingRect.width=boundingRect.x+textW}var pointerOrientation=this.pointerOrientation;"horizontal"==pointerOrientation||"left"==pointerOrientation||"right"==pointerOrientation?(textY=-textH/2,textX="horizontal"==pointerOrientation?x>boundingRect.x+boundingRect.width/2?-textW/2-pointerLength:textW/2+pointerLength:"left"==pointerOrientation?textW/2+pointerLength:-textW/2-pointerLength):(textX=fitToRange(0,boundingRect.x-x+textW/2,boundingRect.x-x+boundingRect.width-textW/2),"vertical"==pointerOrientation?y>boundingRect.y+textH+pointerLength?(textY=-textH-pointerLength,this._verticalOrientation="up"):(textY=pointerLength,this._verticalOrientation="down"):"down"==pointerOrientation?(textY=-textH-pointerLength,this._verticalOrientation="up"):(textY=pointerLength,this._verticalOrientation="down")),textY=fitToRange(textY,boundingRect.y-y,boundingRect.y+boundingRect.height-textH-y),label.x=textX,label.y=textY,this.drawBackground()},Tooltip.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},Tooltip.prototype.drawBackground=function(){var label=this.label,background=this.background,textWidth=label.measuredWidth,textHeight=label.measuredHeight,boundingRect=this._boundingRect,bgWidth=textWidth,bgX=label.pixelX-textWidth/2,bgHeight=textHeight,bgY=label.pixelY,x=this._pointTo.x,y=this._pointTo.y,boundX1=boundingRect.x-x,boundX2=boundX1+boundingRect.width,boundY1=boundingRect.y-y,boundY2=boundY1+boundingRect.height;background.x=bgX,background.y=bgY,background.width=bgWidth,background.height=bgHeight,this.fitPointerToBounds?(background.pointerX=fitToRange(-background.x,boundX1-background.x,boundX2-background.x),background.pointerY=fitToRange(-background.y,boundY1-background.y,boundY2-background.y)):(background.pointerX=-background.x,background.pointerY=-background.y),background.validate()},Tooltip.prototype.delayedPointTo=function(point,instantly){var _this=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=Registry_registry.events.once("exitframe",(function(){_this.pointTo(point,instantly)})),this.addDisposer(this._pointToDisposer)},Tooltip.prototype.pointTo=function(point,instantly){this._pointTo.x==point.x&&this._pointTo.y==point.y||(this._pointTo=point,this.invalidate(),!this.visible||instantly?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Animation_Animation(this,[{property:"x",to:point.x,from:this.pixelX},{property:"y",to:point.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},Tooltip.prototype.setBounds=function(rectangle){var oldRect=this._boundingRect;oldRect.x==rectangle.x&&oldRect.y==rectangle.y&&oldRect.width==rectangle.width&&oldRect.height==rectangle.height||(this._boundingRect=rectangle,this.invalidate())},Object.defineProperty(Tooltip.prototype,"boundingContainer",{set:function(container){this._boundingContainer=container,container.events.on("sizechanged",this.updateBounds,this),container.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),Tooltip.prototype.updateBounds=function(){var boundingContainer=this._boundingContainer,rect=spriteRectToSvg({x:boundingContainer.pixelX,y:boundingContainer.pixelY,width:boundingContainer.maxWidth,height:boundingContainer.maxHeight},boundingContainer);this.setBounds(rect)},Object.defineProperty(Tooltip.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(Tooltip.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),Tooltip.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label),source._boundingRect&&(this._boundingRect=source._boundingRect)},Tooltip.prototype.asFunction=function(field){return"animationEasing"==field||_super.prototype.asIs.call(this,field)},Tooltip}(Container_Container);Registry_registry.registeredClasses.Tooltip=Tooltip_Tooltip;var Trapezoid_Trapezoid=function(_super){function Trapezoid(){var _this=_super.call(this)||this;return _this.className="Trapezoid",_this.element=_this.paper.add("path"),_this.topSide=Percent_percent(100),_this.bottomSide=Percent_percent(100),_this.leftSide=Percent_percent(100),_this.rightSide=Percent_percent(100),_this.isMeasured=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(Trapezoid,_super),Trapezoid.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.pixelWidth,h=this.pixelHeight,ts=relativeToValue(this.topSide,w),bs=relativeToValue(this.bottomSide,w),ls=relativeToValue(this.leftSide,h),rs=relativeToValue(this.rightSide,h),x0=(w-ts)/2,y0=(h-ls)/2,x1=w-(w-ts)/2,y1=(h-rs)/2,x2=w-(w-bs)/2,y2=h-(h-rs)/2,x3=(w-bs)/2,y3=h-(h-ls)/2,mt="",mr="",mb="",ml="";if(Type_hasValue(this.horizontalNeck)){var hn=this.horizontalNeck.value;mt=lineTo({x:w*hn,y:Math.max(y0,y1)}),mb=lineTo({x:w*hn,y:Math.min(y2,y3)})}if(Type_hasValue(this.verticalNeck)){var vn=this.verticalNeck.value;mr=lineTo({x:Math.min(x1,x2),y:h*vn}),ml=lineTo({x:Math.max(x0,x3),y:h*vn})}var path=moveTo({x:x0,y:y0})+mt+lineTo({x:x1,y:y1})+mr+lineTo({x:x2,y:y2})+mb+lineTo({x:x3,y:y3})+ml;this.path=path},Object.defineProperty(Trapezoid.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(value){this.setPercentProperty("topSide",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(value){this.setPercentProperty("bottomSide",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(value){this.setPercentProperty("leftSide",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(value){this.setPercentProperty("rightSide",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(value){this.setPropertyValue("horizontalNeck",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Trapezoid.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(value){this.setPropertyValue("verticalNeck",value,!0)},enumerable:!0,configurable:!0}),Trapezoid}(Sprite_Sprite);Registry_registry.registeredClasses.Trapezoid=Trapezoid_Trapezoid;var Triangle_Triangle=function(_super){function Triangle(){var _this=_super.call(this)||this;return _this.className="Triangle",_this.element=_this.paper.add("path"),_this.direction="top",_this.applyTheme(),_this}return Object(tslib_es6.d)(Triangle,_super),Triangle.prototype.draw=function(){_super.prototype.draw.call(this);var path,w=this.pixelWidth,h=this.pixelHeight;switch(this.direction){case"right":path=moveTo({x:0,y:0})+lineTo({x:w,y:h/2})+lineTo({x:0,y:h})+" Z";break;case"left":path=moveTo({x:w,y:0})+lineTo({x:0,y:h/2})+lineTo({x:w,y:h})+" Z";break;case"bottom":path=moveTo({x:0,y:0})+lineTo({x:w,y:0})+lineTo({x:w/2,y:h})+" Z";break;case"top":path=moveTo({x:w/2,y:0})+lineTo({x:w,y:h})+lineTo({x:0,y:h})+" Z"}this.path=path},Object.defineProperty(Triangle.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(value){this.setPropertyValue("direction",value,!0)},enumerable:!0,configurable:!0}),Triangle}(Sprite_Sprite);Registry_registry.registeredClasses.Triangle=Triangle_Triangle;var Smoothing_Tension=function(){function Tension(tensionX,tensionY){this._tensionX=tensionX,this._tensionY=tensionY}return Tension.prototype.smooth=function(points){for(var i=points.length-1;i>0;i--){var p0=points[i],p1=points[i-1];Math.abs(p0.x-p1.x)<.1&&Math.abs(p0.y-p1.y)<.1&&points.splice(i-1,1)}var tensionX=this._tensionX,tensionY=this._tensionY;if(points.length<3||tensionX>=1&&tensionY>=1)return polyline(points);var first=points[0],last=points[points.length-1],closed=!1;Math_round(first.x,3)==Math_round(last.x)&&Math_round(first.y)==Math_round(last.y)&&(closed=!0);for(var path="",len=(i=0,points.length-1);i<len;i++){p0=points[i-1],p1=points[i];var p2=points[i+1],p3=points[i+2];0===i?p0=closed?points[points.length-2]:points[i]:i==points.length-2&&(p3=closed?points[1]:points[i+1]),path+=cubicCurveTo(p2,getCubicControlPointA(p0,p1,p2,0,tensionX,tensionY),getCubicControlPointB(0,p1,p2,p3,tensionX,tensionY))}return path},Tension}();function wavedLine(point1,point2,waveLength,waveHeight,tension,adjustWaveLength){var x1=point1.x,y1=point1.y,x2=point2.x,y2=point2.y,distance=getDistance(point1,point2);adjustWaveLength&&(waveLength=distance/Math.round(distance/waveLength));var d=Registry_registry.getCache(Utils_stringify(["wavedLine",point1.x,point2.x,point1.y,point2.y,waveLength,waveHeight]));if(!d){if(distance>0){var angle=Math.atan2(y2-y1,x2-x1),cos=Math.cos(angle),sin=Math.sin(angle),waveLengthX=waveLength*cos,waveLengthY=waveLength*sin;if(waveLength<=1||waveHeight<=1)d=lineTo(point2);else{var halfWaveCount=Math.round(2*distance/waveLength),points=[],sign_1=1;x2<x1&&(sign_1*=-1),y2<y1&&(sign_1*=-1);for(var i=0;i<=halfWaveCount;i++){var x=x1+i*waveLengthX/2+(sign_1*=-1)*waveHeight/2*sin,y=y1+i*waveLengthY/2-sign_1*waveHeight/2*cos;points.push({x:x,y:y})}d=new Smoothing_Tension(tension,tension).smooth(points)}}else d="";Registry_registry.setCache(Utils_stringify(["wavedLine",point1.x,point2.x,point1.y,point2.y,waveLength,waveHeight]),d)}return d}var Smoothing_Monotone=function(){function Monotone(reversed,info){this._reversed=reversed,this._closed=info.closed}return Monotone.prototype._curve=function(x0,x1,y0,y1,t0,t1){var dx=(x1-x0)/3;return this._reversed?cubicCurveTo({x:y1,y:x1},{x:y0+dx*t0,y:x0+dx},{x:y1-dx*t1,y:x1-dx}):cubicCurveTo({x:x1,y:y1},{x:x0+dx,y:y0+dx*t0},{x:x1-dx,y:y1-dx*t1})},Monotone.prototype.smooth=function(points){var _this=this,x0=NaN,x1=NaN,y0=NaN,y1=NaN,t0=NaN,point=0,output="";switch(each(points,(function(_a){var x=_a.x,y=_a.y;if(_this._reversed){var temp=x;x=y,y=temp}var t1=NaN;if(x!==x1||y!==y1){switch(point){case 0:point=1,_this._reversed?output+=lineTo({x:y,y:x}):output+=lineTo({x:x,y:y});break;case 1:point=2;break;case 2:point=3,output+=_this._curve(x0,x1,y0,y1,slope2(x0,x1,y0,y1,t1=slope3(x0,x1,y0,y1,x,y)),t1);break;default:output+=_this._curve(x0,x1,y0,y1,t0,t1=slope3(x0,x1,y0,y1,x,y))}x0=x1,x1=x,y0=y1,y1=y,t0=t1}})),point){case 2:this._reversed?output+=lineTo({x:y1,y:x1}):output+=lineTo({x:x1,y:y1});break;case 3:output+=this._curve(x0,x1,y0,y1,t0,slope2(x0,x1,y0,y1,t0))}return this._closed&&(output+=" Z"),output},Monotone}();function Smoothing_sign(x){return x<0?-1:1}function slope2(x0,x1,y0,y1,t){var h=x1-x0;return h?(3*(y1-y0)/h-t)/2:t}function slope3(x0,x1,y0,y1,x2,y2){var h0=x1-x0,h1=x2-x1,s0=(y1-y0)/(h0||h1<0&&-0),s1=(y2-y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(Smoothing_sign(s0)+Smoothing_sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}var Smoothing_MonotoneX=function(_super){function MonotoneX(info){return _super.call(this,!1,info)||this}return Object(tslib_es6.d)(MonotoneX,_super),MonotoneX}(Smoothing_Monotone),Smoothing_MonotoneY=function(_super){function MonotoneY(info){return _super.call(this,!0,info)||this}return Object(tslib_es6.d)(MonotoneY,_super),MonotoneY}(Smoothing_Monotone),WavedCircle_WavedCircle=(function(){function Basis(info){this._closed=info.closed}Basis.prototype.smooth=function(points){var _this=this,x0=NaN,x1=NaN,x2=NaN,x3=NaN,x4=NaN,y0=NaN,y1=NaN,y2=NaN,y3=NaN,y4=NaN,point=0,output="",pushCurve=function(x,y){output+=cubicCurveTo({x:(x0+4*x1+x)/6,y:(y0+4*y1+y)/6},{x:(2*x0+x1)/3,y:(2*y0+y1)/3},{x:(x0+2*x1)/3,y:(y0+2*y1)/3})},pushPoint=function(_a){var x=_a.x,y=_a.y;switch(point){case 0:point=1,_this._closed?(x2=x,y2=y):output+=lineTo({x:x,y:y});break;case 1:point=2,_this._closed&&(x3=x,y3=y);break;case 2:if(point=3,_this._closed){x4=x,y4=y,output+=moveTo({x:(x0+4*x1+x)/6,y:(y0+4*y1+y)/6});break}output+=lineTo({x:(5*x0+x1)/6,y:(5*y0+y1)/6});default:pushCurve(x,y)}x0=x1,x1=x,y0=y1,y1=y};if(each(points,pushPoint),this._closed)switch(point){case 1:output+=moveTo({x:x2,y:y2}),output+=" Z";break;case 2:output+=moveTo({x:(x2+2*x3)/3,y:(y2+2*y3)/3}),output+=lineTo({x:(x3+2*x2)/3,y:(y3+2*y2)/3}),output+=" Z";break;case 3:pushPoint({x:x2,y:y2}),pushPoint({x:x3,y:y3}),pushPoint({x:x4,y:y4})}else{switch(point){case 3:pushCurve(x1,y1);case 2:output+=lineTo({x:x1,y:y1})}output+=" Z"}return output}}(),function(_super){function WavedCircle(){var _this=_super.call(this)||this;return _this.className="WavedCircle",_this.element=_this.paper.add("path"),_this.waveLength=16,_this.waveHeight=4,_this.fill=void 0,_this.fillOpacity=0,_this.tension=.8,_this.applyTheme(),_this}return Object(tslib_es6.d)(WavedCircle,_super),WavedCircle.prototype.draw=function(){var path="",radius=this.pixelRadius;radius>0&&(path=moveTo((points=this.getPoints(radius))[0])+new Smoothing_Tension(this.tension,this.tension).smooth(points));var points,innerRadius=this.pixelInnerRadius;innerRadius>0&&((points=this.getPoints(innerRadius)).reverse(),path+=moveTo(points[0])+new Smoothing_Tension(this.tension,this.tension).smooth(points));this.path=path},WavedCircle.prototype.getPoints=function(radius){for(var circleLength=radius*Math.PI*2,halfWaveHeight=this.waveHeight/2,waveLength=circleLength/Math.round(circleLength/this.waveLength),halfWaveLength=waveLength/2,points=[],count=circleLength/waveLength,i=0;i<=count;i++){var angle1=i*waveLength/circleLength*360,angle2=(i*waveLength+halfWaveLength)/circleLength*360;points.push({x:(radius-halfWaveHeight)*Math_cos(angle1),y:(radius-halfWaveHeight)*Math_sin(angle1)}),points.push({x:(radius+halfWaveHeight)*Math_cos(angle2),y:(radius+halfWaveHeight)*Math_sin(angle2)})}return points.pop(),points},Object.defineProperty(WavedCircle.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(value){this.setPropertyValue("waveLength",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(value){this.setPropertyValue("waveHeight",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedCircle.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(value){this.setPropertyValue("tension",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedCircle}(Circle_Circle));Registry_registry.registeredClasses.WavedCircle=WavedCircle_WavedCircle;var WavedLine_WavedLine=function(_super){function WavedLine(){var _this=_super.call(this)||this;return _this.className="WavedLine",_this.element=_this.paper.add("path"),_this.waveLength=16,_this.waveHeight=4,_this.tension=.8,_this.pixelPerfect=!1,_this.fill=Color_color(),_this.applyTheme(),_this}return Object(tslib_es6.d)(WavedLine,_super),WavedLine.prototype.draw=function(){var p1={x:this.x1,y:this.y1},p2={x:this.x2,y:this.y2};this.path=moveTo(p1)+wavedLine(p1,p2,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(WavedLine.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(value){this.setPropertyValue("waveLength",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedLine.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(value){this.setPropertyValue("waveHeight",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedLine.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(value){this.setPropertyValue("tension",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedLine}(Line_Line),WavedRectangle_WavedRectangle=function(_super){function WavedRectangle(){var _this=_super.call(this)||this;return _this.className="WavedRectangle",_this.element=_this.paper.add("path"),_this.waveLength=16,_this.waveHeight=4,_this.tension=.8,_this.setPropertyValue("wavedLeft",!0),_this.setPropertyValue("wavedRight",!0),_this.setPropertyValue("wavedTop",!0),_this.setPropertyValue("wavedBottom",!0),_this.applyTheme(),_this}return Object(tslib_es6.d)(WavedRectangle,_super),WavedRectangle.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.pixelWidth,h=this.pixelHeight;if(w>0&&h>0){var p1={x:0,y:0},p2={x:w,y:0},p3={x:w,y:h},p4={x:0,y:h},waveLengthH=Math.min(w,this.waveLength),waveHeightH=Math.min(h,this.waveHeight),waveLengthV=Math.min(h,this.waveLength),waveHeightV=Math.min(w,this.waveHeight),td="",rd="",bd="",ld="";this.wavedTop&&(td=wavedLine(p1,p2,waveLengthH,waveHeightH,this.tension,!0)),this.wavedRight&&(rd=wavedLine(p2,p3,waveLengthV,waveHeightV,this.tension,!0)),this.wavedBottom&&(bd=wavedLine(p3,p4,waveLengthH,waveHeightH,this.tension,!0)),this.wavedLeft&&(ld=wavedLine(p4,p1,waveLengthV,waveHeightV,this.tension,!0)),this.path=moveTo(p1)+td+lineTo(p2)+rd+lineTo(p3)+bd+lineTo(p4)+ld+"z"}},Object.defineProperty(WavedRectangle.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(value){this.setPropertyValue("waveLength",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(value){this.setPropertyValue("waveHeight",value),this.invalidate()},enumerable:!0,configurable:!0}),WavedRectangle.prototype.setWavedSides=function(top,right,bottom,left){this.wavedTop=top,this.wavedRight=right,this.wavedBottom=bottom,this.wavedLeft=left},Object.defineProperty(WavedRectangle.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(value){this.setPropertyValue("tension",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(value){this.setPropertyValue("wavedRight",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(value){this.setPropertyValue("wavedLeft",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(value){this.setPropertyValue("wavedTop",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(WavedRectangle.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(value){this.setPropertyValue("wavedBottom",value,!0)},enumerable:!0,configurable:!0}),WavedRectangle}(Rectangle_Rectangle),ZoomOutButton_ZoomOutButton=function(_super){function ZoomOutButton(){var _this=_super.call(this)||this;_this.className="ZoomOutButton",_this.padding(9,9,9,9),_this.showSystemTooltip=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.cornerRadius(20,20,20,20),background.fill=interfaceColors.getFor("primaryButton"),background.stroke=interfaceColors.getFor("primaryButtonStroke"),background.strokeOpacity=0,background.states.getKey("hover").properties.fill=interfaceColors.getFor("primaryButtonHover"),background.states.getKey("down").properties.fill=interfaceColors.getFor("primaryButtonActive");var icon=new Sprite_Sprite;icon.element=_this.paper.add("path");var path=moveTo({x:0,y:0});return path+=lineTo({x:11,y:0}),icon.path=path,icon.pixelPerfect=!0,icon.padding(8,3,8,3),icon.stroke=interfaceColors.getFor("primaryButtonText"),_this.icon=icon,_this.applyTheme(),_this}return Object(tslib_es6.d)(ZoomOutButton,_super),ZoomOutButton.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},ZoomOutButton}(Button_Button);Registry_registry.registeredClasses.ZoomOutButton=ZoomOutButton_ZoomOutButton;var PlayButton_PlayButton=function(_super){function PlayButton(){var _this=_super.call(this)||this;_this.className="PlayButton",_this.padding(12,12,12,12),_this.showSystemTooltip=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,background=_this.background;background.cornerRadius(25,25,25,25),background.fill=interfaceColors.getFor("primaryButton"),background.stroke=interfaceColors.getFor("primaryButtonStroke"),background.strokeOpacity=0,background.states.getKey("hover").properties.fill=interfaceColors.getFor("primaryButtonHover"),background.states.getKey("down").properties.fill=interfaceColors.getFor("primaryButtonActive");var playIcon=new Triangle_Triangle;playIcon.direction="right",playIcon.width=9,playIcon.height=11,playIcon.marginLeft=1,playIcon.marginRight=1,playIcon.horizontalCenter="middle",playIcon.verticalCenter="middle",playIcon.stroke=interfaceColors.getFor("primaryButtonText"),playIcon.fill=playIcon.stroke,_this.icon=playIcon;var stopIcon=new RoundedRectangle_RoundedRectangle;stopIcon.width=11,stopIcon.height=11,stopIcon.horizontalCenter="middle",stopIcon.verticalCenter="middle",stopIcon.cornerRadius(0,0,0,0),stopIcon.stroke=interfaceColors.getFor("primaryButtonText"),stopIcon.fill=playIcon.stroke,_this.togglable=!0;var activeState=_this.states.create("active");return activeState.transitionDuration=0,activeState.properties.icon=stopIcon,_this.defaultState.transitionDuration=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(PlayButton,_super),PlayButton.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},PlayButton}(Button_Button);Registry_registry.registeredClasses.PlayButton=PlayButton_PlayButton;var ColorModifier_ColorModifier=function(_super){function ColorModifier(){var _this=_super.call(this)||this;return _this.className="ColorModifier",_this.applyTheme(),_this}return Object(tslib_es6.d)(ColorModifier,_super),ColorModifier.prototype.modify=function(value){return value},ColorModifier}(Base_BaseObject);Registry_registry.registeredClasses.ColorModifier=ColorModifier_ColorModifier;var GradientModifier_GradientModifier=function(_super){function GradientModifier(){var _this=_super.call(this)||this;return _this.lightnesses=[],_this.brightnesses=[],_this.opacities=[],_this.offsets=[],_this.className="GradientModifier",_this.applyTheme(),_this}return Object(tslib_es6.d)(GradientModifier,_super),Object.defineProperty(GradientModifier.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(value){this._lightnesses=value,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(value){this._brightnesses=value,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,"opacities",{get:function(){return this._opacities},set:function(value){this._opacities=value},enumerable:!0,configurable:!0}),Object.defineProperty(GradientModifier.prototype,"offsets",{get:function(){return this._offsets},set:function(value){this._offsets=value},enumerable:!0,configurable:!0}),GradientModifier.prototype.modify=function(value){this.gradient.clear();var count=0;this.opacities&&(count=Math_max(count,this.opacities.length)),this.lightnesses&&(count=Math_max(count,this.lightnesses.length)),this.brightnesses&&(count=Math_max(count,this.brightnesses.length));for(var lightness,brightness,opacity=1,i=0;i<count;i++){var color=value;this.opacities&&isNumber(this.opacities[i])&&(opacity=this.opacities[i]),this.lightnesses&&isNumber(this.lightnesses[i])&&(lightness=this.lightnesses[i],brightness=void 0),this.brightnesses&&isNumber(this.brightnesses[i])&&(brightness=this.brightnesses[i],lightness=void 0),isNumber(brightness)?color=value.brighten(this.brightnesses[i]):isNumber(lightness)&&(color=value.lighten(this.lightnesses[i]));var offset=this.offsets[i];this.gradient.addColor(color,opacity,offset)}return this.gradient},GradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this._offsets=source.offsets,this._brightnesses=source.brightnesses,this._lightnesses=source.lightnesses,this._opacities=source.opacities},GradientModifier}(ColorModifier_ColorModifier);Registry_registry.registeredClasses.GradientModifier=GradientModifier_GradientModifier;var LinearGradientModifier_LinearGradientModifier=function(_super){function LinearGradientModifier(){var _this=_super.call(this)||this;return _this.className="LinearGradientModifier",_this.gradient=new LinearGradient_LinearGradient,_this.applyTheme(),_this}return Object(tslib_es6.d)(LinearGradientModifier,_super),LinearGradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.gradient=source.gradient.clone()},LinearGradientModifier}(GradientModifier_GradientModifier);Registry_registry.registeredClasses.LinearGradientModifier=LinearGradientModifier_LinearGradientModifier;var Cone_Cone=function(_super){function Cone(){var _this=_super.call(this)||this;return _this.className="Cone",_this.angle=30,_this.radius=Percent_percent(100),_this.topRadius=Percent_percent(100),_this.top=_this.createChild(Ellipse_Ellipse),_this.top.shouldClone=!1,_this.bottom=_this.createChild(Ellipse_Ellipse),_this.bottom.shouldClone=!1,_this.body=_this.createChild(Sprite_Sprite),_this.body.shouldClone=!1,_this.body.setElement(_this.paper.add("path")),_this.layout="none",_this.bodyFillModifier=new LinearGradientModifier_LinearGradientModifier,_this.bodyFillModifier.lightnesses=[0,-.25,0],_this.body.fillModifier=_this.bodyFillModifier,_this.applyTheme(),_this}return Object(tslib_es6.d)(Cone,_super),Cone.prototype.draw=function(){_super.prototype.draw.call(this),copyProperties(this,this.top,visualProperties),copyProperties(this,this.bottom,visualProperties),copyProperties(this,this.body,visualProperties);var radiusBase,dx,dy,w=this.innerWidth,h=this.innerHeight,bottom=this.bottom,top=this.top,angle=this.angle;"horizontal"==this.orientation?(radiusBase=h/2,bottom.y=h/2,top.y=h/2,top.x=w,dx=(90-angle)/90,dy=0,this.bodyFillModifier.gradient.rotation=90):(dx=0,dy=(90-angle)/90,radiusBase=w/2,bottom.y=h,bottom.x=w/2,top.x=w/2,this.bodyFillModifier.gradient.rotation=0);var path,radius=this.radius.value*radiusBase,topRadius=this.topRadius.value*radiusBase;bottom.radius=radius-radius*dx,bottom.radiusY=radius-radius*dy,top.radius=topRadius-topRadius*dx,top.radiusY=topRadius-topRadius*dy,path="horizontal"==this.orientation?moveTo({x:0,y:h/2-bottom.radiusY})+arcTo(-90,-180,bottom.radius,bottom.radiusY)+lineTo({x:w,y:h/2+top.radiusY})+arcTo(90,180,top.radius,top.radiusY)+" Z":moveTo({x:w/2-top.radius,y:0})+arcTo(180,-180,top.radius,top.radiusY)+lineTo({x:w/2+bottom.radius,y:h})+arcTo(0,180,bottom.radius,bottom.radiusY)+" Z",this.body.path=path},Object.defineProperty(Cone.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){this.setPropertyValue("angle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPropertyValue("radius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(value){this.setPropertyValue("topRadius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Cone.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value,!0)},enumerable:!0,configurable:!0}),Cone}(Container_Container),LightenFilter_LightenFilter=function(_super){function LightenFilter(){var _this=_super.call(this)||this;return _this.className="LightenFilter",_this.feColorMatrix=_this.paper.add("feColorMatrix"),_this.feColorMatrix.attr({type:"matrix"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.lightness=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(LightenFilter,_super),Object.defineProperty(LightenFilter.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(value){this.properties.lightness=value;var v=value+1;this.feColorMatrix.attr({values:v+" 0 0 0 0 0 "+v+" 0 0 0 0 0 "+v+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),LightenFilter}(Filter_Filter);Registry_registry.registeredClasses.LightenFilter=LightenFilter_LightenFilter;var Rectangle3D_Rectangle3D=function(_super){function Rectangle3D(){var _this=_super.call(this)||this;_this.angle=30,_this.depth=30,_this.className="Rectangle3D",_this.layout="none";var sideBack=_this.createChild(Sprite_Sprite);sideBack.shouldClone=!1,sideBack.setElement(_this.paper.add("path")),sideBack.isMeasured=!1,_this.sideBack=sideBack,_this._disposers.push(_this.sideBack);var sideBottom=_this.createChild(Sprite_Sprite);sideBottom.shouldClone=!1,sideBottom.setElement(_this.paper.add("path")),sideBottom.isMeasured=!1,_this.sideBottom=sideBottom,_this._disposers.push(_this.sideBottom);var sideLeft=_this.createChild(Sprite_Sprite);sideLeft.shouldClone=!1,sideLeft.setElement(_this.paper.add("path")),sideLeft.isMeasured=!1,_this.sideLeft=sideLeft,_this._disposers.push(_this.sideLeft);var sideRight=_this.createChild(Sprite_Sprite);sideRight.shouldClone=!1,sideRight.setElement(_this.paper.add("path")),sideRight.isMeasured=!1,_this.sideRight=sideRight,_this._disposers.push(_this.sideRight);var sideTop=_this.createChild(Sprite_Sprite);sideTop.shouldClone=!1,sideTop.setElement(_this.paper.add("path")),sideTop.isMeasured=!1,_this.sideTop=sideTop,_this._disposers.push(_this.sideTop);var sideFront=_this.createChild(Sprite_Sprite);return sideFront.shouldClone=!1,sideFront.setElement(_this.paper.add("path")),sideFront.isMeasured=!1,_this.sideFront=sideFront,_this._disposers.push(_this.sideFront),_this.applyTheme(),_this}return Object(tslib_es6.d)(Rectangle3D,_super),Rectangle3D.prototype.draw=function(){_super.prototype.draw.call(this);var w=this.innerWidth,h=this.innerHeight,depth=this.depth,angle=this.angle,sin=Math_sin(angle),cos=Math_cos(angle),a={x:0,y:0},b={x:w,y:0},c={x:w,y:h},d={x:0,y:h},ah={x:depth*cos,y:-depth*sin},bh={x:depth*cos+w,y:-depth*sin},ch={x:depth*cos+w,y:-depth*sin+h},dh={x:depth*cos,y:-depth*sin+h};this.sideFront.path=moveTo(a)+lineTo(b)+lineTo(c)+lineTo(d)+" Z",this.sideBack.path=moveTo(ah)+lineTo(bh)+lineTo(ch)+lineTo(dh)+" Z",this.sideLeft.path=moveTo(a)+lineTo(ah)+lineTo(dh)+lineTo(d)+" Z",this.sideRight.path=moveTo(b)+lineTo(bh)+lineTo(ch)+lineTo(c)+" Z",this.sideBottom.path=moveTo(d)+lineTo(dh)+lineTo(ch)+lineTo(c)+" Z",this.sideTop.path=moveTo(a)+lineTo(ah)+lineTo(bh)+lineTo(b)+" Z"},Object.defineProperty(Rectangle3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(value){this.setPropertyValue("depth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Rectangle3D.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){this.setPropertyValue("angle",value,!0)},enumerable:!0,configurable:!0}),Rectangle3D.prototype.setFill=function(value){var colorStr;if(_super.prototype.setFill.call(this,value),(!Type_isObject(value)||"r"in value)&&(value=toColor(value)),value instanceof Color_Color)colorStr=value.hex;else if(value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient)colorStr=value.stops.getIndex(0).color.hex;else{var filter=new LightenFilter_LightenFilter;filter.lightness=-.2,this.sideBack.filters.push(filter);var filter2=filter.clone();filter2.lightness=-.4,this.sideLeft.filters.push(filter2);var filter3=filter.clone();filter3.lightness=-.2,this.sideRight.filters.push(filter3);var filter4=filter.clone();filter4.lightness=-.1,this.sideTop.filters.push(filter4);var filter5=filter.clone();filter5.lightness=-.5,this.sideBottom.filters.push(filter5)}colorStr&&(this.sideBack.fill=Color_color(colorStr).lighten(-.2),this.sideLeft.fill=Color_color(colorStr).lighten(-.4),this.sideRight.fill=Color_color(colorStr).lighten(-.2),this.sideTop.fill=Color_color(colorStr).lighten(-.1),this.sideBottom.fill=Color_color(colorStr).lighten(-.5))},Rectangle3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.sideBack.copyFrom(source.sideBack),this.sideLeft.copyFrom(source.sideLeft),this.sideRight.copyFrom(source.sideRight),this.sideTop.copyFrom(source.sideTop),this.sideBottom.copyFrom(source.sideBottom)},Rectangle3D}(Container_Container),Slice3D_Slice3D=function(_super){function Slice3D(){var _this=_super.call(this)||this;_this.className="Slice3D",_this.layout="none";var edge=_this.createChild(Sprite_Sprite);_this.edge=edge,edge.shouldClone=!1,edge.isMeasured=!1,edge.toBack(),_this.angle=30,_this.depth=20;var sideA=_this.createChild(Sprite_Sprite);_this.sideA=sideA,sideA.shouldClone=!1,sideA.isMeasured=!1;var sideB=_this.createChild(Sprite_Sprite);return _this.sideB=sideB,sideB.shouldClone=!1,sideB.isMeasured=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(Slice3D,_super),Slice3D.prototype.setFill=function(value){var colorStr;if(_super.prototype.setFill.call(this,value),value instanceof Color_Color)colorStr=value.hex;else if(value instanceof LinearGradient_LinearGradient||value instanceof RadialGradient_RadialGradient)colorStr=value.stops.getIndex(0).color.hex;else{var filter=new LightenFilter_LightenFilter;filter.lightness=-.25,this.edge.filters.push(filter),this.sideA.filters.push(filter.clone()),this.sideB.filters.push(filter.clone())}if(colorStr){var edgeFill=Color_color(colorStr).lighten(-.25);this.edge.fill=edgeFill,this.sideA.fill=edgeFill,this.sideB.fill=edgeFill,this.edge.stroke=edgeFill,this.sideA.stroke=edgeFill,this.sideB.stroke=edgeFill}},Slice3D.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,_super.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var startAngle=this.startAngle,arc=this.arc,innerRadius=this.pixelInnerRadius||0,radiusY=this.radiusY||0,radius=this.radius,endAngle=startAngle+arc,innerRadiusY=radiusY/radius*innerRadius,a0={x:Math_cos(startAngle)*innerRadius,y:Math_sin(startAngle)*innerRadiusY},b0={x:Math_cos(startAngle)*radius,y:Math_sin(startAngle)*radiusY},c0={x:Math_cos(endAngle)*radius,y:Math_sin(endAngle)*radiusY},d0={x:Math_cos(endAngle)*innerRadius,y:Math_sin(endAngle)*innerRadiusY},h=this.depth,ah={x:a0.x,y:a0.y-h},bh={x:b0.x,y:b0.y-h},ch={x:c0.x,y:c0.y-h},dh={x:d0.x,y:d0.y-h},edgePath="",count=Math.ceil(arc/5),step=arc/count,mangle=startAngle,prevPoint=bh,i=0;i<count;i++)if((mangle+=step)>0&&mangle<180){edgePath+=moveTo(prevPoint);var pp={x:Math_cos(mangle)*radius,y:Math_sin(mangle)*radiusY-h};edgePath+=lineTo({x:prevPoint.x,y:prevPoint.y+h}),edgePath+=arcToPoint({x:pp.x,y:pp.y+h},radius,radiusY,!0),edgePath+=lineTo(pp),edgePath+=arcToPoint(prevPoint,radius,radiusY),edgePath+="z",prevPoint=pp}else{edgePath+=moveTo(prevPoint),edgePath+=arcToPoint(pp={x:Math_cos(mangle)*radius,y:Math_sin(mangle)*radiusY-h},radius,radiusY,!0),edgePath+=lineTo({x:pp.x,y:pp.y+h}),edgePath+=arcToPoint({x:prevPoint.x,y:prevPoint.y+h},radius,radiusY),edgePath+=lineTo(prevPoint),edgePath+="z",prevPoint=pp}prevPoint=ah,mangle=startAngle;for(i=0;i<count;i++)if((mangle+=step)>0&&mangle<180){edgePath+=moveTo(prevPoint);pp={x:Math_cos(mangle)*innerRadius,y:Math_sin(mangle)*innerRadiusY-h};edgePath+=lineTo({x:prevPoint.x,y:prevPoint.y+h}),edgePath+=arcToPoint({x:pp.x,y:pp.y+h},innerRadius,innerRadiusY,!0),edgePath+=lineTo(pp),edgePath+=arcToPoint(prevPoint,innerRadius,innerRadiusY),edgePath+="z",prevPoint=pp}else{edgePath+=moveTo(prevPoint),edgePath+=arcToPoint(pp={x:Math_cos(mangle)*innerRadius,y:Math_sin(mangle)*innerRadiusY-h},innerRadius,innerRadiusY,!0),edgePath+=lineTo({x:pp.x,y:pp.y+h}),edgePath+=arcToPoint({x:prevPoint.x,y:prevPoint.y+h},innerRadius,innerRadiusY),edgePath+=lineTo(prevPoint),edgePath+="z",prevPoint=pp}this.edge.path=edgePath,this.sideA.path=moveTo(a0)+lineTo(b0)+lineTo(bh)+lineTo(ah)+" Z",this.sideB.path=moveTo(c0)+lineTo(d0)+lineTo(dh)+lineTo(ch)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-h}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(Slice3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(depth){this.setPropertyValue("depth",depth,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice3D.prototype,"angle",{get:function(){var angle=this.getPropertyValue("angle");return isNumber(angle)||(angle=0),angle},set:function(value){this.setPropertyValue("angle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Slice3D.prototype,"radiusY",{get:function(){var radiusY=this.getPropertyValue("radiusY");return isNumber(radiusY)||(radiusY=this.radius-this.radius*this.angle/90),radiusY},set:function(value){this.setPropertyValue("radiusY",value,!0)},enumerable:!0,configurable:!0}),Slice3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.edge.copyFrom(source.edge),this.sideA.copyFrom(source.sideA),this.sideB.copyFrom(source.sideB)},Slice3D}(Slice_Slice),RadialGradientModifier_RadialGradientModifier=function(_super){function RadialGradientModifier(){var _this=_super.call(this)||this;return _this.className="RadialGradientModifier",_this.gradient=new RadialGradient_RadialGradient,_this.applyTheme(),_this}return Object(tslib_es6.d)(RadialGradientModifier,_super),RadialGradientModifier.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.gradient=source.gradient.clone()},RadialGradientModifier}(GradientModifier_GradientModifier);Registry_registry.registeredClasses.RadialGradientModifier=RadialGradientModifier_RadialGradientModifier;var LinePattern_LinePattern=function(_super){function LinePattern(){var _this=_super.call(this)||this;return _this.properties.gap=0,_this._line=_this.paper.add("path"),_this.addElement(_this._line),_this}return Object(tslib_es6.d)(LinePattern,_super),LinePattern.prototype.draw=function(){if(_super.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var w=this.width,h=this.height,path="";if(this.gap)for(var step=this.gap+this.strokeWidth,count=this.height/step,i=-count/2;i<1.5*count;i++)Math.round(this.rotation/90)!=this.rotation/90?(path+=moveTo({x:-w,y:(i+.5)*step})+lineTo({x:2*w,y:(i+.5)*step}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):path+=moveTo({x:-w,y:i*step})+lineTo({x:2*w,y:i*step});else Math.round(this.rotation/90)!=this.rotation/90?(path=moveTo({x:-w,y:h/2})+lineTo({x:2*w,y:h/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):path=moveTo({x:0,y:0})+lineTo({x:w,y:0});this._line.attr({d:path})}},Object.defineProperty(LinePattern.prototype,"gap",{get:function(){return this.properties.gap},set:function(value){this.properties.gap=value,this.draw()},enumerable:!0,configurable:!0}),LinePattern}(Pattern_Pattern);Registry_registry.registeredClasses.LinePattern=LinePattern_LinePattern;var CirclePattern_CirclePattern=function(_super){function CirclePattern(){var _this=_super.call(this)||this;return _this.properties.radius=2,_this._circle=_this.paper.add("circle"),_this.addElement(_this._circle),_this.shapeRendering="auto",_this}return Object(tslib_es6.d)(CirclePattern,_super),CirclePattern.prototype.draw=function(){_super.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(CirclePattern.prototype,"radius",{get:function(){return this.properties.radius},set:function(value){this.properties.radius=value,this.draw()},enumerable:!0,configurable:!0}),CirclePattern}(Pattern_Pattern);Registry_registry.registeredClasses.CirclePattern=CirclePattern_CirclePattern;var RectPattern_RectPattern=function(_super){function RectPattern(){var _this=_super.call(this)||this;return _this.rectHeight=1,_this.rectWidth=1,_this._rect=_this.paper.add("rect"),_this.addElement(_this._rect),_this}return Object(tslib_es6.d)(RectPattern,_super),RectPattern.prototype.draw=function(){_super.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(RectPattern.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(value){this.properties.rectWidth=value,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(RectPattern.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(value){this.properties.rectHeight=value,this.draw()},enumerable:!0,configurable:!0}),RectPattern}(Pattern_Pattern);Registry_registry.registeredClasses.RectPattern=RectPattern_RectPattern;var ColorizeFilter_ColorizeFilter=function(_super){function ColorizeFilter(){var _this=_super.call(this)||this;return _this.className="ColorizeFilter",_this.feColorMatrix=_this.paper.add("feColorMatrix"),_this.feColorMatrix.attr({type:"matrix"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.intensity=1,_this.applyTheme(),_this}return Object(tslib_es6.d)(ColorizeFilter,_super),ColorizeFilter.prototype.applyFilter=function(){var r,g,b,i=this.intensity,ii=1-i,color=this.color;color&&color.rgb?(r=color.rgb.r/255*i,g=color.rgb.g/255*i,b=color.rgb.b/255*i):(r=0,g=0,b=0),this.feColorMatrix.attr({values:ii+" 0 0 0 "+r+" 0 "+ii+" 0 0 "+g+" 0 0 "+ii+" 0 "+b+" 0 0 0 1 0"})},Object.defineProperty(ColorizeFilter.prototype,"color",{get:function(){return this.properties.color},set:function(value){this.properties.color=value,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(ColorizeFilter.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(value){this.properties.intensity=value,this.applyFilter()},enumerable:!0,configurable:!0}),ColorizeFilter}(Filter_Filter);Registry_registry.registeredClasses.ColorizeFilter=ColorizeFilter_ColorizeFilter;var DesaturateFilter_DesaturateFilter=function(_super){function DesaturateFilter(){var _this=_super.call(this)||this;return _this.className="DesaturateFilter",_this.feColorMatrix=_this.paper.add("feColorMatrix"),_this.feColorMatrix.attr({type:"saturate"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.width=120,_this.height=120,_this.saturation=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(DesaturateFilter,_super),Object.defineProperty(DesaturateFilter.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(value){this.properties.saturation=value,this.feColorMatrix.attr({values:value.toString()})},enumerable:!0,configurable:!0}),DesaturateFilter}(Filter_Filter);Registry_registry.registeredClasses.DesaturateFilter=DesaturateFilter_DesaturateFilter;var BlurFilter_BlurFilter=function(_super){function BlurFilter(){var _this=_super.call(this)||this;return _this.className="BlurFilter",_this.feGaussianBlur=_this.paper.add("feGaussianBlur"),_this.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),_this.filterPrimitives.push(_this.feGaussianBlur),_this.width=200,_this.height=200,_this.blur=1.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(BlurFilter,_super),Object.defineProperty(BlurFilter.prototype,"blur",{get:function(){return this.properties.blur},set:function(value){this.properties.blur=value,this.feGaussianBlur.attr({stdDeviation:value/this.scale})},enumerable:!0,configurable:!0}),BlurFilter}(Filter_Filter);Registry_registry.registeredClasses.BlurFilter=BlurFilter_BlurFilter;var FocusFilter_FocusFilter=function(_super){function FocusFilter(){var _this=_super.call(this)||this;return _this.className="FocusFilter",_this.feFlood=_this.paper.add("feFlood"),_this.feFlood.attr({"flood-color":(new InterfaceColorSet_InterfaceColorSet).getFor("primaryButtonHover"),result:"base"}),_this.filterPrimitives.push(_this.feFlood),_this.feMorphology=_this.paper.add("feMorphology"),_this.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),_this.filterPrimitives.push(_this.feMorphology),_this.feColorMatrix=_this.paper.add("feColorMatrix"),_this.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),_this.filterPrimitives.push(_this.feColorMatrix),_this.feComposite=_this.paper.add("feComposite"),_this.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),_this.filterPrimitives.push(_this.feComposite),_this.feBlend=_this.paper.add("feBlend"),_this.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),_this.filterPrimitives.push(_this.feBlend),_this.width=130,_this.height=130,_this.applyTheme(),_this}return Object(tslib_es6.d)(FocusFilter,_super),Object.defineProperty(FocusFilter.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(value){this.properties.stroke=value,this.feFlood.attr({"flood-color":value})},enumerable:!0,configurable:!0}),Object.defineProperty(FocusFilter.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(value){this.properties.strokeWidth=value,this.feMorphology.attr({radius:value})},enumerable:!0,configurable:!0}),Object.defineProperty(FocusFilter.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(value){this.properties.opacity=value,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+value+" 0"})},enumerable:!0,configurable:!0}),FocusFilter.prototype.setSprite=function(value){this._sprite&&this._sprite!=value&&this._sprite.group.removeStyle("outline"),value.group.addStyle({outline:"none"}),_super.prototype.setSprite.call(this,value)},FocusFilter}(Filter_Filter),ColorSet_ColorSet=function(_super){function ColorSet(){var _this=_super.call(this)||this;return _this._list=[],_this._currentStep=0,_this._startIndex=0,_this._currentPass=0,_this.baseColor=new Color_Color({r:103,g:183,b:220}),_this.stepOptions={},_this.passOptions={brighten:-.2},_this.step=1,_this.minColors=20,_this.minLightness=.2,_this.maxLightness=.9,_this.shuffle=!1,_this.wrap=!0,_this.reuse=!1,_this.saturation=1,_this.className="ColorSet",_this.applyTheme(),_this}return Object(tslib_es6.d)(ColorSet,_super),Object.defineProperty(ColorSet.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(value){this._list=value,this.reset()},enumerable:!0,configurable:!0}),ColorSet.prototype.getReusableColor=function(index){if(0==this._list.length)return this.generate(1),this.list[0];var tmpstep=index-Math.floor(index/this._list.length)*this.list.length;return this.list[tmpstep]},ColorSet.prototype.next=function(){var color;return this.list.length<=this._currentStep?this.reuse?color=this.getReusableColor(this._currentStep):(this.generate(Math_max(this.minColors,this._currentStep+1)),color=this.list[this._currentStep]):color=this.list[this._currentStep],this._currentStep+=this.step,color.saturate(this.saturation)},ColorSet.prototype.getIndex=function(i){var color;return this.list.length<=i?this.reuse?color=this.getReusableColor(i):(this.generate(this.minColors),color=this.getIndex(i)):color=this.list[i],color.saturate(this.saturation)},ColorSet.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(ColorSet.prototype,"currentStep",{get:function(){return this._currentStep},set:function(value){this._currentStep=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColorSet.prototype,"startIndex",{get:function(){return this._startIndex},set:function(value){this._startIndex=value,this.reset()},enumerable:!0,configurable:!0}),ColorSet.prototype.generate=function(count){var hsl=rgbToHsl(getValue(this.currentColor.rgb)),hueStep=Type_hasValue(this.stepOptions.hue)?this.stepOptions.hue:1/count,mods={brighten:0,lighten:0,hue:hsl.h,lightness:hsl.l,saturation:hsl.s},hues=[],startIndex=0==this.list.length?0:1;if(this.reuse)for(var i=startIndex;i<=count;i++)hues.push(rgbToHsl(getValue(this._list[i].rgb)).h);else for(i=startIndex;i<=count;i++){var h=hsl.h+hueStep*i;this.wrap&&h>1&&(h-=1),hues.push(h)}this.shuffle&&hues.sort((function(a,b){return Math.random()-.5}));for(i=0;i<count;i++){this.reuse?hsl=rgbToHsl(getValue(this._list[i].rgb)):hsl.h=hues.shift(),this.applyStepOptions(hsl,mods,i,this._currentPass);var c=Color_color(hslToRgb(hsl)),brighten=(this.stepOptions.brighten||0)*i+(this.passOptions.brighten||0)*this._currentPass;0!=brighten&&(brighten=this.wrap?fitNumberRelative(brighten,this.minLightness,this.maxLightness):fitNumber(brighten,this.minLightness,this.maxLightness),c=c.brighten(brighten));var lighten=(this.stepOptions.lighten||0)*i+(this.passOptions.lighten||0)*this._currentPass;0!=lighten&&(lighten=this.wrap?fitNumberRelative(lighten,this.minLightness,this.maxLightness):fitNumber(lighten,this.minLightness,this.maxLightness),c=c.lighten(lighten)),this._list.push(c)}this._currentPass++},Object.defineProperty(ColorSet.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),ColorSet.prototype.applyStepOptions=function(hsl,base,step,pass){hsl.l=base.lightness+(this.stepOptions.lightness||0)*step+(this.passOptions.lightness||0)*pass,this.wrap?(hsl.l>1?hsl.l=hsl.l-Math.floor(hsl.l):hsl.l<0&&(hsl.l=-(hsl.l-Math.floor(hsl.l))),hsl.l=fitNumberRelative(hsl.l,this.minLightness,this.maxLightness)):(hsl.l>1?hsl.l=1:hsl.l<0&&(hsl.l=0),hsl.l=fitNumber(hsl.l,this.minLightness,this.maxLightness))},ColorSet.prototype.processConfig=function(config){if(config&&Type_hasValue(config.list)&&Type_isArray(config.list))for(var i=0,len=config.list.length;i<len;i++)config.list[i]instanceof Color_Color||(config.list[i]=Color_color(config.list[i]));_super.prototype.processConfig.call(this,config)},ColorSet}(Base_BaseObject);Registry_registry.registeredClasses.ColorSet=ColorSet_ColorSet;var PatternSet_PatternSet=function(_super){function PatternSet(){var _this=_super.call(this)||this;_this._list=[],_this._currentStep=0,_this._startIndex=0,_this._currentPass=0,_this.baseColor=new Color_Color({r:103,g:183,b:220}),_this.className="PatternSet";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.list=[_this.getLinePattern(1e3,45,1,6),_this.getRectPattern(10,0,4),_this.getLinePattern(1e3,-45,1,6),_this.getCirclePattern(11,2,!0),_this.getLinePattern(6,90,1),_this.getRectPattern(12,45,6,!0),_this.getLinePattern(6,0,1),_this.getRectPattern(7,0,4),_this.getLinePattern(1e3,45,2,3,"4,2"),_this.getCirclePattern(9,3,!1),_this.getLinePattern(1e3,-45,2,3,"4,2"),_this.getRectPattern(10,45,Math.sqrt(50)),_this.getLinePattern(1e3,-45,2,1),_this.getRectPattern(10,0,9),_this.getLinePattern(1e3,45,2,1),_this.getLinePattern(1e3,0,3,1),_this.getRectPattern(10,45,10),_this.getLinePattern(1e3,90,3,1)],_this.baseColor=interfaceColors.getFor("stroke"),_this.applyTheme(),_this}return Object(tslib_es6.d)(PatternSet,_super),PatternSet.prototype.getLinePattern=function(size,rotation,thickness,gap,strokeDashArray){var pattern=new LinePattern_LinePattern;return pattern.width=size,pattern.height=size,pattern.stroke=this.baseColor,pattern.gap=gap,pattern.strokeDasharray=strokeDashArray,pattern.strokeWidth=thickness,pattern.rotation=rotation,pattern},PatternSet.prototype.getRectPattern=function(size,rotation,thickness,outline){var pattern=new RectPattern_RectPattern;return pattern.width=size,pattern.height=size,pattern.rectWidth=thickness,pattern.rectHeight=thickness,outline?(pattern.stroke=this.baseColor,pattern.strokeWidth=1,pattern.fillOpacity=0):(pattern.fill=this.baseColor,pattern.strokeWidth=0),0!=rotation&&(pattern.shapeRendering="auto"),pattern.rotation=rotation,pattern},PatternSet.prototype.getCirclePattern=function(size,radius,outline){var pattern=new CirclePattern_CirclePattern;return pattern.width=size,pattern.height=size,pattern.shapeRendering="auto",pattern.radius=radius,outline?(pattern.stroke=this.baseColor,pattern.strokeWidth=1,pattern.fillOpacity=0):(pattern.fill=this.baseColor,pattern.strokeWidth=0),pattern},Object.defineProperty(PatternSet.prototype,"list",{get:function(){return this._list},set:function(value){this._list=value,this.reset()},enumerable:!0,configurable:!0}),PatternSet.prototype.next=function(){var pattern=this.getIndex(this.currentStep);return this._currentStep++,pattern},PatternSet.prototype.getIndex=function(i){for(;this.list.length<=i;)this.generatePatterns();return this.list[i].clone()},PatternSet.prototype.generatePatterns=function(){var count=this.list.length/(this._currentPass+1);this._currentPass++;for(var i=0;i<count;i++)this.list.push(this.list[i].clone())},PatternSet.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(PatternSet.prototype,"currentStep",{get:function(){return this._currentStep},set:function(value){this._currentStep=value},enumerable:!0,configurable:!0}),Object.defineProperty(PatternSet.prototype,"startIndex",{get:function(){return this._startIndex},set:function(value){this._startIndex=value,this.reset()},enumerable:!0,configurable:!0}),PatternSet.prototype.processConfig=function(config){_super.prototype.processConfig.call(this,config)},PatternSet}(Base_BaseObject);Registry_registry.registeredClasses.PatternSet=PatternSet_PatternSet;!function(){function Plugin(){this._disposed=!1,this._disposers=[]}Plugin.prototype.init=function(){},Plugin.prototype.isDisposed=function(){return this._disposed},Plugin.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._disposers;for(this._disposers=null;0!==a.length;){a.shift().dispose()}}}}();var AmChartsLogo_AmChartsLogo=function(_super){function AmChartsLogo(){var _this=_super.call(this)||this;_this.className="AmChartsLogo",_this.valign="bottom";var d=.3;_this.opacity=.3,_this.defaultState.properties.opacity=.4,_this.url="https://www.amcharts.com/",_this.urlTarget="_blank",_this.showSystemTooltip=!0,_this.readerTitle="Chart created using amCharts library",_this.width=66,_this.height=21,_this.background.opacity=0;var aColor=Color_color("#474758");"#ffffff"==(new InterfaceColorSet_InterfaceColorSet).getFor("background").alternative.hex&&(aColor=Color_color("#ffffff"));var aGradient=new LinearGradient_LinearGradient;aGradient.addColor(aColor),aGradient.addColor(aColor,1,.75),aGradient.addColor(Color_color("#3cabff"),1,.755),aGradient.rotation=-10;var aStroke=aGradient,m=_this.createChild(Polyspline_Polyspline);m.shouldClone=!1,m.isMeasured=!1,m.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],m.strokeWidth=6*d,m.tensionX=.8,m.tensionY=1,m.stroke=Color_color("#3cabff");var a=_this.createChild(Polyspline_Polyspline);a.shouldClone=!1,a.isMeasured=!1,a.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*d},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],a.strokeWidth=6*d,a.tensionX=.75,a.tensionY=1,a.stroke=aStroke,_this._disposers.push(a);var desaturateFilter=new DesaturateFilter_DesaturateFilter;_this.filters.push(desaturateFilter);var desaturateFilterHover=new DesaturateFilter_DesaturateFilter;desaturateFilterHover.saturation=1;var hoverState=_this.states.create("hover");return hoverState.properties.opacity=1,hoverState.filters.push(desaturateFilterHover),_this.applyTheme(),_this}return Object(tslib_es6.d)(AmChartsLogo,_super),AmChartsLogo}(Container_Container);function createChild(htmlElement,classType){var htmlContainer=getElement(htmlElement),tmpContainer=!1;if(htmlContainer||((htmlContainer=document.createElement("div")).style.width="200px",htmlContainer.style.height="200px",htmlContainer.style.visibility="hidden",htmlContainer.style.position="absolute",document.body.appendChild(htmlContainer),tmpContainer=!0),htmlContainer){htmlContainer.innerHTML="";var svgDiv_1=new SVGContainer_SVGContainer(htmlContainer),paper=new Paper_Paper(svgDiv_1.SVGContainer,"svg-"+(svgContainers.length-1)),container_1=new Container_Container;container_1.htmlContainer=htmlContainer,container_1.svgContainer=svgDiv_1,container_1.width=Percent_percent(100),container_1.height=Percent_percent(100),container_1.background.fillOpacity=0,container_1.paper=paper,paper.append(container_1.group),tmpContainer&&function(f){if("loading"!==document.readyState)f();else{var listener_1=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",listener_1),f())};document.addEventListener("readystatechange",listener_1)}}((function(){container_1.moveHtmlContainer(htmlElement)})),container_1.relativeWidth=1,container_1.relativeHeight=1,svgDiv_1.container=container_1;var sprite_1=container_1.createChild(classType);sprite_1.topParent=container_1;var uid=sprite_1.uid;Registry_registry.invalidSprites[uid]=[],Registry_registry.invalidDatas[uid]=[],Registry_registry.invalidPositions[uid]=[],Registry_registry.invalidLayouts[uid]=[],container_1.baseId=uid,sprite_1.isBaseSprite=!0,sprite_1.focusFilter=new FocusFilter_FocusFilter,Registry_registry.baseSprites.push(sprite_1),Registry_registry.baseSpritesByUid[uid]=sprite_1,sprite_1.maskRectangle={x:0,y:0,width:Math.max(svgDiv_1.width||0,0),height:Math.max(svgDiv_1.height||0,0)},container_1.events.on("maxsizechanged",(function(event){0!=event.previousWidth&&0!=event.previousHeight||container_1.deepInvalidate(),sprite_1.maskRectangle&&(sprite_1.maskRectangle={x:0,y:0,width:Math.max(svgDiv_1.width||0,0),height:Math.max(svgDiv_1.height||0,0)})}));var loopTimer_1=null,loop_1=function(){sprite_1.isDisposed()?loopTimer_1=null:null==getRoot(sprite_1.dom)?(Options_options.autoDispose?(container_1.htmlContainer=void 0,svgDiv_1.htmlElement=void 0,sprite_1.dispose()):warn("Chart was not disposed",sprite_1.uid),loopTimer_1=null):loopTimer_1=window.setTimeout(loop_1,1e3)};loop_1(),sprite_1.addDisposer(new Disposer((function(){null!==loopTimer_1&&clearTimeout(loopTimer_1),Array_remove(Registry_registry.baseSprites,sprite_1),Registry_registry.baseSpritesByUid[sprite_1.uid]=void 0}))),sprite_1.addDisposer(container_1);var tooltipContainer_1=container_1.createChild(Container_Container);tooltipContainer_1.topParent=container_1,tooltipContainer_1.width=Percent_percent(100),tooltipContainer_1.height=Percent_percent(100),tooltipContainer_1.isMeasured=!1,container_1.tooltipContainer=tooltipContainer_1,sprite_1.tooltip=new Tooltip_Tooltip,sprite_1.tooltip.hide(0),sprite_1.tooltip.setBounds({x:0,y:0,width:tooltipContainer_1.maxWidth,height:tooltipContainer_1.maxHeight}),tooltipContainer_1.events.on("maxsizechanged",(function(){getValue(sprite_1.tooltip).setBounds({x:0,y:0,width:tooltipContainer_1.maxWidth,height:tooltipContainer_1.maxHeight})}),void 0,!1);var preloader_1=new Preloader_Preloader;if(preloader_1.events.on("inited",(function(){preloader_1.__disabled=!0}),void 0,!1),container_1.preloader=preloader_1,sprite_1 instanceof Container_Container&&!sprite_1.hasLicense()){var logo_1=tooltipContainer_1.createChild(AmChartsLogo_AmChartsLogo);tooltipContainer_1.events.on("maxsizechanged",(function(ev){tooltipContainer_1.maxWidth<=100||tooltipContainer_1.maxHeight<=50?logo_1.hide():(logo_1.isHidden||logo_1.isHiding)&&logo_1.show()}),void 0,!1),sprite_1.logo=logo_1,logo_1.align="left",logo_1.valign="bottom"}if(sprite_1.numberFormatter,container_1.isStandaloneInstance=!0,Options_options.onlyShowOnViewport)if(isElementInViewport(htmlContainer,Options_options.viewportTarget))Options_options.queue&&addToQueue(sprite_1);else{sprite_1.__disabled=!0,sprite_1.tooltipContainer.__disabled=!0;var disposers=[DOM_addEventListener(window,"DOMContentLoaded",(function(){viewPortHandler(sprite_1)})),DOM_addEventListener(window,"load",(function(){viewPortHandler(sprite_1)})),DOM_addEventListener(window,"resize",(function(){viewPortHandler(sprite_1)})),DOM_addEventListener(window,"scroll",(function(){viewPortHandler(sprite_1)}))];if(Options_options.viewportTarget)for(var targets=Type_isArray(Options_options.viewportTarget)?Options_options.viewportTarget:Options_options.viewportTarget?[Options_options.viewportTarget]:[],i=0;i<targets.length;i++){var target=targets[i];disposers.push(DOM_addEventListener(target,"resize",(function(){viewPortHandler(sprite_1)}))),disposers.push(DOM_addEventListener(target,"scroll",(function(){viewPortHandler(sprite_1)})))}var disposer=new Disposer_MultiDisposer(disposers);sprite_1.addDisposer(disposer),sprite_1.vpDisposer=disposer}else Options_options.queue&&addToQueue(sprite_1);return sprite_1}throw system.log("html container not found"),new Error("html container not found")}function addToQueue(sprite){-1==Registry_registry.queue.indexOf(sprite)&&(sprite.__disabled=!0,sprite.tooltipContainer.__disabled=!0,sprite.events.disableType("appeared"),0==Registry_registry.queue.length&&(Registry_registry.events.once("exitframe",(function(){queueHandler(sprite)})),system.requestFrame()),sprite.addDisposer(new Disposer((function(){removeFromQueue(sprite)}))),Registry_registry.queue.push(sprite))}function removeFromQueue(sprite){var index=Registry_registry.queue.indexOf(sprite);if(index>=0){Registry_registry.queue.splice(Registry_registry.queue.indexOf(sprite),1);var nextSprite=Registry_registry.queue[index];nextSprite&&queueHandler(nextSprite)}}function viewPortHandler(sprite){sprite.__disabled&&isElementInViewport(sprite.htmlContainer,Options_options.viewportTarget)&&(sprite.vpDisposer&&sprite.vpDisposer.dispose(),addToQueue(sprite))}function queueHandler(sprite){sprite.__disabled=!1,sprite.tooltipContainer.__disabled=!1,sprite.events.enableType("appeared"),sprite.dispatch("removedfromqueue"),sprite.showOnInit&&sprite.events.on("appeared",(function(){removeFromQueue(sprite)})),sprite.vpDisposer&&sprite.vpDisposer.dispose(),sprite instanceof Container_Container&&sprite.invalidateLabels(),sprite.tooltipContainer&&sprite.tooltipContainer.invalidateLayout(),sprite instanceof Component_Component?(sprite.invalidateData(),sprite.reinit(),sprite.events.once("datavalidated",(function(){sprite.showOnInit?sprite.appear():removeFromQueue(sprite)}))):(sprite.reinit(),sprite.events.once("inited",(function(){removeFromQueue(sprite)})),sprite.showOnInit&&sprite.appear())}function create(htmlElement,classType){var classError;isString(classType)&&(Type_hasValue(Registry_registry.registeredClasses[classType])?classType=Registry_registry.registeredClasses[classType]:(classType=Registry_registry.registeredClasses.Container,classError=new Error("Class ["+classType+"] is not loaded.")));var chart=createChild(htmlElement,classType);return classError&&chart.raiseCriticalError(classError),chart}var Grip_Grip=function(_super){function Grip(){var _this=_super.call(this)||this;_this.className="Grip";var cs=new InterfaceColorSet_InterfaceColorSet;_this.layout="absolute",_this.padding(10,10,10,10),_this.margin(3,3,3,3),_this.background.fillOpacity=.3,_this.background.cornerRadius(10,10,10,10);var icon=new Sprite_Sprite;icon.element=_this.paper.add("path");var path=moveTo({x:-6,y:0});return path+=lineTo({x:6,y:0}),path+=moveTo({x:-8,y:-6}),path+=lineTo({x:0,y:-12}),path+=lineTo({x:8,y:-6}),path+=moveTo({x:-8,y:6}),path+=lineTo({x:0,y:12}),path+=lineTo({x:8,y:6}),icon.path=path,icon.strokeWidth=2,icon.fillOpacity=0,icon.pixelPerfect=!0,icon.padding(0,4,0,4),icon.stroke=cs.getFor("text"),icon.strokeOpacity=.7,icon.align="center",icon.valign="middle",_this.icon=icon,_this.label.dispose(),_this.label=void 0,_this.position="right",_this.autoHideDelay=3e3,_this.events.on("shown",(function(ev){_this._autoHideTimeout&&_this._autoHideTimeout.dispose(),_this.autoHideDelay&&(_this._autoHideTimeout=_this.setTimeout((function(){_this.hide()}),_this.autoHideDelay))})),_this.events.on("down",(function(ev){_this._autoHideTimeout&&_this._autoHideTimeout.dispose()})),_this.events.on("out",(function(ev){_this.autoHideDelay&&(_this._autoHideTimeout=_this.setTimeout((function(){_this.hide()}),_this.autoHideDelay))})),_this.applyTheme(),_this}return Object(tslib_es6.d)(Grip,_super),Object.defineProperty(Grip.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(value){if(this.setPropertyValue("position",value))switch(value){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=Percent_percent(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=Percent_percent(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=Percent_percent(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(Grip.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(value){this.setPropertyValue("autoHideDelay",value)},enumerable:!0,configurable:!0}),Grip}(Button_Button);Registry_registry.registeredClasses.Grip=Grip_Grip;var Chart_ChartDataItem=function(_super){function ChartDataItem(){var _this=_super.call(this)||this;return _this.className="ChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(ChartDataItem,_super),ChartDataItem}(DataItem_DataItem),Chart_Chart=function(_super){function Chart(){var _this=_super.call(this)||this;if(_this._legend=new Disposer_MutableValueDisposer,_this.constructor===Chart)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");_this.className="Chart";var template=new Label_Label;_this.titles=new List_ListTemplate(template),_this._disposers.push(new List_ListDisposer(_this.titles)),_this._disposers.push(template),_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.layout="vertical";var chartAndLegendContainer=_this.createChild(Container_Container);chartAndLegendContainer.shouldClone=!1,chartAndLegendContainer.layout="vertical",chartAndLegendContainer.width=Percent_percent(100),chartAndLegendContainer.height=Percent_percent(100),_this.chartAndLegendContainer=chartAndLegendContainer;var chartContainer=chartAndLegendContainer.createChild(Container_Container);return chartContainer.shouldClone=!1,chartContainer.width=Percent_percent(100),chartContainer.height=Percent_percent(100),_this.chartContainer=chartContainer,_this.showOnInit=!0,_this._disposers.push(_this._legend),_this.titles.events.on("inserted",(function(label){_this.processTitle(label),_this.updateReaderTitleReferences()}),_this,!1),_this.titles.events.on("removed",(function(label){_this.updateReaderTitleReferences()}),_this,!1),_this.role="region",_this.defaultState.transitionDuration=1,_this.applyTheme(),_this}return Object(tslib_es6.d)(Chart,_super),Chart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},Chart.prototype.draw=function(){this.fixLayout(),_super.prototype.draw.call(this)},Chart.prototype.fixLayout=function(){var legend=this.legend;if(legend){var chartAndLegendContainer=this.chartAndLegendContainer,chartContainer=this.chartContainer;switch(chartContainer.x=void 0,chartContainer.y=void 0,legend.x=void 0,legend.y=void 0,legend.position){case"left":chartAndLegendContainer.layout="horizontal",legend.toBack();break;case"right":chartAndLegendContainer.layout="horizontal",legend.toFront();break;case"top":chartAndLegendContainer.layout="vertical",legend.toBack();break;case"bottom":chartAndLegendContainer.layout="vertical",legend.toFront()}}},Chart.prototype.feedLegend=function(){},Chart.prototype.processTitle=function(event){var title=event.newValue;return title.parent=this,title.toBack(),title.shouldClone=!1,title.align="center",title.uidAttr(),title},Chart.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var titleIds_1=[];Iterator_each(this.titles.iterator(),(function(title){titleIds_1.push(title.uid)})),this.setSVGAttribute({"aria-labelledby":titleIds_1.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(Chart.prototype,"legend",{get:function(){return this._legend.get()},set:function(legend){this.setLegend(legend)},enumerable:!0,configurable:!0}),Chart.prototype.setLegend=function(legend){var _this=this;this._legend.get()!==legend&&(legend?(legend.parent=this.chartAndLegendContainer,this._legend.set(legend,legend.events.on("propertychanged",(function(event){"position"==event.property&&_this.fixLayout()}),void 0,!1)),legend.addDisposer(new Disposer((function(){_this.legend=void 0})))):this._legend.reset(),this.feedLegend())},Chart.prototype.dispose=function(){this.legend&&this.legend.dispose(),_super.prototype.dispose.call(this)},Chart.prototype.processConfig=function(config){config&&Type_hasValue(config.legend)&&!Type_hasValue(config.legend.type)&&(config.legend.type="Legend"),_super.prototype.processConfig.call(this,config)},Chart.prototype.copyFrom=function(source){this.titles.copyFrom(source.titles),this.chartContainer.copyFrom(source.chartContainer),source.legend&&(this.legend=source.legend.clone(),this.legend.removeChildren()),_super.prototype.copyFrom.call(this,source)},Object.defineProperty(Chart.prototype,"dragGrip",{get:function(){var _this=this;if(!this._dragGrip){var grip_1=this.tooltipContainer.createChild(Grip_Grip);grip_1.align="right",grip_1.valign="middle",grip_1.hide(0),grip_1.events.on("down",(function(ev){ev.touch&&(_this.interactionsEnabled=!1)})),grip_1.events.on("up",(function(ev){_this.interactionsEnabled=!0})),this.events.on("down",(function(ev){ev.touch&&grip_1.show()})),this._dragGrip=grip_1}return this._dragGrip},set:function(value){this._dragGrip=value},enumerable:!0,configurable:!0}),Object.defineProperty(Chart.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(value){this.parent.focusable=value},enumerable:!0,configurable:!0}),Chart}(Component_Component);Registry_registry.registeredClasses.Chart=Chart_Chart,defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return target.pixelPaddingLeft>10&&(state.properties.paddingLeft=10),target.pixelPaddingRight>10&&(state.properties.paddingRight=10),state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return target.pixelPaddingTop>10&&(state.properties.paddingTop=10),target.pixelPaddingBottom>10&&(state.properties.paddingBottom=10),state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.widthXXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return state.properties.paddingLeft=0,state.properties.paddingRight=0,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(target,stateId){if(target instanceof Chart_Chart){var state=target.states.create(stateId);return state.properties.paddingTop=0,state.properties.paddingBottom=0,state}return null}});var Bullet_Bullet=function(_super){function Bullet(){var _this=_super.call(this)||this;return _this.className="Bullet",_this.isMeasured=!1,_this.tooltipX=0,_this.tooltipY=0,_this.layout="none",_this.applyOnClones=!0,_this.copyToLegendMarker=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(Bullet,_super),Object.defineProperty(Bullet.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(value){if(this.setPropertyValue("locationX",value)){var dataItem=this.dataItem;dataItem&&dataItem.component&&dataItem.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(value){if(this.setPropertyValue("locationY",value)){var dataItem=this.dataItem;dataItem&&dataItem.component&&dataItem.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(value){this.setPropertyValue("xField",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(value){this.setPropertyValue("yField",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(value){this.setPropertyValue("isDynamic",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Bullet.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(value){this.setPropertyValue("copyToLegendMarker",value)},enumerable:!0,configurable:!0}),Bullet}(Container_Container);Registry_registry.registeredClasses.Bullet=Bullet_Bullet,defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(target,stateId){if(target instanceof Bullet_Bullet){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var Legend_LegendDataItem=function(_super){function LegendDataItem(){var _this=_super.call(this)||this;return _this.childrenCreated=!1,_this.className="LegendDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(LegendDataItem,_super),Object.defineProperty(LegendDataItem.prototype,"label",{get:function(){var _this=this;if(!this._label){var label_1=this.component.labels.create();this._label=label_1,this.addSprite(label_1),this._disposers.push(label_1),label_1.parent=this.itemContainer,this._disposers.push(new Disposer((function(){Type_hasValue(_this.component)&&_this.component.labels.removeValue(label_1)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,"color",{get:function(){return this.properties.color},set:function(value){this.setProperty("color",value)},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,"valueLabel",{get:function(){var _this=this;if(!this._valueLabel){var valueLabel_1=this.component.valueLabels.create();this._valueLabel=valueLabel_1,this.addSprite(valueLabel_1),this._disposers.push(valueLabel_1),valueLabel_1.parent=this.itemContainer,this._disposers.push(new Disposer((function(){Type_hasValue(_this.component)&&_this.component.valueLabels.removeValue(valueLabel_1)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,"itemContainer",{get:function(){var _this=this;if(!this._itemContainer){var component_1=this.component,itemContainer_1=component_1.itemContainers.create();itemContainer_1.parent=component_1,this._itemContainer=itemContainer_1,this.addSprite(itemContainer_1),this._disposers.push(itemContainer_1),itemContainer_1.togglable&&itemContainer_1.events.on("toggled",(function(ev){component_1.toggleDataItem(ev.target.dataItem)}),void 0,!1),itemContainer_1.focusable&&(itemContainer_1.events.on("hit",(function(ev){component_1.focusedItem=void 0}),void 0,!1),itemContainer_1.events.on("focus",(function(ev){component_1.focusedItem=ev.target.dataItem}),void 0,!1),itemContainer_1.events.on("blur",(function(ev){component_1.focusedItem=void 0}),void 0,!1)),this._disposers.push(new Disposer((function(){Type_hasValue(_this.component)&&_this.component.itemContainers.removeValue(itemContainer_1)}))),this.dataContext.uidAttr&&(itemContainer_1.readerControls=this.dataContext.uidAttr(),itemContainer_1.readerLabelledBy=this.dataContext.uidAttr());var sprite=this.dataContext;if((sprite instanceof DataItem_DataItem||sprite instanceof Sprite_Sprite)&&!sprite.isDisposed()){var visibilitychanged=function(ev){itemContainer_1.readerChecked=ev.visible,itemContainer_1.events.disableType("toggled"),itemContainer_1.isActive=!ev.visible,itemContainer_1.events.enableType("toggled")};sprite.addDisposer(new Disposer((function(){_this.component&&_this.component.dataItems.remove(_this)}))),sprite instanceof Sprite_Sprite?(itemContainer_1.addDisposer(sprite.events.on("visibilitychanged",visibilitychanged,void 0,!1)),itemContainer_1.addDisposer(sprite.events.on("hidden",(function(ev){itemContainer_1.readerChecked=!1,itemContainer_1.events.disableType("toggled"),itemContainer_1.isActive=!0,itemContainer_1.events.enableType("toggled")}),void 0,!1)),itemContainer_1.addDisposer(sprite.events.on("shown",(function(ev){itemContainer_1.readerChecked=!0,itemContainer_1.events.disableType("toggled"),itemContainer_1.isActive=!1,itemContainer_1.events.enableType("toggled")}),void 0,!1))):itemContainer_1.addDisposer(sprite.events.on("visibilitychanged",visibilitychanged,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(LegendDataItem.prototype,"marker",{get:function(){var _this=this;if(!this._marker){var marker_1=this.component.markers.create();this._marker=marker_1,marker_1.parent=this.itemContainer,this.addSprite(marker_1),this._disposers.push(marker_1),this._disposers.push(new Disposer((function(){Type_hasValue(_this.component)&&_this.component.markers.removeValue(marker_1)})))}return this._marker},enumerable:!0,configurable:!0}),LegendDataItem}(DataItem_DataItem),LegendSettings=function(){this.createMarker=!0},Legend_Legend=function(_super){function Legend(){var _this=_super.call(this)||this;_this.className="Legend",_this.layout="grid",_this.setPropertyValue("useDefaultMarker",!1),_this.setPropertyValue("scrollable",!1),_this.setPropertyValue("contentAlign","center");var itemContainer=new Container_Container;itemContainer.applyOnClones=!0,itemContainer.padding(8,0,8,0),itemContainer.margin(0,10,0,10),itemContainer.layout="horizontal",itemContainer.clickable=!0,itemContainer.focusable=!0,itemContainer.role="switch",itemContainer.togglable=!0,itemContainer.cursorOverStyle=MouseCursorStyle.pointer,itemContainer.background.fillOpacity=0,_this.itemContainers=new List_ListTemplate(itemContainer),_this._disposers.push(new List_ListDisposer(_this.itemContainers)),_this._disposers.push(_this.itemContainers.template),_this._disposers.push(getInteraction().body.events.on("keyup",(function(ev){if(keyboard.isKey(ev.event,"enter")&&_this.focusedItem){var focusedItem=_this.focusedItem,target=focusedItem.itemContainer;target.togglable?_this.toggleDataItem(focusedItem):target.clickable&&target.events.isEnabled("hit")&&(target.dispatchImmediately("hit",{event:ev}),_this.focusedItem=focusedItem)}}),_this));var interfaceColors=new InterfaceColorSet_InterfaceColorSet,marker=new Container_Container;marker.width=23,marker.height=23,marker.interactionsEnabled=!1,marker.applyOnClones=!0,marker.setStateOnChildren=!0,marker.background.fillOpacity=0,marker.background.strokeOpacity=0,marker.propertyFields.fill="fill",marker.valign="middle";var disabledColor=interfaceColors.getFor("disabledBackground");marker.events.on("childadded",(function(event){var activeState=event.newValue.states.create("active");activeState.properties.stroke=disabledColor,activeState.properties.fill=disabledColor})),_this.markers=new List_ListTemplate(marker),_this._disposers.push(new List_ListDisposer(_this.markers)),_this._disposers.push(_this.markers.template);var rectangle=marker.createChild(RoundedRectangle_RoundedRectangle);rectangle.width=Percent_percent(100),rectangle.height=Percent_percent(100),rectangle.applyOnClones=!0,rectangle.propertyFields.fill="fill",rectangle.strokeOpacity=0;var label=new Label_Label;label.text="{name}",label.margin(0,5,0,5),label.valign="middle",label.applyOnClones=!0,label.states.create("active").properties.fill=interfaceColors.getFor("disabledBackground"),_this.labels=new List_ListTemplate(label),_this._disposers.push(new List_ListDisposer(_this.labels)),_this._disposers.push(_this.labels.template),label.interactionsEnabled=!1,label.truncate=!0,label.fullWords=!1;var valueLabel=new Label_Label;return valueLabel.margin(0,5,0,0),valueLabel.valign="middle",valueLabel.width=50,valueLabel.align="right",valueLabel.textAlign="end",valueLabel.applyOnClones=!0,valueLabel.states.create("active").properties.fill=interfaceColors.getFor("disabledBackground"),valueLabel.interactionsEnabled=!1,_this.valueLabels=new List_ListTemplate(valueLabel),_this._disposers.push(new List_ListDisposer(_this.valueLabels)),_this._disposers.push(_this.valueLabels.template),_this.position="bottom",itemContainer.states.create("active"),itemContainer.setStateOnChildren=!0,_this.role="group",_this.events.on("layoutvalidated",_this.handleScrollbar,_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(Legend,_super),Legend.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},Legend.prototype.createDataItem=function(){return new Legend_LegendDataItem},Legend.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),_super.prototype.validateDataElements.call(this)},Legend.prototype.validateDataElement=function(dataItem){_super.prototype.validateDataElement.call(this,dataItem);var container=dataItem.itemContainer,marker=dataItem.marker;dataItem.label;var valueLabel=dataItem.valueLabel;container.readerChecked=dataItem.dataContext.visible,dataItem.dataContext.legendDataItem=dataItem;var tempMaxWidth=dataItem.label.maxWidth;dataItem.label.width=void 0,tempMaxWidth>0&&(dataItem.label.maxWidth=tempMaxWidth),"right"==valueLabel.align&&(valueLabel.width=void 0);var legendSettings=dataItem.dataContext.legendSettings,dataContext=dataItem.dataContext;!dataContext.createLegendMarker||this.useDefaultMarker&&dataContext instanceof Sprite_Sprite?this.markers.template.propertyFields.fill=void 0:dataItem.childrenCreated||(dataContext.createLegendMarker(marker),dataItem.childrenCreated=!0),dataContext.updateLegendValue&&dataContext.updateLegendValue(),dataContext.component&&dataContext.component.updateLegendValue&&dataContext.component.updateLegendValue(dataContext),valueLabel.invalid&&valueLabel.validate(),""==valueLabel.text||null==valueLabel.text?valueLabel.__disabled=!0:valueLabel.__disabled=!1,!legendSettings||null==legendSettings.itemValueText&&null==legendSettings.valueText||(valueLabel.__disabled=!1);var visible=dataItem.dataContext.visible;void 0===visible&&(visible=!0),visible=toBoolean(visible),dataItem.dataContext.visible=visible,container.events.disableType("toggled"),container.isActive=!visible,container.isActive?container.setState("active",0):container.setState("default",0),container.events.enableType("toggled")},Legend.prototype.afterDraw=function(){var _this=this,maxWidth=this.getPropertyValue("maxWidth"),maxLabelWidth=0;this.labels.each((function(label){label.invalid&&label.validate(),label.measuredWidth+label.pixelMarginLeft+label.pixelMarginRight>maxLabelWidth&&(maxLabelWidth=label.measuredWidth+label.pixelMarginLeft+label.pixelMarginRight)}));var maxValueLabelWidth=0;this.valueLabels.each((function(label){label.invalid&&label.validate(),label.measuredWidth+label.pixelMarginLeft+label.pixelMarginRight>maxValueLabelWidth&&(maxValueLabelWidth=label.measuredWidth+label.pixelMarginLeft+label.pixelMarginRight)}));var maxMarkerWidth=0;this.markers.each((function(marker){marker.invalid&&marker.validate(),marker.measuredWidth+marker.pixelMarginLeft+marker.pixelMarginRight>maxMarkerWidth&&(maxMarkerWidth=marker.measuredWidth+marker.pixelMarginLeft+marker.pixelMarginRight)}));var maxAdjustedLabelWidth,itemContainer=this.itemContainers.template,margin=itemContainer.pixelMarginRight+itemContainer.pixelMarginLeft,trueMaxWidth=maxLabelWidth+maxValueLabelWidth+maxMarkerWidth;isNumber(maxWidth)?((maxWidth-=margin)>trueMaxWidth&&(maxWidth=trueMaxWidth),maxAdjustedLabelWidth=maxWidth-maxMarkerWidth-maxValueLabelWidth):maxAdjustedLabelWidth=maxLabelWidth,this.labels.each((function(label){("right"==_this.valueLabels.template.align||label.measuredWidth>maxAdjustedLabelWidth)&&(label.width=Math.min(label.maxWidth,maxAdjustedLabelWidth-label.pixelMarginLeft-label.pixelMarginRight))})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(valueLabel){valueLabel.width=maxValueLabelWidth-valueLabel.pixelMarginRight-valueLabel.pixelMarginLeft})),_super.prototype.afterDraw.call(this)},Legend.prototype.handleScrollbar=function(){var scrollbar=this.scrollbar;this.scrollable&&scrollbar&&(scrollbar.height=this.measuredHeight,scrollbar.x=this.measuredWidth-scrollbar.pixelWidth-scrollbar.pixelMarginLeft,this.contentHeight>this.measuredHeight?(scrollbar.visible=!0,scrollbar.thumb.height=scrollbar.height*this.measuredHeight/this.contentHeight,this.paddingRight=scrollbar.pixelWidth+scrollbar.pixelMarginLeft+ +scrollbar.pixelMarginRight):scrollbar.visible=!1,this.updateMasks())},Object.defineProperty(Legend.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(value){this.setPropertyValue("position",value)&&("left"==value||"right"==value?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",isNumber(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=Percent_percent(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(Legend.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(value){this.setPropertyValue("useDefaultMarker",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Legend.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(value){if(this.setPropertyValue("scrollable",value,!0))if(value){var scrollbar=this.createChild(Scrollbar_Scrollbar);this.scrollbar=scrollbar,scrollbar.isMeasured=!1,scrollbar.orientation="vertical",scrollbar.endGrip.__disabled=!0,scrollbar.startGrip.__disabled=!0,scrollbar.visible=!1,scrollbar.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(scrollbar.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),Legend.prototype.handleWheel=function(event){var shift=event.shift.y,scrollbar=this.scrollbar;if(scrollbar){var ds=shift/1e3*this.measuredHeight/this.contentHeight,delta=scrollbar.end-scrollbar.start;shift>0?(scrollbar.start=Math_max(0,scrollbar.start-ds),scrollbar.end=scrollbar.start+delta):(scrollbar.end=Math_min(1,scrollbar.end-ds),scrollbar.start=scrollbar.end-delta)}},Legend.prototype.updateMasks=function(){var _this=this;this.scrollbar&&this.itemContainers.each((function(itemContainer){itemContainer.dy=-_this.scrollbar.thumb.pixelY*_this.contentHeight/_this.measuredHeight,itemContainer.maskRectangle={x:0,y:-itemContainer.dy,width:_this.measuredWidth,height:_this.measuredHeight}}))},Legend.prototype.toggleDataItem=function(item){var dataContext=item.dataContext;!dataContext.visible||dataContext.isHiding||dataContext instanceof Sprite_Sprite&&dataContext.isHidden?(item.color=item.colorOrig,item.itemContainer.isActive=!1,!0===dataContext.hidden&&(dataContext.hidden=!1),dataContext.show?dataContext.show():dataContext.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,item.label.readerTitle))):(item.itemContainer.isActive=!0,dataContext.hide?dataContext.hide():dataContext.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,item.label.readerTitle)),item.color=(new InterfaceColorSet_InterfaceColorSet).getFor("disabledBackground"))},Object.defineProperty(Legend.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),Legend.prototype.handleDataItemPropertyChange=function(dataItem,name){dataItem.valueLabel.invalidate(),dataItem.label.invalidate()},Legend}(Component_Component);Registry_registry.registeredClasses.Legend=Legend_Legend,defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof Legend_Legend&&("left"==target.position||"right"==target.position)){var state=target.states.create(stateId);return state.properties.position="bottom",state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof Legend_Legend&&("top"==target.position||"bottom"==target.position)){var state=target.states.create(stateId);return state.properties.position="right",state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(target,stateId){if(target instanceof Legend_Legend){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var Series_SeriesDataItem=function(_super){function SeriesDataItem(){var _this=_super.call(this)||this;return _this.className="SeriesDataItem",_this.values.value={},_this.values.value={},_this.applyTheme(),_this}return Object(tslib_es6.d)(SeriesDataItem,_super),Object.defineProperty(SeriesDataItem.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Dictionary_Dictionary,this._disposers.push(new Dictionary_DictionaryDisposer(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),SeriesDataItem.prototype.dispose=function(){this.bullets.clear(),_super.prototype.dispose.call(this)},Object.defineProperty(SeriesDataItem.prototype,"value",{get:function(){return this.values.value.value},set:function(value){this.setValue("value",value)},enumerable:!0,configurable:!0}),SeriesDataItem}(DataItem_DataItem),Series_Series=function(_super){function Series(){var _this=_super.call(this)||this;if(_this._ignoreMinMax=!1,_this._showBullets=!0,_this.legendSettings=new LegendSettings,_this._tmin=new Dictionary_Dictionary,_this._tmax=new Dictionary_Dictionary,_this._smin=new Dictionary_Dictionary,_this._smax=new Dictionary_Dictionary,_this.dataItemsByAxis=new Dictionary_Dictionary,_this.skipFocusThreshold=20,_this._itemReaderTextChanged=!1,_this.calculatePercent=!1,_this.usePercentHack=!0,_this.autoDispose=!0,_this.simplifiedProcessing=!1,_this.constructor===Series)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");_this.className="Series",_this.isMeasured=!1,_this.layout="none",_this.shouldClone=!1,_this.setPropertyValue("hidden",!1),_this.axisRanges=new List_List,_this.axisRanges.events.on("inserted",_this.processAxisRange,_this,!1),_this.minBulletDistance=0,_this.mainContainer=_this.createChild(Container_Container),_this.mainContainer.shouldClone=!1,_this.mainContainer.mask=_this.createChild(Sprite_Sprite),_this._disposers.push(_this.mainContainer);var bulletsContainer=_this.mainContainer.createChild(Container_Container);return _this._shouldBeReady.push(bulletsContainer),bulletsContainer.shouldClone=!1,bulletsContainer.layout="none",bulletsContainer.virtualParent=_this,_this._disposers.push(bulletsContainer),_this.bulletsContainer=bulletsContainer,_this.tooltip=new Tooltip_Tooltip,_this.tooltip.virtualParent=_this,_this._disposers.push(_this.tooltip),_this.hiddenState.transitionEasing=cubicIn,_this.dataItem=_this.createDataItem(),_this._disposers.push(_this.dataItem),_this.dataItem.component=_this,_this.role="group",_this.applyTheme(),_this}return Object(tslib_es6.d)(Series,_super),Series.prototype.applyTheme=function(){_super.prototype.applyTheme.call(this),Options_options.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},Series.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},Series.prototype.createDataItem=function(){return new Series_SeriesDataItem},Object.defineProperty(Series.prototype,"chart",{get:function(){return this._chart},set:function(value){this._chart=value},enumerable:!0,configurable:!0}),Series.prototype.positionBullet=function(bullet){},Series.prototype.processBullet=function(event){var _this=this,bullet=event.newValue;bullet.isTemplate=!0,this.events.once("datavalidated",(function(ev){_this.itemsFocusable()&&(bullet.focusable=!0)}))},Series.prototype.removeBullet=function(event){var bullet=event.oldValue;this.dataItems.each((function(dataItem){var eachBullet=dataItem.bullets.getKey(bullet.uid);eachBullet&&eachBullet.dispose()})),this.invalidate()},Series.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.processValues(!1)},Series.prototype.getFirstValue=function(key,startIndex){for(var i=startIndex;i>=0;i--){var value=this.dataItems.getIndex(i).getActualWorkingValue(key);if(isNumber(value))return value}return null},Series.prototype.getAbsoluteFirstValue=function(key){for(var i=0;i<this.dataItems.length;i++){var value=this.dataItems.getIndex(i).values[key].value;if(isNumber(value))return value}return null},Series.prototype.rangeChangeUpdate=function(){_super.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},Series.prototype.processValues=function(working){var _this=this;if(!this.simplifiedProcessing){var dataItems=this.dataItems,count_1={},sum_1={},absoluteSum_1={},low_1={},high_1={},open_1={},close_1={},previous_1={},first_1={},absoluteFirst_1={},startIndex_1=Math_max(0,this.startIndex);startIndex_1=Math_min(startIndex_1,this.dataItems.length);var endIndex=Math_min(this.endIndex,this.dataItems.length);if(isNumber(startIndex_1)||(startIndex_1=0),isNumber(endIndex)||(endIndex=this.dataItems.length),startIndex_1>0){var dataItem_1=dataItems.getIndex(startIndex_1-1);Object_each(dataItem_1.values,(function(key,values){var value=dataItem_1.getActualWorkingValue(key);isNumber(value)&&(previous_1[key]=value)}))}for(var _loop_1=function(i){var dataItem_2=dataItems.getIndex(i);Object_each(dataItem_2.values,(function(key,values){var value=dataItem_2.getActualWorkingValue(key);if(isNumber(value)){isNumber(count_1[key])||(count_1[key]=0),count_1[key]++,isNumber(sum_1[key])||(sum_1[key]=0),sum_1[key]+=value,isNumber(absoluteSum_1[key])||(absoluteSum_1[key]=0),absoluteSum_1[key]+=Math.abs(value),isNumber(open_1[key])||(open_1[key]=value),close_1[key]=value,isNumber(low_1[key])?low_1[key]>value&&(low_1[key]=value):low_1[key]=value,isNumber(high_1[key])?high_1[key]<value&&(high_1[key]=value):high_1[key]=value,isNumber(first_1[key])||(first_1[key]=_this.getFirstValue(key,startIndex_1)),isNumber(absoluteFirst_1[key])||(absoluteFirst_1[key]=_this.getAbsoluteFirstValue(key)),dataItem_2.setCalculatedValue(key,value-first_1[key],"change"),dataItem_2.setCalculatedValue(key,(value-first_1[key])/first_1[key]*100,"changePercent"),dataItem_2.setCalculatedValue(key,value-absoluteFirst_1[key],"startChange"),dataItem_2.setCalculatedValue(key,(value-absoluteFirst_1[key])/absoluteFirst_1[key]*100,"startChangePercent");var prevValue=previous_1[key];isNumber(prevValue)||(prevValue=value),dataItem_2.setCalculatedValue(key,value-prevValue,"previousChange"),dataItem_2.setCalculatedValue(key,(value-prevValue)/prevValue*100,"previousChangePercent"),previous_1[key]=value}}))},i=startIndex_1;i<endIndex;i++)_loop_1(i);if(this.calculatePercent){var _loop_2=function(i){var dataItem_3=dataItems.getIndex(i);Object_each(dataItem_3.values,(function(key){var ksum=absoluteSum_1[key],value=dataItem_3.getActualWorkingValue(key);if(isNumber(value))if(ksum>0){_this.usePercentHack&&value==ksum&&(ksum=dataItem_3.values[key].value);var percent=value/ksum*100;dataItem_3.setCalculatedValue(key,percent,"percent")}else dataItem_3.setCalculatedValue(key,0,"percent")}))};for(i=startIndex_1;i<endIndex;i++)_loop_2(i)}if(startIndex_1>0){var zeroItem_1=dataItems.getIndex(startIndex_1-1);Object_each(zeroItem_1.values,(function(key){var value=zeroItem_1.values[key].value;zeroItem_1.setCalculatedValue(key,value-open_1[key],"change"),zeroItem_1.setCalculatedValue(key,(value-open_1[key])/open_1[key]*100,"changePercent")}))}var dataItem_4=this.dataItem;Object_each(dataItem_4.values,(function(key){dataItem_4.setCalculatedValue(key,sum_1[key],"sum"),dataItem_4.setCalculatedValue(key,absoluteSum_1[key],"absoluteSum"),dataItem_4.setCalculatedValue(key,sum_1[key]/count_1[key],"average"),dataItem_4.setCalculatedValue(key,open_1[key],"open"),dataItem_4.setCalculatedValue(key,close_1[key],"close"),dataItem_4.setCalculatedValue(key,low_1[key],"low"),dataItem_4.setCalculatedValue(key,high_1[key],"high"),dataItem_4.setCalculatedValue(key,count_1[key],"count")}))}},Series.prototype.validate=function(){isIE()&&this.filters.clear(),Iterator_each(this.axisRanges.iterator(),(function(axisRange){axisRange.validate()})),_super.prototype.validate.call(this);var bulletsContainer=this.bulletsContainer;if(bulletsContainer.fill=this.fill,bulletsContainer.stroke=this.stroke,bulletsContainer.x=this.pixelX,bulletsContainer.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){(dataItem=this.dataItems.getIndex(i))&&dataItem.bullets.each((function(key,bullet){bullet.__disabled=!0}))}for(i=this.dataItems.length-1;i>this.endIndex;i--){var dataItem;(dataItem=this.dataItems.getIndex(i))&&dataItem.bullets.each((function(key,bullet){bullet.__disabled=!0}))}}else this.bulletsContainer.children.each((function(bullet){bullet.__disabled=!0}));this.updateTooltipBounds()},Series.prototype.updateTooltipBounds=function(){if(this.topParent){var rect={x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight};this.tooltip.setBounds(rect)}},Series.prototype.shouldCreateBullet=function(dataItem,bulletTemplate){return!0},Series.prototype.validateDataElement=function(dataItem){var _this=this;_super.prototype.validateDataElement.call(this,dataItem),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(bulletTemplate){var bullet=dataItem.bullets.getKey(bulletTemplate.uid);if(_this.shouldCreateBullet(dataItem,bulletTemplate)){if(!bullet){var disabledField=bulletTemplate.propertyFields.disabled,dataContext=dataItem.dataContext;disabledField&&dataContext&&!1===dataContext[disabledField]?(bulletTemplate.applyOnClones=!1,bulletTemplate.disabled=!1,bullet=bulletTemplate.clone(),bulletTemplate.disabled=!0,bulletTemplate.applyOnClones=!0):bullet=bulletTemplate.clone(),bullet.shouldClone=!1,dataItem.addSprite(bullet),_this.visible&&!_this.isHiding||bullet.hide(0)}var currentDataItem=bullet.dataItem;if(currentDataItem!=dataItem){currentDataItem&&currentDataItem.bullets.setKey(bulletTemplate.uid,void 0);var readerText_1=_this.itemReaderText;bullet instanceof Bullet_Bullet&&(readerText_1||(readerText_1="{"+bullet.xField+"}: {"+bullet.yField+"}"),bullet.isDynamic&&(dataItem.events.on("workingvaluechanged",bullet.deepInvalidate,bullet,!1),_this.dataItem.events.on("workingvaluechanged",bullet.deepInvalidate,bullet,!1)),bullet.deepInvalidate()),bullet.focusable&&(bullet.events.on("focus",(function(ev){bullet.readerTitle=_this.populateString(readerText_1,bullet.dataItem)}),void 0,!1),bullet.events.on("blur",(function(ev){bullet.readerTitle=""}),void 0,!1)),bullet.hoverable&&(bullet.events.on("over",(function(ev){bullet.readerTitle=_this.populateString(readerText_1,bullet.dataItem)}),void 0,!1),bullet.events.on("out",(function(ev){bullet.readerTitle=""}),void 0,!1))}bullet.parent=_this.bulletsContainer,dataItem.bullets.setKey(bulletTemplate.uid,bullet),bullet.maxWidth=dataItem.itemWidth,bullet.maxHeight=dataItem.itemHeight,bullet.__disabled=!1,_this.positionBullet(bullet)}else bullet&&(bullet.__disabled=!0)}))):this.bulletsContainer.visible=!1},Series.prototype.handleDataItemWorkingValueChange=function(dataItem,name){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(Series.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(value){this._ignoreMinMax=value,this.invalidateDataItems()},enumerable:!0,configurable:!0}),Series.prototype.createMask=function(){},Series.prototype.processAxisRange=function(event){this.rangesContainer||(this.rangesContainer=this.createChild(Container_Container),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var axisRange=event.newValue;axisRange&&(axisRange.contents.parent=this.rangesContainer,axisRange.isRange=!0,axisRange.events.on("valuechanged",this.invalidateDataItems,this,!1))},Series.prototype.getAxisField=function(axis){},Series.prototype.showTooltipAtPosition=function(xPosition,yPosition){},Object.defineProperty(Series.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(value){this.setPropertyValue("minBulletDistance",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new List_ListTemplate(new Bullet_Bullet),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new List_ListDisposer(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),Series.prototype.createLegendMarker=function(marker){},Object.defineProperty(Series.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(value){this.setPropertyValue("hiddenInLegend",value)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(value){this.setPropertyValue("name",value);var legendDataItem=this.legendDataItem;legendDataItem&&(legendDataItem.component.invalidate(),legendDataItem.component.invalidateRawData()),this.readerTitle=value},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"itemReaderText",{get:function(){var readerText=this._itemReaderText;return readerText||(this.tooltipText?readerText=plainText(this.tooltipText):this.tooltipHTML&&(readerText=plainText(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",readerText):readerText},set:function(value){this._itemReaderText=value,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),Series.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(Series.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),Series.prototype.updateLegendValue=function(dataItem,notRange){if(this.legendDataItem){var legendSettings=this.legendSettings,legendDataItem=this.legendDataItem,label=legendDataItem.label,valueLabel=legendDataItem.valueLabel;dataItem||notRange?(valueLabel&&(legendSettings.itemValueText&&(valueLabel.text=legendSettings.itemValueText),valueLabel.dataItem=dataItem),label&&(legendSettings.itemLabelText&&(label.text=legendSettings.itemLabelText),label.dataItem=dataItem)):(label&&((legendSettings.labelText||null!=legendSettings.itemLabelText)&&(label.text=legendSettings.labelText),label.dataItem=this.dataItem),valueLabel&&((legendSettings.valueText||null!=legendSettings.itemValueText)&&(valueLabel.text=legendSettings.valueText),valueLabel.dataItem=this.dataItem))}},Series.prototype.copyFrom=function(source){this.bullets.copyFrom(source.bullets),this.bulletsContainer.copyFrom(source.bulletsContainer),this.calculatePercent=source.calculatePercent,this.usePercentHack=source.usePercentHack,this.simplifiedProcessing=source.simplifiedProcessing,_super.prototype.copyFrom.call(this,source)},Series.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,Options_options.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),Options_options.verbose&&console.log(e)},Series.prototype.applyFilters=function(){var _this=this;_super.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),Iterator_each(this.filters.iterator(),(function(filter){_this.bulletsContainer.filters.push(filter.clone())}))},Object.defineProperty(Series.prototype,"heatRules",{get:function(){var _this=this;return this._heatRules||(this._heatRules=new List_List,this._heatRules.events.on("inserted",(function(event){var heatRule=event.newValue,target=heatRule.target;if(target){var dataField_1=heatRule.dataField;Type_hasValue(dataField_1)||(dataField_1="value");var seriesDataItem_1=_this.dataItem,property_1=heatRule.property,minValue=toNumber(heatRule.minValue),maxValue=toNumber(heatRule.maxValue);isNumber(minValue)||isNumber(maxValue)||_this.dataItem.events.on("calculatedvaluechanged",(function(event){event.property==dataField_1&&Iterator_each(_this.dataItems.iterator(),(function(dataItem){var foundSprite=!1;each(dataItem.sprites,(function(sprite){if(sprite.clonedFrom==target){var anySprite=sprite;anySprite[property_1]=anySprite[property_1],foundSprite=!0}})),foundSprite||each(dataItem.sprites,(function(sprite){sprite instanceof Container_Container&&Iterator_each(sprite.children.iterator(),(function(child){if(child.className==target.className){var anyChild=child;anyChild[property_1]=anyChild[property_1]}else child instanceof Container_Container&&child.deepInvalidate()}))}))}))})),_this.dataItems.template.events.on("workingvaluechanged",(function(event){if(event.property==dataField_1){var dataItem=event.target,foundSprite_1=!1;each(dataItem.sprites,(function(sprite){if(sprite.clonedFrom==target){var anySprite=sprite;anySprite[property_1]=anySprite[property_1],foundSprite_1=!0}})),foundSprite_1||each(dataItem.sprites,(function(sprite){sprite instanceof Container_Container&&Iterator_each(sprite.children.iterator(),(function(child){if(child.className==target.className){var anyChild=child;anyChild[property_1]=anyChild[property_1]}else child instanceof Container_Container&&child.deepInvalidate()}))}))}})),target.adapter.add(property_1,(function(value,ruleTarget,property){var minValue=toNumber(heatRule.minValue),maxValue=toNumber(heatRule.maxValue),min=heatRule.min,max=heatRule.max;if(ruleTarget instanceof Sprite_Sprite){var propertyField=ruleTarget.propertyFields[property];if(propertyField&&ruleTarget.dataItem){var dataContext=ruleTarget.dataItem.dataContext;if(dataContext&&Type_hasValue(dataContext[propertyField]))return value}}var dataItem=ruleTarget.dataItem;if((isNumber(minValue)||(minValue=seriesDataItem_1.values[dataField_1].low),isNumber(maxValue)||(maxValue=seriesDataItem_1.values[dataField_1].high),dataItem)&&dataItem.values[dataField_1]){var workingValue=dataItem.getActualWorkingValue(dataField_1);if(Type_hasValue(min)&&Type_hasValue(max)&&isNumber(minValue)&&isNumber(maxValue)&&isNumber(workingValue)){var percent=void 0;if(percent=heatRule.logarithmic?(Math.log(workingValue)*Math.LOG10E-Math.log(minValue)*Math.LOG10E)/(Math.log(maxValue)*Math.LOG10E-Math.log(minValue)*Math.LOG10E):(workingValue-minValue)/(maxValue-minValue),!isNumber(workingValue)||isNumber(percent)&&Math.abs(percent)!=1/0||(percent=.5),isNumber(min))return min+(max-min)*percent;if(min instanceof Color_Color)return new Color_Color(Colors_interpolate(min.rgb,max.rgb,percent))}}return value}))}}))),this._heatRules},enumerable:!0,configurable:!0}),Series.prototype.processConfig=function(config){var heatRules;if(config){if(Type_hasValue(config.bullets)&&Type_isArray(config.bullets))for(var i=0,len=config.bullets.length;i<len;i++){var bullets=config.bullets[i];Type_hasValue(bullets.type)||(bullets.type="Bullet")}Type_hasValue(config.heatRules)&&Type_isArray(config.heatRules)&&(heatRules=config.heatRules,delete config.heatRules)}if(_super.prototype.processConfig.call(this,config),heatRules){for(i=0,len=heatRules.length;i<len;i++){var rule=heatRules[i],target=this;if(Type_hasValue(rule.target)&&isString(rule.target))if(this.map.hasKey(rule.target))target=this.map.getKey(rule.target);else for(var parts=rule.target.split("."),x=0;x<parts.length;x++)if(target instanceof List_List){var listitem=target.getIndex(toNumber(parts[x]));target=listitem||target[parts[x]]}else{var maybeIndex=parts[x].match(/^(.*)\[([0-9]+)\]/);target=maybeIndex?target[maybeIndex[1]]instanceof List_List?target[maybeIndex[1]].getIndex(toNumber(maybeIndex[2])):target[maybeIndex[1]][toNumber(maybeIndex[2])]:target[parts[x]]}rule.target=target,Type_hasValue(rule.min)&&(rule.min=this.maybeColorOrPercent(rule.min)),Type_hasValue(rule.max)&&(rule.max=this.maybeColorOrPercent(rule.max))}_super.prototype.processConfig.call(this,{heatRules:heatRules})}},Series.prototype.configOrder=function(a,b){return a==b?0:"heatRules"==a?1:"heatRules"==b?-1:_super.prototype.configOrder.call(this,a,b)},Series.prototype.setVisibility=function(value){_super.prototype.setVisibility.call(this,value),this.bulletsContainer.visible=value},Series}(Component_Component);Registry_registry.registeredClasses.Series=Series_Series,Registry_registry.registeredClasses.SeriesDataItem=Series_SeriesDataItem;var SerialChart_SerialChartDataItem=function(_super){function SerialChartDataItem(){var _this=_super.call(this)||this;return _this.className="SerialChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(SerialChartDataItem,_super),SerialChartDataItem}(Chart_ChartDataItem),SerialChart_SerialChart=function(_super){function SerialChart(){var _this=_super.call(this)||this;_this.className="SerialChart",_this.colors=new ColorSet_ColorSet,_this._usesData=!1;var seriesContainer=_this.chartContainer.createChild(Container_Container);seriesContainer.shouldClone=!1,seriesContainer.width=Percent_percent(100),seriesContainer.height=Percent_percent(100),seriesContainer.isMeasured=!1,seriesContainer.layout="none",seriesContainer.zIndex=2,_this.seriesContainer=seriesContainer;var bulletsContainer=_this.chartContainer.createChild(Container_Container);return bulletsContainer.shouldClone=!1,bulletsContainer.width=Percent_percent(100),bulletsContainer.height=Percent_percent(100),bulletsContainer.isMeasured=!1,bulletsContainer.zIndex=3,bulletsContainer.layout="none",_this.bulletsContainer=bulletsContainer,_this.applyTheme(),_this}return Object(tslib_es6.d)(SerialChart,_super),SerialChart.prototype.dispose=function(){_super.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},SerialChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(SerialChart.prototype,"series",{get:function(){return this._series||(this._series=new List_ListTemplate(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new List_ListDisposer(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),SerialChart.prototype.handleSeriesRemoved=function(event){var series=event.oldValue;this.dataUsers.removeValue(series),this.dataUsers.each((function(dataUser){dataUser.invalidateDataItems()})),series.autoDispose?series.dispose():(series.parent=void 0,series.bulletsContainer.parent=void 0);var legend=this.legend;if(legend){for(var dataItems=this.legend.dataItems,i=dataItems.length-1;i>=0;i--){var dataItem=dataItems.getIndex(i);dataItem&&dataItem.dataContext==series&&legend.dataItems.remove(dataItem)}for(i=legend.data.length-1;i>=0;i--){var di=legend.data[i];di&&di==series&&Array_remove(legend.data,di)}}},SerialChart.prototype.handleSeriesAdded=function(event){var _this=this,series=event.newValue;series.isDisposed()||(series.chart=this,series.parent=this.seriesContainer,series.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(series),series.addDisposer(new Disposer((function(){_this.dataUsers.removeValue(series)}))),this.handleSeriesAdded2(series),series.hiddenInLegend||this.legend&&this.legend.addData(series))},SerialChart.prototype.handleSeriesAdded2=function(series){var _this=this;this.dataInvalid||this._disposers.push(Registry_registry.events.once("exitframe",(function(){series.data&&0!=series.data.length||(series.data=_this.data,series.showOnInit&&(series.reinit(),series.setPropertyValue("showOnInit",!1),series.showOnInit=!0),series.events.once("datavalidated",(function(){series.data==_this.data&&(series._data=[])})))})))},SerialChart.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];Iterator_each(this.series.iterator(),(function(series){series.hiddenInLegend||legendData_1.push(series)})),legend.dataFields.name="name",legend.data=legendData_1}},SerialChart.prototype.createSeries=function(){return new Series_Series},Object.defineProperty(SerialChart.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(value){this.setPropertyValue("colors",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SerialChart.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(value){this.setPropertyValue("patterns",value,!0)},enumerable:!0,configurable:!0}),SerialChart.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.series.copyFrom(source.series)},SerialChart.prototype.appear=function(){_super.prototype.appear.call(this),this.series.each((function(series){series.showOnInit&&series.inited&&series.appear()}))},SerialChart}(Chart_Chart);Registry_registry.registeredClasses.SerialChart=SerialChart_SerialChart;var AxisBreak_AxisBreak=function(_super){function AxisBreak(){var _this=_super.call(this)||this;_this._axis=new Disposer_MutableValueDisposer,_this.dataItems=new List_List,_this.className="AxisBreak",_this.breakSize=.01,_this.marginLeft=-5,_this.marginRight=-5,_this.marginTop=-5,_this.marginBottom=-5;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,fillShape=new WavedLine_WavedLine;fillShape.fill=interfaceColors.getFor("background"),fillShape.stroke=Color_color(),fillShape.fillOpacity=.9,fillShape.zIndex=0,_this._fillShape=fillShape;var startLine=new WavedLine_WavedLine;startLine.fill=Color_color(),startLine.stroke=interfaceColors.getFor("grid"),startLine.strokeOpacity=.3,startLine.zIndex=1,_this._startLine=startLine;var endLine=new WavedLine_WavedLine;return endLine.fill=Color_color(),endLine.stroke=Color_color("#000000"),endLine.strokeOpacity=.3,endLine.zIndex=2,_this._endLine=endLine,_this._disposers.push(_this._axis),_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisBreak,_super),AxisBreak.prototype.dispose=function(){_super.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(AxisBreak.prototype,"startLine",{get:function(){return this._startLine},set:function(sprite){this._startLine&&this._startLine.dispose(),this._startLine=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"endLine",{get:function(){return this._endLine},set:function(sprite){this._endLine&&this._endLine.dispose(),this._endLine=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"fillShape",{get:function(){return this._fillShape},set:function(sprite){this._fillShape&&this._fillShape.dispose(),this._fillShape=sprite,this.addBreakSprite(sprite)},enumerable:!0,configurable:!0}),AxisBreak.prototype.addBreakSprite=function(sprite){sprite.parent=this,sprite.isMeasured=!1,this._disposers.push(sprite)},Object.defineProperty(AxisBreak.prototype,"axis",{get:function(){return this._axis.get()},set:function(axis){if(this._axis.get()!==axis){this._axis.set(axis,axis.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),axis.renderer.createBreakSprites(this);var breakTemplate=axis.axisBreaks.template;this.startLine.copyFrom(breakTemplate.startLine),this.endLine.copyFrom(breakTemplate.endLine),this.fillShape.copyFrom(breakTemplate.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(value){this.setPropertyValue("breakSize",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"startPoint",{get:function(){var renderer=this.axis.renderer;if(renderer)return renderer.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"endPoint",{get:function(){var renderer=this.axis.renderer;if(renderer)return renderer.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),AxisBreak.prototype.draw=function(){(_super.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(AxisBreak.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(value){this.setPropertyValue("startValue",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisBreak.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(value){this.setPropertyValue("endValue",value)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),AxisBreak}(Container_Container);Registry_registry.registeredClasses.AxisBreak=AxisBreak_AxisBreak;var AxisItemLocation,Axis_AxisDataItem=function(_super){function AxisDataItem(){var _this=_super.call(this)||this;return _this.className="AxisDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisDataItem,_super),Object.defineProperty(AxisDataItem.prototype,"grid",{get:function(){if(!this._grid){var component_1=this.component;if(component_1){var grid_1,template=void 0;if(this.isRange){if((template=component_1.axisRanges.template.grid).disabled)return;grid_1=template.clone()}else{if((template=component_1.renderer.grid.template).disabled)return;grid_1=component_1.renderer.grid.create(),this._disposers.push(new Disposer((function(){component_1.renderer.grid.removeValue(grid_1)})))}this.grid=grid_1,grid_1.shouldClone=!1,this._disposers.push(grid_1),grid_1.axis=this.component}}return this._grid},set:function(grid){this._grid&&this._grid!=grid&&(Array_remove(this.sprites,this._grid),this._grid.dataItem=void 0),grid&&(grid.dataItem&&grid.dataItem!=this&&(Array_remove(grid.dataItem.sprites,grid),grid.dataItem.grid=void 0),this.addSprite(grid)),this._grid=grid},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"tick",{get:function(){if(!this._tick){var component_2=this.component;if(component_2){var tick_1,template=void 0;if(this.isRange){if((template=component_2.axisRanges.template.tick).disabled)return;tick_1=template.clone()}else{if((template=component_2.renderer.ticks.template).disabled)return;tick_1=component_2.renderer.ticks.create(),this._disposers.push(new Disposer((function(){component_2.renderer.ticks.removeValue(tick_1)})))}this.tick=tick_1,tick_1.axis=this.component,tick_1.shouldClone=!1,this._disposers.push(tick_1)}}return this._tick},set:function(tick){this._tick&&this._tick!=tick&&(Array_remove(this.sprites,this._tick),this._tick.dataItem=void 0),tick&&(tick.dataItem&&tick.dataItem!=this&&(Array_remove(tick.dataItem.sprites,tick),tick.dataItem.tick=void 0),this.addSprite(tick)),this._tick=tick},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"label",{get:function(){if(!this._label){var component_3=this.component;if(component_3){var label_1,template=void 0;if(this.isRange){if((template=component_3.axisRanges.template.label).disabled)return;label_1=template.clone()}else{if((template=component_3.renderer.labels.template).disabled)return;label_1=component_3.renderer.labels.create(),this._disposers.push(new Disposer((function(){component_3.renderer.labels.removeValue(label_1)})))}this._disposers.push(label_1),this.label=label_1,label_1.shouldClone=!1,label_1.axis=this.component,label_1.virtualParent=component_3}}return this._label},set:function(label){this._label&&this._label!=label&&(Array_remove(this.sprites,this._label),this._label.dataItem=void 0),label&&(label.dataItem&&label.dataItem!=this&&(Array_remove(label.dataItem.sprites,label),label.dataItem.label=void 0),this.addSprite(label)),this._label=label},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"axisFill",{get:function(){if(!this._axisFill){var component_4=this.component;if(component_4){var axisFill_1,template=void 0;if(this.isRange){if(template=component_4.axisRanges.template.axisFill,!this.isTemplate&&template.disabled)return;axisFill_1=template.clone()}else{if((template=component_4.renderer.axisFills.template).disabled)return;axisFill_1=component_4.renderer.axisFills.create(),this._disposers.push(new Disposer((function(){component_4.renderer.axisFills.removeValue(axisFill_1)})))}this.axisFill=axisFill_1,axisFill_1.shouldClone=!1,this._disposers.push(axisFill_1)}}return this._axisFill},set:function(axisFill){this._axisFill&&this._axisFill!=axisFill&&(Array_remove(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),axisFill&&(axisFill.dataItem&&axisFill.dataItem!=this&&(Array_remove(axisFill.dataItem.sprites,axisFill),axisFill.dataItem.axisFill=void 0),axisFill.axis=this.component,this.addSprite(axisFill)),this._axisFill=axisFill},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"text",{get:function(){return this._text},set:function(text){this._text=text,this._label&&(this._label.text=text)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"contents",{get:function(){if(!this._contents){var contents=new Container_Container;this.addSprite(contents),contents.isMeasured=!1,this._contents=contents;var component=this.component;if(component){var mask=component.renderer.createFill(this.component);mask.disabled=!1,mask.axis=component,this.addSprite(mask),this._mask=mask,contents.mask=mask}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(AxisDataItem.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(axisBreak){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),axisBreak&&axisBreak.dataItems.push(this),this._axisBreak=axisBreak},enumerable:!0,configurable:!0}),AxisDataItem.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},AxisDataItem.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},AxisDataItem.prototype.hasProperty=function(prop){return"component"==prop||_super.prototype.hasProperty.call(this,prop)},AxisDataItem.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.text=source.text,source.bullet&&(this.bullet=source.bullet.clone()),this.minPosition=source.minPosition,this.maxPosition=source.maxPosition},AxisDataItem.prototype.setVisibility=function(value,noChangeValues){_super.prototype.setVisibility.call(this,value,noChangeValues),this._contents&&(this._contents.visible=value)},Object.defineProperty(AxisDataItem.prototype,"bullet",{get:function(){return this._bullet},set:function(value){this._bullet&&this._bullet!=value&&(Array_remove(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=value,value&&this.addSprite(value)},enumerable:!0,configurable:!0}),AxisDataItem}(DataItem_DataItem);!function(AxisItemLocation){AxisItemLocation[AxisItemLocation.Start=0]="Start",AxisItemLocation[AxisItemLocation.Middle=.5]="Middle",AxisItemLocation[AxisItemLocation.End=1]="End"}(AxisItemLocation||(AxisItemLocation={}));var Axis_Axis=function(_super){function Axis(){var _this=_super.call(this)||this;if(_this._gridCount=10,_this._series=new List_List,_this.autoDispose=!0,_this._axisItemCount=0,_this.constructor===Axis)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");_this.hideTooltipWhileZooming=!0,_this.minWidth=1e-4,_this.minHeight=1e-4,_this.className="Axis",_this.shouldClone=!1,_this.setPropertyValue("cursorTooltipEnabled",!0),_this.toggleZoomOutButton=!0,_this.zoomable=!0;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.title=new Label_Label,_this.title.shouldClone=!1,_this._disposers.push(_this.title),_this.setPropertyValue("startLocation",0),_this.setPropertyValue("endLocation",1),_this._dataItemsIterator=new Iterator_ListIterator(_this.dataItems,(function(){return _this.dataItems.create()})),_this._dataItemsIterator.createNewItems=!0;var tooltip=new Tooltip_Tooltip;_this._disposers.push(tooltip),tooltip.label.padding(5,10,5,10),tooltip.background.pointerLength=5,tooltip.fitPointerToBounds=!0,tooltip.background.filters.clear(),tooltip.virtualParent=_this;var background=tooltip.background;return background.cornerRadius=0,background.fill=interfaceColors.getFor("alternativeBackground"),background.stroke=background.fill,background.strokeWidth=1,background.fillOpacity=1,tooltip.label.fill=interfaceColors.getFor("alternativeText"),_this.tooltip=tooltip,_this.readerHidden=!0,_this.events.on("rangechangestarted",(function(){_this.series.each((function(series){series.hideTooltipWhileZooming&&(series.tooltip.hide(),series.tooltip.preventShow=!0)})),_this.hideTooltipWhileZooming&&(_this.tooltip.hide(),_this.tooltip.preventShow=!0)}),void 0,!1),_this.events.on("rangechangeended",(function(){_this.series.each((function(series){series.hideTooltipWhileZooming&&(series.tooltip.hide(),series.tooltip.preventShow=!1)})),_this.hideTooltipWhileZooming&&(_this.tooltip.hide(),_this.tooltip.preventShow=!1)}),void 0,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(Axis,_super),Axis.prototype.fillRule=function(dataItem,index){isNumber(index)||(index=dataItem.index),index/2==Math.round(index/2)?(dataItem.axisFill.__disabled=!0,dataItem.axisFill.opacity=0):(dataItem.axisFill.opacity=1,dataItem.axisFill.__disabled=!1)},Axis.prototype.createDataItem=function(){return new Axis_AxisDataItem},Axis.prototype.invalidateLayout=function(){_super.prototype.invalidateLayout.call(this),Iterator_each(this.series.iterator(),(function(series){series.invalidateLayout()}))},Axis.prototype.invalidateSeries=function(){Iterator_each(this.series.iterator(),(function(series){series.invalidate()}))},Axis.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},Axis.prototype.updateGridCount=function(){if(this.renderer){var gridCount=this.axisLength/this.renderer.minGridDistance;gridCount!=this._gridCount&&(this._gridCount=gridCount,this.clearCache())}},Axis.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),_super.prototype.validateLayout.call(this),this.updateGridCount();var renderer=this.renderer;renderer&&(renderer.updateAxisLine(),renderer.updateTooltip(),renderer.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},Axis.prototype.initRenderer=function(){},Axis.prototype.appendDataItem=function(dataItem){var renderer=this.renderer,tick=dataItem.tick;tick&&(tick.above?tick.parent=renderer.bulletsContainer:tick.parent=renderer.gridContainer),dataItem.label&&(dataItem.label.parent=renderer);var axisFill=dataItem.axisFill;axisFill&&(axisFill.above?axisFill.parent=renderer.bulletsContainer:axisFill.parent=renderer.gridContainer);var grid=dataItem.grid;grid&&(grid.above?grid.parent=renderer.bulletsContainer:grid.parent=renderer.gridContainer),dataItem.bullet&&(dataItem.bullet.parent=renderer.bulletsContainer)},Axis.prototype.validate=function(){_super.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},Axis.prototype.validateAxisRanges=function(){var _this=this;Iterator_each(this.axisRanges.iterator(),(function(axisRange){_this.appendDataItem(axisRange),_this.validateDataElement(axisRange),axisRange.grid&&axisRange.grid.validate(),axisRange.tick&&axisRange.tick.validate(),axisRange.axisFill&&axisRange.axisFill.validate(),axisRange.label&&axisRange.label.validate()}))},Axis.prototype.validateBreaks=function(){this._axisBreaks&&Iterator_each(this._axisBreaks.iterator(),(function(axisBreak){axisBreak.invalidate()}))},Axis.prototype.processBreak=function(event){var axisBreak=event.newValue;axisBreak.parent=this.renderer.breakContainer,axisBreak.axis=this},Axis.prototype.registerSeries=function(series){var _this=this;return this.series.moveValue(series),new Disposer_MultiDisposer([new Disposer((function(){_this.series.removeValue(series)})),this.events.on("lengthchanged",series.invalidate,series,!1),this.events.on("lengthchanged",series.createMask,series,!1),this.events.on("startchanged",series.invalidate,series,!1),this.events.on("endchanged",series.invalidate,series,!1)])},Object.defineProperty(Axis.prototype,"renderer",{get:function(){return this._renderer},set:function(renderer){if(renderer!=this._renderer){this._renderer=renderer,renderer.chart=this.chart,renderer.axis=this,renderer.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(renderer.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var ghostLabel_1=this.renderer.labels.create();this._disposers.push(ghostLabel_1),ghostLabel_1.dataItem=this.dataItems.template.clone(),ghostLabel_1.text="L",ghostLabel_1.parent=this.renderer,ghostLabel_1.shouldClone=!1,ghostLabel_1.fillOpacity=0,ghostLabel_1.opacity=0,ghostLabel_1.strokeOpacity=0,ghostLabel_1.interactionsEnabled=!1,ghostLabel_1.validate(),this.ghostLabel=ghostLabel_1,this.events.on("beforedatavalidated",(function(){ghostLabel_1.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),Axis.prototype.positionToAngle=function(position){return this.renderer.positionToAngle(position)},Axis.prototype.pointToPosition=function(point){return this.renderer.pointToPosition(point)},Axis.prototype.positionToCoordinate=function(position){return this.renderer.positionToCoordinate(position)},Axis.prototype.getAnyRangePath=function(start,end){return this.renderer.getPositionRangePath(start,end)},Axis.prototype.anyToPosition=function(value){return 0},Axis.prototype.anyToPoint=function(value){return{x:0,y:0,angle:0}},Axis.prototype.getPositionRangePath=function(startPosition,endPosition){return this.renderer?this.renderer.getPositionRangePath(startPosition,endPosition):""},Object.defineProperty(Axis.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(value){this.setPropertyValue("cursorTooltipEnabled",value)&&(value&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(value){this.setPropertyValue("toggleZoomOutButton",value)},enumerable:!0,configurable:!0}),Axis.prototype.hideTooltip=function(duration){_super.prototype.hideTooltip.call(this,duration),this._tooltipPosition=void 0},Axis.prototype.showTooltipAtPosition=function(position,local){var tooltip=this._tooltip;if(!tooltip||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(local||(position=this.toAxisPosition(position)),!isNumber(position)||position<this.start||position>this.end)return tooltip.hide(0),void(this._tooltipPosition=void 0);var renderer=this.renderer;tooltip.parent||(tooltip.parent=this.tooltipContainer);var tooltipLocation=renderer.tooltipLocation,startPosition=this.getCellStartPosition(position),endPosition=this.getCellEndPosition(position);if("fixed"==this.tooltipPosition&&(position=startPosition+(endPosition-startPosition)*tooltipLocation),position=fitToRange(position,this.start,this.end),this._tooltipPosition!=position){this._tooltipPosition=position;var tooltipLocation2=renderer.tooltipLocation2,startPoint=renderer.positionToPoint(startPosition,tooltipLocation2),endPoint=renderer.positionToPoint(endPosition,tooltipLocation2);this.currentItemStartPoint=startPoint,this.currentItemEndPoint=endPoint,renderer.fullWidthTooltip&&(tooltip.width=endPoint.x-startPoint.x,tooltip.height=endPoint.y-startPoint.y);var globalPoint=spritePointToSvg(renderer.positionToPoint(position,tooltipLocation2),this.renderer.line);tooltip.text=this.getTooltipText(position),tooltip.text&&(tooltip.delayedPointTo(globalPoint),tooltip.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||tooltip.hide(0)}},Axis.prototype.toAxisPosition=function(position){if(null!=(position=this.renderer.toAxisPosition(position)))return position*=this.end-this.start,position=this.renderer.inversed?this.end-position:this.start+position},Axis.prototype.toGlobalPosition=function(position){return this.renderer.inversed?position=this.end-position:position-=this.start,position/(this.end-this.start)},Axis.prototype.getTooltipText=function(position){},Axis.prototype.updateTooltip=function(pointerOrientation,boundingRectangle){var tooltip=this._tooltip;tooltip&&(tooltip.fixDoc=!1,tooltip.pointerOrientation=pointerOrientation,tooltip.setBounds(spriteRectToSvg(boundingRectangle,this.renderer.line)))},Axis.prototype.roundPosition=function(position,location,axisLocation){return position},Axis.prototype.getCellStartPosition=function(position){return position},Axis.prototype.getCellEndPosition=function(position){return position},Object.defineProperty(Axis.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var dataItem=this.createDataItem();dataItem.isRange=!0,dataItem.axisFill=this.renderer.axisFills.template.clone(),dataItem.grid=this.renderer.grid.template.clone(),dataItem.tick=this.renderer.ticks.template.clone(),dataItem.label=this.renderer.labels.template.clone(),dataItem.isTemplate=!0,dataItem.component=this,dataItem.axisFill.disabled=!1,dataItem.tick.disabled=!1,dataItem.grid.disabled=!1,dataItem.label.disabled=!1,this._axisRanges=new List_ListTemplate(dataItem),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new List_ListDisposer(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),Axis.prototype.processAxisRange=function(event){var axisRange=event.newValue;axisRange.component=this,axisRange.isRange=!0},Object.defineProperty(Axis.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new SortedList_SortedListTemplate(this.createAxisBreak(),(function(a,b){return Number_order(a.adjustedStartValue,b.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new List_ListDisposer(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),Axis.prototype.createAxisBreak=function(){return new AxisBreak_AxisBreak},Object.defineProperty(Axis.prototype,"series",{get:function(){return this._series||(this._series=new List_List),this._series},enumerable:!0,configurable:!0}),Axis.prototype.processSeriesDataItems=function(){},Axis.prototype.processSeriesDataItem=function(dataItem,axisLetter){},Axis.prototype.postProcessSeriesDataItems=function(series){},Axis.prototype.postProcessSeriesDataItem=function(dataItem){},Axis.prototype.updateAxisBySeries=function(){},Axis.prototype.hideUnusedDataItems=function(){var _this=this,dataItemsIterator=this._dataItemsIterator;dataItemsIterator.createNewItems=!1,Iterator_each(dataItemsIterator.iterator(),(function(dataItem){_this.validateDataElement(dataItem),dataItem.__disabled=!0})),dataItemsIterator.clear(),dataItemsIterator.createNewItems=!0},Axis.prototype.getSeriesDataItem=function(series,position,findNearest){},Axis.prototype.getAngle=function(dataItem,key,location,stackKey,range){},Axis.prototype.getX=function(dataItem,key,location,stackKey,range){},Axis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){},Axis.prototype.getY=function(dataItem,key,location,stackKey,range){},Axis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){},Object.defineProperty(Axis.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),Axis.prototype.dataChangeUpdate=function(){},Axis.prototype.seriesDataChangeUpdate=function(series){},Axis.prototype.adjustDifference=function(min,max){var difference=max-min;if(isNumber(difference))return this._axisBreaks&&Iterator_eachContinue(this._axisBreaks.iterator(),(function(axisBreak){var range1,range2,start1,start2,end1,end2,startMax,endMin,startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;if(isNumber(startValue)&&isNumber(endValue)){if(startValue>max)return!1;if(endValue>=min&&isNumber(startValue)&&isNumber(endValue)){var breakSize=axisBreak.breakSize,intersection=(range2={start:min,end:max},start1=getValue((range1={start:startValue,end:endValue}).start),start2=getValue(range2.start),end1=getValue(range1.end),end2=getValue(range2.end),startMax=Math.max(start1,start2),(endMin=Math.min(end1,end2))<startMax?void 0:{start:startMax,end:endMin});intersection&&(difference-=(intersection.end-intersection.start)*(1-breakSize))}return!0}})),difference},Axis.prototype.isInBreak=function(value){if(this._axisBreaks)return Iterator_find(this._axisBreaks.iterator(),(function(axisBreak){return value>=axisBreak.adjustedStartValue&&value<=axisBreak.adjustedEndValue}))},Axis.prototype.fixAxisBreaks=function(){var _this=this;if(this._axisBreaks){var axisBreaks=this._axisBreaks;if(axisBreaks.length>0){each(Iterator_toArray(axisBreaks.iterator()),(function(axisBreak){var startValue=Math_min(axisBreak.startValue,axisBreak.endValue),endValue=Math_max(axisBreak.startValue,axisBreak.endValue);axisBreak.adjustedStartValue=startValue,axisBreak.adjustedEndValue=endValue,_this._axisBreaks.update(axisBreak)}));var firstAxisBreak=axisBreaks.first,previousEndValue_1=Math.min(firstAxisBreak.startValue,firstAxisBreak.endValue);Iterator_each(axisBreaks.iterator(),(function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;startValue<previousEndValue_1&&(startValue=previousEndValue_1,endValue<previousEndValue_1&&(endValue=previousEndValue_1)),axisBreak.adjustedStartValue=startValue,axisBreak.adjustedEndValue=endValue}))}}},Object.defineProperty(Axis.prototype,"startIndex",{get:function(){return 0},set:function(value){},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(value){},enumerable:!0,configurable:!0}),Axis.prototype.getPositionLabel=function(position){return Math.round(100*position)+"%x"},Object.defineProperty(Axis.prototype,"chart",{get:function(){return this._chart},set:function(value){this._chart=value},enumerable:!0,configurable:!0}),Axis.prototype.createSeriesRange=function(series){var range=this.axisRanges.create();return range.component=this,range.axisFill=this.renderer.axisFills.template.clone(),range.axisFill.disabled=!1,range.axisFill.fillOpacity=0,range.grid=this.renderer.grid.template.clone(),range.grid.disabled=!0,range.tick=this.renderer.ticks.template.clone(),range.tick.disabled=!0,range.label=this.renderer.labels.template.clone(),range.label.disabled=!0,range.addDisposer(new Disposer((function(){series.axisRanges.removeValue(range)}))),series.axisRanges.push(range),range},Axis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.renderer?this.renderer.copyFrom(source.renderer):source.renderer&&(this.renderer=source.renderer.clone(),this._disposers.push(this.renderer)),source.title&&(this.title?this.title.copyFrom(source.title):(this.title=source.title.clone(),this.title.parent=this),this._disposers.push(this.title))},Axis.prototype.resetIterators=function(){this._dataItemsIterator.reset()},Axis.prototype.processConfig=function(config){if(config&&Type_hasValue(config.axisRanges)&&Type_isArray(config.axisRanges))for(var i=0,len=config.axisRanges.length;i<len;i++){var range=config.axisRanges[i];Type_hasValue(range.series)&&isString(range.series)&&this.map.hasKey(range.series)&&(config.axisRanges[i]=this.createSeriesRange(this.map.getKey(range.series)),delete range.series,config.axisRanges[i].config=range)}_super.prototype.processConfig.call(this,config)},Axis.prototype.configOrder=function(a,b){return a==b?0:"title"==a?1:"title"==b?-1:"component"==a?-1:"component"==b?1:_super.prototype.configOrder.call(this,a,b)},Object.defineProperty(Axis.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(value){this.setPropertyValue("startLocation",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(value){this.setPropertyValue("endLocation",value,!0)},enumerable:!0,configurable:!0}),Axis.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.renderer&&(this.renderer.gridContainer.disabled=value),changed},Object.defineProperty(Axis.prototype,"title",{get:function(){return this._title},set:function(value){this._title&&this._title!=value&&this._title.dispose(),value&&(this._title=value,value.parent=this,value.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(value){this.setPropertyValue("hideTooltipWhileZooming",value)},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(value){this.setPropertyValue("zoomable",value)},enumerable:!0,configurable:!0}),Axis}(Component_Component);Registry_registry.registeredClasses.Axis=Axis_Axis,Registry_registry.registeredClasses.AxisDataItem=Axis_AxisDataItem,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof Axis_Axis&&target.tooltip){var state=target.states.create(stateId);return state.properties.cursorTooltipEnabled=!1,state}return null}});var AxisLine_AxisLine=function(_super){function AxisLine(){var _this=_super.call(this)||this;_this.className="AxisLine",_this.element=_this.paper.add("path");var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor("grid"),_this.strokeOpacity=.15,_this.pixelPerfect=!0,_this.fill=Color_color(),_this.applyTheme(),_this.interactionsEnabled=!1,_this}return Object(tslib_es6.d)(AxisLine,_super),AxisLine}(Sprite_Sprite);Registry_registry.registeredClasses.AxisLine=AxisLine_AxisLine;var AxisFill_AxisFill=function(_super){function AxisFill(axis){var _this=_super.call(this)||this;_this.axis=axis,_this.element=_this.paper.add("path"),_this.className="AxisFill",_this.isMeasured=!1,_this.location=0,_this.above=!1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fill=interfaceColors.getFor("alternativeBackground"),_this.fillOpacity=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisFill,_super),AxisFill.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisFill.prototype.draw=function(){_super.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&isNumber(this.startPosition)&&isNumber(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(AxisFill.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(value){this.setPropertyValue("startPosition",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFill.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(value){this.setPropertyValue("endPosition",value),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFill.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(value){this.setPropertyValue("location",value,!0)},enumerable:!0,configurable:!0}),AxisFill.prototype.setPath=function(value){return!!this.setPropertyValue("path",value)&&(this.element.attr({d:value}),!0)},Object.defineProperty(AxisFill.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(value){this.setPropertyValue("above",value,!0)},enumerable:!0,configurable:!0}),AxisFill}(Sprite_Sprite);Registry_registry.registeredClasses.AxisFill=AxisFill_AxisFill;var Grid_Grid=function(_super){function Grid(){var _this=_super.call(this)||this;_this.className="Grid",_this.element=_this.paper.add("path"),_this.location=.5,_this.isMeasured=!1,_this.above=!1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor("grid"),_this.pixelPerfect=!0,_this.strokeOpacity=.15,_this.fill=Color_color(),_this.applyTheme(),_this}return Object(tslib_es6.d)(Grid,_super),Object.defineProperty(Grid.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(value){this.setPropertyValue("location",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Grid.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(value){this.setPropertyValue("above",value,!0)},enumerable:!0,configurable:!0}),Grid.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},Grid}(Sprite_Sprite);Registry_registry.registeredClasses.Grid=Grid_Grid,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof Grid_Grid){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var AxisLabel_AxisLabel=function(_super){function AxisLabel(){var _this=_super.call(this)||this;return _this.className="AxisLabel",_this.isMeasured=!1,_this.padding(10,10,10,10),_this.location=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisLabel,_super),Object.defineProperty(AxisLabel.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(value){this.setPropertyValue("location",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabel.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(value){this.setPropertyValue("inside",value,!0)},enumerable:!0,configurable:!0}),AxisLabel.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisLabel}(Label_Label);Registry_registry.registeredClasses.AxisLabel=AxisLabel_AxisLabel;var Tick_Tick=function(_super){function Tick(){var _this=_super.call(this)||this;_this.className="Tick";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fillOpacity=0,_this.length=6,_this.strokeOpacity=.2,_this.stroke=interfaceColors.getFor("grid"),_this.isMeasured=!1,_this.nonScalingStroke=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(Tick,_super),Object.defineProperty(Tick.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(value){this.setPropertyValue("length",value,!0)},enumerable:!0,configurable:!0}),Tick}(Sprite_Sprite);Registry_registry.registeredClasses.Tick=Tick_Tick;var AxisTick_AxisTick=function(_super){function AxisTick(){var _this=_super.call(this)||this;return _this.className="AxisTick",_this.element=_this.paper.add("path"),_this.location=.5,_this.above=!1,_this.isMeasured=!1,_this.pixelPerfect=!0,_this.strokeOpacity=0,_this.length=5,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisTick,_super),Object.defineProperty(AxisTick.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(value){this.setPropertyValue("location",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisTick.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(value){this.setPropertyValue("inside",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisTick.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(value){this.setPropertyValue("above",value,!0)},enumerable:!0,configurable:!0}),AxisTick.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisTick}(Tick_Tick);Registry_registry.registeredClasses.AxisTick=AxisTick_AxisTick;var AxisRenderer_AxisRenderer=function(_super){function AxisRenderer(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className="AxisRenderer",_this.minGridDistance=50,_this.inside=!1,_this.inversed=!1,_this.tooltipLocation=.5,_this.fullWidthTooltip=!1,_this.cellStartLocation=0,_this.cellEndLocation=1,_this.minLabelPosition=0,_this.maxLabelPosition=1,_this.shouldClone=!1;var gridContainer=_this.createChild(Container_Container);gridContainer.shouldClone=!1,gridContainer.layout="none",gridContainer.virtualParent=_this,gridContainer.width=Percent_percent(100),gridContainer.height=Percent_percent(100),_this.gridContainer=gridContainer,gridContainer.events.on("maxsizechanged",(function(){_this.inited&&_this.invalidateAxisItems()}),_this,!1);var breakContainer=_this.createChild(Container_Container);breakContainer.shouldClone=!1,breakContainer.isMeasured=!1,breakContainer.layout="none",breakContainer.width=Percent_percent(100),breakContainer.height=Percent_percent(100),_this.breakContainer=breakContainer;var bulletsContainer=_this.createChild(Container_Container);bulletsContainer.shouldClone=!1,bulletsContainer.isMeasured=!1,bulletsContainer.layout="none",bulletsContainer.width=Percent_percent(100),bulletsContainer.height=Percent_percent(100),_this.bulletsContainer=bulletsContainer,_this.line=_this.createChild(AxisLine_AxisLine),_this.line.shouldClone=!1,_this.line.strokeOpacity=0;var baseGrid=_this.createChild(Grid_Grid);baseGrid.shouldClone=!1,_this.baseGrid=baseGrid;var disposers=_this._disposers;return disposers.push(baseGrid),disposers.push(_this.line),disposers.push(gridContainer),disposers.push(breakContainer),disposers.push(bulletsContainer),disposers.push(_this._chart),_this.ticks.template.disabled=!0,_this.axisFills.template.disabled=!0,_this.axisFills.template.interactionsEnabled=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRenderer,_super),Object.defineProperty(AxisRenderer.prototype,"axis",{get:function(){return this._axis},set:function(axis){this.setAxis(axis)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.setAxis=function(axis){this._axis=axis,this.baseGrid.parent=axis,this.line.parent=axis,this.gridContainer.bind("opacity",axis)},AxisRenderer.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},AxisRenderer.prototype.updateTooltip=function(){},Object.defineProperty(AxisRenderer.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),AxisRenderer.prototype.positionItem=function(item,point){item&&item.moveTo(point)},AxisRenderer.prototype.positionToPoint=function(position,position2){return{x:0,y:0}},AxisRenderer.prototype.positionToAngle=function(position){return 0},AxisRenderer.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength;return axis.renderer.inversed?(axis.end-position)*axisFullLength:(position-axis.start)*axisFullLength},AxisRenderer.prototype.updateGridContainer=function(){},AxisRenderer.prototype.getHeight=function(){var gridContainer=this.gridContainer;return gridContainer.parent?gridContainer.parent.pixelHeight:this.gridContainer.pixelHeight||0},AxisRenderer.prototype.getWidth=function(){var gridContainer=this.gridContainer;return gridContainer.parent?gridContainer.parent.pixelWidth:this.gridContainer.pixelWidth||0},AxisRenderer.prototype.coordinateToPosition=function(coordinate,coordinate2){var axis=this.axis,axisFullLength=axis.axisFullLength;return Math_round(axis.renderer.inversed?axis.end-coordinate/axisFullLength:coordinate/axisFullLength+axis.start,5)},AxisRenderer.prototype.pointToPosition=function(point){return 0},AxisRenderer.prototype.getPositionRangePath=function(startPosition,endPosition){return""},AxisRenderer.prototype.invalidateAxisItems=function(){var axis=this.axis;axis&&axis.invalidateDataItems()},AxisRenderer.prototype.updateGridElement=function(grid,position,endPosition){},AxisRenderer.prototype.updateTickElement=function(tick,position,endPosition){},AxisRenderer.prototype.updateBullet=function(bullet,position,endPosition){},AxisRenderer.prototype.updateLabelElement=function(label,position,endPosition,location){},AxisRenderer.prototype.updateFillElement=function(fill,position,endPosition){fill.startPosition=position,fill.endPosition=endPosition},AxisRenderer.prototype.updateAxisLine=function(){},AxisRenderer.prototype.updateBaseGridElement=function(){},AxisRenderer.prototype.updateBreakElement=function(axisBreak){this.positionItem(axisBreak.startLine,axisBreak.startPoint),this.toggleVisibility(axisBreak.startLine,axisBreak.startPosition,0,1),this.positionItem(axisBreak.endLine,axisBreak.endPoint),this.toggleVisibility(axisBreak.endLine,axisBreak.endPosition,0,1)},Object.defineProperty(AxisRenderer.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(value){this.setPropertyValue("minGridDistance",value)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"chart",{get:function(){return this._chart.get()},set:function(value){this._chart.set(value,null)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.toggleVisibility=function(sprite,position,minPosition,maxPosition){var axis=this.axis,dataItem=sprite.dataItem;dataItem&&dataItem instanceof Axis_AxisDataItem&&(isNumber(dataItem.minPosition)&&(minPosition=dataItem.minPosition),isNumber(dataItem.maxPosition)&&(maxPosition=dataItem.maxPosition));var updatedStart=axis.start+(axis.end-axis.start)*(minPosition-1e-4),updatedEnd=axis.start+(axis.end-axis.start)*(maxPosition+1e-4);sprite.disabled||(sprite.__disabled=position<updatedStart||position>updatedEnd)},AxisRenderer.prototype.createBreakSprites=function(axisBreak){},Object.defineProperty(AxisRenderer.prototype,"axisFills",{get:function(){if(!this._axisFills){var fill=this.createFill(this.axis);this._axisFills=new List_ListTemplate(fill),fill.applyOnClones=!0,fill.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createFill=function(axis){return new AxisFill_AxisFill(axis)},Object.defineProperty(AxisRenderer.prototype,"grid",{get:function(){if(!this._grid){var grid=this.createGrid();this._grid=new List_ListTemplate(grid),grid.applyOnClones=!0,grid.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createGrid=function(){return new Grid_Grid},Object.defineProperty(AxisRenderer.prototype,"ticks",{get:function(){if(!this._ticks){var tick=this.createTick();tick.applyOnClones=!0,tick.isMeasured=!1,tick.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new List_ListTemplate(tick),this._disposers.push(new List_ListDisposer(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createTick=function(){return new AxisTick_AxisTick},Object.defineProperty(AxisRenderer.prototype,"labels",{get:function(){if(!this._labels){var label=this.createLabel();this._labels=new List_ListTemplate(label),label.applyOnClones=!0,label.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new List_ListDisposer(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),AxisRenderer.prototype.createLabel=function(){return new AxisLabel_AxisLabel},Object.defineProperty(AxisRenderer.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(value){this.setPropertyValue("inside",value)&&this.axis&&this.axis.invalidate(),value?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(value){this.setPropertyValue("opposite",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(value){this.setPropertyValue("fullWidthTooltip",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(value){this.setPropertyValue("tooltipLocation",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(value){this.setPropertyValue("tooltipLocation2",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(value){this.setPropertyValue("cellStartLocation",value)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(value){this.setPropertyValue("cellEndLocation",value)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(value){this.setPropertyValue("inversed",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(value){this.setPropertyValue("minLabelPosition",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(value){this.setPropertyValue("maxLabelPosition",value,!0)},enumerable:!0,configurable:!0}),AxisRenderer.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.grid.template.copyFrom(source.grid.template),this.ticks.template.copyFrom(source.ticks.template),this.labels.template.copyFrom(source.labels.template),this.axisFills.template.copyFrom(source.axisFills.template),this.line.copyFrom(source.line),this.baseGrid.copyFrom(source.baseGrid)},AxisRenderer.prototype.toAxisPosition=function(value){return value},AxisRenderer.prototype.setVisibility=function(value){_super.prototype.setVisibility.call(this,value),this.bulletsContainer.visible=value},AxisRenderer}(Container_Container);Registry_registry.registeredClasses.AxisRenderer=AxisRenderer_AxisRenderer;var AxisBullet_AxisBullet=function(_super){function AxisBullet(){var _this=_super.call(this)||this;return _this.className="AxisBullet",_this.location=.5,_this.isMeasured=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisBullet,_super),Object.defineProperty(AxisBullet.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(value){this.setPropertyValue("location",value,!0)},enumerable:!0,configurable:!0}),AxisBullet.prototype.setDisabled=function(value){var changed=_super.prototype.setDisabled.call(this,value);return this.axis&&this.axis.invalidateDataItems(),changed},AxisBullet}(Container_Container);Registry_registry.registeredClasses.AxisBullet=AxisBullet_AxisBullet;var AxisRendererY_AxisRendererY=function(_super){function AxisRendererY(){var _this=_super.call(this)||this;return _this.className="AxisRendererY",_this.minGridDistance=40,_this.opposite=!1,_this.height=Percent_percent(100),_this.labels.template.verticalCenter="middle",_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererY,_super),AxisRendererY.prototype.setAxis=function(axis){_super.prototype.setAxis.call(this,axis),axis.layout="horizontal"},AxisRendererY.prototype.updateGridContainer=function(){var axis=this.axis;if(axis){var gridContainer=this.gridContainer;gridContainer.y=axis.pixelY,gridContainer.height=axis.axisLength}},AxisRendererY.prototype.toAxisPosition=function(value){var axis=this.axis;if(axis){var inversedPosition=1-value,relativePositionSprite=axis.relativePositionSprite,y=axis.pixelY;if(relativePositionSprite?y=spritePointToSprite({x:0,y:this.pixelY},this.parent,relativePositionSprite).y:relativePositionSprite=axis.parent,relativePositionSprite)return 1-(inversedPosition-y/relativePositionSprite.innerHeight)/(axis.axisLength/relativePositionSprite.innerHeight)}return value},AxisRendererY.prototype.processRenderer=function(){_super.prototype.processRenderer.call(this);var axis=this.axis;if(axis){var title=axis.title;title.valign="middle",axis.height instanceof Percent||(axis.height=Percent_percent(100)),this.opposite?(title.rotation=90,this.line.toBack(),title.toFront()):(title.rotation=-90,title.toBack(),this.line.toFront())}},AxisRendererY.prototype.updateTooltip=function(){if(this.axis){var bbx=0,bbw=2e3,bbh=this.axisLength;this.opposite?this.inside&&(bbx=-2e3,bbw=2e3):this.inside||(bbx=-2e3,bbw=2e3),this.axis.updateTooltip("horizontal",{x:bbx,y:0,width:bbw,height:bbh})}},Object.defineProperty(AxisRendererY.prototype,"axisLength",{get:function(){var axis=this.axis;return axis.measuredHeight-axis.pixelPaddingTop-axis.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),AxisRendererY.prototype.positionToPoint=function(position,position2){return{x:0,y:this.positionToCoordinate(position)}},AxisRendererY.prototype.pointToPosition=function(point){return this.coordinateToPosition(point.y,point.x)},AxisRendererY.prototype.coordinateToPosition=function(coordinate,coordinate2){var axis=this.axis,axisFullLength=axis.axisFullLength;return Math_round(axis.renderer.inversed?1-axis.start-coordinate/axisFullLength:coordinate/axisFullLength+(1-axis.end),5)},AxisRendererY.prototype.getPositionRangePath=function(startPosition,endPosition){var y1=fitToRange(this.positionToCoordinate(startPosition),0,this.axisLength),y2=fitToRange(this.positionToCoordinate(endPosition),0,this.axisLength),h=Math.abs(y2-y1),w=this.getWidth();return rectToPath({x:0,y:Math.min(y1,y2),width:w,height:h},!0)},AxisRendererY.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var point=this.positionToPoint(position);grid.path=moveTo({x:0,y:0})+lineTo({x:this.getWidth(),y:0}),this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererY.prototype.updateTickElement=function(tick,position,endPosition){position+=(endPosition-position)*tick.location;var point=this.positionToPoint(position),tickLength=tick.length;try{this.axis.title.measuredWidth}catch(_a){}point.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?tickLength*=tick.inside?-1:1:tickLength*=tick.inside?1:-1,tick.path=moveTo({x:0,y:0})+lineTo({x:tickLength,y:0}),this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererY.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.axisLength})},AxisRendererY.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var axis=this.axis,w=this.getWidth(),h=this.axisLength,y=axis.basePoint.y,baseGrid=this.baseGrid;if(y<-.2||y>h+.2)baseGrid.hide(0);else{var x=spritePointToSprite({x:0,y:0},this.gridContainer,baseGrid.parent).x;baseGrid.path=moveTo({x:0,y:0})+lineTo({x:w,y:0}),baseGrid.moveTo({x:x,y:y}),baseGrid.show(0)}},AxisRendererY.prototype.updateLabelElement=function(label,position,endPosition,location){Type_hasValue(location)||(location=label.location),position+=(endPosition-position)*location,label.isMeasured=!label.inside;var horizontalCenter,point=this.positionToPoint(position),deltaX=0,maxWidth=this.gridContainer.maxWidth;this.opposite?(label.inside?(horizontalCenter="right","left"==label.align&&(deltaX=-maxWidth,horizontalCenter="left"),"center"==label.align&&(deltaX=-maxWidth/2,horizontalCenter="middle")):horizontalCenter="left",point.x=0+deltaX):(label.inside?(horizontalCenter="left","right"==label.align&&(deltaX=maxWidth,horizontalCenter="right"),"center"==label.align&&(deltaX=maxWidth/2,horizontalCenter="middle")):horizontalCenter="right",point.x=this.measuredWidth+deltaX),0==label.rotation&&(label.horizontalCenter=horizontalCenter),this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererY.prototype.updateBreakElement=function(axisBreak){_super.prototype.updateBreakElement.call(this,axisBreak);var startLine=axisBreak.startLine,endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint,x1=axisBreak.pixelMarginLeft,x2=this.getWidth()-axisBreak.pixelMarginLeft-axisBreak.pixelMarginRight;startPoint.y=fitToRange(startPoint.y,-1,this.axisLength+1),endPoint.y=fitToRange(endPoint.y,-1,this.axisLength+1),startPoint.y==endPoint.y&&(startPoint.y<0||startPoint.y>this.axisLength)?axisBreak.fillShape.__disabled=!0:axisBreak.fillShape.__disabled=!1;var w=Math.abs(x2-x1);startLine.x=x1,startLine.height=0,startLine.width=w,endLine.x=x1,endLine.height=0,endLine.width=w,fillShape.width=w,fillShape.height=Math.abs(endPoint.y-startPoint.y),fillShape.x=x1,fillShape.y=endPoint.y},AxisRendererY.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedLine_WavedLine,axisBreak.endLine=new WavedLine_WavedLine;var wavedRectangle=new WavedRectangle_WavedRectangle;wavedRectangle.setWavedSides(!0,!1,!0,!1),axisBreak.fillShape=wavedRectangle},AxisRendererY.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength;return axis.renderer.inversed?(position-axis.start)*axisFullLength:(axis.end-position)*axisFullLength},AxisRendererY.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position);point.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererY}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererY=AxisRendererY_AxisRendererY,defaultRules.push({relevant:ResponsiveBreakpoints.widthS,state:function(target,stateId){if(target instanceof AxisRendererY_AxisRendererY){var state=target.states.create(stateId);return state.properties.inside=!0,state.properties.maxLabelPosition=.9,state.properties.minLabelPosition=.1,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(target,stateId){if(target instanceof AxisRendererY_AxisRendererY){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var ValueAxisBreak_ValueAxisBreak=function(_super){function ValueAxisBreak(){var _this=_super.call(this)||this;return _this.className="ValueAxisBreak",_this.applyTheme(),_this}return Object(tslib_es6.d)(ValueAxisBreak,_super),Object.defineProperty(ValueAxisBreak.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxisBreak.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),ValueAxisBreak}(AxisBreak_AxisBreak);Registry_registry.registeredClasses.ValueAxisBreak=ValueAxisBreak_ValueAxisBreak;var ValueAxis_ValueAxisDataItem=function(_super){function ValueAxisDataItem(){var _this=_super.call(this)||this;return _this.className="ValueAxisDataItem",_this.values.value={},_this.values.endValue={},_this.applyTheme(),_this}return Object(tslib_es6.d)(ValueAxisDataItem,_super),Object.defineProperty(ValueAxisDataItem.prototype,"value",{get:function(){return this.values.value.value},set:function(value){this.setValue("value",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxisDataItem.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(value){this.setValue("endValue",value)},enumerable:!0,configurable:!0}),ValueAxisDataItem}(Axis_AxisDataItem),ValueAxis_ValueAxis=function(_super){function ValueAxis(){var _this=_super.call(this)||this;return _this._stepDecimalPlaces=0,_this._prevStepDecimalPlaces=0,_this._adjustLabelPrecision=!0,_this._baseValue=0,_this._adjustedStart=0,_this._adjustedEnd=1,_this._extremesChanged=!1,_this._deltaMinMax=1,_this._dsc=!1,_this.calculateTotals=!1,_this.className="ValueAxis",_this.axisFieldName="value",_this.setPropertyValue("maxZoomFactor",1e3),_this.setPropertyValue("extraMin",0),_this.setPropertyValue("extraMax",0),_this.setPropertyValue("strictMinMax",!1),_this.setPropertyValue("maxPrecision",Number.MAX_VALUE),_this.setPropertyValue("adjustLabelPrecision",!0),_this.setPropertyValue("extraTooltipPrecision",0),_this.keepSelection=!1,_this.includeRangesInMinMax=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(ValueAxis,_super),ValueAxis.prototype.fillRule=function(dataItem){var value=dataItem.value,axis=dataItem.component;dataItem.axisFill.disabled||(Math_round(value/axis.step/2,5)==Math.round(value/axis.step/2)?dataItem.axisFill.__disabled=!0:dataItem.axisFill.__disabled=!1)},ValueAxis.prototype.createDataItem=function(){return new ValueAxis_ValueAxisDataItem},ValueAxis.prototype.createAxisBreak=function(){return new ValueAxisBreak_ValueAxisBreak},ValueAxis.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},ValueAxis.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var series=this.series.getIndex(0),startIndex=series.startIndex;if(series.dataItems.length>0){startIndex>0&&startIndex--;var endIndex=series.endIndex;endIndex<series.dataItems.length&&endIndex++;for(var _loop_1=function(i){var total={},sum={};this_1.series.each((function(series){if(!series.excludeFromTotal){var dataItem_1=series.dataItems.getIndex(i);dataItem_1&&Object_each(dataItem_1.values,(function(key){var value=dataItem_1.values[key].workingValue;isNumber(value)&&(isNumber(total[key])?total[key]+=Math.abs(value):total[key]=Math.abs(value),isNumber(sum[key])?sum[key]+=value:sum[key]=value)}))}})),this_1.series.each((function(series){if(!series.excludeFromTotal){var dataItem_2=series.dataItems.getIndex(i);dataItem_2&&Object_each(dataItem_2.values,(function(key){var value=dataItem_2.values[key].workingValue;isNumber(value)&&(dataItem_2.setCalculatedValue(key,total[key],"total"),dataItem_2.setCalculatedValue(key,100*value/total[key],"totalPercent"),dataItem_2.setCalculatedValue(key,sum[key],"sum"))}))}}))},this_1=this,i=startIndex;i<endIndex;++i)_loop_1(i)}}},ValueAxis.prototype.validate=function(){this.axisLength<=0||(_super.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},ValueAxis.prototype.calculateZoom=function(){if(isNumber(this.min)&&isNumber(this.max)){var min=this.positionToValue(this.start),max=this.positionToValue(this.end),differece=this.adjustDifference(min,max),minMaxStep=this.adjustMinMax(min,max,differece,this._gridCount,!0),stepDecimalPlaces=function(number){var match=(""+number).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return match?Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0)):0}(minMaxStep.step);this._stepDecimalPlaces=stepDecimalPlaces,min=Math_round(min,stepDecimalPlaces),max=Math_round(max,stepDecimalPlaces);var step=(minMaxStep=this.adjustMinMax(min,max,differece,this._gridCount,!0)).step;if(this.syncWithAxis){var calculated=this.getCache(min+"-"+max);isNumber(calculated)&&(step=calculated)}else min=minMaxStep.min,max=minMaxStep.max;(this._minZoomed!=min||this._maxZoomed!=max||this._step!=step||this._dsc)&&(this._dsc=!1,this._minZoomed=min,this._maxZoomed=max,this._step=step,this.dispatchImmediately("selectionextremeschanged"))}},ValueAxis.prototype.validateAxisElements=function(){var _this=this;if(isNumber(this.max)&&isNumber(this.min)){var value_1=this.minZoomed-2*this._step;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?value_1=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(value_1=Math.floor(this.minZoomed/this._step)*this._step)&&(value_1=this.minZoomed);else value_1=Math.floor(value_1/this._step)*this._step;var maxZoomed=this._maxZoomed+this._step;this.resetIterators();var dataItemsIterator_1=this._dataItemsIterator,i=0,precisionChanged=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;value_1<=maxZoomed;){if(!this.isInBreak(value_1)){var dataItem=dataItemsIterator_1.find((function(x){return x.value===value_1}));dataItem.__disabled&&(dataItem.__disabled=!1),this.appendDataItem(dataItem),dataItem.axisBreak=void 0,(dataItem.value!=value_1||precisionChanged)&&(dataItem.value=value_1,dataItem.text=this.formatLabel(value_1),dataItem.label&&dataItem.label.invalid&&dataItem.label.validate(),dataItem.value>=this.min&&dataItem.value<=this.max&&dataItem.label&&("Y"==this.axisLetter&&dataItem.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&dataItem.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=dataItem.label.currentText,this.ghostLabel.validate())),this.validateDataElement(dataItem)}if(i++,this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?value_1=Math.pow(10,Math.log(this.min)*Math.LOG10E+i):value_1+=this._step;else value_1+=this._step;var stepPower=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(stepPower<1){var decCount=Math.round(Math.abs(Math.log(Math.abs(stepPower))*Math.LOG10E))+2;value_1=Math_round(value_1,decCount)}}var axisBreaks=this._axisBreaks;if(axisBreaks){var renderer_1=this.renderer;Iterator_each(axisBreaks.iterator(),(function(axisBreak){if(axisBreak.breakSize>0&&getDistance(axisBreak.startPoint,axisBreak.endPoint)>renderer_1.minGridDistance)for(var breakValue_1=axisBreak.adjustedMin;breakValue_1<=axisBreak.adjustedMax;){if(breakValue_1>=axisBreak.adjustedStartValue&&breakValue_1<=axisBreak.adjustedEndValue){var dataItem=dataItemsIterator_1.find((function(x){return x.value===breakValue_1}));dataItem.__disabled&&(dataItem.__disabled=!1),_this.appendDataItem(dataItem),dataItem.axisBreak=axisBreak,dataItem.value!=breakValue_1&&(dataItem.value=breakValue_1,dataItem.text=_this.formatLabel(breakValue_1),dataItem.label&&dataItem.label.invalid&&dataItem.label.validate()),_this.validateDataElement(dataItem)}breakValue_1+=axisBreak.adjustedStep}}))}}},ValueAxis.prototype.validateDataElement=function(dataItem){_super.prototype.validateDataElement.call(this,dataItem),dataItem.itemIndex=this._axisItemCount,this._axisItemCount++;var renderer=this.renderer,value=dataItem.value,endValue=dataItem.endValue,position=this.valueToPosition(value);dataItem.position=position;var endPosition=position,fillEndPosition=this.valueToPosition(value+this._step);isNumber(endValue)&&(fillEndPosition=endPosition=this.valueToPosition(endValue)),dataItem.point=renderer.positionToPoint(position);var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var label=dataItem.label;label&&!label.disabled&&renderer.updateLabelElement(label,position,endPosition);var fill=dataItem.axisFill;fill&&!fill.disabled&&(renderer.updateFillElement(fill,position,fillEndPosition),dataItem.isRange||this.fillRule(dataItem)),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,position,fillEndPosition)},ValueAxis.prototype.formatLabel=function(value){return this.adjustLabelPrecision&&0!=value?this.numberFormatter.format(value,void 0,this._stepDecimalPlaces):this.numberFormatter.format(value)},Object.defineProperty(ValueAxis.prototype,"basePoint",{get:function(){var baseValue=this.baseValue,position=this.valueToPosition(baseValue);return this.renderer.positionToPoint(position)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"baseValue",{get:function(){var baseValue=this._baseValue;return this.logarithmic&&(baseValue=this.min),this._adapterO?this._adapterO.apply("baseValue",baseValue):baseValue},set:function(value){this._baseValue=value,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),ValueAxis.prototype.anyToPosition=function(value){return this.valueToPosition(value)},ValueAxis.prototype.valueToPoint=function(value){var position=this.valueToPosition(value),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},ValueAxis.prototype.anyToPoint=function(value){return this.valueToPoint(value)},ValueAxis.prototype.valueToPosition=function(value){if(isNumber(value)){var min_1=this.min,max_1=this.max;if(isNumber(min_1)&&isNumber(max_1)){var difference=this._difference,axisBreaks=this._axisBreaks;axisBreaks&&axisBreaks.length>0&&Iterator_eachContinue(axisBreaks.iterator(),(function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue;if(isNumber(startValue)&&isNumber(endValue)){if(value<startValue)return!1;if(Math_intersect({start:startValue,end:endValue},{start:min_1,end:max_1})){startValue=Math.max(startValue,min_1),endValue=Math.min(endValue,max_1);var breakSize=axisBreak.breakSize;value>endValue?min_1+=(endValue-startValue)*(1-breakSize):value<startValue||(value=startValue+(value-startValue)*breakSize)}}return!0}));var position=void 0;if(this.logarithmic){var treatZeroAs=this.treatZeroAs;isNumber(treatZeroAs)&&value<=treatZeroAs&&(value=treatZeroAs),position=(Math.log(value)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else position=(value-min_1)/difference;return position}}return 0},ValueAxis.prototype.invalidateLabels=function(){_super.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(dataItem){dataItem.value=void 0})),this.invalidate())},ValueAxis.prototype.positionToValue=function(position){var min=this.min,max=this.max;if(isNumber(min)&&isNumber(max)){var difference_1=max-min,value_2=null,axisBreaks=this._axisBreaks;return axisBreaks&&axisBreaks.length>0&&Iterator_eachContinue(axisBreaks.iterator(),(function(axisBreak){var breakStartPosition=axisBreak.startPosition,breakEndPosition=axisBreak.endPosition,breakStartValue=axisBreak.adjustedStartValue,breakEndValue=axisBreak.adjustedEndValue;if(isNumber(breakStartValue)&&isNumber(breakEndValue)){if(breakStartValue>max)return!1;if(Math_intersect({start:breakStartValue,end:breakEndValue},{start:min,end:max})){breakStartValue=Math_max(breakStartValue,min),breakEndValue=Math_min(breakEndValue,max);var breakSize=axisBreak.breakSize;if(difference_1-=(breakEndValue-breakStartValue)*(1-breakSize),position>breakEndPosition)min+=(breakEndValue-breakStartValue)*(1-breakSize);else if(!(position<breakStartPosition))return value_2=breakStartValue+(position-breakStartPosition)/(breakEndPosition-breakStartPosition)*(breakEndValue-breakStartValue),!1}return!0}})),isNumber(value_2)||(value_2=this.logarithmic?Math.pow(Math.E,(position*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):position*difference_1+min),value_2}},ValueAxis.prototype.xToValue=function(x){return this.positionToValue(this.pointToPosition({x:x,y:0}))},ValueAxis.prototype.yToValue=function(y){return this.positionToValue(this.pointToPosition({x:0,y:y}))},ValueAxis.prototype.pointToPosition=function(point){return this.renderer instanceof AxisRendererY_AxisRendererY?1-this.renderer.pointToPosition(point):this.renderer.pointToPosition(point)},ValueAxis.prototype.animateMinMax=function(min,max){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:min},{property:"_maxAdjusted",from:this._maxAdjusted,to:max}],this.rangeChangeDuration,this.rangeChangeEasing)},ValueAxis.prototype.getMinMax=function(){var _this=this;this.updateGridCount();var min=Number.POSITIVE_INFINITY,max=Number.NEGATIVE_INFINITY;if(isNumber(this._minDefined)&&isNumber(this._maxDefined)||(this.series.each((function(series){if(!series.ignoreMinMax){var seriesMin=series.min(_this);isNumber(seriesMin)&&seriesMin<min&&(min=seriesMin);var seriesMax=series.max(_this);isNumber(seriesMax)&&seriesMax>max&&(max=seriesMax)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(range){if(!range.ignoreMinMax){var minValue=Math_min(range.value,range.endValue),maxValue=Math_max(range.value,range.endValue);(minValue<min||!isNumber(min))&&(min=minValue),(maxValue>max||!isNumber(max))&&(max=maxValue)}}))),this.logarithmic){var treatZeroAs=this.treatZeroAs;isNumber(treatZeroAs)&&min<=0&&(min=treatZeroAs),min<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==min&&0==max&&(max=.9,min=-.9),isNumber(this._minDefined)&&(min=this._minDefined),isNumber(this._maxDefined)&&(max=this._maxDefined),this._adapterO&&(min=this._adapterO.apply("min",min)),this._adapterO&&(max=this._adapterO.apply("max",max)),isNumber(min)&&isNumber(max)){this._minReal=min,this._maxReal=max,min==Number.POSITIVE_INFINITY&&(min=void 0),max==Number.NEGATIVE_INFINITY&&(max=void 0);var dif=this.adjustDifference(min,max);if(min=this.fixMin(min),(max=this.fixMax(max))-min<=1/Math.pow(10,15)){if(max-min!=0)this._deltaMinMax=(max-min)/2;else{var exponent=Math.log(Math.abs(max))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent));power/=10,this._deltaMinMax=power}min-=this._deltaMinMax,max+=this._deltaMinMax}min-=(max-min)*this.extraMin,max+=(max-min)*this.extraMax;var strict=this.strictMinMax;isNumber(this._maxDefined)&&(strict=!0);var minMaxStep=this.adjustMinMax(min,max,dif,this._gridCount,strict);if(min=minMaxStep.min,dif=(max=minMaxStep.max)-min,minMaxStep=this.adjustMinMax(min,max,max-min,this._gridCount,!0),min=minMaxStep.min,max=minMaxStep.max,this.strictMinMax&&(min=isNumber(this._minDefined)?this._minDefined:this._minReal,(max=isNumber(this._maxDefined)?this._maxDefined:this._maxReal)-min<=1e-8&&(min-=this._deltaMinMax,max+=this._deltaMinMax),min-=(max-min)*this.extraMin,max+=(max-min)*this.extraMax),this._adapterO&&(min=this._adapterO.apply("min",min)),this._adapterO&&(max=this._adapterO.apply("max",max)),this._step=minMaxStep.step,(this._minAdjusted!=min||this._maxAdjusted!=max)&&isNumber(min)&&isNumber(max)){var animation=this._minMaxAnimation;if(this._extremesChanged&&isNumber(this._minAdjusted)&&isNumber(this._maxAdjusted)&&this.inited){if(animation&&!animation.isFinished()&&this._finalMax==max&&this._finalMin==min)return;this._finalMin=min,this._finalMax=max,(animation=this.animateMinMax(min,max))&&!animation.isFinished()?(animation.events.on("animationprogress",this.validateDataItems,this),animation.events.on("animationended",(function(){_this.series.each((function(series){series.validate()})),_this.validateDataItems(),_this.handleSelectionExtremesChange()})),this._minMaxAnimation=animation):this.series.each((function(series){series.validate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(animation&&!animation.isFinished()&&this._finalMax==max&&this._finalMin==min)return;this._minAdjusted=min,this._maxAdjusted=max,this._finalMin=min,this._finalMax=max,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(min,max)}},ValueAxis.prototype.fixMin=function(value){return value},ValueAxis.prototype.fixMax=function(value){return value},ValueAxis.prototype.adjustMinMax=function(min,max,difference,gridCount,strictMode){gridCount<=1&&(gridCount=1),gridCount=Math.round(gridCount);var initialMin=min,initialMax=max;0===difference&&(difference=Math.abs(max));var exponent=Math.log(Math.abs(difference))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent)),extra=power/=10;strictMode&&(extra=0),this.logarithmic?(min<=0&&(min=this.baseValue),min==1/0&&(min=1),max==-1/0&&(max=10),min=Math.pow(10,Math.floor(Math.log(Math.abs(min))*Math.LOG10E)),max=Math.pow(10,Math.ceil(Math.log(Math.abs(max))*Math.LOG10E)),this.strictMinMax&&(this._minDefined>0&&(min=this._minDefined),this._maxDefined>0&&(max=this._maxDefined))):(strictMode?(min=Math.floor(min/power)*power,max=Math.ceil(max/power)*power):(min=Math.ceil(min/power)*power-extra,max=Math.floor(max/power)*power+extra),min<0&&initialMin>=0&&(min=0),max>0&&initialMax<=0&&(max=0)),exponent=Math.log(Math.abs(difference))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent)),power/=10;var step=Math.ceil(difference/gridCount/power)*power,stepPower=Math.pow(10,Math.floor(Math.log(Math.abs(step))*Math.LOG10E)),stepDivisor=Math.ceil(step/stepPower);stepDivisor>5?stepDivisor=10:stepDivisor<=5&&stepDivisor>2&&(stepDivisor=5),step=Math.ceil(step/(stepPower*stepDivisor))*stepPower*stepDivisor,this.maxPrecision<Number.MAX_VALUE&&step!=ceil(step,this.maxPrecision)&&(step=ceil(step,this.maxPrecision));var decCount=0;if(stepPower<1&&(step=Math_round(step,decCount=Math.round(Math.abs(Math.log(Math.abs(stepPower))*Math.LOG10E))+1)),!this.logarithmic){var minCount=Math.floor(min/step);min=Math_round(step*minCount,decCount);var maxCount=void 0;(maxCount=strictMode?Math.floor(max/step):Math.ceil(max/step))==minCount&&maxCount++,(max=Math_round(step*maxCount,decCount))<initialMax&&(max+=step),min>initialMin&&(min-=step)}return{min:min,max:max,step:step}},Object.defineProperty(ValueAxis.prototype,"min",{get:function(){var min=this._minAdjusted;return isNumber(min)||(min=this._minDefined),min},set:function(value){this._minDefined!=value&&(this._minDefined=value,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(value){this.setPropertyValue("extraMin",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(value){this.setPropertyValue("extraMax",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"max",{get:function(){var max=this._maxAdjusted;return isNumber(max)||(max=this._maxDefined),max},set:function(value){this._maxDefined!=value&&(this._maxDefined=value,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(value){this.setPropertyValue("adjustLabelPrecision",value)&&this.invalidate()},enumerable:!0,configurable:!0}),ValueAxis.prototype.registerSeries=function(series){return new Disposer_MultiDisposer([_super.prototype.registerSeries.call(this,series),series.events.on("extremeschanged",this.handleExtremesChange,this,!1),series.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",series.invalidate,series,!1)])},ValueAxis.prototype.handleSelectionExtremesChange=function(){var selectionMin,selectionMax,_this=this,allHidden=!0;if(Iterator_each(this.series.iterator(),(function(series){if(!series.ignoreMinMax&&!series.isHidden){series.visible&&!series.isHiding&&(allHidden=!1);var seriesSelectionMin=series.selectionMin(_this),seriesSelectionMax=series.selectionMax(_this);isNumber(seriesSelectionMin)&&(!isNumber(selectionMin)||seriesSelectionMin<selectionMin)&&(selectionMin=seriesSelectionMin),isNumber(seriesSelectionMax)&&(!isNumber(selectionMax)||seriesSelectionMax>selectionMax)&&(selectionMax=seriesSelectionMax)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(range){if(!range.ignoreMinMax){var minValue=Math_min(range.value,range.endValue),maxValue=Math_max(range.value,range.endValue);minValue<selectionMax&&(selectionMax=minValue),maxValue>selectionMax&&(selectionMax=maxValue)}})),isNumber(this._minDefined)?selectionMin=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(selectionMin=this._minReal),isNumber(this._maxDefined)?selectionMax=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(selectionMax=this._maxReal),selectionMin==selectionMax){selectionMin-=this._deltaMinMax,selectionMax+=this._deltaMinMax;var minMaxStep2=this.adjustMinMax(selectionMin,selectionMax,0,this._gridCount,this.strictMinMax);selectionMin=minMaxStep2.min,selectionMax=minMaxStep2.max}var dif=this.adjustDifference(selectionMin,selectionMax),minMaxStep=this.adjustMinMax(selectionMin,selectionMax,dif,this._gridCount);selectionMin=minMaxStep.min,selectionMax=minMaxStep.max,selectionMin-=(selectionMax-selectionMin)*this.extraMin,selectionMax+=(selectionMax-selectionMin)*this.extraMax,selectionMin=fitToRange(selectionMin,this.min,this.max),selectionMax=fitToRange(selectionMax,this.min,this.max),dif=this.adjustDifference(selectionMin,selectionMax),minMaxStep=this.adjustMinMax(selectionMin,selectionMax,dif,this._gridCount,!0),selectionMin=minMaxStep.min,selectionMax=minMaxStep.max,this.strictMinMax&&(selectionMin=Math_max(selectionMin,this._minDefined),selectionMax=Math_min(selectionMax,this._maxDefined));var step=minMaxStep.step;this.syncWithAxis&&(minMaxStep=this.syncAxes(selectionMin,selectionMax,step),selectionMin=minMaxStep.min,selectionMax=minMaxStep.max,this.invalidate()),step=minMaxStep.step,this._difference=this.adjustDifference(this.min,this.max);var start=this.valueToPosition(selectionMin),end=this.valueToPosition(selectionMax);allHidden&&!this.syncWithAxis&&(start=0,end=1);var declination=0;this.syncWithAxis?(declination=5,this.setCache(selectionMin+"-"+selectionMax,step)):(this._step==step&&this._minZoomed==selectionMin&&this._maxZoomed==selectionMax||(this._dsc=!0),this._step=step,this._minZoomed=selectionMin,this._maxZoomed=selectionMax),this.keepSelection||this.zoom({start:start,end:end},!1,!1,declination)},Object.defineProperty(ValueAxis.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(value){this.setPropertyValue("strictMinMax",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(value){this.setPropertyValue("logarithmic",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(value){this.setPropertyValue("keepSelection",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(value){this.setPropertyValue("includeRangesInMinMax",value)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(value){this.setPropertyValue("maxPrecision",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(value){this.setPropertyValue("extraTooltipPrecision",value)&&this.invalidate()},enumerable:!0,configurable:!0}),ValueAxis.prototype.handleExtremesChange=function(){var _this=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){this.dataItems.each((function(dataItem){dataItem.label&&dataItem.label.pixelWidth>0&&(_this.ghostLabel.text=dataItem.label.currentText)}))}},ValueAxis.prototype.getX=function(dataItem,key,location,stackKey,range){return this.renderer.positionToPoint(this.getPositionX(dataItem,key,location,stackKey,range)).x},ValueAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key);Type_hasValue(stackKey)||(stackKey="valueX");var stack=dataItem.getValue(stackKey,"stack");isNumber(value)||(value=this.baseValue,this.logarithmic&&stack>0&&(value=0));var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},ValueAxis.prototype.getY=function(dataItem,key,location,stackKey,range){return this.renderer.positionToPoint(this.getPositionY(dataItem,key,location,stackKey,range)).y},ValueAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key);Type_hasValue(stackKey)||(stackKey="valueY");var stack=dataItem.getValue(stackKey,"stack");isNumber(value)||(value=this.baseValue,this.logarithmic&&stack>0&&(value=0));var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},ValueAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var value=dataItem.getWorkingValue(key),stack=dataItem.getValue(stackKey,"stack");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},ValueAxis.prototype.getAnyRangePath=function(start,end,location){var startPosition=this.valueToPosition(start),endPosition=this.valueToPosition(end);return this.getPositionRangePath(startPosition,endPosition)},ValueAxis.prototype.getTooltipText=function(position){var value=Math_round(this.positionToValue(position),this._stepDecimalPlaces+this.extraTooltipPrecision),valueStr=this.tooltip.numberFormatter.format(value);return this._adapterO?this._adapterO.apply("getTooltipText",valueStr):valueStr},ValueAxis.prototype.zoomToValues=function(startValue,endValue,skipRangeEvent,instantly){var start=(startValue-this.min)/(this.max-this.min),end=(endValue-this.min)/(this.max-this.min);this.zoom({start:start,end:end},skipRangeEvent,instantly)},Object.defineProperty(ValueAxis.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:Math_max(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:Math_min(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),ValueAxis.prototype.fixAxisBreaks=function(){var _this=this;_super.prototype.fixAxisBreaks.call(this);var axisBreaks=this._axisBreaks;axisBreaks&&axisBreaks.length>0&&axisBreaks.each((function(axisBreak){var startValue=axisBreak.adjustedStartValue,endValue=axisBreak.adjustedEndValue,axisBreakDif=endValue-startValue,axisBreakGridCount=Math.ceil(axisBreakDif*axisBreak.breakSize)*_this._gridCount/(_this.max-_this.min),breakMinMaxStep=_this.adjustMinMax(startValue,endValue,axisBreakDif,axisBreakGridCount,!0);axisBreak.adjustedStep=breakMinMaxStep.step,axisBreak.adjustedMin=breakMinMaxStep.min,axisBreak.adjustedMax=breakMinMaxStep.max})),this._difference=this.adjustDifference(this.min,this.max)},ValueAxis.prototype.getPositionLabel=function(position){var value=this.positionToValue(position);return this.numberFormatter.format(value)},ValueAxis.prototype.showTooltipAt=function(value){this.showTooltipAtPosition(this.valueToPosition(value))},ValueAxis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.min=source.min,this.max=source.max,this.calculateTotals=source.calculateTotals,this._baseValue=source.baseValue},Object.defineProperty(ValueAxis.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(axis){var _this=this;this.setPropertyValue("syncWithAxis",axis,!0)&&axis&&(this._disposers.push(axis.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(axis.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(axis.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){_this.clearCache(),_this._disposers.push(Registry_registry.events.once("exitframe",(function(){_this.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(value){this.setPropertyValue("treatZeroAs",value,!0)},enumerable:!0,configurable:!0}),ValueAxis.prototype.syncAxes=function(min,max,step){var axis=this.syncWithAxis;if(axis){isNumber(min)||(min=this.min),isNumber(max)||(max=this.max),isNumber(step)||(step=this._step);var count=Math.round((axis.maxZoomed-axis.minZoomed)/axis.step),currentCount=Math.round((max-min)/step);if(isNumber(count)&&isNumber(currentCount))for(var synced=!1,c=0,diff=.01*(max-min),omin=min,omax=max,ostep=step;1!=synced;)if(synced=this.checkSync(omin,omax,ostep,count),++c>1e3&&(synced=!0),synced)min=omin,max=omax,step=ostep;else{c/3==Math.round(c/3)?(omin=min-diff*c,min>=0&&omin<0&&(omin=0)):(omax=max+diff*c)<=0&&omax>0&&(omax=0);var minMaxStep=this.adjustMinMax(omin,omax,omax-omin,this._gridCount,!0);omin=minMaxStep.min,omax=minMaxStep.max,ostep=minMaxStep.step}}return{min:min,max:max,step:step}},ValueAxis.prototype.checkSync=function(min,max,step,count){for(var currentCount=(max-min)/step,i=1;i<count;i++)if(Math_round(currentCount/i,1)==count||currentCount*i==count)return!0;return!1},ValueAxis.prototype.processConfig=function(config){config&&Type_hasValue(config.syncWithAxis)&&isString(config.syncWithAxis)&&(this.map.hasKey(config.syncWithAxis)?config.syncWithAxis=this.map.getKey(config.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+config.syncWithAxis+'" found for `syncWithAxis`'),delete config.xAxis)),_super.prototype.processConfig.call(this,config)},ValueAxis}(Axis_Axis);Registry_registry.registeredClasses.ValueAxis=ValueAxis_ValueAxis,Registry_registry.registeredClasses.ValueAxisDataItem=ValueAxis_ValueAxisDataItem;var DateAxisBreak_DateAxisBreak=function(_super){function DateAxisBreak(){var _this=_super.call(this)||this;return _this.className="DateAxisBreak",_this.applyTheme(),_this}return Object(tslib_es6.d)(DateAxisBreak,_super),Object.defineProperty(DateAxisBreak.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(value){this.setPropertyValue("startDate",value)&&(this.startValue=value.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxisBreak.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(value){this.setPropertyValue("endDate",value)&&(this.endValue=value.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),DateAxisBreak}(ValueAxisBreak_ValueAxisBreak);Registry_registry.registeredClasses.DateAxisBreak=DateAxisBreak_DateAxisBreak;var DateAxis_DateAxisDataItem=function(_super){function DateAxisDataItem(){var _this=_super.call(this)||this;return _this.className="DateAxisDataItem",_this.applyTheme(),_this.values.date={},_this.values.endDate={},_this}return Object(tslib_es6.d)(DateAxisDataItem,_super),Object.defineProperty(DateAxisDataItem.prototype,"date",{get:function(){return this.dates.date},set:function(date){this.setDate("date",date),this.value=date.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxisDataItem.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(date){this.setDate("endDate",date),this.endValue=date.getTime()},enumerable:!0,configurable:!0}),DateAxisDataItem}(ValueAxis_ValueAxisDataItem),DateAxis_DateAxis=function(_super){function DateAxis(){var _this=_super.call(this)||this;return _this._gapBreaks=!1,_this.gridIntervals=new List_List,_this.groupIntervals=new List_List,_this.dateFormats=new Dictionary_Dictionary,_this.periodChangeDateFormats=new Dictionary_Dictionary,_this._baseIntervalReal={timeUnit:"day",count:1},_this._prevSeriesTime={},_this._minDifference={},_this._firstWeekDay=1,_this.groupMin={},_this.groupMax={},_this.className="DateAxis",_this.setPropertyValue("markUnitChange",!0),_this.snapTooltip=!0,_this.tooltipPosition="pointer",_this.setPropertyValue("groupData",!1),_this.groupCount=200,_this.events.on("parentset",_this.getDFFormatter,_this,!1),_this.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),_this.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),_this.axisFieldName="date",_this.applyTheme(),_this}return Object(tslib_es6.d)(DateAxis,_super),DateAxis.prototype.fillRule=function(dataItem){var value=dataItem.value,axis=dataItem.component,gridInterval=axis._gridInterval,gridDuration=getDuration(gridInterval.timeUnit,gridInterval.count);Math.round((value-axis.min)/gridDuration)/2==Math.round(Math.round((value-axis.min)/gridDuration)/2)?dataItem.axisFill.__disabled=!0:dataItem.axisFill.__disabled=!1},DateAxis.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},DateAxis.prototype.createDataItem=function(){return new DateAxis_DateAxisDataItem},DateAxis.prototype.createAxisBreak=function(){return new DateAxisBreak_DateAxisBreak},DateAxis.prototype.validateDataItems=function(){var start=this.start,end=this.end,baseDuration=this.baseDuration,periodCount=(this.max-this.min)/baseDuration;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),_super.prototype.validateDataItems.call(this);var mainBaseDuration=getDuration(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=(this.max-this.min)/mainBaseDuration,this._deltaMinMax=this.baseDuration/2,start+=(end-start)*(1-periodCount/((this.max-this.min)/baseDuration)),this.zoom({start:start,end:end},!1,!0)},DateAxis.prototype.handleSelectionExtremesChange=function(){},DateAxis.prototype.calculateZoom=function(){var _this=this;_super.prototype.calculateZoom.call(this);var difference=this.adjustDifference(this._minZoomed,this._maxZoomed),dataSetChanged=!1;if(this.groupData&&Type_hasValue(difference)){var mainBaseInterval=this.mainBaseInterval,modifiedDifference=difference+this.startLocation+(1-this.endLocation)*this.baseDuration,groupInterval=void 0;this.groupInterval?groupInterval=Object(tslib_es6.a)({},this.groupInterval):getDuration((groupInterval=this.chooseInterval(0,modifiedDifference,this.groupCount,this.groupIntervals)).timeUnit,groupInterval.count)<getDuration(mainBaseInterval.timeUnit,mainBaseInterval.count)&&(groupInterval=Object(tslib_es6.a)({},mainBaseInterval)),this._groupInterval=groupInterval;var newId=groupInterval.timeUnit+groupInterval.count;this._currentDataSetId!=newId&&(this._currentDataSetId=newId,this.dispatch("groupperiodchanged")),this.series.each((function(series){series.baseAxis==_this&&series.setDataSet(_this._currentDataSetId)&&(dataSetChanged=!0)}))}var gridInterval=this.chooseInterval(0,difference,this._gridCount);getDuration(gridInterval.timeUnit,gridInterval.count)<this.baseDuration&&(gridInterval=Object(tslib_es6.a)({},this.baseInterval)),this._gridInterval=gridInterval,this._nextGridUnit=getNextUnit(gridInterval.timeUnit),this._intervalDuration=getDuration(gridInterval.timeUnit,gridInterval.count),this._gridDate=Time_round(new Date(this.minZoomed-getDuration(gridInterval.timeUnit,gridInterval.count)),gridInterval.timeUnit,gridInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min)),Iterator_each(this.series.iterator(),(function(series){if(series.baseAxis==_this){var field_1=series.getAxisField(_this),minZoomed=Time_round(new Date(_this._minZoomed+.05*_this.baseDuration),_this.baseInterval.timeUnit,_this.baseInterval.count,_this._firstWeekDay,_this._df.utc).getTime(),minZoomedStr=minZoomed.toString(),startDataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(minZoomedStr+series.currentDataSetId),startIndex=0;0!=_this.start&&(startIndex=startDataItem?(startDataItem=_this.findFirst(startDataItem,minZoomed,field_1)).index:series.dataItems.findClosestIndex(_this._minZoomed,(function(x){return x[field_1]}),"left"));var baseInterval=_this.baseInterval,maxZoomed=Time_add(Time_round(new Date(_this._maxZoomed),baseInterval.timeUnit,baseInterval.count,_this._firstWeekDay,_this._df.utc),baseInterval.timeUnit,baseInterval.count,_this._df.utc).getTime(),maxZoomedStr=maxZoomed.toString(),endDataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(maxZoomedStr+series.currentDataSetId),endIndex=series.dataItems.length;1!=_this.end&&(endDataItem?endIndex=endDataItem.index:(maxZoomed-=1,endIndex=series.dataItems.findClosestIndex(maxZoomed,(function(x){return x[field_1]}),"right"),endIndex++)),series.startIndex=startIndex,series.endIndex=endIndex,!dataSetChanged&&series.dataRangeInvalid&&series.validateDataRange()}}))},DateAxis.prototype.findFirst=function(dataItem,time,key){var index=dataItem.index;if(index>0){var previousDataItem=dataItem.component.dataItems.getIndex(index-1),previousDate=previousDataItem[key];return!previousDate||previousDate.getTime()<time?dataItem:this.findFirst(previousDataItem,time,key)}return dataItem},DateAxis.prototype.validateData=function(){_super.prototype.validateData.call(this),isNumber(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(DateAxis.prototype,"minDifference",{get:function(){var _this=this,minDifference=Number.MAX_VALUE;return this.series.each((function(series){minDifference>_this._minDifference[series.uid]&&(minDifference=_this._minDifference[series.uid])})),minDifference!=Number.MAX_VALUE&&0!=minDifference||(minDifference=getDuration("day")),minDifference},enumerable:!0,configurable:!0}),DateAxis.prototype.seriesDataChangeUpdate=function(series){this._minDifference[series.uid]=Number.MAX_VALUE},DateAxis.prototype.postProcessSeriesDataItems=function(series){var _this=this;series?this.seriesGroupUpdate(series):this.series.each((function(series){_this.seriesGroupUpdate(series)})),this.addEmptyUnitsBreaks()},DateAxis.prototype.seriesGroupUpdate=function(series){var _this=this;JSON.stringify(series._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(series._baseInterval[this.uid]=this.mainBaseInterval,series.mainDataSet.each((function(dataItem){_this.postProcessSeriesDataItem(dataItem)})),this.groupData&&this.groupSeriesData(series))},DateAxis.prototype.groupSeriesData=function(series){var _this=this;if(series.baseAxis==this&&series.dataItems.length>0&&!series.dataGrouped){series.bulletsContainer.removeChildren();var intervals_1=[],mainBaseInterval=this.mainBaseInterval,mainIntervalDuration_1=getDuration(mainBaseInterval.timeUnit,mainBaseInterval.count);this.groupIntervals.each((function(interval){var intervalDuration=getDuration(interval.timeUnit,interval.count);(intervalDuration>mainIntervalDuration_1&&intervalDuration<_this.max-_this.min||_this.groupInterval)&&intervals_1.push(interval)})),series._dataSets&&(series._dataSets.each((function(key,dataItems){dataItems.each((function(dataItem){dataItem.dispose()})),dataItems.clear()})),series._dataSets.clear()),series.dataGrouped=!0,each(intervals_1,(function(interval){var key="date"+_this.axisLetter,dataSetId=interval.timeUnit+interval.count,dataSet=new SortedList_OrderedListTemplate(series.mainDataSet.template.clone());series.dataSets.setKey(dataSetId,dataSet);var newDataItem,roundedDate,dataItems=series.mainDataSet,previousTime=Number.NEGATIVE_INFINITY,i=0,dataFields=[];Object_each(series.dataFields,(function(dfkey,df){var dfk=dfkey;dfk!=key&&-1==dfk.indexOf("Show")&&dataFields.push(dfk)})),dataItems.each((function(dataItem){var date=dataItem.getDate(key);if(date){var time=date.getTime(),currentTime=(roundedDate=Time_round(new Date(time),interval.timeUnit,interval.count,_this._df.firstDayOfWeek,_this._df.utc)).getTime();previousTime<currentTime?(newDataItem&&series._adapterO&&each(dataFields,(function(vkey){newDataItem.values[vkey].value=series._adapterO.apply("groupDataItem",{dataItem:newDataItem,interval:interval,dataField:vkey,date:roundedDate,value:newDataItem.values[vkey].value}).value})),(newDataItem=dataSet.create()).dataContext={},newDataItem.setWorkingLocation("dateX",series.dataItems.template.locations.dateX,0),newDataItem.setWorkingLocation("openDateX",series.dataItems.template.locations.openDateX,0),newDataItem.setWorkingLocation("dateY",series.dataItems.template.locations.dateY,0),newDataItem.setWorkingLocation("openDateY",series.dataItems.template.locations.openDateY,0),newDataItem.component=series,newDataItem.setDate(key,roundedDate),newDataItem._index=i,i++,each(dataFields,(function(vkey){var dvalues=dataItem.values[vkey];if(dvalues){var value=dvalues.value;series._adapterO&&(value=series._adapterO.apply("groupValue",{dataItem:dataItem,interval:interval,dataField:vkey,date:roundedDate,value:value}).value);var values=newDataItem.values[vkey];isNumber(value)?(values.value=value,values.workingValue=value,values.open=value,values.close=value,values.low=value,values.high=value,values.sum=value,values.average=value,values.count=1):values.count=0}})),_this.postProcessSeriesDataItem(newDataItem,interval),Object_each(series.propertyFields,(function(key,fieldValue){var f=key,value=dataItem.properties[key];Type_hasValue(value)&&(newDataItem.hasProperties=!0,newDataItem.setProperty(f,value))})),newDataItem.groupDataItems=[dataItem],previousTime=currentTime):newDataItem&&(each(dataFields,(function(vkey){var groupFieldName=series.groupFields[vkey],dvalues=dataItem.values[vkey];if(dvalues){var value=dvalues.value;if(series._adapterO&&(value=series._adapterO.apply("groupValue",{dataItem:dataItem,interval:interval,dataField:vkey,date:roundedDate,value:value}).value),isNumber(value)){var values=newDataItem.values[vkey];isNumber(values.open)||(values.open=value),values.close=value,(values.low>value||!isNumber(values.low))&&(values.low=value),(values.high<value||!isNumber(values.high))&&(values.high=value),isNumber(values.sum)?values.sum+=value:values.sum=value,values.count++,values.average=values.sum/values.count,isNumber(values[groupFieldName])&&(values.value=values[groupFieldName],values.workingValue=values.value)}}})),Utils_copyProperties(dataItem.properties,newDataItem.properties),Object_each(series.propertyFields,(function(key,fieldValue){var f=key,value=dataItem.properties[key];Type_hasValue(value)&&(newDataItem.hasProperties=!0,newDataItem.setProperty(f,value))})),newDataItem.groupDataItems.push(dataItem))}newDataItem&&Utils_copyProperties(dataItem.dataContext,newDataItem.dataContext)})),newDataItem&&series._adapterO&&each(dataFields,(function(vkey){newDataItem.values[vkey].value=series._adapterO.apply("groupDataItem",{dataItem:newDataItem,interval:interval,dataField:vkey,date:roundedDate,value:newDataItem.values[vkey].value}).value}))})),this.calculateZoom()}},DateAxis.prototype.getDFFormatter=function(){this._df=this.dateFormatter},DateAxis.prototype.postProcessSeriesDataItem=function(dataItem,interval){var _this=this,intervalID="";interval?intervalID=interval.timeUnit+interval.count:interval=this.mainBaseInterval;var dataItemsByAxis=dataItem.component.dataItemsByAxis.getKey(this.uid);Object_each(dataItem.dates,(function(key){var time=dataItem.getDate(key).getTime(),startTime=Time_round(new Date(time),interval.timeUnit,interval.count,_this._firstWeekDay,_this._df.utc).getTime(),endDate=Time_add(new Date(startTime),interval.timeUnit,interval.count,_this._df.utc);dataItem.setCalculatedValue(key,startTime,"open"),dataItem.setCalculatedValue(key,endDate.getTime(),"close"),dataItemsByAxis.setKey(startTime+intervalID,dataItem)}))},DateAxis.prototype.addEmptyUnitsBreaks=function(){var _this=this;if(this.skipEmptyPeriods&&isNumber(this.min)&&isNumber(this.max)){var timeUnit=this.baseInterval.timeUnit,count=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var date=Time_round(new Date(this.min),timeUnit,count,this._firstWeekDay,this._df.utc),axisBreak=void 0,_loop_1=function(){Time_add(date,timeUnit,count,this_1._df.utc);var startTime=date.getTime(),startTimeStr=startTime.toString();contains(this_1.series.iterator(),(function(series){return!!series.dataItemsByAxis.getKey(_this.uid).getKey(startTimeStr+series.currentDataSetId)}))?axisBreak&&(axisBreak.endDate=new Date(startTime-1),axisBreak=void 0):axisBreak||((axisBreak=this_1.axisBreaks.create()).startDate=new Date(startTime),this_1._gapBreaks=!0)},this_1=this;date.getTime()<this.max-this.baseDuration;)_loop_1()}},DateAxis.prototype.fixAxisBreaks=function(){var _this=this;_super.prototype.fixAxisBreaks.call(this);var axisBreaks=this._axisBreaks;axisBreaks&&axisBreaks.length>0&&axisBreaks.each((function(axisBreak){var breakGridCount=Math.ceil(_this._gridCount*(Math.min(_this.end,axisBreak.endPosition)-Math.max(_this.start,axisBreak.startPosition))/(_this.end-_this.start));axisBreak.gridInterval=_this.chooseInterval(0,axisBreak.adjustedEndValue-axisBreak.adjustedStartValue,breakGridCount);var gridDate=Time_round(new Date(axisBreak.adjustedStartValue),axisBreak.gridInterval.timeUnit,axisBreak.gridInterval.count,_this._firstWeekDay,_this._df.utc);gridDate.getTime()>axisBreak.startDate.getTime()&&Time_add(gridDate,axisBreak.gridInterval.timeUnit,axisBreak.gridInterval.count,_this._df.utc),axisBreak.gridDate=gridDate}))},DateAxis.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},DateAxis.prototype.getGridDate=function(date,intervalCount){var timeUnit=this._gridInterval.timeUnit,realIntervalCount=this._gridInterval.count;Time_round(date,timeUnit,1,this._firstWeekDay,this._df.utc);var prevTimestamp=date.getTime(),newDate=Time_copy(date),timestamp=Time_add(newDate,timeUnit,intervalCount,this._df.utc).getTime(),axisBreak=this.isInBreak(timestamp);axisBreak&&axisBreak.endDate&&(Time_round(newDate=new Date(axisBreak.endDate.getTime()),timeUnit,realIntervalCount,this._firstWeekDay,this._df.utc),newDate.getTime()<axisBreak.endDate.getTime()&&Time_add(newDate,timeUnit,realIntervalCount,this._df.utc),timestamp=newDate.getTime());var durationBreaksRemoved=this.adjustDifference(prevTimestamp,timestamp);return Math.round(durationBreaksRemoved/getDuration(timeUnit))<realIntervalCount?this.getGridDate(date,intervalCount+realIntervalCount):newDate},DateAxis.prototype.getBreaklessDate=function(axisBreak,timeUnit,count){var date=new Date(axisBreak.endValue);Time_round(date,timeUnit,count,this._firstWeekDay,this._df.utc),Time_add(date,timeUnit,count,this._df.utc);var timestamp=date.getTime();return(axisBreak=this.isInBreak(timestamp))?this.getBreaklessDate(axisBreak,timeUnit,count):date},DateAxis.prototype.validateAxisElements=function(){var _this=this;if(isNumber(this.max)&&isNumber(this.min)){this.calculateZoom();var timestamp=this._gridDate.getTime(),timeUnit=this._gridInterval.timeUnit,intervalCount=this._gridInterval.count,prevGridDate=Time_copy(this._gridDate),dataItemsIterator_1=this._dataItemsIterator;this.resetIterators();for(var _loop_2=function(){var date=this_2.getGridDate(Time_copy(prevGridDate),intervalCount);timestamp=date.getTime();var endDate=Time_copy(date);endDate=Time_add(endDate,timeUnit,intervalCount,this_2._df.utc);var format=this_2.dateFormats.getKey(timeUnit);this_2.markUnitChange&&prevGridDate&&checkChange(date,prevGridDate,this_2._nextGridUnit,this_2._df.utc)&&"year"!==timeUnit&&(format=this_2.periodChangeDateFormats.getKey(timeUnit));var text=this_2._df.format(date,format),dataItem=dataItemsIterator_1.find((function(x){return x.text===text}));dataItem.__disabled&&(dataItem.__disabled=!1),this_2.appendDataItem(dataItem),dataItem.axisBreak=void 0,dataItem.date=date,dataItem.endDate=endDate,dataItem.text=text,this_2.validateDataElement(dataItem),prevGridDate=date},this_2=this;timestamp<=this._maxZoomed;)_loop_2();var renderer_1=this.renderer;this._axisBreaks&&Iterator_each(this._axisBreaks.iterator(),(function(axisBreak){if(axisBreak.breakSize>0){var timeUnit_1=axisBreak.gridInterval.timeUnit,intervalCount_1=axisBreak.gridInterval.count;if(getDistance(axisBreak.startPoint,axisBreak.endPoint)>4*renderer_1.minGridDistance)for(var prevGridDate_1,timestamp_1=axisBreak.gridDate.getTime(),count=0,_loop_3=function(){var date=Time_copy(axisBreak.gridDate);if(timestamp_1=Time_add(date,timeUnit_1,intervalCount_1*count,_this._df.utc).getTime(),count++,timestamp_1>axisBreak.adjustedStartValue&&timestamp_1<axisBreak.adjustedEndValue){var endDate=Time_copy(date);endDate=Time_add(endDate,timeUnit_1,intervalCount_1,_this._df.utc);var format=_this.dateFormats.getKey(timeUnit_1);_this.markUnitChange&&prevGridDate_1&&checkChange(date,prevGridDate_1,_this._nextGridUnit,_this._df.utc)&&"year"!==timeUnit_1&&(format=_this.periodChangeDateFormats.getKey(timeUnit_1));var text_1=_this._df.format(date,format),dataItem=dataItemsIterator_1.find((function(x){return x.text===text_1}));dataItem.__disabled&&(dataItem.__disabled=!1),_this.appendDataItem(dataItem),dataItem.axisBreak=axisBreak,axisBreak.dataItems.moveValue(dataItem),dataItem.date=date,dataItem.endDate=endDate,dataItem.text=text_1,prevGridDate_1=date,_this.validateDataElement(dataItem)}};timestamp_1<=axisBreak.adjustedMax;)_loop_3()}}))}},DateAxis.prototype.validateDataElement=function(dataItem){if(dataItem.itemIndex=this._axisItemCount,this._axisItemCount++,isNumber(this.max)&&isNumber(this.min)){var renderer=this.renderer,timestamp=dataItem.value,endTimestamp=dataItem.endValue;isNumber(endTimestamp)||(endTimestamp=timestamp);var position=this.valueToPosition(timestamp),endPosition=this.valueToPosition(endTimestamp),fillEndPosition=endPosition;!dataItem.isRange&&this._gridInterval.count>this.baseInterval.count&&(endPosition=position+(endPosition-position)/(this._gridInterval.count/this.baseInterval.count)),dataItem.position=position;var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var fill=dataItem.axisFill;fill&&!fill.disabled&&(renderer.updateFillElement(fill,position,fillEndPosition),dataItem.isRange||this.fillRule(dataItem));var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,position,endPosition),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var label=dataItem.label;if(label&&!label.disabled){var location_1=label.location;0==location_1&&(location_1=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||dataItem.isRange?0:.5),renderer.updateLabelElement(label,position,endPosition,location_1)}}},Object.defineProperty(DateAxis.prototype,"baseDuration",{get:function(){return getDuration(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),DateAxis.prototype.adjustMinMax=function(min,max){return{min:min,max:max,step:this.baseDuration}},DateAxis.prototype.fixMin=function(value){var interval=this.baseInterval,startTime=Time_round(new Date(value),interval.timeUnit,interval.count,this._firstWeekDay,this._df.utc).getTime();return startTime+(Time_add(new Date(startTime),interval.timeUnit,interval.count,this._df.utc).getTime()-startTime)*this.startLocation},DateAxis.prototype.fixMax=function(value){var interval=this.baseInterval,startTime=Time_round(new Date(value),interval.timeUnit,interval.count,this._firstWeekDay,this._df.utc).getTime();return startTime+(Time_add(new Date(startTime),interval.timeUnit,interval.count,this._df.utc).getTime()-startTime)*this.endLocation},DateAxis.prototype.chooseInterval=function(index,duration,gridCount,intervals){intervals||(intervals=this.gridIntervals);var gridInterval=intervals.getIndex(index),intervalDuration=getDuration(gridInterval.timeUnit,gridInterval.count),lastIndex=intervals.length-1;if(index>=lastIndex)return Object(tslib_es6.a)({},intervals.getIndex(lastIndex));var count=Math.ceil(duration/intervalDuration);return duration<intervalDuration&&index>0?Object(tslib_es6.a)({},intervals.getIndex(index-1)):count<=gridCount?Object(tslib_es6.a)({},intervals.getIndex(index)):index+1<intervals.length?this.chooseInterval(index+1,duration,gridCount,intervals):Object(tslib_es6.a)({},intervals.getIndex(index))},DateAxis.prototype.formatLabel=function(value){return this._df.format(value)},DateAxis.prototype.dateToPosition=function(date){return this.valueToPosition(date.getTime())},DateAxis.prototype.anyToPosition=function(date){return date instanceof Date?this.dateToPosition(date):this.valueToPosition(date)},DateAxis.prototype.dateToPoint=function(date){var position=this.dateToPosition(date),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},DateAxis.prototype.anyToPoint=function(date){return date instanceof Date?this.dateToPoint(date):this.valueToPoint(date)},DateAxis.prototype.positionToDate=function(position){return new Date(this.positionToValue(position))},DateAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location);isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value);return range&&(position=fitToRange(position,range.start,range.end)),position},DateAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location),stack=dataItem.getValue("valueX","stack");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),position},DateAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var value=this.getTimeByLocation(dataItem,key,location),stack=dataItem.getValue(stackKey,"stack");isNumber(value)||(value=this.baseValue);var position=this.valueToPosition(value+stack);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},DateAxis.prototype.getTimeByLocation=function(dataItem,key,location){if(Type_hasValue(key)){isNumber(location)||isNumber(location=dataItem.workingLocations[key])||(location=0);var startTime=dataItem.values[key].open,endTime=dataItem.values[key].close,workingValue=dataItem.values[key].workingValue,difference=dataItem.values[key].value-workingValue;return endTime-=difference,isNumber(startTime-=difference)&&isNumber(endTime)?startTime+(endTime-startTime)*location:void 0}},DateAxis.prototype.processSeriesDataItem=function(dataItem,axisLetter){var time,series=dataItem.component,date=dataItem["date"+axisLetter];if(isNumber(this.timezoneOffset)?(date.setTime(date.getTime()+6e4*(date.getTimezoneOffset()-this.timezoneOffset)),dataItem.setValue("date"+axisLetter,date.getTime(),0)):Type_hasValue(this.timezone)&&(date=setTimezone(date,this.timezone),dataItem.setValue("date"+axisLetter,date.getTime(),0),dataItem["date"+axisLetter]=date),date){time=date.getTime();var openTime,openDate=dataItem["openDate"+axisLetter],prevSeriesTime=this._prevSeriesTime[series.uid];if(openDate&&(openTime=openDate.getTime()),isNumber(openTime)){var difference=Math.abs(time-openTime);this._minDifference[series.uid]>difference&&(this._minDifference[series.uid]=difference)}var differece=time-prevSeriesTime;differece>0&&this._minDifference[series.uid]>differece&&(this._minDifference[series.uid]=differece),this._prevSeriesTime[series.uid]=time,series._baseInterval[this.uid]&&this.postProcessSeriesDataItem(dataItem)}},DateAxis.prototype.updateAxisBySeries=function(){_super.prototype.updateAxisBySeries.call(this);var baseInterval=this.chooseInterval(0,this.minDifference,1);this.minDifference>=getDuration("day",27)&&"week"==baseInterval.timeUnit&&(baseInterval.timeUnit="month",baseInterval.count=1),"month"==baseInterval.timeUnit&&(this.minDifference>=getDuration("day",58)&&1==baseInterval.count&&(baseInterval.count=2),this.minDifference>=getDuration("day",87)&&2==baseInterval.count&&(baseInterval.count=3),this.minDifference>=getDuration("day",174)&&5==baseInterval.count&&(baseInterval.count=6)),this.minDifference>=getDuration("hour",23)&&"hour"==baseInterval.timeUnit&&(baseInterval.timeUnit="day",baseInterval.count=1),this.minDifference>=getDuration("week",1)-getDuration("hour",1)&&"day"==baseInterval.timeUnit&&(baseInterval.timeUnit="week",baseInterval.count=1),this.minDifference>=getDuration("year",1)-getDuration("day",1.01)&&"month"==baseInterval.timeUnit&&(baseInterval.timeUnit="year",baseInterval.count=1),this._baseIntervalReal=baseInterval,this._mainBaseInterval=baseInterval},Object.defineProperty(DateAxis.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(timeInterval){JSON.stringify(this._baseInterval)!=JSON.stringify(timeInterval)&&(this._baseInterval=timeInterval,this._mainBaseInterval=timeInterval,isNumber(timeInterval.count)||(timeInterval.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(value){if(value){var breakTemplate=this.axisBreaks.template;breakTemplate.startLine.disabled=!0,breakTemplate.endLine.disabled=!0,breakTemplate.fillShape.disabled=!0,breakTemplate.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",value)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(value){this.setPropertyValue("tooltipDateFormat",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(value){this.setPropertyValue("markUnitChange",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),DateAxis.prototype.getTooltipText=function(position){var text,date=this.positionToDate(position);if(date=Time_round(date,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min)),this.tooltipDate=date,Type_hasValue(this.tooltipDateFormat))text=this._df.format(date,this.tooltipDateFormat);else{var dateFormat=this.dateFormats.getKey(this.baseInterval.timeUnit);text=dateFormat?this._df.format(date,dateFormat):this.getPositionLabel(position)}return this._adapterO?this._adapterO.apply("getTooltipText",text):text},DateAxis.prototype.roundPosition=function(position,location,axisLocation){var baseInterval=this.baseInterval,timeUnit=baseInterval.timeUnit,count=baseInterval.count,date=this.positionToDate(position);if(Time_round(date,timeUnit,count,this._firstWeekDay,this._df.utc),location>0&&Time_add(date,timeUnit,location*count,this._df.utc),axisLocation>0&&axisLocation<1&&date.setTime(date.getTime()+this.baseDuration*axisLocation),this.isInBreak(date.getTime()))for(;date.getTime()<this.max&&(Time_add(date,timeUnit,count,this._df.utc),this.isInBreak(date.getTime())););return this.dateToPosition(date)},DateAxis.prototype.getCellStartPosition=function(position){return this.roundPosition(position,0)},DateAxis.prototype.getCellEndPosition=function(position){return this.roundPosition(position,1)},DateAxis.prototype.getSeriesDataItem=function(series,position,findNearest){var value=this.positionToValue(position),deltaValue=value-("Y"==this.axisLetter?series.dataItems.template.locations.dateY:series.dataItems.template.locations.dateX)*this.baseDuration,date=Time_round(new Date(value),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),nextDate=Time_round(new Date(value+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc);nextDate.getTime()>date.getTime()&&Math.abs(nextDate.getTime()-deltaValue)<Math.abs(deltaValue-date.getTime())&&(date=nextDate);var key_1,dataItem=series.dataItemsByAxis.getKey(this.uid).getKey(date.getTime().toString());!dataItem&&findNearest&&(key_1="Y"==this.axisLetter?"dateY":"dateX",dataItem=series.dataItems.getIndex(series.dataItems.findClosestIndex(date.getTime(),(function(x){return x[key_1]?x[key_1].getTime():-1/0}),"any")));return dataItem},DateAxis.prototype.getPositionLabel=function(position){var date=this.positionToDate(position);return this._df.format(date,this.getCurrentLabelFormat())},DateAxis.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},DateAxis.prototype.initRenderer=function(){_super.prototype.initRenderer.call(this);var renderer=this.renderer;renderer&&(renderer.ticks.template.location=0,renderer.grid.template.location=0,renderer.labels.template.location=0,renderer.baseGrid.disabled=!0)},Object.defineProperty(DateAxis.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),DateAxis.prototype.animateMinMax=function(min,max){var _this=this,animation=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:min},{property:"_maxAdjusted",from:this._maxAdjusted,to:max}],this.rangeChangeDuration,this.rangeChangeEasing);return animation.events.on("animationprogress",(function(){_this.dispatch("extremeschanged")})),animation},DateAxis.prototype.handleExtremesChange=function(){if(_super.prototype.handleExtremesChange.call(this),this.groupData){var id=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[id]=this._finalMin,this.groupMax[id]=this._finalMax}},DateAxis.prototype.zoomToDates=function(startDate,endDate,skipRangeEvent,instantly,adjust){startDate=this._df.parse(startDate),endDate=this._df.parse(endDate),this.zoomToValues(startDate.getTime(),endDate.getTime(),skipRangeEvent,instantly,adjust)},DateAxis.prototype.zoomToValues=function(startValue,endValue,skipRangeEvent,instantly,adjust){var _this=this;if(this.groupData){var difference=this.adjustDifference(startValue,endValue),isEnd=!1;endValue==this.max&&(isEnd=!0);var isStart=!1;if(startValue==this.min&&(isStart=!0),Type_hasValue(difference)){var mainBaseInterval=this.mainBaseInterval,groupInterval_1=this.chooseInterval(0,difference,this.groupCount,this.groupIntervals);(groupInterval_1.timeUnit==mainBaseInterval.timeUnit&&groupInterval_1.count<mainBaseInterval.count||getDuration(groupInterval_1.timeUnit,1)<getDuration(mainBaseInterval.timeUnit,1))&&(groupInterval_1=Object(tslib_es6.a)({},mainBaseInterval));var id=groupInterval_1.timeUnit+groupInterval_1.count,min_1=this.groupMin[id],max_1=this.groupMax[id];isNumber(min_1)&&isNumber(max_1)||(min_1=Number.POSITIVE_INFINITY,max_1=Number.NEGATIVE_INFINITY,this.series.each((function(series){var seriesMin=series.min(_this),seriesMax=series.max(_this);if(series._dataSets){var ds=series._dataSets.getKey(groupInterval_1.timeUnit+groupInterval_1.count);if(ds){var mindi=ds.getIndex(0),maxdi=ds.getIndex(ds.length-1);mindi&&(series.xAxis==_this?seriesMin=mindi.dateX.getTime():series.yAxis==_this&&(seriesMin=mindi.dateY.getTime())),maxdi&&(series.xAxis==_this?seriesMax=maxdi.dateX.getTime():series.yAxis==_this&&(seriesMax=maxdi.dateY.getTime()))}}seriesMax=Time_round(Time_add(new Date(seriesMax),groupInterval_1.timeUnit,1,_this._df.utc),groupInterval_1.timeUnit,1,_this._df.firstDayOfWeek,_this._df.utc).getTime(),seriesMin<min_1&&(min_1=seriesMin),seriesMax>max_1&&(max_1=seriesMax)})),this.groupMin[id]=min_1,this.groupMax[id]=max_1),startValue=fitToRange(startValue,min_1,max_1),endValue=fitToRange(endValue,min_1,max_1),adjust&&(isEnd&&(startValue=fitToRange(startValue=endValue-difference,min_1,max_1)),isStart&&(endValue=fitToRange(endValue=startValue+difference,min_1,max_1)));start=(startValue-min_1)/(max_1-min_1),end=(endValue-min_1)/(max_1-min_1);this.zoom({start:start,end:end},skipRangeEvent,instantly)}}else{var start=(startValue-this.min)/(this.max-this.min),end=(endValue-this.min)/(this.max-this.min);this.zoom({start:start,end:end},skipRangeEvent,instantly)}},DateAxis.prototype.asIs=function(field){return"baseInterval"==field||_super.prototype.asIs.call(this,field)},DateAxis.prototype.copyFrom=function(source){var _this=this;_super.prototype.copyFrom.call(this,source),this.dateFormats=source.dateFormats,this.periodChangeDateFormats=source.periodChangeDateFormats,this.groupIntervals.clear(),source.groupIntervals.each((function(interval){_this.groupIntervals.push(Object(tslib_es6.a)({},interval))})),this.gridIntervals.clear(),source.gridIntervals.each((function(interval){_this.gridIntervals.push(Object(tslib_es6.a)({},interval))})),source._baseInterval&&(this.baseInterval=source._baseInterval)},DateAxis.prototype.showTooltipAtPosition=function(position,local){var _this=this;if(local||(position=this.toAxisPosition(position)),this.snapTooltip){var closestDate_1,actualTime_1=this.positionToDate(position).getTime();if(this.series.each((function(series){if(series.baseAxis==_this){var dataItem=_this.getSeriesDataItem(series,position,!0);if(dataItem){var date=void 0;series.xAxis==_this&&(date=dataItem.dateX),series.yAxis==_this&&(date=dataItem.dateY),closestDate_1?Math.abs(closestDate_1.getTime()-actualTime_1)>Math.abs(date.getTime()-actualTime_1)&&(closestDate_1=date):closestDate_1=date}}})),closestDate_1){var closestTime_1=closestDate_1.getTime();closestDate_1=Time_round(new Date(closestTime_1),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),closestTime_1=closestDate_1.getTime();var tooltipLocation=this.renderer.tooltipLocation;0==tooltipLocation&&(tooltipLocation=1e-4),closestDate_1=new Date(closestDate_1.getTime()+this.baseDuration*tooltipLocation),position=this.dateToPosition(closestDate_1),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each((function(series){var dataItem=series.dataItemsByAxis.getKey(_this.uid).getKey(closestTime_1+series.currentDataSetId),point=series.showTooltipAtDataItem(dataItem);point?_this.chart._seriesPoints.push({series:series,point:point}):(series.tooltipText||series.tooltipHTML)&&series.hideTooltip()}))}}_super.prototype.showTooltipAtPosition.call(this,position,!0)},Object.defineProperty(DateAxis.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(value){this.setPropertyValue("snapTooltip",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(value){var _this=this;this.setPropertyValue("groupData",value)&&(this.series.each((function(series){series.setDataSet(""),value&&!series.dataGrouped&&series.inited&&(series._baseInterval[_this.uid]=_this.mainBaseInterval,_this.groupSeriesData(series))})),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(value){this.setPropertyValue("groupInterval",value)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(value){this.setPropertyValue("groupCount",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(value){this.setPropertyValue("timezoneOffset",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(value){this.setPropertyValue("timezone",value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateAxis.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),DateAxis.prototype.makeGap=function(dataItem,previous){var series=dataItem.component;if(dataItem&&previous&&!series.connect&&isNumber(series.autoGapCount)&&series.baseAxis==this){var date=dataItem.dates["date"+this.axisLetter],prevDate=previous.dates["date"+this.axisLetter];if(date&&prevDate)if(date.getTime()-prevDate.getTime()>series.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(DateAxis.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),DateAxis}(ValueAxis_ValueAxis);Registry_registry.registeredClasses.DateAxis=DateAxis_DateAxis,Registry_registry.registeredClasses.DateAxisDataItem=DateAxis_DateAxisDataItem;var AxisRendererX_AxisRendererX=function(_super){function AxisRendererX(){var _this=_super.call(this)||this;return _this.className="AxisRendererX",_this.minGridDistance=120,_this.opposite=!1,_this.rotation=0,_this.width=Percent_percent(100),_this.labels.template.horizontalCenter="middle",_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererX,_super),AxisRendererX.prototype.setAxis=function(axis){_super.prototype.setAxis.call(this,axis),axis.layout="vertical"},AxisRendererX.prototype.updateGridContainer=function(){var axis=this.axis;if(axis){var gridContainer=this.gridContainer;gridContainer.x=axis.pixelX,gridContainer.width=axis.axisLength}},AxisRendererX.prototype.processRenderer=function(){_super.prototype.processRenderer.call(this);var axis=this.axis;if(axis){axis.width instanceof Percent||(axis.width=Percent_percent(100)),this.line;var title=axis.title;title.rotation=0,title.align="center",this.opposite?(this.line.toFront(),title.toBack()):(title.toFront(),this.toBack(),this.line.toBack())}},AxisRendererX.prototype.updateTooltip=function(){if(this.axis){var bbx=this.line.pixelX,bby=this.line.pixelY,bbw=this.axisLength,bbh=1e3;this.opposite?this.inside||(bby=-1e3,bbh=1e3):this.inside&&(bby=-1e3,bbh=1e3),this.axis.updateTooltip("vertical",{x:bbx,y:bby,width:bbw,height:bbh})}},AxisRendererX.prototype.updateLabelElement=function(label,position,endPosition,location){Type_hasValue(location)||(location=label.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position);label.isMeasured=!label.inside;var verticalCenter,deltaY=0,maxHeight=this.gridContainer.maxHeight;this.opposite?(label.inside?(verticalCenter="top","bottom"==label.valign&&(deltaY=maxHeight,verticalCenter="bottom"),"middle"==label.valign&&(deltaY=maxHeight/2,verticalCenter="middle")):verticalCenter="bottom",point.y=deltaY):(label.inside?(verticalCenter="bottom","top"==label.valign&&(deltaY=-maxHeight,verticalCenter="top"),"middle"==label.valign&&(deltaY=-maxHeight/2,verticalCenter="middle")):verticalCenter="top",point.y+=deltaY),0==label.rotation&&(label.verticalCenter=verticalCenter),this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(AxisRendererX.prototype,"axisLength",{get:function(){var axis=this.axis;return axis.measuredWidth-axis.pixelPaddingRight-axis.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),AxisRendererX.prototype.positionToPoint=function(position,position2){return{x:this.positionToCoordinate(position),y:0}},AxisRendererX.prototype.pointToPosition=function(point){return this.coordinateToPosition(point.x,point.y)},AxisRendererX.prototype.getPositionRangePath=function(startPosition,endPosition){var x1=fitToRange(this.positionToCoordinate(startPosition),0,this.axisLength),x2=fitToRange(this.positionToCoordinate(endPosition),0,this.axisLength),w=Math.abs(x2-x1),h=this.getHeight();return rectToPath({x:Math.min(x1,x2),y:0,width:w,height:h},!0)},AxisRendererX.prototype.updateBreakElement=function(axisBreak){_super.prototype.updateBreakElement.call(this,axisBreak);var startLine=axisBreak.startLine,endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint,y1=axisBreak.pixelMarginLeft,y2=this.getHeight()-axisBreak.pixelMarginTop-axisBreak.pixelMarginBottom;startPoint.x=fitToRange(startPoint.x,-1,this.axisLength+1),endPoint.x=fitToRange(endPoint.x,-1,this.axisLength+1),startPoint.x==endPoint.x&&(startPoint.x<0||startPoint.x>this.axisLength)?axisBreak.fillShape.__disabled=!0:axisBreak.fillShape.__disabled=!1,startLine.y=y1,startLine.width=0,startLine.height=y2,endLine.y=y1,endLine.width=0,endLine.height=y2,fillShape.height=y2,fillShape.width=Math.abs(endPoint.x-startPoint.x),fillShape.y=y1,fillShape.x=startPoint.x},AxisRendererX.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var point=this.positionToPoint(position);grid.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.getHeight()}),this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererX.prototype.updateTickElement=function(tick,position,endPosition){position+=(endPosition-position)*tick.location;var point=this.positionToPoint(position),tickLength=tick.length;point.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?tickLength*=tick.inside?1:-1:tickLength*=tick.inside?-1:1,tick.path=moveTo({x:0,y:0})+lineTo({x:0,y:tickLength}),this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererX.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:this.axisLength,y:0})},AxisRendererX.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var axis=this.axis,h=this.getHeight(),w=this.axisLength,baseGrid=this.baseGrid,x=axis.basePoint.x;if(x<-.2||x>w+.2)baseGrid.hide(0);else{var y=spritePointToSprite({x:0,y:0},this.gridContainer,baseGrid.parent).y;baseGrid.path=moveTo({x:0,y:0})+lineTo({x:0,y:h}),baseGrid.moveTo({x:x,y:y}),baseGrid.show(0)}},AxisRendererX.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedLine_WavedLine,axisBreak.endLine=new WavedLine_WavedLine;var wavedRectangle=new WavedRectangle_WavedRectangle;wavedRectangle.setWavedSides(!1,!0,!1,!0),axisBreak.fillShape=wavedRectangle},AxisRendererX.prototype.toAxisPosition=function(value){var inversedPosition=value,axis=this.axis;if(axis){var relativePositionSprite=axis.relativePositionSprite,x=axis.pixelX;if(relativePositionSprite?x=spritePointToSprite({x:this.pixelX,y:0},this.parent,relativePositionSprite).x:relativePositionSprite=axis.parent,relativePositionSprite)return(inversedPosition-x/relativePositionSprite.innerWidth)/(axis.axisLength/relativePositionSprite.innerWidth)}return value},AxisRendererX.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position);point.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererX}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererX=AxisRendererX_AxisRendererX,defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(target,stateId){if(target instanceof AxisRendererX_AxisRendererX){var state=target.states.create(stateId);return state.properties.inside=!0,state.properties.maxLabelPosition=.9,state.properties.minLabelPosition=.1,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(target,stateId){if(target instanceof AxisRendererX_AxisRendererX){var state=target.states.create(stateId);return state.properties.disabled=!0,state}return null}});var CategoryAxisBreak_CategoryAxisBreak=function(_super){function CategoryAxisBreak(){var _this=_super.call(this)||this;return _this.className="CategoryAxisBreak",_this.properties.startLocation=.5,_this.properties.endLocation=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(CategoryAxisBreak,_super),Object.defineProperty(CategoryAxisBreak.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(value){this.setPropertyValue("startCategory",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(value){this.setPropertyValue("endCategory",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"startValue",{get:function(){var category=this.getPropertyValue("startCategory");return category?this.axis.categoryToIndex(category):this.getPropertyValue("startValue")},set:function(value){this.setPropertyValue("startValue",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"endValue",{get:function(){var category=this.getPropertyValue("endCategory");return category?this.axis.categoryToIndex(category):this.getPropertyValue("endValue")},set:function(value){this.setPropertyValue("endValue",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(value){this.setPropertyValue("startLocation",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisBreak.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(value){this.setPropertyValue("endLocation",value)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),CategoryAxisBreak}(AxisBreak_AxisBreak);Registry_registry.registeredClasses.CategoryAxisBreak=CategoryAxisBreak_CategoryAxisBreak;var CategoryAxis_CategoryAxisDataItem=function(_super){function CategoryAxisDataItem(){var _this=_super.call(this)||this;return _this.seriesDataItems={},_this.className="CategoryAxisDataItem",_this.text="{category}",_this.locations.category=0,_this.locations.endCategory=1,_this.deltaPosition=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(CategoryAxisDataItem,_super),Object.defineProperty(CategoryAxisDataItem.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(value){var oldCategory=this.properties.category;this.setProperty("category",value),Type_hasValue(oldCategory)&&oldCategory!=value&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisDataItem.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(value){this.setProperty("endCategory",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxisDataItem.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(value){value!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",value),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),CategoryAxisDataItem}(Axis_AxisDataItem),CategoryAxis_CategoryAxis=function(_super){function CategoryAxis(){var _this=_super.call(this)||this;_this.dataItemsByCategory=new Dictionary_Dictionary,_this.className="CategoryAxis",_this.axisFieldName="category",_this._lastDataItem=_this.createDataItem(),_this._lastDataItem.component=_this,_this._disposers.push(_this._lastDataItem),_this.applyTheme();var dataItemsByCategory=_this.dataItemsByCategory;return _this.addDisposer(_this.mainDataSet.events.on("removed",(function(event){dataItemsByCategory.removeKey(event.oldValue.category)}))),_this}return Object(tslib_es6.d)(CategoryAxis,_super),CategoryAxis.prototype.createDataItem=function(){return new CategoryAxis_CategoryAxisDataItem},CategoryAxis.prototype.createAxisBreak=function(){return new CategoryAxisBreak_CategoryAxisBreak},CategoryAxis.prototype.processSeriesDataItem=function(dataItem,axisLetter){_super.prototype.processSeriesDataItem.call(this,dataItem,axisLetter);var category=dataItem["category"+this.axisLetter];if(Type_hasValue(category)){var categoryAxisDataItem=this.dataItemsByCategory.getKey(category);if(categoryAxisDataItem){var seriesId=dataItem.component.uid,seriesDataItems=categoryAxisDataItem.seriesDataItems[seriesId];seriesDataItems||(seriesDataItems=[],categoryAxisDataItem.seriesDataItems[seriesId]=seriesDataItems),seriesDataItems.push(dataItem)}}else dataItem.component.dataItems.remove(dataItem)},CategoryAxis.prototype.validateDataRange=function(){var _this=this;_super.prototype.validateDataRange.call(this),Iterator_each(this._series.iterator(),(function(series){if(series.xAxis instanceof CategoryAxis&&series.yAxis instanceof CategoryAxis)series.invalidateDataRange();else{var startIndex=_this.positionToIndex(_this.start),endIndex=_this.positionToIndex(_this.end);endIndex>=_this.dataItems.length&&endIndex--;for(var seriesId=series.uid,minIndex=void 0,maxIndex=void 0,i=startIndex;i<=endIndex;i++){var axisDataItem=_this.dataItems.getIndex(i);if(axisDataItem){var seriesDataItems=axisDataItem.seriesDataItems[seriesId];if(seriesDataItems)for(var i_1=0;i_1<seriesDataItems.length;i_1++){var seriesDataItem=seriesDataItems[i_1];if(seriesDataItem){var index=seriesDataItem.index;(!isNumber(minIndex)||index<minIndex)&&(minIndex=index),(!isNumber(maxIndex)||index>maxIndex)&&(maxIndex=index)}}}}isNumber(minIndex)?series.startIndex=minIndex:series.start=_this.start,isNumber(maxIndex)?series.endIndex=maxIndex+1:series.end=_this.end,_this._axisBreaks&&_this._axisBreaks.length>0&&series.invalidateDataRange()}}))},CategoryAxis.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this);var dataCount=this.dataItems.length,startIndex=fitToRange(Math.floor(this.start*dataCount-1),0,dataCount),endIndex=fitToRange(Math.ceil(this.end*dataCount),0,dataCount);this.renderer.invalid&&this.renderer.validate();var maxCount=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),frequency=Math.min(this.dataItems.length,Math.ceil((endIndex-startIndex)/maxCount));if(this._startIndex=Math.floor(startIndex/frequency)*frequency,this._endIndex=Math.ceil(this.end*dataCount),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=frequency,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),startIndex=Math_max(0,this._startIndex-this._frequency),endIndex=Math_min(this.dataItems.length,this._endIndex+this._frequency);for(var itemIndex=0,i=0;i<startIndex;i++){(dataItem=this.dataItems.getIndex(i)).__disabled=!0}i=endIndex;for(var len=this.dataItems.length;i<len;i++){(dataItem=this.dataItems.getIndex(i)).__disabled=!0}for(i=startIndex;i<endIndex;i++)if(i<this.dataItems.length){var dataItem=this.dataItems.getIndex(i);if(i/this._frequency==Math.round(i/this._frequency))this.isInBreak(i)||(this.appendDataItem(dataItem),this.validateDataElement(dataItem,itemIndex)),itemIndex++;else dataItem.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,itemIndex+1,this.dataItems.length),this._axisBreaks)this._axisBreaks.each((function(axisBreak){var adjustedStartValue=axisBreak.adjustedStartValue,adjustedEndValue=axisBreak.adjustedEndValue;if(Math_intersect({start:adjustedStartValue,end:adjustedEndValue},{start:_this._startIndex,end:_this._endIndex})){for(var b=adjustedStartValue;b<=adjustedEndValue;b++){(dataItem=_this.dataItems.getIndex(b)).__disabled=!0}var frequency_1=fitToRange(Math.ceil(_this._frequency/axisBreak.breakSize),1,adjustedEndValue-adjustedStartValue),itemIndex_1=0;if(axisBreak.breakSize>0)for(b=adjustedStartValue;b<=adjustedEndValue;b+=frequency_1){var dataItem;(dataItem=_this.dataItems.getIndex(b)).__disabled=!1,_this.appendDataItem(dataItem),_this.validateDataElement(dataItem,itemIndex_1),itemIndex_1++}}}));this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},CategoryAxis.prototype.validateDataElement=function(dataItem,itemIndex,index){_super.prototype.validateDataElement.call(this,dataItem),dataItem.itemIndex=this._axisItemCount,this._axisItemCount++;var renderer=this.renderer;isNumber(index)||(index=this.categoryToIndex(dataItem.category));var endIndex=this.categoryToIndex(dataItem.endCategory);isNumber(endIndex)||(endIndex=index);var fillEndIndex,fillPosition,fillEndPosition,position=this.indexToPosition(index,dataItem.locations.category),endPosition=this.indexToPosition(endIndex,dataItem.locations.endCategory);dataItem.position=position,dataItem.isRange&&(fillEndIndex=endIndex,fillPosition=this.indexToPosition(index,dataItem.locations.category),fillEndPosition=this.indexToPosition(fillEndIndex,dataItem.locations.endCategory)),dataItem.point=renderer.positionToPoint(position);var tick=dataItem.tick;tick&&!tick.disabled&&renderer.updateTickElement(tick,position,endPosition);var grid=dataItem.grid;grid&&!grid.disabled&&renderer.updateGridElement(grid,position,endPosition);var label=dataItem.label;label&&!label.disabled&&(dataItem.isRange&&null!=label.text||(dataItem.text=dataItem.text),renderer.updateLabelElement(label,position,endPosition),(renderer instanceof AxisRendererY_AxisRendererY&&dataItem.label.measuredWidth>this.ghostLabel.measuredWidth||renderer instanceof AxisRendererX_AxisRendererX&&dataItem.label.measuredHeight>this.ghostLabel.measuredHeight)&&(dataItem.label.html?this.ghostLabel.html=dataItem.label.currentText:this.ghostLabel.text=dataItem.label.currentText));var fill=dataItem.axisFill;fill&&!fill.disabled&&(dataItem.isRange||(fillEndIndex=index+this._frequency,fillPosition=this.indexToPosition(index,fill.location),fillEndPosition=this.indexToPosition(fillEndIndex,fill.location)),renderer.updateFillElement(fill,fillPosition,fillEndPosition),dataItem.isRange||this.fillRule(dataItem,itemIndex)),dataItem.bullet&&renderer.updateBullet(dataItem.bullet,position,endPosition);var mask=dataItem.mask;mask&&renderer.updateFillElement(mask,fillPosition,fillEndPosition)},CategoryAxis.prototype.disposeData=function(){this.dataItemsByCategory.clear(),_super.prototype.disposeData.call(this)},CategoryAxis.prototype.processDataItem=function(dataItem,dataContext){dataItem&&(_super.prototype.processDataItem.call(this,dataItem,dataContext),Type_hasValue(dataItem.category)&&this.dataItemsByCategory.setKey(dataItem.category,dataItem))},CategoryAxis.prototype.getDataItem=function(dataContext){var category=dataContext[this.dataFields.category];if(Type_hasValue(category)){var dataItem=this.dataItemsByCategory.getKey(category);return dataItem||this.dataItems.create()}},CategoryAxis.prototype.indexToPosition=function(index,location){isNumber(location)||(location=.5);var startIndex=this.startIndex,endIndex=this.endIndex,difference=this.adjustDifference(startIndex,endIndex),startLocation=this.startLocation;(difference-=startLocation,difference-=1-this.endLocation,this._axisBreaks)&&Iterator_eachContinue(this._axisBreaks.iterator(),(function(axisBreak){var breakStartIndex=axisBreak.adjustedStartValue,breakEndIndex=axisBreak.adjustedEndValue;if(index<startIndex||!isNumber(breakStartIndex)||!isNumber(breakEndIndex))return!1;if(Math_intersect({start:breakStartIndex,end:breakEndIndex},{start:startIndex,end:endIndex})){breakStartIndex=Math.max(startIndex,breakStartIndex),breakEndIndex=Math.min(endIndex,breakEndIndex);var breakSize=axisBreak.breakSize;index>breakEndIndex?startIndex+=(breakEndIndex-breakStartIndex)*(1-breakSize):index<breakStartIndex||(index=breakStartIndex+(index-breakStartIndex)*breakSize)}return!0}));var deltaPosition=0,dataItem=this.dataItems.getIndex(index);return dataItem&&(deltaPosition=dataItem.deltaPosition),Math_round(deltaPosition+(index+location-startLocation-startIndex)/difference,5)},CategoryAxis.prototype.categoryToPosition=function(category,location){var index=this.categoryToIndex(category);return this.indexToPosition(index,location)},CategoryAxis.prototype.categoryToPoint=function(category,location){var position=this.categoryToPosition(category,location),point=this.renderer.positionToPoint(position),angle=this.renderer.positionToAngle(position);return{x:point.x,y:point.y,angle:angle}},CategoryAxis.prototype.anyToPoint=function(category,location){return this.categoryToPoint(category,location)},CategoryAxis.prototype.anyToPosition=function(category,location){return this.categoryToPosition(category,location)},CategoryAxis.prototype.categoryToIndex=function(category){if(Type_hasValue(category)){var dataItem=this.dataItemsByCategory.getKey(category);if(dataItem)return dataItem.index}},CategoryAxis.prototype.zoomToCategories=function(startCategory,endCategory){this.zoomToIndexes(this.categoryToIndex(startCategory),this.categoryToIndex(endCategory)+1)},CategoryAxis.prototype.getAnyRangePath=function(start,end,startLocation,endLocation){var startPos=this.categoryToPosition(start,startLocation),endPos=this.categoryToPosition(end,endLocation);return this.getPositionRangePath(startPos,endPos)},CategoryAxis.prototype.roundPosition=function(position,location){var index=this.positionToIndex(position);return this.indexToPosition(index,location)},CategoryAxis.prototype.getFirstSeriesDataItem=function(series,category){for(var i=0;i<series.dataItems.length;i++){var dataItem=series.dataItems.getIndex(i);if(series.xAxis==this&&dataItem.categoryX==category)return dataItem;if(series.yAxis==this&&dataItem.categoryY==category)return dataItem}},CategoryAxis.prototype.getLastSeriesDataItem=function(series,category){for(var i=series.dataItems.length-1;i>=0;i--){var dataItem=series.dataItems.getIndex(i);if(series.xAxis==this&&dataItem.categoryX==category)return dataItem;if(series.yAxis==this&&dataItem.categoryY==category)return dataItem}},CategoryAxis.prototype.getSeriesDataItemByCategory=function(category,series){var seriesDataItem,_this=this;return series.dataItems.each((function(dataItem){series.xAxis==_this?dataItem.categoryX==category&&(seriesDataItem=dataItem):series.yAxis==_this&&dataItem.categoryY==category&&(seriesDataItem=dataItem)})),seriesDataItem},CategoryAxis.prototype.getSeriesDataItem=function(series,position,findNearest){var _this=this;if(isNumber(position)){var index_1=this.positionToIndex(position);index_1>=this.dataItems.length&&index_1--;var dataItem=this.dataItems.getIndex(index_1);if(dataItem){var sdi_1,category_1=dataItem.category,seriesDataItem=series.dataItems.getIndex(index_1);if(seriesDataItem){if(series.xAxis==this&&seriesDataItem.categoryX==category_1)return seriesDataItem;if(series.yAxis==this&&seriesDataItem.categoryY==category_1)return seriesDataItem}return series.dataItems.each((function(dataItem){series.xAxis==_this&&dataItem.categoryX==category_1&&(sdi_1||(sdi_1=dataItem),Math.abs(index_1-sdi_1.index)>Math.abs(index_1-dataItem.index)&&(sdi_1=dataItem)),series.yAxis==_this&&dataItem.categoryY==category_1&&(sdi_1||(sdi_1=dataItem),Math.abs(index_1-sdi_1.index)>Math.abs(index_1-dataItem.index)&&(sdi_1=dataItem))})),sdi_1}}},CategoryAxis.prototype.getX=function(dataItem,key,location,stackKey,range){var position=this.getPositionX(dataItem,key,location,stackKey,range);return Type_isNaN(position)?this.basePoint.x:this.renderer.positionToPoint(position).x},CategoryAxis.prototype.getPositionX=function(dataItem,key,location,stackKey,range){var position;return Type_hasValue(key)&&(position=this.categoryToPosition(dataItem.categories[key],location)),range&&(position=fitToRange(position,range.start,range.end)),position},CategoryAxis.prototype.getY=function(dataItem,key,location,stackKey,range){var position=this.getPositionY(dataItem,key,location,stackKey,range);return Type_isNaN(position)?this.basePoint.y:this.renderer.positionToPoint(position).y},CategoryAxis.prototype.getPositionY=function(dataItem,key,location,stackKey,range){var position;return Type_hasValue(key)&&(position=this.categoryToPosition(dataItem.categories[key],location)),range&&(position=fitToRange(position,range.start,range.end)),position},CategoryAxis.prototype.getAngle=function(dataItem,key,location,stackKey,range){var position=this.categoryToPosition(dataItem.categories[key],location);return range&&(position=fitToRange(position,range.start,range.end)),this.positionToAngle(position)},CategoryAxis.prototype.getCellStartPosition=function(position){return this.roundPosition(position,0)},CategoryAxis.prototype.getCellEndPosition=function(position){return this.roundPosition(position,1)},CategoryAxis.prototype.getTooltipText=function(position){var dataItem=this.dataItems.getIndex(this.positionToIndex(position));if(dataItem)return this.tooltipDataItem=dataItem,this.tooltip.dataItem=dataItem,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",dataItem.category):dataItem.category},CategoryAxis.prototype.positionToIndex=function(position){(position=Math_round(position,10))<0&&(position=0),position>1&&(position=1);var startIndex=this.startIndex,endIndex=this.endIndex,difference=endIndex-startIndex-this.startLocation-(1-this.endLocation);position+=1/difference*this.startLocation;var index=null;this._axisBreaks&&Iterator_eachContinue(this._axisBreaks.iterator(),(function(axisBreak){var breakStartPosition=axisBreak.startPosition,breakEndPosition=axisBreak.endPosition,breakStartIndex=axisBreak.adjustedStartValue,breakEndIndex=axisBreak.adjustedEndValue;breakStartIndex=Math_max(breakStartIndex,startIndex),breakEndIndex=Math_min(breakEndIndex,endIndex);var breakSize=axisBreak.breakSize;if(difference-=(breakEndIndex-breakStartIndex)*(1-breakSize),position>breakEndPosition)startIndex+=(breakEndIndex-breakStartIndex)*(1-breakSize);else if(!(position<breakStartPosition)){var breakPosition=(position-breakStartPosition)/(breakEndPosition-breakStartPosition);return index=breakStartIndex+Math.round(breakPosition*(breakEndIndex-breakStartIndex)),!1}return!0}));return isNumber(index)||(index=Math.floor(position*difference+startIndex)),index>=this.dataItems.length&&(index=this.dataItems.length-1),index},CategoryAxis.prototype.positionToCategory=function(position){return this.getPositionLabel(position)},CategoryAxis.prototype.getPositionLabel=function(position){var dataItem=this.dataItems.getIndex(this.positionToIndex(position));if(dataItem)return dataItem.category},Object.defineProperty(CategoryAxis.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),CategoryAxis.prototype.initRenderer=function(){_super.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(CategoryAxis.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(CategoryAxis.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(value){this.setPropertyValue("sortBySeries",value,!0)},enumerable:!0,configurable:!0}),CategoryAxis.prototype.processConfig=function(config){config&&Type_hasValue(config.sortBySeries)&&isString(config.sortBySeries)&&(this.map.hasKey(config.sortBySeries)?config.sortBySeries=this.map.getKey(config.sortBySeries):(this.addDelayedMap("sortBySeries",config.sortBySeries),delete config.sortBySeries)),_super.prototype.processConfig.call(this,config)},CategoryAxis}(Axis_Axis);Registry_registry.registeredClasses.CategoryAxis=CategoryAxis_CategoryAxis,Registry_registry.registeredClasses.CategoryAxisDataItem=CategoryAxis_CategoryAxisDataItem;var XYSeries_XYSeriesDataItem=function(_super){function XYSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="XYSeriesDataItem",_this.values.customValue={},_this.values.valueX={stack:0},_this.values.valueY={stack:0},_this.values.openValueX={},_this.values.openValueY={},_this.values.dateX={},_this.values.dateY={},_this.values.openDateX={},_this.values.openDateY={},_this.setLocation("dateX",.5,0),_this.setLocation("dateY",.5,0),_this.setLocation("categoryX",.5,0),_this.setLocation("categoryY",.5,0),_this.applyTheme(),_this}return Object(tslib_es6.d)(XYSeriesDataItem,_super),Object.defineProperty(XYSeriesDataItem.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(value){this.setValue("valueX",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(value){this.setValue("customValue",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(value){this.setValue("valueY",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(date){this.setDate("dateX",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(date){this.setDate("dateY",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(category){this.setCategory("categoryX",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(category){this.setCategory("categoryY",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(value){this.setValue("openValueX",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(value){this.setValue("openValueY",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(date){this.setDate("openDateX",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(date){this.setDate("openDateY",date)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(category){this.setCategory("openCategoryX",category)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeriesDataItem.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(category){this.setCategory("openCategoryY",category)},enumerable:!0,configurable:!0}),XYSeriesDataItem.prototype.getMin=function(fields,working,stackValue){var min,_this=this;return isNumber(stackValue)||(stackValue=0),each(fields,(function(field){var value;value=working?_this.getWorkingValue(field):_this.getValue(field),((value+=stackValue)<min||!isNumber(min))&&(min=value)})),min},XYSeriesDataItem.prototype.getMax=function(fields,working,stackValue){var max,_this=this;return isNumber(stackValue)||(stackValue=0),each(fields,(function(field){var value;value=working?_this.getWorkingValue(field):_this.getValue(field),((value+=stackValue)>max||!isNumber(max))&&(max=value)})),max},XYSeriesDataItem}(Series_SeriesDataItem),XYSeries_XYSeries=function(_super){function XYSeries(){var _this=_super.call(this)||this;return _this.groupFields={},_this._xAxis=new Disposer_MutableValueDisposer,_this._yAxis=new Disposer_MutableValueDisposer,_this._xValueFields=[],_this._yValueFields=[],_this._baseInterval={},_this.dataGrouped=!1,_this.usesShowFields=!1,_this._dataSetChanged=!1,_this._maxxX=1e5,_this._maxxY=1e5,_this._propertiesChanged=!1,_this.className="XYSeries",_this.isMeasured=!1,_this.groupFields.valueX="close",_this.groupFields.valueY="close",_this.groupFields.customValue="close",_this.groupFields.openValueX="open",_this.groupFields.openValueY="open",_this.cursorTooltipEnabled=!0,_this.cursorHoverEnabled=!0,_this.excludeFromTotal=!1,_this.mainContainer.mask=new Sprite_Sprite,_this.mainContainer.mask.setElement(_this.paper.add("path")),_this.stacked=!1,_this.snapTooltip=!1,_this._showBullets=!1,_this.tooltip.pointerOrientation="horizontal",_this.properties.stackToNegative=!0,_this.hideTooltipWhileZooming=!0,_this.setPropertyValue("maskBullets",!0),_this.tooltip.events.on("hidden",(function(){_this.returnBulletDefaultState()}),void 0,!1),_this._disposers.push(_this._xAxis),_this._disposers.push(_this._yAxis),_this.observe(visualProperties,(function(){_this.inited&&(_this._propertiesChanged=!0,_this.legendDataItem&&(_this.legendDataItem.childrenCreated=!1),_this.chart&&_this.chart.legend&&_this.chart.legend.invalidateDataItems(),_this.invalidate())}),void 0,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(XYSeries,_super),XYSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},XYSeries.prototype.createDataItem=function(){return new XYSeries_XYSeriesDataItem},XYSeries.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},XYSeries.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},XYSeries.prototype.validateData=function(){this._baseInterval={};var dataFields=this.dataFields;if(dataFields.valueYShow||dataFields.openValueXShow||dataFields.openValueXShow||dataFields.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),_super.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!Type_hasValue(this.dataFields[this._xField])||!Type_hasValue(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},XYSeries.prototype.processDataItem=function(dataItem,dataContext){try{_super.prototype.processDataItem.call(this,dataItem,dataContext),this.xAxis.processSeriesDataItem(dataItem,"X"),this.yAxis.processSeriesDataItem(dataItem,"Y"),this.setInitialWorkingValues(dataItem)}catch(e){this._chart&&this._chart.raiseCriticalError(e)}},XYSeries.prototype.updateDataItem=function(dataItem){_super.prototype.updateDataItem.call(this,dataItem),this.xAxis.processSeriesDataItem(dataItem,"X"),this.yAxis.processSeriesDataItem(dataItem,"Y")},XYSeries.prototype.setInitialWorkingValues=function(dataItem){},XYSeries.prototype.disposeData=function(){_super.prototype.disposeData.call(this);var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis){var dataItemsX=this.dataItemsByAxis.getKey(xAxis.uid);dataItemsX&&dataItemsX.clear(),xAxis instanceof CategoryAxis_CategoryAxis&&this.clearCatAxis(xAxis)}if(yAxis){var dataItemsY=this.dataItemsByAxis.getKey(yAxis.uid);dataItemsY&&dataItemsY.clear(),yAxis instanceof CategoryAxis_CategoryAxis&&this.clearCatAxis(yAxis)}},XYSeries.prototype.clearCatAxis=function(axis){var uid=this.uid;axis.dataItems.each((function(dataItem){dataItem.seriesDataItems[uid]&&(dataItem.seriesDataItems[uid]=[])}))},XYSeries.prototype.defineFields=function(){var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis&&yAxis){var xAxisFieldName=xAxis.axisFieldName,xField=xAxisFieldName+"X",xOpenField="open"+capitalize(xAxisFieldName)+"X",yAxisFieldName=yAxis.axisFieldName,yField=yAxisFieldName+"Y",yOpenField="open"+capitalize(yAxisFieldName)+"Y";this._xField=xField,this._yField=yField,this.dataFields[xOpenField]&&(this._xOpenField=xOpenField),this.dataFields[yOpenField]&&(this._yOpenField=yOpenField),this.dataFields[yOpenField]||this.baseAxis!=yAxis||(this._yOpenField=yField),this.dataFields[xOpenField]||this.baseAxis!=xAxis||(this._xOpenField=xField),this.stacked&&this.baseAxis==xAxis&&(this._xOpenField=xField),this.stacked&&this.baseAxis==yAxis&&(this._yOpenField=yField),xAxis instanceof CategoryAxis_CategoryAxis&&yAxis instanceof CategoryAxis_CategoryAxis&&(this._yOpenField||(this._yOpenField=yField)),this._xValueFields=[],this._yValueFields=[],this.addValueField(xAxis,this._xValueFields,this._xField),this.addValueField(xAxis,this._xValueFields,this._xOpenField),this.addValueField(yAxis,this._yValueFields,this._yField),this.addValueField(yAxis,this._yValueFields,this._yOpenField)}},XYSeries.prototype.addValueField=function(axis,fields,field){axis instanceof ValueAxis_ValueAxis&&Type_hasValue(this.dataFields[field])&&-1==fields.indexOf(field)&&fields.push(field)},XYSeries.prototype.setCategoryAxisField=function(field,axis){Type_hasValue(this.dataFields[field])||(this.dataFields[field]=axis.dataFields.category)},XYSeries.prototype.setDateAxisField=function(field,axis){Type_hasValue(this.dataFields[field])||(this.dataFields[field]=axis.dataFields.date)},XYSeries.prototype.afterDraw=function(){_super.prototype.afterDraw.call(this),this.createMask()},XYSeries.prototype.createMask=function(){if(this.mainContainer.mask){var path_1=this.getMaskPath();Iterator_each(this.axisRanges.iterator(),(function(range){range.axisFill.fillPath&&(range.axisFill.validate(),path_1+=range.axisFill.fillPath)})),this.mainContainer.mask.path=path_1}},XYSeries.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?rectToPath({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},XYSeries.prototype.getAxisField=function(axis){return axis==this.xAxis?this.xField:axis==this.yAxis?this.yField:void 0},XYSeries.prototype.validateDataItems=function(){var chart=this.chart;chart&&(this._maxxX=Math_max(1e5,2*chart.plotContainer.maxWidth),this._maxxY=Math_max(1e5,2*chart.plotContainer.maxHeight));var xAxis=this.xAxis,yAxis=this.yAxis;xAxis&&yAxis&&(xAxis.updateAxisBySeries(),yAxis.updateAxisBySeries()),_super.prototype.validateDataItems.call(this),xAxis&&yAxis&&(xAxis.postProcessSeriesDataItems(this),yAxis.postProcessSeriesDataItems(this))},XYSeries.prototype.validateDataRange=function(){var xAxis=this.xAxis,yAxis=this.yAxis;xAxis&&yAxis&&(xAxis.dataRangeInvalid&&xAxis.validateDataRange(),yAxis.dataRangeInvalid&&yAxis.validateDataRange()),_super.prototype.validateDataRange.call(this)},XYSeries.prototype.validate=function(){var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis&&yAxis){xAxis.invalid&&xAxis.validate(),yAxis.invalid&&yAxis.validate(),this.y=yAxis.pixelY,this.x=xAxis.pixelX,this._showBullets=!0;var minBulletDistance=this.minBulletDistance;isNumber(minBulletDistance)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<minBulletDistance&&(this._showBullets=!1)}if(this.updateTooltip(),!(xAxis instanceof DateAxis_DateAxis&&xAxis.groupData&&!this.dataGrouped||yAxis instanceof DateAxis_DateAxis&&yAxis.groupData&&!this.dataGrouped)){_super.prototype.validate.call(this);var chart=this.chart,maskBullets=this.maskBullets;chart&&maskBullets&&"XYChart"==chart.className&&("vertical"!=chart.leftAxesContainer.layout&&"vertical"!=chart.rightAxesContainer.layout||(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),"horizontal"!=chart.topAxesContainer.layout&&"horizontal"!=chart.bottomAxesContainer.layout||(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(XYSeries.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var axis=this.chart.xAxes.getIndex(0);if(!axis)throw Error("There are no X axes on chart.");this.xAxis=axis}return this._xAxis.get()}},set:function(axis){this.setXAxis(axis)},enumerable:!0,configurable:!0}),XYSeries.prototype.setXAxis=function(axis){var oldAxis=this._xAxis.get();oldAxis!=axis&&(oldAxis&&(this.dataItemsByAxis.removeKey(oldAxis.uid),this._xAxis.dispose(),oldAxis.series.removeValue(this)),this._xAxis.set(axis,axis.registerSeries(this)),this.dataItemsByAxis.setKey(axis.uid,new Dictionary_Dictionary),this.invalidateData())},Object.defineProperty(XYSeries.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var axis=this.chart.yAxes.getIndex(0);if(!axis)throw Error("There are no Y axes on chart.");this.yAxis=axis}return this._yAxis.get()}},set:function(axis){this.setYAxis(axis)},enumerable:!0,configurable:!0}),XYSeries.prototype.setYAxis=function(axis){var oldAxis=this._yAxis.get();oldAxis!=axis&&(oldAxis&&(this.dataItemsByAxis.removeKey(oldAxis.uid),this._yAxis.dispose(),oldAxis.series.removeValue(this)),this._yAxis.set(axis,axis.registerSeries(this)),axis.chart instanceof XYChart_XYChart&&axis.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(axis.uid,new Dictionary_Dictionary),this.invalidateData())},Object.defineProperty(XYSeries.prototype,"baseAxis",{get:function(){var xAxis=this.xAxis,yAxis=this.yAxis;return!this._baseAxis&&xAxis&&yAxis&&(yAxis instanceof DateAxis_DateAxis&&(this._baseAxis=yAxis),xAxis instanceof DateAxis_DateAxis&&(this._baseAxis=xAxis),yAxis instanceof CategoryAxis_CategoryAxis&&(this._baseAxis=yAxis),xAxis instanceof CategoryAxis_CategoryAxis&&(this._baseAxis=xAxis),this._baseAxis||(this._baseAxis=xAxis)),this._baseAxis},set:function(value){this._baseAxis!=value&&(this._baseAxis=value,this.invalidate())},enumerable:!0,configurable:!0}),XYSeries.prototype.addData=function(rawDataItem,removeCount,skipRaw){_super.prototype.addData.call(this,rawDataItem,removeCount,skipRaw),this.scrollbarSeries&&this.scrollbarSeries.addData(rawDataItem,removeCount,!0)},XYSeries.prototype.setData=function(value){_super.prototype.setData.call(this,value),this.scrollbarSeries&&this.scrollbarSeries.setData(value)},XYSeries.prototype.setDataSet=function(id){var changed=_super.prototype.setDataSet.call(this,id);if(changed){this._dataSetChanged=!0;var dataItems=this.dataItems;this.resetExtremes();var xAxis=this.xAxis,yAxis=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),xAxis instanceof DateAxis_DateAxis&&xAxis==this.baseAxis&&(this._tmin.setKey(xAxis.uid,dataItems.getIndex(0).dateX.getTime()),this._tmax.setKey(xAxis.uid,dataItems.getIndex(dataItems.length-1).dateX.getTime()),this.dispatch("extremeschanged")),yAxis instanceof DateAxis_DateAxis&&yAxis==this.baseAxis&&(this._tmin.setKey(yAxis.uid,dataItems.getIndex(0).dateY.getTime()),this._tmax.setKey(yAxis.uid,dataItems.getIndex(dataItems.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}return changed},XYSeries.prototype.processValues=function(working){_super.prototype.processValues.call(this,working);var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis&&yAxis){var dataItems=this.dataItems,minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0,startIndex=this.startIndex,endIndex=this.endIndex,workingStartIndex=startIndex,workingEndIndex=endIndex;working||(startIndex=0,endIndex=this.dataItems.length);for(var i=startIndex;i<endIndex;i++){var dataItem=dataItems.getIndex(i);this.getStackValue(dataItem,working);var stackX=dataItem.getValue("valueX","stack"),stackY=dataItem.getValue("valueY","stack");minX=Math_min(dataItem.getMin(this._xValueFields,working,stackX),minX),minY=Math_min(dataItem.getMin(this._yValueFields,working,stackY),minY),maxX=Math_max(dataItem.getMax(this._xValueFields,working,stackX),maxX),maxY=Math_max(dataItem.getMax(this._yValueFields,working,stackY),maxY),this.stacked&&(this.baseAxis==xAxis&&(stackY<minY&&(minY=stackY),stackY>maxY&&(maxY=stackY)),this.baseAxis==yAxis&&(stackX<minX&&(minX=stackX),stackX>maxX&&(maxX=stackX)))}xAxis.processSeriesDataItems(),yAxis.processSeriesDataItems();var xAxisId=xAxis.uid,yAxisId=yAxis.uid;if(this.xAxis instanceof ValueAxis_ValueAxis&&(minX==1/0||maxX==-1/0))return this._smin.setKey(xAxisId,void 0),this._smax.setKey(xAxisId,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof ValueAxis_ValueAxis&&(minY==1/0||maxY==-1/0))return this._smin.setKey(yAxisId,void 0),this._smax.setKey(yAxisId,void 0),void this.dispatchImmediately("selectionextremeschanged");if(!working&&(this._tmin.getKey(xAxisId)!=minX||this._tmax.getKey(xAxisId)!=maxX||this._tmin.getKey(yAxisId)!=minY||this._tmax.getKey(yAxisId)!=maxY)){this._tmin.setKey(xAxisId,minX),this._tmax.setKey(xAxisId,maxX),this._tmin.setKey(yAxisId,minY),this._tmax.setKey(yAxisId,maxY);var stackedSeries=this.stackedSeries;stackedSeries&&(stackedSeries.isDisposed()?this.stackedSeries=void 0:stackedSeries.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(startIndex!=workingStartIndex||endIndex!=workingEndIndex){minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;for(i=workingStartIndex;i<workingEndIndex;i++){dataItem=dataItems.getIndex(i);this.getStackValue(dataItem,working);stackX=dataItem.getValue("valueX","stack"),stackY=dataItem.getValue("valueY","stack");minX=Math_min(dataItem.getMin(this._xValueFields,working,stackX),minX),minY=Math_min(dataItem.getMin(this._yValueFields,working,stackY),minY),maxX=Math_max(dataItem.getMax(this._xValueFields,working,stackX),maxX),maxY=Math_max(dataItem.getMax(this._yValueFields,working,stackY),maxY),this.stacked&&(this.baseAxis==xAxis&&(stackY<minY&&(minY=stackY),stackY>maxY&&(maxY=stackY)),this.baseAxis==yAxis&&(stackX<minX&&(minX=stackX),stackX>maxX&&(maxX=stackX)))}}if(this.xAxis instanceof ValueAxis_ValueAxis&&(minX==1/0||maxX==-1/0))return this._smin.setKey(xAxisId,void 0),this._smax.setKey(xAxisId,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof ValueAxis_ValueAxis&&(minY==1/0||maxY==-1/0))return this._smin.setKey(yAxisId,void 0),this._smax.setKey(yAxisId,void 0),void this.dispatchImmediately("selectionextremeschanged");if((this._smin.getKey(xAxisId)!=minX||this._smax.getKey(xAxisId)!=maxX||this._smin.getKey(yAxisId)!=minY||this._smax.getKey(yAxisId)!=maxY)&&(this._smin.setKey(xAxisId,minX),this._smax.setKey(xAxisId,maxX),this._smin.setKey(yAxisId,minY),this._smax.setKey(yAxisId,maxY),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var tmin,tmax,changed=!1;if(yAxis instanceof ValueAxis_ValueAxis&&!(yAxis instanceof DateAxis_DateAxis))(!isNumber(tmin=this._tmin.getKey(yAxisId))||(this.usesShowFields||this._dataSetChanged||xAxis instanceof DateAxis_DateAxis&&xAxis.groupData&&this.isShowing)&&minY<tmin||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(yAxisId,minY),changed=!0),(!isNumber(tmax=this._tmax.getKey(yAxisId))||(this.usesShowFields||this._dataSetChanged||xAxis instanceof DateAxis_DateAxis&&xAxis.groupData&&this.isShowing)&&maxY>tmax||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(yAxisId,maxY),changed=!0);if(xAxis instanceof ValueAxis_ValueAxis&&!(xAxis instanceof DateAxis_DateAxis))(!isNumber(tmin=this._tmin.getKey(xAxisId))||(this.usesShowFields||this._dataSetChanged||yAxis instanceof DateAxis_DateAxis&&yAxis.groupData&&this.isShowing)&&minX<tmin||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(xAxisId,minX),changed=!0),(!isNumber(tmax=this._tmax.getKey(xAxisId))||(this.usesShowFields||this._dataSetChanged||yAxis instanceof DateAxis_DateAxis&&yAxis.groupData&&this.isShowing)&&maxX>tmax||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(xAxisId,maxX),changed=!0);changed&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!working&&this.stacked&&this.processValues(!0)}},XYSeries.prototype.hideTooltip=function(duration){_super.prototype.hideTooltip.call(this,duration),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},XYSeries.prototype.showTooltipAtPosition=function(xPosition,yPosition){var dataItem;if(this.visible&&!this.isHiding&&!this.isShowing){var xAxis=this._xAxis.get(),yAxis=this._yAxis.get();xAxis==this.baseAxis&&(dataItem=xAxis.getSeriesDataItem(this,xAxis.toAxisPosition(xPosition),this.snapTooltip)),yAxis==this.baseAxis&&(dataItem=yAxis.getSeriesDataItem(this,yAxis.toAxisPosition(yPosition),this.snapTooltip));var point=this.showTooltipAtDataItem(dataItem);if(point)return point;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},XYSeries.prototype.getAdjustedXLocation=function(dataItem,field,bulletLocationX){return dataItem.locations[field]},XYSeries.prototype.getAdjustedYLocation=function(dataItem,field,bulletLocationY){return dataItem.locations[field]},XYSeries.prototype.showTooltipAtDataItem=function(dataItem){var e_1,_a,cursor=this.chart.cursor;if(cursor&&cursor.hideSeriesTooltipsOnSelection&&cursor.selection.visible&&cursor.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(dataItem),dataItem&&dataItem.visible){if(this.updateLegendValue(dataItem),this.cursorTooltipEnabled){this.tooltipDataItem=dataItem;var tooltipXField=this.tooltipXField,tooltipYField=this.tooltipYField;if(Type_hasValue(dataItem[tooltipXField])&&Type_hasValue(dataItem[tooltipYField])){var tooltipPoint=this.getPoint(dataItem,tooltipXField,tooltipYField,this.getAdjustedXLocation(dataItem,tooltipXField),this.getAdjustedYLocation(dataItem,tooltipYField));if(tooltipPoint&&("XYChart"!=this.chart.className||!(tooltipPoint.y<-1||tooltipPoint.y>this.yAxis.pixelHeight+1||tooltipPoint.x<-1||tooltipPoint.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=tooltipPoint.x,this.tooltipY=tooltipPoint.y,this._prevTooltipDataItem!=dataItem&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:dataItem}),this._prevTooltipDataItem=dataItem),this.cursorHoverEnabled)try{for(var _b=Object(tslib_es6.k)(dataItem.sprites),_c=_b.next();!_c.done;_c=_b.next()){var sprite=_c.value;!sprite.parent.visible||sprite.isHidden||sprite.__disabled||sprite.disabled||sprite.isHiding||(sprite.interactions.isRealHover||(sprite.dispatchImmediately("over"),sprite.interactions.isRealHover=!0),sprite.isHover=!0)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return this.showTooltip()?spritePointToSvg({x:tooltipPoint.x,y:tooltipPoint.y},this):void 0}}}}else this.updateLegendValue(dataItem,!0)},XYSeries.prototype.returnBulletDefaultState=function(dataItem){var e_2,_a;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=dataItem)try{for(var _b=Object(tslib_es6.k)(this._prevTooltipDataItem.sprites),_c=_b.next();!_c.done;_c=_b.next()){var sprite=_c.value;if(sprite.isDisposed())this._prevTooltipDataItem=void 0;else{var fireEvent=sprite.interactions.isRealHover;sprite.isHover=!1,fireEvent&&sprite.dispatchImmediately("out")}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}},XYSeries.prototype.shouldCreateBullet=function(dataItem,bulletTemplate){var xField=bulletTemplate.xField;Type_hasValue(xField)||(xField=this.xField);var yField=bulletTemplate.yField;if(Type_hasValue(yField)||(yField=this.yField),this.xAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([xField])||this.yAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([yField]))return!1;if(bulletTemplate.disabled){var disabledField=bulletTemplate.propertyFields.disabled,dataContext=dataItem.dataContext;return!(!dataContext||!1!==dataContext[disabledField])}return!0},XYSeries.prototype.updateTooltip=function(){this.hideTooltipWhileZooming||!this.tooltip||this.tooltip.isHidden||this.isHiding||this.isHidden||!this.tooltipDataItem||this.showTooltipAtDataItem(this.tooltipDataItem)},XYSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var dataItem=bullet.dataItem,xField=bullet.xField;Type_hasValue(xField)||(xField=this.xField);var yField=bullet.yField;Type_hasValue(yField)||(yField=this.yField);var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([xField])||yAxis instanceof ValueAxis_ValueAxis&&!dataItem.hasValue([yField]))bullet.visible=!1;else{var bulletLocationX=this.getBulletLocationX(bullet,xField),bulletLocationY=this.getBulletLocationY(bullet,yField);if(this.getPoint(dataItem,xField,yField,bulletLocationX,bulletLocationY)){var xOpenField=this.xOpenField,yOpenField=this.yOpenField,positionX=void 0,positionY=void 0;if(xAxis instanceof DateAxis_DateAxis){isNumber(bulletLocationX)||(bulletLocationX=0);var openValue=void 0,closeValue=dataItem.getWorkingValue(xField);if(xOpenField?openValue=dataItem.getWorkingValue(xOpenField):xAxis==this.baseAxis&&(openValue=xAxis.baseValue),isNumber(openValue)||(openValue=closeValue),(openValue+=stack=dataItem.getValue("valueX","stack"))==(closeValue+=stack)){var baseInterval=xAxis.baseInterval,dateFormatter=xAxis.dateFormatter;openValue=Time_round(new Date(openValue),baseInterval.timeUnit,baseInterval.count,dateFormatter.firstDayOfWeek,dateFormatter.utc).getTime(),closeValue=Time_add(new Date(openValue),baseInterval.timeUnit,baseInterval.count,dateFormatter.utc).getTime()}var middleValue=void 0;middleValue=xAxis==this.baseAxis?openValue+(closeValue-openValue)*bulletLocationX:openValue+(closeValue-openValue)*(1-bulletLocationX),positionX=xAxis.valueToPosition(middleValue)}else if(xAxis instanceof ValueAxis_ValueAxis){isNumber(bulletLocationX)||(bulletLocationX=0);openValue=void 0,closeValue=dataItem.getWorkingValue(xField);openValue=xOpenField?dataItem.getWorkingValue(xOpenField):xAxis.baseValue;middleValue=(openValue+=stack=dataItem.getValue("valueX","stack"))+((closeValue+=stack)-openValue)*(1-bulletLocationX);positionX=xAxis.valueToPosition(middleValue)}else if(xAxis instanceof CategoryAxis_CategoryAxis){var rightLocation=this.getAdjustedXLocation(dataItem,xField,bullet.locationX),leftLocation=this.getAdjustedXLocation(dataItem,xOpenField,bullet.locationX);positionX=xAxis.categoryToPosition(dataItem[xField],rightLocation);var openPositionX=void 0;xOpenField&&(openPositionX=xAxis.categoryToPosition(dataItem[xOpenField],leftLocation)),isNumber(openPositionX)||(openPositionX=1),positionX=openPositionX+(positionX-openPositionX)*bulletLocationX}if(yAxis instanceof DateAxis_DateAxis){isNumber(bulletLocationY)||(bulletLocationY=0);openValue=void 0,closeValue=dataItem.getWorkingValue(yField);if(yOpenField?openValue=dataItem.getWorkingValue(yOpenField):yAxis==this.baseAxis&&(openValue=yAxis.baseValue),isNumber(openValue)||(openValue=closeValue),(openValue+=stack=dataItem.getValue("valueY","stack"))==(closeValue+=stack)){baseInterval=yAxis.baseInterval,dateFormatter=yAxis.dateFormatter;openValue=Time_round(new Date(openValue),baseInterval.timeUnit,baseInterval.count,dateFormatter.firstDayOfWeek,dateFormatter.utc).getTime(),closeValue=Time_add(new Date(openValue),baseInterval.timeUnit,baseInterval.count,dateFormatter.utc).getTime()}middleValue=void 0;middleValue=yAxis==this.baseAxis?openValue+(closeValue-openValue)*bulletLocationY:openValue+(closeValue-openValue)*(1-bulletLocationY),positionY=yAxis.valueToPosition(middleValue)}else if(yAxis instanceof ValueAxis_ValueAxis){isNumber(bulletLocationY)||(bulletLocationY=0);var stack;openValue=void 0,closeValue=dataItem.getWorkingValue(yField);openValue=yOpenField?dataItem.getWorkingValue(yOpenField):yAxis.baseValue;middleValue=(openValue+=stack=dataItem.getValue("valueY","stack"))+((closeValue+=stack)-openValue)*(1-bulletLocationY);positionY=yAxis.valueToPosition(middleValue)}else if(yAxis instanceof CategoryAxis_CategoryAxis){positionY=yAxis.categoryToPosition(dataItem[yField],bulletLocationY);var topLocation=this.getAdjustedYLocation(dataItem,yField,bullet.locationY),bottomLocation=this.getAdjustedYLocation(dataItem,yOpenField,bullet.locationY);positionY=yAxis.categoryToPosition(dataItem[yField],topLocation);var openPositionY=void 0;yOpenField&&(openPositionY=yAxis.categoryToPosition(dataItem[yOpenField],bottomLocation)),isNumber(openPositionY)||(openPositionY=1),positionY=openPositionY+(positionY-openPositionY)*bulletLocationY}bullet.visible=!0,this.positionBulletReal(bullet,positionX,positionY)}else bullet.visible=!1}},XYSeries.prototype.positionBulletReal=function(bullet,positionX,positionY){bullet.x=this.xAxis.renderer.positionToPoint(positionX,positionY).x,bullet.y=this.yAxis.renderer.positionToPoint(positionY,positionX).y},XYSeries.prototype.getBulletLocationX=function(bullet,field){var bulletLocation=bullet.locationX,dataItem=bullet.dataItem;return isNumber(bulletLocation)||(bulletLocation=dataItem.workingLocations[field]),bulletLocation},XYSeries.prototype.getBulletLocationY=function(bullet,field){var bulletLocation=bullet.locationY,dataItem=bullet.dataItem;return isNumber(bulletLocation)||(bulletLocation=dataItem.workingLocations[field]),bulletLocation},XYSeries.prototype.updateStacking=function(){var _this=this;this.invalidateDataItems(),this.chart&&this.chart.series.each((function(series){series.baseAxis==_this.baseAxis&&(series.stackedSeries=void 0,series.invalidateDataItems(),series.invalidateProcessedData())}))},Object.defineProperty(XYSeries.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(stacked){if(this.setPropertyValue("stacked",stacked,!0)){this.updateStacking();var field_1,xAxis=this.xAxis,yAxis=this.yAxis;if(!stacked)xAxis!=this.baseAxis&&xAxis instanceof ValueAxis_ValueAxis&&(field_1=this.xField),yAxis!=this.baseAxis&&yAxis instanceof ValueAxis_ValueAxis&&(field_1=this.yField),field_1&&this.dataItems.each((function(dataItem){dataItem.setCalculatedValue(field_1,0,"stack")}))}},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(value){this.setPropertyValue("snapTooltip",value)},enumerable:!0,configurable:!0}),XYSeries.prototype.show=function(duration){var fields,_this=this;this.appeared&&this.xAxis instanceof DateAxis_DateAxis&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof DateAxis_DateAxis&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)),this.xAxis instanceof ValueAxis_ValueAxis&&this.xAxis!=this.baseAxis&&(fields=this._xValueFields),this.yAxis instanceof ValueAxis_ValueAxis&&this.yAxis!=this.baseAxis&&(fields=this._yValueFields);var anim,startIndex=this.startIndex,endIndex=this.endIndex,delay=0,interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Options_options.animationsEnabled||(interpolationDuration=0),Iterator_each(indexed(this.dataItems.iterator()),(function(a){var i=a[0],dataItem=a[1],realDuration=interpolationDuration;(i<_this.startIndex-10||i>_this.endIndex+10)&&(realDuration=0,delay=0),_this.sequencedInterpolation&&realDuration>0&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),anim=dataItem.show(realDuration,delay,fields)})),this.dataSets.each((function(key,dataSet){dataSet!=_this.dataItems&&dataSet.each((function(dataItem){dataItem.events.disable(),dataItem.show(0,0,fields),dataItem.events.enable()}))})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(dataItem){dataItem.events.disable(),dataItem.show(0,0,fields),dataItem.events.enable()}));var animation=_super.prototype.show.call(this,duration);return anim&&!anim.isFinished()&&(animation=anim),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),animation},XYSeries.prototype.hide=function(duration){var fields,value,_this=this,xAxis=this.xAxis;xAxis instanceof ValueAxis_ValueAxis&&xAxis!=this.baseAxis&&(fields=this._xValueFields,value=this.stacked||xAxis.minZoomed<xAxis.baseValue&&xAxis.maxZoomed>xAxis.baseValue||this.stackedSeries?xAxis.baseValue:xAxis.min);var yAxis=this.yAxis;yAxis instanceof ValueAxis_ValueAxis&&yAxis!=this.baseAxis&&(fields=this._yValueFields,value=this.stacked||yAxis.minZoomed<yAxis.baseValue&&yAxis.maxZoomed>yAxis.baseValue||this.stackedSeries?yAxis.baseValue:yAxis.min);var startIndex=this.startIndex,endIndex=this.endIndex,interpolationDuration=this.hiddenState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Options_options.animationsEnabled||(interpolationDuration=0);var anim,delay=0;Iterator_each(indexed(this.dataItems.iterator()),(function(a){var i=a[0],dataItem=a[1],realDuration=interpolationDuration;(i<_this.startIndex-10||i>_this.endIndex+10)&&(realDuration=0),0==realDuration?dataItem.hide(0,0,value,fields):(_this.sequencedInterpolation&&realDuration>0&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),anim=dataItem.hide(realDuration,delay,value,fields))})),this.dataSets.each((function(key,dataSet){dataSet!=_this.dataItems&&dataSet.each((function(dataItem){dataItem.events.disable(),dataItem.hide(0,0,value,fields),dataItem.events.enable()}))})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(dataItem){dataItem.events.disable(),dataItem.hide(0,0,value,fields),dataItem.events.enable()}));var animation=_super.prototype.hide.call(this,interpolationDuration);return animation&&!animation.isFinished()&&animation.delay(delay),anim&&!anim.isFinished()&&(animation=anim),this.validateDataElements(),animation},XYSeries.prototype.handleDataItemWorkingValueChange=function(dataItem,name){_super.prototype.handleDataItemWorkingValueChange.call(this,dataItem,name),Iterator_each(this.baseAxis.series.iterator(),(function(series){(series.stacked||series.stackedSeries)&&series.invalidateProcessedData()}))},XYSeries.prototype.getStackValue=function(dataItem,working){var _this=this,xAxis=this.xAxis,yAxis=this.yAxis;if(this.stacked&&xAxis&&yAxis){var field_2,chart=this.chart,index=chart.series.indexOf(this);xAxis!=this.baseAxis&&xAxis instanceof ValueAxis_ValueAxis&&(field_2=this.xField),yAxis!=this.baseAxis&&yAxis instanceof ValueAxis_ValueAxis&&(field_2=this.yField),field_2&&(dataItem.setCalculatedValue(field_2,0,"stack"),Iterator_eachContinue(chart.series.range(0,index).backwards().iterator(),(function(prevSeries){if(prevSeries.xAxis==xAxis&&prevSeries.yAxis==yAxis&&prevSeries.className==_this.className){prevSeries.stackedSeries=_this;var prevDataItem=prevSeries.dataItems.getIndex(dataItem.index);if(prevDataItem&&prevDataItem.hasValue(_this._xValueFields)&&prevDataItem.hasValue(_this._yValueFields)){var value=dataItem.getValue(field_2),prevValue=void 0,prevRealValue=prevDataItem.getValue(field_2)+prevDataItem.getValue(field_2,"stack");if(prevValue=working?prevDataItem.getWorkingValue(field_2)+prevDataItem.getValue(field_2,"stack"):prevDataItem.getValue(field_2)+prevDataItem.getValue(field_2,"stack"),!_this.stackToNegative)return dataItem.setCalculatedValue(field_2,prevValue,"stack"),!1;if(value>=0&&prevRealValue>=0||value<0&&prevRealValue<0)return dataItem.setCalculatedValue(field_2,prevValue,"stack"),!1}else if(!prevSeries.stacked)return!1}return!0})))}},Object.defineProperty(XYSeries.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(value){this.setPropertyValue("stackToNegative",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(value){this._tooltipXField=value},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(value){this._tooltipYField=value},enumerable:!0,configurable:!0}),XYSeries.prototype.min=function(axis){return this._tmin.getKey(axis.uid)},XYSeries.prototype.max=function(axis){return this._tmax.getKey(axis.uid)},XYSeries.prototype.selectionMin=function(axis){return this._smin.getKey(axis.uid)},XYSeries.prototype.selectionMax=function(axis){return this._smax.getKey(axis.uid)},XYSeries.prototype.processConfig=function(config){if(config){if(Type_hasValue(config.baseAxis)&&isString(config.baseAxis)&&(this.map.hasKey(config.baseAxis)?config.baseAxis=this.map.getKey(config.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+config.baseAxis+'" found for `baseAxis`.'),delete config.baseAxis)),Type_hasValue(config.xAxis)&&isString(config.xAxis)&&(this.map.hasKey(config.xAxis)?config.xAxis=this.map.getKey(config.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+config.xAxis+'" found for `xAxis`.'),delete config.xAxis)),Type_hasValue(config.yAxis)&&isString(config.yAxis)&&(this.map.hasKey(config.yAxis)?config.yAxis=this.map.getKey(config.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+config.yAxis+'" found for `yAxis`.'),delete config.yAxis)),Type_hasValue(config.axisRanges)&&Type_isArray(config.axisRanges))for(var i=0,len=config.axisRanges.length;i<len;i++){var range=config.axisRanges[i];Type_hasValue(range.type)||(range.type="AxisDataItem"),Type_hasValue(range.axis)&&isString(range.axis)&&this.map.hasKey(range.axis)?range.component=this.map.getKey(range.axis):Type_hasValue(range.component)&&isString(range.component)&&this.map.hasKey(range.component)&&(range.component=this.map.getKey(range.component))}Type_hasValue(config.dataFields)&&Type_isObject(config.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}_super.prototype.processConfig.call(this,config)},XYSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){if(this.xAxis&&this.yAxis){var x=this.xAxis.getX(dataItem,xKey,locationX),y=this.yAxis.getY(dataItem,yKey,locationY);return{x:x=fitToRange(x,-this._maxxX,this._maxxX),y:y=fitToRange(y,-this._maxxY,this._maxxY)}}},XYSeries.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var text="";Object_each(this.dataFields,(function(key,val){text+="{"+key+"} "})),this.itemReaderText=text,this._itemReaderTextChanged=!1}},Object.defineProperty(XYSeries.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(value){this.setPropertyValue("cursorTooltipEnabled",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(value){this.setPropertyValue("cursorHoverEnabled",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(value){this.setPropertyValue("excludeFromTotal",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(value){this.setPropertyValue("hideTooltipWhileZooming",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYSeries.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(value){this.setPropertyValue("maskBullets",value);var chart=this.chart;chart&&(this.bulletsContainer.parent=value?chart.bulletsContainer:chart.axisBulletsContainer)},enumerable:!0,configurable:!0}),XYSeries.prototype.copyFrom=function(source){this.groupFields=Utils_copyProperties(source.groupFields,{}),_super.prototype.copyFrom.call(this,source)},XYSeries.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),_super.prototype.dispose.call(this)},XYSeries}(Series_Series);Registry_registry.registeredClasses.XYSeries=XYSeries_XYSeries,Registry_registry.registeredClasses.XYSeriesDataItem=XYSeries_XYSeriesDataItem;var XYChartScrollbar_XYChartScrollbar=function(_super){function XYChartScrollbar(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className="XYChartScrollbar";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.padding(0,0,0,0);var scrollbarChart=_this.createChild(XYChart_XYChart);if(scrollbarChart.shouldClone=!1,scrollbarChart.margin(0,0,0,0),scrollbarChart.padding(0,0,0,0),scrollbarChart.interactionsEnabled=!1,_this._scrollbarChart=scrollbarChart,!isIE()){var filter=new DesaturateFilter_DesaturateFilter;filter.filterUnits="userSpaceOnUse",scrollbarChart.plotContainer.filters.push(filter)}_this._disposers.push(_this._scrollbarChart),_this.minHeight=60,_this.minWidth=60;var unselectedOverlay=_this.createChild(Sprite_Sprite);unselectedOverlay.shouldClone=!1,unselectedOverlay.setElement(_this.paper.add("path")),unselectedOverlay.fill=interfaceColors.getFor("background"),unselectedOverlay.fillOpacity=.8,unselectedOverlay.interactionsEnabled=!1,unselectedOverlay.isMeasured=!1,unselectedOverlay.toBack(),_this._unselectedOverlay=unselectedOverlay,_this._disposers.push(_this._unselectedOverlay),scrollbarChart.toBack(),_this.background.cornerRadius(0,0,0,0);var thumbBackground=_this.thumb.background;thumbBackground.cornerRadius(0,0,0,0),thumbBackground.fillOpacity=0,thumbBackground.fill=interfaceColors.getFor("background");var hoverState=thumbBackground.states.getKey("hover");hoverState&&(hoverState.properties.fillOpacity=.2);var downState=thumbBackground.states.getKey("down");return downState&&(downState.properties.fillOpacity=.4),_this._disposers.push(_this._chart),_this.applyTheme(),_this}return Object(tslib_es6.d)(XYChartScrollbar,_super),Object.defineProperty(XYChartScrollbar.prototype,"series",{get:function(){return this._series||(this._series=new List_List,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),XYChartScrollbar.prototype.handleSeriesAdded=function(event){var _this=this,sourceSeries=event.newValue;if(sourceSeries.xAxis&&sourceSeries.yAxis){var scrollbarChart=this.scrollbarChart;scrollbarChart.zoomOutButton.disabled=!0,this.chart=sourceSeries.chart,scrollbarChart.language.locale=this.chart.language.locale;var addXAxis=!0,addYAxis=!0;Iterator_each(this.series.iterator(),(function(series){series!=sourceSeries&&(series.xAxis==sourceSeries.xAxis&&_this.scrollbarChart.xAxes.length>0&&(addXAxis=!1),series.yAxis==sourceSeries.yAxis&&_this.scrollbarChart.yAxes.length>0&&(addYAxis=!1))})),sourceSeries.events.on("beforedisposed",(function(){_this.series.removeValue(sourceSeries)}));var interfaceColors=new InterfaceColorSet_InterfaceColorSet,series=sourceSeries.clone();if((Options_options.onlyShowOnViewport||Options_options.queue)&&this.addDisposer(this.chart.events.on("removedfromqueue",(function(){scrollbarChart.invalidateData()}))),isIE()&&(series.stroke=Color_color("#aaaaaa"),series.fill=series.stroke,series.propertyFields.fill=void 0,series.propertyFields.stroke=void 0),sourceSeries.scrollbarSeries=series,addXAxis){var xAxis=sourceSeries.xAxis.clone();if(scrollbarChart.xAxes.moveValue(xAxis),xAxis.title.disabled=!0,xAxis.rangeChangeDuration=0,(renderer=xAxis.renderer).ticks.template.disabled=!0,renderer.inside=!0,renderer.labels.template.inside=!0,renderer.line.strokeOpacity=0,renderer.minLabelPosition=.02,renderer.maxLabelPosition=.98,renderer.line.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.baseGrid.disabled=!0,renderer.grid.template.strokeOpacity=.05,renderer.minWidth=void 0,renderer.minHeight=void 0,renderer.padding(0,0,0,0),renderer.chart=scrollbarChart,renderer.margin(0,0,0,0),xAxis.width=Percent_percent(100),renderer.labels.template.fillOpacity=.5,xAxis.maxZoomCount=void 0,xAxis.minZoomCount=void 0,xAxis instanceof DateAxis_DateAxis){var vAxis_1=xAxis,sourceAxis=sourceSeries.xAxis;vAxis_1.groupCount=5*sourceAxis.groupCount,vAxis_1.min=void 0,vAxis_1.max=void 0,this._disposers.push(vAxis_1.clonedFrom.events.on("extremeschanged",(function(){isNumber(vAxis_1.clonedFrom.minDefined)&&(vAxis_1.min=vAxis_1.clonedFrom.minDefined),isNumber(vAxis_1.clonedFrom.maxDefined)&&(vAxis_1.max=vAxis_1.clonedFrom.maxDefined)}),void 0,!1))}else if(xAxis instanceof ValueAxis_ValueAxis){var vAxis_2=xAxis;vAxis_2.min=void 0,vAxis_2.max=void 0,isNumber(vAxis_2.clonedFrom.minDefined)||(vAxis_2.min=void 0),isNumber(vAxis_2.clonedFrom.maxDefined)||(vAxis_2.max=void 0),this._disposers.push(vAxis_2.clonedFrom.events.on("extremeschanged",(function(){isNumber(vAxis_2.clonedFrom.minDefined)&&(vAxis_2.min=vAxis_2.clonedFrom.min),isNumber(vAxis_2.clonedFrom.maxDefined)&&(vAxis_2.max=vAxis_2.clonedFrom.max)}),void 0,!1))}series.xAxis=xAxis}else this.scrollbarChart.xAxes.each((function(xAxis){xAxis.clonedFrom==sourceSeries.xAxis&&(series.xAxis=xAxis)}));if(addYAxis){var renderer,yAxis=sourceSeries.yAxis.clone();if(scrollbarChart.yAxes.moveValue(yAxis),yAxis.title.disabled=!0,yAxis.rangeChangeDuration=0,(renderer=yAxis.renderer).ticks.template.disabled=!0,renderer.inside=!0,renderer.labels.template.inside=!0,renderer.line.strokeOpacity=0,renderer.minLabelPosition=.02,renderer.maxLabelPosition=.98,renderer.line.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.grid.template.stroke=interfaceColors.getFor("background"),renderer.baseGrid.disabled=!0,renderer.grid.template.strokeOpacity=.05,renderer.minWidth=void 0,renderer.minHeight=void 0,renderer.chart=scrollbarChart,renderer.padding(0,0,0,0),renderer.margin(0,0,0,0),yAxis.height=Percent_percent(100),renderer.labels.template.fillOpacity=.5,series.yAxis=yAxis,yAxis.maxZoomCount=void 0,yAxis.minZoomCount=void 0,yAxis instanceof DateAxis_DateAxis){var vAxis_3=yAxis;vAxis_3.min=void 0,vAxis_3.max=void 0;sourceAxis=sourceSeries.yAxis;yAxis.groupCount=5*sourceAxis.groupCount,this._disposers.push(vAxis_3.clonedFrom.events.on("extremeschanged",(function(){isNumber(vAxis_3.clonedFrom.minDefined)&&(vAxis_3.min=vAxis_3.clonedFrom.minDefined),isNumber(vAxis_3.clonedFrom.maxDefined)&&(vAxis_3.max=vAxis_3.clonedFrom.maxDefined)})))}else if(yAxis instanceof ValueAxis_ValueAxis){var vAxis_4=yAxis;vAxis_4.min=void 0,vAxis_4.max=void 0,isNumber(vAxis_4.clonedFrom.minDefined)||(vAxis_4.min=void 0),isNumber(vAxis_4.clonedFrom.maxDefined)||(vAxis_4.max=void 0),this._disposers.push(vAxis_4.clonedFrom.events.on("extremeschanged",(function(){isNumber(vAxis_4.clonedFrom.minDefined)&&(vAxis_4.min=vAxis_4.clonedFrom.minDefined),isNumber(vAxis_4.clonedFrom.maxDefined)&&(vAxis_4.max=vAxis_4.clonedFrom.maxDefined)})))}}else this.scrollbarChart.yAxes.each((function(yAxis){yAxis.clonedFrom==sourceSeries.yAxis&&(series.yAxis=yAxis)}));series.rangeChangeDuration=0,series.interpolationDuration=0,series.defaultState.transitionDuration=0,series.showOnInit=!1,this._disposers.push(series.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(sourceSeries.events.on("datavalidated",(function(){series.data!=sourceSeries.data&&(series.data=sourceSeries.data)}),void 0,!1)),series.defaultState.properties.visible=!0,scrollbarChart.series.push(series),this.updateByOrientation()}},XYChartScrollbar.prototype.updateByOrientation=function(){var _this=this;this._scrollbarChart&&(Iterator_each(this._scrollbarChart.xAxes.iterator(),(function(xAxis){var renderer=xAxis.renderer;"vertical"==_this.orientation?(renderer.grid.template.disabled=!0,renderer.labels.template.disabled=!0,renderer.minGridDistance=10):(renderer.grid.template.disabled=!1,renderer.labels.template.disabled=!1,renderer.minGridDistance=xAxis.clonedFrom.renderer.minGridDistance)})),Iterator_each(this._scrollbarChart.yAxes.iterator(),(function(yAxis){var renderer=yAxis.renderer;"horizontal"==_this.orientation?(renderer.grid.template.disabled=!0,renderer.labels.template.disabled=!0,renderer.minGridDistance=10):(renderer.grid.template.disabled=!1,renderer.labels.template.disabled=!1,renderer.minGridDistance=yAxis.clonedFrom.renderer.minGridDistance)})))},XYChartScrollbar.prototype.handleSeriesRemoved=function(event){var sourceSeries=event.oldValue,scrollbarChart=this.scrollbarChart;scrollbarChart.series.each((function(series){series&&series.clonedFrom==sourceSeries&&scrollbarChart.series.removeValue(series)})),0==scrollbarChart.series.length&&(scrollbarChart.xAxes.clear(),scrollbarChart.yAxes.clear());try{sourceSeries.events.off("validated",this.zoomOutAxes,this)}catch(err){}},Object.defineProperty(XYChartScrollbar.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(XYChartScrollbar.prototype,"chart",{get:function(){return this._chart.get()},set:function(chart){this._chart.get()!==chart&&(this._chart.set(chart,chart.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=chart)},enumerable:!0,configurable:!0}),Object.defineProperty(XYChartScrollbar.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),XYChartScrollbar.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},XYChartScrollbar.prototype.zoomOutAxes=function(){var scrollbarChart=this.scrollbarChart;Iterator_each(scrollbarChart.xAxes.iterator(),(function(x){x.zoom({start:0,end:1},!0,!0)})),Iterator_each(scrollbarChart.yAxes.iterator(),(function(y){y.zoom({start:0,end:1},!0,!0)}))},XYChartScrollbar.prototype.updateThumb=function(){if(_super.prototype.updateThumb.call(this),this._unselectedOverlay){var thumb=this.thumb,x=thumb.pixelX||0,y=thumb.pixelY||0,w=thumb.pixelWidth||0,h=thumb.pixelHeight||0,path="";"horizontal"==this.orientation?(path=rectToPath({x:-1,y:0,width:x,height:h}),path+=rectToPath({x:x+w,y:0,width:(this.pixelWidth||0)-x-w,height:h})):(path=rectToPath({x:0,y:0,width:w,height:y}),path+=rectToPath({x:0,y:y+h,width:w,height:(this.pixelHeight||0)-y-h})),this._unselectedOverlay.path=path}},XYChartScrollbar.prototype.processConfig=function(config){if(config&&Type_hasValue(config.series)&&Type_isArray(config.series))for(var i=0,len=config.series.length;i<len;i++){var series=config.series[i];if(Type_hasValue(series)&&isString(series)){if(!this.map.hasKey(series))throw Error("XYChartScrollbar error: Series with id `"+series+"` does not exist.");config.series[i]=this.map.getKey(series)}}_super.prototype.processConfig.call(this,config)},XYChartScrollbar}(Scrollbar_Scrollbar);Registry_registry.registeredClasses.XYChartScrollbar=XYChartScrollbar_XYChartScrollbar;var XYChart_XYChartDataItem=function(_super){function XYChartDataItem(){var _this=_super.call(this)||this;return _this.className="XYChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(XYChartDataItem,_super),XYChartDataItem}(SerialChart_SerialChartDataItem),XYChart_XYChart=function(_super){function XYChart(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererX_AxisRendererX,_this._axisRendererY=AxisRendererY_AxisRendererY,_this._seriesPoints=[],_this.className="XYChart",_this.maskBullets=!0,_this.arrangeTooltips=!0;var chartContainer=_this.chartContainer;chartContainer.layout="vertical",_this.padding(15,15,15,15);var topAxesCont=chartContainer.createChild(Container_Container);topAxesCont.shouldClone=!1,topAxesCont.layout="vertical",topAxesCont.width=Percent_percent(100),topAxesCont.zIndex=1,_this.topAxesContainer=topAxesCont;var yAxesAndPlotCont=chartContainer.createChild(Container_Container);yAxesAndPlotCont.shouldClone=!1,yAxesAndPlotCont.layout="horizontal",yAxesAndPlotCont.width=Percent_percent(100),yAxesAndPlotCont.height=Percent_percent(100),yAxesAndPlotCont.zIndex=0,_this.yAxesAndPlotContainer=yAxesAndPlotCont;var bottomAxesCont=chartContainer.createChild(Container_Container);bottomAxesCont.shouldClone=!1,bottomAxesCont.width=Percent_percent(100),bottomAxesCont.layout="vertical",bottomAxesCont.zIndex=1,_this.bottomAxesContainer=bottomAxesCont;var leftAxesCont=yAxesAndPlotCont.createChild(Container_Container);leftAxesCont.shouldClone=!1,leftAxesCont.layout="horizontal",leftAxesCont.height=Percent_percent(100),leftAxesCont.contentAlign="right",leftAxesCont.events.on("transformed",_this.updateXAxesMargins,_this,!1),leftAxesCont.zIndex=1,_this.leftAxesContainer=leftAxesCont;var plotCont=yAxesAndPlotCont.createChild(Container_Container);plotCont.shouldClone=!1,plotCont.height=Percent_percent(100),plotCont.width=Percent_percent(100),plotCont.background.fillOpacity=0,_this.plotContainer=plotCont,_this.mouseWheelBehavior="none",_this._cursorContainer=plotCont;var rightAxesCont=yAxesAndPlotCont.createChild(Container_Container);rightAxesCont.shouldClone=!1,rightAxesCont.layout="horizontal",rightAxesCont.height=Percent_percent(100),rightAxesCont.zIndex=1,rightAxesCont.events.on("transformed",_this.updateXAxesMargins,_this,!1),_this.rightAxesContainer=rightAxesCont,_this.seriesContainer.parent=plotCont,_this.bulletsContainer.parent=plotCont;var zoomOutButton=plotCont.createChild(ZoomOutButton_ZoomOutButton);zoomOutButton.shouldClone=!1,zoomOutButton.align="right",zoomOutButton.valign="top",zoomOutButton.zIndex=Number.MAX_SAFE_INTEGER,zoomOutButton.marginTop=5,zoomOutButton.marginRight=5,zoomOutButton.hide(0),_this.zoomOutButton=zoomOutButton;var axisBulletsContainer=_this.plotContainer.createChild(Container_Container);return axisBulletsContainer.shouldClone=!1,axisBulletsContainer.width=Percent_percent(100),axisBulletsContainer.height=Percent_percent(100),axisBulletsContainer.isMeasured=!1,axisBulletsContainer.zIndex=4,axisBulletsContainer.layout="none",_this.axisBulletsContainer=axisBulletsContainer,_this._bulletMask=_this.plotContainer,_this.events.on("beforedatavalidated",(function(){_this.series.each((function(series){series.dataGrouped=!1,series._baseInterval={}}))}),_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(XYChart,_super),XYChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},XYChart.prototype.draw=function(){_super.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},XYChart.prototype.updatePlotElements=function(){Iterator_each(this.series.iterator(),(function(series){series.invalidate()}))},XYChart.prototype.validateData=function(){0==this._parseDataFrom&&(Iterator_each(this.xAxes.iterator(),(function(axis){axis.dataChangeUpdate()})),Iterator_each(this.yAxes.iterator(),(function(axis){axis.dataChangeUpdate()})),Iterator_each(this.series.iterator(),(function(series){series.dataChangeUpdate()}))),_super.prototype.validateData.call(this)},XYChart.prototype.updateXAxesMargins=function(){var leftAxesWidth=this.leftAxesContainer.measuredWidth,rightAxesWidth=this.rightAxesContainer.measuredWidth,bottomAxesCont=this.bottomAxesContainer;bottomAxesCont.paddingLeft==leftAxesWidth&&bottomAxesCont.paddingRight==rightAxesWidth||(bottomAxesCont.paddingLeft=leftAxesWidth,bottomAxesCont.paddingRight=rightAxesWidth);var topAxesCont=this.topAxesContainer;topAxesCont.paddingLeft==leftAxesWidth&&topAxesCont.paddingRight==rightAxesWidth||(topAxesCont.paddingLeft=leftAxesWidth,topAxesCont.paddingRight=rightAxesWidth)},XYChart.prototype.reinit=function(){_super.prototype.reinit.call(this),this.series.each((function(series){series.appeared=!1}))},XYChart.prototype.handleXAxisChange=function(event){this.updateXAxis(event.target)},XYChart.prototype.handleYAxisChange=function(event){this.updateYAxis(event.target)},XYChart.prototype.processXAxis=function(event){var axis=event.newValue;axis.chart=this,axis.renderer||(axis.renderer=new this._axisRendererX,axis.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),axis.axisLetter="X",axis.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),axis.dataProvider=this,this.updateXAxis(axis.renderer),this.processAxis(axis)},XYChart.prototype.processYAxis=function(event){var axis=event.newValue;axis.chart=this,axis.renderer||(axis.renderer=new this._axisRendererY,axis.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),axis.axisLetter="Y",axis.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),axis.dataProvider=this,this.updateYAxis(axis.renderer),this.processAxis(axis)},XYChart.prototype.handleXAxisRangeChange=function(){var range=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,range,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,range)},XYChart.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var show_1=!1;Iterator_eachContinue(this.xAxes.iterator(),(function(axis){if(axis.toggleZoomOutButton)if(axis.maxZoomCount>0){var minZoomFactor=axis.maxZoomFactor/axis.maxZoomCount;if(Math_round(axis.end-axis.start,3)<1/minZoomFactor)return show_1=!0,!1}else if(Math_round(axis.start,3)>0||Math_round(axis.end,3)<1)return show_1=!0,!1;return!0})),Iterator_eachContinue(this.yAxes.iterator(),(function(axis){if(axis.toggleZoomOutButton){if(axis.maxZoomCount>0){var minZoomFactor=axis.maxZoomFactor/axis.maxZoomCount;if(Math_round(axis.end-axis.start,3)<1/minZoomFactor)return show_1=!0,!1}else if(Math_round(axis.start,3)>0||Math_round(axis.end,3)<1)return show_1=!0,!1;return!0}})),this.seriesAppeared||(show_1=!1),show_1?this.zoomOutButton.show():this.zoomOutButton.hide()}},XYChart.prototype.seriesAppeared=function(){var appeared=!1;return Iterator_each(this.series.iterator(),(function(series){if(!series.appeared)return appeared=!1,!1})),appeared},XYChart.prototype.handleYAxisRangeChange=function(){var range=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,range,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,range)},XYChart.prototype.updateScrollbar=function(scrollbar,range){scrollbar&&(scrollbar.skipRangeEvents(),scrollbar.start=range.start,scrollbar.end=range.end)},XYChart.prototype.getCommonAxisRange=function(axes){var start,end;return axes.each((function(axis){if(!axis.zoomable||axis instanceof ValueAxis_ValueAxis&&axis.syncWithAxis);else{var axisStart=axis.start,axisEnd=axis.end;axis.renderer.inversed&&(axisStart=1-axis.end,axisEnd=1-axis.start),(!isNumber(start)||axisStart<start)&&(start=axisStart),(!isNumber(end)||axisEnd>end)&&(end=axisEnd)}})),{start:start,end:end}},XYChart.prototype.updateXAxis=function(renderer){var axis=renderer.axis;renderer.opposite?(axis.parent=this.topAxesContainer,axis.toFront()):(axis.parent=this.bottomAxesContainer,axis.toBack()),axis.renderer&&axis.renderer.processRenderer()},XYChart.prototype.updateYAxis=function(renderer){var axis=renderer.axis;renderer.opposite?(axis.parent=this.rightAxesContainer,axis.toBack()):(axis.parent=this.leftAxesContainer,axis.toFront()),axis.renderer&&axis.renderer.processRenderer()},XYChart.prototype.processAxis=function(axis){var _this=this;axis instanceof CategoryAxis_CategoryAxis&&this._dataUsers.moveValue(axis);var renderer=axis.renderer;renderer.gridContainer.parent=this.plotContainer,renderer.gridContainer.toBack(),renderer.breakContainer.parent=this.plotContainer,renderer.breakContainer.toFront(),renderer.breakContainer.zIndex=10,axis.addDisposer(new Disposer((function(){_this.dataUsers.removeValue(axis)}))),renderer.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(axis.events.on("positionchanged",(function(){var point=spritePointToSprite({x:0,y:0},axis,_this.axisBulletsContainer);axis.renderer instanceof AxisRendererY_AxisRendererY&&(renderer.bulletsContainer.y=point.y),axis.renderer instanceof AxisRendererX_AxisRendererX&&(renderer.bulletsContainer.x=point.x)}),void 0,!1)),this.plotContainer.events.on("maxsizechanged",(function(){_this.inited&&(axis.invalidateDataItems(),_this.updateSeriesMasks())}),axis,!1)},XYChart.prototype.updateSeriesMasks=function(){isIE()&&this.series.each((function(series){var mask=series.mainContainer.mask;series.mainContainer.mask=void 0,series.mainContainer.mask=mask}))},XYChart.prototype.handleSeriesRemoved=function(event){var series=event.oldValue;series&&(series.xAxis&&(series.xAxis.series.removeValue(series),series.xAxis.invalidateProcessedData()),series.yAxis&&(series.yAxis.series.removeValue(series),series.yAxis.invalidateProcessedData()),this.series.each((function(series){series.resetExtremes()}))),_super.prototype.handleSeriesRemoved.call(this,event)},Object.defineProperty(XYChart.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new List_List,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new List_ListDisposer(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),XYChart.prototype.handleAxisRemoval=function(event){var axis=event.oldValue;this.dataUsers.removeValue(axis),axis.autoDispose&&axis.dispose()},Object.defineProperty(XYChart.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new List_List,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new List_ListDisposer(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),XYChart.prototype.handleSeriesAdded=function(event){try{_super.prototype.handleSeriesAdded.call(this,event);var series=event.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(Registry_registry.removeFromInvalidComponents(series),series.dataInvalid=!1),series.xAxis,series.yAxis,series.maskBullets=series.maskBullets,null==series.fill&&(this.patterns?(Type_hasValue(series.stroke)||(series.stroke=this.colors.next()),series.fill=this.patterns.next(),Type_hasValue(series.fillOpacity)&&(series.fill.backgroundOpacity=series.fillOpacity),series.stroke instanceof Color_Color&&(series.fill.stroke=series.stroke,series.fill.fill=series.stroke)):series.fill=this.colors.next()),Type_hasValue(series.stroke)||(series.stroke=series.fill)}catch(e){this.raiseCriticalError(e)}},Object.defineProperty(XYChart.prototype,"cursor",{get:function(){return this._cursor},set:function(cursor){this._cursor!=cursor&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=cursor,cursor&&(this._disposers.push(cursor),cursor.chart=this,cursor.shouldClone=!1,cursor.parent=this._cursorContainer,cursor.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),cursor.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),cursor.events.on("zoomended",this.handleCursorZoomEnd,this,!1),cursor.events.on("panstarted",this.handleCursorPanStart,this,!1),cursor.events.on("panning",this.handleCursorPanning,this,!1),cursor.events.on("panended",this.handleCursorPanEnd,this,!1),cursor.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),cursor.events.on("hidden",this.handleHideCursor,this,!1),cursor.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),XYChart.prototype.handleCursorPositionChange=function(){var cursor=this.cursor;if(cursor.visible&&!cursor.isHiding){var xPosition_1=this.cursor.xPosition,yPosition_1=this.cursor.yPosition;this.showSeriesTooltip({x:xPosition_1,y:yPosition_1});var exceptAxes_1=[],snapToSeries=cursor.snapToSeries;if(snapToSeries&&!cursor.downPoint){snapToSeries instanceof XYSeries_XYSeries&&(snapToSeries=[snapToSeries]);var dataItems_1=[];each(snapToSeries,(function(snpSeries){if(!snpSeries.isHidden&&!snpSeries.isHiding){var xAxis=snpSeries.xAxis,yAxis=snpSeries.yAxis;xAxis instanceof ValueAxis_ValueAxis&&!(xAxis instanceof DateAxis_DateAxis)&&yAxis instanceof ValueAxis_ValueAxis&&!(yAxis instanceof DateAxis_DateAxis)?(snpSeries.dataItems.each((function(dataItem){dataItems_1.push(dataItem)})),move(exceptAxes_1,snpSeries.yAxis),move(exceptAxes_1,snpSeries.xAxis)):(snpSeries.baseAxis==snpSeries.xAxis&&(move(exceptAxes_1,snpSeries.yAxis),dataItems_1.push(xAxis.getSeriesDataItem(snpSeries,xAxis.toAxisPosition(xPosition_1),!0))),snpSeries.baseAxis==snpSeries.yAxis&&(move(exceptAxes_1,snpSeries.xAxis),dataItems_1.push(yAxis.getSeriesDataItem(snpSeries,yAxis.toAxisPosition(yPosition_1),!0))))}}));var closestDataItem_1=this.getClosest(dataItems_1,xPosition_1,yPosition_1);closestDataItem_1&&(this.series.each((function(series){var closestSeries=closestDataItem_1.component;series!=closestSeries&&(series.hideTooltip(),series.xAxis!=closestSeries.xAxis&&series.xAxis.hideTooltip(),series.yAxis!=closestSeries.yAxis&&series.yAxis.hideTooltip())})),closestDataItem_1.component.showTooltipAtDataItem(closestDataItem_1),cursor.handleSnap(closestDataItem_1.component))}this._seriesPoints=[],this._cursorXPosition!=xPosition_1&&this.showAxisTooltip(this.xAxes,xPosition_1,exceptAxes_1),this._cursorYPosition!=yPosition_1&&this.showAxisTooltip(this.yAxes,yPosition_1,exceptAxes_1),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},XYChart.prototype.getClosest=function(dataItems,xPosition,yPosition){var closestDataItem,minDistance=1/0;return eachContinue(dataItems,(function(dataItem){if(dataItem){var xAxis=dataItem.component.xAxis,yAxis=dataItem.component.yAxis,xPos=xAxis.positionToCoordinate(xAxis.toGlobalPosition(xAxis.toAxisPosition(xPosition))),yPos=yAxis.positionToCoordinate(yAxis.toGlobalPosition(yAxis.toAxisPosition(yPosition))),xField=dataItem.component.xField,yField=dataItem.component.yField;if(xAxis instanceof ValueAxis_ValueAxis&&!isNumber(dataItem.getValue(xField)))return!0;if(yAxis instanceof ValueAxis_ValueAxis&&!isNumber(dataItem.getValue(yField)))return!0;var dxPosition=xAxis.positionToCoordinate(xAxis.toGlobalPosition(xAxis.getPositionX(dataItem,xField,dataItem.locations[xField],"valueX"))),dyPosition=yAxis.positionToCoordinate(yAxis.toGlobalPosition(yAxis.getPositionY(dataItem,yField,dataItem.locations[yField],"valueY"))),distance=Math.sqrt(Math.pow(xPos-dxPosition,2)+Math.pow(yPos-dyPosition,2));return distance<minDistance&&(minDistance=distance,closestDataItem=dataItem),!0}})),closestDataItem},XYChart.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},XYChart.prototype.updateSeriesLegend=function(){Iterator_each(this.series.iterator(),(function(series){series.updateLegendValue()}))},XYChart.prototype.hideObjectTooltip=function(sprites){Iterator_each(sprites.iterator(),(function(sprite){sprite.hideTooltip(0)}))},XYChart.prototype.showSeriesTooltip=function(position){var _this=this;if(position){var seriesPoints=[];this.series.each((function(series){if(series.xAxis instanceof DateAxis_DateAxis&&series.xAxis.snapTooltip||series.yAxis instanceof DateAxis_DateAxis&&series.yAxis.snapTooltip);else{var point=series.showTooltipAtPosition(position.x,position.y);point&&(series.tooltip.setBounds(spriteRectToSvg({x:0,y:0,width:_this.pixelWidth,height:_this.pixelHeight},_this)),seriesPoints.push({series:series,point:point}))}})),this.arrangeTooltips&&this.sortSeriesTooltips(seriesPoints)}else this.series.each((function(series){series.hideTooltip()}))},XYChart.prototype.sortSeriesTooltips=function(seriesPoints){if(seriesPoints.length>0){var cursor_1=this.cursor;if(cursor_1&&isNumber(cursor_1.maxTooltipDistance)){var nearestSeries_1,nearestPoint_1,cursorPoint_1=spritePointToSvg({x:cursor_1.point.x,y:cursor_1.point.y},cursor_1),smallestDistance_1=1/0;each(seriesPoints,(function(seriesPoint){var series=seriesPoint.series,fixedPoint=seriesPoint.point;if(fixedPoint){var point={x:fixedPoint.x,y:fixedPoint.y},distance=Math.abs(getDistance(point,cursorPoint_1));distance<smallestDistance_1&&(nearestPoint_1=point,smallestDistance_1=distance,nearestSeries_1=series)}}));var newSeriesPoints_1=[];nearestSeries_1&&(each(seriesPoints,(function(seriesPoint){if(Math.abs(getDistance(seriesPoint.point,nearestPoint_1))<=Math.abs(cursor_1.maxTooltipDistance))newSeriesPoints_1.push({series:seriesPoint.series,point:seriesPoint.point});else{var tooltipDataItem=seriesPoint.series.tooltipDataItem;tooltipDataItem&&each(tooltipDataItem.sprites,(function(sprite){sprite.isHover=!1,sprite.handleOutReal()})),seriesPoint.series.hideTooltip(0)}})),cursor_1.maxTooltipDistance<0&&(newSeriesPoints_1.length>0&&each(newSeriesPoints_1,(function(np){nearestSeries_1!=np.series&&np.series.hideTooltip(0)})),newSeriesPoints_1=[{series:nearestSeries_1,point:nearestPoint_1}])),seriesPoints=newSeriesPoints_1}var topLeft_1=spritePointToSvg({x:-.5,y:-.5},this.plotContainer),bottomRight_1=spritePointToSvg({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),sum_1=0,filteredSeriesPoints_1=[];each(seriesPoints,(function(seriesPoint){var point=seriesPoint.point;point&&isInRectangle(point,{x:topLeft_1.x,y:topLeft_1.y,width:bottomRight_1.x-topLeft_1.x,height:bottomRight_1.y-topLeft_1.y})&&(filteredSeriesPoints_1.push({point:point,series:seriesPoint.series}),sum_1+=point.y)})),seriesPoints=filteredSeriesPoints_1;var firstSeries=this.series.getIndex(0),inversed=!1;firstSeries&&firstSeries.yAxis&&firstSeries.yAxis.renderer.inversed&&(inversed=!0),inversed?seriesPoints.sort((function(a,b){return Number_order(a.point.y,b.point.y)})):(seriesPoints.sort((function(a,b){return Number_order(b.point.y,a.point.y)})),seriesPoints.reverse());var averageY=sum_1/seriesPoints.length,maxY=svgPointToDocument({x:0,y:0},this.svgContainer.SVGContainer).y;if(seriesPoints.length>0){var top_1=topLeft_1.y,bottom=bottomRight_1.y;spritePointToDocument({x:0,y:top_1},this);var dropped=!1;if(averageY>top_1+(bottom-top_1)/2)for(var nextHeight=bottom,i=seriesPoints.length-1;i>=0;i--){var tooltip=(series=seriesPoints[i].series).tooltip,pointY=seriesPoints[i].point.y;if(tooltip.setBounds({x:0,y:-maxY,width:this.pixelWidth,height:nextHeight+maxY}),tooltip.invalid&&tooltip.validate(),tooltip.toBack(),(nextHeight=spritePointToSvg({x:0,y:tooltip.label.pixelY-tooltip.pixelY+pointY-tooltip.pixelMarginTop},tooltip).y)<-maxY){dropped=!0;break}}if(averageY<=top_1+(bottom-top_1)/2||dropped)for(var nextY=top_1,len=(i=0,seriesPoints.length);i<len;i++){var series=seriesPoints[i].series;pointY=seriesPoints[i].point.y;(tooltip=series.tooltip).setBounds({x:0,y:nextY,width:this.pixelWidth,height:bottom}),tooltip.invalid&&tooltip.validate(),tooltip.toBack(),nextY=spritePointToSvg({x:0,y:tooltip.label.pixelY+tooltip.label.measuredHeight-tooltip.pixelY+pointY+tooltip.pixelMarginBottom},tooltip).y}}}},XYChart.prototype.showAxisTooltip=function(axes,position,except){var _this=this;Iterator_each(axes.iterator(),(function(axis){except&&-1!=except.indexOf(axis)||(_this.dataItems.length>0||axis.dataItems.length>0)&&axis.showTooltipAtPosition(position)}))},XYChart.prototype.getUpdatedRange=function(axis,range){if(axis){var start,end;axis.renderer.inversed?(invertRange(range),start=1-axis.end,end=1-axis.start):(start=axis.start,end=axis.end);var difference=end-start;return{start:start+range.start*difference,end:start+range.end*difference}}},XYChart.prototype.handleCursorZoomEnd=function(event){var cursor=this.cursor,behavior=cursor.behavior;if("zoomX"==behavior||"zoomXY"==behavior){var xRange=cursor.xRange;xRange&&this.xAxes.length>0&&((xRange=this.getUpdatedRange(this.xAxes.getIndex(0),xRange)).priority="start",this.zoomAxes(this.xAxes,xRange))}if("zoomY"==behavior||"zoomXY"==behavior){var yRange=cursor.yRange;yRange&&this.yAxes.length>0&&((yRange=this.getUpdatedRange(this.yAxes.getIndex(0),yRange)).priority="start",this.zoomAxes(this.yAxes,yRange))}this.handleHideCursor()},XYChart.prototype.handleCursorPanStart=function(event){var xAxis=this.xAxes.getIndex(0);xAxis&&(this._panStartXRange={start:xAxis.start,end:xAxis.end});var yAxis=this.yAxes.getIndex(0);yAxis&&(this._panStartYRange={start:yAxis.start,end:yAxis.end})},XYChart.prototype.handleCursorPanEnd=function(event){var behavior=this.cursor.behavior;if(this._panEndXRange&&("panX"==behavior||"panXY"==behavior)){var delta=0;(panEndRange=this._panEndXRange).start<0&&(delta=panEndRange.start),panEndRange.end>1&&(delta=panEndRange.end-1),this.zoomAxes(this.xAxes,{start:panEndRange.start-delta,end:panEndRange.end-delta},!1,!0),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&("panY"==behavior||"panXY"==behavior)){var panEndRange;delta=0;(panEndRange=this._panEndYRange).start<0&&(delta=panEndRange.start),panEndRange.end>1&&(delta=panEndRange.end-1),this.zoomAxes(this.yAxes,{start:panEndRange.start-delta,end:panEndRange.end-delta},!1,!0),this._panEndYRange=void 0,this._panStartYRange=void 0}},XYChart.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},XYChart.prototype.handleCursorPanning=function(event){var cursor=this.cursor,behavior=cursor.behavior,maxPanOut=cursor.maxPanOut;if(this._panStartXRange&&("panX"==behavior||"panXY"==behavior)){var panStartRange=this._panStartXRange,range=cursor.xRange,axisRange=this.getCommonAxisRange(this.xAxes),difference=panStartRange.end-panStartRange.start,delta=range.start*(axisRange.end-axisRange.start),newStart=Math.max(-maxPanOut,delta+panStartRange.start),newEnd=Math.min(delta+panStartRange.end,1+maxPanOut);newStart<=0&&(newEnd=newStart+difference),newEnd>=1&&(newStart=newEnd-difference);var newRange={start:newStart,end:newEnd};this._panEndXRange=newRange,this.zoomAxes(this.xAxes,newRange,!1,!1,cursor.maxPanOut)}if(this._panStartYRange&&("panY"==behavior||"panXY"==behavior)){panStartRange=this._panStartYRange,range=cursor.yRange,axisRange=this.getCommonAxisRange(this.yAxes),difference=panStartRange.end-panStartRange.start,delta=range.start*(axisRange.end-axisRange.start),newStart=Math.max(-maxPanOut,delta+panStartRange.start),newEnd=Math.min(delta+panStartRange.end,1+maxPanOut);newStart<=0&&(newEnd=newStart+difference),newEnd>=1&&(newStart=newEnd-difference);newRange={start:newStart,end:newEnd};this._panEndYRange=newRange,this.zoomAxes(this.yAxes,newRange,!1,!1,cursor.maxPanOut)}this.handleHideCursor()},XYChart.prototype.handleYAxisSet=function(series){},XYChart.prototype.handleCursorZoomStart=function(event){},Object.defineProperty(XYChart.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(scrollbar){var _this=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=scrollbar,scrollbar&&(this._disposers.push(scrollbar),scrollbar.parent=this.topAxesContainer,scrollbar.shouldClone=!1,scrollbar.startGrip.exportable=!1,scrollbar.endGrip.exportable=!1,scrollbar.toBack(),scrollbar.orientation="horizontal",scrollbar.events.on("rangechanged",this.handleXScrollbarChange,this,!1),scrollbar.adapter.add("positionValue",(function(arg){var xAxis=_this.xAxes.getIndex(0);return xAxis&&(arg.value=xAxis.getPositionLabel(xAxis.renderer.inversed?1-arg.position:arg.position)),arg})))},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(scrollbar){var _this=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=scrollbar,scrollbar&&(this._disposers.push(scrollbar),scrollbar.parent=this.rightAxesContainer,scrollbar.startGrip.exportable=!1,scrollbar.shouldClone=!1,scrollbar.endGrip.exportable=!1,scrollbar.toFront(),scrollbar.orientation="vertical",scrollbar.events.on("rangechanged",this.handleYScrollbarChange,this,!1),scrollbar.adapter.add("positionValue",(function(arg){var yAxis=_this.yAxes.getIndex(0);return yAxis&&(arg.value=yAxis.getPositionLabel(arg.position)),arg})))},enumerable:!0,configurable:!0}),XYChart.prototype.handleXScrollbarChange=function(event){if(this.inited){var scrollbar=event.target,range=scrollbar.range;0==range.start&&(range.priority="start"),1==range.end&&(range.priority="end"),range=this.zoomAxes(this.xAxes,range),scrollbar.fixRange(range)}},XYChart.prototype.handleYScrollbarChange=function(event){if(this.inited){var scrollbar=event.target,range=scrollbar.range;1==range.end&&(range.priority="end"),0==range.start&&(range.priority="start"),range=this.zoomAxes(this.yAxes,range),scrollbar.fixRange(range)}},XYChart.prototype.zoomAxes=function(axes,range,instantly,round,declination){var realRange={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||Iterator_each(axes.iterator(),(function(axis){if(axis.zoomable){if(axis.renderer.inversed&&(range=invertRange(range)),axis.hideTooltip(0),round)if(axis instanceof CategoryAxis_CategoryAxis){var cellWidth=axis.getCellEndPosition(0)-axis.getCellStartPosition(0);range.start=axis.roundPosition(range.start+cellWidth/2-axis.startLocation*cellWidth,axis.startLocation),range.end=axis.roundPosition(range.end-cellWidth/2+(1-axis.endLocation)*cellWidth,axis.endLocation)}else range.start=axis.roundPosition(range.start+1e-4,0,axis.startLocation),range.end=axis.roundPosition(range.end+1e-4,0,axis.endLocation);var axisRange=axis.zoom(range,instantly,instantly,declination);axis.renderer.inversed&&(axisRange=invertRange(axisRange)),realRange=axisRange}})),realRange},Object.defineProperty(XYChart.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(value){this.setPropertyValue("maskBullets",value,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=value?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(value){this.setPropertyValue("arrangeTooltips",value,!0)},enumerable:!0,configurable:!0}),XYChart.prototype.handleWheel=function(event){var plotContainer=this.plotContainer,plotPoint=svgPointToSprite(documentPointToSvg(event.point,this.htmlContainer,this.svgContainer.cssScale),plotContainer),shift=event.shift.y;this.handleWheelReal(shift,this.mouseWheelBehavior,plotPoint)},XYChart.prototype.handleHorizontalWheel=function(event){var plotContainer=this.plotContainer,plotPoint=svgPointToSprite(documentPointToSvg(event.point,this.htmlContainer,this.svgContainer.cssScale),plotContainer);this.handleWheelReal(event.shift.x,this.horizontalMouseWheelBehavior,plotPoint)},XYChart.prototype.handleWheelReal=function(shift,mouseWheelBehavior,plotPoint){if(0!=shift){var plotContainer=this.plotContainer,rangeX=this.getCommonAxisRange(this.xAxes),rangeY=this.getCommonAxisRange(this.yAxes);if("panX"==mouseWheelBehavior||"panXY"==mouseWheelBehavior){var differenceX=rangeX.end-rangeX.start,newStartX=Math.max(-0,rangeX.start+.1*shift/100*(rangeX.end-rangeX.start)),newEndX=Math.min(rangeX.end+.1*shift/100*(rangeX.end-rangeX.start),1);newStartX<=0&&(newEndX=newStartX+differenceX),newEndX>=1&&(newStartX=newEndX-differenceX),this.zoomAxes(this.xAxes,{start:newStartX,end:newEndX})}if("panY"==mouseWheelBehavior||"panXY"==mouseWheelBehavior){shift*=-1;var differenceY=rangeY.end-rangeY.start,newStartY=Math.max(-0,rangeY.start+.1*shift/100*(rangeY.end-rangeY.start)),newEndY=Math.min(rangeY.end+.1*shift/100*(rangeY.end-rangeY.start),1);newStartY<=0&&(newEndY=newStartY+differenceY),newEndY>=1&&(newStartY=newEndY-differenceY),this.zoomAxes(this.yAxes,{start:newStartY,end:newEndY})}if("zoomX"==mouseWheelBehavior||"zoomXY"==mouseWheelBehavior){var locationX=plotPoint.x/plotContainer.maxWidth,location2X=this.xAxes.getIndex(0).toAxisPosition(locationX);newStartX=Math.max(-0,rangeX.start-.1*(rangeX.end-rangeX.start)*shift/100*locationX);newStartX=Math.min(newStartX,location2X);newEndX=Math.min(rangeX.end+.1*(rangeX.end-rangeX.start)*shift/100*(1-locationX),1);newEndX=Math.max(newEndX,location2X),this.zoomAxes(this.xAxes,{start:newStartX,end:newEndX})}if("zoomY"==mouseWheelBehavior||"zoomXY"==mouseWheelBehavior){var locationY=plotPoint.y/plotContainer.maxHeight,location2Y=this.yAxes.getIndex(0).toAxisPosition(locationY);newStartY=Math.max(-0,rangeY.start-.1*(rangeY.end-rangeY.start)*shift/100*(1-locationY));newStartY=Math.min(newStartY,location2Y);newEndY=Math.min(rangeY.end+.1*shift/100*locationY*(rangeY.end-rangeY.start),1);newEndY=Math.max(newEndY,location2Y),this.zoomAxes(this.yAxes,{start:newStartY,end:newEndY})}}},Object.defineProperty(XYChart.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(value){this.setPropertyValue("mouseWheelBehavior",value)&&("none"!=value?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(value){this.setPropertyValue("horizontalMouseWheelBehavior",value)&&("none"!=value?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),XYChart.prototype.dataSourceDateFields=function(fields){var _this=this;return fields=_super.prototype.dataSourceDateFields.call(this,fields),Iterator_each(this.series.iterator(),(function(series){fields=_this.populateDataSourceFields(fields,series.dataFields,["dateX","dateY","openDateX","openDateY"])})),fields},XYChart.prototype.dataSourceNumberFields=function(fields){var _this=this;return fields=_super.prototype.dataSourceDateFields.call(this,fields),Iterator_each(this.series.iterator(),(function(series){fields=_this.populateDataSourceFields(fields,series.dataFields,["valueX","valueY","openValueX","openValueY"])})),fields},XYChart.prototype.processConfig=function(config){if(config){var xAxes=[],yAxes=[];if(Type_hasValue(config.xAxes)&&Type_isArray(config.xAxes))for(var i=0,len=config.xAxes.length;i<len;i++){if(!config.xAxes[i].type)throw Error("[XYChart error] No type set for xAxes["+i+"].");if(Type_hasValue(config.xAxes[i].axisRanges)){for(var x=0,len_1=config.xAxes[i].axisRanges.length;x<len_1;x++){Type_hasValue((range=config.xAxes[i].axisRanges[x]).date)&&isString(range.date)&&(range.date=this.dateFormatter.parse(range.date)),Type_hasValue(range.endDate)&&isString(range.endDate)&&(range.endDate=this.dateFormatter.parse(range.endDate))}xAxes.push({axisRanges:config.xAxes[i].axisRanges,index:i}),delete config.xAxes[i].axisRanges}}if(Type_hasValue(config.yAxes)&&Type_isArray(config.yAxes))for(i=0,len=config.yAxes.length;i<len;i++){if(!config.yAxes[i].type)throw Error("[XYChart error] No type set for yAxes["+i+"].");if(Type_hasValue(config.yAxes[i].axisRanges)){x=0;for(var len_2=config.yAxes[i].axisRanges.length;x<len_2;x++){var range;Type_hasValue((range=config.yAxes[i].axisRanges[x]).date)&&isString(range.date)&&(range.date=this.dateFormatter.parse(range.date)),Type_hasValue(range.endDate)&&isString(range.endDate)&&(range.endDate=this.dateFormatter.parse(range.endDate))}yAxes.push({axisRanges:config.yAxes[i].axisRanges,index:i}),delete config.yAxes[i].axisRanges}}if(Type_hasValue(config.series)&&Type_isArray(config.series))for(i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||"LineSeries";if(Type_hasValue(config.cursor)&&!Type_hasValue(config.cursor.type)&&(config.cursor.type="XYCursor"),Type_hasValue(config.scrollbarX)&&!Type_hasValue(config.scrollbarX.type)&&(config.scrollbarX.type="Scrollbar"),Type_hasValue(config.scrollbarY)&&!Type_hasValue(config.scrollbarY.type)&&(config.scrollbarY.type="Scrollbar"),_super.prototype.processConfig.call(this,config),yAxes.length)for(i=0,len=yAxes.length;i<len;i++)this.yAxes.getIndex(yAxes[i].index).config={axisRanges:yAxes[i].axisRanges};if(xAxes.length)for(i=0,len=xAxes.length;i<len;i++)this.xAxes.getIndex(xAxes[i].index).config={axisRanges:xAxes[i].axisRanges}}},XYChart.prototype.configOrder=function(a,b){return a==b?0:"scrollbarX"==a?1:"scrollbarX"==b?-1:"scrollbarY"==a?1:"scrollbarY"==b?-1:"cursor"==a?1:"cursor"==b?-1:"series"==a?1:"series"==b?-1:_super.prototype.configOrder.call(this,a,b)},XYChart.prototype.createSeries=function(){return new XYSeries_XYSeries},Object.defineProperty(XYChart.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(button){var _this=this;this._zoomOutButton=button,button&&button.events.on("hit",(function(){_this.zoomAxes(_this.xAxes,{start:0,end:1}),_this.zoomAxes(_this.yAxes,{start:0,end:1})}),void 0,!1)},enumerable:!0,configurable:!0}),XYChart.prototype.copyFrom=function(source){var _this=this;source.xAxes.each((function(axis){var a=_this.xAxes.push(axis.clone());a.chart=_this,a.renderer.chart=_this})),source.yAxes.each((function(axis){var a=_this.yAxes.push(axis.clone());a.renderer.chart=_this,a.chart=_this})),_super.prototype.copyFrom.call(this,source),source.cursor&&(this.cursor=source.cursor.clone()),source.scrollbarX&&(this.scrollbarX=source.scrollbarX.clone()),source.scrollbarY&&(this.scrollbarY=source.scrollbarY.clone())},XYChart.prototype.disposeData=function(){_super.prototype.disposeData.call(this);var scrollbarX=this.scrollbarX;scrollbarX&&scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&scrollbarX.scrollbarChart.disposeData();var scrollbarY=this.scrollbarY;scrollbarY&&scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&scrollbarY.scrollbarChart.disposeData(),this.xAxes.each((function(axis){axis instanceof CategoryAxis_CategoryAxis&&axis.disposeData()})),this.yAxes.each((function(axis){axis instanceof CategoryAxis_CategoryAxis&&axis.disposeData()}))},XYChart.prototype.addData=function(rawDataItem,removeCount){this.scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&this.addScrollbarData(this.scrollbarX,removeCount),this.scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&this.addScrollbarData(this.scrollbarY,removeCount),_super.prototype.addData.call(this,rawDataItem,removeCount)},XYChart.prototype.addScrollbarData=function(scrollbar,removeCount){var chart=scrollbar.scrollbarChart;chart._parseDataFrom=chart.data.length,chart.invalidateData()},XYChart.prototype.removeScrollbarData=function(scrollbar,removeCount){var chart=scrollbar.scrollbarChart;if(isNumber(removeCount)){for(;removeCount>0;){var dataItem=this.dataItems.getIndex(0);dataItem&&chart.dataItems.remove(dataItem),chart.dataUsers.each((function(dataUser){var dataItem=dataUser.dataItems.getIndex(0);dataItem&&dataUser.dataItems.remove(dataItem)})),chart._parseDataFrom--,removeCount--}chart.invalidateData()}},XYChart.prototype.removeData=function(count){this.scrollbarX instanceof XYChartScrollbar_XYChartScrollbar&&this.removeScrollbarData(this.scrollbarX,count),this.scrollbarY instanceof XYChartScrollbar_XYChartScrollbar&&this.removeScrollbarData(this.scrollbarY,count),_super.prototype.removeData.call(this,count)},XYChart.prototype.setTapToActivate=function(value){_super.prototype.setTapToActivate.call(this,value),this.cursor&&(this.cursor.interactions.isTouchProtected=value,this.plotContainer.interactions.isTouchProtected=value)},XYChart.prototype.handleTapToActivate=function(){_super.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},XYChart.prototype.handleTapToActivateDeactivation=function(){_super.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},XYChart}(SerialChart_SerialChart);Registry_registry.registeredClasses.XYChart=XYChart_XYChart,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof XYChart_XYChart&&target.scrollbarX){var state=target.states.create(stateId);return target.scrollbarX.states.create(stateId).properties.disabled=!0,state}return null}}),defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof XYChart_XYChart&&target.scrollbarY){var state=target.states.create(stateId);return target.scrollbarY.states.create(stateId).properties.disabled=!0,state}return null}});var LineSeriesSegment_LineSeriesSegment=function(_super){function LineSeriesSegment(){var _this=_super.call(this)||this;_this.className="LineSeriesSegment",_this.isMeasured=!1,_this.interactionsEnabled=!1,_this.layout="none";var fillSprite=_this.createChild(Sprite_Sprite);_this.fillSprite=fillSprite,fillSprite.shouldClone=!1,fillSprite.setElement(_this.paper.add("path")),fillSprite.isMeasured=!1,_this._disposers.push(fillSprite);var strokeSprite=_this.createChild(Sprite_Sprite);return _this.strokeSprite=strokeSprite,strokeSprite.shouldClone=!1,strokeSprite.fill=Color_color(),strokeSprite.setElement(_this.paper.add("path")),strokeSprite.isMeasured=!1,_this._disposers.push(strokeSprite),_this}return Object(tslib_es6.d)(LineSeriesSegment,_super),LineSeriesSegment.prototype.drawSegment=function(points,closePoints,smoothnessX,smoothnessY){if(!this.disabled)if(points.length>0&&closePoints.length>0){var path=moveTo({x:points[0].x-.2,y:points[0].y-.2})+moveTo(points[0]),series=this.series;"bezier"==series.smoothing?path+=new Smoothing_Tension(smoothnessX,smoothnessY).smooth(points):"monotoneX"==series.smoothing?path+=new Smoothing_MonotoneX({closed:!1}).smooth(points):"monotoneY"==series.smoothing&&(path+=new Smoothing_MonotoneY({closed:!1}).smooth(points)),0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=path),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&isNumber(closePoints[0].x)&&isNumber(closePoints[0].y)&&(path+=lineTo(closePoints[0]),"bezier"==series.smoothing?path+=new Smoothing_Tension(smoothnessX,smoothnessY).smooth(closePoints):"monotoneX"==series.smoothing?path+=new Smoothing_MonotoneX({closed:!1}).smooth(closePoints):"monotoneY"==series.smoothing&&(path+=new Smoothing_MonotoneY({closed:!1}).smooth(closePoints)),path+=lineTo(points[0]),path+=" Z",this.fillSprite.path=path)}else this.fillSprite.path="",this.strokeSprite.path=""},LineSeriesSegment.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source);var lineElement=this.strokeSprite;copyProperties(source,lineElement.properties,visualProperties),lineElement.events.copyFrom(source.strokeSprite.events),lineElement.fillOpacity=0;var fillElement=this.fillSprite;copyProperties(source,fillElement.properties,visualProperties),fillElement.events.copyFrom(source.fillSprite.events),fillElement.strokeOpacity=0},LineSeriesSegment}(Container_Container);Registry_registry.registeredClasses.LineSeriesSegment=LineSeriesSegment_LineSeriesSegment;var DurationAxis_DurationAxisDataItem=function(_super){function DurationAxisDataItem(){var _this=_super.call(this)||this;return _this.className="DurationAxisDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(DurationAxisDataItem,_super),DurationAxisDataItem}(ValueAxis_ValueAxisDataItem),DurationAxis_DurationAxis=function(_super){function DurationAxis(){var _this=_super.call(this)||this;return _this._baseUnit="second",_this.className="DurationAxis",_this.setPropertyValue("maxZoomFactor",1e6),_this.applyTheme(),_this}return Object(tslib_es6.d)(DurationAxis,_super),DurationAxis.prototype.formatLabel=function(value,format){return this.durationFormatter.format(value,format||this.axisDurationFormat)},DurationAxis.prototype.adjustMinMax=function(min,max,difference,gridCount,strictMode){var e_1,_a,minMaxStep,referenceValue,timeUnit=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==timeUnit||"second"==timeUnit||"minute"==timeUnit||"hour"==timeUnit){gridCount<=1&&(gridCount=1),gridCount=Math.round(gridCount);var initialMin=min,initialMax=max;0===difference&&(difference=Math.abs(max));var step,divisors=[60,30,20,15,10,2,1],realDivisor=1;"hour"==timeUnit&&(divisors=[24,12,6,4,2,1]);try{for(var divisors_1=Object(tslib_es6.k)(divisors),divisors_1_1=divisors_1.next();!divisors_1_1.done;divisors_1_1=divisors_1.next()){var divisor=divisors_1_1.value;if(difference/divisor>gridCount){realDivisor=divisor;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{divisors_1_1&&!divisors_1_1.done&&(_a=divisors_1.return)&&_a.call(divisors_1)}finally{if(e_1)throw e_1.error}}var count=Math.ceil((max-min)/realDivisor/gridCount),exponent=Math.log(Math.abs(count))*Math.LOG10E,power=Math.pow(10,Math.floor(exponent))/10;step=realDivisor*(count=(referenceValue=count/power,divisors.reduce((function(prev,curr){return Math.abs(curr-referenceValue)<Math.abs(prev-referenceValue)?curr:prev})))*power),this.durationFormatter.getValueUnit(step,this.baseUnit),min=Math.floor(min/step)*step,max=Math.ceil(max/step)*step,strictMode&&((min-=step)<0&&initialMin>=0&&(min=0),(max+=step)>0&&initialMax<=0&&(max=0)),minMaxStep={min:min,max:max,step:step}}else minMaxStep=_super.prototype.adjustMinMax.call(this,min,max,difference,gridCount,strictMode);return this.axisDurationFormat=this.durationFormatter.getFormat(minMaxStep.step,minMaxStep.max,this.baseUnit),minMaxStep},Object.defineProperty(DurationAxis.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(value){this._tooltipDurationFormat=value},enumerable:!0,configurable:!0}),DurationAxis.prototype.getTooltipText=function(position){var value=Math_round(this.positionToValue(position),this._stepDecimalPlaces),valueStr=this.formatLabel(value,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",valueStr):valueStr},Object.defineProperty(DurationAxis.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(timeUnit){this._baseUnit!=timeUnit&&(this._baseUnit=timeUnit,this.durationFormatter.baseUnit=timeUnit,this.invalidate())},enumerable:!0,configurable:!0}),DurationAxis.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.baseUnit=source.baseUnit},DurationAxis}(ValueAxis_ValueAxis);Registry_registry.registeredClasses.DurationAxis=DurationAxis_DurationAxis,Registry_registry.registeredClasses.DurationAxisDataItem=DurationAxis_DurationAxisDataItem;var LineSeries_LineSeriesDataItem=function(_super){function LineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="LineSeriesDataItem",_this}return Object(tslib_es6.d)(LineSeriesDataItem,_super),LineSeriesDataItem}(XYSeries_XYSeriesDataItem),LineSeries_LineSeries=function(_super){function LineSeries(){var _this=_super.call(this)||this;return _this.minDistance=.5,_this.segments=new List_ListTemplate(_this.createSegment()),_this.segments.template.applyOnClones=!0,_this._disposers.push(new List_ListDisposer(_this.segments)),_this._disposers.push(_this.segments.template),_this._segmentsIterator=new Iterator_ListIterator(_this.segments,(function(){return _this.segments.create()})),_this._segmentsIterator.createNewItems=!0,_this.className="LineSeries",_this.strokeOpacity=1,_this.fillOpacity=0,_this.connect=!0,_this.tensionX=1,_this.tensionY=1,_this.autoGapCount=1.1,_this.smoothing="bezier",_this.segmentsContainer=_this.mainContainer.createChild(Container_Container),_this.segmentsContainer.isMeasured=!1,_this.bulletsContainer.toFront(),_this.applyTheme(),_this}return Object(tslib_es6.d)(LineSeries,_super),LineSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},LineSeries.prototype.createSegment=function(){return new LineSeriesSegment_LineSeriesSegment},LineSeries.prototype.createDataItem=function(){return new LineSeries_LineSeriesDataItem},LineSeries.prototype.setInitialWorkingValues=function(dataItem){var yAxis=this._yAxis.get(),xAxis=this._xAxis.get();if(this.appeared&&this.visible){var previousDataItem=this.dataItems.getIndex(dataItem.index-1);if(dataItem.component=this,this.baseAxis==xAxis&&yAxis instanceof ValueAxis_ValueAxis){var initialY=yAxis.minZoomed;if(previousDataItem&&(initialY=previousDataItem.values.valueY.workingValue),dataItem.setWorkingValue("valueY",initialY,0),dataItem.setWorkingValue("valueY",dataItem.values.valueY.value),xAxis instanceof DateAxis_DateAxis)dataItem.setWorkingLocation("dateX",dataItem.locations.dateX-1,0),dataItem.setWorkingLocation("dateX",dataItem.locations.dateX);else if(xAxis instanceof DurationAxis_DurationAxis&&previousDataItem){var value=dataItem.valueX;dataItem.setWorkingValue("valueX",previousDataItem.valueX,0),dataItem.setWorkingValue("valueX",value)}}if(this.baseAxis==yAxis&&xAxis instanceof ValueAxis_ValueAxis){var initialX=xAxis.minZoomed;if(previousDataItem&&(initialX=previousDataItem.values.valueX.workingValue),dataItem.setWorkingValue("valueX",initialX,0),dataItem.setWorkingValue("valueX",dataItem.values.valueX.value),yAxis instanceof DateAxis_DateAxis)dataItem.setWorkingLocation("dateY",dataItem.locations.dateX-1,0),dataItem.setWorkingLocation("dateY",dataItem.locations.dateY);else if(yAxis instanceof DurationAxis_DurationAxis&&previousDataItem){value=dataItem.valueY;dataItem.setWorkingValue("valueY",previousDataItem.valueY,0),dataItem.setWorkingValue("valueY",value)}}}else this.baseAxis==xAxis&&yAxis instanceof ValueAxis_ValueAxis&&(xAxis instanceof DateAxis_DateAxis&&dataItem.setWorkingLocation("dateX",dataItem.locations.dateX),xAxis instanceof CategoryAxis_CategoryAxis&&dataItem.setWorkingLocation("categoryX",dataItem.locations.categoryX)),this.baseAxis==yAxis&&xAxis instanceof ValueAxis_ValueAxis&&(yAxis instanceof DateAxis_DateAxis&&dataItem.setWorkingLocation("dateY",dataItem.locations.dateY),yAxis instanceof CategoryAxis_CategoryAxis&&dataItem.setWorkingLocation("categoryY",dataItem.locations.categoryY))},LineSeries.prototype.updateLegendValue=function(dataItem,notRange){_super.prototype.updateLegendValue.call(this,dataItem,notRange),dataItem&&dataItem.segment&&(this.tooltipColorSource=dataItem.segment)},LineSeries.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),Iterator_each(this.axisRanges.iterator(),(function(range){_this.openSegmentWrapper(_this._adjustedStartIndex,range)})),Iterator_each(this._segmentsIterator.iterator(),(function(segment){segment.__disabled=!0})))},LineSeries.prototype.sliceData=function(){for(var startIndex=this.startIndex,endIndex=this.endIndex,i=this.startIndex-1;i>=0;i--){if((dataItem=this.dataItems.getIndex(i))&&dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)){startIndex=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(startIndex,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);i=this.endIndex;for(var len=this.dataItems.length;i<len;i++){var dataItem;if((dataItem=this.dataItems.getIndex(i))&&dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)){endIndex=i+1;break}}this._workingStartIndex=startIndex,this._workingEndIndex=endIndex},LineSeries.prototype.findAdjustedIndex=function(adjustedIndex,properties){var _this=this,propertyFields=this.propertyFields,startIndex=adjustedIndex;return each(properties,(function(property){if(Type_hasValue(propertyFields[property]))for(var i=startIndex;i>=0;i--){var dataItem=_this.dataItems.getIndex(i);if(dataItem&&Type_hasValue(dataItem.properties[property])){adjustedIndex>i&&(adjustedIndex=i);break}}})),adjustedIndex},LineSeries.prototype.openSegmentWrapper=function(openIndex,axisRange){var params={index:openIndex,axisRange:axisRange};do{params=this.openSegment(params.index,params.axisRange)}while(params)},LineSeries.prototype.getSegment=function(){var segment=this._segmentsIterator.getFirst();return segment.series=this,segment.isDisposed()?(this.segments.removeValue(segment),this.getSegment()):segment},LineSeries.prototype.openSegment=function(openIndex,axisRange){var addToClose=!1,points=[];openIndex=Math.min(openIndex,this.dataItems.length);var closeIndex,endIndex=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var propertiesChanged=!1,segment=this.getSegment();segment.strokeDasharray=void 0,segment.__disabled=!1,axisRange?(segment.parent=axisRange.contents,copyProperties(axisRange.contents,segment,visualProperties)):(copyProperties(this,segment,visualProperties),segment.filters.clear(),segment.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var connect=this.connect,valuesFound=!1,i=openIndex;i<endIndex;i++){var dataItem=this.dataItems.getIndex(i);if(dataItem.segment=segment,dataItem.hasProperties&&(i==openIndex?this.updateSegmentProperties(dataItem.properties,segment):propertiesChanged=this.updateSegmentProperties(dataItem.properties,segment,!0)),dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields))this.addPoints(points,dataItem,this.xField,this.yField),valuesFound=!0;else{if(i==openIndex)continue;if(!connect&&valuesFound){closeIndex=i;break}}if(closeIndex=i,this.baseAxis instanceof DateAxis_DateAxis){var next=this.dataItems.getIndex(i+1);if(next&&this.baseAxis.makeGap(next,dataItem)){addToClose=!0;break}}if(propertiesChanged)break}return this.closeSegment(segment,points,openIndex,closeIndex,axisRange,addToClose)},LineSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var point=this.getPoint(dataItem,xField,yField,dataItem.workingLocations[xField],dataItem.workingLocations[yField]);backwards||(dataItem.point=point),points.push(point)},LineSeries.prototype.closeSegment=function(segment,points,openIndex,closeIndex,axisRange,add){var closePoints=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var i=closeIndex;i>=openIndex;i--){var dataItem=this.dataItems.getIndex(i);dataItem.hasValue(this._xValueFields)&&dataItem.hasValue(this._yValueFields)&&this.addPoints(closePoints,dataItem,this.xOpenField,this.yOpenField,!0)}else{var baseAxis=this.baseAxis,count=points.length,xAxis=this.xAxis,yAxis=this.yAxis;count>0&&(baseAxis==xAxis?(closePoints.push({x:points[count-1].x,y:yAxis.basePoint.y}),closePoints.push({x:points[0].x,y:yAxis.basePoint.y})):(closePoints.push({x:xAxis.basePoint.x,y:points[count-1].y}),closePoints.push({x:xAxis.basePoint.x,y:points[0].y})))}return this.drawSegment(segment,points,closePoints),add&&closeIndex++,closeIndex<this._workingEndIndex-1?{index:closeIndex,axisRange:axisRange}:null},LineSeries.prototype.drawSegment=function(segment,points,closePoints){segment.drawSegment(points,closePoints,this.tensionX,this.tensionY)},LineSeries.prototype.updateSegmentProperties=function(itemProperties,segment,checkOnly){var changed=!1;return Object_each(itemProperties,(function(propertyName,value){if(Type_hasValue(value)){var currentValue=segment[propertyName],currentValueStr=void 0;currentValue&&(currentValueStr=currentValue.toString?currentValue.toString():currentValue);var valueStr=void 0;value&&(valueStr=value.toString?value.toString():value),currentValue==value||null!=currentValueStr&&null!=valueStr&&currentValueStr==valueStr||(checkOnly||(segment[propertyName]=value),changed=!0)}})),changed},Object.defineProperty(LineSeries.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(value){this.setPropertyValue("connect",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(LineSeries.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(value){this.setPropertyValue("tensionX",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(LineSeries.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(value){this.setPropertyValue("tensionY",value,!0)},enumerable:!0,configurable:!0}),LineSeries.prototype.createLegendMarker=function(marker){var _this=this,w=marker.pixelWidth,h=marker.pixelHeight;marker.disposeChildren();var line=marker.createChild(Line_Line);if(line.shouldClone=!1,copyProperties(this,line,visualProperties),line.x2=w,line.y=h/2,line.y2=1e-5,line.visible=!0,this.fillOpacity>0){var fill=marker.createChild(Rectangle_Rectangle);copyProperties(this,fill,visualProperties),fill.width=w,fill.height=h,fill.y=0,fill.strokeOpacity=0,fill.visible=!0,line.y=0}var legendDataItem=marker.dataItem;legendDataItem.color=this.stroke,legendDataItem.colorOrig=this.fill,Iterator_eachContinue(this.bullets.iterator(),(function(bullet){if(bullet instanceof Bullet_Bullet&&!bullet.copyToLegendMarker)return!1;var hasLabels=!1;if(bullet instanceof Container_Container&&Iterator_each(bullet.children.iterator(),(function(child){if(child instanceof Label_Label)return hasLabels=!0,!0})),!hasLabels){var clone=bullet.clone();return clone.parent=marker,clone.isMeasured=!0,clone.tooltipText=void 0,clone.x=w/2,_this.fillOpacity>0?clone.y=0:clone.y=h/2,clone.visible=!0,Type_hasValue(clone.fill)||(clone.fill=_this.fill),Type_hasValue(clone.stroke)||(clone.stroke=_this.stroke),!1}}))},LineSeries.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(LineSeries.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(value){this.setPropertyValue("autoGapCount",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(LineSeries.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(value){this.setPropertyValue("smoothing",value,!0)},enumerable:!0,configurable:!0}),LineSeries}(XYSeries_XYSeries);Registry_registry.registeredClasses.LineSeries=LineSeries_LineSeries,Registry_registry.registeredClasses.LineSeriesDataItem=LineSeries_LineSeriesDataItem;var RadarSeries_RadarSeriesDataItem=function(_super){function RadarSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="RadarSeriesDataItem",_this.setLocation("dateX",0,0),_this.setLocation("dateY",0,0),_this.setLocation("categoryX",0,0),_this.setLocation("categoryY",0,0),_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarSeriesDataItem,_super),RadarSeriesDataItem}(LineSeries_LineSeriesDataItem),RadarSeries_RadarSeries=function(_super){function RadarSeries(){var _this=_super.call(this)||this;return _this.className="RadarSeries",_this.connectEnds=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarSeries,_super),RadarSeries.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},RadarSeries.prototype.createDataItem=function(){return new RadarSeries_RadarSeriesDataItem},RadarSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){stackKeyX||(stackKeyX="valueX"),stackKeyY||(stackKeyY="valueY");var radius=getDistance({x:this.yAxis.getX(dataItem,yKey,locationY,stackKeyY),y:this.yAxis.getY(dataItem,yKey,locationY,stackKeyY)});0==radius&&(radius=1e-5);var angle=this.xAxis.getAngle(dataItem,xKey,locationX,stackKeyX),startAngle=this.chart.startAngle,endAngle=this.chart.endAngle;return angle<startAngle||angle>endAngle?void 0:{x:radius*Math_cos(angle),y:radius*Math_sin(angle)}},RadarSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var point=this.getPoint(dataItem,xField,yField,dataItem.locations[xField],dataItem.locations[yField]);point&&points.push(point)},RadarSeries.prototype.getMaskPath=function(){var renderer=this.yAxis.renderer;return Path_arc(renderer.startAngle,renderer.endAngle-renderer.startAngle,renderer.pixelRadius,renderer.pixelInnerRadius)},RadarSeries.prototype.drawSegment=function(segment,points,closePoints){var renderer=this.yAxis.renderer;this.connectEnds&&360==Math.abs(renderer.endAngle-renderer.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(points.push(points[0]),closePoints.length>0&&closePoints.unshift(closePoints[closePoints.length-1])),_super.prototype.drawSegment.call(this,segment,points,closePoints)},Object.defineProperty(RadarSeries.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(value){this.setPropertyValue("connectEnds",value,!0)},enumerable:!0,configurable:!0}),RadarSeries.prototype.positionBulletReal=function(bullet,positionX,positionY){var xAxis=this.xAxis,yAxis=this.yAxis;(positionX<xAxis.start||positionX>xAxis.end||positionY<yAxis.start||positionY>yAxis.end)&&(bullet.visible=!1),bullet.moveTo(this.xAxis.renderer.positionToPoint(positionX,positionY))},RadarSeries.prototype.setXAxis=function(axis){_super.prototype.setXAxis.call(this,axis),this.updateRendererRefs()},RadarSeries.prototype.setYAxis=function(axis){_super.prototype.setYAxis.call(this,axis),this.updateRendererRefs()},RadarSeries.prototype.updateRendererRefs=function(){var rendererX=this.xAxis.renderer,rendererY=this.yAxis.renderer;rendererX.axisRendererY=rendererY},RadarSeries}(LineSeries_LineSeries);Registry_registry.registeredClasses.RadarSeries=RadarSeries_RadarSeries,Registry_registry.registeredClasses.RadarSeriesDataItem=RadarSeries_RadarSeriesDataItem;var AxisFillCircular_AxisFillCircular=function(_super){function AxisFillCircular(axis){var _this=_super.call(this,axis)||this;return _this.className="AxisFillCircular",_this.element=_this.paper.add("path"),_this.radius=Percent_percent(100),_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisFillCircular,_super),AxisFillCircular.prototype.draw=function(){if(_super.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var renderer=this.axis.renderer;this.fillPath=renderer.getPositionRangePath(this.startPosition,this.endPosition,this.radius,Type_hasValue(this.innerRadius)?this.innerRadius:renderer.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(AxisFillCircular.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFillCircular.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisFillCircular.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(value){this.setPropertyValue("cornerRadius",value,!0)},enumerable:!0,configurable:!0}),AxisFillCircular}(AxisFill_AxisFill);Registry_registry.registeredClasses.AxisFillCircular=AxisFillCircular_AxisFillCircular;var GridCircular_GridCircular=function(_super){function GridCircular(){var _this=_super.call(this)||this;return _this.className="GridCircular",_this.pixelPerfect=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(GridCircular,_super),Object.defineProperty(GridCircular.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(GridCircular.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),GridCircular}(Grid_Grid);Registry_registry.registeredClasses.GridCircular=GridCircular_GridCircular;var AxisLabelCircular_AxisLabelCircular=function(_super){function AxisLabelCircular(){var _this=_super.call(this)||this;return _this.fdx=0,_this.fdy=0,_this.className="AxisLabelCircular",_this.padding(0,0,0,0),_this.location=.5,_this.locationOnPath=.5,_this.radius=0,_this.isMeasured=!1,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisLabelCircular,_super),Object.defineProperty(AxisLabelCircular.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(value){if(this.setPropertyValue("relativeRotation",value,!0),!Type_hasValue(value)){this.rotation=void 0;var dataItem=this.dataItem;dataItem&&dataItem.component&&dataItem.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabelCircular.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisLabelCircular.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(value){this.setPropertyValue("bent",value,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),value?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),AxisLabelCircular.prototype.pixelRadius=function(axisRadius){var sign=1;return this.inside&&(sign=-1),relativeToValue(this.radius,axisRadius)*sign},AxisLabelCircular.prototype.pixelRadiusY=function(axisRadius,axisRadiusY){var sign=1;this.inside&&(sign=-1);var radius=this.radius;return isNumber(radius)?relativeToValue(radius*=axisRadiusY/axisRadius,axisRadius)*sign:relativeToValue(radius,axisRadiusY)*sign},AxisLabelCircular.prototype.fixPosition=function(angle,axisRadius,axisRadiusY,dx,dy){isNumber(axisRadiusY)||(axisRadiusY=axisRadius),isNumber(dx)||(dx=0),isNumber(dy)||(dy=0);var point={x:axisRadius*Math_cos(angle),y:axisRadiusY*Math_sin(angle)};this.invalid&&this.validate();var isNegative=!1,realRadius=this.radius;realRadius instanceof Percent&&realRadius.value<0?isNegative=!0:realRadius<0&&(isNegative=!0);var relativeRotation=this.relativeRotation,labelRadius=this.pixelRadius(axisRadius);if(this.bent){var point_1={x:(axisRadius+labelRadius)*Math_cos(angle+180),y:(axisRadiusY+labelRadius*axisRadiusY/axisRadius)*Math_sin(angle+180)};return this.path=moveTo(point_1)+arcTo(angle+180,360,axisRadius+labelRadius,axisRadiusY+labelRadius*axisRadiusY/axisRadius),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(isNumber(relativeRotation)){this.horizontalCenter="none",this.verticalCenter="none",angle=fitAngleToRange(angle,-180,180);var pixelWidth=this.bbox.width,pixelHeight=this.bbox.height,pixelPaddingBottom=this.pixelPaddingBottom,pixelPaddingTop=this.pixelPaddingTop,pixelPaddingLeft=this.pixelPaddingLeft,pixelPaddingRight=this.pixelPaddingRight;angle>90||angle<-90?-90==relativeRotation&&(relativeRotation=90,pixelWidth=0):(-90==relativeRotation&&(pixelHeight=-pixelHeight),90==relativeRotation&&(relativeRotation=-90,pixelWidth=-pixelPaddingLeft-pixelPaddingRight,pixelHeight=-pixelHeight-pixelPaddingTop-pixelPaddingBottom)),this.rotation=relativeRotation+angle+90;var dH=Math_sin(relativeRotation)/2,dW=Math_cos(relativeRotation)/2,rotation=this.rotation;this.dx=pixelHeight*dH*Math_sin(rotation)-pixelWidth*dW*Math_cos(rotation),this.dy=-pixelHeight*dH*Math_cos(rotation)-pixelWidth*dW*Math_sin(rotation),this.inside?angle>90||angle<-90?labelRadius-=(pixelPaddingBottom+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelPaddingLeft+pixelPaddingRight)*Math_sin(relativeRotation):labelRadius+=(pixelPaddingBottom+this.bbox.height+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelPaddingLeft+pixelPaddingRight+this.bbox.width)*Math_sin(relativeRotation):labelRadius+=(pixelHeight+pixelPaddingBottom+pixelPaddingTop)*Math_cos(relativeRotation)+(pixelWidth+pixelPaddingLeft+pixelPaddingRight)*Math_sin(relativeRotation),point.x+=Math_cos(angle)*labelRadius,point.y+=Math_sin(angle)*labelRadius*axisRadiusY/axisRadius}else this.horizontalCenter="middle",this.verticalCenter="middle",isNegative?(this.dx=0,this.dy=0,point.x=(axisRadius+labelRadius)*Math_cos(angle),point.y=(axisRadiusY+labelRadius*axisRadiusY/axisRadius)*Math_sin(angle)):(this.dy=this._measuredHeight/2*Math_sin(angle),this.dx=this._measuredWidth/2*Math_cos(angle),point.x+=Math_cos(angle)*labelRadius,point.y+=Math_sin(angle)*labelRadius*axisRadiusY/axisRadius);point.x+=dx,point.y+=dy,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(point)},AxisLabelCircular}(AxisLabel_AxisLabel);Registry_registry.registeredClasses.AxisLabelCircular=AxisLabelCircular_AxisLabelCircular;var AxisRendererCircular_AxisRendererCircular=function(_super){function AxisRendererCircular(){var _this=_super.call(this)||this;return _this.pixelRadiusReal=0,_this.layout="none",_this.className="AxisRendererCircular",_this.isMeasured=!1,_this.startAngle=-90,_this.endAngle=270,_this.useChartAngles=!0,_this.radius=Percent_percent(100),_this.isMeasured=!1,_this.grid.template.location=0,_this.labels.template.location=0,_this.labels.template.radius=15,_this.ticks.template.location=0,_this.ticks.template.pixelPerfect=!1,_this.tooltipLocation=0,_this.line.strokeOpacity=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererCircular,_super),AxisRendererCircular.prototype.setAxis=function(axis){var _this=this;_super.prototype.setAxis.call(this,axis),axis.isMeasured=!1;var tooltip=axis.tooltip;tooltip.adapter.add("dx",(function(x,target){var point=svgPointToSprite({x:target.pixelX,y:target.pixelY},_this);return _this.pixelRadius*Math.cos(Math.atan2(point.y,point.x))-point.x})),tooltip.adapter.add("dy",(function(y,target){var point=svgPointToSprite({x:target.pixelX,y:target.pixelY},_this);return _this.pixelRadius*Math.sin(Math.atan2(point.y,point.x))-point.y}))},AxisRendererCircular.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},Object.defineProperty(AxisRendererCircular.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"innerRadius",{get:function(){var chart=this.chart,innerRadius=this.getPropertyValue("innerRadius");if(chart){if(Type_hasValue(innerRadius)){if(innerRadius instanceof Percent&&chart){var mr=chart.mr,value=innerRadius.value;innerRadius=Percent_percent(100*(value=Math.max(mr*value,mr-Math.min(chart.plotContainer.innerHeight,chart.plotContainer.innerWidth))/mr))}}else(innerRadius=chart.innerRadius)instanceof Percent&&chart&&(innerRadius=Percent_percent(innerRadius.value*chart.innerRadiusModifyer*100));return innerRadius}},set:function(value){this.setPercentProperty("innerRadius",value,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(value){this.setPropertyValue("useChartAngles",value)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),AxisRendererCircular.prototype.positionToPoint=function(position,position2){isNumber(position2)||(position2=1);var coordinate=this.positionToCoordinate(position),angle=this.startAngle+(this.endAngle-this.startAngle)*coordinate/this.axisLength,radius=this.pixelRadius,innerRadius=this.pixelInnerRadius;if(this.axisRendererY){var realRadius=fitToRange(this.axisRendererY.positionToCoordinate(position2),0,1/0);return{x:realRadius*Math_cos(angle),y:realRadius*Math_sin(angle)}}return{x:Math_cos(angle)*innerRadius+(radius-innerRadius)*Math_cos(angle)*position2,y:Math_sin(angle)*innerRadius+(radius-innerRadius)*Math_sin(angle)*position2}},AxisRendererCircular.prototype.positionToAngle=function(position){var axis=this.axis,arc=(this.endAngle-this.startAngle)/(axis.end-axis.start);return Math_round(axis.renderer.inversed?this.startAngle+(axis.end-position)*arc:this.startAngle+(position-axis.start)*arc,3)},AxisRendererCircular.prototype.angleToPosition=function(angle){var axis=this.axis,arc=(this.endAngle-this.startAngle)/(axis.end-axis.start);return Math_round(axis.renderer.inversed?axis.end-(angle-this.startAngle)/arc:(angle-this.startAngle)/arc+axis.start,5)},AxisRendererCircular.prototype.updateAxisLine=function(){var radius=this.pixelRadius,startAngle=this.startAngle,arc=Math_min(360,this.endAngle-startAngle);this.line.path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,arc,radius,radius)},AxisRendererCircular.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var point=this.positionToPoint(position);if(isNumber(point.x)&&isNumber(point.y)&&grid.element){var angle=DEGREES*Math.atan2(point.y,point.x),radius=relativeRadiusToValue(Type_hasValue(grid.radius)?grid.radius:Percent_percent(100),this.pixelRadius),gridInnerRadius=relativeRadiusToValue(grid.innerRadius,this.pixelRadius);grid.zIndex=0;var innerRadius=relativeRadiusToValue(isNumber(gridInnerRadius)?gridInnerRadius:this.innerRadius,this.pixelRadiusReal,!0);isNumber(innerRadius)||(innerRadius=0),grid.path=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})}this.toggleVisibility(grid,position,0,1)},AxisRendererCircular.prototype.updateTickElement=function(tick,position,endPosition){position+=(endPosition-position)*tick.location;var point=this.positionToPoint(position);if(tick.element){var radius=this.pixelRadius,angle=DEGREES*Math.atan2(point.y,point.x),tickLength=tick.length;tick.inside&&(tickLength=-tickLength),tick.zIndex=1,tick.path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})+lineTo({x:(radius+tickLength)*Math_cos(angle),y:(radius+tickLength)*Math_sin(angle)})}this.toggleVisibility(tick,position,0,1)},AxisRendererCircular.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position),radius=this.pixelRadius,angle=DEGREES*Math.atan2(point.y,point.x);point={x:radius*Math_cos(angle),y:radius*Math_sin(angle)},this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererCircular.prototype.updateLabelElement=function(label,position,endPosition,location){Type_hasValue(location)||(location=label.location),position+=(endPosition-position)*location,label.fixPosition(this.positionToAngle(position),this.pixelRadius),label.zIndex=2,this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererCircular.prototype.fitsToBounds=function(point){return!0},Object.defineProperty(AxisRendererCircular.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererCircular.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),AxisRendererCircular.prototype.getPositionRangePath=function(startPosition,endPosition,radius,innerRadius,cornerRadius){var path="";if(isNumber(startPosition)&&isNumber(endPosition)){Type_hasValue(radius)||(radius=this.radius),startPosition=Math_max(startPosition,this.axis.start),(endPosition=Math_min(endPosition,this.axis.end))<startPosition&&(endPosition=startPosition);var pixelRadius=relativeRadiusToValue(radius,this.pixelRadius),pixelInnerRadius=relativeRadiusToValue(innerRadius,this.pixelRadius,!0),startAngle=this.positionToAngle(startPosition);path=Path_arc(startAngle,this.positionToAngle(endPosition)-startAngle,pixelRadius,pixelInnerRadius,pixelRadius,cornerRadius)}return path},AxisRendererCircular.prototype.createGrid=function(){return new GridCircular_GridCircular},AxisRendererCircular.prototype.createFill=function(axis){return new AxisFillCircular_AxisFillCircular(axis)},AxisRendererCircular.prototype.createLabel=function(){return new AxisLabelCircular_AxisLabelCircular},AxisRendererCircular.prototype.pointToPosition=function(point){var angle=fitAngleToRange(getAngle(point),this.startAngle,this.endAngle);return this.coordinateToPosition((angle-this.startAngle)/360*this.axisLength)},AxisRendererCircular}(AxisRenderer_AxisRenderer);Registry_registry.registeredClasses.AxisRendererCircular=AxisRendererCircular_AxisRendererCircular;var AxisRendererRadial_AxisRendererRadial=function(_super){function AxisRendererRadial(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.pixelRadiusReal=0,_this.className="AxisRendererRadial",_this.isMeasured=!1,_this.startAngle=-90,_this.endAngle=270,_this.minGridDistance=30,_this.gridType="circles",_this.axisAngle=-90,_this.isMeasured=!1,_this.layout="none",_this.radius=Percent_percent(100),_this.line.strokeOpacity=0,_this.labels.template.horizontalCenter="middle",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererRadial,_super),AxisRendererRadial.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},Object.defineProperty(AxisRendererRadial.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"innerRadius",{get:function(){var chart=this.chart,innerRadius=this.getPropertyValue("innerRadius");if(chart)if(Type_hasValue(innerRadius)){if(innerRadius instanceof Percent&&chart){var mr=chart.mr,value=innerRadius.value;innerRadius=Percent_percent(100*(value=Math.max(mr*value,mr-Math.min(chart.plotContainer.innerHeight,chart.plotContainer.innerWidth))/mr))}}else(innerRadius=chart.innerRadius)instanceof Percent&&chart&&(innerRadius=Percent_percent(innerRadius.value*chart.innerRadiusModifyer*100));return innerRadius},set:function(value){this.setPercentProperty("innerRadius",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),AxisRendererRadial.prototype.positionToPoint=function(position,position2){var radius=fitToRange(this.positionToCoordinate(position),0,1/0);return{x:radius*Math_cos(this.axisAngle),y:radius*Math_sin(this.axisAngle)}},AxisRendererRadial.prototype.updateAxisLine=function(){this.line.path=moveTo({x:this.pixelInnerRadius*Math_cos(this.axisAngle),y:this.pixelInnerRadius*Math_sin(this.axisAngle)})+lineTo({x:this.pixelRadius*Math_cos(this.axisAngle),y:this.pixelRadius*Math_sin(this.axisAngle)});var title=this.axis.title;title.valign="none",title.horizontalCenter="middle",title.verticalCenter="bottom",title.y=-this.axisLength/2;var rotation=90;this.opposite?this.inside||(rotation=-90):this.inside&&(rotation=-90),title.rotation=rotation},AxisRendererRadial.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var path,radius=getDistance(this.positionToPoint(position)),startAngle=this.startAngle,endAngle=this.endAngle,chart=this.chart;if(isNumber(radius)&&grid.element&&chart){var xAxis=chart.xAxes.getIndex(0),count=0,series=chart.series.getIndex(0);if(series&&(count=series.dataItems.length),"polygons"==this.gridType&&count>0&&series&&xAxis&&xAxis instanceof CategoryAxis_CategoryAxis){var gridLocation=xAxis.renderer.grid.template.location,angle=xAxis.getAngle(series.dataItems.getIndex(0),"categoryX",gridLocation);path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)});for(var i=1;i<count;i++)path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),"categoryX",gridLocation)),y:radius*Math_sin(angle)});path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(count-1),"categoryX",xAxis.renderer.cellEndLocation)),y:radius*Math_sin(angle)})}else path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,radius,radius);grid.path=path}this.toggleVisibility(grid,position,0,1)},AxisRendererRadial.prototype.updateLabelElement=function(label,position,endPosition,location){Type_hasValue(location)||(location=label.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position);this.positionItem(label,point),this.toggleVisibility(label,position,this.minLabelPosition,this.maxLabelPosition)},AxisRendererRadial.prototype.updateBaseGridElement=function(){},AxisRendererRadial.prototype.fitsToBounds=function(point){return!0},Object.defineProperty(AxisRendererRadial.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(value){this.setPropertyValue("axisAngle",normalizeAngle(value)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(AxisRendererRadial.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof CategoryAxis_CategoryAxis?this.getPropertyValue("gridType"):"circles"},set:function(value){this.setPropertyValue("gridType",value,!0)},enumerable:!0,configurable:!0}),AxisRendererRadial.prototype.getPositionRangePath=function(startPosition,endPosition){var path,pixelInnerRadius=this.pixelInnerRadius,pixelRadius=this.axisLength+pixelInnerRadius,innerRadius=fitToRange(this.positionToCoordinate(startPosition),pixelInnerRadius,pixelRadius),radius=fitToRange(this.positionToCoordinate(endPosition),pixelInnerRadius,pixelRadius),startAngle=this.startAngle,arc=this.endAngle-startAngle,chart=this.chart,xAxis=chart.xAxes.getIndex(0),series=chart.series.getIndex(0),count=0;if(series&&(count=series.dataItems.length),"polygons"==this.gridType&&count>0&&series&&xAxis&&xAxis instanceof CategoryAxis_CategoryAxis){var gridLocation=xAxis.renderer.grid.template.location,angle=xAxis.getAngle(series.dataItems.getIndex(0),"categoryX",gridLocation);path=moveTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)});for(var i=1;i<count;i++)path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),"categoryX",gridLocation)),y:radius*Math_sin(angle)});path+=lineTo({x:radius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(count-1),"categoryX",xAxis.renderer.cellEndLocation)),y:radius*Math_sin(angle)}),path+=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)});for(i=count-1;i>=0;i--)path+=lineTo({x:innerRadius*Math_cos(angle=xAxis.getAngle(series.dataItems.getIndex(i),"categoryX",gridLocation)),y:innerRadius*Math_sin(angle)})}else path=Path_arc(startAngle,arc,radius,innerRadius);return path},AxisRendererRadial.prototype.updateBreakElement=function(axisBreak){var startLine=axisBreak.startLine,endLine=axisBreak.endLine,fillShape=axisBreak.fillShape,startPoint=axisBreak.startPoint,endPoint=axisBreak.endPoint;startLine.radius=Math.abs(startPoint.y),endLine.radius=Math.abs(endPoint.y),fillShape.radius=Math.abs(endPoint.y),fillShape.innerRadius=Math.abs(startPoint.y)},AxisRendererRadial.prototype.createBreakSprites=function(axisBreak){axisBreak.startLine=new WavedCircle_WavedCircle,axisBreak.endLine=new WavedCircle_WavedCircle,axisBreak.fillShape=new WavedCircle_WavedCircle},AxisRendererRadial.prototype.updateTooltip=function(){if(this.axis){var axisAngle=this.axisAngle;axisAngle<0&&(axisAngle+=360);var tooltipOrientation="vertical";(axisAngle>45&&axisAngle<135||axisAngle>225&&axisAngle<315)&&(tooltipOrientation="horizontal"),this.axis.updateTooltip(tooltipOrientation,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},AxisRendererRadial.prototype.updateTickElement=function(tick,position,endPosition){position+=(endPosition-position)*tick.location;var point=this.positionToPoint(position);if(tick.element){var angle=normalizeAngle(this.axisAngle+90);angle/90!=Math.round(angle/90)?tick.pixelPerfect=!1:tick.pixelPerfect=!0;var tickLength=-tick.length;tick.inside&&(tickLength*=-1),tick.path=moveTo({x:0,y:0})+lineTo({x:tickLength*Math_cos(angle),y:tickLength*Math_sin(angle)})}this.positionItem(tick,point),this.toggleVisibility(tick,position,0,1)},AxisRendererRadial.prototype.updateBullet=function(bullet,position,endPosition){var location=.5;bullet instanceof AxisBullet_AxisBullet&&(location=bullet.location),position+=(endPosition-position)*location;var point=this.positionToPoint(position);this.positionItem(bullet,point),this.toggleVisibility(bullet,position,0,1)},AxisRendererRadial.prototype.positionToCoordinate=function(position){var axis=this.axis,axisFullLength=axis.axisFullLength,innerRadius=this.pixelInnerRadius;return Math_round(axis.renderer.inversed?(axis.end-position)*axisFullLength+innerRadius:(position-axis.start)*axisFullLength+innerRadius,1)},AxisRendererRadial.prototype.pointToPosition=function(point){var coordinate=getDistance(point)-this.pixelInnerRadius;return this.coordinateToPosition(coordinate)},Object.defineProperty(AxisRendererRadial.prototype,"chart",{get:function(){return this._chart.get()},set:function(value){this._chart.set(value,null)},enumerable:!0,configurable:!0}),AxisRendererRadial}(AxisRendererY_AxisRendererY);Registry_registry.registeredClasses.AxisRendererRadial=AxisRendererRadial_AxisRendererRadial;var RadarChart_RadarChartDataItem=function(_super){function RadarChartDataItem(){var _this=_super.call(this)||this;return _this.className="RadarChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarChartDataItem,_super),RadarChartDataItem}(XYChart_XYChartDataItem),RadarChart_RadarChart=function(_super){function RadarChart(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererCircular_AxisRendererCircular,_this._axisRendererY=AxisRendererRadial_AxisRendererRadial,_this.innerRadiusModifyer=1,_this.mr=1,_this.className="RadarChart",_this.startAngle=-90,_this.endAngle=270,_this.radius=Percent_percent(80),_this.innerRadius=0;var radarContainer=_this.plotContainer.createChild(Container_Container);return radarContainer.shouldClone=!1,radarContainer.layout="absolute",radarContainer.align="center",radarContainer.valign="middle",_this.seriesContainer.parent=radarContainer,_this.radarContainer=radarContainer,_this.bulletsContainer.parent=radarContainer,_this.axisBulletsContainer=radarContainer,_this._cursorContainer=radarContainer,_this.chartContainer.events.on("maxsizechanged",_this.invalidate,_this,!1),_this._bulletMask=radarContainer.createChild(Circle_Circle),_this._bulletMask.shouldClone=!1,_this._bulletMask.element=_this.paper.add("path"),_this._bulletMask.opacity=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarChart,_super),RadarChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},RadarChart.prototype.processAxis=function(axis){_super.prototype.processAxis.call(this,axis);var renderer=axis.renderer;renderer.gridContainer.parent=renderer,renderer.breakContainer.parent=renderer,axis.parent=this.radarContainer,renderer.toBack()},RadarChart.prototype.handleXAxisRangeChange=function(){_super.prototype.handleXAxisRangeChange.call(this),Iterator_each(this.yAxes.iterator(),(function(axis){axis.invalidate()}))},RadarChart.prototype.handleYAxisRangeChange=function(){_super.prototype.handleYAxisRangeChange.call(this),Iterator_each(this.xAxes.iterator(),(function(axis){axis.invalidate()}))},RadarChart.prototype.processConfig=function(config){if(config&&(Type_hasValue(config.cursor)&&!Type_hasValue(config.cursor.type)&&(config.cursor.type="RadarCursor"),Type_hasValue(config.series)&&Type_isArray(config.series)))for(var i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||"RadarSeries";_super.prototype.processConfig.call(this,config)},RadarChart.prototype.beforeDraw=function(){_super.prototype.beforeDraw.call(this);var plotContainer=this.plotContainer,rect=getArcRect(this.startAngle,this.endAngle,1),innerRect={x:0,y:0,width:0,height:0},wr=plotContainer.innerWidth/rect.width,hr=plotContainer.innerHeight/rect.height,innerRadius=this.innerRadius;if(innerRadius instanceof Percent){var value=innerRadius.value,mr=Math.min(wr,hr);this.mr=mr,value=Math.max(mr*value,mr-Math.min(plotContainer.innerHeight,plotContainer.innerWidth))/mr,innerRect=getArcRect(this.startAngle,this.endAngle,value),this.innerRadiusModifyer=value/innerRadius.value,innerRadius=Percent_percent(100*value)}rect=getCommonRectangle([rect,innerRect]);var maxRadius=Math.min(plotContainer.innerWidth/rect.width,plotContainer.innerHeight/rect.height),diameter=2*relativeRadiusToValue(this.radius,maxRadius)||0,radius=diameter/2,startAngle=this.startAngle,endAngle=this.endAngle;this._pixelInnerRadius=relativeRadiusToValue(innerRadius,radius),this._bulletMask.path=Path_arc(startAngle,endAngle-startAngle,radius,this._pixelInnerRadius),Iterator_each(this.xAxes.iterator(),(function(axis){axis.renderer.useChartAngles&&(axis.renderer.startAngle=startAngle,axis.renderer.endAngle=endAngle),axis.width=diameter,axis.height=diameter,axis.renderer.pixelRadiusReal=radius})),Iterator_each(this.yAxes.iterator(),(function(axis){axis.renderer.startAngle=startAngle,axis.renderer.endAngle=endAngle,axis.width=diameter,axis.height=diameter,axis.renderer.pixelRadiusReal=radius}));var cursor=this.cursor;cursor&&(cursor.width=diameter,cursor.height=diameter,cursor.startAngle=startAngle,cursor.endAngle=endAngle),this.radarContainer.definedBBox={x:radius*rect.x,y:radius*rect.y,width:radius*rect.width,height:radius*rect.height},this.radarContainer.validatePosition()},RadarChart.prototype.createSeries=function(){return new RadarSeries_RadarSeries},Object.defineProperty(RadarChart.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(RadarChart.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),RadarChart.prototype.updateXAxis=function(renderer){renderer&&renderer.processRenderer()},RadarChart.prototype.updateYAxis=function(renderer){renderer&&renderer.processRenderer()},RadarChart}(XYChart_XYChart);Registry_registry.registeredClasses.RadarChart=RadarChart_RadarChart;var ClockHand_ClockHand=function(_super){function ClockHand(){var _this=_super.call(this)||this;_this._axis=new Disposer_MutableValueDisposer,_this.className="ClockHand";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.fill=interfaceColors.getFor("alternativeBackground"),_this.stroke=_this.fill;var pin=new Circle_Circle;pin.radius=5,_this.pin=pin,_this.isMeasured=!1,_this.startWidth=5,_this.endWidth=1,_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.radius=Percent_percent(100),_this.innerRadius=Percent_percent(0);var hand=new Trapezoid_Trapezoid;return _this.hand=hand,_this._disposers.push(_this._axis),_this.applyTheme(),_this}return Object(tslib_es6.d)(ClockHand,_super),ClockHand.prototype.validate=function(){_super.prototype.validate.call(this);var hand=this.hand;hand.width=this.pixelWidth;var h=Math.max(this.startWidth,this.endWidth);if(hand.height=h,hand.leftSide=Percent_percent(this.startWidth/h*100),hand.rightSide=Percent_percent(this.endWidth/h*100),this.axis){var renderer=this.axis.renderer,x0=relativeRadiusToValue(this.innerRadius,renderer.pixelRadius),x1=relativeRadiusToValue(this.radius,renderer.pixelRadius);hand.x=x0,hand.y=-h/2,hand.width=x1-x0}},Object.defineProperty(ClockHand.prototype,"pin",{get:function(){return this._pin},set:function(pin){this._pin&&this.removeDispose(this._pin),pin&&(this._pin=pin,pin.parent=this,this._disposers.push(pin))},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"hand",{get:function(){return this._hand},set:function(hand){this._hand&&this.removeDispose(this._hand),hand&&(this._hand=hand,hand.parent=this,this._disposers.push(hand))},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(value){this.setPropertyValue("startWidth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(value){this.setPropertyValue("endWidth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(value){this.setPropertyValue("rotationDirection",value)},enumerable:!0,configurable:!0}),ClockHand.prototype.showValue=function(value,duration,easing){if(this._value=value,null!=value&&(isNumber(duration)||(duration=0),this.axis)){var newAngle=this.axis.renderer.positionToAngle(this.axis.anyToPosition(value)),currentAngle=this.rotation;"clockWise"==this.rotationDirection&&newAngle<currentAngle&&(this.rotation=currentAngle-360),"counterClockWise"==this.rotationDirection&&newAngle>currentAngle&&(this.rotation=currentAngle+360),this.animate({property:"rotation",to:newAngle},duration,easing)}},Object.defineProperty(ClockHand.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"value",{get:function(){return this._value},set:function(value){this.showValue(value)},enumerable:!0,configurable:!0}),Object.defineProperty(ClockHand.prototype,"axis",{get:function(){return this._axis.get()},set:function(axis){if(this.axis!=axis&&this._axis.set(axis,new Disposer_MultiDisposer([axis.events.on("datavalidated",this.updateValue,this,!1),axis.events.on("datarangechanged",this.updateValue,this,!1),axis.events.on("dataitemsvalidated",this.updateValue,this,!1),axis.events.on("propertychanged",this.invalidate,this,!1)])),axis){var chart=axis.chart;chart&&(this.rotation=chart.startAngle)}this.parent=axis.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),ClockHand.prototype.updateValue=function(){this.value=this.value},ClockHand.prototype.processConfig=function(config){config&&Type_hasValue(config.axis)&&isString(config.axis)&&this.map.hasKey(config.axis)&&(config.axis=this.map.getKey(config.axis)),_super.prototype.processConfig.call(this,config)},ClockHand}(Container_Container);Registry_registry.registeredClasses.ClockHand=ClockHand_ClockHand;!function(_super){function GaugeChartDataItem(){var _this=_super.call(this)||this;return _this.className="GaugeChartDataItem",_this.applyTheme(),_this}Object(tslib_es6.d)(GaugeChartDataItem,_super)}(RadarChart_RadarChartDataItem);var GaugeChart_GaugeChart=function(_super){function GaugeChart(){var _this=_super.call(this)||this;return _this.className="GaugeChart",_this.startAngle=180,_this.endAngle=360,_this.hands=new List_ListTemplate(new ClockHand_ClockHand),_this.hands.events.on("inserted",_this.processHand,_this,!1),_this._disposers.push(new List_ListDisposer(_this.hands)),_this._disposers.push(_this.hands.template),_this.applyTheme(),_this}return Object(tslib_es6.d)(GaugeChart,_super),GaugeChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},GaugeChart.prototype.processHand=function(event){var hand=event.newValue;hand.axis||(hand.axis=this.xAxes.getIndex(0))},GaugeChart.prototype.configOrder=function(a,b){return a==b?0:"hands"==a?1:"hands"==b?-1:_super.prototype.configOrder.call(this,a,b)},GaugeChart}(RadarChart_RadarChart);Registry_registry.registeredClasses.GaugeChart=GaugeChart_GaugeChart;var PercentSeries_PercentSeriesDataItem=function(_super){function PercentSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="PercentSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(PercentSeriesDataItem,_super),PercentSeriesDataItem.prototype.uidAttr=function(){return this.slice.uidAttr()},PercentSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){return fields||(fields=["value"]),_super.prototype.hide.call(this,duration,delay,0,fields)},PercentSeriesDataItem.prototype.setVisibility=function(value,noChangeValues){noChangeValues||(value?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),_super.prototype.setVisibility.call(this,value,noChangeValues)},PercentSeriesDataItem.prototype.show=function(duration,delay,fields){return fields||(fields=["value"]),_super.prototype.show.call(this,duration,delay,fields)},Object.defineProperty(PercentSeriesDataItem.prototype,"category",{get:function(){return this.properties.category},set:function(value){this.setProperty("category",value)},enumerable:!0,configurable:!0}),PercentSeriesDataItem.prototype.createLegendMarker=function(marker){this.component.createLegendMarker(marker,this)},Object.defineProperty(PercentSeriesDataItem.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,value.label&&(value.label.dataItem=this),value.valueLabel&&(value.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,"tick",{get:function(){var _this=this;if(!this._tick){var tick_1=this.component.ticks.create();this._tick=tick_1,this.addSprite(tick_1),this._disposers.push(tick_1),tick_1.parent=this.component.ticksContainer,this._disposers.push(new Disposer((function(){_this.component&&_this.component.ticks.removeValue(tick_1)}))),tick_1.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,"label",{get:function(){var _this=this;if(!this._label){var label_1=this.component.labels.create();this.addSprite(label_1),this._label=label_1,this._disposers.push(label_1),label_1.parent=this.component.labelsContainer,this._disposers.push(new Disposer((function(){_this.component&&_this.component.labels.removeValue(label_1)}))),label_1.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,"slice",{get:function(){var _this=this;if(!this._slice){var component_1=this.component,slice_1=component_1.slices.create();this.addSprite(slice_1),this._slice=slice_1,this._disposers.push(slice_1),slice_1.parent=component_1.slicesContainer,this._disposers.push(new Disposer((function(){component_1.slices.removeValue(slice_1)}))),slice_1.visible=this.visible,component_1.itemsFocusable()?(Type_hasValue(this.component.role)||(this.component.role="menu"),Type_hasValue(slice_1.role)||(slice_1.role="menuitem"),slice_1.focusable=!0):(Type_hasValue(this.component.role)||(this.component.role="list"),Type_hasValue(slice_1.role)||(slice_1.role="listitem"),slice_1.focusable=!1),slice_1.focusable&&(slice_1.events.on("focus",(function(ev){slice_1.readerTitle=component_1.populateString(component_1.itemReaderText,_this)}),void 0,!1),slice_1.events.on("blur",(function(ev){slice_1.readerTitle=""}),void 0,!1)),slice_1.hoverable&&(slice_1.events.on("over",(function(ev){slice_1.readerTitle=component_1.populateString(component_1.itemReaderText,_this)}),void 0,!1),slice_1.events.on("out",(function(ev){slice_1.readerTitle=""}),void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeriesDataItem.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(value){this.setProperty("hiddenInLegend",value)},enumerable:!0,configurable:!0}),PercentSeriesDataItem}(Series_SeriesDataItem),PercentSeries_PercentSeries=function(_super){function PercentSeries(){var _this=_super.call(this)||this;_this.className="PercentSeries",_this._addAllDataItems=!1,_this.colors=new ColorSet_ColorSet,_this.colors.step=1,_this.isMeasured=!0,_this.calculatePercent=!0;var slicesContainer=_this.createChild(Container_Container);slicesContainer.shouldClone=!1,slicesContainer.isMeasured=!1,_this.slicesContainer=slicesContainer;var ticksContainer=_this.createChild(Container_Container);ticksContainer.shouldClone=!1,ticksContainer.isMeasured=!1,ticksContainer.layout="none",_this.ticksContainer=ticksContainer;var labelsContainer=_this.createChild(Container_Container);return labelsContainer.shouldClone=!1,labelsContainer.isMeasured=!1,labelsContainer.layout="none",_this.labelsContainer=labelsContainer,_this.alignLabels=!1,_this.bulletsContainer.toFront(),_this.skipFocusThreshold=50,_this.defaultState.transitionEasing=sinOut,_this.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",_this.applyTheme(),_this}return Object(tslib_es6.d)(PercentSeries,_super),PercentSeries.prototype.createSlice=function(){return new Sprite_Sprite},PercentSeries.prototype.createTick=function(){return new Tick_Tick},PercentSeries.prototype.createLabel=function(){return new Label_Label},Object.defineProperty(PercentSeries.prototype,"slices",{get:function(){if(!this._slices){var slice=this.createSlice();slice.applyOnClones=!0,this._disposers.push(slice),this.initSlice(slice),this._slices=new List_ListTemplate(slice),this._disposers.push(new List_ListDisposer(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeries.prototype,"ticks",{get:function(){if(!this._ticks){var tick=this.createTick();tick.applyOnClones=!0,this._disposers.push(tick),this.initTick(tick),this._ticks=new List_ListTemplate(tick),this._disposers.push(new List_ListDisposer(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeries.prototype,"labels",{get:function(){if(!this._labels){var label=this.createLabel();label.applyOnClones=!0,this._disposers.push(label),this.initLabel(label),this._labels=new List_ListTemplate(label),this._disposers.push(new List_ListDisposer(this._labels))}return this._labels},enumerable:!0,configurable:!0}),PercentSeries.prototype.createDataItem=function(){return new PercentSeries_PercentSeriesDataItem},PercentSeries.prototype.initSlice=function(slice){},PercentSeries.prototype.initLabel=function(label){label.text="{category}: {value.percent.formatNumber('#.0')}%",label.isMeasured=!1,label.padding(5,5,5,5)},PercentSeries.prototype.initTick=function(label){},PercentSeries.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),_super.prototype.validateDataItems.call(this)},PercentSeries.prototype.validateDataElement=function(dataItem){var slice=dataItem.slice;slice&&(null==slice.fill?this.patterns?(Type_hasValue(slice.stroke)||(slice.stroke=this.colors.next()),slice.fill=this.patterns.next(),Type_hasValue(slice.fillOpacity)&&(slice.fill.backgroundOpacity=slice.fillOpacity),slice.stroke instanceof Color_Color&&(slice.fill.stroke=slice.stroke,slice.fill.fill=slice.stroke)):slice.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==slice.stroke&&(slice.stroke=slice.fill)),_super.prototype.validateDataElement.call(this,dataItem),slice&&dataItem.bullets.each((function(key,bullet){null==bullet.fill&&(bullet.fill=slice.fill),null==bullet.stroke&&(bullet.stroke=slice.stroke)})),this.updateLegendValue(dataItem)},PercentSeries.prototype.validateData=function(){_super.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},PercentSeries.prototype.arrangeLabels=function(dataItems){for(var i=0,len=dataItems.length;i<len;i++){var label=dataItems[i].label;if(label){label.invalid&&label.validate();var lh=label.measuredHeight;label.visible||(lh=0),label.pixelY-lh/2<-this.maxHeight/2&&(label.y=-this.maxHeight/2+lh/2);var nextLabel=this.getNextLabel(i+1,dataItems),bottom=label.pixelY+lh;nextLabel&&nextLabel.y<bottom&&(nextLabel.y=bottom)}}},PercentSeries.prototype.arrangeLabels2=function(dataItems){for(var previousTop=this.maxHeight/2,i=dataItems.length-1;i>=0;i--){var label=dataItems[i].label;if(label){label.invalid&&label.validate();var lh=label.measuredHeight;label.visible||(lh=0),i==dataItems.length-1&&(previousTop+=lh/2),label.pixelY+lh>previousTop&&(label.y=previousTop-lh,previousTop=label.y)}}},PercentSeries.prototype.getNextLabel=function(index,dataItems){if(dataItems.length>=index){var nextDataItem=dataItems[index];if(nextDataItem)return nextDataItem.label&&nextDataItem.visible?nextDataItem.label:this.getNextLabel(index+1,dataItems)}},Object.defineProperty(PercentSeries.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(value){this.setPropertyValue("colors",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PercentSeries.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(value){this.setPropertyValue("patterns",value,!0)},enumerable:!0,configurable:!0}),PercentSeries.prototype.createLegendMarker=function(marker,dataItem){Iterator_each(marker.children.iterator(),(function(child){var slice=dataItem.slice;child.defaultState.properties.fill=slice.fill,child.defaultState.properties.stroke=slice.stroke,child.defaultState.properties.fillOpacity=slice.fillOpacity,child.defaultState.properties.strokeOpacity=slice.strokeOpacity,child.fill=slice.fill,child.stroke=slice.stroke,child.fillOpacity=slice.fillOpacity,child.strokeOpacity=slice.strokeOpacity,null==child.fill&&(child.__disabled=!0);var legendDataItem=marker.dataItem;legendDataItem.color=slice.fill,legendDataItem.colorOrig=slice.fill,child.addDisposer(slice.events.on("propertychanged",(function(ev){"fill"==ev.property&&(child.__disabled=!1,child.isActive||(child.fill=slice.fill),child.defaultState.properties.fill=slice.fill,legendDataItem.color=slice.fill,legendDataItem.colorOrig=slice.fill),"stroke"==ev.property&&(child.isActive||(child.stroke=slice.stroke),child.defaultState.properties.stroke=slice.stroke)}),void 0,!1))}))},PercentSeries.prototype.handleSliceScale=function(event){var _this=this;Iterator_each(event.target.dataItem.bullets.iterator(),(function(a){var value=a[1];_this.positionBullet(value)}))},PercentSeries.prototype.handleSliceMove=function(event){},PercentSeries.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.slices.template.copyFrom(source.slices.template),this.labels.template.copyFrom(source.labels.template),this.ticks.template.copyFrom(source.ticks.template),this.colors=source.colors.clone()},Object.defineProperty(PercentSeries.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(value){this.setAlignLabels(value)},enumerable:!0,configurable:!0}),PercentSeries.prototype.setAlignLabels=function(value){this.setPropertyValue("alignLabels",value,!0)},Object.defineProperty(PercentSeries.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(value){this.setPropertyValue("ignoreZeroValues",value,!0)},enumerable:!0,configurable:!0}),PercentSeries.prototype.updateLegendValue=function(dataItem){if(dataItem){var legendDataItem=dataItem.legendDataItem,legendSettings=dataItem.legendSettings;legendDataItem&&legendSettings&&legendSettings&&(legendSettings.labelText&&(legendDataItem.label.text=legendSettings.labelText),legendSettings.itemLabelText&&(legendDataItem.label.text=legendSettings.itemLabelText),legendSettings.valueText&&(legendDataItem.valueLabel.text=legendSettings.valueText),legendSettings.itemValueText&&(legendDataItem.valueLabel.text=legendSettings.itemValueText))}},PercentSeries}(Series_Series);Registry_registry.registeredClasses.PercentSeries=PercentSeries_PercentSeries,Registry_registry.registeredClasses.PercentSeriesDataItem=PercentSeries_PercentSeriesDataItem,defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(target,stateId){if(target instanceof PercentSeries_PercentSeries){var state=target.states.create(stateId);return target.labels.template.states.create(stateId).properties.disabled=!0,target.ticks.template.states.create(stateId).properties.disabled=!0,state}return null}});var PercentChart_PercentChartDataItem=function(_super){function PercentChartDataItem(){var _this=_super.call(this)||this;return _this.className="PercentChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(PercentChartDataItem,_super),PercentChartDataItem}(SerialChart_SerialChartDataItem),PercentChart_PercentChart=function(_super){function PercentChart(){var _this=_super.call(this)||this;return _this.className="PercentChart",_this.align="none",_this.valign="none",_this.chartContainer.minHeight=50,_this.chartContainer.minWidth=50,_this.applyTheme(),_this}return Object(tslib_es6.d)(PercentChart,_super),PercentChart.prototype.validateData=function(){_super.prototype.validateData.call(this),this.feedLegend()},PercentChart.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];Iterator_each(this.series.iterator(),(function(series){series.hiddenInLegend||Iterator_each(series.dataItems.iterator(),(function(dataItem){dataItem.hiddenInLegend||(legendData_1.push(dataItem),dataItem.legendSettings||(dataItem.legendSettings=series.legendSettings))}))})),legend.data=legendData_1,legend.dataFields.name="category"}},PercentChart.prototype.createSeries=function(){return new PercentSeries_PercentSeries},PercentChart.prototype.setLegend=function(legend){_super.prototype.setLegend.call(this,legend),legend&&(legend.labels.template.text="{category}",legend.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",legend.itemContainers.template.events.on("over",(function(event){var percentSeriesDataItem=event.target.dataItem.dataContext;if(percentSeriesDataItem.visible&&!percentSeriesDataItem.isHiding){var slice=percentSeriesDataItem.slice;slice.dispatchImmediately("over"),slice.isHover=!0,slice.interactions.isRealHover=!0}})),legend.itemContainers.template.events.on("out",(function(event){var slice=event.target.dataItem.dataContext.slice;slice.dispatchImmediately("out"),slice.isHover=!1})))},PercentChart}(SerialChart_SerialChart);Registry_registry.registeredClasses.PercentChart=PercentChart_PercentChart,Registry_registry.registeredClasses.PercentChartDataItem=PercentChart_PercentChartDataItem;var PieTick_PieTick=function(_super){function PieTick(){var _this=_super.call(this)||this;return _this._label=new Disposer_MutableValueDisposer,_this._slice=new Disposer_MutableValueDisposer,_this.className="PieTick",_this.element=_this.paper.add("polyline"),_this._disposers.push(_this._label),_this._disposers.push(_this._slice),_this.applyTheme(),_this}return Object(tslib_es6.d)(PieTick,_super),PieTick.prototype.draw=function(){_super.prototype.draw.call(this);var slice=this.slice,label=this.label,series=slice.dataItem.component;if(slice&&slice.radius>0&&label&&label.text){var x0=slice.dx+slice.slice.dx+slice.pixelX+slice.ix*slice.radius*slice.scale,y0=slice.dy+slice.slice.dy+slice.pixelY+slice.iy*slice.radiusY*slice.scale,x1=void 0,y1=void 0,x2=void 0,y2=void 0;if(series.alignLabels)x1=label.pixelX-this.length,y1=label.pixelY,x2=label.pixelX,y2=y1,"right"==label.horizontalCenter&&(x2=(x1+=2*this.length)-this.length);else{var r=label.pixelRadius(slice.radius);x2=x1=x0+r*slice.ix,y2=y1=y0+r*slice.iy}this.element.attr({points:[x0,y0,x1,y1,x2,y2]})}},Object.defineProperty(PieTick.prototype,"slice",{get:function(){return this._slice.get()},set:function(slice){this._slice.set(slice,new Disposer_MultiDisposer([slice.events.on("transformed",this.invalidate,this),slice.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(PieTick.prototype,"label",{get:function(){return this._label.get()},set:function(label){this._label.set(label,label.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),PieTick}(Tick_Tick);Registry_registry.registeredClasses.PieTick=PieTick_PieTick;var PieSeries_PieSeriesDataItem=function(_super){function PieSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="PieSeriesDataItem",_this.values.radiusValue={},_this.applyTheme(),_this}return Object(tslib_es6.d)(PieSeriesDataItem,_super),Object.defineProperty(PieSeriesDataItem.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(value){this.setValue("radiusValue",value)},enumerable:!0,configurable:!0}),PieSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){return _super.prototype.hide.call(this,duration,delay,0,["value","radiusValue"])},PieSeriesDataItem.prototype.show=function(duration,delay,fields){return _super.prototype.show.call(this,duration,delay,["value","radiusValue"])},PieSeriesDataItem}(PercentSeries_PercentSeriesDataItem),PieSeries_PieSeries=function(_super){function PieSeries(){var _this=_super.call(this)||this;return _this.className="PieSeries",_this.alignLabels=!0,_this.layout="none",_this.labels.template.radius=Percent_percent(5),_this.addDisposer(_this.labels.template.events.on("enabled",_this.invalidate,_this,!1)),_this.applyTheme(),_this}return Object(tslib_es6.d)(PieSeries,_super),PieSeries.prototype.createSlice=function(){return new Slice_Slice},PieSeries.prototype.createTick=function(){return new PieTick_PieTick},PieSeries.prototype.createLabel=function(){return new AxisLabelCircular_AxisLabelCircular},PieSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},PieSeries.prototype.createDataItem=function(){return new PieSeries_PieSeriesDataItem},PieSeries.prototype.initSlice=function(slice){slice.isMeasured=!1,slice.defaultState.properties.scale=1,slice.observe("scale",this.handleSliceScale,this),slice.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),slice.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",slice.states.create("hover").properties.scale=1.05,slice.defaultState.properties.shiftRadius=0,slice.togglable=!0,slice.events.on("toggled",(function(event){event.target.hideTooltip()})),slice.states.create("active").properties.shiftRadius=.1},PieSeries.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=getArcRect(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var i=this.startIndex;i<this.endIndex;i++){var radiusValuePercent=this.dataItems.getIndex(i).values.radiusValue.percent;radiusValuePercent>this._maxRadiusPercent&&(this._maxRadiusPercent=radiusValuePercent)}_super.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort((function(a,b){var aAngle=(a.slice.middleAngle+360)%360,bAngle=(b.slice.middleAngle+360)%360;return aAngle>270&&(aAngle-=360),bAngle>270&&(bAngle-=360),aAngle<bAngle?-1:aAngle>bAngle?1:0})),this._leftItems.sort((function(a,b){var aAngle=(a.slice.middleAngle+360)%360,bAngle=(b.slice.middleAngle+360)%360;return aAngle<bAngle?1:aAngle>bAngle?-1:0})),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},PieSeries.prototype.validateDataElement=function(dataItem){if(this.pixelRadius>0){this.ignoreZeroValues&&0==dataItem.value?dataItem.__disabled=!0:dataItem.__disabled=!1;var slice=dataItem.slice;if(slice.radius=this.pixelRadius,isNumber(dataItem.radiusValue)&&(slice.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*dataItem.values.radiusValue.percent/this._maxRadiusPercent),slice.innerRadius instanceof Percent||(slice.innerRadius=this.pixelInnerRadius),slice.startAngle=this._currentStartAngle,slice.arc=Math.abs(dataItem.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var label=dataItem.label,tick=dataItem.tick;tick.slice=slice,tick.label=label;var normalizedMiddleAngle=(slice.middleAngle+360)%360,point=void 0;if(this.alignLabels){var labelRadius=label.pixelRadius(slice.radius),x=tick.length+labelRadius;label.dx=0,label.dy=0,label.verticalCenter="middle";var arcRect=this._arcRect;normalizedMiddleAngle>270||normalizedMiddleAngle<=90?(x+=(arcRect.width+arcRect.x)*this.pixelRadius,label.horizontalCenter="left",this._rightItems.push(dataItem)):(x-=arcRect.x*this.pixelRadius,label.horizontalCenter="right",this._leftItems.push(dataItem),x*=-1);var distance=slice.radius+tick.length+labelRadius;point={x:x,y:slice.iy*distance},label.moveTo(point)}else{var depth=slice.depth;isNumber(depth)||(depth=0),label.fixPosition(slice.middleAngle,slice.radius,slice.radiusY,0,-depth)}}this._currentStartAngle+=slice.arc,_super.prototype.validateDataElement.call(this,dataItem)}},Object.defineProperty(PieSeries.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(value){this._pixelRadius!=value&&(this._pixelRadius=value,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(value){this._pixelInnerRadius!=value&&(this._pixelInnerRadius=value,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,"startAngle",{get:function(){var startAngle=this.getPropertyValue("startAngle");return isNumber(startAngle)?startAngle:this._startAngleInternal},set:function(value){this.setPropertyValue("startAngle",normalizeAngle(value),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries.prototype,"endAngle",{get:function(){var endAngle=this.getPropertyValue("endAngle");return isNumber(endAngle)?endAngle:this._endAngleInternal},set:function(value){this.setPropertyValue("endAngle",value,!0)},enumerable:!0,configurable:!0}),PieSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var slice=bullet.dataItem.slice,locationX=bullet.locationX;isNumber(locationX)||(locationX=.5);var locationY=bullet.locationY;isNumber(locationY)||(locationY=1);var angle=slice.startAngle+slice.arc*locationX;bullet.x=locationY*slice.radius*Math_cos(angle),bullet.y=locationY*slice.radiusY*Math_sin(angle)},PieSeries.prototype.handleSliceMove=function(event){if(!this.alignLabels){var slice=event.target,dataItem=slice.dataItem;if(dataItem){var label=dataItem.label;label&&(label.dx=label.fdx+slice.dx+slice.pixelX,label.dy=label.fdy+slice.dy+slice.pixelY)}}},Object.defineProperty(PieSeries.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var chart=this.chart;return chart?getArcRect(chart.startAngle,chart.endAngle,this.pixelRadius):getArcRect(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),PieSeries}(PercentSeries_PercentSeries);Registry_registry.registeredClasses.PieSeries=PieSeries_PieSeries,Registry_registry.registeredClasses.PieSeriesDataItem=PieSeries_PieSeriesDataItem;var PieChart_PieChartDataItem=function(_super){function PieChartDataItem(){var _this=_super.call(this)||this;return _this.className="PieChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(PieChartDataItem,_super),PieChartDataItem}(PercentChart_PercentChartDataItem),PieChart_PieChart=function(_super){function PieChart(){var _this=_super.call(this)||this;_this.className="PieChart",_this.innerRadius=0,_this.radius=Percent_percent(80),_this.align="none",_this.valign="none",_this.startAngle=-90,_this.endAngle=270;var seriesContainer=_this.seriesContainer;return seriesContainer.isMeasured=!0,seriesContainer.valign="middle",seriesContainer.align="center",seriesContainer.layout="absolute",seriesContainer.width=void 0,seriesContainer.height=void 0,_this.chartContainer.minHeight=50,_this.chartContainer.minWidth=50,_this.chartContainer.events.on("maxsizechanged",_this.updateRadius,_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(PieChart,_super),PieChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},PieChart.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.updateRadius()},PieChart.prototype.handleSeriesAdded=function(event){_super.prototype.handleSeriesAdded.call(this,event),this._chartPixelRadius=void 0,this.updateSeriesAngles()},PieChart.prototype.updateSeriesAngles=function(){var _this=this;this.series.each((function(series){series._startAngleInternal=_this.startAngle,series._endAngleInternal=_this.endAngle}))},PieChart.prototype.updateRadius=function(){var chartCont=this.chartContainer,rect=getArcRect(this.startAngle,this.endAngle,1),innerRect={x:0,y:0,width:0,height:0},innerRadius=this.innerRadius;innerRadius instanceof Percent&&(innerRect=getArcRect(this.startAngle,this.endAngle,innerRadius.value)),rect=getCommonRectangle([rect,innerRect]);var maxRadius=Math.min(chartCont.innerWidth/rect.width,chartCont.innerHeight/rect.height);isNumber(maxRadius)||(maxRadius=0);var chartRadius=relativeRadiusToValue(this.radius,maxRadius),chartPixelInnerRadius=relativeRadiusToValue(this.innerRadius,maxRadius),seriesRadius=(chartRadius-chartPixelInnerRadius)/this.series.length;chartRadius==this._chartPixelRadius&&chartPixelInnerRadius==this._chartPixelInnerRadius||(this._chartPixelRadius=chartRadius,this._chartPixelInnerRadius=chartPixelInnerRadius,Iterator_each(indexed(this.series.iterator()),(function(a){var i=a[0],series=a[1],radius=chartPixelInnerRadius+relativeRadiusToValue(series.radius,chartRadius-chartPixelInnerRadius),innerRadius=chartPixelInnerRadius+relativeRadiusToValue(series.innerRadius,chartRadius-chartPixelInnerRadius);isNumber(radius)||(radius=chartPixelInnerRadius+seriesRadius*(i+1)),isNumber(innerRadius)||(innerRadius=chartPixelInnerRadius+seriesRadius*i),series.pixelRadius=radius,series.pixelInnerRadius=innerRadius})),this.seriesContainer.definedBBox={x:chartRadius*rect.x,y:chartRadius*rect.y,width:chartRadius*rect.width,height:chartRadius*rect.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(PieChart.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),PieChart.prototype.createSeries=function(){return new PieSeries_PieSeries},Object.defineProperty(PieChart.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),PieChart}(PercentChart_PercentChart);Registry_registry.registeredClasses.PieChart=PieChart_PieChart,Registry_registry.registeredClasses.PieChartDataItem=PieChart_PieChartDataItem;var PieSeries3D_PieSeries3DDataItem=function(_super){function PieSeries3DDataItem(){var _this=_super.call(this)||this;return _this.className="PieSeries3DDataItem",_this.values.depthValue={},_this.applyTheme(),_this}return Object(tslib_es6.d)(PieSeries3DDataItem,_super),Object.defineProperty(PieSeries3DDataItem.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(value){this.setValue("depthValue",value)},enumerable:!0,configurable:!0}),PieSeries3DDataItem}(PieSeries_PieSeriesDataItem),PieSeries3D_PieSeries3D=function(_super){function PieSeries3D(){var _this=_super.call(this)||this;return _this.className="PieSeries3D",_this.applyTheme(),_this}return Object(tslib_es6.d)(PieSeries3D,_super),PieSeries3D.prototype.createDataItem=function(){return new PieSeries3D_PieSeries3DDataItem},PieSeries3D.prototype.createSlice=function(){return new Slice3D_Slice3D},PieSeries3D.prototype.validateDataElement=function(dataItem){var slice=dataItem.slice,depth=this.depth;isNumber(depth)||(depth=this.chart.depth);var depthPercent=dataItem.values.depthValue.percent;isNumber(depthPercent)||(depthPercent=100),slice.depth=depthPercent*depth/100;var angle=this.angle;isNumber(angle)||(angle=this.chart.angle),slice.angle=angle,_super.prototype.validateDataElement.call(this,dataItem)},PieSeries3D.prototype.validate=function(){_super.prototype.validate.call(this);for(var i=this._workingStartIndex;i<this._workingEndIndex;i++){var slice=this.dataItems.getIndex(i).slice,startAngle=slice.startAngle;startAngle>=-90&&startAngle<90?slice.toFront():startAngle>=90&&slice.toBack()}},Object.defineProperty(PieSeries3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(value){this.setPropertyValue("depth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(PieSeries3D.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){this.setPropertyValue("angle",value)},enumerable:!0,configurable:!0}),PieSeries3D.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var slice=bullet.dataItem.slice;bullet.y=bullet.pixelY-slice.depth},PieSeries3D}(PieSeries_PieSeries);Registry_registry.registeredClasses.PieSeries3D=PieSeries3D_PieSeries3D,Registry_registry.registeredClasses.PieSeries3DDataItem=PieSeries3D_PieSeries3DDataItem;!function(_super){function PieChart3DDataItem(){var _this=_super.call(this)||this;return _this.className="PieChart3DDataItem",_this.applyTheme(),_this}Object(tslib_es6.d)(PieChart3DDataItem,_super)}(PieChart_PieChartDataItem);var PieChart3D_PieChart3D=function(_super){function PieChart3D(){var _this=_super.call(this)||this;return _this.className="PieChart3D",_this.depth=20,_this.angle=10,_this.applyTheme(),_this}return Object(tslib_es6.d)(PieChart3D,_super),Object.defineProperty(PieChart3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(value){this.setPropertyValue("depth",value)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(PieChart3D.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){value=fitToRange(value,0,90),this.setPropertyValue("angle",value)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),PieChart3D.prototype.createSeries=function(){return new PieSeries3D_PieSeries3D},PieChart3D}(PieChart_PieChart);Registry_registry.registeredClasses.PieChart3D=PieChart3D_PieChart3D;var SlicedChart_SlicedChartDataItem=function(_super){function SlicedChartDataItem(){var _this=_super.call(this)||this;return _this.className="SlicedChartDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(SlicedChartDataItem,_super),SlicedChartDataItem}(PercentChart_PercentChartDataItem),SlicedChart_SlicedChart=function(_super){function SlicedChart(){var _this=_super.call(this)||this;return _this.className="SlicedChart",_this.seriesContainer.layout="horizontal",_this.padding(15,15,15,15),_this.applyTheme(),_this}return Object(tslib_es6.d)(SlicedChart,_super),SlicedChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},SlicedChart.prototype.validate=function(){_super.prototype.validate.call(this)},SlicedChart}(PercentChart_PercentChart);Registry_registry.registeredClasses.SlicedChart=SlicedChart_SlicedChart,Registry_registry.registeredClasses.SlicedChartDataItem=SlicedChart_SlicedChartDataItem;var FlowDiagramNode_FlowDiagramNode=function(_super){function FlowDiagramNode(){var _this=_super.call(this)||this;return _this.legendSettings=new LegendSettings,_this.className="FlowDiagramNode",_this.isMeasured=!1,new InterfaceColorSet_InterfaceColorSet,_this.draggable=!0,_this.inert=!0,_this.setStateOnChildren=!0,_this.events.on("positionchanged",_this.invalidateLinks,_this,!1),_this.events.on("sizechanged",_this.invalidateLinks,_this,!1),_this}return Object(tslib_es6.d)(FlowDiagramNode,_super),FlowDiagramNode.prototype.handleHit=function(event){this.isHidden||this.isHiding?this.show():this.hide()},FlowDiagramNode.prototype.show=function(duration){var animation=_super.prototype.show.call(this,duration);return this.outgoingDataItems.each((function(dataItem){(!dataItem.toNode||dataItem.toNode&&!dataItem.toNode.isHidden)&&dataItem.setWorkingValue("value",dataItem.getValue("value"),duration)})),this.incomingDataItems.each((function(dataItem){(!dataItem.fromNode||dataItem.fromNode&&!dataItem.fromNode.isHidden)&&dataItem.setWorkingValue("value",dataItem.getValue("value"),duration)})),animation},FlowDiagramNode.prototype.hide=function(duration){var animation=_super.prototype.hide.call(this,duration);return this.outgoingDataItems.each((function(dataItem){dataItem.setWorkingValue("value",0,duration)})),this.incomingDataItems.each((function(dataItem){dataItem.setWorkingValue("value",0,duration)})),animation},FlowDiagramNode.prototype.validate=function(){this.isDisposed()||(_super.prototype.validate.call(this),this.invalidateLinks())},FlowDiagramNode.prototype.invalidateLinks=function(){var _this=this;this.outgoingDataItems.each((function(dataItem){var link=dataItem.link;if("fromNode"==link.colorMode&&(link.fill=link.dataItem.fromNode.color),"gradient"==link.colorMode){link.fill=link.gradient,link.stroke=link.gradient;var stop_1=link.gradient.stops.getIndex(0);stop_1&&(stop_1.color=_this.color,link.gradient.validate())}})),this.incomingDataItems.each((function(dataItem){var link=dataItem.link;if("toNode"==link.colorMode&&(link.fill=link.dataItem.toNode.color),"gradient"==link.colorMode){link.fill=link.gradient,link.stroke=link.gradient;var stop_2=link.gradient.stops.getIndex(1);stop_2&&(stop_2.color=_this.color,link.gradient.validate())}}))},Object.defineProperty(FlowDiagramNode.prototype,"incomingDataItems",{get:function(){var _this=this;if(!this._incomingDataItems){var incomingDataItems=new List_List;incomingDataItems.events.on("inserted",(function(){"name"==_this.chart.sortBy?_this._incomingSorted=Iterator_sort(_this._incomingDataItems.iterator(),(function(x,y){return order(x.fromName,y.fromName)})):"value"==_this.chart.sortBy?_this._incomingSorted=Iterator_sort(_this._incomingDataItems.iterator(),(function(x,y){return reverse(Number_order(x.value,y.value))})):_this._incomingSorted=_this._incomingDataItems.iterator()}),void 0,!1),this._incomingDataItems=incomingDataItems}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"outgoingDataItems",{get:function(){var _this=this;if(!this._outgoingDataItems){var outgoingDataItems=new List_List;outgoingDataItems.events.on("inserted",(function(){"name"==_this.chart.sortBy?_this._outgoingSorted=Iterator_sort(_this._outgoingDataItems.iterator(),(function(x,y){return order(x.fromName,y.fromName)})):"value"==_this.chart.sortBy?_this._outgoingSorted=Iterator_sort(_this._outgoingDataItems.iterator(),(function(x,y){return reverse(Number_order(x.value,y.value))})):_this._outgoingSorted=_this._outgoingDataItems.iterator()}),void 0,!1),this._outgoingDataItems=outgoingDataItems}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(value){this.setPropertyValue("name",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(value){this.setPropertyValue("total",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(value){this.setPropertyValue("totalIncoming",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(value){this.setPropertyValue("totalOutgoing",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramNode.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(value){this.setColorProperty("color",value),this._background&&(this._background.fill=value),this.fill=value},enumerable:!0,configurable:!0}),FlowDiagramNode.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.stroke=this.fill,column.copyFrom(this),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},Object.defineProperty(FlowDiagramNode.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),FlowDiagramNode}(Container_Container);Registry_registry.registeredClasses.FlowDiagramNode=FlowDiagramNode_FlowDiagramNode;var FlowDiagramLink_FlowDiagramLink=function(_super){function FlowDiagramLink(){var _this=_super.call(this)||this;_this.className="FlowDiagramLink";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.maskBullets=!1,_this.colorMode="fromNode",_this.layout="none",_this.isMeasured=!1,_this.startAngle=0,_this.endAngle=0,_this.strokeOpacity=0,_this.verticalCenter="none",_this.horizontalCenter="none",_this.tooltipText="{fromName}→{toName}:{value.value}",_this.tooltipLocation=.5,_this.link=_this.createChild(Sprite_Sprite),_this.link.shouldClone=!1,_this.link.setElement(_this.paper.add("path")),_this.link.isMeasured=!1,_this.fillOpacity=.2,_this.fill=interfaceColors.getFor("alternativeBackground"),_this.applyTheme(),_this}return Object(tslib_es6.d)(FlowDiagramLink,_super),FlowDiagramLink.prototype.positionBullets=function(){var _this=this;Iterator_each(this.bullets.iterator(),(function(bullet){bullet.parent=_this.bulletsContainer,bullet.maxWidth=_this.maxWidth,bullet.maxHeight=_this.maxHeight,_this.positionBullet(bullet)}))},Object.defineProperty(FlowDiagramLink.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var bulletsContainer=this.createChild(Container_Container);bulletsContainer.shouldClone=!1,bulletsContainer.layout="none",this._bulletsContainer=bulletsContainer}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var bulletsMask=this.createChild(Sprite_Sprite);bulletsMask.shouldClone=!1,bulletsMask.setElement(this.paper.add("path")),bulletsMask.isMeasured=!1,this._bulletsMask=bulletsMask}return this._bulletsMask},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.positionBullet=function(bullet){var location=bullet.locationX;isNumber(location)||(location=bullet.locationY),isNumber(location)||(location=.5);var point=this.middleLine.positionToPoint(location);bullet.moveTo(point);var angle,rotationField=bullet.propertyFields.rotation;bullet.dataItem&&(angle=bullet.dataItem.dataContext[rotationField]);isNumber(angle)||(angle=point.angle),bullet.rotation=angle},Object.defineProperty(FlowDiagramLink.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(value){if("gradient"==value){var color=this.fill;this.gradient.stops.clear(),color instanceof Color_Color&&(this.gradient.addColor(color),this.gradient.addColor(color)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(value){this.setPropertyValue("maskBullets",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramLink.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(value){this.setPropertyValue("tooltipLocation",value,!0)},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.setFill=function(value){_super.prototype.setFill.call(this,value);var gradient=this._gradient;gradient&&value instanceof Color_Color&&(gradient.stops.clear(),gradient.addColor(value),gradient.addColor(value))},FlowDiagramLink.prototype.measureElement=function(){},Object.defineProperty(FlowDiagramLink.prototype,"bullets",{get:function(){var _this=this;return this._bullets||(this._bullets=new List_ListTemplate(new Bullet_Bullet),this._disposers.push(new List_ListDisposer(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",(function(event){event.newValue.events.on("propertychanged",(function(event){"locationX"!=event.property&&"locationY"!=event.property||_this.positionBullet(event.target)}),void 0,!1)}),void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),FlowDiagramLink.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.bullets.copyFrom(source.bullets);var middleLine=this.middleLine;middleLine&&(middleLine instanceof Line_Line&&source.middleLine instanceof Line_Line&&middleLine.copyFrom(source.middleLine),middleLine instanceof Polyline_Polyline&&source.middleLine instanceof Polyline_Polyline&&middleLine.copyFrom(source.middleLine)),this.link.copyFrom(source.link)},FlowDiagramLink.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},FlowDiagramLink.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(FlowDiagramLink.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new LinearGradient_LinearGradient),this._gradient},enumerable:!0,configurable:!0}),FlowDiagramLink}(Container_Container);Registry_registry.registeredClasses.FlowDiagramLink=FlowDiagramLink_FlowDiagramLink;var FlowDiagram_FlowDiagramDataItem=function(_super){function FlowDiagramDataItem(){var _this=_super.call(this)||this;return _this.className="FlowDiagramDataItem",_this.values.value={},_this.applyTheme(),_this}return Object(tslib_es6.d)(FlowDiagramDataItem,_super),Object.defineProperty(FlowDiagramDataItem.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(value){this.setProperty("fromName",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,"toName",{get:function(){return this.properties.toName},set:function(value){this.setProperty("toName",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,"color",{get:function(){return this.properties.color},set:function(value){this.setProperty("color",toColor(value))},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,"value",{get:function(){return this.values.value.value},set:function(value){this.setValue("value",value)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagramDataItem.prototype,"link",{get:function(){var _this=this;if(!this._link){var link_1=this.component.links.create();this._link=link_1,this.addSprite(link_1),this._disposers.push(new Disposer((function(){_this.component&&_this.component.links.removeValue(link_1)})))}return this._link},enumerable:!0,configurable:!0}),FlowDiagramDataItem}(Chart_ChartDataItem),FlowDiagram_FlowDiagram=function(_super){function FlowDiagram(){var _this=_super.call(this)||this;_this.colors=new ColorSet_ColorSet,_this.className="FlowDiagram",_this.nodePadding=20,_this.sortBy="none",_this.sequencedInterpolation=!0,_this.colors.step=2,_this.minNodeSize=.02;var linksContainer=_this.chartContainer.createChild(Container_Container);linksContainer.shouldClone=!1,linksContainer.layout="none",linksContainer.isMeasured=!1,_this.linksContainer=linksContainer;var nodesContainer=_this.chartContainer.createChild(Container_Container);return nodesContainer.shouldClone=!1,nodesContainer.layout="none",nodesContainer.isMeasured=!1,_this.nodesContainer=nodesContainer,_this.dataItem=_this.createDataItem(),_this.dataItem.component=_this,_this.applyTheme(),_this}return Object(tslib_es6.d)(FlowDiagram,_super),FlowDiagram.prototype.dispose=function(){_super.prototype.dispose.call(this),this.dataItem.dispose()},FlowDiagram.prototype.validateData=function(){var _this=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),_super.prototype.validateData.call(this);var low,high,sum=0,count=0;Iterator_each(this.dataItems.iterator(),(function(dataItem){var fromName=dataItem.fromName;fromName&&((node=_this.nodes.getKey(fromName))||((node=_this.nodes.create(fromName)).name=fromName,node.chart=_this,node.dataItem=dataItem),dataItem.fromNode=node,dataItem.fromNode.outgoingDataItems.push(dataItem));var node,toName=dataItem.toName;toName&&((node=_this.nodes.getKey(toName))||((node=_this.nodes.create(toName)).name=toName,node.chart=_this,node.dataItem=dataItem),dataItem.toNode=node,dataItem.toNode.incomingDataItems.push(dataItem));if(!dataItem.fromNode){var strokeModifier=new LinearGradientModifier_LinearGradientModifier;strokeModifier.opacities=[0,1],dataItem.link.strokeModifier=strokeModifier}if(!dataItem.toNode){var fillModifier=new LinearGradientModifier_LinearGradientModifier;fillModifier.opacities=[1,0],dataItem.link.strokeModifier=fillModifier}var value=dataItem.value;isNumber(value)&&(sum+=value,count++,(low>value||!isNumber(low))&&(low=value),(high<value||!isNumber(high))&&(high=value))}));var key="value";this.dataItem.setCalculatedValue(key,high,"high"),this.dataItem.setCalculatedValue(key,low,"low"),this.dataItem.setCalculatedValue(key,sum,"sum"),this.dataItem.setCalculatedValue(key,sum/count,"average"),this.dataItem.setCalculatedValue(key,count,"count"),Iterator_each(this.nodes.iterator(),(function(strNode){var node=strNode[1];node.fill instanceof Color_Color&&(node.color=node.fill),null==node.color&&(node.color=_this.colors.next()),null!=node.dataItem.color&&(node.color=node.dataItem.color),node.dataItem.visible||node.hide(0),_this.getNodeValue(node)})),this.sortNodes(),this.feedLegend()},FlowDiagram.prototype.handleDataItemWorkingValueChange=function(dataItem,name){this.invalidate()},FlowDiagram.prototype.sortNodes=function(){"name"==this.sortBy?this._sorted=this.nodes.sortedIterator():"value"==this.sortBy?this._sorted=Iterator_sort(this.nodes.iterator(),(function(x,y){return reverse(Number_order(x[1].total,y[1].total))})):this._sorted=this.nodes.iterator()},FlowDiagram.prototype.getNodeValue=function(node){var incomingTotal=0,outgoingTotal=0;Iterator_each(node.incomingDataItems.iterator(),(function(dataItem){var value=dataItem.getWorkingValue("value");isNumber(value)&&(incomingTotal+=value)})),Iterator_each(node.outgoingDataItems.iterator(),(function(dataItem){var value=dataItem.getWorkingValue("value");isNumber(value)&&(outgoingTotal+=value)})),node.total=incomingTotal+outgoingTotal,node.totalIncoming=incomingTotal,node.totalOutgoing=outgoingTotal},FlowDiagram.prototype.changeSorting=function(){this.sortNodes()},FlowDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},FlowDiagram.prototype.createDataItem=function(){return new FlowDiagram_FlowDiagramDataItem},Object.defineProperty(FlowDiagram.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(value){this.setPropertyValue("nodePadding",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(value){this.setPropertyValue("sortBy",value),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(value){this.setPropertyValue("minNodeSize",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FlowDiagram.prototype,"nodes",{get:function(){if(!this._nodes){var template=this.createNode();template.events.on("hit",(function(event){event.target.handleHit(event)})),this._nodes=new Dictionary_DictionaryTemplate(template),this._disposers.push(new Dictionary_DictionaryDisposer(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),FlowDiagram.prototype.createNode=function(){var node=new FlowDiagramNode_FlowDiagramNode;return this._disposers.push(node),node},Object.defineProperty(FlowDiagram.prototype,"links",{get:function(){return this._links||(this._links=new List_ListTemplate(this.createLink()),this._disposers.push(new List_ListDisposer(this._links))),this._links},enumerable:!0,configurable:!0}),FlowDiagram.prototype.createLink=function(){var link=new FlowDiagramLink_FlowDiagramLink;return this._disposers.push(link),link},FlowDiagram.prototype.feedLegend=function(){var legend=this.legend;if(legend){var legendData_1=[];this.nodes.each((function(key,node){legendData_1.push(node)})),legend.data=legendData_1,legend.dataFields.name="name"}},FlowDiagram.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.nodes.clear()},FlowDiagram}(Chart_Chart);Registry_registry.registeredClasses.FlowDiagram=FlowDiagram_FlowDiagram;var LabelBullet_LabelBullet=function(_super){function LabelBullet(){var _this=_super.call(this)||this;_this.className="LabelBullet";var label=_this.createChild(Label_Label);return label.shouldClone=!1,label.verticalCenter="middle",label.horizontalCenter="middle",label.truncate=!0,label.hideOversized=!1,label.maxWidth=500,label.maxHeight=500,label.stroke=Color_color(),label.strokeOpacity=0,label.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("text"),_this.events.on("maxsizechanged",_this.handleMaxSize,_this,!1),_this.label=label,_this.applyTheme(),_this}return Object(tslib_es6.d)(LabelBullet,_super),LabelBullet.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},LabelBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label)},LabelBullet}(Bullet_Bullet);Registry_registry.registeredClasses.LabelBullet=LabelBullet_LabelBullet;var SankeyNode_SankeyNode=function(_super){function SankeyNode(){var _this=_super.call(this)||this;_this.nextInCoord=0,_this.nextOutCoord=0,_this.className="SankeyNode",_this.width=10,_this.height=10;var nameLabel=_this.createChild(LabelBullet_LabelBullet);nameLabel.shouldClone=!1,nameLabel.locationX=1,nameLabel.locationY=.5,nameLabel.label.text="{name}",nameLabel.width=150,nameLabel.height=150,nameLabel.label.horizontalCenter="left",nameLabel.label.padding(0,5,0,5),_this.nameLabel=nameLabel;var valueLabel=_this.createChild(LabelBullet_LabelBullet);valueLabel.shouldClone=!1,valueLabel.label.hideOversized=!1,valueLabel.locationX=.5,valueLabel.locationY=.5,valueLabel.width=150,valueLabel.height=150,valueLabel.label.horizontalCenter="middle",_this.valueLabel=valueLabel;var hiddenState=_this.hiddenState;return hiddenState.properties.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("disabledBackground"),hiddenState.properties.opacity=.5,hiddenState.properties.visible=!0,_this.background.hiddenState.copyFrom(hiddenState),_this}return Object(tslib_es6.d)(SankeyNode,_super),SankeyNode.prototype.invalidateLinks=function(){var _this=this;_super.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var chart=this.chart;if(chart){var orientation_1=chart.orientation;this._incomingSorted&&Iterator_each(this._incomingSorted,(function(dataItem){var link=dataItem.link,value=dataItem.getWorkingValue("value");if(isNumber(value)){link.parent=_this.chart.linksContainer;var x=void 0,y=void 0,angle=void 0;if("horizontal"==orientation_1?(x=_this.pixelX+_this.dx,y=_this.nextInCoord+_this.pixelY+_this.dy,angle=0):(y=_this.pixelY+_this.dy,x=_this.nextInCoord+_this.pixelX+_this.dx,angle=90),link.endX=x,link.endY=y,link.startAngle=angle,link.endAngle=angle,link.gradient.rotation=angle,link.linkWidth=value*chart.valueHeight,!dataItem.fromNode){"horizontal"==orientation_1?(link.maxWidth=200,link.startX=_this.pixelX+_this.dx-link.maxWidth,link.startY=link.endY):(link.maxHeight=200,link.startX=link.endX,link.startY=_this.pixelY+_this.dy-link.maxHeight),link.gradient,link.fill=dataItem.toNode.color;var stop_1=link.gradient.stops.getIndex(0);stop_1&&("gradient"==link.colorMode&&(stop_1.color=_this.color),stop_1.opacity=0,link.fill=link.gradient,link.stroke=link.gradient,link.gradient.validate())}_this.nextInCoord+=link.linkWidth}})),this._outgoingSorted&&Iterator_each(this._outgoingSorted,(function(dataItem){var link=dataItem.link;link.parent=_this.chart.linksContainer;var value=dataItem.getWorkingValue("value");if(isNumber(value)){var x=void 0,y=void 0,angle=void 0;if("horizontal"==orientation_1?(angle=0,x=_this.pixelX+_this.pixelWidth+_this.dx-1,y=_this.nextOutCoord+_this.pixelY+_this.dy):(angle=90,x=_this.nextOutCoord+_this.pixelX+_this.dx,y=_this.pixelY+_this.pixelHeight+_this.dy-1),link.startX=x,link.startY=y,link.startAngle=angle,link.endAngle=angle,link.gradient.rotation=angle,link.linkWidth=value*_this.chart.valueHeight,!dataItem.toNode){"horizontal"==orientation_1?(link.maxWidth=200,link.endX=_this.pixelX+link.maxWidth+_this.dx,link.endY=link.startY):(link.maxHeight=200,link.endX=link.startX,link.endY=_this.pixelY+link.maxHeight+_this.dy),link.opacity=_this.opacity;var stop_2=link.gradient.stops.getIndex(1);stop_2&&("gradient"==link.colorMode&&(stop_2.color=_this.color),stop_2.opacity=0,link.fill=link.gradient,link.stroke=link.gradient,link.gradient.validate())}_this.nextOutCoord+=link.linkWidth}}))}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},SankeyNode.prototype.positionBullet=function(bullet){bullet&&(bullet.x=this.measuredWidth*bullet.locationX,bullet.y=this.measuredHeight*bullet.locationY)},Object.defineProperty(SankeyNode.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(value){this.setPropertyValue("level",value,!0)},enumerable:!0,configurable:!0}),SankeyNode.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.nameLabel.copyFrom(source.nameLabel),this.valueLabel.copyFrom(source.valueLabel)},SankeyNode}(FlowDiagramNode_FlowDiagramNode);Registry_registry.registeredClasses.SankeyNode=SankeyNode_SankeyNode;var SankeyLink_SankeyLink=function(_super){function SankeyLink(){var _this=_super.call(this)||this;return _this.className="SankeyLink",new InterfaceColorSet_InterfaceColorSet,_this.tension=.8,_this.controlPointDistance=.2,_this.startAngle=0,_this.endAngle=0,_this.linkWidth=0,_this.startX=0,_this.endX=0,_this.startY=0,_this.endY=0,_this.middleLine=_this.createChild(Polyspline_Polyspline),_this.middleLine.shouldClone=!1,_this.middleLine.strokeOpacity=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(SankeyLink,_super),SankeyLink.prototype.makeBackwards=function(){null!=this.states.getKey("backwards")&&this.setState("backwards")},SankeyLink.prototype.validate=function(){var _a,_b,_c,_d;if(_super.prototype.validate.call(this),!this.isTemplate){var x0=this.startX,y0=this.startY,x1=this.endX,y1=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var chart=this.dataItem.component;chart&&("horizontal"==chart.orientation?x1<x0&&(x0=(_a=Object(tslib_es6.i)([x1,x0],2))[0],x1=_a[1],y0=(_b=Object(tslib_es6.i)([y1,y0],2))[0],y1=_b[1],this.makeBackwards()):y1<y0&&(y0=(_c=Object(tslib_es6.i)([y1,y0],2))[0],y1=_c[1],x0=(_d=Object(tslib_es6.i)([x1,x0],2))[0],x1=_d[1],this.makeBackwards()))}isNumber(x1)||(x1=x0),isNumber(y1)||(y1=y0);var startAngle=this.startAngle,endAngle=this.endAngle,w=this.linkWidth,path="",xt0=x0,yt0=y0,xt1=x1,yt1=y1,xb0=x0+w*Math_sin(startAngle),xb1=x1+w*Math_sin(endAngle),yb0=y0+w*Math_cos(startAngle),yb1=y1+w*Math_cos(endAngle),xm0=x0+w/2*Math_sin(startAngle),xm1=x1+w/2*Math_sin(endAngle),ym0=y0+w/2*Math_cos(startAngle),ym1=y1+w/2*Math_cos(endAngle);this.zIndex=this.zIndex||this.dataItem.index;var tensionX=this.tension+(1-this.tension)*Math_sin(startAngle),tensionY=this.tension+(1-this.tension)*Math_cos(startAngle);if(this.middleLine.tensionX=tensionX,this.middleLine.tensionY=tensionY,isNumber(w)&&isNumber(x0)&&isNumber(x1)&&isNumber(y0)&&isNumber(y1)){Math_round(xt0,3)==Math_round(xt1,3)&&(xt1+=.01),Math_round(yt0,3)==Math_round(yt1,3)&&(yt1+=.01),Math_round(xb0,3)==Math_round(xb1,3)&&(xb1+=.01),Math_round(yb0,3)==Math_round(yb1,3)&&(yb1+=.01);var minX=Math.min(xb0,xb1,xt0,xt1),minY=Math.min(yb0,yb1,yt0,yt1),maxX=Math.max(xb0,xb1,xt0,xt1),maxY=Math.max(yb0,yb1,yt0,yt1);this._bbox={x:minX,y:minY,width:maxX-minX,height:maxY-minY};var cpd=this.controlPointDistance,kxt0=xt0+(xt1-xt0)*cpd*Math_cos(startAngle),kyt0=yt0+(yt1-yt0)*cpd*Math_sin(startAngle),kxt1=xt1-(xt1-xt0)*cpd*Math_cos(endAngle),kyt1=yt1-(yt1-yt0)*cpd*Math_sin(endAngle),kxm0=xm0+(xm1-xm0)*cpd*Math_cos(startAngle),kym0=ym0+(ym1-ym0)*cpd*Math_sin(startAngle),kxm1=xm1-(xm1-xm0)*cpd*Math_cos(endAngle),kym1=ym1-(ym1-ym0)*cpd*Math_sin(endAngle),angle=getAngle({x:kxt0,y:kyt0},{x:kxt1,y:kyt1}),dx=(w/Math_cos(angle)-w)/tan(angle)*Math_cos(startAngle),dy=(w/Math_sin(angle)-w)*tan(angle)*Math_sin(startAngle),kxb0=-dx/2+xb0+(xb1-xb0)*cpd*Math_cos(startAngle),kyb0=-dy/2+yb0+(yb1-yb0)*cpd*Math_sin(startAngle),kxb1=-dx/2+xb1-(xb1-xb0)*cpd*Math_cos(endAngle),kyb1=-dy/2+yb1-(yb1-yb0)*cpd*Math_sin(endAngle);this.middleLine.segments=[[{x:xm0,y:ym0},{x:kxm0,y:kym0},{x:kxm1,y:kym1},{x:xm1,y:ym1}]],kxt0+=dx/2,kyt0+=dy/2,kxt1+=dx/2,kyt1+=dy/2,path+=moveTo({x:xt0,y:yt0}),path+=new Smoothing_Tension(tensionX,tensionY).smooth([{x:xt0,y:yt0},{x:kxt0,y:kyt0},{x:kxt1,y:kyt1},{x:xt1,y:yt1}]),path+=lineTo({x:xb1,y:yb1}),path+=new Smoothing_Tension(tensionX,tensionY).smooth([{x:xb1,y:yb1},{x:kxb1,y:kyb1},{x:kxb0,y:kyb0},{x:xb0,y:yb0}]),path+=" Z"}this.link.path=path,this.maskBullets&&(this.bulletsMask.path=path,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(SankeyLink.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(value){this.setPropertyValue("startX",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(value){this.setPropertyValue("endX",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(value){this.setPropertyValue("startY",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(value){this.setPropertyValue("endY",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(value){this.setPropertyValue("linkWidth",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(value){this.setPropertyValue("controlPointDistance",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyLink.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(value){this.setPropertyValue("tension",value,!0)},enumerable:!0,configurable:!0}),SankeyLink}(FlowDiagramLink_FlowDiagramLink);Registry_registry.registeredClasses.SankeyLink=SankeyLink_SankeyLink;var SankeyDiagram_SankeyDiagramDataItem=function(_super){function SankeyDiagramDataItem(){var _this=_super.call(this)||this;return _this.className="SankeyDiagramDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(SankeyDiagramDataItem,_super),SankeyDiagramDataItem}(FlowDiagram_FlowDiagramDataItem),SankeyDiagram_SankeyDiagram=function(_super){function SankeyDiagram(){var _this=_super.call(this)||this;return _this.className="SankeyDiagram",_this.orientation="horizontal",_this.nodeAlign="middle",_this.nodesContainer.width=Percent_percent(100),_this.nodesContainer.height=Percent_percent(100),_this.linksContainer.width=Percent_percent(100),_this.linksContainer.height=Percent_percent(100),_this.applyTheme(),_this}return Object(tslib_es6.d)(SankeyDiagram,_super),SankeyDiagram.prototype.validateData=function(){var _this=this;_super.prototype.validateData.call(this),this._levelCount=0,this.nodes.each((function(key,node){node.level=void 0})),this.nodes.each((function(key,node){node.level=_this.getNodeLevel(node,0),_this._levelCount=Math_max(_this._levelCount,node.level)}))},SankeyDiagram.prototype.getNodeLevel=function(node,level){var _this=this,levels=[level];return Iterator_each(node.incomingDataItems.iterator(),(function(link){link.fromNode&&(isNumber(link.fromNode.level)?levels.push(link.fromNode.level+1):(_this._counter=0,_this.checkLoop(link.fromNode),_this._counter<_this.dataItems.length&&levels.push(_this.getNodeLevel(link.fromNode,level+1))))})),Math.max.apply(Math,Object(tslib_es6.j)(levels))},SankeyDiagram.prototype.checkLoop=function(node){var _this=this;this._counter++,this._counter>this.dataItems.length||Iterator_each(node.incomingDataItems.iterator(),(function(link){_this.checkLoop(link.fromNode)}))},SankeyDiagram.prototype.calculateValueHeight=function(){var _this=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var availableHeight,maxSumLevel,minHeight,total=this.dataItem.values.value.sum;Iterator_each(this._sorted,(function(strNode){var node=strNode[1];_this.getNodeValue(node)})),this.nodes.each((function(key,node){var level=node.level,value=Math.max(node.totalIncoming,node.totalOutgoing);value/total<_this.minNodeSize&&(value=total*_this.minNodeSize),isNumber(_this._levelSum[level])?_this._levelSum[level]+=value:_this._levelSum[level]=value,isNumber(_this._levelNodesCount[level])?_this._levelNodesCount[level]++:_this._levelNodesCount[level]=1})),availableHeight="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,Object_each(this._levelSum,(function(key,value){var realValue=value,levelNodeCount=_this._levelNodesCount[key],valueHeight=(availableHeight-(levelNodeCount-1)*_this.nodePadding)/realValue;valueHeight==1/0&&(valueHeight=0),(minHeight>valueHeight||!isNumber(minHeight))&&(minHeight=valueHeight,_this.maxSum=realValue,maxSumLevel=toNumber(key))})),this._maxSumLevel=maxSumLevel;var maxSumLevelNodeCount=this._levelNodesCount[this._maxSumLevel],valueHeight=(availableHeight-(maxSumLevelNodeCount-1)*this.nodePadding)/this.maxSum;if(valueHeight==1/0&&(valueHeight=0),isNumber(this.valueHeight)){var finalHeight=void 0;try{finalHeight=this._heightAnimation.animationOptions[0].to}catch(err){}if(finalHeight!=valueHeight){var duration=this.interpolationDuration;try{duration=this.nodes.template.states.getKey("active").transitionDuration}catch(err){}this._heightAnimation=new Animation_Animation(this,{property:"valueHeight",from:this.valueHeight,to:valueHeight},duration,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=valueHeight},SankeyDiagram.prototype.validate=function(){var _this=this;_super.prototype.validate.call(this),this.calculateValueHeight();var availableHeight,container=this.nodesContainer,nextCoordinate={},maxSumLevelNodeCount=this._levelNodesCount[this._maxSumLevel],total=this.dataItem.values.value.sum;availableHeight="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,Iterator_each(this._sorted,(function(strNode){var delta,x,y,node=strNode[1],level=node.level,levelCoordinate=0,nodeCount=_this._levelNodesCount[level];switch(_this.nodeAlign){case"bottom":levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight-(nodeCount-maxSumLevelNodeCount)*_this.nodePadding;break;case"middle":levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight/2-(nodeCount-maxSumLevelNodeCount)*_this.nodePadding/2}if(0==_this.maxSum)switch(_this.nodeAlign){case"bottom":levelCoordinate=availableHeight-nodeCount*(_this.minNodeSize*availableHeight+_this.nodePadding);break;case"middle":levelCoordinate=availableHeight/2-nodeCount/2*(_this.minNodeSize*availableHeight+_this.nodePadding)}node.parent=container;var value=Math.max(node.totalIncoming,node.totalOutgoing);if(value/total<_this.minNodeSize&&(value=total*_this.minNodeSize),"horizontal"==_this.orientation){x=(delta=(_this.innerWidth-node.pixelWidth)/_this._levelCount)*node.level,y=nextCoordinate[level]||levelCoordinate;var h=value*_this.valueHeight;0==total&&0==h&&(h=_this.minNodeSize*availableHeight),node.height=h,node.minX=x,node.maxX=x,nextCoordinate[level]=y+h+_this.nodePadding}else{delta=(_this.innerHeight-node.pixelHeight)/_this._levelCount,x=nextCoordinate[level]||levelCoordinate,y=delta*node.level;var w=value*_this.valueHeight;0==total&&0==w&&(w=_this.minNodeSize*availableHeight),node.width=w,node.minY=y,node.maxY=y,nextCoordinate[level]=x+w+_this.nodePadding}node.x=x,node.y=y}))},SankeyDiagram.prototype.showReal=function(duration){var _this=this;if(!this.preventShow){if(this.interpolationDuration>0){var container_1=this.nodesContainer,i_1=0;Iterator_each(this.links.iterator(),(function(link){link.hide(0)})),Iterator_each(this._sorted,(function(strNode){var property,node=strNode[1];"horizontal"==_this.orientation?(node.dx=-(container_1.pixelWidth-node.pixelWidth)/Math.max(_this._levelCount,1),property="dx"):(node.dy=-(container_1.pixelHeight-node.pixelHeight)/Math.max(_this._levelCount,1),property="dy");var iter,sum,delay=0,duration=_this.interpolationDuration;_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i_1+duration*i_1/(iter=_this.nodes.iterator(),sum=0,iter((function(_){return++sum,!0})),sum)),node.opacity=0,node.invalidateLinks(),node.animate([{property:"opacity",from:0,to:1},{property:property,to:0}],_this.interpolationDuration,_this.interpolationEasing).delay(delay),Iterator_each(node.outgoingDataItems.iterator(),(function(dataItem){var animation=dataItem.link.show(_this.interpolationDuration);animation&&!animation.isFinished()&&animation.delay(delay)})),Iterator_each(node.incomingDataItems.iterator(),(function(dataItem){if(!dataItem.fromNode){var animation=dataItem.link.show(_this.interpolationDuration);animation&&!animation.isFinished()&&animation.delay(delay)}})),i_1++}))}return _super.prototype.showReal.call(this)}},SankeyDiagram.prototype.changeSorting=function(){var _this=this;this.sortNodes();var nextCoordinate={};Iterator_each(this._sorted,(function(strNode){var property,nodeHeight,node=strNode[1],level=node.level,levelCoordinate=(_this.maxSum-_this._levelSum[level])*_this.valueHeight/2;"horizontal"==_this.orientation?(property="y",nodeHeight=node.pixelHeight):(property="x",nodeHeight=node.pixelWidth),node.animate({property:property,to:nextCoordinate[level]||levelCoordinate},_this.interpolationDuration,_this.interpolationEasing),nextCoordinate[level]=(nextCoordinate[level]||levelCoordinate)+nodeHeight+_this.nodePadding,node.invalidateLinks()}))},SankeyDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},SankeyDiagram.prototype.createDataItem=function(){return new SankeyDiagram_SankeyDiagramDataItem},Object.defineProperty(SankeyDiagram.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(value){this.setPropertyValue("nodeAlign",value),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(SankeyDiagram.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value,!0);var nameLabel=this.nodes.template.nameLabel;"vertical"==value?(this.nodes.template.width=void 0,nameLabel.label.horizontalCenter="middle",nameLabel.locationX=.5):(this.nodes.template.height=void 0,nameLabel.label.horizontalCenter="left",nameLabel.locationX=1)},enumerable:!0,configurable:!0}),SankeyDiagram.prototype.createNode=function(){var node=new SankeyNode_SankeyNode;return this._disposers.push(node),node},SankeyDiagram.prototype.createLink=function(){var link=new SankeyLink_SankeyLink;return this._disposers.push(link),link},Object.defineProperty(SankeyDiagram.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(value){value!=this._valueHeight&&(this._valueHeight=value,this.invalidate())},enumerable:!0,configurable:!0}),SankeyDiagram.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},SankeyDiagram}(FlowDiagram_FlowDiagram);Registry_registry.registeredClasses.SankeyDiagram=SankeyDiagram_SankeyDiagram;var ChordNode_ChordNode=function(_super){function ChordNode(){var _this=_super.call(this)||this;_this.className="ChordNode";var label=_this.createChild(AxisLabelCircular_AxisLabelCircular);label.location=.5,label.radius=5,label.text="{name}",label.zIndex=1,label.shouldClone=!1,_this.label=label,_this.layout="none",_this.events.on("positionchanged",_this.updateRotation,_this,!1),_this.isMeasured=!1,_this.slice=_this.createChild(Slice_Slice),_this.slice.isMeasured=!1;var hiddenState=_this.hiddenState;return hiddenState.properties.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("disabledBackground"),hiddenState.properties.opacity=.5,hiddenState.properties.visible=!0,_this.setStateOnChildren=!1,_this.slice.hiddenState.properties.visible=!0,_this.adapter.add("tooltipX",(function(tooltipX,target){return target.slice.ix*(target.slice.radius-(target.slice.radius-target.slice.pixelInnerRadius)/2)})),_this.adapter.add("tooltipY",(function(tooltipY,target){return target.slice.iy*(target.slice.radius-(target.slice.radius-target.slice.pixelInnerRadius)/2)})),_this}return Object(tslib_es6.d)(ChordNode,_super),ChordNode.prototype.invalidateLinks=function(){var _this=this;_super.prototype.invalidateLinks.call(this);var label=this.label,slice=this.slice,chart=this.chart;if(chart&&slice){var sum=this.total,arc_1=slice.arc,sliceStartAngle_1=slice.startAngle;this.children.each((function(child){if(child instanceof Bullet_Bullet){var locationX=child.locationX;isNumber(locationX)||(locationX=.5);var locationY=child.locationY;isNumber(locationY)||(locationY=1);var childAngle=sliceStartAngle_1+arc_1*locationX,childRadius=locationY*slice.radius;child.x=childRadius*Math_cos(childAngle),child.y=childRadius*Math_sin(childAngle)}}));var labelAngle=sliceStartAngle_1+arc_1*label.location,startAngle=sliceStartAngle_1+(1-sum/this.adjustedTotal)*arc_1*.5;Type_isNaN(startAngle)&&(startAngle=sliceStartAngle_1),label.fixPosition(labelAngle,slice.radius),this.nextAngle=startAngle,this._outgoingSorted&&Iterator_each(this._outgoingSorted,(function(dataItem){var link=dataItem.link;link.parent=_this.chart.linksContainer;var value=dataItem.getWorkingValue("value");if(isNumber(value)){if(chart.nonRibbon){var percentWidth=link.percentWidth;isNumber(percentWidth)||(percentWidth=5),percentWidth/=100,link.startAngle=sliceStartAngle_1+arc_1/2-arc_1/2*percentWidth,link.arc=arc_1*percentWidth}else link.arc=value*chart.valueAngle,link.startAngle=_this.nextAngle,_this.nextAngle+=link.arc;dataItem.toNode||(link.endAngle=link.startAngle),link.radius=slice.pixelInnerRadius}})),this._incomingSorted&&Iterator_each(this._incomingSorted,(function(dataItem){var link=dataItem.link;if(link.radius=slice.pixelInnerRadius,chart.nonRibbon){var percentWidth=link.percentWidth;isNumber(percentWidth)||(percentWidth=5),percentWidth/=100,link.endAngle=sliceStartAngle_1+arc_1/2-arc_1/2*percentWidth,link.arc=arc_1*percentWidth}else{link.endAngle=_this.nextAngle;var value=dataItem.getWorkingValue("value");isNumber(value)&&(link.arc=value*chart.valueAngle,_this.nextAngle+=link.arc)}dataItem.fromNode||(link.startAngle=link.endAngle)}))}},ChordNode.prototype.updateRotation=function(){var slice=this.slice,mAngle=this.trueStartAngle+slice.arc/2,radius=slice.radius,tx=radius*Math_cos(mAngle),ty=radius*Math_sin(mAngle),angle=getAngle({x:tx+this.pixelX,y:ty+this.pixelY});slice.startAngle=this.trueStartAngle+(angle-mAngle),this.dx=-this.pixelX,this.dy=-this.pixelY},ChordNode.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.label.copyFrom(source.label),this.slice.copyFrom(source.slice)},ChordNode}(FlowDiagramNode_FlowDiagramNode);Registry_registry.registeredClasses.ChordNode=ChordNode_ChordNode;var QuadraticCurve_QuadraticCurve=function(_super){function QuadraticCurve(){var _this=_super.call(this)||this;return _this.className="QuadraticCurve",_this.element=_this.paper.add("path"),_this.pixelPerfect=!1,_this.fill=Color_color(),_this.applyTheme(),_this}return Object(tslib_es6.d)(QuadraticCurve,_super),QuadraticCurve.prototype.draw=function(){if(isNumber(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var p1={x:this.x1,y:this.y1},p2={x:this.x2,y:this.y2},cp={x:this.cpx,y:this.cpy},d=moveTo(p1)+quadraticCurveTo(p2,cp);this.path=d}},Object.defineProperty(QuadraticCurve.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(value){this.setPropertyValue("cpx",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(QuadraticCurve.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(value){this.setPropertyValue("cpy",value,!0)},enumerable:!0,configurable:!0}),QuadraticCurve.prototype.positionToPoint=function(position){var p1={x:this.x1,y:this.y1},cp={x:this.cpx,y:this.cpy},p2={x:this.x2,y:this.y2},point1=getPointOnQuadraticCurve(p1,p2,cp,position),point2=getPointOnQuadraticCurve(p1,p2,cp,position+.001);return{x:point1.x,y:point1.y,angle:getAngle(point1,point2)}},QuadraticCurve}(Line_Line),ChordLink_ChordLink=function(_super){function ChordLink(){var _this=_super.call(this)||this;return _this.className="ChordLink",_this.middleLine=_this.createChild(QuadraticCurve_QuadraticCurve),_this.middleLine.shouldClone=!1,_this.middleLine.strokeOpacity=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(ChordLink,_super),ChordLink.prototype.validate=function(){if(_super.prototype.validate.call(this),!this.isTemplate){var startAngle=this.startAngle,endAngle=this.endAngle,arc=this.arc,radius=this.radius,fromNode=this.dataItem.fromNode,toNode=this.dataItem.toNode,fromX=0,fromY=0;fromNode&&(fromX=fromNode.pixelX+fromNode.dx,fromY=fromNode.pixelY+fromNode.dy);var toX=0,toY=0;if(toNode&&(toX=toNode.pixelX+toNode.dx,toY=toNode.pixelY+toNode.dy),radius>0){var x1=radius*Math_cos(startAngle)+fromX,y1=radius*Math_sin(startAngle)+fromY,x2=radius*Math_cos(endAngle)+toX,y2=radius*Math_sin(endAngle)+toY,cp={x:0,y:0},path=moveTo({x:x1,y:y1});path+=arcTo(startAngle,arc,radius),path+=quadraticCurveTo({x:x2,y:y2},cp),path+=arcTo(endAngle,arc,radius),path+=quadraticCurveTo({x:x1,y:y1},cp),this.link.path=arc>0?path:"",this.maskBullets&&(this.bulletsMask.path=path,this.bulletsContainer.mask=this.bulletsMask);var mAngle1=startAngle+arc/2,mAngle2=endAngle+arc/2,middleLine=this.middleLine;middleLine.x1=radius*Math_cos(mAngle1)+fromX,middleLine.y1=radius*Math_sin(mAngle1)+fromY,middleLine.x2=radius*Math_cos(mAngle2)+toX,middleLine.y2=radius*Math_sin(mAngle2)+toY,middleLine.cpx=0,middleLine.cpy=0,middleLine.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(ChordLink.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPropertyValue("radius",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordLink.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(value){this.setPropertyValue("arc",value,!0)},enumerable:!0,configurable:!0}),ChordLink}(FlowDiagramLink_FlowDiagramLink);Registry_registry.registeredClasses.ChordLink=ChordLink_ChordLink;var ChordDiagram_ChordDiagramDataItem=function(_super){function ChordDiagramDataItem(){var _this=_super.call(this)||this;return _this.className="ChordDiagramDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(ChordDiagramDataItem,_super),ChordDiagramDataItem}(FlowDiagram_FlowDiagramDataItem),ChordDiagram_ChordDiagram=function(_super){function ChordDiagram(){var _this=_super.call(this)||this;_this.valueAngle=0,_this.className="ChordDiagram",_this.startAngle=-90,_this.endAngle=270,_this.radius=Percent_percent(80),_this.innerRadius=-15,_this.nodePadding=5;var chordContainer=_this.chartContainer.createChild(Container_Container);return chordContainer.align="center",chordContainer.valign="middle",chordContainer.shouldClone=!1,chordContainer.layout="absolute",_this.chordContainer=chordContainer,_this.nodesContainer.parent=chordContainer,_this.linksContainer.parent=chordContainer,_this.chartContainer.events.on("maxsizechanged",_this.invalidate,_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(ChordDiagram,_super),ChordDiagram.prototype.validate=function(){var _this=this,chartContainer=this.chartContainer,endAngle=this.endAngle,startAngle=this.startAngle+this.nodePadding/2,rect=getArcRect(this.startAngle,this.endAngle,1);rect=getCommonRectangle([rect,{x:0,y:0,width:0,height:0}]);var maxRadius=Math.min(chartContainer.innerWidth/rect.width,chartContainer.innerHeight/rect.height);isNumber(maxRadius)||(maxRadius=0);var radius=relativeRadiusToValue(this.radius,maxRadius),pixelInnerRadius=relativeRadiusToValue(this.innerRadius,radius,!0),total=this.dataItem.values.value.sum,count=0,newTotal=0;Iterator_each(this._sorted,(function(strNode){var node=strNode[1];_this.getNodeValue(node),count++;var value=node.total;node.total/total<_this.minNodeSize&&(value=total*_this.minNodeSize),newTotal+=value})),this.valueAngle=(endAngle-this.startAngle-this.nodePadding*count)/newTotal,Iterator_each(this._sorted,(function(strNode){var node=strNode[1],slice=node.slice;slice.radius=radius,slice.innerRadius=pixelInnerRadius;var arc,value=node.total;node.total/total<_this.minNodeSize&&(value=total*_this.minNodeSize),node.adjustedTotal=value,arc=_this.nonRibbon?(endAngle-_this.startAngle)/count-_this.nodePadding:_this.valueAngle*value,slice.arc=arc,slice.startAngle=startAngle,node.trueStartAngle=startAngle,node.parent=_this.nodesContainer,node.validate(),startAngle+=arc+_this.nodePadding})),this.chordContainer.definedBBox={x:radius*rect.x,y:radius*rect.y,width:radius*rect.width,height:radius*rect.height},this.chordContainer.invalidateLayout(),_super.prototype.validate.call(this)},ChordDiagram.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},ChordDiagram.prototype.createDataItem=function(){return new ChordDiagram_ChordDiagramDataItem},Object.defineProperty(ChordDiagram.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(ChordDiagram.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(value){this.setPropertyValue("nonRibbon",value,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),ChordDiagram.prototype.createNode=function(){var node=new ChordNode_ChordNode;return this._disposers.push(node),node},ChordDiagram.prototype.createLink=function(){var link=new ChordLink_ChordLink;return this._disposers.push(link),link},ChordDiagram}(FlowDiagram_FlowDiagram);Registry_registry.registeredClasses.ChordDiagram=ChordDiagram_ChordDiagram;var Column_Column=function(_super){function Column(){var _this=_super.call(this)||this;return _this.className="Column",_this.width=Percent_percent(80),_this.height=Percent_percent(80),_this.events.disableType("transformed"),_this.applyOnClones=!0,_this.strokeOpacity=1,_this.layout="none",_this.createAssets(),_this.events.on("childadded",_this.handleKidAdded,_this,!1),_this}return Object(tslib_es6.d)(Column,_super),Column.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},Column.prototype.createAssets=function(){this.column=this.createChild(RoundedRectangle_RoundedRectangle),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},Column.prototype.validate=function(){_super.prototype.validate.call(this);var column=this.column;column&&(column.width=Math_min(this.pixelWidth,this.maxWidth),column.height=Math_min(this.pixelHeight,this.maxHeight),column.invalid&&column.validate())},Column.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.column&&this.column.copyFrom(source.column)},Object.defineProperty(Column.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:Math_min(this.pixelWidth,this.maxWidth),height:Math_min(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),Column}(Container_Container);Registry_registry.registeredClasses.Column=Column_Column;var ColumnSeries_ColumnSeriesDataItem=function(_super){function ColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="ColumnSeriesDataItem",_this.locations.dateX=.5,_this.locations.dateY=.5,_this.locations.categoryX=.5,_this.locations.categoryY=.5,_this.applyTheme(),_this}return Object(tslib_es6.d)(ColumnSeriesDataItem,_super),Object.defineProperty(ColumnSeriesDataItem.prototype,"column",{get:function(){return this._column},set:function(column){this.setColumn(column)},enumerable:!0,configurable:!0}),ColumnSeriesDataItem.prototype.setColumn=function(column){var _this=this;if(this._column&&column!=this._column&&Array_remove(this.sprites,this._column),this._column=column,column){var prevDataItem=column.dataItem;prevDataItem&&prevDataItem!=this&&(prevDataItem.column=void 0),this.addSprite(column),this._disposers.push(new Disposer((function(){_this.component&&_this.component.columns.removeValue(column)})))}},Object.defineProperty(ColumnSeriesDataItem.prototype,"width",{get:function(){var width=this.properties.width;return this._adapterO&&(width=this._adapterO.apply("width",width)),width},set:function(value){this.properties.width!=value&&(this.properties.width=value,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeriesDataItem.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Dictionary_Dictionary),this._rangesColumns},enumerable:!0,configurable:!0}),ColumnSeriesDataItem}(XYSeries_XYSeriesDataItem),ColumnSeries_ColumnSeries=function(_super){function ColumnSeries(){var _this=_super.call(this)||this;_this._startLocation=0,_this._endLocation=1,_this.className="ColumnSeries",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.strokeOpacity=0,_this.fillOpacity=1,_this.clustered=!0;var columnsContainer=_this.mainContainer.createChild(Container_Container);return columnsContainer.shouldClone=!1,columnsContainer.isMeasured=!1,columnsContainer.layout="none",_this._columnsContainer=columnsContainer,_this.columns.template.pixelPerfect=!1,_this.tooltipColorSource=_this.columns.template,_this.applyTheme(),_this}return Object(tslib_es6.d)(ColumnSeries,_super),Object.defineProperty(ColumnSeries.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),ColumnSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},ColumnSeries.prototype.createDataItem=function(){return new ColumnSeries_ColumnSeriesDataItem},ColumnSeries.prototype.validate=function(){var _this=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var prevAxisIndex_1,baseAxisSeries=this.chart.series,clusterCount_1=0,index_1=0,sortedByAxis_1=[];Iterator_each(baseAxisSeries.iterator(),(function(series){var index_2;series instanceof ColumnSeries&&(_this.baseAxis==series.baseAxis&&(index_2=_this.baseAxis==_this.xAxis?_this.chart.yAxes.indexOf(series.yAxis):_this.chart.xAxes.indexOf(series.xAxis),sortedByAxis_1.push({series:series,axis:index_2})))})),sortedByAxis_1.sort((function(a,b){return a.axis-b.axis})),each(sortedByAxis_1,(function(sortedItem){var series=sortedItem.series;series instanceof ColumnSeries&&((!series.stacked&&series.clustered||prevAxisIndex_1!=sortedItem.axis&&series.clustered)&&clusterCount_1++,series==_this&&(index_1=clusterCount_1-1)),prevAxisIndex_1=sortedItem.axis})),this.clustered||(index_1=0,clusterCount_1=1);var renderer=this.baseAxis.renderer,cellStartLocation=renderer.cellStartLocation,cellEndLocation=renderer.cellEndLocation;this._startLocation=cellStartLocation+index_1/clusterCount_1*(cellEndLocation-cellStartLocation),this._endLocation=cellStartLocation+(index_1+1)/clusterCount_1*(cellEndLocation-cellStartLocation);var xAxis=this.xAxis,yAxis=this.yAxis;xAxis instanceof CategoryAxis_CategoryAxis&&yAxis instanceof ValueAxis_ValueAxis&&xAxis.sortBySeries==this&&this.sortCategoryAxis(xAxis,"valueY"),yAxis instanceof CategoryAxis_CategoryAxis&&xAxis instanceof ValueAxis_ValueAxis&&yAxis.sortBySeries==this&&this.sortCategoryAxis(yAxis,"valueX")}_super.prototype.validate.call(this);for(var i=0;i<this.startIndex;i++){var dataItem=this.dataItems.getIndex(i);this.disableUnusedColumns(dataItem)}for(i=this.dataItems.length-1;i>this.endIndex;i--){dataItem=this.dataItems.getIndex(i);this.disableUnusedColumns(dataItem)}this._propertiesChanged=!1},ColumnSeries.prototype.sortCategoryAxis=function(axis,key){var _this=this;this.dataItems.values.sort((function(x,y){return y.values[key].workingValue-x.values[key].workingValue}));var i=0;this.dataItems.each((function(dataItem){dataItem._index=i,i++})),axis.dataItems.each((function(dataItem){var axis=dataItem.component,currentPosition=axis.categoryToPosition(dataItem.category)-dataItem.deltaPosition,seriesDataItem=axis.getSeriesDataItemByCategory(dataItem.category,_this);if(seriesDataItem){var index=_this.dataItems.indexOf(seriesDataItem);dataItem._index=index;var deltaPosition=Math_round((index+.5)/_this.dataItems.length-currentPosition,3);dataItem.deltaAnimation&&!dataItem.deltaAnimation.isDisposed()&&dataItem.deltaAnimation.animationOptions[0].to==deltaPosition||deltaPosition!=Math_round(dataItem.deltaPosition,3)&&(dataItem.deltaAnimation&&dataItem.deltaAnimation.stop(),dataItem.deltaAnimation=dataItem.animate({property:"deltaPosition",from:-deltaPosition,to:0},axis.interpolationDuration,axis.interpolationEasing),_this._disposers.push(dataItem.deltaAnimation))}})),axis.dataItems.values.sort((function(x,y){return x.index-y.index}))},ColumnSeries.prototype.validateDataElement=function(dataItem){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(dataItem),_super.prototype.validateDataElement.call(this,dataItem))},ColumnSeries.prototype.getStartLocation=function(dataItem){var startLocation=this._startLocation;return this.baseAxis==this.xAxis?startLocation+=dataItem.locations[this.xOpenField]-.5:startLocation+=dataItem.locations[this.yOpenField]-.5,startLocation},ColumnSeries.prototype.getEndLocation=function(dataItem){var endLocation=this._endLocation;return this.baseAxis==this.xAxis?endLocation+=dataItem.locations[this.xField]-.5:endLocation+=dataItem.locations[this.yField]-.5,endLocation},ColumnSeries.prototype.validateDataElementReal=function(dataItem){var l,r,t,b,_this=this,startLocation=this.getStartLocation(dataItem),endLocation=this.getEndLocation(dataItem),xField=this.xField,xOpenField=this.xOpenField,yField=this.yField,yOpenField=this.yOpenField,template=this.columns.template,percentWidth=template.percentWidth,percentHeight=template.percentHeight,pixelWidth=template.pixelWidth,pixelHeight=template.pixelHeight,maxWidth=template.maxWidth,maxHeight=template.maxHeight,paddingLeft=template.pixelPaddingLeft,paddingRight=template.pixelPaddingRight,paddingTop=template.pixelPaddingTop,paddingBottom=template.pixelPaddingBottom,outOfBounds=!1,diw=dataItem.width;if(Type_hasValue(diw)&&(isNumber(diw)&&(pixelWidth=diw),diw instanceof Percent&&(percentWidth=100*diw.value)),this.xAxis instanceof CategoryAxis_CategoryAxis&&this.yAxis instanceof CategoryAxis_CategoryAxis){if(!dataItem.hasValue(this._xValueFields)||!dataItem.hasValue(this._yValueFields))return;if(startLocation=0,endLocation=1,!Type_isNaN(percentWidth))startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5),endLocation-=offset;if(l=this.xAxis.getX(dataItem,xOpenField,startLocation),r=this.xAxis.getX(dataItem,xField,endLocation),Type_isNaN(percentWidth))l+=offset=(r-l-pixelWidth)/2,r-=offset;if(!Type_isNaN(maxWidth)&&maxWidth<Math.abs(r-l))l+=offset=(r-l-maxWidth)/2,r-=offset;if(startLocation=0,endLocation=1,!Type_isNaN(percentHeight))startLocation+=offset=Math_round((1-percentHeight/100)/2,5),endLocation-=offset;if(t=this.yAxis.getY(dataItem,yOpenField,startLocation),b=this.yAxis.getY(dataItem,yField,endLocation),Type_isNaN(percentHeight))b+=offset=(b-t-pixelHeight)/2,t-=offset;if(!Type_isNaN(maxHeight)&&maxHeight<Math.abs(b-t))b+=offset=(b-t-maxHeight)/2,t-=offset;r=this.fixHorizontalCoordinate(r),l=this.fixHorizontalCoordinate(l),t=this.fixVerticalCoordinate(t),b=this.fixVerticalCoordinate(b)}else if(this.baseAxis==this.xAxis){if(!dataItem.hasValue(this._yValueFields))return;if(!Type_isNaN(percentWidth))startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5),endLocation-=offset;if(l=this.xAxis.getX(dataItem,xOpenField,startLocation),r=this.xAxis.getX(dataItem,xField,endLocation),Type_isNaN(percentWidth))l+=offset=(r-l-pixelWidth)/2,r-=offset;if(!Type_isNaN(maxWidth)&&maxWidth<Math.abs(r-l))l+=offset=(r-l-maxWidth)/2,r-=offset;var bottomLocation=dataItem.locations[yOpenField],topLocation=dataItem.locations[yField];this.yAxis instanceof ValueAxis_ValueAxis&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(bottomLocation=0,topLocation=0),b=this.yAxis.getY(dataItem,yOpenField,bottomLocation),t=this.yAxis.getY(dataItem,yField,topLocation);var axisLenght=Math.ceil(this.yAxis.axisLength);(t<0&&b<0||t>axisLenght&&b>axisLenght)&&(outOfBounds=!0),t=this.fixVerticalCoordinate(t),b=this.fixVerticalCoordinate(b),Math.abs(r-l)-paddingLeft-paddingRight==0&&(outOfBounds=!0)}else{if(!dataItem.hasValue(this._xValueFields))return;var offset;if(!Type_isNaN(percentHeight))startLocation+=offset=Math_round((endLocation-startLocation)*(1-percentHeight/100)/2,5),endLocation-=offset;if(t=this.yAxis.getY(dataItem,yOpenField,startLocation),b=this.yAxis.getY(dataItem,yField,endLocation),Type_isNaN(percentHeight))b-=offset=(b-t-pixelHeight)/2,t+=offset;if(!Type_isNaN(maxHeight)&&maxHeight<Math.abs(b-t))b-=offset=(b-t-maxHeight)/2,t+=offset;var rightLocation=dataItem.locations[xField],leftLocation=dataItem.locations[xOpenField];this.xAxis instanceof ValueAxis_ValueAxis&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(rightLocation=0,leftLocation=0),r=this.xAxis.getX(dataItem,xField,rightLocation),l=this.xAxis.getX(dataItem,xOpenField,leftLocation);axisLenght=Math.ceil(this.xAxis.axisLength);(r<0&&l<0||r>axisLenght&&l>axisLenght)&&(outOfBounds=!0),r=this.fixHorizontalCoordinate(r),l=this.fixHorizontalCoordinate(l),Math.abs(t-b)-paddingTop-paddingBottom==0&&(outOfBounds=!0)}var column_1,w=Math.abs(r-l),h=Math.abs(b-t),x=Math.min(l,r),y=Math.min(t,b);outOfBounds?this.disableUnusedColumns(dataItem):(dataItem.column?(column_1=dataItem.column,this._propertiesChanged&&(copyProperties(this,column_1,visualProperties),copyProperties(this.columns.template,column_1,visualProperties),each(visualProperties,(function(property){column_1[property]=column_1[property]})))):(copyProperties(this,column_1=this.columns.create(),visualProperties),copyProperties(this.columns.template,column_1,visualProperties),dataItem.addSprite(column_1),dataItem.column=column_1,column_1.paper=this.paper,this.itemsFocusable()?(Type_hasValue(this.role)||(this.role="menu"),Type_hasValue(column_1.role)||(column_1.role="menuitem"),column_1.focusable=!0):(Type_hasValue(this.role)||(this.role="list"),Type_hasValue(column_1.role)||(column_1.role="listitem"),column_1.focusable=!1),column_1.focusable&&(column_1.events.on("focus",(function(ev){column_1.readerTitle=_this.populateString(_this.itemReaderText,dataItem)}),void 0,!1),column_1.events.on("blur",(function(ev){column_1.readerTitle=""}),void 0,!1)),column_1.hoverable&&(column_1.events.on("over",(function(ev){column_1.readerTitle=_this.populateString(_this.itemReaderText,dataItem)}),void 0,!1),column_1.events.on("out",(function(ev){column_1.readerTitle=""}),void 0,!1)),column_1.parent=this.columnsContainer,column_1.virtualParent=this),column_1.width=w,column_1.height=h,column_1.x=x,column_1.y=y,column_1.realX=l,column_1.realY=t,column_1.realWidth=r-l,column_1.realHeight=b-t,this.setColumnStates(column_1),column_1.invalid&&column_1.validate(),column_1.__disabled=!1,Iterator_each(this.axisRanges.iterator(),(function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn||(rangeColumn=_this.columns.create(),copyProperties(axisRange.contents,rangeColumn,visualProperties),dataItem.addSprite(rangeColumn),dataItem.rangesColumns.setKey(axisRange.uid,rangeColumn),rangeColumn.paper=_this.paper),rangeColumn.parent=axisRange.contents,rangeColumn.width=w,rangeColumn.height=h,rangeColumn.x=x,rangeColumn.y=y,_this.setColumnStates(rangeColumn),rangeColumn.invalid&&rangeColumn.validate(),rangeColumn.__disabled=!1})));dataItem.itemWidth=w,dataItem.itemHeight=h},ColumnSeries.prototype.disableUnusedColumns=function(dataItem){dataItem&&(dataItem.column&&(dataItem.column.width=0,dataItem.column.height=0,dataItem.column.__disabled=!0),Iterator_each(this.axisRanges.iterator(),(function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn&&(rangeColumn.width=0,rangeColumn.height=0,rangeColumn.__disabled=!0)})))},ColumnSeries.prototype.setColumnStates=function(sprite){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var dataItem=sprite.dataItem;if(this.xAxis instanceof ValueAxis_ValueAxis||this.yAxis instanceof ValueAxis_ValueAxis){var open_1,value=void 0,change=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof ValueAxis_ValueAxis&&(open_1=dataItem.getValue(this.xOpenField),value=dataItem.getValue(this.xField)),change=dataItem.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof ValueAxis_ValueAxis&&(open_1=dataItem.getValue(this.yOpenField),value=dataItem.getValue(this.yField)),change=dataItem.getValue(this.yAxis.axisFieldName+"Y","previousChange")),value<open_1?(dataItem.droppedFromOpen=!0,sprite.defaultState.copyFrom(this._dropFromOpenState),sprite.setState(this._dropFromOpenState,0)):(dataItem.droppedFromOpen=!1,sprite.defaultState.copyFrom(this._riseFromOpenState),sprite.setState(this._riseFromOpenState,0)),change<0?(dataItem.droppedFromPrevious=!0,sprite.defaultState.copyFrom(this._dropFromPreviousState),sprite.setState(this._dropFromPreviousState,0)):(dataItem.droppedFromPrevious=!1,sprite.defaultState.copyFrom(this._riseFromPreviousState),sprite.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(ColumnSeries.prototype,"columns",{get:function(){return this._columns||(this._columns=new List_ListTemplate(this.createColumnTemplate()),this._disposers.push(new List_ListDisposer(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),ColumnSeries.prototype.createColumnTemplate=function(){return new Column_Column},Object.defineProperty(ColumnSeries.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(value){this.setPropertyValue("clustered",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(value){this._dropFromOpenState=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(value){this._dropFromPreviousState=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(value){this._riseFromOpenState=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(value){this._riseFromPreviousState=value},enumerable:!0,configurable:!0}),ColumnSeries.prototype.updateLegendValue=function(dataItem,notRange){var _this=this;if(_super.prototype.updateLegendValue.call(this,dataItem,notRange),this.legendDataItem){var fromOpenState_1,fromPreviousState_1,marker=this.legendDataItem.marker;dataItem&&(fromOpenState_1=dataItem.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,fromPreviousState_1=dataItem.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),Iterator_each(marker.children.iterator(),(function(child){dataItem?(child.setState(fromPreviousState_1),child.setState(fromOpenState_1)):(child.setState(_this._riseFromPreviousState),child.setState(_this._riseFromOpenState))}))}},ColumnSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.copyFrom(this.columns.template),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=this.fill,legendDataItem.colorOrig=this.fill},ColumnSeries.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.columns.template.copyFrom(source.columns.template)},ColumnSeries.prototype.getBulletLocationX=function(bullet,field){if(this.baseAxis==this.xAxis){var bulletLocationX=bullet.locationX;isNumber(bulletLocationX)||(bulletLocationX=.5);var endLocation=this.getEndLocation(bullet.dataItem);return endLocation-(endLocation-this.getStartLocation(bullet.dataItem))*bulletLocationX}return _super.prototype.getBulletLocationX.call(this,bullet,field)},ColumnSeries.prototype.getBulletLocationY=function(bullet,field){if(this.baseAxis==this.yAxis){var bulletLocationY=bullet.locationY;isNumber(bulletLocationY)||(bulletLocationY=.5);var endLocation=this.getEndLocation(bullet.dataItem);return endLocation-(endLocation-this.getStartLocation(bullet.dataItem))*bulletLocationY}return _super.prototype.getBulletLocationY.call(this,bullet,field)},ColumnSeries.prototype.getAdjustedXLocation=function(dataItem,field,bulletLocationX){return isNumber(bulletLocationX)||(bulletLocationX=dataItem?dataItem.locations[field]:.5),this._endLocation-(this._endLocation-this._startLocation)*(1-bulletLocationX)},ColumnSeries.prototype.getAdjustedYLocation=function(dataItem,field,bulletLocationY){return isNumber(bulletLocationY)||(bulletLocationY=dataItem?dataItem.locations[field]:.5),this._endLocation-(this._endLocation-this._startLocation)*bulletLocationY},ColumnSeries.prototype.fixVerticalCoordinate=function(coordinate){var paddingBottom=this.columns.template.pixelPaddingBottom;return fitToRange(coordinate,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+paddingBottom)},ColumnSeries.prototype.fixHorizontalCoordinate=function(coordinate){var paddingLeft=this.columns.template.pixelPaddingLeft,paddingRight=this.columns.template.pixelPaddingRight;return fitToRange(coordinate,-paddingLeft,this.xAxis.axisLength+paddingRight)},ColumnSeries.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this.columns.clear()},ColumnSeries}(XYSeries_XYSeries);Registry_registry.registeredClasses.ColumnSeries=ColumnSeries_ColumnSeries,Registry_registry.registeredClasses.ColumnSeriesDataItem=ColumnSeries_ColumnSeriesDataItem;var TreeMapSeries_TreeMapSeriesDataItem=function(_super){function TreeMapSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="TreeMapSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(TreeMapSeriesDataItem,_super),Object.defineProperty(TreeMapSeriesDataItem.prototype,"parentName",{get:function(){var treeMapDataItem=this.treeMapDataItem;if(treeMapDataItem&&treeMapDataItem.parent)return treeMapDataItem.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapSeriesDataItem.prototype,"value",{get:function(){var treeMapDataItem=this.treeMapDataItem;if(treeMapDataItem)return treeMapDataItem.value},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapSeriesDataItem.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),TreeMapSeriesDataItem.prototype.hide=function(duration,delay,toValue,fields){var treeMapDataItem=this.treeMapDataItem;return treeMapDataItem&&treeMapDataItem.hide(duration),_super.prototype.hide.call(this,duration,delay,toValue,fields)},TreeMapSeriesDataItem.prototype.show=function(duration,delay,fields){var treeMapDataItem=this.treeMapDataItem;return treeMapDataItem&&treeMapDataItem.show(duration,delay,fields),_super.prototype.show.call(this,duration,delay,fields)},TreeMapSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),TreeMapSeries_TreeMapSeries=function(_super){function TreeMapSeries(){var _this=_super.call(this)||this;_this.className="TreeMapSeries",_this.applyTheme(),_this.fillOpacity=1,_this.strokeOpacity=1,_this.minBulletDistance=0,_this.columns.template.tooltipText="{parentName} {name}: {value}",_this.columns.template.configField="config";var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor("background"),_this.dataFields.openValueX="x0",_this.dataFields.valueX="x1",_this.dataFields.openValueY="y0",_this.dataFields.valueY="y1",_this.sequencedInterpolation=!1,_this.showOnInit=!1,_this.columns.template.pixelPerfect=!1,_this}return Object(tslib_es6.d)(TreeMapSeries,_super),TreeMapSeries.prototype.processDataItem=function(dataItem,dataContext){dataContext.seriesDataItem=dataItem,_super.prototype.processDataItem.call(this,dataItem,dataContext)},TreeMapSeries.prototype.createDataItem=function(){return new TreeMapSeries_TreeMapSeriesDataItem},TreeMapSeries.prototype.show=function(duration){if(!this.preventShow){var interpolationDuration=this.defaultState.transitionDuration;return isNumber(duration)&&(interpolationDuration=duration),this.dataItems.each((function(dataItem){dataItem.show(duration)})),_super.prototype.showReal.call(this,interpolationDuration)}},TreeMapSeries.prototype.hide=function(duration){var interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration);var animation=_super.prototype.hideReal.call(this,interpolationDuration);return this.dataItems.each((function(dataItem){dataItem.hide(duration)})),animation},TreeMapSeries.prototype.processValues=function(){},TreeMapSeries.prototype.getStartLocation=function(dataItem){return 0},TreeMapSeries.prototype.getEndLocation=function(dataItem){return 1},TreeMapSeries.prototype.dataChangeUpdate=function(){},TreeMapSeries.prototype.processConfig=function(config){config&&(Type_hasValue(config.dataFields)&&Type_isObject(config.dataFields)||(config.dataFields={})),_super.prototype.processConfig.call(this,config)},TreeMapSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var column=marker.createChild(RoundedRectangle_RoundedRectangle);column.shouldClone=!1,copyProperties(this,column,visualProperties),column.padding(0,0,0,0),column.width=w,column.height=h;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},TreeMapSeries.prototype.disableUnusedColumns=function(dataItem){_super.prototype.disableUnusedColumns.call(this,dataItem),dataItem.column&&(dataItem.column.__disabled=!1)},TreeMapSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.TreeMapSeries=TreeMapSeries_TreeMapSeries,Registry_registry.registeredClasses.TreeMapSeriesDataItem=TreeMapSeries_TreeMapSeriesDataItem;var TreeMap_TreeMapDataItem=function(_super){function TreeMapDataItem(){var _this=_super.call(this)||this;return _this.rows=[],_this.className="TreeMapDataItem",_this.values.value={},_this.values.x0={},_this.values.y0={},_this.values.x1={},_this.values.y1={},_this.hasChildren.children=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(TreeMapDataItem,_super),Object.defineProperty(TreeMapDataItem.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(value){this._legendDataItem=value,value.label&&(value.label.dataItem=this),value.valueLabel&&(value.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),TreeMapDataItem.prototype.getDuration=function(){return 0},Object.defineProperty(TreeMapDataItem.prototype,"value",{get:function(){var value=0;return this.children&&0!=this.children.length?Iterator_each(this.children.iterator(),(function(child){var childValue=child.value;isNumber(childValue)&&(value+=childValue)})):value=this.values.value.workingValue,value},set:function(value){this.setValue("value",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"x0",{get:function(){return this.values.x0.value},set:function(value){this.setValue("x0",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"x1",{get:function(){return this.values.x1.value},set:function(value){this.setValue("x1",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"y0",{get:function(){return this.values.y0.value},set:function(value){this.setValue("y0",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"y1",{get:function(){return this.values.y1.value},set:function(value){this.setValue("y1",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"name",{get:function(){return this.properties.name},set:function(name){this.setProperty("name",name)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"children",{get:function(){return this.properties.children},set:function(children){this.setProperty("children",children)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"color",{get:function(){var color=this.properties.color;return null==color&&this.parent&&(color=this.parent.color),null==color&&this.component&&(color=this.component.colors.getIndex(this.component.colors.step*this.index)),color},set:function(value){this.setProperty("color",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMapDataItem.prototype,"series",{get:function(){return this._series},set:function(series){series!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=series,this._disposers.push(series))},enumerable:!0,configurable:!0}),TreeMapDataItem.prototype.hide=function(duration,delay,toValue,fields){this.setWorkingValue("value",0),this.children&&this.children.each((function(child){child.hide(duration,delay,toValue,fields)}));var seriesDataItem=this.seriesDataItem;return seriesDataItem&&seriesDataItem.bullets.each((function(key,value){value.hide(),value.preventShow=!0})),_super.prototype.hide.call(this,duration,delay,toValue,fields)},TreeMapDataItem.prototype.show=function(duration,delay,fields){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each((function(child){child.show(duration,delay,fields)}));var seriesDataItem=this.seriesDataItem;return seriesDataItem&&seriesDataItem.bullets.each((function(key,value){value.preventShow=!1})),_super.prototype.show.call(this,duration,delay,fields)},TreeMapDataItem}(XYChart_XYChartDataItem),TreeMap_TreeMap=function(_super){function TreeMap(){var _this=_super.call(this)||this;_this.layoutAlgorithm=_this.squarify,_this.zoomable=!0,_this.className="TreeMap",_this._usesData=!0,_this.maxLevels=2,_this.currentLevel=0,_this.hideParentColumns=!1,_this.colors=new ColorSet_ColorSet,_this.sorting="descending";var xAxis=_this.xAxes.push(new ValueAxis_ValueAxis);xAxis.title.disabled=!0,xAxis.strictMinMax=!0;var xRenderer=xAxis.renderer;xRenderer.inside=!0,xRenderer.labels.template.disabled=!0,xRenderer.ticks.template.disabled=!0,xRenderer.grid.template.disabled=!0,xRenderer.axisFills.template.disabled=!0,xRenderer.minGridDistance=100,xRenderer.line.disabled=!0,xRenderer.baseGrid.disabled=!0;var yAxis=_this.yAxes.push(new ValueAxis_ValueAxis);yAxis.title.disabled=!0,yAxis.strictMinMax=!0;var yRenderer=yAxis.renderer;yRenderer.inside=!0,yRenderer.labels.template.disabled=!0,yRenderer.ticks.template.disabled=!0,yRenderer.grid.template.disabled=!0,yRenderer.axisFills.template.disabled=!0,yRenderer.minGridDistance=100,yRenderer.line.disabled=!0,yRenderer.baseGrid.disabled=!0,yRenderer.inversed=!0,_this.xAxis=xAxis,_this.yAxis=yAxis;var template=new TreeMapSeries_TreeMapSeries;return _this.seriesTemplates=new Dictionary_DictionaryTemplate(template),template.virtualParent=_this,_this._disposers.push(new Dictionary_DictionaryDisposer(_this.seriesTemplates)),_this._disposers.push(template),_this.zoomOutButton.events.on("hit",(function(){_this.zoomToChartDataItem(_this._homeDataItem)}),void 0,!1),_this.seriesTemplates.events.on("insertKey",(function(event){event.newValue.isTemplate=!0}),void 0,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(TreeMap,_super),Object.defineProperty(TreeMap.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(navigationBar){var _this=this;this._navigationBar!=navigationBar&&(this._navigationBar=navigationBar,navigationBar.parent=this,navigationBar.toBack(),navigationBar.links.template.events.on("hit",(function(event){var dataItem=event.target.dataItem.dataContext;dataItem.isDisposed()||(_this.zoomToChartDataItem(dataItem),_this.createTreeSeries(dataItem))}),void 0,!0),this._disposers.push(navigationBar))},enumerable:!0,configurable:!0}),TreeMap.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],_super.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var homeDataItem=this.dataItems.template.clone();this._homeDataItem=homeDataItem,Iterator_each(this.dataItems.iterator(),(function(dataItem){dataItem.parent=homeDataItem})),homeDataItem.children=this.dataItems,homeDataItem.x0=0,homeDataItem.y0=0,homeDataItem.name=this._homeText;var maxY=10*Math.round(1e3*this.pixelHeight/this.pixelWidth/10)||1e3;homeDataItem.x1=1e3,homeDataItem.y1=maxY,this.xAxis.min=0,this.xAxis.max=1e3,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=maxY,this.yAxis.getMinMax(),this.layoutItems(homeDataItem),this.createTreeSeries(homeDataItem),this.feedLegend()},TreeMap.prototype.layoutItems=function(parent,sorting){if(parent){var children=parent.children;sorting||(sorting=this.sorting),"ascending"==sorting&&children.values.sort((function(a,b){return a.value-b.value})),"descending"==sorting&&children.values.sort((function(a,b){return b.value-a.value})),this._updateDataItemIndexes(0),this.layoutAlgorithm(parent);for(var i=0,len=children.length;i<len;i++){var node=children.getIndex(i);node.children&&this.layoutItems(node)}}},TreeMap.prototype.createTreeSeries=function(dataItem){var _this=this;this._tempSeries=[];for(var navigationData=[dataItem],parentDataItem=dataItem.parent;null!=parentDataItem;)this.initSeries(parentDataItem),navigationData.push(parentDataItem),parentDataItem=parentDataItem.parent;navigationData.reverse(),this.navigationBar&&(this.navigationBar.data=navigationData),this.createTreeSeriesReal(dataItem),each(this._tempSeries,(function(series){-1==_this.series.indexOf(series)&&_this.series.push(series),series.zIndex=series.level}))},TreeMap.prototype.createTreeSeriesReal=function(dataItem){if(dataItem.children&&dataItem.level<this.currentLevel+this.maxLevels){this.initSeries(dataItem);for(var i=0;i<dataItem.children.length;i++){var child=dataItem.children.getIndex(i);child.children&&this.createTreeSeriesReal(child)}}},TreeMap.prototype.setData=function(value){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,_super.prototype.setData.call(this,value)},TreeMap.prototype.seriesAppeared=function(){return!0},TreeMap.prototype.initSeries=function(dataItem){var _this=this;if(!dataItem.series){var series=void 0,template=this.seriesTemplates.getKey(dataItem.level.toString());(series=template?template.clone():this.series.create()).dataItem.dataContext=dataItem,series.name=dataItem.name,series.parentDataItem=dataItem,dataItem.series=series;var level=dataItem.level;series.level=level;var dataContext=dataItem.dataContext;dataContext&&(series.config=dataContext.config),this.dataUsers.removeValue(series),series.data=dataItem.children.values,series.fill=dataItem.color,series.columnsContainer.hide(0),series.bulletsContainer.hide(0),series.columns.template.adapter.add("fill",(function(fill,target){var dataItem=target.dataItem;if(dataItem){var treeMapDataItem=dataItem.treeMapDataItem;if(treeMapDataItem)return target.fill=treeMapDataItem.color,target.adapter.remove("fill"),treeMapDataItem.color}})),this.zoomable&&(dataItem.level>this.currentLevel||dataItem.children&&dataItem.children.length>0)&&(series.columns.template.cursorOverStyle=MouseCursorStyle.pointer,this.zoomable&&series.columns.template.events.on("hit",(function(event){var seriesDataItem=event.target.dataItem;dataItem.level>_this.currentLevel?_this.zoomToChartDataItem(seriesDataItem.treeMapDataItem.parent):_this.zoomToSeriesDataItem(seriesDataItem)}),this,void 0))}this._tempSeries.push(dataItem.series)},TreeMap.prototype.toggleBullets=function(duration){var _this=this;Iterator_each(this.series.iterator(),(function(series){-1==_this._tempSeries.indexOf(series)?(series.columnsContainer.hide(),series.bulletsContainer.hide(duration)):(series.columnsContainer.show(),series.bulletsContainer.show(duration),series.dataItems.each((function(dataItem){dataItem.bullets.each((function(key,bullet){bullet.show()}))})),series.level<_this.currentLevel?(_this.hideParentColumns&&series.columnsContainer.hide(),series.bulletsContainer.hide(duration)):series.level==_this.currentLevel&&_this.maxLevels>1&&series.dataItems.each((function(dataItem){dataItem.treeMapDataItem.children&&dataItem.bullets.each((function(key,bullet){bullet.hide()}))})))}))},TreeMap.prototype.zoomToSeriesDataItem=function(dataItem){this.zoomToChartDataItem(dataItem.treeMapDataItem)},TreeMap.prototype.zoomToChartDataItem=function(dataItem){var _this=this;dataItem||(dataItem=this._homeDataItem);var zoomOutButton=this.zoomOutButton;if(zoomOutButton&&(dataItem!=this._homeDataItem?zoomOutButton.show():zoomOutButton.hide()),dataItem&&dataItem.children){this.xAxis.zoomToValues(dataItem.x0,dataItem.x1),this.yAxis.zoomToValues(dataItem.y0,dataItem.y1),this.currentLevel=dataItem.level,this.currentlyZoomed=dataItem,this.createTreeSeries(dataItem);var rangeChangeAnimation=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!rangeChangeAnimation||rangeChangeAnimation.isDisposed()||rangeChangeAnimation.isFinished()?this.toggleBullets():(this._dataDisposers.push(rangeChangeAnimation),rangeChangeAnimation.events.once("animationended",(function(){_this.toggleBullets()})))}},TreeMap.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},TreeMap.prototype.createDataItem=function(){return new TreeMap_TreeMapDataItem},Object.defineProperty(TreeMap.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(value){this.setPropertyValue("maxLevels",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMap.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(value){this.setPropertyValue("currentLevel",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMap.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(value){this.setPropertyValue("hideParentColumns",value)},enumerable:!0,configurable:!0}),Object.defineProperty(TreeMap.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(value){this.setPropertyValue("sorting",value,!0)},enumerable:!0,configurable:!0}),TreeMap.prototype.createSeries=function(){return new TreeMapSeries_TreeMapSeries},Object.defineProperty(TreeMap.prototype,"homeText",{get:function(){return this._homeText},set:function(value){this._homeText=value,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),TreeMap.prototype.processConfig=function(config){if(config){if(Type_hasValue(config.layoutAlgorithm)&&isString(config.layoutAlgorithm))switch(config.layoutAlgorithm){case"squarify":config.layoutAlgorithm=this.squarify;break;case"binaryTree":config.layoutAlgorithm=this.binaryTree;break;case"slice":config.layoutAlgorithm=this.slice;break;case"dice":config.layoutAlgorithm=this.dice;break;case"sliceDice":config.layoutAlgorithm=this.sliceDice;break;default:delete config.layoutAlgorithm}Type_hasValue(config.navigationBar)&&!Type_hasValue(config.navigationBar.type)&&(config.navigationBar.type="NavigationBar"),_super.prototype.processConfig.call(this,config)}},TreeMap.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},TreeMap.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),Iterator_each(this.series.iterator(),(function(series){series.validateRawData()})),this.zoomToChartDataItem(this._homeDataItem)},TreeMap.prototype.binaryTree=function(parent){var i,sum,nodes=parent.children,n=nodes.length,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i)sums[i+1]=sum+=nodes.getIndex(i).value;n>0&&function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes.getIndex(i);return node.x0=x0,node.y0=y0,node.x1=x1,void(node.y1=y1)}var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;for(;k<hi;){var mid=k+hi>>>1;sums[mid]<valueTarget?k=mid+1:hi=mid}valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k&&--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=(x0*valueRight+x1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,xk,y1),partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=(y0*valueRight+y1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,x1,yk),partition(k,j,valueRight,x0,yk,x1,y1)}}(0,n,parent.value,parent.x0,parent.y0,parent.x1,parent.y1)},TreeMap.prototype.slice=function(parent){for(var node,x0=parent.x0,x1=parent.x1,y0=parent.y0,y1=parent.y1,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;++i<n;)(node=nodes.getIndex(i)).x0=x0,node.x1=x1,node.y0=y0,y0+=node.value*k,node.y1=y0},TreeMap.prototype.dice=function(parent){for(var node,x0=parent.x0,x1=parent.x1,y0=parent.y0,y1=parent.y1,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;++i<n;)(node=nodes.getIndex(i)).y0=y0,node.y1=y1,node.x0=x0,x0+=node.value*k,node.x1=x0},TreeMap.prototype.sliceDice=function(parent){1&parent.level?this.slice(parent):this.dice(parent)},TreeMap.prototype.squarify=function(parent){for(var nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,ratio=(1+Math.sqrt(5))/2,x0=parent.x0,x1=parent.x1,y0=parent.y0,y1=parent.y1,nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes.getIndex(i1++).value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes.getIndex(i1).value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}var row=this.dataItems.template.clone();row.value=sumValue,row.dice=dx<dy,row.children=nodes.slice(i0,i1),row.x0=x0,row.y0=y0,row.x1=x1,row.y1=y1,row.dice?(row.y1=value?y0+=dy*sumValue/value:y1,this.dice(row)):(row.x1=value?x0+=dx*sumValue/value:x1,this.slice(row)),value-=sumValue,i0=i1}},TreeMap.prototype.handleSeriesAdded2=function(){},TreeMap.prototype.handleDataItemValueChange=function(dataItem,name){"value"==name&&this.invalidateDataItems()},TreeMap.prototype.handleDataItemWorkingValueChange=function(dataItem,name){"value"==name&&this.invalidateDataItems()},TreeMap.prototype.getLegendLevel=function(dataItem){if(dataItem&&dataItem.children){if(dataItem.children.length>1)return dataItem;if(1==dataItem.children.length){var child=dataItem.children.getIndex(0);return child.children?this.getLegendLevel(child):dataItem}return dataItem}},Object.defineProperty(TreeMap.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),TreeMap.prototype.feedLegend=function(){var legend=this.legend;if(legend){legend.dataFields.name="name";var legendParent=this.getLegendLevel(this._homeDataItem);if(legendParent){var legendData_1=[];legendParent.children.each((function(dataItem){legendData_1.push(dataItem)})),legend.data=legendData_1}}},TreeMap.prototype.disposeData=function(){_super.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},TreeMap.prototype.getExporting=function(){var _this=this,exporting=_super.prototype.getExporting.call(this);return exporting.adapter.add("formatDataFields",(function(info){return"csv"!=info.format&&"xlsx"!=info.format||Type_hasValue(_this.dataFields.children)&&delete info.dataFields[_this.dataFields.children],info})),exporting},TreeMap}(XYChart_XYChart);Registry_registry.registeredClasses.TreeMap=TreeMap_TreeMap;var AxisRendererX3D_AxisRendererX3D=function(_super){function AxisRendererX3D(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.className="AxisRendererX3D",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererX3D,_super),AxisRendererX3D.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var point=this.positionToPoint(position);if(grid.element){var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,h=this.getHeight();grid.path=moveTo({x:dx,y:dy})+lineTo({x:dx,y:h+dy})+lineTo({x:0,y:h})}this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererX3D.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var h=this.getHeight(),dx=this.chart.dx3D||0,dy=this.chart.dy3D||0;this.baseGrid.path=moveTo({x:dx,y:dy})+lineTo({x:0,y:0})+lineTo({x:0,y:h})},Object.defineProperty(AxisRendererX3D.prototype,"chart",{get:function(){return this._chart.get()},set:function(chart){chart&&this._chart.set(chart,chart.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),AxisRendererX3D.prototype.handle3DChanged=function(event){"depth"!=event.property&&"angle"!=event.property||this.invalidate()},AxisRendererX3D}(AxisRendererX_AxisRendererX);Registry_registry.registeredClasses.AxisRendererX3D=AxisRendererX3D_AxisRendererX3D;var AxisRendererY3D_AxisRendererY3D=function(_super){function AxisRendererY3D(){var _this=_super.call(this)||this;return _this._chart=new Disposer_MutableValueDisposer,_this.className="AxisRendererY3D",_this._disposers.push(_this._chart),_this.applyTheme(),_this}return Object(tslib_es6.d)(AxisRendererY3D,_super),AxisRendererY3D.prototype.updateGridElement=function(grid,position,endPosition){position+=(endPosition-position)*grid.location;var point=this.positionToPoint(position);if(grid.element){var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,w=this.getWidth();grid.path=moveTo({x:0,y:0})+lineTo({x:dx,y:dy})+lineTo({x:w+dx,y:dy})}this.positionItem(grid,point),this.toggleVisibility(grid,position,0,1)},AxisRendererY3D.prototype.updateBaseGridElement=function(){_super.prototype.updateBaseGridElement.call(this);var dx=this.chart.dx3D||0,dy=this.chart.dy3D||0,w=this.getWidth();this.baseGrid.path=moveTo({x:0,y:0})+lineTo({x:w,y:0})+lineTo({x:w+dx,y:dy})},Object.defineProperty(AxisRendererY3D.prototype,"chart",{get:function(){return this._chart.get()},set:function(chart){chart&&this._chart.set(chart,chart.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),AxisRendererY3D.prototype.handle3DChanged=function(event){"depth"!=event.property&&"angle"!=event.property||this.invalidate()},AxisRendererY3D}(AxisRendererY_AxisRendererY),Column3D_Column3D=function(_super){function Column3D(){var _this=_super.call(this)||this;return _this.className="Column3D",_this}return Object(tslib_es6.d)(Column3D,_super),Column3D.prototype.createAssets=function(){this.column3D=this.createChild(Rectangle3D_Rectangle3D),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},Column3D.prototype.validate=function(){_super.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},Column3D.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.column3D&&this.column3D.copyFrom(source.column3D)},Column3D.prototype.setFill=function(value){_super.prototype.setFill.call(this,value),this.column.fill=value},Column3D}(Column_Column);Registry_registry.registeredClasses.Column3D=Column3D_Column3D;var ColumnSeries3D_ColumnSeries3DDataItem=function(_super){function ColumnSeries3DDataItem(){var _this=_super.call(this)||this;return _this.className="ColumnSeries3DDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(ColumnSeries3DDataItem,_super),ColumnSeries3DDataItem}(ColumnSeries_ColumnSeriesDataItem),ColumnSeries3D_ColumnSeries3D=function(_super){function ColumnSeries3D(){var _this=_super.call(this)||this;return _this.className="ColumnSeries3D",_this.columns.template.column3D.applyOnClones=!0,_this.columns.template.hiddenState.properties.visible=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(ColumnSeries3D,_super),Object.defineProperty(ColumnSeries3D.prototype,"columnsContainer",{get:function(){var chart=this.chart;return chart&&chart.columnsContainer&&"vertical"!=chart.leftAxesContainer.layout&&"vertical"!=chart.rightAxesContainer.layout&&"horizontal"!=chart.bottomAxesContainer.layout&&"horizontal"!=chart.topAxesContainer.layout?chart.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),ColumnSeries3D.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem),dataItem.column&&(dataItem.column.dx=this.dx,dataItem.column.dy=this.dy)},ColumnSeries3D.prototype.validateDataElements=function(){_super.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},ColumnSeries3D.prototype.createColumnTemplate=function(){return new Column3D_Column3D},Object.defineProperty(ColumnSeries3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(value){this.setPropertyValue("depth",value,!0),this.columns.template.column3D.depth=value},enumerable:!0,configurable:!0}),Object.defineProperty(ColumnSeries3D.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){this.setPropertyValue("angle",value),this.columns.template.column3D.angle=value},enumerable:!0,configurable:!0}),ColumnSeries3D}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.ColumnSeries3D=ColumnSeries3D_ColumnSeries3D,Registry_registry.registeredClasses.ColumnSeries3DDataItem=ColumnSeries3D_ColumnSeries3DDataItem;!function(_super){function XYChart3DDataItem(){var _this=_super.call(this)||this;return _this.className="XYChart3DDataItem",_this.applyTheme(),_this}Object(tslib_es6.d)(XYChart3DDataItem,_super)}(XYChart_XYChartDataItem);var XYChart3D_XYChart3D=function(_super){function XYChart3D(){var _this=_super.call(this)||this;_this._axisRendererX=AxisRendererX3D_AxisRendererX3D,_this._axisRendererY=AxisRendererY3D_AxisRendererY3D,_this.className="XYChart3D",_this.depth=30,_this.angle=30;var columnsContainer=_this.seriesContainer.createChild(Container_Container);return columnsContainer.shouldClone=!1,columnsContainer.isMeasured=!1,columnsContainer.layout="none",_this.columnsContainer=columnsContainer,_this.columnsContainer.mask=_this.createChild(Sprite_Sprite),_this.applyTheme(),_this}return Object(tslib_es6.d)(XYChart3D,_super),XYChart3D.prototype.updateSeriesMasks=function(){if(_super.prototype.updateSeriesMasks.call(this),isIE()){var columnsContainer=this.columnsContainer,mask=columnsContainer.mask;columnsContainer.mask=void 0,columnsContainer.mask=mask}},Object.defineProperty(XYChart3D.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(value){this.setPropertyValue("depth",value),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(value){this.setPropertyValue("angle",value),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,"dx3D",{get:function(){return Math_cos(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(XYChart3D.prototype,"dy3D",{get:function(){return-Math_sin(this.angle)*this.depth},enumerable:!0,configurable:!0}),XYChart3D.prototype.validateLayout=function(){_super.prototype.validateLayout.call(this),this.fixColumns()},XYChart3D.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),_super.prototype.fixLayout.call(this)},XYChart3D.prototype.fixColumns=function(){var _this=this,count=1,i=0;Iterator_each(this.series.iterator(),(function(series){series instanceof ColumnSeries3D_ColumnSeries3D&&(!series.clustered&&i>0&&count++,series.depthIndex=count-1,i++)}));var s=0;Iterator_each(this.series.iterator(),(function(series){if(series instanceof ColumnSeries3D_ColumnSeries3D){series.depth=_this.depth/count,series.angle=_this.angle,series.columnsContainer==_this.columnsContainer&&(series.dx=_this.depth/count*Math_cos(_this.angle)*series.depthIndex,series.dy=-_this.depth/count*Math_sin(_this.angle)*series.depthIndex);var inversed_1=!1;(series.baseAxis==series.xAxis&&series.xAxis.renderer.inversed||series.baseAxis==series.yAxis&&series.yAxis.renderer.inversed)&&(inversed_1=!0);var i_1=1;series.dataItems.each((function(dataItem){var column=dataItem.column;column&&(column.zIndex=inversed_1?1e3*(1e3-i_1)+s-100*series.depthIndex:1e3*i_1+s-100*series.depthIndex),i_1++})),inversed_1?s--:s++}})),this.maskColumns()},XYChart3D.prototype.processConfig=function(config){if(config&&Type_hasValue(config.series)&&Type_isArray(config.series))for(var i=0,len=config.series.length;i<len;i++)config.series[i].type=config.series[i].type||"ColumnSeries3D";_super.prototype.processConfig.call(this,config)},XYChart3D.prototype.maskColumns=function(){var w=this.plotContainer.pixelWidth,h=this.plotContainer.pixelHeight,dx=this.dx3D,dy=this.dy3D,path=moveTo({x:0,y:0})+lineTo({x:dx,y:dy})+lineTo({x:w+dx,y:dy})+lineTo({x:w+dx,y:h+dy})+lineTo({x:w,y:h})+lineTo({x:w,y:h})+lineTo({x:0,y:h})+" Z",columnsContainer=this.columnsContainer;columnsContainer&&columnsContainer.mask&&(columnsContainer.mask.path=path)},XYChart3D}(XYChart_XYChart);Registry_registry.registeredClasses.XYChart3D=XYChart3D_XYChart3D;var HeatLegend_HeatLegend=function(_super){function HeatLegend(){var _this=_super.call(this)||this;_this.className="HeatLegend",_this.markerContainer=_this.createChild(Container_Container),_this.markerContainer.shouldClone=!1,_this.markerCount=1;var marker=new RoundedRectangle_RoundedRectangle;return marker.minHeight=20,marker.minWidth=20,marker.interactionsEnabled=!1,marker.fillOpacity=1,marker.cornerRadius(0,0,0,0),_this.markerContainer.minHeight=20,_this.markerContainer.minWidth=20,_this.orientation="horizontal",_this.markers=new List_ListTemplate(marker),_this._disposers.push(new List_ListDisposer(_this.markers)),_this._disposers.push(_this.markers.template),_this.applyTheme(),_this}return Object(tslib_es6.d)(HeatLegend,_super),HeatLegend.prototype.getMinFromRules=function(property){var minValue_1,series=this.series;if(series)return Iterator_eachContinue(series.heatRules.iterator(),(function(heatRule){return heatRule.property!=property||(minValue_1=heatRule.min,!1)})),minValue_1},HeatLegend.prototype.getMaxFromRules=function(property){var maxValue_1,series=this.series;if(series)return Iterator_each(series.heatRules.iterator(),(function(heatRule){return heatRule.property!=property||(maxValue_1=heatRule.max,!1)})),maxValue_1},HeatLegend.prototype.validate=function(){_super.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var series=this.series,minColor=this.minColor,maxColor=this.maxColor;if(Type_hasValue(minColor)||(minColor=toColor(this.getMinFromRules("fill"))),Type_hasValue(maxColor)||(maxColor=toColor(this.getMaxFromRules("fill"))),series){var seriesFill=series.fill;!Type_hasValue(minColor)&&seriesFill instanceof Color_Color&&(minColor=seriesFill),!Type_hasValue(maxColor)&&seriesFill instanceof Color_Color&&(maxColor=seriesFill)}Type_hasValue(maxColor)||(maxColor=toColor(this.getMaxFromRules("fill")));var minOpacity=toNumber(this.getMinFromRules("fillOpacity"));isNumber(minOpacity)||(minOpacity=1);var maxOpacity=toNumber(this.getMaxFromRules("fillOpacity"));isNumber(maxOpacity)||(maxOpacity=1);var minStrokeOpacity=toNumber(this.getMinFromRules("strokeOpacity"));isNumber(minStrokeOpacity)||(minStrokeOpacity=1);var maxStrokeOpacity=toNumber(this.getMaxFromRules("strokeOpacity"));isNumber(maxStrokeOpacity)||(maxStrokeOpacity=1);for(var minStroke=toColor(this.getMinFromRules("stroke")),maxStroke=toColor(this.getMaxFromRules("stroke")),i=0;i<this.markerCount;i++){var marker=this.markers.getIndex(i);if(marker||((marker=this.markers.create()).parent=this.markerContainer,marker.height=Percent_percent(100),marker.width=Percent_percent(100)),1==this.markerCount){var gradient=new LinearGradient_LinearGradient;if(this.reverseOrder?(gradient.addColor(maxColor,maxOpacity),gradient.addColor(minColor,minOpacity)):(gradient.addColor(minColor,minOpacity),gradient.addColor(maxColor,maxOpacity)),"vertical"==this.orientation&&(gradient.rotation=-90),marker.fill=gradient,Type_hasValue(minStroke)&&Type_hasValue(maxStroke)){var strokeGradient=new LinearGradient_LinearGradient;this.reverseOrder?(strokeGradient.addColor(maxStroke,maxStrokeOpacity),strokeGradient.addColor(minStroke,minStrokeOpacity)):(strokeGradient.addColor(minStroke,minStrokeOpacity),strokeGradient.addColor(maxStroke,maxStrokeOpacity)),"vertical"==this.orientation&&(strokeGradient.rotation=-90),marker.stroke=strokeGradient}}else{var c=i;this.reverseOrder&&(c=this.markerCount-i-1);var color=new Color_Color(Colors_interpolate(minColor.rgb,maxColor.rgb,c/this.markerCount));marker.fill=color;var opacity=minOpacity+(maxOpacity-minOpacity)*c/this.markerCount;if(marker.fillOpacity=opacity,Type_hasValue(minStroke)&&Type_hasValue(maxStroke)){var color_1=new Color_Color(Colors_interpolate(minStroke.rgb,maxStroke.rgb,c/this.markerCount));marker.stroke=color_1;var opacity_1=minStrokeOpacity+(maxStrokeOpacity-minStrokeOpacity)*c/this.markerCount;marker.strokeOpacity=opacity_1}}}var renderer=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?renderer.minGridDistance=this.measuredWidth/this.markerCount:renderer.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();i=this.markerCount;for(var len=this.markers.length;i<len;i++)this.markers.getIndex(i).parent=void 0},Object.defineProperty(HeatLegend.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(value){value instanceof Color_Color||(value=toColor(value)),this.setColorProperty("minColor",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(value){value instanceof Color_Color||(value=toColor(value)),this.setColorProperty("maxColor",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(value){this.setPropertyValue("markerCount",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(value){this.setPropertyValue("minValue",value),this.valueAxis.min=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(value){this.setPropertyValue("maxValue",value),this.valueAxis.max=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value,!0);var markerContainer=this.markerContainer,valueAxis=this.valueAxis;"horizontal"==value?(Type_hasValue(this.width)||(this.width=200),this.height=void 0,valueAxis.width=Percent_percent(100),valueAxis.height=void 0,valueAxis.tooltip.pointerOrientation="vertical",this.layout="vertical",markerContainer.width=Percent_percent(100),markerContainer.height=void 0,valueAxis.renderer instanceof AxisRendererX_AxisRendererX||(valueAxis.renderer=new AxisRendererX_AxisRendererX)):(Type_hasValue(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",markerContainer.width=void 0,markerContainer.height=Percent_percent(100),valueAxis.height=Percent_percent(100),valueAxis.width=void 0,valueAxis.tooltip.pointerOrientation="horizontal",valueAxis.renderer instanceof AxisRendererY_AxisRendererY||(valueAxis.renderer=new AxisRendererY_AxisRendererY),valueAxis.renderer.inside=!0,valueAxis.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var renderer=valueAxis.renderer;renderer.grid.template.disabled=!0,renderer.axisFills.template.disabled=!0,renderer.baseGrid.disabled=!0,renderer.labels.template.padding(2,3,2,3),renderer.minHeight=void 0,renderer.minWidth=void 0,this.markerContainer.layout=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ValueAxis_ValueAxis),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(valueAxis){this._valueAxis=valueAxis,valueAxis.parent=this,valueAxis.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(HeatLegend.prototype,"series",{get:function(){return this._series},set:function(series){var _this=this;this._series=series;var dataField="value";try{var dataFieldDefined=series.heatRules.getIndex(0).dataField;dataFieldDefined&&(dataField=dataFieldDefined)}catch(err){}this.updateMinMax(series.dataItem.values[dataField].low,series.dataItem.values[dataField].high),series.dataItem.events.on("calculatedvaluechanged",(function(event){_this.updateMinMax(series.dataItem.values[dataField].low,series.dataItem.values[dataField].high)}),void 0,!1),series.heatRules.events.on("inserted",this.invalidate,this,!1),series.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),HeatLegend.prototype.updateMinMax=function(min,max){var valueAxis=this.valueAxis;isNumber(this.minValue)||(valueAxis.min=min,valueAxis.invalidate()),isNumber(this.maxValue)||(valueAxis.max=max,valueAxis.invalidate())},HeatLegend.prototype.processConfig=function(config){if(config&&Type_hasValue(config.series)&&isString(config.series)&&isString(config.series))if(this.map.hasKey(config.series))config.series=this.map.getKey(config.series);else{var seriesId_1=config.series,disposer_1=this.map.events.on("insertKey",(function(ev){ev.key==seriesId_1&&(this.series=ev.newValue,disposer_1.dispose())}),this);this._disposers.push(disposer_1),delete config.series}_super.prototype.processConfig.call(this,config)},HeatLegend}(Container_Container);Registry_registry.registeredClasses.HeatLegend=HeatLegend_HeatLegend;var Candlestick_Candlestick=function(_super){function Candlestick(){var _this=_super.call(this)||this;return _this.className="Candlestick",_this.layout="none",_this}return Object(tslib_es6.d)(Candlestick,_super),Candlestick.prototype.createAssets=function(){_super.prototype.createAssets.call(this),this.lowLine=this.createChild(Line_Line),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Line_Line),this.highLine.shouldClone=!1},Candlestick.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.lowLine&&this.lowLine.copyFrom(source.lowLine),this.highLine&&this.highLine.copyFrom(source.highLine)},Candlestick}(Column_Column);Registry_registry.registeredClasses.Candlestick=Candlestick_Candlestick;var CandlestickSeries_CandlestickSeriesDataItem=function(_super){function CandlestickSeriesDataItem(){var _this=_super.call(this)||this;return _this.values.lowValueX={},_this.values.lowValueY={},_this.values.highValueX={},_this.values.highValueY={},_this.className="CandlestickSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(CandlestickSeriesDataItem,_super),Object.defineProperty(CandlestickSeriesDataItem.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(value){this.setValue("lowValueX",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(value){this.setValue("lowValueY",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(value){this.setValue("highValueX",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(value){this.setValue("highValueY",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(value){this.setValue("valueX",value)},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeriesDataItem.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(value){this.setValue("valueY",value)},enumerable:!0,configurable:!0}),CandlestickSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),CandlestickSeries_CandlestickSeries=function(_super){function CandlestickSeries(){var _this=_super.call(this)||this;_this.className="CandlestickSeries",_this.groupFields.lowValueX="low",_this.groupFields.lowValueY="low",_this.groupFields.highValueX="high",_this.groupFields.highValueY="high",_this.strokeOpacity=1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,positiveColor=interfaceColors.getFor("positive"),negativeColor=interfaceColors.getFor("negative");return _this.dropFromOpenState.properties.fill=negativeColor,_this.dropFromOpenState.properties.stroke=negativeColor,_this.riseFromOpenState.properties.fill=positiveColor,_this.riseFromOpenState.properties.stroke=positiveColor,_this.applyTheme(),_this}return Object(tslib_es6.d)(CandlestickSeries,_super),CandlestickSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},CandlestickSeries.prototype.createDataItem=function(){return new CandlestickSeries_CandlestickSeriesDataItem},CandlestickSeries.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem),this.validateCandlestick(dataItem)},CandlestickSeries.prototype.validateCandlestick=function(dataItem){var column=dataItem.column;if(column){var lowLine_1=column.lowLine,highLine_1=column.highLine;if(this.baseAxis==this.xAxis){var x=column.pixelWidth/2;lowLine_1.x=x,highLine_1.x=x;var open_1=dataItem.getWorkingValue(this.yOpenField),close_1=dataItem.getWorkingValue(this.yField),yOpen=this.yAxis.getY(dataItem,this.yOpenField),yClose=this.yAxis.getY(dataItem,this.yField),yLow=this.yAxis.getY(dataItem,this.yLowField),yHigh=this.yAxis.getY(dataItem,this.yHighField),pixelY=column.pixelY;lowLine_1.y1=yLow-pixelY,highLine_1.y1=yHigh-pixelY,open_1<close_1?(lowLine_1.y2=yOpen-pixelY,highLine_1.y2=yClose-pixelY):(lowLine_1.y2=yClose-pixelY,highLine_1.y2=yOpen-pixelY)}if(this.baseAxis==this.yAxis){var y=column.pixelHeight/2;lowLine_1.y=y,highLine_1.y=y;var open_2=dataItem.getWorkingValue(this.xOpenField),close_2=dataItem.getWorkingValue(this.xField),xOpen=this.xAxis.getX(dataItem,this.xOpenField),xClose=this.xAxis.getX(dataItem,this.xField),xLow=this.xAxis.getX(dataItem,this.xLowField),xHigh=this.xAxis.getX(dataItem,this.xHighField),pixelX=column.pixelX;lowLine_1.x1=xLow-pixelX,highLine_1.x1=xHigh-pixelX,open_2<close_2?(lowLine_1.x2=xOpen-pixelX,highLine_1.x2=xClose-pixelX):(lowLine_1.x2=xClose-pixelX,highLine_1.x2=xOpen-pixelX)}Iterator_each(this.axisRanges.iterator(),(function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);if(rangeColumn){var rangeLowLine=rangeColumn.lowLine;rangeLowLine.x=lowLine_1.x,rangeLowLine.y=lowLine_1.y,rangeLowLine.x1=lowLine_1.x1,rangeLowLine.x2=lowLine_1.x2,rangeLowLine.y1=lowLine_1.y1,rangeLowLine.y2=lowLine_1.y2;var rangehighLine=rangeColumn.highLine;rangehighLine.x=highLine_1.x,rangehighLine.y=highLine_1.y,rangehighLine.x1=highLine_1.x1,rangehighLine.x2=highLine_1.x2,rangehighLine.y1=highLine_1.y1,rangehighLine.y2=highLine_1.y2}}))}},Object.defineProperty(CandlestickSeries.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(CandlestickSeries.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),CandlestickSeries.prototype.defineFields=function(){_super.prototype.defineFields.call(this);var xAxis=this.xAxis,yAxis=this.yAxis;if(xAxis&&yAxis){if(this.baseAxis==xAxis){var yAxisFieldName=capitalize(yAxis.axisFieldName);this._yLowField="low"+yAxisFieldName+"Y",this._yHighField="high"+yAxisFieldName+"Y"}if(this.baseAxis==yAxis){var xAxisFieldName=capitalize(xAxis.axisFieldName);this._xLowField="low"+xAxisFieldName+"X",this._xHighField="high"+xAxisFieldName+"X"}this.addValueField(xAxis,this._xValueFields,this._xLowField),this.addValueField(xAxis,this._xValueFields,this._xHighField),this.addValueField(yAxis,this._yValueFields,this._yLowField),this.addValueField(yAxis,this._yValueFields,this._yHighField)}},CandlestickSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var cw,ch,column=marker.createChild(Candlestick_Candlestick);column.shouldClone=!1,column.copyFrom(this.columns.template);var highLine=column.lowLine,lowLine=column.highLine;this.baseAxis==this.yAxis?(cw=w/3,ch=h,highLine.y=h/2,lowLine.y=h/2,highLine.x2=w/3,lowLine.x2=w/3,lowLine.x=w/3*2,column.column.x=w/3):(cw=w,ch=h/3,highLine.x=w/2,lowLine.x=w/2,highLine.y2=h/3,lowLine.y2=h/3,lowLine.y=h/3*2,column.column.y=h/3),column.width=cw,column.height=ch,copyProperties(this,marker,visualProperties),copyProperties(this.columns.template,column,visualProperties),column.stroke=this.riseFromOpenState.properties.stroke,column.fill=column.stroke;var legendDataItem=marker.dataItem;legendDataItem.color=column.fill,legendDataItem.colorOrig=column.fill},CandlestickSeries.prototype.createColumnTemplate=function(){return new Candlestick_Candlestick},CandlestickSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.CandlestickSeries=CandlestickSeries_CandlestickSeries,Registry_registry.registeredClasses.CandlestickSeriesDataItem=CandlestickSeries_CandlestickSeriesDataItem;var OHLC_OHLC=function(_super){function OHLC(){var _this=_super.call(this)||this;return _this.className="OHLC",_this.layout="none",_this}return Object(tslib_es6.d)(OHLC,_super),OHLC.prototype.createAssets=function(){this.openLine=this.createChild(Line_Line),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Line_Line),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Line_Line),this.closeLine.shouldClone=!1},OHLC.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.openLine&&this.openLine.copyFrom(source.openLine),this.highLowLine&&this.highLowLine.copyFrom(source.highLowLine),this.closeLine&&this.closeLine.copyFrom(source.closeLine)},OHLC}(Candlestick_Candlestick);Registry_registry.registeredClasses.OHLC=OHLC_OHLC;var OHLCSeries_OHLCSeriesDataItem=function(_super){function OHLCSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="OHLCSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(OHLCSeriesDataItem,_super),OHLCSeriesDataItem}(CandlestickSeries_CandlestickSeriesDataItem),OHLCSeries_OHLCSeries=function(_super){function OHLCSeries(){var _this=_super.call(this)||this;return _this.className="OHLCSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(OHLCSeries,_super),OHLCSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},OHLCSeries.prototype.createDataItem=function(){return new OHLCSeries_OHLCSeriesDataItem},OHLCSeries.prototype.validateCandlestick=function(dataItem){var column=dataItem.column;if(column){var openLine_1=column.openLine,highLowLine_1=column.highLowLine,closeLine_1=column.closeLine;if(this.baseAxis==this.xAxis){var x=column.pixelWidth/2;highLowLine_1.x=x,dataItem.getWorkingValue(this.yOpenField),dataItem.getWorkingValue(this.yField);var yOpen=this.yAxis.getY(dataItem,this.yOpenField),yClose=this.yAxis.getY(dataItem,this.yField),yLow=this.yAxis.getY(dataItem,this.yLowField),yHigh=this.yAxis.getY(dataItem,this.yHighField),pixelY=column.pixelY;openLine_1.y1=yOpen-pixelY,openLine_1.y2=yOpen-pixelY,openLine_1.x1=0,openLine_1.x2=x,closeLine_1.y1=yClose-pixelY,closeLine_1.y2=yClose-pixelY,closeLine_1.x1=x,closeLine_1.x2=2*x,highLowLine_1.y1=yHigh-pixelY,highLowLine_1.y2=yLow-pixelY}if(this.baseAxis==this.yAxis){var y=column.pixelHeight/2;highLowLine_1.y=y,dataItem.getWorkingValue(this.xOpenField),dataItem.getWorkingValue(this.xField);var xOpen=this.xAxis.getX(dataItem,this.xOpenField),xClose=this.xAxis.getX(dataItem,this.xField),xLow=this.xAxis.getX(dataItem,this.xLowField),xHigh=this.xAxis.getX(dataItem,this.xHighField),pixelX=column.pixelX;openLine_1.x1=xOpen-pixelX,openLine_1.x2=xOpen-pixelX,openLine_1.y1=y,openLine_1.y2=2*y,closeLine_1.x1=xClose-pixelX,closeLine_1.x2=xClose-pixelX,closeLine_1.y1=0,closeLine_1.y2=y,highLowLine_1.x1=xHigh-pixelX,highLowLine_1.x2=xLow-pixelX}Iterator_each(this.axisRanges.iterator(),(function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);if(rangeColumn){var rangeOpenLine=rangeColumn.openLine;rangeOpenLine.x=openLine_1.x,rangeOpenLine.y=openLine_1.y,rangeOpenLine.x1=openLine_1.x1,rangeOpenLine.x2=openLine_1.x2,rangeOpenLine.y1=openLine_1.y1,rangeOpenLine.y2=openLine_1.y2;var rangeCloseLine=rangeColumn.closeLine;rangeCloseLine.x=closeLine_1.x,rangeCloseLine.y=closeLine_1.y,rangeCloseLine.x1=closeLine_1.x1,rangeCloseLine.x2=closeLine_1.x2,rangeCloseLine.y1=closeLine_1.y1,rangeCloseLine.y2=closeLine_1.y2;var rangeHighLowLine=rangeColumn.highLowLine;rangeHighLowLine.x=highLowLine_1.x,rangeHighLowLine.y=highLowLine_1.y,rangeHighLowLine.x1=highLowLine_1.x1,rangeHighLowLine.x2=highLowLine_1.x2,rangeHighLowLine.y1=highLowLine_1.y1,rangeHighLowLine.y2=highLowLine_1.y2}}))}},OHLCSeries.prototype.createLegendMarker=function(marker){var w=marker.pixelWidth,h=marker.pixelHeight;marker.removeChildren();var cw,ch,column=marker.createChild(OHLC_OHLC);column.shouldClone=!1,column.copyFrom(this.columns.template);var openLine=column.openLine,closeLine=column.closeLine,highLowLine=column.highLowLine;this.baseAxis==this.yAxis?(cw=w/3,ch=h,highLowLine.y=h/2,highLowLine.x2=w,openLine.x=w/3*2,openLine.y2=h/2,closeLine.x=w/3,closeLine.y2=h,closeLine.y1=h/2):(cw=w,ch=h/3,highLowLine.x=w/2,highLowLine.y2=h,openLine.y=h/3*2,openLine.x2=w/2,closeLine.y=h/3,closeLine.x2=w,closeLine.x1=w/2),column.width=cw,column.height=ch,copyProperties(this,marker,visualProperties),copyProperties(this.columns.template,column,visualProperties),column.stroke=this.riseFromOpenState.properties.stroke;var legendDataItem=marker.dataItem;legendDataItem.color=column.stroke,legendDataItem.colorOrig=column.stroke},OHLCSeries.prototype.createColumnTemplate=function(){return new OHLC_OHLC},OHLCSeries}(CandlestickSeries_CandlestickSeries);Registry_registry.registeredClasses.OHLCSeries=OHLCSeries_OHLCSeries,Registry_registry.registeredClasses.OHLCSeriesDataItem=OHLCSeries_OHLCSeriesDataItem;var StepLineSeriesSegment_StepLineSeriesSegment=function(_super){function StepLineSeriesSegment(){var _this=_super.call(this)||this;return _this.className="StepLineSeriesSegment",_this}return Object(tslib_es6.d)(StepLineSeriesSegment,_super),StepLineSeriesSegment.prototype.drawSegment=function(points,closePoints,smoothnessX,smoothnessY,noRisers,vertical){if(points.length>0&&closePoints.length>0)if(noRisers){var path=moveTo(points[0]);if(points.length>0)for(var i=1;i<points.length;i++){var point=points[i];i/2==Math.round(i/2)?path+=moveTo(point):path+=lineTo(point)}this.strokeSprite.path=path,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(path=moveTo(points[0])+polyline(points),path+=lineTo(closePoints[0])+polyline(closePoints),path+=lineTo(points[0]),path+=" Z",this.fillSprite.path=path)}else{path=moveTo(points[0])+polyline(points);this.strokeSprite.path=path,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(path+=lineTo(closePoints[0])+polyline(closePoints),path+=lineTo(points[0]),path+=" Z",this.fillSprite.path=path)}},StepLineSeriesSegment}(LineSeriesSegment_LineSeriesSegment);Registry_registry.registeredClasses.StepLineSeriesSegment=StepLineSeriesSegment_StepLineSeriesSegment;var StepLineSeries_StepLineSeriesDataItem=function(_super){function StepLineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="StepLineSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(StepLineSeriesDataItem,_super),StepLineSeriesDataItem}(LineSeries_LineSeriesDataItem),StepLineSeries_StepLineSeries=function(_super){function StepLineSeries(){var _this=_super.call(this)||this;return _this.className="StepLineSeries",_this.applyTheme(),_this.startLocation=0,_this.endLocation=1,_this}return Object(tslib_es6.d)(StepLineSeries,_super),StepLineSeries.prototype.createDataItem=function(){return new StepLineSeries_StepLineSeriesDataItem},StepLineSeries.prototype.addPoints=function(points,dataItem,xField,yField,backwards){var startLocationX,endLocationX,startLocationY,endLocationY;this.baseAxis==this.xAxis&&(startLocationX=this.startLocation,endLocationX=this.endLocation,startLocationY=this.getAdjustedXLocation(dataItem,this.yOpenField),endLocationY=this.getAdjustedXLocation(dataItem,this.yField)),this.baseAxis==this.yAxis&&(startLocationY=this.startLocation,endLocationY=this.endLocation,startLocationX=this.getAdjustedXLocation(dataItem,this.xOpenField),endLocationX=this.getAdjustedXLocation(dataItem,this.xField));var x0=this.xAxis.getX(dataItem,xField,startLocationX),y0=this.yAxis.getY(dataItem,yField,startLocationY),x1=this.xAxis.getX(dataItem,xField,endLocationX),y1=this.yAxis.getY(dataItem,yField,endLocationY);if(x0=fitToRange(x0,-1e5,1e5),y0=fitToRange(y0,-1e5,1e5),x1=fitToRange(x1,-1e5,1e5),y1=fitToRange(y1,-1e5,1e5),!this.noRisers&&points.length>1){var prevPoint=points[points.length-1];this.baseAxis==this.xAxis&&(backwards?points.push({x:prevPoint.x,y:y1}):points.push({x:x0,y:prevPoint.y})),this.baseAxis==this.yAxis&&(backwards?points.push({x:x1,y:prevPoint.y}):points.push({x:prevPoint.x,y:y0}))}var point0={x:x0,y:y0},point1={x:x1,y:y1};backwards?points.push(point1,point0):points.push(point0,point1)},StepLineSeries.prototype.drawSegment=function(segment,points,closePoints){var vertical=!1;this.yAxis==this.baseAxis&&(vertical=!0),segment.drawSegment(points,closePoints,this.tensionX,this.tensionY,this.noRisers,vertical)},StepLineSeries.prototype.createSegment=function(){return new StepLineSeriesSegment_StepLineSeriesSegment},Object.defineProperty(StepLineSeries.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(value){this.setPropertyValue("noRisers",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(StepLineSeries.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(value){this.setPropertyValue("startLocation",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(StepLineSeries.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(value){this.setPropertyValue("endLocation",value,!0)},enumerable:!0,configurable:!0}),StepLineSeries}(LineSeries_LineSeries);Registry_registry.registeredClasses.StepLineSeries=StepLineSeries_StepLineSeries,Registry_registry.registeredClasses.StepLineSeriesDataItem=StepLineSeries_StepLineSeriesDataItem;var RadarColumn_RadarColumn=function(_super){function RadarColumn(){var _this=_super.call(this)||this;return _this.className="RadarColumn",_this}return Object(tslib_es6.d)(RadarColumn,_super),RadarColumn.prototype.createAssets=function(){this.radarColumn=this.createChild(Slice_Slice),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},RadarColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.radarColumn&&this.radarColumn.copyFrom(source.radarColumn)},RadarColumn.prototype.getTooltipX=function(){var value=this.getPropertyValue("tooltipX");return isNumber(value)?value:this.radarColumn.getTooltipX()},RadarColumn.prototype.getTooltipY=function(){var value=this.getPropertyValue("tooltipX");return isNumber(value)?value:this.radarColumn.getTooltipY()},RadarColumn}(Column_Column);Registry_registry.registeredClasses.RadarColumn=RadarColumn_RadarColumn;var RadarColumnSeries_RadarColumnSeriesDataItem=function(_super){function RadarColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="ColumnSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarColumnSeriesDataItem,_super),RadarColumnSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),RadarColumnSeries_RadarColumnSeries=function(_super){function RadarColumnSeries(){var _this=_super.call(this)||this;return _this.className="RadarColumnSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(RadarColumnSeries,_super),RadarColumnSeries.prototype.createColumnTemplate=function(){return new RadarColumn_RadarColumn},RadarColumnSeries.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),_super.prototype.validate.call(this)},RadarColumnSeries.prototype.disableUnusedColumns=function(dataItem){dataItem&&(dataItem.column&&(dataItem.column.__disabled=!0),Iterator_each(this.axisRanges.iterator(),(function(axisRange){var rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn&&(rangeColumn.__disabled=!0)})))},RadarColumnSeries.prototype.validateDataElementReal=function(dataItem){var lAngle,rAngle,tRadius,bRadius,_this=this,startAngle=this.chart.startAngle,endAngle=this.chart.endAngle,yField=this.yField,yOpenField=this.yOpenField,xField=this.xField,xOpenField=this.xOpenField,startLocation=this.getStartLocation(dataItem),endLocation=this.getEndLocation(dataItem),cellAngle=(endAngle-startAngle)/(this.dataItems.length*(this.end-this.start)),radarColumn=dataItem.column;radarColumn||(radarColumn=this.columns.create(),dataItem.column=radarColumn,copyProperties(this,radarColumn,visualProperties),copyProperties(this.columns.template,radarColumn,visualProperties),dataItem.addSprite(radarColumn),radarColumn.paper=this.paper,this.setColumnStates(radarColumn));var width=radarColumn.width,percentWidth=100;width instanceof Percent&&(percentWidth=width.percent);var offset=Math_round((endLocation-startLocation)*(1-percentWidth/100)/2,5);if(startLocation+=offset,endLocation-=offset,this.xAxis instanceof CategoryAxis_CategoryAxis&&this.yAxis instanceof CategoryAxis_CategoryAxis?(tRadius=getDistance({x:this.yAxis.getX(dataItem,yField,0,"valueY"),y:this.yAxis.getY(dataItem,yField,0,"valueY")}),bRadius=getDistance({x:this.yAxis.getX(dataItem,yOpenField,1,"valueY"),y:this.yAxis.getY(dataItem,yOpenField,1,"valueY")}),lAngle=this.xAxis.getAngle(dataItem,xOpenField,0,"valueX"),rAngle=this.xAxis.getAngle(dataItem,xField,1,"valueX"),startAngle+=startLocation*cellAngle,endAngle-=(1-endLocation)*cellAngle):this.baseAxis==this.xAxis?(tRadius=getDistance({x:this.yAxis.getX(dataItem,yField,dataItem.locations[yField],"valueY"),y:this.yAxis.getY(dataItem,yField,dataItem.locations[yField],"valueY")}),bRadius=getDistance({x:this.yAxis.getX(dataItem,yOpenField,dataItem.locations[yOpenField],"valueY"),y:this.yAxis.getY(dataItem,yOpenField,dataItem.locations[yOpenField],"valueY")}),lAngle=this.xAxis.getAngle(dataItem,xOpenField,startLocation,"valueX"),rAngle=this.xAxis.getAngle(dataItem,xField,endLocation,"valueX"),startAngle+=startLocation*cellAngle,endAngle-=(1-endLocation)*cellAngle):(tRadius=getDistance({x:this.yAxis.getX(dataItem,yField,startLocation,"valueY"),y:this.yAxis.getY(dataItem,yField,startLocation,"valueY")}),bRadius=getDistance({x:this.yAxis.getX(dataItem,yOpenField,endLocation,"valueY"),y:this.yAxis.getY(dataItem,yOpenField,endLocation,"valueY")}),lAngle=this.xAxis.getAngle(dataItem,xField,dataItem.locations[xField],"valueX"),rAngle=this.xAxis.getAngle(dataItem,xOpenField,dataItem.locations[xOpenField],"valueX")),rAngle<lAngle){var temp=rAngle;rAngle=lAngle,lAngle=temp}lAngle=fitToRange(lAngle,startAngle,endAngle),rAngle=fitToRange(rAngle,startAngle,endAngle);var slice=radarColumn.radarColumn;slice.startAngle=lAngle;var arc=rAngle-lAngle;arc>0?(slice.arc=arc,slice.radius=tRadius,slice.innerRadius=bRadius,radarColumn.__disabled=!1,radarColumn.parent=this.columnsContainer,Iterator_each(this.axisRanges.iterator(),(function(axisRange){var source,target,rangeColumn=dataItem.rangesColumns.getKey(axisRange.uid);rangeColumn||(rangeColumn=_this.columns.create(),source=_this.columns.template,target=rangeColumn,each(visualProperties,(function(key){target[key]=source[key]})),copyProperties(axisRange.contents,rangeColumn,visualProperties),rangeColumn.dataItem&&Array_remove(rangeColumn.dataItem.sprites,rangeColumn),dataItem.addSprite(rangeColumn),rangeColumn.paper=_this.paper,_this.setColumnStates(rangeColumn),dataItem.rangesColumns.setKey(axisRange.uid,rangeColumn));var slice=rangeColumn.radarColumn;slice.startAngle=lAngle,slice.arc=arc,slice.radius=tRadius,slice.innerRadius=bRadius,slice.invalid&&(slice.paper=_this.paper,slice.validate()),rangeColumn.__disabled=!1,rangeColumn.parent=axisRange.contents}))):this.disableUnusedColumns(dataItem)},RadarColumnSeries.prototype.getPoint=function(dataItem,xKey,yKey,locationX,locationY,stackKeyX,stackKeyY){stackKeyX||(stackKeyX="valueX"),stackKeyY||(stackKeyY="valueY");var radius=getDistance({x:this.yAxis.getX(dataItem,yKey,locationY,stackKeyY),y:this.yAxis.getY(dataItem,yKey,locationY,stackKeyY)});0==radius&&(radius=1e-5);var angle=this.xAxis.getAngle(dataItem,xKey,locationX,stackKeyX);return{x:radius*Math_cos(angle),y:radius*Math_sin(angle)}},RadarColumnSeries.prototype.getMaskPath=function(){var renderer=this.yAxis.renderer;return Path_arc(renderer.startAngle,renderer.endAngle-renderer.startAngle,renderer.pixelRadius,renderer.pixelInnerRadius)},RadarColumnSeries.prototype.positionBulletReal=function(bullet,positionX,positionY){var xAxis=this.xAxis,yAxis=this.yAxis;(positionX<xAxis.start||positionX>xAxis.end||positionY<yAxis.start||positionY>yAxis.end)&&(bullet.visible=!1),bullet.moveTo(this.xAxis.renderer.positionToPoint(positionX,positionY))},RadarColumnSeries.prototype.setXAxis=function(axis){_super.prototype.setXAxis.call(this,axis),this.updateRendererRefs()},RadarColumnSeries.prototype.setYAxis=function(axis){_super.prototype.setYAxis.call(this,axis),this.updateRendererRefs()},RadarColumnSeries.prototype.updateRendererRefs=function(){var rendererX=this.xAxis.renderer,rendererY=this.yAxis.renderer;rendererX.axisRendererY=rendererY},RadarColumnSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.RadarColumnSeries=RadarColumnSeries_RadarColumnSeries,Registry_registry.registeredClasses.RadarColumnSeriesDataItem=RadarColumnSeries_RadarColumnSeriesDataItem;var FunnelSlice_FunnelSlice=function(_super){function FunnelSlice(){var _this=_super.call(this)||this;return _this.slice=_this.createChild(Sprite_Sprite),_this.slice.shouldClone=!1,_this.slice.setElement(_this.paper.add("path")),_this.slice.isMeasured=!1,_this.orientation="vertical",_this.bottomWidth=Percent_percent(100),_this.topWidth=Percent_percent(100),_this.isMeasured=!1,_this.width=10,_this.height=10,_this.expandDistance=0,_this.className="FunnelSlice",_this.applyTheme(),_this}return Object(tslib_es6.d)(FunnelSlice,_super),FunnelSlice.prototype.draw=function(){_super.prototype.draw.call(this);var pt=this.pixelPaddingTop,pb=this.pixelPaddingBottom,pr=this.pixelPaddingRight,pl=this.pixelPaddingLeft,w=this.pixelWidth-pr-pl,h=this.pixelHeight-pt-pb,ed=this.expandDistance,path="";if("vertical"==this.orientation){var tl={x:(w-(tw=relativeToValue(this.topWidth,w)))/2+pl,y:pt},tr={x:(w+tw)/2+pl,y:pt},br={x:(w+(bw=relativeToValue(this.bottomWidth,w)))/2+pl,y:pt+h},bl={x:(w-bw)/2+pl,y:pt+h},cpr={x:tr.x+(br.x-tr.x)/2+ed*h,y:tr.y+.5*h},cpl={x:tl.x+(bl.x-tl.x)/2-ed*h,y:tl.y+.5*h},qp1=lineTo(br),qp2="";0!=ed&&(qp1=quadraticCurveTo(br,cpr),qp2=quadraticCurveTo(tl,cpl)),path=moveTo(tl)+lineTo(tr)+qp1+lineTo(bl)+qp2,this.tickPoint={x:tr.x+(br.x-tr.x)/2,y:tr.y+(br.y-tr.y)/2}}else{var tw,bw,tt={x:pl,y:(h-(tw=relativeToValue(this.topWidth,h)))/2+pt},tb={x:pl,y:(h+tw)/2+pt},bt={x:pl+w,y:(h-(bw=relativeToValue(this.bottomWidth,h)))/2+pt},bb={x:pl+w,y:(h+bw)/2+pt};cpr={y:tt.y+(bt.y-tt.y)/2-ed*w,x:tt.x+.5*w},cpl={y:tb.y+(bb.y-tb.y)/2+ed*w,x:tb.x+.5*w},qp1=lineTo(bt),qp2="";0!=ed&&(qp1=quadraticCurveTo(bt,cpr),qp2=quadraticCurveTo(tb,cpl)),path=moveTo(tb)+lineTo(tt)+qp1+lineTo(bb)+qp2,this.tickPoint={y:tb.y+(bb.y-tb.y)/2,x:tb.x+(bb.x-tb.x)/2}}this.slice.path=path,this.invalidateLayout()},FunnelSlice.prototype.getPoint=function(locationX,locationY){var pt=this.pixelPaddingTop,pb=this.pixelPaddingBottom,pr=this.pixelPaddingRight,pl=this.pixelPaddingLeft,w=this.pixelWidth-pr-pl,h=this.pixelHeight-pt-pb;if("vertical"==this.orientation){var tl={x:(w-(tw=relativeToValue(this.topWidth,w)))/2+pl,y:pt},tr={x:(w+tw)/2+pl,y:pt},br={x:(w+(bw=relativeToValue(this.bottomWidth,w)))/2+pl,y:pt+h},bl={x:(w-bw)/2+pl,y:pt+h},mlx=tl.x+(bl.x-tl.x)*locationY;return{x:mlx+(tr.x+(br.x-tr.x)*locationY-mlx)*locationX,y:tr.y+(br.y-tr.y)*locationY}}var tw,bw,tt={x:pl,y:(h-(tw=relativeToValue(this.topWidth,h)))/2+pt},tb={x:pl,y:(h+tw)/2+pt},bt={x:pl+w,y:(h-(bw=relativeToValue(this.bottomWidth,h)))/2+pt},bb={x:pl+w,y:(h+bw)/2+pt},mty=tt.y+(bt.y-tt.y)*locationX;return{y:mty+(tb.y+(bb.y-tb.y)*locationX-mty)*locationY,x:tt.x+(bt.x-tt.x)*locationX}},Object.defineProperty(FunnelSlice.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(value){this.setPercentProperty("bottomWidth",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(value){this.setPercentProperty("topWidth",value,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSlice.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(value){this.setPropertyValue("expandDistance",value,!0)},enumerable:!0,configurable:!0}),FunnelSlice.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.slice&&this.slice.copyFrom(source.slice)},FunnelSlice}(Container_Container);Registry_registry.registeredClasses.FunnelSlice=FunnelSlice_FunnelSlice;var FunnelTick_FunnelTick=function(_super){function FunnelTick(){var _this=_super.call(this)||this;return _this._label=new Disposer_MutableValueDisposer,_this._slice=new Disposer_MutableValueDisposer,_this.className="FunnelTick",_this.element=_this.paper.add("path"),_this._disposers.push(_this._label),_this._disposers.push(_this._slice),_this.setPropertyValue("locationX",0),_this.setPropertyValue("locationY",0),_this.applyTheme(),_this}return Object(tslib_es6.d)(FunnelTick,_super),FunnelTick.prototype.draw=function(){_super.prototype.draw.call(this);var slice=this.slice,point=slice.getPoint(this.locationX,this.locationY);if(point){var label=this.label,series=slice.dataItem.component,p0=void 0,p1=void 0,p2=void 0;if("vertical"==series.orientation){var x1=label.pixelX,y1=label.pixelY;series.labelsOpposite||(x1+=label.maxRight),p0=spritePointToSprite(point,slice,this.parent),p2=spritePointToSprite({x:x1,y:y1},label.parent,this.parent),p1={x:label.parent.pixelX-this.length,y:p2.y},series.labelsOpposite||(p1.x=label.parent.measuredWidth+this.length)}else{x1=label.pixelX,y1=label.pixelY;series.labelsOpposite||(y1+=label.maxBottom),p0=spritePointToSprite(point,slice,this.parent),p1={x:(p2=spritePointToSprite({x:x1,y:y1},label.parent,this.parent)).x,y:label.parent.pixelY-this.length},series.labelsOpposite||(p1.y=label.parent.measuredHeight+this.length)}this.path=moveTo(p0)+lineTo(p1)+lineTo(p2)}},Object.defineProperty(FunnelTick.prototype,"slice",{get:function(){return this._slice.get()},set:function(slice){this._slice.set(slice,new Disposer_MultiDisposer([slice.events.on("transformed",this.invalidate,this,!1),slice.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,"label",{get:function(){return this._label.get()},set:function(label){this._label.set(label,label.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(value){this.setPropertyValue("locationX",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelTick.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(value){this.setPropertyValue("locationY",value,!1,!0)},enumerable:!0,configurable:!0}),FunnelTick}(Tick_Tick);Registry_registry.registeredClasses.FunnelTick=FunnelTick_FunnelTick;var FunnelSeries_FunnelSeriesDataItem=function(_super){function FunnelSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="FunnelSeriesDataItem",_this.events.on("visibilitychanged",(function(){_this.component&&_this.component.invalidateDataItems()}),_this,!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(FunnelSeriesDataItem,_super),Object.defineProperty(FunnelSeriesDataItem.prototype,"sliceLink",{get:function(){var _this=this;if(!this._sliceLink){var sliceLink_1=this.component.sliceLinks.create();this._sliceLink=sliceLink_1,this._disposers.push(sliceLink_1),sliceLink_1.parent=this.component.slicesContainer,this._disposers.push(new Disposer((function(){_this.component&&_this.component.sliceLinks.removeValue(sliceLink_1)}))),this.addSprite(sliceLink_1),sliceLink_1.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),FunnelSeriesDataItem}(PercentSeries_PercentSeriesDataItem),FunnelSeries_FunnelSeries=function(_super){function FunnelSeries(){var _this=_super.call(this)||this;return _this._nextY=0,_this.className="FunnelSeries",_this.orientation="vertical",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.slicesContainer.width=Percent_percent(100),_this.slicesContainer.height=Percent_percent(100),_this._disposers.push(_this.slicesContainer.events.on("maxsizechanged",_this.invalidateDataItems,_this,!1)),_this.labelsOpposite=!0,_this.labelsContainer.layout="absolute",_this.bottomRatio=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(FunnelSeries,_super),FunnelSeries.prototype.createSlice=function(){return new FunnelSlice_FunnelSlice},FunnelSeries.prototype.createTick=function(){return new FunnelTick_FunnelTick},FunnelSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},FunnelSeries.prototype.createDataItem=function(){return new FunnelSeries_FunnelSeriesDataItem},FunnelSeries.prototype.initSlice=function(slice){slice.isMeasured=!1,slice.defaultState.properties.scale=1,slice.observe("scale",this.handleSliceScale,this),slice.observe(["dx","dy","x","y"],this.handleSliceMove,this),slice.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",slice.states.create("hover").properties.expandDistance=.2},FunnelSeries.prototype.initLabel=function(label){_super.prototype.initLabel.call(this,label),label.verticalCenter="middle",label.horizontalCenter="middle",label.isMeasured=!0,label.padding(5,5,5,5)},FunnelSeries.prototype.validate=function(){_super.prototype.validate.call(this),this._nextY=0},FunnelSeries.prototype.validateDataElements=function(){var _this=this,slicesContainer=this.slicesContainer,labelsContainer=this.labelsContainer,labelTemplate=this.labels.template;this.alignLabels?(labelTemplate.interactionsEnabled=!0,slicesContainer.isMeasured=!0,labelsContainer.isMeasured=!0):(labelTemplate.interactionsEnabled=!1,slicesContainer.isMeasured=!1,labelsContainer.isMeasured=!1);var total=0,count=0;this.dataItems.each((function(dItem){Type_hasValue(dItem.value)&&(count++,dItem.value>0?total+=Math.abs(dItem.getWorkingValue("value")/dItem.value):_this.ignoreZeroValues?count--:!dItem.visible||dItem.__disabled||dItem.isHiding?count--:total+=1)})),this._total=1/count*total,this._count=count,_super.prototype.validateDataElements.call(this),this.arrangeLabels()},FunnelSeries.prototype.getNextValue=function(dataItem){var index=dataItem.index,nextValue=dataItem.getWorkingValue("value");if(index<this.dataItems.length-1){var nextItem=this.dataItems.getIndex(index+1);if(nextValue=nextItem.getWorkingValue("value"),!nextItem.visible||nextItem.isHiding||nextItem.__disabled||0==nextItem.value&&this.ignoreZeroValues)return this.getNextValue(nextItem)}return nextValue},FunnelSeries.prototype.formDataElement=function(){},FunnelSeries.prototype.validateDataElement=function(dataItem){var _this=this,slice=dataItem.slice;slice.orientation=this.orientation;var sliceLink=dataItem.sliceLink;sliceLink.orientation=this.orientation;var tick=dataItem.tick,label=dataItem.label;tick.slice=slice,tick.label=label,Type_hasValue(dataItem.value)?(this.decorateSlice(dataItem),each(dataItem.sprites,(function(sprite){0==dataItem.value&&_this.ignoreZeroValues?sprite.__disabled=!0:sprite.__disabled=!1}))):each(dataItem.sprites,(function(sprite){sprite.__disabled=!0})),dataItem.index==this.dataItems.length-1&&(sliceLink.disabled=!0),_super.prototype.validateDataElement.call(this,dataItem),sliceLink.fill=slice.fill},FunnelSeries.prototype.decorateSlice=function(dataItem){var slice=dataItem.slice,sliceLink=dataItem.sliceLink,label=dataItem.label,tick=dataItem.tick,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight,nextValue=this.getNextValue(dataItem),workingValue=Math.abs(dataItem.getWorkingValue("value")),bottomRatio=this.bottomRatio,d=1;if(0!=dataItem.value?d=workingValue/Math.abs(dataItem.value):(dataItem.__disabled||dataItem.isHiding||!dataItem.visible)&&(d=1e-6),this.ignoreZeroValues&&0==dataItem.value)dataItem.__disabled=!0;else if(dataItem.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var linkHeight=sliceLink.pixelHeight*d;maxHeight+=linkHeight,slice.topWidth=workingValue/this.dataItem.values.value.high*maxWidth,slice.bottomWidth=(workingValue-(workingValue-nextValue)*bottomRatio)/this.dataItem.values.value.high*maxWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=(workingValue-(workingValue-nextValue))/this.dataItem.values.value.high*maxWidth,slice.y=this._nextY,slice.height=Math.min(1e5,Math_max(0,maxHeight/this._count*d/this._total-linkHeight)),slice.x=maxWidth/2,this.alignLabels?label.x=void 0:label.x=slice.x,label.y=slice.pixelY+slice.pixelHeight*tick.locationY,this._nextY+=slice.pixelHeight+linkHeight,sliceLink.y=this._nextY-linkHeight,sliceLink.x=slice.x}else{var linkWidth=sliceLink.pixelWidth*d;maxWidth+=linkWidth,slice.topWidth=workingValue/this.dataItem.values.value.high*maxHeight,slice.bottomWidth=(workingValue-(workingValue-nextValue)*bottomRatio)/this.dataItem.values.value.high*maxHeight,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=(workingValue-(workingValue-nextValue))/this.dataItem.values.value.high*maxHeight,slice.x=this._nextY,slice.width=Math.min(1e5,maxWidth/this._count*d*1/this._total-linkWidth),slice.y=maxHeight/2,this.alignLabels?label.y=this.labelsContainer.measuredHeight:label.y=slice.y,label.x=slice.pixelX+slice.pixelWidth*tick.locationX,this._nextY+=slice.pixelWidth+linkWidth,sliceLink.x=this._nextY-linkWidth,sliceLink.y=slice.y}},FunnelSeries.prototype.getLastLabel=function(index){if(index>0){var lastLabel=this.labels.getIndex(index);return lastLabel.__disabled||!lastLabel.visible?this.getLastLabel(index-1):lastLabel}},FunnelSeries.prototype.arrangeLabels=function(){if(this.alignLabels){var count=this.labels.length;if(count>1){var lastLabel=this.getLastLabel(count-1);if(lastLabel){var lastY=lastLabel.pixelY,lastX=lastLabel.pixelX;if(count>1){for(var i=count-2;i>=0;i--){(label=this.labels.getIndex(i)).visible&&!label.__disabled&&(label.invalid&&label.validate(),"vertical"==this.orientation?label.pixelY+label.measuredHeight>lastY&&(label.y=Math.min(1e6,lastY-label.measuredHeight)):label.pixelX+label.measuredWidth>lastX&&(label.x=Math.min(1e6,lastX-label.measuredWidth)),lastY=label.pixelY,lastX=label.pixelX)}lastY=0,lastX=0;for(i=0;i<count;i++){var label;(label=this.labels.getIndex(i)).visible&&!label.__disabled&&(label.invalid&&label.validate(),"vertical"==this.orientation?label.pixelY<lastY&&(label.y=Math.min(1e6,lastY)):label.pixelX<lastX&&(label.x=Math.min(1e6,lastX)),lastY+=label.measuredHeight,lastX+=label.measuredWidth)}}}}}},FunnelSeries.prototype.positionBullet=function(bullet){_super.prototype.positionBullet.call(this,bullet);var slice=bullet.dataItem.slice,locationX=bullet.locationX;isNumber(locationX)||(locationX=.5);var locationY=bullet.locationY;isNumber(locationY)||(locationY=1),bullet.x=slice.pixelX+slice.measuredWidth*locationX,bullet.y=slice.pixelY+slice.measuredHeight*locationY},Object.defineProperty(FunnelSeries.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==value?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSeries.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(value){this.setPropertyValue("bottomRatio",value)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(FunnelSeries.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var sliceLink=new FunnelSlice_FunnelSlice;sliceLink.applyOnClones=!0,sliceLink.fillOpacity=.5,sliceLink.expandDistance=-.3,sliceLink.hiddenState.properties.opacity=0,this._disposers.push(sliceLink),this._sliceLinks=new List_ListTemplate(sliceLink),this._disposers.push(new List_ListDisposer(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),FunnelSeries.prototype.show=function(duration){var _this=this,startIndex=this.startIndex,endIndex=this.endIndex,interpolationDuration=this.defaultState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Options_options.animationsEnabled||(interpolationDuration=0);var delay=0;return Iterator_each(indexed(this.dataItems.iterator()),(function(a){var i=a[0],dataItem=a[1];_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),dataItem.show(interpolationDuration,delay,["value"])})),_super.prototype.show.call(this,duration)},FunnelSeries.prototype.hide=function(duration){var _this=this,fields=["value"],startIndex=this.startIndex,endIndex=this.endIndex,delay=0,interpolationDuration=this.hiddenState.transitionDuration;isNumber(duration)&&(interpolationDuration=duration),Options_options.animationsEnabled||(interpolationDuration=0),Iterator_each(indexed(this.dataItems.iterator()),(function(a){var i=a[0],dataItem=a[1];_this.sequencedInterpolation&&(delay=_this.sequencedInterpolationDelay*i+interpolationDuration*(i-startIndex)/(endIndex-startIndex)),dataItem.hide(interpolationDuration,delay,0,fields)}));var animation=_super.prototype.hide.call(this,duration);return animation&&!animation.isFinished()&&animation.delay(delay),animation},FunnelSeries.prototype.setAlignLabels=function(value){_super.prototype.setAlignLabels.call(this,value),this.ticks.template.disabled=!value;var labelsContainer=this.labelsContainer;labelsContainer&&(value?(labelsContainer.height=void 0,labelsContainer.width=void 0,labelsContainer.margin(10,10,10,10)):(labelsContainer.width=Percent_percent(100),labelsContainer.height=Percent_percent(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(FunnelSeries.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(value){this.setPropertyValue("labelsOpposite",value);var labelTemplate=this.labels.template,labelAlign="none",labelValign="none";this.alignLabels?value?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,labelTemplate.horizontalCenter="left",labelAlign="right"):(this.ticks.template.locationY=1,labelTemplate.horizontalCenter="right",labelValign="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,labelAlign="left"):(labelValign="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?labelAlign="center":labelValign="middle",labelTemplate.align=labelAlign,labelTemplate.valign=labelValign,this.validateLayout(),this.ticks.each((function(tick){tick.invalidate()})),this.invalidateDataItems()},enumerable:!0,configurable:!0}),FunnelSeries}(PercentSeries_PercentSeries);Registry_registry.registeredClasses.FunnelSeries=FunnelSeries_FunnelSeries,Registry_registry.registeredClasses.FunnelSeriesDataItem=FunnelSeries_FunnelSeriesDataItem;var PyramidSeries_PyramidSeriesDataItem=function(_super){function PyramidSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="PyramidSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(PyramidSeriesDataItem,_super),PyramidSeriesDataItem}(FunnelSeries_FunnelSeriesDataItem),PyramidSeries_PyramidSeries=function(_super){function PyramidSeries(){var _this=_super.call(this)||this;return _this.className="PyramidSeries",_this.topWidth=Percent_percent(0),_this.bottomWidth=Percent_percent(100),_this.pyramidHeight=Percent_percent(100),_this.valueIs="area",_this.sliceLinks.template.width=0,_this.sliceLinks.template.height=0,_this.applyTheme(),_this}return Object(tslib_es6.d)(PyramidSeries,_super),PyramidSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},PyramidSeries.prototype.createDataItem=function(){return new PyramidSeries_PyramidSeriesDataItem},PyramidSeries.prototype.validate=function(){_super.prototype.validate.call(this),this._nextWidth=void 0},PyramidSeries.prototype.getNextValue=function(dataItem){var index=dataItem.index,nextValue=dataItem.getWorkingValue("value");index<this.dataItems.length-1&&(nextValue=this.dataItems.getIndex(index+1).getWorkingValue("value"));return 0==nextValue&&(nextValue=1e-6),nextValue},PyramidSeries.prototype.validateDataElements=function(){var _this=this,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight;if(this.dataItems.each((function(dataItem){if(dataItem.value>0){var relValue=dataItem.getWorkingValue("value")/dataItem.value,sliceLink=dataItem.sliceLink;"vertical"==_this.orientation?maxHeight-=sliceLink.pixelHeight*relValue:maxWidth-=sliceLink.pixelWidth*relValue}})),this._pyramidHeight=relativeToValue(this.pyramidHeight,maxHeight),this._pyramidWidth=relativeToValue(this.pyramidHeight,maxWidth),"vertical"==this.orientation){var y=(maxHeight-this._pyramidHeight)/2;this.slicesContainer.y=y,this.labelsContainer.y=y,this.ticksContainer.y=y}else{var x=(maxWidth-this._pyramidWidth)/2;this.slicesContainer.x=x,this.labelsContainer.x=x,this.ticksContainer.x=x}_super.prototype.validateDataElements.call(this)},PyramidSeries.prototype.decorateSlice=function(dataItem){var sum=this.dataItem.values.value.absoluteSum;if(0!=sum){var slice=dataItem.slice,sliceLink=dataItem.sliceLink,label=dataItem.label,tick=dataItem.tick;this.getNextValue(dataItem);var workingValue=Math.abs(dataItem.getWorkingValue("value")),pyramidWidth=this._pyramidWidth,pyramidHeight=this._pyramidHeight,maxWidth=this.slicesContainer.innerWidth,maxHeight=this.slicesContainer.innerHeight,linkWidth=sliceLink.pixelWidth,linkHeight=sliceLink.pixelHeight;if(0==dataItem.value&&this.ignoreZeroValues?dataItem.__disabled=!0:dataItem.__disabled=!1,"vertical"==this.orientation){var topWidth=relativeToValue(this.topWidth,maxWidth);isNumber(this._nextWidth)||(this._nextWidth=topWidth);var bottomWidth=relativeToValue(this.bottomWidth,maxWidth),sliceTopWidth=this._nextWidth,angle=Math.atan2(pyramidHeight,topWidth-bottomWidth);0==(c=Math.tan(Math.PI/2-angle))&&(c=1e-8);var sliceHeight=void 0,sliceBottomWidth=void 0;if("area"==this.valueIs){var square=(topWidth+bottomWidth)/2*pyramidHeight*workingValue/sum,s=Math.abs(sliceTopWidth*sliceTopWidth-2*square*c);sliceBottomWidth=(sliceHeight=(sliceTopWidth-Math.sqrt(s))/c)>0?(2*square-sliceHeight*sliceTopWidth)/sliceHeight:sliceTopWidth}else sliceBottomWidth=sliceTopWidth-(sliceHeight=pyramidHeight*workingValue/sum)*c;slice.height=sliceHeight,slice.width=maxWidth,slice.bottomWidth=sliceBottomWidth,slice.topWidth=sliceTopWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=slice.bottomWidth,slice.y=this._nextY,this.alignLabels?label.x=0:label.x=maxWidth/2,label.y=slice.pixelY+slice.pixelHeight*tick.locationY+slice.dy,this._nextY+=slice.pixelHeight+linkHeight*workingValue/Math.max(Math.abs(dataItem.value),1e-8),sliceLink.y=this._nextY-linkHeight,sliceLink.x=maxWidth/2}else{topWidth=relativeToValue(this.topWidth,maxHeight);isNumber(this._nextWidth)||(this._nextWidth=topWidth);var c;bottomWidth=relativeToValue(this.bottomWidth,maxHeight),sliceTopWidth=this._nextWidth,angle=Math.atan2(pyramidWidth,topWidth-bottomWidth);0==(c=Math.tan(Math.PI/2-angle))&&(c=1e-8);var sliceWidth=void 0;sliceBottomWidth=void 0;if("area"==this.valueIs)sliceBottomWidth=(2*(square=(topWidth+bottomWidth)/2*pyramidWidth*workingValue/sum)-(sliceWidth=(sliceTopWidth-Math.sqrt(sliceTopWidth*sliceTopWidth-2*square*c))/c)*sliceTopWidth)/sliceWidth;else sliceBottomWidth=sliceTopWidth-(sliceWidth=pyramidWidth*workingValue/sum)*c;slice.width=sliceWidth,slice.height=maxHeight,slice.bottomWidth=sliceBottomWidth,slice.topWidth=sliceTopWidth,sliceLink.topWidth=slice.bottomWidth,sliceLink.bottomWidth=slice.bottomWidth,slice.x=this._nextY,this.alignLabels?label.y=this.labelsContainer.measuredHeight:label.y=maxHeight/2,label.x=slice.pixelX+slice.pixelWidth*tick.locationX+slice.dx,this._nextY+=slice.pixelWidth+linkWidth*workingValue/Math.max(Math.abs(dataItem.value),1e-8),sliceLink.x=this._nextY-linkWidth,sliceLink.y=maxHeight/2}this._nextWidth=slice.bottomWidth}},Object.defineProperty(PyramidSeries.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(value){this.setPercentProperty("topWidth",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(value){this.setPercentProperty("pyramidHeight",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(value){this.setPercentProperty("bottomWidth",value,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(PyramidSeries.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(value){this.setPropertyValue("valueIs",value)&&this.invalidate()},enumerable:!0,configurable:!0}),PyramidSeries}(FunnelSeries_FunnelSeries);Registry_registry.registeredClasses.PyramidSeries=PyramidSeries_PyramidSeries,Registry_registry.registeredClasses.PyramidSeriesDataItem=PyramidSeries_PyramidSeriesDataItem;var PictorialStackedSeries_PictorialStackedSeriesDataItem=function(_super){function PictorialStackedSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="PictorialStackedSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(PictorialStackedSeriesDataItem,_super),PictorialStackedSeriesDataItem}(PyramidSeries_PyramidSeriesDataItem),PictorialStackedSeries_PictorialStackedSeries=function(_super){function PictorialStackedSeries(){var _this=_super.call(this)||this;return _this.className="PictorialStackedSeries",_this.topWidth=Percent_percent(100),_this.bottomWidth=Percent_percent(100),_this.valueIs="height",_this.applyTheme(),_this.startLocation=0,_this.endLocation=1,_this.align="center",_this.valign="middle",_this._maskSprite=_this.slicesContainer.createChild(Sprite_Sprite),_this._maskSprite.visible=!1,_this._maskSprite.zIndex=100,_this._maskSprite.shouldClone=!1,_this}return Object(tslib_es6.d)(PictorialStackedSeries,_super),PictorialStackedSeries.prototype.validateDataElements=function(){var maxWidth=this.slicesContainer.maxWidth,maxHeight=this.slicesContainer.maxHeight,maskSprite=this._maskSprite,pictureWidth=maskSprite.measuredWidth/maskSprite.scale,pictureHeight=maskSprite.measuredHeight/maskSprite.scale,scale=Math_min(maxHeight/pictureHeight,maxWidth/pictureWidth);scale==1/0&&(scale=1),scale=Math_max(.001,scale);var y,x,startLocation=this.startLocation,endLocation=this.endLocation,newWidth=Math_min(maxWidth,pictureWidth*scale),newHeight=Math_min(maxHeight,pictureHeight*scale);maskSprite.scale=scale,"vertical"==this.orientation?(this.topWidth=newWidth+4,this.bottomWidth=newWidth+4,this.pyramidHeight=newHeight*(endLocation-startLocation),maskSprite.x=maxWidth/2,maskSprite.y=newHeight/2):(this.topWidth=newHeight+4,this.bottomWidth=newHeight+4,this.pyramidHeight=newWidth*(endLocation-startLocation),maskSprite.valign="middle",maskSprite.x=newWidth/2,maskSprite.y=maxHeight/2),maskSprite.verticalCenter="middle",maskSprite.horizontalCenter="middle",_super.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(y=maxHeight-newHeight),"middle"==this.valign&&(y=(maxHeight-newHeight)/2),"top"==this.valign&&(y=0),"left"==this.align&&(x=-(maxWidth-newWidth)/2),"center"==this.align&&(x=0),"right"==this.align&&(x=(maxWidth-newWidth)/2),this.slices.template.dy=startLocation*newHeight,this.alignLabels&&(this.slicesContainer.dx=x)):("bottom"==this.valign&&(y=(maxHeight-newHeight)/2),"middle"==this.valign&&(y=0),"top"==this.valign&&(y=-(maxHeight-newHeight)/2),"left"==this.align&&(x=0),"center"==this.align&&(x=(maxWidth-newWidth)/2),"right"==this.align&&(x=maxWidth-newWidth),this.slices.template.dx=startLocation*newWidth,this.alignLabels&&(this.slicesContainer.dy=y)),this.slicesContainer.x=x,this.labelsContainer.x=x,this.ticksContainer.x=x,this.slicesContainer.y=y,this.labelsContainer.y=y,this.ticksContainer.y=y,newWidth>0&&newHeight>0&&(this.slicesContainer.mask=maskSprite)},PictorialStackedSeries.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},PictorialStackedSeries.prototype.createDataItem=function(){return new PictorialStackedSeries_PictorialStackedSeriesDataItem},Object.defineProperty(PictorialStackedSeries.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),PictorialStackedSeries.prototype.initSlice=function(slice){_super.prototype.initSlice.call(this,slice);var hs=slice.states.getKey("hover");hs&&(hs.properties.expandDistance=0)},Object.defineProperty(PictorialStackedSeries.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(value){this.setPropertyValue("startLocation",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(PictorialStackedSeries.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(value){this.setPropertyValue("endLocation",value)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),PictorialStackedSeries}(PyramidSeries_PyramidSeries);Registry_registry.registeredClasses.PictorialStackedSeries=PictorialStackedSeries_PictorialStackedSeries,Registry_registry.registeredClasses.PictorialStackedSeriesDataItem=PictorialStackedSeries_PictorialStackedSeriesDataItem;var ConeColumn_ConeColumn=function(_super){function ConeColumn(){var _this=_super.call(this)||this;return _this.className="ConeColumn",_this}return Object(tslib_es6.d)(ConeColumn,_super),ConeColumn.prototype.createAssets=function(){this.coneColumn=this.createChild(Cone_Cone),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},ConeColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.coneColumn&&this.coneColumn.copyFrom(source.coneColumn)},ConeColumn}(Column_Column);Registry_registry.registeredClasses.ConeColumn=ConeColumn_ConeColumn;var ConeSeries_ConeSeriesDataItem=function(_super){function ConeSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="ConeSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(ConeSeriesDataItem,_super),ConeSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),ConeSeries_ConeSeries=function(_super){function ConeSeries(){var _this=_super.call(this)||this;return _this.className="ConeSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(ConeSeries,_super),ConeSeries.prototype.createColumnTemplate=function(){return new ConeColumn_ConeColumn},ConeSeries.prototype.getMaskPath=function(){var dx=0,dy=0,column=this.columns.getIndex(0);if(column)return this.baseAxis==this.xAxis?dy=column.coneColumn.innerWidth/2+1:dx=column.coneColumn.innerHeight/2+1,rectToPath({x:-dx,y:0,width:this.xAxis.axisLength+dx,height:this.yAxis.axisLength+dy})},ConeSeries.prototype.validateDataElementReal=function(dataItem){if(_super.prototype.validateDataElementReal.call(this,dataItem),dataItem.column){var coneColumn=dataItem.column.coneColumn;coneColumn.fill=dataItem.column.fill,this.baseAxis==this.yAxis?coneColumn.orientation="horizontal":coneColumn.orientation="vertical"}},ConeSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.ConeSeries=ConeSeries_ConeSeries,Registry_registry.registeredClasses.ConeSeriesDataItem=ConeSeries_ConeSeriesDataItem;var CurvedColumn_CurvedColumn=function(_super){function CurvedColumn(){var _this=_super.call(this)||this;return _this.className="CurvedColumn",_this}return Object(tslib_es6.d)(CurvedColumn,_super),CurvedColumn.prototype.createAssets=function(){this.curvedColumn=this.createChild(Sprite_Sprite),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=Percent_percent(120),this.height=Percent_percent(120),this.column=this.curvedColumn},CurvedColumn.prototype.draw=function(){_super.prototype.draw.call(this);var points,w=this.realWidth,h=this.realHeight,x=this.realX-this.pixelX,y=this.realY-this.pixelY;this.width;var tensionX=1,tensionY=1;"vertical"==this.orientation?(tensionX=this.tension,points=[{x:0,y:h+y},{x:w/2,y:y},{x:w,y:h+y}]):(tensionY=this.tension,points=[{x:x,y:h=Math.abs(h)},{x:x+w,y:h/2},{x:x,y:0}]);var path=moveTo(points[0])+new Smoothing_Tension(tensionX,tensionY).smooth(points);this.column.path=path},CurvedColumn.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.curvedColumn&&this.curvedColumn.copyFrom(source.curvedColumn)},Object.defineProperty(CurvedColumn.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(value){this.setPropertyValue("tension",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(CurvedColumn.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(value){this.setPropertyValue("orientation",value,!0)},enumerable:!0,configurable:!0}),CurvedColumn}(Column_Column);Registry_registry.registeredClasses.CurvedColumn=CurvedColumn_CurvedColumn;var CurvedColumnSeries_CurvedColumnSeriesDataItem=function(_super){function CurvedColumnSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="CurvedColumnSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(CurvedColumnSeriesDataItem,_super),CurvedColumnSeriesDataItem}(ColumnSeries_ColumnSeriesDataItem),CurvedColumnSeries_CurvedColumnSeries=function(_super){function CurvedColumnSeries(){var _this=_super.call(this)||this;return _this.className="CurvedColumnSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(CurvedColumnSeries,_super),CurvedColumnSeries.prototype.createColumnTemplate=function(){return new CurvedColumn_CurvedColumn},CurvedColumnSeries.prototype.validateDataElementReal=function(dataItem){_super.prototype.validateDataElementReal.call(this,dataItem);var column=dataItem.column;(column=dataItem.column)&&(dataItem.column.curvedColumn.fill=dataItem.column.fill,this.baseAxis==this.yAxis?column.orientation="horizontal":column.orientation="vertical")},CurvedColumnSeries}(ColumnSeries_ColumnSeries);Registry_registry.registeredClasses.CurvedColumnSeries=CurvedColumnSeries_CurvedColumnSeries,Registry_registry.registeredClasses.CurvedColumnSeriesDataItem=CurvedColumnSeries_CurvedColumnSeriesDataItem;var CircleBullet_CircleBullet=function(_super){function CircleBullet(){var _this=_super.call(this)||this;_this.className="CircleBullet";var circle=_this.createChild(Circle_Circle);return circle.shouldClone=!1,circle.radius=5,circle.isMeasured=!1,_this.circle=circle,_this.applyTheme(),_this}return Object(tslib_es6.d)(CircleBullet,_super),CircleBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.circle.copyFrom(source.circle)},CircleBullet}(Bullet_Bullet);Registry_registry.registeredClasses.CircleBullet=CircleBullet_CircleBullet;var ErrorBullet_ErrorBullet=function(_super){function ErrorBullet(){var _this=_super.call(this)||this;return _this.className="ErrorBullet",_this.errorLine=_this.createChild(Sprite_Sprite),_this.errorLine.shouldClone=!1,_this.width=20,_this.height=20,_this.strokeOpacity=1,_this.isDynamic=!0,_this}return Object(tslib_es6.d)(ErrorBullet,_super),ErrorBullet.prototype.validatePosition=function(){_super.prototype.validatePosition.call(this);var w=this.pixelWidth/2,h=this.pixelHeight/2;this.errorLine.path=moveTo({x:-w,y:-h})+lineTo({x:w,y:-h})+moveTo({x:0,y:-h})+lineTo({x:0,y:h})+moveTo({x:-w,y:h})+lineTo({x:w,y:h})},ErrorBullet.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.errorLine.copyFrom(source.errorLine)},ErrorBullet}(Bullet_Bullet);Registry_registry.registeredClasses.ErrorBullet=ErrorBullet_ErrorBullet;var NavigationBar_NavigationBarDataItem=function(_super){function NavigationBarDataItem(){var _this=_super.call(this)||this;return _this.className="NavigationBarDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(NavigationBarDataItem,_super),Object.defineProperty(NavigationBarDataItem.prototype,"name",{get:function(){return this.properties.name},set:function(value){this.setProperty("name",value)},enumerable:!0,configurable:!0}),NavigationBarDataItem}(DataItem_DataItem),NavigationBar_NavigationBar=function(_super){function NavigationBar(){var _this=_super.call(this)||this;_this.className="NavigationBar";var interfaceColors=new InterfaceColorSet_InterfaceColorSet,textLink=new TextLink_TextLink;textLink.valign="middle",textLink.paddingTop=8,textLink.paddingBottom=8,_this.paddingBottom=2,_this.links=new List_ListTemplate(textLink),_this._disposers.push(new List_ListDisposer(_this.links)),_this._disposers.push(textLink),_this._linksIterator=new Iterator_ListIterator(_this.links,(function(){return _this.links.create()})),_this._linksIterator.createNewItems=!0;var triangle=new Triangle_Triangle;triangle.direction="right",triangle.width=8,triangle.height=12,triangle.fill=interfaceColors.getFor("alternativeBackground"),triangle.fillOpacity=.5,triangle.valign="middle",triangle.marginLeft=10,triangle.marginRight=10,_this.separators=new List_ListTemplate(triangle),_this._disposers.push(new List_ListDisposer(_this.separators)),_this._disposers.push(triangle);var activeLink=new TextLink_TextLink;return _this.activeLink=activeLink,activeLink.copyFrom(textLink),activeLink.valign="middle",activeLink.fontWeight="bold",_this.width=Percent_percent(100),_this.layout="grid",_this.dataFields.name="name",_this.applyTheme(),_this}return Object(tslib_es6.d)(NavigationBar,_super),NavigationBar.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),_super.prototype.validateDataElements.call(this)},NavigationBar.prototype.validateDataElement=function(dataItem){var textLink;if(_super.prototype.validateDataElement.call(this,dataItem),dataItem.index<this.dataItems.length-1){(textLink=this._linksIterator.getLast()).parent=this;var separator=this.separators.create();separator.parent=this,separator.valign="middle"}else(textLink=this.activeLink).events.copyFrom(this.links.template.events),textLink.hide(0),textLink.show(),textLink.parent=this;textLink.dataItem=dataItem,textLink.text=dataItem.name,textLink.validate()},NavigationBar}(Component_Component);Registry_registry.registeredClasses.NavigationBar=NavigationBar_NavigationBar,Registry_registry.registeredClasses.NavigationBarDataItem=NavigationBar_NavigationBarDataItem;var Cursor_Cursor=function(_super){function Cursor(){var _this=_super.call(this)||this;_this.point={x:0,y:0},_this._stick="none",_this.className="Cursor",_this.width=Percent_percent(100),_this.height=Percent_percent(100),_this.shouldClone=!1,_this.hide(0),_this.trackable=!0,_this.clickable=!0,_this.isMeasured=!1;var interaction=getInteraction();return _this._disposers.push(interaction.body.events.on("down",_this.handleCursorDown,_this)),_this._disposers.push(interaction.body.events.on("up",_this.handleCursorUp,_this)),_this._disposers.push(interaction.body.events.on("track",_this.handleCursorMove,_this)),_this.applyTheme(),_this}return Object(tslib_es6.d)(Cursor,_super),Cursor.prototype.handleCursorMove=function(event){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&event.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid)){var local=documentPointToSprite(event.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(local=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(local)||(local=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",local),this.triggerMove(local),local}this.isHidden&&this.isHiding||this.hide()}},Cursor.prototype.hideReal=function(duration){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return _super.prototype.hideReal.call(this,duration)},Cursor.prototype.triggerMove=function(point,stick,force){point.x=Math_round(point.x,1),point.y=Math_round(point.y,1),stick&&(this._stick=stick),"hard"!=stick&&"soft"!=stick||(this._stickPoint=point),this.triggerMoveReal(point,force)},Cursor.prototype.triggerMoveReal=function(point,force){(this.point.x!=point.x||this.point.y!=point.y||force)&&(this.point=point,this.invalidatePosition(),this.fitsToBounds(point)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},Cursor.prototype.triggerDown=function(point){this.triggerDownReal(point)},Cursor.prototype.triggerDownReal=function(point){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),getInteraction().setGlobalStyle(MouseCursorStyle.grabbing)}},Cursor.prototype.triggerUp=function(point){this.triggerUpReal(point)},Cursor.prototype.triggerUpReal=function(point){system.requestFrame(),this.updatePoint(this.upPoint);var interaction=getInteraction();if(getDistance(this._upPointOrig,this._downPointOrig)>interaction.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),interaction.setGlobalStyle(MouseCursorStyle.default)}this.downPoint=void 0,this.updateSelection()}},Cursor.prototype.updateSelection=function(){},Cursor.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},Cursor.prototype.handleCursorDown=function(event){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&event.touch)&&getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid)){DOM_blur();var local=documentPointToSprite(event.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(local=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",local),this.fitsToBounds(local)&&(this._downPointOrig={x:local.x,y:local.y},event.event.cancelable&&this.shouldPreventGestures(event.touch)&&this.fitsToBounds(local)&&event.event.preventDefault(),this.triggerMove(local),this.triggerDown(local))}},Cursor.prototype.shouldPreventGestures=function(touch){return!0},Cursor.prototype.updatePoint=function(point){},Cursor.prototype.handleCursorUp=function(event){if(this.interactionsEnabled&&(this.downPoint||getInteraction().isLocalElement(event.pointer,this.paper.svg,this.uid))){var local=documentPointToSprite(event.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",local),this.downPoint&&this.fitsToBounds(this.downPoint)&&("hard"==this._stick&&this._stickPoint&&(local=this._stickPoint),this._upPointOrig={x:local.x,y:local.y},this.triggerMove(local),this.triggerUp(local))}},Object.defineProperty(Cursor.prototype,"chart",{get:function(){return this._chart},set:function(value){this._chart=value,Type_hasValue(this._chart.plotContainer)&&getInteraction().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),Cursor}(Container_Container);Registry_registry.registeredClasses.Cursor=Cursor_Cursor;var XYCursor_XYCursor=function(_super){function XYCursor(){var _this=_super.call(this)||this;_this._lineX=new Disposer_MutableValueDisposer,_this._lineY=new Disposer_MutableValueDisposer,_this._xAxis=new Disposer_MutableValueDisposer,_this._yAxis=new Disposer_MutableValueDisposer,_this._snapToDisposers=[],_this.className="XYCursor",_this.behavior="zoomX",_this.maxPanOut=.1;var interfaceColors=new InterfaceColorSet_InterfaceColorSet,selection=_this.createChild(Sprite_Sprite);selection.shouldClone=!1,selection.fillOpacity=.2,selection.fill=interfaceColors.getFor("alternativeBackground"),selection.isMeasured=!1,selection.visible=!1,selection.interactionsEnabled=!1,_this.selection=selection,_this._disposers.push(_this.selection);var lineX=_this.createChild(Sprite_Sprite);lineX.shouldClone=!1,lineX.stroke=interfaceColors.getFor("grid"),lineX.fill=Color_color(),lineX.strokeDasharray="3,3",lineX.isMeasured=!1,lineX.strokeOpacity=.4,lineX.interactionsEnabled=!1,lineX.y=0,_this.lineX=lineX,_this._disposers.push(_this.lineX);var lineY=_this.createChild(Sprite_Sprite);return lineY.shouldClone=!1,lineY.stroke=interfaceColors.getFor("grid"),lineY.fill=Color_color(),lineY.strokeDasharray="3,3",lineY.isMeasured=!1,lineY.strokeOpacity=.4,lineY.interactionsEnabled=!1,lineY.x=0,_this.lineY=lineY,_this._disposers.push(_this.lineY),_this.events.on("sizechanged",_this.updateSize,_this,!1),_this._disposers.push(_this._lineX),_this._disposers.push(_this._lineY),_this._disposers.push(_this._xAxis),_this._disposers.push(_this._yAxis),_this.mask=_this,_this.hideSeriesTooltipsOnSelection=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(XYCursor,_super),XYCursor.prototype.updateSize=function(){this.lineX&&(this.lineX.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=moveTo({x:0,y:0})+lineTo({x:this.innerWidth,y:0}))},XYCursor.prototype.updateSelection=function(){if(this._usesSelection){var downPoint=this.downPoint,behavior=this.behavior;if(downPoint){var point=this.point;this.lineX&&(point.x=this.lineX.pixelX),this.lineY&&(point.y=this.lineY.pixelY);var selection=this.selection,x=Math.min(point.x,downPoint.x),y=Math.min(point.y,downPoint.y),w=Math_round(Math.abs(downPoint.x-point.x),this._positionPrecision),h=Math_round(Math.abs(downPoint.y-point.y),this._positionPrecision);switch(behavior){case"zoomX":y=0,h=this.pixelHeight;break;case"zoomY":x=0,w=this.pixelWidth;break;case"selectX":y=0,h=this.pixelHeight;break;case"selectY":x=0,w=this.pixelWidth}selection.x=x,selection.y=y,selection.path=Path_rectangle(w,h),selection.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},XYCursor.prototype.fixPoint=function(point){return point.x=Math.max(0,point.x),point.y=Math.max(0,point.y),point.x=Math.min(this.pixelWidth,point.x),point.y=Math.min(this.pixelHeight,point.y),point},XYCursor.prototype.triggerMoveReal=function(point,force){_super.prototype.triggerMoveReal.call(this,point,force);var snapToSeries=this.snapToSeries;if(snapToSeries&&!this.downPoint)if(snapToSeries instanceof XYSeries_XYSeries)snapToSeries.isHidden&&this.updateLinePositions(point);else{var allHidden_1=!0;each(snapToSeries,(function(s){s.isHidden||(allHidden_1=!1)})),allHidden_1&&this.updateLinePositions(point)}else this.updateLinePositions(point);this.downPoint&&getDistance(this.downPoint,point)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},XYCursor.prototype.updateLinePositions=function(point){point=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=point.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=point.y),this.updateSelection()},XYCursor.prototype.triggerDownReal=function(point){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(point)){this.downPoint={x:point.x,y:point.y},this.updatePoint(point),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var selection=this.selection,selectionX=this.downPoint.x,selectionY=this.downPoint.y;this._usesSelection&&(selection.x=selectionX,selection.y=selectionY,selection.path="",selection.show()),_super.prototype.triggerDownReal.call(this,point)}else this.downPoint=void 0;else this.downPoint=void 0},XYCursor.prototype.updatePoint=function(point){this.lineX&&(point.x=this.lineX.pixelX),this.lineY&&(point.y=this.lineY.pixelY)},XYCursor.prototype.triggerUpReal=function(point){if(this.hasMoved())this.downPoint&&(this.upPoint=point,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),_super.prototype.triggerUpReal.call(this,point));else{if("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior)getInteraction().setGlobalStyle(MouseCursorStyle.default);this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},XYCursor.prototype.hasMoved=function(){var distance,point1,point2;return"zoomX"==this.behavior||"panX"==this.behavior?(point1=this._upPointOrig,point2=this._downPointOrig,distance=point1?(point2||(point2={x:0,y:0}),Math.abs(point1.x-point2.x)):0):distance="zoomY"==this.behavior||"panY"==this.behavior?function(point1,point2){return point1?(point2||(point2={x:0,y:0}),Math.abs(point1.y-point2.y)):0}(this._upPointOrig,this._downPointOrig):getDistance(this._upPointOrig,this._downPointOrig),distance>getInteraction().getHitOption(this.interactions,"hitTolerance")},XYCursor.prototype.getPanningRanges=function(){var startX=Math_round(this.downPoint.x/this.innerWidth,5),startY=1-Math_round(this.downPoint.y/this.innerHeight,5),deltaX=startX-Math_round(this.point.x/this.innerWidth,5),deltaY=startY-(1-Math_round(this.point.y/this.innerHeight,5));this.xRange={start:deltaX,end:1+deltaX},this.yRange={start:deltaY,end:1+deltaY},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},XYCursor.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var startX=Math_round(this.downPoint.x/this.innerWidth,5),endX=Math_round(this.upPoint.x/this.innerWidth,5),startY=1-Math_round(this.downPoint.y/this.innerHeight,5),endY=1-Math_round(this.upPoint.y/this.innerHeight,5);this.xRange={start:Math_min(startX,endX),end:Math_max(startX,endX)},this.yRange={start:Math_min(startY,endY),end:Math_max(startY,endY)}},Object.defineProperty(XYCursor.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(value){this.setPropertyValue("behavior",value,!0),this._usesSelection=!1,-1!=value.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=value.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=value.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),XYCursor.prototype.shouldPreventGestures=function(touch){return!(this.interactions.isTouchProtected&&touch||"none"==this.behavior)},Object.defineProperty(XYCursor.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(value){this.setPropertyValue("fullWidthLineX",value),value||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(value){this.setPropertyValue("fullWidthLineY",value),value||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(value){this.setPropertyValue("hideSeriesTooltipsOnSelection",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(value){this.setPropertyValue("maxTooltipDistance",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(value){this.setPropertyValue("maxPanOut",value)},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(axis){var _this=this;this._xAxis.get()!=axis&&this._xAxis.set(axis,new Disposer_MultiDisposer([axis.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),axis.events.on("rangechangestarted",(function(event){_this.hide(0),_this.preventShow=!0}),void 0,!1),axis.events.on("rangechangeended",(function(event){_this.preventShow=!1,_this.hide(0),_this.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(axis){var _this=this;this._yAxis.get()!=axis&&this._yAxis.set(axis,new Disposer_MultiDisposer([axis.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),axis.events.on("rangechangestarted",(function(event){_this.hide(0),_this.__disabled=!0}),void 0,!1),axis.events.on("rangechangeended",(function(event){_this.__disabled=!1,_this.hide(0),_this.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),XYCursor.prototype.handleXTooltipPosition=function(event){var tooltip=this.xAxis.tooltip,point=svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this),x=point.x;if(point.y=1,this.lineX&&(this.lineX.x=x,this.fitsToBounds(point)||this.hide()),this.xAxis&&this.fullWidthLineX){var startPoint=this.xAxis.currentItemStartPoint,endPoint=this.xAxis.currentItemEndPoint;if(startPoint&&endPoint){this.lineX.x=x;var width=endPoint.x-startPoint.x;this.lineX.path=Path_rectangle(width,this.innerHeight,-width/2)}}},XYCursor.prototype.handleYTooltipPosition=function(event){var tooltip=this.yAxis.tooltip,point=svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this),y=point.y;if(point.x=1,this.lineY&&(this.lineY.y=y,this.fitsToBounds(point)||this.hide()),this.yAxis&&this.fullWidthLineY){var startPoint=this.yAxis.currentItemStartPoint,endPoint=this.yAxis.currentItemEndPoint;if(startPoint&&endPoint){this.lineY.y=y;var height=endPoint.y-startPoint.y;this.lineY.path=Path_rectangle(this.innerWidth,height,0,-height/2)}}},Object.defineProperty(XYCursor.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(lineX){lineX?(lineX.setElement(this.paper.add("path")),this._lineX.set(lineX,lineX.events.on("positionchanged",this.updateSelection,this,!1)),lineX.interactionsEnabled=!1,lineX.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(lineY){lineY?(lineY.setElement(this.paper.add("path")),this._lineY.set(lineY,lineY.events.on("positionchanged",this.updateSelection,this,!1)),lineY.parent=this,lineY.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(XYCursor.prototype,"selection",{get:function(){return this._selection},set:function(selection){this._selection=selection,selection&&(selection.element=this.paper.add("path"),selection.parent=this)},enumerable:!0,configurable:!0}),XYCursor.prototype.processConfig=function(config){var _this=this;if(config&&(Type_hasValue(config.xAxis)&&isString(config.xAxis)&&(this.map.hasKey(config.xAxis)?config.xAxis=this.map.getKey(config.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+config.xAxis+'" found for `xAxis`'),delete config.xAxis)),Type_hasValue(config.yAxis)&&isString(config.yAxis)&&(this.map.hasKey(config.yAxis)?config.yAxis=this.map.getKey(config.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+config.yAxis+'" found for `yAxis`'),delete config.yAxis)),Type_hasValue(config.snapToSeries))){var snapTo_1=Type_isArray(config.snapToSeries)?config.snapToSeries:[config.snapToSeries],snapError_1=!1;each(snapTo_1,(function(snap,index){isString(snap)&&(_this.map.hasKey(snap)?snapTo_1[index]=_this.map.getKey(snap):(_this.processingErrors.push('[XYCursor] No series with id "'+snap+'" found for `series`'),snapError_1=!0))})),snapError_1?delete config.snapToSeries:config.snapToSeries=snapTo_1}_super.prototype.processConfig.call(this,config)},Object.defineProperty(XYCursor.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(series){var _this=this;this.setPropertyValue("snapToSeries",series)&&(series instanceof XYSeries_XYSeries&&(series=[series]),this._snapToDisposers&&each(this._snapToDisposers,(function(disposer){disposer.dispose()})),this._snapToDisposers=[],series&&each(series,(function(s){_this._snapToDisposers.push(s.events.on("tooltipshownat",(function(){_this.handleSnap(s)}),void 0,!1))})))},enumerable:!0,configurable:!0}),XYCursor.prototype.handleSnap=function(series){if(!this.downPoint){var x=series.getTooltipX()+series.xAxis.pixelX,y=series.getTooltipY()+series.yAxis.pixelY;this.xAxis&&this.xAxis.renderer.opposite&&(y-=this.pixelHeight),this.point={x:x,y:y},this.getPositions();var xx=x,yy=y;x-=this.pixelWidth,this.yAxis&&this.yAxis.renderer.opposite&&(x+=this.pixelWidth);var tooltip=series.tooltip,duration=tooltip.animationDuration,easing=tooltip.animationEasing,xAxis=series.xAxis,yAxis=series.yAxis;xAxis instanceof ValueAxis_ValueAxis&&!(xAxis instanceof DateAxis_DateAxis)&&yAxis instanceof ValueAxis_ValueAxis&&!(yAxis instanceof DateAxis_DateAxis)?(series.yAxis.showTooltipAtPosition(this.yPosition),series.xAxis.showTooltipAtPosition(this.xPosition)):(series.baseAxis==series.xAxis&&series.yAxis.showTooltipAtPosition(this.yPosition),series.baseAxis==series.yAxis&&series.xAxis.showTooltipAtPosition(this.xPosition)),this.lineX.animate([{property:"y",to:y}],duration,easing),this.lineY.animate([{property:"x",to:x}],duration,easing),this.xAxis||this.lineX.animate([{property:"x",to:xx}],duration,easing),this.yAxis||this.lineY.animate([{property:"y",to:yy}],duration,easing)}},XYCursor.prototype.dispose=function(){this.hide(0),_super.prototype.dispose.call(this)},XYCursor}(Cursor_Cursor);Registry_registry.registeredClasses.XYCursor=XYCursor_XYCursor;var RadarCursor_RadarCursor=function(_super){function RadarCursor(){var _this=_super.call(this)||this;return _this.className="RadarCursor",_this.radius=Percent_percent(100),_this.innerRadius=Percent_percent(0),_this.applyTheme(),_this.mask=void 0,_this}return Object(tslib_es6.d)(RadarCursor,_super),RadarCursor.prototype.fitsToBounds=function(point){var radius=getDistance(point);return radius<this.truePixelRadius+1&&radius>this.pixelInnerRadius-1},Object.defineProperty(RadarCursor.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(value){this.setPropertyValue("startAngle",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(value){this.setPropertyValue("endAngle",value,!0)},enumerable:!0,configurable:!0}),RadarCursor.prototype.triggerMoveReal=function(point,force){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),_super.prototype.triggerMoveReal.call(this,point,force)},RadarCursor.prototype.updateLineX=function(point){var radius=this.pixelRadius,startAngle=this.startAngle,endAngle=this.endAngle,innerRadius=this.pixelInnerRadius;if(radius>0&&isNumber(startAngle)&&isNumber(endAngle)&&isNumber(innerRadius)){var angle=fitAngleToRange(getAngle(point),startAngle,endAngle),path=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var startPoint=this.xAxis.currentItemStartPoint,endPoint=this.xAxis.currentItemEndPoint;if(startPoint&&endPoint){var fillStartAngle=fitAngleToRange(getAngle(startPoint),startAngle,endAngle),arc=fitAngleToRange(getAngle(endPoint),startAngle,endAngle)-fillStartAngle;startAngle<endAngle?arc<0&&(arc+=360):arc>0&&(arc-=360),path=moveTo({x:innerRadius*Math_cos(angle-=arc/2),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})+arcTo(angle,arc,radius)+lineTo({x:innerRadius*Math_cos(angle+arc),y:innerRadius*Math_sin(angle+arc)})+arcTo(angle+arc,-arc,innerRadius)}}path||(path=moveTo({x:innerRadius*Math_cos(angle),y:innerRadius*Math_sin(angle)})+lineTo({x:radius*Math_cos(angle),y:radius*Math_sin(angle)})),this.lineX.path=path}}},RadarCursor.prototype.updateLineY=function(point){if(this.lineY&&this.lineY.visible){var startAngle=this.startAngle,endAngle=this.endAngle,truePixelRadius=this.truePixelRadius,radius=fitToRange(getDistance(point),0,this.truePixelRadius);if(isNumber(radius)&&isNumber(startAngle)){this.lineY.moveTo({x:0,y:0});var path=void 0,arc=endAngle-startAngle;if(this.yAxis&&this.fullWidthLineY){var startPoint=this.yAxis.currentItemStartPoint,endPoint=this.yAxis.currentItemEndPoint;if(startPoint&&endPoint){var innerRadius=fitToRange(getDistance(startPoint),0,truePixelRadius);path=moveTo({x:(radius=fitToRange(getDistance(endPoint),0,truePixelRadius))*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,arc,radius),path+=moveTo({x:innerRadius*Math_cos(endAngle),y:innerRadius*Math_sin(endAngle)})+arcTo(endAngle,-arc,innerRadius)}}path||(path=moveTo({x:radius*Math_cos(startAngle),y:radius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,radius)),this.lineY.path=path}}},RadarCursor.prototype.updateSelection=function(){if(this._usesSelection){var downPoint=this.downPoint;if(downPoint){var point=this.point,radius=this.pixelRadius,truePixelRadius=this.truePixelRadius,innerRadius=this.pixelInnerRadius,startAngle=Math.min(this.startAngle,this.endAngle),endAngle=Math.max(this.startAngle,this.endAngle),downAngle=fitAngleToRange(getAngle(downPoint),startAngle,endAngle),angle=fitAngleToRange(getAngle(point),startAngle,endAngle),downRadius=getDistance(downPoint);if(downRadius<truePixelRadius){var currentRadius=fitToRange(getDistance(point),0,truePixelRadius);this._prevAngle=angle;var path=moveTo({x:0,y:0}),downSin=Math_sin(downAngle),downCos=Math_cos(downAngle),sin=Math_sin(angle),cos=Math_cos(angle),behavior=this.behavior;"zoomX"==behavior||"selectX"==behavior?path+=lineTo({x:radius*downCos,y:radius*downSin})+arcTo(downAngle,angle-downAngle,radius)+lineTo({x:innerRadius*cos,y:innerRadius*sin})+arcTo(angle,downAngle-angle,innerRadius):"zoomY"==behavior||"selectY"==behavior?path=moveTo({x:currentRadius*Math_cos(startAngle),y:currentRadius*Math_sin(startAngle)})+arcTo(startAngle,endAngle-startAngle,currentRadius)+lineTo({x:downRadius*Math_cos(endAngle),y:downRadius*Math_sin(endAngle)})+arcTo(endAngle,startAngle-endAngle,downRadius)+" Z":"zoomXY"==behavior&&(path=moveTo({x:currentRadius*Math_cos(downAngle),y:currentRadius*Math_sin(downAngle)})+arcTo(downAngle,angle-downAngle,currentRadius)+lineTo({x:downRadius*Math_cos(angle),y:downRadius*Math_sin(angle)})+arcTo(angle,downAngle-angle,downRadius)+" Z"),this.selection.path=path}this.selection.moveTo({x:0,y:0})}}},RadarCursor.prototype.getPositions=function(){if(this.chart){var innerRadius=this.pixelInnerRadius,radius=this.truePixelRadius-innerRadius,startAngle=this.startAngle,endAngle=this.endAngle,xPosition=(fitAngleToRange(getAngle(this.point),startAngle,endAngle)-startAngle)/(endAngle-startAngle);this.xPosition=xPosition,this.yPosition=fitToRange((getDistance(this.point)-innerRadius)/radius,0,1)}},RadarCursor.prototype.updatePoint=function(point){},RadarCursor.prototype.handleXTooltipPosition=function(event){if(this.xAxis.cursorTooltipEnabled){var tooltip=this.xAxis.tooltip;this.updateLineX(svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this))}},RadarCursor.prototype.handleYTooltipPosition=function(event){if(this.yAxis.cursorTooltipEnabled){var tooltip=this.yAxis.tooltip;this.updateLineY(svgPointToSprite({x:tooltip.pixelX,y:tooltip.pixelY},this))}},RadarCursor.prototype.updateLinePositions=function(point){},RadarCursor.prototype.getRanges=function(){var downPoint=this.downPoint;if(downPoint){var upPoint=this.upPoint;if(this.chart){var radius=this.pixelRadius,startAngle=this.startAngle,endAngle=this.endAngle,downAngle=fitAngleToRange(getAngle(downPoint),this.startAngle,this.endAngle),upAngle=fitAngleToRange(getAngle(upPoint),this.startAngle,this.endAngle),downRadius=fitToRange(getDistance(downPoint),0,radius),upRadius=fitToRange(getDistance(upPoint),0,radius),startX=0,endX=1,startY=0,endY=1,behavior=this.behavior;if("zoomX"==behavior||"selectX"==behavior||"zoomXY"==behavior||"selectXY"==behavior){var arc=endAngle-startAngle;startX=Math_round((downAngle-startAngle)/arc,5),endX=Math_round((upAngle-startAngle)/arc,5)}"zoomY"!=behavior&&"selectY"!=behavior&&"zoomXY"!=behavior&&"selectXY"!=behavior||(startY=Math_round(downRadius/radius,5),endY=Math_round(upRadius/radius,5)),this.xRange={start:Math.min(startX,endX),end:Math.max(startX,endX)},this.yRange={start:Math.min(startY,endY),end:Math.max(startY,endY)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},RadarCursor.prototype.updateSize=function(){},Object.defineProperty(RadarCursor.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(value){this.setPercentProperty("radius",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,"truePixelRadius",{get:function(){return relativeToValue(Percent_percent(100),Math_min(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(value){this.setPercentProperty("innerRadius",value,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(RadarCursor.prototype,"pixelInnerRadius",{get:function(){var innerRadius=this.innerRadius;return innerRadius instanceof Percent&&(innerRadius=Percent_percent(100*innerRadius.value*this.chart.innerRadiusModifyer)),relativeRadiusToValue(innerRadius,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),RadarCursor.prototype.fixPoint=function(point){return point},RadarCursor}(XYCursor_XYCursor);Registry_registry.registeredClasses.RadarCursor=RadarCursor_RadarCursor;var animated=function(object){is(object,"SpriteState")&&(object.transitionDuration=400),is(object,"Component")&&(object.rangeChangeDuration=500,object.interpolationDuration=500,object.sequencedInterpolation=!1,is(object,"SankeyDiagram")&&(object.sequencedInterpolation=!0),is(object,"FunnelSeries")&&(object.sequencedInterpolation=!0)),is(object,"Chart")&&(object.defaultState.transitionDuration=2e3,object.hiddenState.transitionDuration=1e3),is(object,"Tooltip")&&(object.animationDuration=400,object.defaultState.transitionDuration=400,object.hiddenState.transitionDuration=400),is(object,"Scrollbar")&&(object.animationDuration=500),is(object,"Series")&&(object.defaultState.transitionDuration=1e3,object.hiddenState.transitionDuration=700,object.hiddenState.properties.opacity=1,object.showOnInit=!0),is(object,"MapSeries")&&(object.hiddenState.properties.opacity=0),is(object,"PercentSeries")&&(object.hiddenState.properties.opacity=0),is(object,"FunnelSlice")&&(object.defaultState.transitionDuration=800,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,"Slice")&&(object.defaultState.transitionDuration=700,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,"Preloader")&&(object.hiddenState.transitionDuration=2e3),is(object,"Column")&&(object.defaultState.transitionDuration=700,object.hiddenState.transitionDuration=1e3,object.hiddenState.properties.opacity=1),is(object,"Column3D")&&(object.hiddenState.properties.opacity=0)},adder=function(){return new Adder};function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){adder_add(adder_temp,y,this.t),adder_add(this,adder_temp.s,this.s),this.s?this.t+=adder_temp.t:this.s=adder_temp.t},valueOf:function(){return this.s}};var adder_temp=new Adder;function adder_add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,math_tau=2*pi,math_degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,math_cos=Math.cos,math_ceil=Math.ceil,math_exp=Math.exp,math_log=(Math.floor,Math.log),math_sin=(Math.pow,Math.sin),math_sign=Math.sign||function(x){return x>0?1:x<0?-1:0},sqrt=Math.sqrt,math_tan=Math.tan;function asin(x){return x>1?halfPi:x<-1?-halfPi:Math.asin(x)}function haversin(x){return(x=math_sin(x/2))*x}function noop_noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}var area_lambda00,phi00,area_lambda0,area_cosPhi0,area_sinPhi0,src_stream=function(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)},areaRingSum=adder(),areaSum=adder(),areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?math_tau+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){areaSum.add(math_tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(area_lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,area_lambda00=lambda,phi00=phi,area_lambda0=lambda*=radians,area_cosPhi0=math_cos(phi=(phi*=radians)/2+quarterPi),area_sinPhi0=math_sin(phi)}function areaPoint(lambda,phi){var dLambda=(lambda*=radians)-area_lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=math_cos(phi=(phi*=radians)/2+quarterPi),sinPhi=math_sin(phi),k=area_sinPhi0*sinPhi,u=area_cosPhi0*cosPhi+k*math_cos(adLambda),v=k*sdLambda*math_sin(adLambda);areaRingSum.add(atan2(v,u)),area_lambda0=lambda,area_cosPhi0=cosPhi,area_sinPhi0=sinPhi}function cartesian_spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin(cartesian[2])]}function cartesian_cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=math_cos(phi);return[cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var bounds_lambda0,bounds_phi0,bounds_lambda1,bounds_phi1,bounds_lambda2,bounds_lambda00,bounds_phi00,bounds_p0,ranges,bounds_range,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(bounds_lambda0=-(bounds_lambda1=180),bounds_phi0=-(bounds_phi1=90)):deltaSum>1e-6?bounds_phi1=90:deltaSum<-1e-6&&(bounds_phi0=-90),bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1},sphere:function(){bounds_lambda0=-(bounds_lambda1=180),bounds_phi0=-(bounds_phi1=90)}};function boundsPoint(lambda,phi){ranges.push(bounds_range=[bounds_lambda0=lambda,bounds_lambda1=lambda]),phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi)}function bounds_linePoint(lambda,phi){var p=cartesian_cartesian([lambda*radians,phi*radians]);if(bounds_p0){var normal=cartesianCross(bounds_p0,p),inflection=cartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(inflection),inflection=cartesian_spherical(inflection);var phii,delta=lambda-bounds_lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*math_degrees*sign,antimeridian=abs(delta)>180;antimeridian^(sign*bounds_lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*math_degrees)>bounds_phi1&&(bounds_phi1=phii):antimeridian^(sign*bounds_lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*math_degrees)<bounds_phi0&&(bounds_phi0=phii):(phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi)),antimeridian?lambda<bounds_lambda2?bounds_angle(bounds_lambda0,lambda)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda1=lambda):bounds_angle(lambda,bounds_lambda1)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda0=lambda):bounds_lambda1>=bounds_lambda0?(lambda<bounds_lambda0&&(bounds_lambda0=lambda),lambda>bounds_lambda1&&(bounds_lambda1=lambda)):lambda>bounds_lambda2?bounds_angle(bounds_lambda0,lambda)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda1=lambda):bounds_angle(lambda,bounds_lambda1)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda0=lambda)}else ranges.push(bounds_range=[bounds_lambda0=lambda,bounds_lambda1=lambda]);phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi),bounds_p0=p,bounds_lambda2=lambda}function boundsLineStart(){boundsStream.point=bounds_linePoint}function boundsLineEnd(){bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1,boundsStream.point=boundsPoint,bounds_p0=null}function boundsRingPoint(lambda,phi){if(bounds_p0){var delta=lambda-bounds_lambda2;deltaSum.add(abs(delta)>180?delta+(delta>0?360:-360):delta)}else bounds_lambda00=lambda,bounds_phi00=phi;areaStream.point(lambda,phi),bounds_linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(bounds_lambda00,bounds_phi00),areaStream.lineEnd(),abs(deltaSum)>1e-6&&(bounds_lambda0=-(bounds_lambda1=180)),bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1,bounds_p0=null}function bounds_angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var src_bounds=function(feature){var i,n,a,b,merged,deltaMax,delta;if(bounds_phi1=bounds_lambda1=-(bounds_lambda0=bounds_phi0=1/0),ranges=[],src_stream(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(bounds_angle(a[0],b[1])>bounds_angle(a[0],a[1])&&(a[1]=b[1]),bounds_angle(b[0],a[1])>bounds_angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=bounds_angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,bounds_lambda0=b[0],bounds_lambda1=a[1])}return ranges=bounds_range=null,bounds_lambda0===1/0||bounds_phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[bounds_lambda0,bounds_phi0],[bounds_lambda1,bounds_phi1]]},MapSeries_MapSeriesDataItem=function(_super){function MapSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapSeriesDataItem",_this.values.value={},_this.applyTheme(),_this}return Object(tslib_es6.d)(MapSeriesDataItem,_super),Object.defineProperty(MapSeriesDataItem.prototype,"value",{get:function(){return this.values.value.value},set:function(value){this.setValue("value",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"zoomLevel",{get:function(){return this.properties.zoomLevel},set:function(value){this.setProperty("zoomLevel",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"zoomGeoPoint",{get:function(){return this.properties.zoomGeoPoint},set:function(value){this.setProperty("zoomGeoPoint",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"east",{get:function(){return this._east},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"west",{get:function(){return this._west},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"south",{get:function(){return this._south},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeriesDataItem.prototype,"north",{get:function(){return this._north},enumerable:!0,configurable:!0}),MapSeriesDataItem.prototype.updateExtremes=function(){var geometry=this.getFeature().geometry;if(geometry){var bounds=src_bounds(geometry),west=bounds[0][0],south=bounds[0][1],north=bounds[1][1],east=bounds[1][0],changed=!1;north!=this.north&&(this._north=Math_round(north,6),changed=!0),south!=this.south&&(this._south=Math_round(south,6),changed=!0),east!=this.east&&(this._east=Math_round(east,6),changed=!0),west!=this.west&&(this._west=Math_round(west,6),changed=!0),this._east<this._west&&(this._east=180,this._west=-180),changed&&this.component.invalidateDataItems()}},MapSeriesDataItem.prototype.getFeature=function(){return{}},MapSeriesDataItem}(Series_SeriesDataItem),MapSeries_MapSeries=function(_super){function MapSeries(){var _this=_super.call(this)||this;return _this.className="MapSeries",_this.isMeasured=!1,_this.nonScalingStroke=!0,_this.dataFields.value="value",_this.ignoreBounds=!1,_this.tooltip&&(_this.tooltip.showInViewport=!0),_this.applyTheme(),_this}return Object(tslib_es6.d)(MapSeries,_super),MapSeries.prototype.createDataItem=function(){return new MapSeries_MapSeriesDataItem},MapSeries.prototype.checkInclude=function(includes,excludes,id){if(includes){if(0==includes.length)return!1;if(-1==includes.indexOf(id))return!1}return!(excludes&&excludes.length>0&&-1!=excludes.indexOf(id))},Object.defineProperty(MapSeries.prototype,"useGeodata",{get:function(){return this.getPropertyValue("useGeodata")},set:function(value){this.setPropertyValue("useGeodata",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"include",{get:function(){return this.getPropertyValue("include")},set:function(value){this.setPropertyValue("include",value)&&this.processIncExc()},enumerable:!0,configurable:!0}),MapSeries.prototype.processIncExc=function(){this.invalidateData()},Object.defineProperty(MapSeries.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(value){this.setPropertyValue("ignoreBounds",value)&&this.chart&&this.chart.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"exclude",{get:function(){return this.getPropertyValue("exclude")},set:function(value){this.setPropertyValue("exclude",value)&&this.processIncExc()},enumerable:!0,configurable:!0}),MapSeries.prototype.handleObjectAdded=function(event){var mapObject=event.newValue;mapObject.parent=this,mapObject.series=this,mapObject.strokeWidth=mapObject.strokeWidth},Object.defineProperty(MapSeries.prototype,"geodata",{get:function(){return this._geodata},set:function(geodata){if(geodata!=this._geodata){this._geodata=geodata;for(var i=this.data.length-1;i>=0;i--)1==this.data[i].madeFromGeoData&&this.data.splice(i,1);this.disposeData(),this.invalidateData()}},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"geodataSource",{get:function(){return this._dataSources.geodata||this.getDataSource("geodata"),this._dataSources.geodata},set:function(value){var _this=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=value,this._dataSources.geodata.component=this,this.events.on("inited",(function(){_this.loadData("geodata")}),void 0,!1),this.setDataSourceEvents(value,"geodata")},enumerable:!0,configurable:!0}),MapSeries.prototype.getFeatures=function(){},MapSeries.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.updateExtremes()},MapSeries.prototype.updateExtremes=function(){var north,south,east,west;this.dataItems.each((function(dataItem){(dataItem.north>north||!isNumber(north))&&(north=dataItem.north),(dataItem.south<south||!isNumber(south))&&(south=dataItem.south),(dataItem.west<west||!isNumber(west))&&(west=dataItem.west),(dataItem.east>east||!isNumber(east))&&(east=dataItem.east)})),this._mapObjects&&this._mapObjects.each((function(mapObject){(mapObject.north>north||!isNumber(north))&&(north=mapObject.north),(mapObject.south<south||!isNumber(south))&&(south=mapObject.south),(mapObject.west<west||!isNumber(west))&&(west=mapObject.west),(mapObject.east>east||!isNumber(east))&&(east=mapObject.east)})),this.north==north&&this.east==east&&this.south==south&&this.west==west||(this._north=north,this._east=east,this._west=west,this._south=south,this.dispatch("geoBoundsChanged"),this.ignoreBounds||this.chart.updateExtremes())},Object.defineProperty(MapSeries.prototype,"north",{get:function(){return isNumber(this._northDefined)?this._northDefined:this._north},set:function(value){this._northDefined=value},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"south",{get:function(){return isNumber(this._southDefined)?this._southDefined:this._south},set:function(value){this._southDefined=value},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"west",{get:function(){return isNumber(this._westDefined)?this._westDefined:this._west},set:function(value){this._westDefined=value},enumerable:!0,configurable:!0}),Object.defineProperty(MapSeries.prototype,"east",{get:function(){return isNumber(this._eastDefined)?this._eastDefined:this._east},set:function(value){this._eastDefined=value},enumerable:!0,configurable:!0}),MapSeries.prototype.processConfig=function(config){if(Type_hasValue(config.geodata)&&isString(config.geodata)){var name_1=config.geodata;if(Type_hasValue(window["am4geodata_"+config.geodata]))config.geodata=window["am4geodata_"+config.geodata];else try{config.geodata=JSON.parse(config.geodata)}catch(e){throw Error("MapChart error: Geodata `"+name_1+"` is not loaded or is incorrect.")}}_super.prototype.processConfig.call(this,config)},MapSeries.prototype.asIs=function(field){return"geodata"==field||_super.prototype.asIs.call(this,field)},MapSeries.prototype.updateTooltipBounds=function(){this.tooltip&&this.topParent&&this.tooltip.setBounds({x:10,y:10,width:this.topParent.maxWidth-20,height:this.topParent.maxHeight-20})},MapSeries}(Series_Series);Registry_registry.registeredClasses.MapSeries=MapSeries_MapSeries,Registry_registry.registeredClasses.MapSeriesDataItem=MapSeries_MapSeriesDataItem;var MapObject_MapObject=function(_super){function MapObject(){var _this=_super.call(this)||this;return _this.className="MapObject",_this.isMeasured=!1,_this.layout="none",_this.clickable=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(MapObject,_super),MapObject.prototype.validate=function(){this.series&&this.series.itemReaderText&&(this.readerTitle=this.series.itemReaderText),_super.prototype.validate.call(this)},MapObject.prototype.updateExtremes=function(){var feature=this.getFeature();if(feature){var geometry=feature.geometry;if(geometry){var bounds=src_bounds(geometry),west=bounds[0][0],south=bounds[0][1],north=bounds[1][1],east=bounds[1][0],changed=!1;north!=this.north&&(this._north=Math_round(north,8),changed=!0),south!=this.south&&(this._south=Math_round(south),changed=!0),east!=this.east&&(this._east=Math_round(east),changed=!0),west!=this.west&&(this._west=Math_round(west),changed=!0),changed&&(this.dispatch("geoBoundsChanged"),this.series&&this.series.invalidateDataItems())}}},MapObject.prototype.getFeature=function(){return{}},Object.defineProperty(MapObject.prototype,"east",{get:function(){return isNumber(this._east)?this._east:this.dataItem?this.dataItem.east:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(MapObject.prototype,"west",{get:function(){return isNumber(this._west)?this._west:this.dataItem?this.dataItem.west:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(MapObject.prototype,"south",{get:function(){return isNumber(this._south)?this._south:this.dataItem?this.dataItem.south:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(MapObject.prototype,"north",{get:function(){return isNumber(this._north)?this._north:this.dataItem?this.dataItem.north:void 0},enumerable:!0,configurable:!0}),MapObject.prototype.showTooltip=function(point){var res=_super.prototype.showTooltip.call(this,point);return res&&"always"==this.showTooltipOn&&!this.series.chart.events.has("mappositionchanged",this.handleTooltipMove,this)&&this.addDisposer(this.series.chart.events.on("mappositionchanged",this.handleTooltipMove,this)),res},MapObject.prototype.handleTooltipMove=function(ev){this.tooltip.isHidden||this.showTooltip()},MapObject}(Container_Container);Registry_registry.registeredClasses.MapObject=MapObject_MapObject;var MapImage_MapImage=function(_super){function MapImage(){var _this=_super.call(this)||this;return _this.className="MapImage",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapImage,_super),Object.defineProperty(MapImage.prototype,"latitude",{get:function(){var latitude=this.getPropertyValue("latitude");return!isNumber(latitude)&&this.dataItem&&this.dataItem.geoPoint&&(latitude=this.dataItem.geoPoint.latitude),latitude},set:function(value){this.setPropertyValue("latitude",value,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapImage.prototype,"longitude",{get:function(){var longitude=this.getPropertyValue("longitude");return!isNumber(longitude)&&this.dataItem&&this.dataItem.geoPoint&&(longitude=this.dataItem.geoPoint.longitude),longitude},set:function(value){this.setPropertyValue("longitude",value,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),MapImage.prototype.validatePosition=function(){if(isNumber(this.latitude)&&isNumber(this.longitude)){var p=this.series.chart.projection.d3Projection([this.longitude,this.latitude]),visible=this.series.chart.projection.d3Path({type:"Point",coordinates:[this.longitude,this.latitude]});this.__disabled=!visible,this.moveTo({x:p[0],y:p[1]})}_super.prototype.validatePosition.call(this)},MapImage.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:[this.longitude,this.latitude]}}},MapImage}(MapObject_MapObject);Registry_registry.registeredClasses.MapImage=MapImage_MapImage;var polylabel=__webpack_require__("lcx6"),polylabel_default=__webpack_require__.n(polylabel),compose=function(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose};function rotationIdentity(lambda,phi){return[abs(lambda)>pi?lambda+Math.round(-lambda/math_tau)*math_tau:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=math_tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>pi?lambda-math_tau:lambda<-pi?lambda+math_tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=math_cos(deltaPhi),sinDeltaPhi=math_sin(deltaPhi),cosDeltaGamma=math_cos(deltaGamma),sinDeltaGamma=math_sin(deltaGamma);function rotation(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}rotationIdentity.invert=rotationIdentity;function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=math_cos(radius),sinRadius=math_sin(radius),step=direction*delta;null==t0?(t0=radius+direction*math_tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*math_tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=cartesian_spherical([cosRadius,-sinRadius*math_cos(t),-sinRadius*math_sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian_cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var x,radius=(x=-point[1])>1?0:x<-1?pi:Math.acos(x);return((-point[2]<0?-radius:radius)+math_tau-1e-6)%math_tau}function multiLineToGeo(multiLine){return Array_map(multiLine,(function(multiLine){return multiPointToGeo(multiLine)}))}function multiPointToGeo(points){return Array_map(points,(function(point){return pointToGeo(point)}))}function multiGeoToPoint(geoPoints){return Array_map(geoPoints,geoToPoint)}function pointToGeo(point){return{longitude:point[0],latitude:point[1]}}function geoToPoint(geoPoint){return[geoPoint.longitude,geoPoint.latitude]}function multiGeoLineToMultiLine(multiGeoLine){return Array_map(multiGeoLine,(function(segment){return Array_map(segment,geoToPoint)}))}function multiGeoPolygonToMultipolygon(multiGeoPolygon){return Array_map(multiGeoPolygon,(function(geoPolygon){var surface=geoPolygon[0],hole=geoPolygon[1],multiPolygon=[];return surface&&multiPolygon.push(multiGeoToPoint(surface)),hole&&multiPolygon.push(multiGeoToPoint(hole)),multiPolygon}))}var MapPolygon_MapPolygon=function(_super){function MapPolygon(){var _this=_super.call(this)||this;_this.className="MapPolygon",_this.polygon=_this.createChild(Polygon_Polygon),_this.polygon.shouldClone=!1,_this.polygon.applyOnClones=!0,_this.setPropertyValue("precision",.5);var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.fill=interfaceColors.getFor("secondaryButton"),_this.stroke=interfaceColors.getFor("secondaryButtonStroke"),_this.strokeOpacity=1,_this.tooltipPosition="pointer",_this.nonScalingStroke=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(MapPolygon,_super),MapPolygon.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(MapPolygon.prototype,"multiGeoPolygon",{get:function(){var multiGeoPolygon=this.getPropertyValue("multiGeoPolygon");return!multiGeoPolygon&&this.dataItem&&(multiGeoPolygon=this.dataItem.multiGeoPolygon),multiGeoPolygon},set:function(multiGeoPolygon){this.setPropertyValue("multiGeoPolygon",multiGeoPolygon,!0),this.multiPolygon=multiGeoPolygonToMultipolygon(multiGeoPolygon)},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"multiPolygon",{get:function(){var multiPolygon=this.getPropertyValue("multiPolygon");return!multiPolygon&&this.dataItem&&(multiPolygon=this.dataItem.multiPolygon),multiPolygon},set:function(multiPolygon){this.setPropertyValue("multiPolygon",multiPolygon)&&(this.updateExtremes(),this.invalidate())},enumerable:!0,configurable:!0}),MapPolygon.prototype.validate=function(){if(this.series){var projection=this.series.chart.projection,pathGenerator=projection.d3Path;if(this.multiPolygon){if(this.series){var feature={type:"MultiPolygon",coordinates:this.multiPolygon};projection.d3Projection.precision(this.precision),this.polygon.path=pathGenerator(feature)}if(this.series.calculateVisualCenter){var biggestArea=0,biggestPolygon=this.multiPolygon[0];if(this.multiPolygon.length>1)for(var i=0;i<this.multiPolygon.length;i++){var polygon=this.multiPolygon[i],area=(object={type:"Polygon",coordinates:polygon},areaSum.reset(),src_stream(object,areaStream),2*areaSum);area>biggestArea&&(biggestPolygon=polygon,biggestArea=area)}var center=polylabel_default()(biggestPolygon);this._visualLongitude=center[0],this._visualLatitude=center[1]}else this._visualLongitude=this.longitude,this._visualLatitude=this.latitude}}var object;_super.prototype.validate.call(this)},MapPolygon.prototype.measureElement=function(){},Object.defineProperty(MapPolygon.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"visualLatitude",{get:function(){var latitude=this.getPropertyValue("visualLatitude");return isNumber(latitude)?latitude:this._adapterO?this._adapterO.apply("visualLatitude",this._visualLatitude):this._visualLatitude},set:function(value){this.setPropertyValue("visualLatitude",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"visualLongitude",{get:function(){var longitude=this.getPropertyValue("visualLongitude");return isNumber(longitude)?longitude:this._adapterO?this._adapterO.apply("visualLongitude",this._visualLongitude):this._visualLongitude},set:function(value){this.setPropertyValue("visualLongitude",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"pixelWidth",{get:function(){return this.polygon.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygon.prototype,"pixelHeight",{get:function(){return this.polygon.pixelHeight},enumerable:!0,configurable:!0}),MapPolygon.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.polygon.copyFrom(source.polygon)},MapPolygon.prototype.updateExtremes=function(){_super.prototype.updateExtremes.call(this)},Object.defineProperty(MapPolygon.prototype,"boxArea",{get:function(){return(this.north-this.south)*(this.east-this.west)},enumerable:!0,configurable:!0}),MapPolygon.prototype.getTooltipX=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).x},MapPolygon.prototype.getTooltipY=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).y},Object.defineProperty(MapPolygon.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(value){this.setPropertyValue("precision",value,!0)},enumerable:!0,configurable:!0}),MapPolygon}(MapObject_MapObject);Registry_registry.registeredClasses.MapPolygon=MapPolygon_MapPolygon;var MapPolygonSeries_MapPolygonSeriesDataItem=function(_super){function MapPolygonSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapPolygonSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapPolygonSeriesDataItem,_super),MapPolygonSeriesDataItem.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(MapPolygonSeriesDataItem.prototype,"mapPolygon",{get:function(){var _this=this;if(!this._mapPolygon){var mapPolygon_1=this.component.mapPolygons.create();this._mapPolygon=mapPolygon_1,this.addSprite(mapPolygon_1),this._disposers.push(new Disposer((function(){_this.component&&_this.component.mapPolygons.removeValue(mapPolygon_1)}))),this.mapObject=mapPolygon_1}return this._mapPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygonSeriesDataItem.prototype,"polygon",{get:function(){return this._polygon},set:function(polygon){this._polygon=polygon,this.multiPolygon=[polygon]},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygonSeriesDataItem.prototype,"multiPolygon",{get:function(){return this._multiPolygon},set:function(multiPolygon){this._multiPolygon=multiPolygon,this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygonSeriesDataItem.prototype,"geoPolygon",{get:function(){return this._geoPolygon},set:function(geoPolygon){this._geoPolygon=geoPolygon,this.multiGeoPolygon=[geoPolygon]},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygonSeriesDataItem.prototype,"multiGeoPolygon",{get:function(){return this._multiGeoPolygon},set:function(multiGeoPolygon){this._multiGeoPolygon=multiGeoPolygon,this.multiPolygon=multiGeoPolygonToMultipolygon(multiGeoPolygon)},enumerable:!0,configurable:!0}),MapPolygonSeriesDataItem}(MapSeries_MapSeriesDataItem),MapPolygonSeries_MapPolygonSeries=function(_super){function MapPolygonSeries(){var _this=_super.call(this)||this;return _this.calculateVisualCenter=!1,_this.className="MapPolygonSeries",_this.dataFields.multiPolygon="multiPolygon",_this.dataFields.polygon="polygon",_this.dataFields.geoPolygon="geoPolygon",_this.dataFields.multiGeoPolygon="multiGeoPolygon",_this.setPropertyValue("sortPolygonsBy","area"),_this.setPropertyValue("sortPolygonsReversed",!1),_this.applyTheme(),_this}return Object(tslib_es6.d)(MapPolygonSeries,_super),MapPolygonSeries.prototype.createDataItem=function(){return new MapPolygonSeries_MapPolygonSeriesDataItem},MapPolygonSeries.prototype.processIncExc=function(){this.mapPolygons.clear(),_super.prototype.processIncExc.call(this)},MapPolygonSeries.prototype.validateData=function(){if(this.useGeodata||this.geodata){var geoJSON=this._dataSources.geodata?void 0:this.chart.geodata;if(this.geodata&&(geoJSON=this.geodata),geoJSON){var features=void 0;if("FeatureCollection"==geoJSON.type?features=geoJSON.features:"Feature"==geoJSON.type?features=[geoJSON]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(geoJSON.type)?features=[{geometry:geoJSON}]:console.log("nothing found in geoJSON"),features)for(var _loop_1=function(i,len){var feature=features[i],geometry=feature.geometry;if(geometry){var type=geometry.type,id_1=feature.id;if(this_1.chart.geodataNames&&this_1.chart.geodataNames[id_1]&&(feature.properties.name=this_1.chart.geodataNames[id_1]),"Polygon"==type||"MultiPolygon"==type){if(!this_1.checkInclude(this_1.include,this_1.exclude,id_1))return"continue";var coordinates=geometry.coordinates;coordinates&&"Polygon"==type&&(coordinates=[coordinates]);var dataObject=find(this_1.data,(function(value,i){return value.id==id_1}));dataObject?dataObject.multiPolygon||(dataObject.multiPolygon=coordinates):(dataObject={multiPolygon:coordinates,id:id_1,madeFromGeoData:!0},this_1.data.push(dataObject)),Utils_softCopyProperties(feature.properties,dataObject)}}},this_1=this,i=0,len=features.length;i<len;i++)_loop_1(i)}}_super.prototype.validateData.call(this)},MapPolygonSeries.prototype.validate=function(){if(_super.prototype.validate.call(this),this.dataItems.each((function(dataItem){dataItem.mapPolygon})),"none"!=this.sortPolygonsBy){var sortBy_1=this.sortPolygonsBy,reversed_1=this.sortPolygonsReversed;this.mapPolygons.sort((function(a,b){var valA="",valB="",dirA=-1,dirB=1;switch(sortBy_1){case"area":valA=a.boxArea,valB=b.boxArea,dirA=-1,dirB=1;break;case"name":valA=a.dataItem.dataContext.name||"",valB=b.dataItem.dataContext.name||"",dirA=1,dirB=-1;break;case"id":valA=a.dataItem.dataContext.id||"",valB=b.dataItem.dataContext.id||"",dirA=1,dirB=-1;break;case"latitude":valA=reversed_1?a.south:a.north,valB=reversed_1?b.south:b.north,dirA=-1,dirB=1;break;case"longitude":valA=reversed_1?a.east:a.west,valB=reversed_1?b.east:b.west,dirA=1,dirB=-1}return valA<valB?reversed_1?dirB:dirA:valA>valB?reversed_1?dirA:dirB:0})),this.mapPolygons.each((function(mapPolygon,index){mapPolygon.validate(),mapPolygon.zIndex||mapPolygon.propertyFields.zIndex||(mapPolygon.zIndex=1e6-index)}))}},Object.defineProperty(MapPolygonSeries.prototype,"mapPolygons",{get:function(){if(!this._mapPolygons){var polygonTemplate=new MapPolygon_MapPolygon,mapPolygons=new List_ListTemplate(polygonTemplate);this._disposers.push(new List_ListDisposer(mapPolygons)),this._disposers.push(mapPolygons.template),mapPolygons.template.focusable=!0,mapPolygons.events.on("inserted",this.handleObjectAdded,this,!1),this._mapPolygons=mapPolygons,this._mapObjects=mapPolygons}return this._mapPolygons},enumerable:!0,configurable:!0}),MapPolygonSeries.prototype.getPolygonById=function(id){return Iterator_find(this.mapPolygons.iterator(),(function(mapPolygon){return mapPolygon.dataItem.dataContext.id==id}))},MapPolygonSeries.prototype.copyFrom=function(source){this.mapPolygons.template.copyFrom(source.mapPolygons.template),_super.prototype.copyFrom.call(this,source)},MapPolygonSeries.prototype.getFeatures=function(){var _this=this,features=[];return this.dataItems.each((function(dataItem){var feature=dataItem.getFeature();feature&&features.push(feature)})),this.mapPolygons.each((function(mapPolygon){if(-1==_this.dataItems.indexOf(mapPolygon._dataItem)){var feature=mapPolygon.getFeature();feature&&features.push(feature)}})),features},Object.defineProperty(MapPolygonSeries.prototype,"sortPolygonsBy",{get:function(){return this.getPropertyValue("sortPolygonsBy")},set:function(value){this.setPropertyValue("sortPolygonsBy",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(MapPolygonSeries.prototype,"sortPolygonsReversed",{get:function(){return this.getPropertyValue("sortPolygonsReversed")},set:function(value){this.setPropertyValue("sortPolygonsReversed",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),MapPolygonSeries}(MapSeries_MapSeries);Registry_registry.registeredClasses.MapPolygonSeries=MapPolygonSeries_MapPolygonSeries,Registry_registry.registeredClasses.MapPolygonSeriesDataItem=MapPolygonSeries_MapPolygonSeriesDataItem;var buffer=function(){var line,lines=[];return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line=[])},lineEnd:noop_noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}},pointEqual=function(a,b){return abs(a[0]-b[0])<1e-6&&abs(a[1]-b[1])<1e-6};function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}var rejoin=function(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach((function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){if(!p0[2]&&!p1[2]){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);return void stream.lineEnd()}p1[0]+=2e-6}subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}})),subject.length){for(clip.sort(compareIntersection),rejoin_link(subject),rejoin_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}};function rejoin_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}var polygonContains_sum=adder();function polygonContains_longitude(point){return abs(point[0])<=pi?point[0]:math_sign(point[0])*((abs(point[0])+pi)%math_tau-pi)}var ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};var compare,f,ascendingBisect=(1===(compare=ascending).length&&(f=compare,compare=function(d,x){return ascending(f(d),x)}),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}});ascendingBisect.right,ascendingBisect.left;var array_array=Array.prototype,src_range=(array_array.slice,array_array.map,function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var src_merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged};var src_clip=function(pointVisible,clipLine,interpolate,start){return function(sink){var polygon,segments,ring,line=clipLine(sink),ringBuffer=buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=src_merge(segments);var startInside=function(polygon,point){var lambda=polygonContains_longitude(point),phi=point[1],sinPhi=math_sin(phi),normal=[math_sin(lambda),-math_cos(lambda),0],angle=0,winding=0;polygonContains_sum.reset(),1===sinPhi?phi=halfPi+1e-6:-1===sinPhi&&(phi=-halfPi-1e-6);for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=polygonContains_longitude(point0),phi0=point0[1]/2+quarterPi,sinPhi0=math_sin(phi0),cosPhi0=math_cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=polygonContains_longitude(point1),phi1=point1[1]/2+quarterPi,sinPhi1=math_sin(phi1),cosPhi1=math_cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>pi,k=sinPhi0*sinPhi1;if(polygonContains_sum.add(atan2(k*sign*math_sin(absDelta),cosPhi0*cosPhi1+k*math_cos(absDelta))),angle+=antimeridian?delta+sign*math_tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian_cartesian(point0),cartesian_cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-1e-6||angle<1e-6&&polygonContains_sum<-1e-6)^1&winding}(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),rejoin(segments,clip_compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){pointVisible(lambda,phi)&&sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]),ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}};function validSegment(segment){return segment.length>1}function clip_compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-halfPi-1e-6:halfPi-a[1])-((b=b.x)[0]<0?b[1]-halfPi-1e-6:halfPi-b[1])}var clip_antimeridian=src_clip((function(){return!0}),(function(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?pi:-pi,delta=abs(lambda1-lambda0);abs(delta-pi)<1e-6?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?halfPi:-halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=pi&&(abs(lambda0-sign0)<1e-6&&(lambda0-=1e-6*sign0),abs(lambda1-sign1)<1e-6&&(lambda1-=1e-6*sign1),phi0=function(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=math_sin(lambda0-lambda1);return abs(sinLambda0Lambda1)>1e-6?atan((math_sin(phi0)*(cosPhi1=math_cos(phi1))*math_sin(lambda1)-math_sin(phi1)*(cosPhi0=math_cos(phi0))*math_sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}}),(function(from,to,direction,stream){var phi;if(null==from)phi=direction*halfPi,stream.point(-pi,phi),stream.point(0,phi),stream.point(pi,phi),stream.point(pi,0),stream.point(pi,-phi),stream.point(0,-phi),stream.point(-pi,-phi),stream.point(-pi,0),stream.point(-pi,phi);else if(abs(from[0]-to[0])>1e-6){var lambda=from[0]<to[0]?pi:-pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])}),[-pi,-halfPi]);var clip_circle=function(radius){var cr=math_cos(radius),delta=6*radians,smallRadius=cr>0,notHemisphere=abs(cr)>1e-6;function visible(lambda,phi){return math_cos(lambda)*math_cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian_cartesian(a),cartesian_cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=cartesian_spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=abs(delta-pi)<1e-6;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<1e-6?polar?phi0+phi1>0^q[1]<(abs(q[0]-lambda0)<1e-6?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,cartesian_spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return src_clip(visible,(function(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?pi:-pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[2]=1),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1],2),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1],3)))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}),(function(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}),smallRadius?[0,-radius]:[-pi,radius-pi])};function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return abs(p[0]-x0)<1e-6?direction>0?0:3:abs(p[0]-x1)<1e-6?direction>0?2:1:abs(p[1]-y0)<1e-6?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=buffer(),clipStream={point:point,lineStart:function(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function(){var startInside=function(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,point=ring[j],b0=point[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=src_merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&rejoin(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(-1e9,Math.min(1e9,x_)),y_=Math.max(-1e9,Math.min(1e9,y_))],b=[x=Math.max(-1e9,Math.min(1e9,x)),y=Math.max(-1e9,Math.min(1e9,y))];!function(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}(a,b,x0,y0,x1,y1)?v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1):(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}var d3_geo_src_identity=function(x){return x};function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bounds_x0=1/0,bounds_y0=bounds_x0,bounds_x1=-bounds_x0,bounds_y1=bounds_x1;var path_bounds={point:function(x,y){x<bounds_x0&&(bounds_x0=x);x>bounds_x1&&(bounds_x1=x);y<bounds_y0&&(bounds_y0=y);y>bounds_y1&&(bounds_y1=y)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[bounds_x1,bounds_y1]];return bounds_x1=bounds_y1=-(bounds_y0=bounds_x0=1/0),bounds}};function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();return projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),src_stream(object,projection.stream(path_bounds)),fitBounds(path_bounds.result()),null!=clip&&projection.clipExtent(clip),projection}function fitExtent(projection,extent,object){return fit(projection,(function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit(projection,(function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])}),object)}function fitHeight(projection,height,object){return fit(projection,(function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}var cosMinDistance=math_cos(30*radians),resample=function(project,delta2){return+delta2?function(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt(a*a+b*b+c*c),phi2=asin(c/=m),lambda2=abs(abs(c)-1)<1e-6||abs(lambda0-lambda1)<1e-6?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian_cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],16,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,16,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function(project){return transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)};var transformRadians=transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){return[dx+k*(x*=sx),dy-k*(y*=sy)]}return transform.invert=function(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]},transform}function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){var cosAlpha=math_cos(alpha),sinAlpha=math_sin(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){return[a*(x*=sx)-b*(y*=sy)+dx,dy-b*x-a*y]}return transform.invert=function(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]},transform}function projection_projection(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,rotate,y0,x1,y1,projectResample,projectTransform,projectRotateTransform,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,alpha=0,sx=1,sy=1,theta=null,preclip=clip_antimeridian,x0=null,postclip=d3_geo_src_identity,delta2=.5;function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){return(point=projectRotateTransform.invert(point[0],point[1]))&&[point[0]*math_degrees,point[1]*math_degrees]}function recenter(){var center=scaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,project(lambda,phi)),transform=(alpha?scaleTranslateRotate:scaleTranslate)(k,x-center[0],y-center[1],sx,sy,alpha);return rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma),projectTransform=compose(project,transform),projectRotateTransform=compose(rotate,projectTransform),projectResample=resample(projectTransform,delta2),reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(function(rotate){return transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))},projection.preclip=function(_){return arguments.length?(preclip=_,theta=void 0,reset()):preclip},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipAngle=function(_){return arguments.length?(preclip=+_?clip_circle(theta=_*radians):(theta=null,clip_antimeridian),reset()):theta*math_degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*math_degrees,phi*math_degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*math_degrees,deltaPhi*math_degrees,deltaGamma*math_degrees]},projection.angle=function(_){return arguments.length?(alpha=_%360*radians,recenter()):alpha*math_degrees},projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,recenter()):sx<0},projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,recenter()):sy<0},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt(delta2)},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}function equirectangularRaw(lambda,phi){return[lambda,phi]}equirectangularRaw.invert=equirectangularRaw;var area_x00,area_y00,area_x0,area_y0,area_areaSum=adder(),area_areaRingSum=adder(),area_areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){area_areaStream.lineStart=area_areaRingStart,area_areaStream.lineEnd=area_areaRingEnd},polygonEnd:function(){area_areaStream.lineStart=area_areaStream.lineEnd=area_areaStream.point=noop_noop,area_areaSum.add(abs(area_areaRingSum)),area_areaRingSum.reset()},result:function(){var area=area_areaSum/2;return area_areaSum.reset(),area}};function area_areaRingStart(){area_areaStream.point=area_areaPointFirst}function area_areaPointFirst(x,y){area_areaStream.point=area_areaPoint,area_x00=area_x0=x,area_y00=area_y0=y}function area_areaPoint(x,y){area_areaRingSum.add(area_y0*x-area_x0*y),area_x0=x,area_y0=y}function area_areaRingEnd(){area_areaPoint(area_x00,area_y00)}var centroid_x00,centroid_y00,centroid_x0,centroid_y0,path_area=area_areaStream,centroid_X0=0,centroid_Y0=0,Z0=0,centroid_X1=0,centroid_Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var centroid=Z2?[X2/Z2,Y2/Z2]:Z1?[centroid_X1/Z1,centroid_Y1/Z1]:Z0?[centroid_X0/Z0,centroid_Y0/Z0]:[NaN,NaN];return centroid_X0=centroid_Y0=Z0=centroid_X1=centroid_Y1=Z1=X2=Y2=Z2=0,centroid}};function centroidPoint(x,y){centroid_X0+=x,centroid_Y0+=y,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroidStream.point=centroidPointLine,centroidPoint(centroid_x0=x,centroid_y0=y)}function centroidPointLine(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,Z1+=z,centroidPoint(centroid_x0=x,centroid_y0=y)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(centroid_x00,centroid_y00)}function centroidPointFirstRing(x,y){centroidStream.point=centroidPointRing,centroidPoint(centroid_x00=centroid_x0=x,centroid_y00=centroid_y0=y)}function centroidPointRing(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,Z1+=z,X2+=(z=centroid_y0*x-centroid_x0*y)*(centroid_x0+x),Y2+=z*(centroid_y0+y),Z2+=3*z,centroidPoint(centroid_x0=x,centroid_y0=y)}var centroid=centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,math_tau)}},result:noop_noop};var lengthRing,measure_x00,measure_y00,measure_x0,measure_y0,lengthSum=adder(),lengthStream={point:noop_noop,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(measure_x00,measure_y00),lengthStream.point=noop_noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+lengthSum;return lengthSum.reset(),length}};function lengthPointFirst(x,y){lengthStream.point=lengthPoint,measure_x00=measure_x0=x,measure_y00=measure_y0=y}function lengthPoint(x,y){measure_x0-=x,measure_y0-=y,lengthSum.add(sqrt(measure_x0*measure_x0+measure_y0*measure_y0)),measure_x0=x,measure_y0=y}var measure=lengthStream;function PathString(){this._string=[]}function string_circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(_){return(_=+_)!==this._radius&&(this._radius=_,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._string.push("M",x,",",y),this._point=1;break;case 1:this._string.push("L",x,",",y);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",x,",",y,this._circle)}},result:function(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}};var length_lambda0,length_sinPhi0,length_cosPhi0,length_lengthSum=adder(),length_lengthStream={sphere:noop_noop,point:noop_noop,lineStart:function(){length_lengthStream.point=length_lengthPointFirst,length_lengthStream.lineEnd=lengthLineEnd},lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop};function lengthLineEnd(){length_lengthStream.point=length_lengthStream.lineEnd=noop_noop}function length_lengthPointFirst(lambda,phi){length_lambda0=lambda*=radians,length_sinPhi0=math_sin(phi*=radians),length_cosPhi0=math_cos(phi),length_lengthStream.point=length_lengthPoint}function length_lengthPoint(lambda,phi){lambda*=radians;var sinPhi=math_sin(phi*=radians),cosPhi=math_cos(phi),delta=abs(lambda-length_lambda0),cosDelta=math_cos(delta),x=cosPhi*math_sin(delta),y=length_cosPhi0*sinPhi-length_sinPhi0*cosPhi*cosDelta,z=length_sinPhi0*sinPhi+length_cosPhi0*cosPhi*cosDelta;length_lengthSum.add(atan2(sqrt(x*x+y*y),z)),length_lambda0=lambda,length_sinPhi0=sinPhi,length_cosPhi0=cosPhi}var distance_coordinates=[null,null],distance_object={type:"LineString",coordinates:distance_coordinates},src_distance=function(a,b){return distance_coordinates[0]=a,distance_coordinates[1]=b,object=distance_object,length_lengthSum.reset(),src_stream(object,length_lengthStream),+length_lengthSum;var object},Projection_Projection=function(){function Projection(){this.d3Projection=projection_projection(equirectangularRaw).scale(152.63)}return Object.defineProperty(Projection.prototype,"d3Projection",{get:function(){return this._d3Projection},set:function(projection){this._d3Projection=projection,projection.precision(.1),this._d3Path=function(projection,context){var projectionStream,contextStream,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),src_stream(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return src_stream(object,projectionStream(path_area)),path_area.result()},path.measure=function(object){return src_stream(object,projectionStream(measure)),measure.result()},path.bounds=function(object){return src_stream(object,projectionStream(path_bounds)),path_bounds.result()},path.centroid=function(object){return src_stream(object,projectionStream(centroid)),centroid.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,d3_geo_src_identity):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new PathString):new PathContext(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(projection).context(context)}().projection(projection),this.chart&&this.chart.invalidateProjection()},enumerable:!0,configurable:!0}),Object.defineProperty(Projection.prototype,"d3Path",{get:function(){return this._d3Path},enumerable:!0,configurable:!0}),Object.defineProperty(Projection.prototype,"scale",{get:function(){return this.d3Projection.scale()/100},enumerable:!0,configurable:!0}),Projection.prototype.convert=function(geoPoint){var p=this.d3Projection([geoPoint.longitude,geoPoint.latitude]);if(p)return{x:p[0],y:p[1]}},Projection.prototype.invert=function(point){var p=this.d3Projection.invert([point.x,point.y]);if(p)return{longitude:p[0],latitude:p[1]}},Projection.prototype.project=function(lambda,phi){return this.convert({longitude:lambda*DEGREES,latitude:phi*DEGREES})},Projection.prototype.unproject=function(x,y){return this.invert({x:x,y:y})},Projection.prototype.rotate=function(geoPoint,deltaLongitude,deltaLatitude,deltaGamma){var deltaLambda=deltaLongitude*RADIANS,deltaPhi=deltaLatitude*RADIANS;deltaGamma*=RADIANS;var lambda=geoPoint.longitude*RADIANS+deltaLambda,phi=geoPoint.latitude*RADIANS,cosDeltaPhi=Math.cos(deltaPhi),sinDeltaPhi=Math.sin(deltaPhi),cosDeltaGamma=Math.cos(deltaGamma),sinDeltaGamma=Math.sin(deltaGamma),cosPhi=Math.cos(phi),x=Math.cos(lambda)*cosPhi,y=Math.sin(lambda)*cosPhi,z=Math.sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return{longitude:DEGREES*Math.atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),latitude:DEGREES*Math.asin(k*cosDeltaGamma+y*sinDeltaGamma)}},Projection.prototype.unrotate=function(geoPoint,deltaLongitude,deltaLatitude,deltaGamma){var deltaLambda=deltaLongitude*RADIANS,deltaPhi=deltaLatitude*RADIANS;deltaGamma*=RADIANS;var lambda=geoPoint.longitude*RADIANS-deltaLambda,phi=geoPoint.latitude*RADIANS,cosDeltaPhi=Math.cos(deltaPhi),sinDeltaPhi=Math.sin(deltaPhi),cosDeltaGamma=Math.cos(deltaGamma),sinDeltaGamma=Math.sin(deltaGamma),cosPhi=Math.cos(phi),x=Math.cos(lambda)*cosPhi,y=Math.sin(lambda)*cosPhi,z=Math.sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return{longitude:DEGREES*Math.atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),latitude:DEGREES*Math.asin(k*cosDeltaPhi-x*sinDeltaPhi)}},Projection.prototype.intermediatePoint=function(pointA,pointB,position){var a,b,x0,y0,x1,y1,cy0,sy0,cy1,sy1,kx0,ky0,kx1,ky1,d,k,interpolate,p=(a=[pointA.longitude,pointA.latitude],b=[pointB.longitude,pointB.latitude],x0=a[0]*radians,y0=a[1]*radians,x1=b[0]*radians,y1=b[1]*radians,cy0=math_cos(y0),sy0=math_sin(y0),cy1=math_cos(y1),sy1=math_sin(y1),kx0=cy0*math_cos(x0),ky0=cy0*math_sin(x0),kx1=cy1*math_cos(x1),ky1=cy1*math_sin(x1),d=2*asin(sqrt(haversin(y1-y0)+cy0*cy1*haversin(x1-x0))),k=math_sin(d),(interpolate=d?function(t){var B=math_sin(t*=d)/k,A=math_sin(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[atan2(y,x)*math_degrees,atan2(z,sqrt(x*x+y*y))*math_degrees]}:function(){return[x0*math_degrees,y0*math_degrees]}).distance=d,interpolate)(position);return{longitude:p[0],latitude:p[1]}},Projection.prototype.multiDistance=function(multiGeoLine){for(var distance=0,s=0;s<multiGeoLine.length;s++){var points=multiGeoLine[s];if(points.length>1)for(var p=1;p<points.length;p++){var pointA=points[p-1],pointB=points[p];distance+=this.distance(pointA,pointB)}}return distance},Projection.prototype.distance=function(pointA,pointB){return src_distance([pointA.longitude,pointA.latitude],[pointB.longitude,pointB.latitude])},Projection.prototype.positionToPoint=function(multiGeoLine,position){if(multiGeoLine){var intermediatePoint=this.positionToGeoPoint(multiGeoLine,position),intermediatePointA=this.positionToGeoPoint(multiGeoLine,position-.01),intermediatePointB=this.positionToGeoPoint(multiGeoLine,position+.01);if(intermediatePointA&&intermediatePointB){var point=this.convert(intermediatePoint),pa=this.convert(intermediatePointA),pb=this.convert(intermediatePointB);return{x:point.x,y:point.y,angle:getAngle(pa,pb)}}}return{x:0,y:0,angle:0}},Projection.prototype.positionToGeoPoint=function(multiGeoLine,position){if(multiGeoLine){for(var totalDistance=this.multiDistance(multiGeoLine),currentDistance=0,positionA=0,positionB=0,pointA=void 0,pointB=void 0,s=0;s<multiGeoLine.length;s++){var points=multiGeoLine[s];if(points.length>1){for(var p=1;p<points.length;p++)if(pointA=points[p-1],pointB=points[p],positionA=currentDistance/totalDistance,positionB=(currentDistance+=this.distance(pointA,pointB))/totalDistance,positionA<=position&&positionB>position){s=multiGeoLine.length;break}}else 1==points.length&&(pointA=points[0],pointB=points[0],positionA=0,positionB=1)}if(pointA&&pointB){var positionAB=(position-positionA)/(positionB-positionA);return this.intermediatePoint(pointA,pointB,positionAB)}}return{longitude:0,latitude:0}},Projection}();Registry_registry.registeredClasses.Projection=Projection_Projection;var SmallMap_SmallMap=function(_super){function SmallMap(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className="SmallMap",_this.align="left",_this.valign="bottom",_this.percentHeight=20,_this.percentWidth=20,_this.margin(5,5,5,5);var interfaceColors=new InterfaceColorSet_InterfaceColorSet;_this.background.fillOpacity=.9,_this.background.fill=interfaceColors.getFor("background"),_this.events.on("hit",_this.moveToPosition,_this,!1),_this.events.on("maxsizechanged",_this.updateMapSize,_this,!1),_this.seriesContainer=_this.createChild(Container_Container),_this.seriesContainer.shouldClone=!1;var rectangle=_this.createChild(Rectangle_Rectangle);return rectangle.shouldClone=!1,rectangle.stroke=interfaceColors.getFor("alternativeBackground"),rectangle.strokeWidth=1,rectangle.strokeOpacity=.5,rectangle.fill=Color_color(),rectangle.verticalCenter="middle",rectangle.horizontalCenter="middle",rectangle.isMeasured=!1,rectangle.visible=!1,_this.rectangle=rectangle,_this._disposers.push(_this._chart),_this.applyTheme(),_this}return Object(tslib_es6.d)(SmallMap,_super),Object.defineProperty(SmallMap.prototype,"series",{get:function(){return this._series||(this._series=new List_List,this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1)),this._series},enumerable:!0,configurable:!0}),SmallMap.prototype.handleSeriesAdded=function(event){var series=event.newValue;if(this.chart.series.contains(series)){var newSeries=series.clone();this._series.removeValue(series),this._series.push(newSeries),series=newSeries,this.chart.dataUsers.push(newSeries)}series.chart=this.chart,series.parent=this.seriesContainer,series.interactionsEnabled=!1,series.events.on("inited",this.updateMapSize,this,!1),series.hidden=!1},SmallMap.prototype.handleSeriesRemoved=function(event){this.invalidate()},SmallMap.prototype.moveToPosition=function(event){var rectPoint=spritePointToSprite(event.spritePoint,this,this.seriesContainer),geoPoint=this.chart.seriesPointToGeo(rectPoint);this.chart.zoomToGeoPoint(geoPoint,this.chart.zoomLevel,!0)},Object.defineProperty(SmallMap.prototype,"chart",{get:function(){return this._chart.get()},set:function(chart){this.chart!=chart&&this._chart.set(chart,new Disposer_MultiDisposer([chart.events.on("mappositionchanged",this.updateRectangle,this,!1),chart.events.on("scaleratiochanged",this.updateMapSize,this,!1)]))},enumerable:!0,configurable:!0}),SmallMap.prototype.updateRectangle=function(){var chart=this.chart,zoomLevel=chart.zoomLevel,rectangle=this.rectangle;rectangle.width=this.pixelWidth/zoomLevel,rectangle.height=this.pixelHeight/zoomLevel;var scale=Math.min(this.percentWidth,this.percentHeight)/100,seriesContainer=chart.seriesContainer;rectangle.x=Math.ceil(-seriesContainer.pixelX*scale/zoomLevel)+this.seriesContainer.pixelX,rectangle.y=Math.ceil(-seriesContainer.pixelY*scale/zoomLevel)+this.seriesContainer.pixelY,rectangle.validate()},SmallMap.prototype.updateMapSize=function(){if(this.chart){var scale=this.chart.scaleRatio*Math.min(this.percentWidth,this.percentHeight)/100;this.seriesContainer.scale=scale;var bbox={width:0,height:0,x:0,y:0};try{bbox=this.seriesContainer.group.node.getBBox()}catch(err){}bbox.width>0&&(this.rectangle.visible=!0),this.seriesContainer.x=this.pixelWidth/2-bbox.x*scale-bbox.width/2*scale,this.seriesContainer.y=this.pixelHeight/2-bbox.y*scale-bbox.height/2*scale,this.updateRectangle(),this.afterDraw()}},SmallMap.prototype.afterDraw=function(){_super.prototype.afterDraw.call(this),this.rectangle.maskRectangle={x:-1,y:-1,width:Math.ceil(this.pixelWidth+2),height:Math.ceil(this.pixelHeight+2)}},SmallMap.prototype.processConfig=function(config){if(config&&Type_hasValue(config.series)&&Type_isArray(config.series))for(var i=0,len=config.series.length;i<len;i++){var series=config.series[i];Type_hasValue(series)&&isString(series)&&this.map.hasKey(series)&&(config.series[i]=this.map.getKey(series))}_super.prototype.processConfig.call(this,config)},SmallMap}(Container_Container);function normalizeMultiline(multiline){return each(multiline,(function(segment){each(segment,(function(point){var geoPoint,longitude,latitude,latitude180;longitude=wrapAngleTo180((geoPoint=point).longitude),latitude=Math.asin(Math.sin(geoPoint.latitude*RADIANS))*DEGREES,latitude180=wrapAngleTo180(geoPoint.latitude),Math.abs(latitude180)>90&&(longitude=wrapAngleTo180(longitude+180)),geoPoint.longitude=longitude,geoPoint.latitude=latitude}))})),multiline}function wrapAngleTo180(angle){return(angle%=360)>180&&(angle-=360),angle<-180&&(angle+=360),angle}Registry_registry.registeredClasses.SmallMap=SmallMap_SmallMap;var MapLineObject_MapLineObject=function(_super){function MapLineObject(){var _this=_super.call(this)||this;return _this.adjustRotation=!0,_this.className="MapLineObject",_this.isMeasured=!1,_this.layout="none",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapLineObject,_super),MapLineObject.prototype.validatePosition=function(){var mapLine=this.mapLine;if(mapLine){var point=mapLine.positionToPoint(this.position);if(this.x=point.x,this.y=point.y,this.adjustRotation&&(this.rotation=point.angle),this.mapLine.dataItem){var series=this.mapLine.dataItem.component;this.scale=1/series.scale}if(mapLine.shortestDistance){var projection=this.mapLine.series.chart.projection,geoPoint=projection.positionToGeoPoint(mapLine.multiGeoLine,this.position),visible=projection.d3Path({type:"Point",coordinates:[geoPoint.longitude,geoPoint.latitude]});this.__disabled=!visible}}_super.prototype.validatePosition.call(this)},Object.defineProperty(MapLineObject.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(value){this.setPropertyValue("position",value,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(MapLineObject.prototype,"adjustRotation",{get:function(){return this.getPropertyValue("adjustRotation")},set:function(value){this.setPropertyValue("adjustRotation",value,!1,!0)},enumerable:!0,configurable:!0}),MapLineObject}(Container_Container);Registry_registry.registeredClasses.MapLineObject=MapLineObject_MapLineObject;var MapImageSeries_MapImageSeriesDataItem=function(_super){function MapImageSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapImageSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapImageSeriesDataItem,_super),MapImageSeriesDataItem.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:this.point}}},Object.defineProperty(MapImageSeriesDataItem.prototype,"mapImage",{get:function(){var _this=this;if(!this._mapImage){var mapImage_1=this.component.mapImages.create();this.addSprite(mapImage_1),this._mapImage=mapImage_1,this._disposers.push(mapImage_1),this._disposers.push(new Disposer((function(){_this.component&&_this.component.mapImages.removeValue(mapImage_1)}))),this.mapObject=mapImage_1}return this._mapImage},enumerable:!0,configurable:!0}),Object.defineProperty(MapImageSeriesDataItem.prototype,"point",{get:function(){return this._point},set:function(point){this._point=point,this._geoPoint=pointToGeo(point),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapImageSeriesDataItem.prototype,"multiPoint",{get:function(){return[this._point]},set:function(multiPoint){this._point=multiPoint[0],this._geoPoint=pointToGeo(this._point),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapImageSeriesDataItem.prototype,"geoPoint",{get:function(){return this._geoPoint},set:function(geoPoint){this._geoPoint=geoPoint,this.point=[geoPoint.longitude,geoPoint.latitude]},enumerable:!0,configurable:!0}),MapImageSeriesDataItem}(MapSeries_MapSeriesDataItem),MapImageSeries_MapImageSeries=function(_super){function MapImageSeries(){var _this=_super.call(this)||this;return _this.className="MapImageSeries",_this.dataFields.multiPoint="multiPoint",_this.dataFields.point="point",_this.dataFields.geoPoint="geoPoint",_this.dataFields.multiGeoPoint="multiGeoPoint",_this.ignoreBounds=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(MapImageSeries,_super),MapImageSeries.prototype.createDataItem=function(){return new MapImageSeries_MapImageSeriesDataItem},MapImageSeries.prototype.validateData=function(){var _this=this;if(this.data.length>0&&0==this._parseDataFrom&&this.mapImages.clear(),this.useGeodata&&(this.useGeodata||this.geodata)){var geoJSON=this.chart.geodata,features=void 0;if("FeatureCollection"==geoJSON.type?features=geoJSON.features:"Feature"==geoJSON.type?features=[geoJSON]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(geoJSON.type)?features=[{geometry:geoJSON}]:console.log("nothing found in geoJSON"),features)for(var _loop_1=function(i,len){var feature=features[i],geometry=feature.geometry;if(geometry){var type=geometry.type,id_1=feature.id;if("Point"==type||"MultiPoint"==type){if(!this_1.checkInclude(this_1.include,this_1.exclude,id_1))return"continue";var coordinates=geometry.coordinates;"Point"==type&&(coordinates=[coordinates]);var dataObject=find(this_1.data,(function(value,i){return value.id==id_1}));dataObject?dataObject.multiPoint||(dataObject.multiPoint=coordinates):(dataObject={multiPoint:coordinates,id:id_1,madeFromGeoData:!0},this_1.data.push(dataObject)),Utils_softCopyProperties(feature.properties,dataObject)}}},this_1=this,i=0,len=features.length;i<len;i++)_loop_1(i)}_super.prototype.validateData.call(this),Iterator_each(this.dataItems.iterator(),(function(dataItem){var mapImage=dataItem.mapImage;mapImage.isDisposed()||(_this.mapImages.moveValue(mapImage),isNumber(mapImage.latitude)&&isNumber(mapImage.latitude)&&(dataItem.geoPoint={latitude:mapImage.latitude,longitude:mapImage.longitude}))}))},Object.defineProperty(MapImageSeries.prototype,"mapImages",{get:function(){if(!this._mapImages){var template=new MapImage_MapImage,mapImages=new List_ListTemplate(template);this._disposers.push(new List_ListDisposer(mapImages)),this._disposers.push(mapImages.template),mapImages.template.focusable=!0,mapImages.events.on("inserted",this.handleObjectAdded,this,!1),this._mapImages=mapImages,this._mapObjects=mapImages}return this._mapImages},enumerable:!0,configurable:!0}),MapImageSeries.prototype.validateDataElement=function(dataItem){_super.prototype.validateDataElement.call(this,dataItem),dataItem.mapImage.invalidate()},MapImageSeries.prototype.validate=function(){_super.prototype.validate.call(this),Iterator_each(this.mapImages.iterator(),(function(mapImage){mapImage.validatePosition()}))},MapImageSeries.prototype.copyFrom=function(source){this.mapImages.template.copyFrom(source.mapImages.template),_super.prototype.copyFrom.call(this,source)},MapImageSeries.prototype.getFeatures=function(){var _this=this,features=[];return this.dataItems.each((function(dataItem){var feature=dataItem.getFeature();feature&&features.push(feature)})),this.mapImages.each((function(mapImage){if(-1==_this.dataItems.indexOf(mapImage._dataItem)){var feature=mapImage.getFeature();feature&&features.push(feature)}})),features},MapImageSeries.prototype.getImageById=function(id){return Iterator_find(this.mapImages.iterator(),(function(mapImage){var dataContext=mapImage.dataItem.dataContext;if(mapImage.id==id||dataContext&&dataContext.id==id)return!0}))},MapImageSeries}(MapSeries_MapSeries);Registry_registry.registeredClasses.MapImageSeries=MapImageSeries_MapImageSeries,Registry_registry.registeredClasses.MapImageSeriesDataItem=MapImageSeries_MapImageSeriesDataItem;var MapLine_MapLine=function(_super){function MapLine(){var _this=_super.call(this)||this;_this._imageListeners={},_this.className="MapLine",_this.createLine(),_this.line.stroke=Color_color(),_this.line.parent=_this,_this.strokeOpacity=1,_this.setPropertyValue("precision",.1);var interfaceColors=new InterfaceColorSet_InterfaceColorSet;return _this.stroke=interfaceColors.getFor("grid"),_this.shortestDistance=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(MapLine,_super),MapLine.prototype.createLine=function(){this.line=new Polyline_Polyline},MapLine.prototype.positionToPoint=function(position){return this.shortestDistance?this.series.chart.projection.positionToPoint(this.multiGeoLine,position):this.line?this.line.positionToPoint(position):{x:0,y:0,angle:0}},Object.defineProperty(MapLine.prototype,"multiGeoLine",{get:function(){var multiGeoLine=this.getPropertyValue("multiGeoLine");return!multiGeoLine&&this.dataItem&&this.dataItem.multiGeoLine&&(multiGeoLine=this.dataItem.multiGeoLine),multiGeoLine},set:function(multiGeoLine){if(multiGeoLine&&multiGeoLine.length>0){this.setPropertyValue("multiGeoLine",normalizeMultiline(multiGeoLine),!0);var multiLine=multiGeoLineToMultiLine(multiGeoLine);this.setPropertyValue("multiLine",multiLine),this.updateExtremes()}},enumerable:!0,configurable:!0}),Object.defineProperty(MapLine.prototype,"multiLine",{get:function(){var multiLine=this.getPropertyValue("multiLine");return!multiLine&&this.dataItem&&this.dataItem.multiLine&&(multiLine=this.dataItem.multiLine),multiLine},set:function(multiLine){this.setPropertyValue("multiLine",multiLine),this.multiGeoLine=multiLineToGeo(multiLine)},enumerable:!0,configurable:!0}),Object.defineProperty(MapLine.prototype,"imagesToConnect",{get:function(){return this.getPropertyValue("imagesToConnect")},set:function(images){var _this=this;if(this.setPropertyValue("imagesToConnect",images,!0),this.handleImagesToConnect(),this.series){var chart=this.series.chart;chart&&chart.series.each((function(series){series instanceof MapImageSeries_MapImageSeries&&(series.isReady()||_this._disposers.push(series.events.on("ready",_this.handleImagesToConnect,_this,!1)))}))}},enumerable:!0,configurable:!0}),MapLine.prototype.handleImagesToConnect=function(){var e_1,_a,_this=this;if(this.imagesToConnect){var segment=[],multiGeoLine=[segment],_loop_1=function(image){if(isString(image)){var chart=this_1.series.chart;chart&&chart.series.each((function(series){if(series instanceof MapImageSeries_MapImageSeries){var img=series.getImageById(image);img&&(image=img)}}))}if(image instanceof MapImage_MapImage&&(segment.push({longitude:image.longitude,latitude:image.latitude}),!this_1._imageListeners[image.uid])){var disposer=image.events.on("propertychanged",(function(event){"longitude"!=event.property&&"latitude"!=event.property||(_this.handleImagesToConnect(),_this.invalidate())}),this_1,!1);this_1._imageListeners[image.uid]=disposer,this_1._disposers.push(disposer)}},this_1=this;try{for(var _b=Object(tslib_es6.k)(this.imagesToConnect),_c=_b.next();!_c.done;_c=_b.next()){_loop_1(_c.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}this.multiGeoLine=multiGeoLine}},MapLine.prototype.validate=function(){var chart=this.series.chart;if(this.multiLine){if(this.shortestDistance)chart.projection.d3Projection.precision(this.precision),this.line.path=chart.projection.d3Path(this.getFeature());else{for(var convertedPoints=[],i=0,len=this.multiLine.length;i<len;i++){for(var segment=this.multiLine[i],convertedSegmentPoints=[],s=0,slen=segment.length;s<slen;s++){var geoPoint=segment[s],point=this.series.chart.projection.convert({longitude:geoPoint[0],latitude:geoPoint[1]});convertedSegmentPoints.push(point)}convertedPoints.push(convertedSegmentPoints)}this.line.segments=convertedPoints}this._arrow&&this._arrow.validatePosition(),Iterator_each(this.lineObjects.iterator(),(function(x){x.validatePosition()})),this.handleGlobalScale()}else this.imagesToConnect&&this.handleImagesToConnect();_super.prototype.validate.call(this)},MapLine.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0&&this.multiLine[0]&&this.multiLine[0].length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},MapLine.prototype.measureElement=function(){},Object.defineProperty(MapLine.prototype,"shortestDistance",{get:function(){return this.getPropertyValue("shortestDistance")},set:function(value){this.setPropertyValue("shortestDistance",value,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(MapLine.prototype,"lineObjects",{get:function(){return this._lineObjects||(this._lineObjects=new List_ListTemplate(new MapLineObject_MapLineObject),this._lineObjects.events.on("inserted",this.handleLineObjectAdded,this,!1),this._disposers.push(new List_ListDisposer(this._lineObjects)),this._disposers.push(this._lineObjects.template)),this._lineObjects},enumerable:!0,configurable:!0}),MapLine.prototype.handleLineObjectAdded=function(event){var mapLineObject=event.newValue;mapLineObject.mapLine=this,mapLineObject.shouldClone=!1,mapLineObject.parent=this},Object.defineProperty(MapLine.prototype,"arrow",{get:function(){if(!this._arrow){var arrow=this.createChild(MapLineObject_MapLineObject);arrow.shouldClone=!1,arrow.width=8,arrow.height=10,arrow.mapLine=this,arrow.position=.5;var triangle=arrow.createChild(Triangle_Triangle);triangle.fillOpacity=1,triangle.width=Percent_percent(100),triangle.height=Percent_percent(100),triangle.rotation=90,triangle.horizontalCenter="middle",triangle.verticalCenter="middle",this._arrow=arrow}return this._arrow},set:function(arrow){this._arrow=arrow,arrow.mapLine=this,arrow.parent=this},enumerable:!0,configurable:!0}),MapLine.prototype.copyFrom=function(source){_super.prototype.copyFrom.call(this,source),this.line.copyFrom(source.line),this.lineObjects.copyFrom(source.lineObjects),source._arrow&&(this.arrow=source.arrow.clone())},Object.defineProperty(MapLine.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(MapLine.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),MapLine.prototype.getTooltipX=function(){var x=this.getPropertyValue("tooltipX");return x instanceof Percent||(x=Percent_percent(50)),x instanceof Percent?this.positionToPoint(x.value).x:0},MapLine.prototype.getTooltipY=function(){var y=this.getPropertyValue("tooltipY");return y instanceof Percent||(y=Percent_percent(50)),y instanceof Percent?this.positionToPoint(y.value).y:0},Object.defineProperty(MapLine.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(value){this.setPropertyValue("precision",value,!0)},enumerable:!0,configurable:!0}),MapLine}(MapObject_MapObject);Registry_registry.registeredClasses.MapLine=MapLine_MapLine;var MapLineSeries_MapLineSeriesDataItem=function(_super){function MapLineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapLineSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapLineSeriesDataItem,_super),MapLineSeriesDataItem.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},Object.defineProperty(MapLineSeriesDataItem.prototype,"mapLine",{get:function(){var _this=this;if(!this._mapLine){var mapLine_1=this.component.mapLines.create();this._mapLine=mapLine_1,this.addSprite(mapLine_1),this._disposers.push(mapLine_1),this._disposers.push(new Disposer((function(){_this.component&&_this.component.mapLines.removeValue(mapLine_1)}))),this.mapObject=mapLine_1}return this._mapLine},enumerable:!0,configurable:!0}),Object.defineProperty(MapLineSeriesDataItem.prototype,"line",{get:function(){return this._line},set:function(line){this._line=line,this.multiLine=[line]},enumerable:!0,configurable:!0}),Object.defineProperty(MapLineSeriesDataItem.prototype,"multiLine",{get:function(){return this._multiLine},set:function(multiLine){this._multiLine=multiLine,this._multiGeoLine=multiLineToGeo(multiLine),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(MapLineSeriesDataItem.prototype,"geoLine",{get:function(){return this._geoLine},set:function(geoLine){this._geoLine=geoLine,this.multiLine=multiGeoLineToMultiLine([geoLine])},enumerable:!0,configurable:!0}),Object.defineProperty(MapLineSeriesDataItem.prototype,"multiGeoLine",{get:function(){return this._multiGeoLine},set:function(multiGeoLine){this._multiGeoLine=multiGeoLine,this.multiLine=multiGeoLineToMultiLine(multiGeoLine)},enumerable:!0,configurable:!0}),MapLineSeriesDataItem}(MapSeries_MapSeriesDataItem),MapLineSeries_MapLineSeries=function(_super){function MapLineSeries(){var _this=_super.call(this)||this;return _this.className="MapLineSeries",_this.dataFields.multiLine="multiLine",_this.dataFields.line="line",_this.dataFields.geoLine="geoLine",_this.dataFields.multiGeoLine="multiGeoLine",_this.ignoreBounds=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(MapLineSeries,_super),MapLineSeries.prototype.createDataItem=function(){return new MapLineSeries_MapLineSeriesDataItem},MapLineSeries.prototype.validateData=function(){if(this.useGeodata||this.geodata){var geoJSON=this.chart.geodata;if(geoJSON){var features=void 0;if("FeatureCollection"==geoJSON.type?features=geoJSON.features:"Feature"==geoJSON.type?features=[geoJSON]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(geoJSON.type)?features=[{geometry:geoJSON}]:console.log("nothing found in geoJSON"),features)for(var _loop_1=function(i,len){var feature=features[i],geometry=feature.geometry;if(geometry){var type=geometry.type,id_1=feature.id;if("LineString"==type||"MultiLineString"==type){if(!this_1.checkInclude(this_1.include,this_1.exclude,id_1))return"continue";var coordinates=geometry.coordinates,dataObject=find(this_1.data,(function(value,i){return value.id==id_1}));"LineString"==type&&(coordinates=[coordinates]),dataObject?dataObject.multiLine||(dataObject.multiLine=coordinates):(dataObject={multiLine:coordinates,id:id_1,madeFromGeoData:!0},this_1.data.push(dataObject)),Utils_softCopyProperties(feature.properties,dataObject)}}},this_1=this,i=0,len=features.length;i<len;i++)_loop_1(i)}}_super.prototype.validateData.call(this)},Object.defineProperty(MapLineSeries.prototype,"mapLines",{get:function(){if(!this._mapLines){var lineTemplate=this.createLine(),mapLines=new List_ListTemplate(lineTemplate);this._disposers.push(new List_ListDisposer(mapLines)),this._disposers.push(mapLines.template),mapLines.events.on("inserted",this.handleObjectAdded,this,!1),this._mapLines=mapLines,this._mapObjects=mapLines}return this._mapLines},enumerable:!0,configurable:!0}),MapLineSeries.prototype.createLine=function(){return new MapLine_MapLine},MapLineSeries.prototype.validate=function(){this.dataItems.each((function(dataItem){dataItem.mapLine})),_super.prototype.validate.call(this),this.mapLines.each((function(mapLine){mapLine.validate()}))},MapLineSeries.prototype.copyFrom=function(source){this.mapLines.template.copyFrom(source.mapLines.template),_super.prototype.copyFrom.call(this,source)},MapLineSeries.prototype.getFeatures=function(){var _this=this,features=[];return this.dataItems.each((function(dataItem){var feature=dataItem.getFeature();feature&&features.push(feature)})),this.mapLines.each((function(mapLine){if(-1==_this.dataItems.indexOf(mapLine._dataItem)){var feature=mapLine.getFeature();feature&&features.push(feature)}})),features},MapLineSeries.prototype.getLineById=function(id){return Iterator_find(this.mapLines.iterator(),(function(mapLine){return mapLine.dataItem.dataContext.id==id}))},MapLineSeries}(MapSeries_MapSeries);Registry_registry.registeredClasses.MapLineSeries=MapLineSeries_MapLineSeries,Registry_registry.registeredClasses.MapLineSeriesDataItem=MapLineSeries_MapLineSeriesDataItem;var Graticule_Graticule=function(_super){function Graticule(){var _this=_super.call(this)||this;return _this.className="Graticule",_this.applyTheme(),_this.shortestDistance=!0,_this}return Object(tslib_es6.d)(Graticule,_super),Graticule}(MapLine_MapLine);function graticuleX(y0,y1,dy){var y=src_range(y0,y1-1e-6,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=src_range(x0,x1-1e-6,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule_graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return src_range(math_ceil(X0/DX)*DX,X1,DX).map(X).concat(src_range(math_ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(src_range(math_ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs(x%DX)>1e-6})).map(x)).concat(src_range(math_ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs(y%DY)>1e-6})).map(y))}return graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates:coordinates}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}Registry_registry.registeredClasses.Graticule=Graticule_Graticule;var GraticuleSeries_GraticuleSeriesDataItem=function(_super){function GraticuleSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="GraticuleSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(GraticuleSeriesDataItem,_super),GraticuleSeriesDataItem}(MapLineSeries_MapLineSeriesDataItem),GraticuleSeries_GraticuleSeries=function(_super){function GraticuleSeries(){var _this=_super.call(this)||this;return _this.className="GraticuleSeries",_this.longitudeStep=10,_this.latitudeStep=10,_this.north=90,_this.south=-90,_this.east=-180,_this.west=180,_this.fitExtent=!0,_this.singleSprite=!0,_this.events.disableType("geoBoundsChanged"),_this.mapLines.template.line.strokeOpacity=.08,_this.ignoreBounds=!1,_this.hiddenInLegend=!0,_this.applyTheme(),_this}return Object(tslib_es6.d)(GraticuleSeries,_super),GraticuleSeries.prototype.createDataItem=function(){return new GraticuleSeries_GraticuleSeriesDataItem},GraticuleSeries.prototype.validateData=function(){var _this=this;_super.prototype.validateData.call(this),this.mapLines.clear();var graticule=graticule_graticule();if(graticule){graticule.stepMinor([this.longitudeStep,this.latitudeStep]),graticule.stepMajor([360,360]);var chart=this.chart;if(this.fitExtent?graticule.extent([[chart.east,chart.north],[chart.west,chart.south]]):graticule.extent([[this.east,this.north],[this.west,this.south]]),this.singleSprite)this.mapLines.create().multiLine=graticule().coordinates;else each(graticule.lines(),(function(lineString){_this.mapLines.create().multiLine=[lineString.coordinates]}))}},GraticuleSeries.prototype.createLine=function(){return new Graticule_Graticule},Object.defineProperty(GraticuleSeries.prototype,"latitudeStep",{get:function(){return this.getPropertyValue("latitudeStep")},set:function(value){this.setPropertyValue("latitudeStep",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(GraticuleSeries.prototype,"longitudeStep",{get:function(){return this.getPropertyValue("longitudeStep")},set:function(value){this.setPropertyValue("longitudeStep",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(GraticuleSeries.prototype,"fitExtent",{get:function(){return this.getPropertyValue("fitExtent")},set:function(value){this.setPropertyValue("fitExtent",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(GraticuleSeries.prototype,"singleSprite",{get:function(){return this.getPropertyValue("singleSprite")},set:function(value){this.setPropertyValue("singleSprite",value)&&this.invalidateData()},enumerable:!0,configurable:!0}),GraticuleSeries}(MapLineSeries_MapLineSeries);Registry_registry.registeredClasses.GraticuleSeries=GraticuleSeries_GraticuleSeries,Registry_registry.registeredClasses.GraticuleSeriesDataItem=GraticuleSeries_GraticuleSeriesDataItem;!function(_super){function MapChartDataItem(){var _this=_super.call(this)||this;return _this.className="MapChartDataItem",_this.applyTheme(),_this}Object(tslib_es6.d)(MapChartDataItem,_super)}(SerialChart_SerialChartDataItem);var MapChart_MapChart=function(_super){function MapChart(){var _this=_super.call(this)||this;_this.scaleRatio=1,_this.zoomDuration=1e3,_this.zoomEasing=cubicOut,_this.minZoomLevel=1,_this.maxZoomLevel=32,_this._prevZoomGeoPoint={latitude:0,longitude:0},_this.className="MapChart",_this.projection=new Projection_Projection,_this.setPropertyValue("deltaLatitude",0),_this.setPropertyValue("deltaLongitude",0),_this.setPropertyValue("deltaGamma",0),_this.maxPanOut=.7,_this.homeZoomLevel=1,_this.zoomStep=2,_this.layout="absolute",_this.centerMapOnZoomOut=!0,_this.padding(0,0,0,0),_this.backgroundSeries,_this.minWidth=10,_this.minHeight=10,_this.events.once("inited",_this.handleAllInited,_this,!1);var seriesContainer=_this.seriesContainer;seriesContainer.visible=!1,seriesContainer.inert=!0,seriesContainer.resizable=!0,seriesContainer.events.on("transformed",_this.handleMapTransform,_this,!1),seriesContainer.events.on("doublehit",_this.handleDoubleHit,_this,!1),seriesContainer.events.on("dragged",_this.handleDrag,_this,!1),seriesContainer.zIndex=0,seriesContainer.dragWhileResize=!0,seriesContainer.adapter.add("scale",(function(scale,target){return fitToRange(scale,_this.minZoomLevel,_this.maxZoomLevel)})),_this.events.on("maxsizechanged",(function(event){0!=event.previousWidth&&0!=event.previousHeight||(_this.updateExtremes(),_this.updateCenterGeoPoint())}),void 0,!1);var chartContainer=_this.chartContainer;chartContainer.parent=_this,chartContainer.zIndex=-1,_this._disposers.push(_this.events.on("maxsizechanged",(function(){if(_this.inited){_this._mapAnimation&&_this._mapAnimation.stop();var allInited_1=!0;_this.series.each((function(series){series.updateTooltipBounds(),series.inited&&!series.dataInvalid||(allInited_1=!1)})),allInited_1&&_this.updateScaleRatio(),_this.zoomToGeoPoint(_this._zoomGeoPointReal,_this.zoomLevel,!0,0)}}),void 0,!1));var chartContainerBg=chartContainer.background;chartContainerBg.fillOpacity=0,chartContainerBg.events.on("down",(function(e){_this.seriesContainer.dragStart(e.target.interactions.downPointers.getIndex(0))}),_this),chartContainerBg.events.on("up",(function(e){_this.seriesContainer.dragStop()}),_this),chartContainerBg.events.on("doublehit",_this.handleDoubleHit,_this),chartContainerBg.focusable=!0,chartContainer.events.on("down",_this.handleMapDown,_this,!1),_this.addDisposer(seriesContainer.events.on("down",(function(){var inertia=_this.seriesContainer.interactions.inertias.getKey("move");inertia&&inertia.done()}))),_this.background.fillOpacity=0,_this._disposers.push(getInteraction().body.events.on("keyup",(function(ev){if(_this.topParent.hasFocused){var key=keyboard.getEventKey(ev.event);if(!_this._zoomControl||!_this._zoomControl.thumb.isFocused)switch(key){case"up":_this.pan({x:0,y:.1});break;case"down":_this.pan({x:0,y:-.1});break;case"left":_this.pan({x:.1,y:0});break;case"right":_this.pan({x:-.1,y:0})}}}),_this)),_this.mouseWheelBehavior="zoom";var interaction=getInteraction();_this._disposers.push(interaction.body.events.on("down",_this.handlePanDown,_this)),_this._disposers.push(interaction.body.events.on("up",_this.handlePanUp,_this));var panSprite=_this.seriesContainer.createChild(Circle_Circle);return panSprite.radius=10,panSprite.inert=!0,panSprite.isMeasured=!1,panSprite.events.on("transformed",_this.handlePanMove,_this,!1),panSprite.interactionsEnabled=!1,panSprite.opacity=0,panSprite.x=0,panSprite.y=0,_this.panSprite=panSprite,_this.panBehavior="move",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapChart,_super),MapChart.prototype.handlePanDown=function(event){var svgPoint=documentPointToSvg(event.pointer.point,this.htmlContainer);svgPoint.x>0&&svgPoint.y>0&&svgPoint.x<this.svgContainer.width&&svgPoint.y<this.svgContainer.height&&(this._downPointOrig=documentPointToSprite(event.pointer.point,this.seriesContainer),this.panSprite.moveTo(this._downPointOrig),this.panSprite.dragStart(event.pointer),this._downDeltaLongitude=this.deltaLongitude,this._downDeltaLatitude=this.deltaLatitude)},MapChart.prototype.handlePanUp=function(event){this._downPointOrig&&this.panSprite.dragStop(event.pointer,!0),this._downPointOrig=void 0},MapChart.prototype.handlePanMove=function(){if(!this.seriesContainer.isResized){if(getInteraction().areTransformed([this.panSprite.interactions,this.seriesContainer.interactions]))return;var d3Projection=this.projection.d3Projection,panBehavior=this.panBehavior;if("move"!=panBehavior&&"none"!=panBehavior&&this._downPointOrig&&d3Projection.rotate){var rotation=d3Projection.rotate(),dln=rotation[0],dlt=rotation[1],dlg=rotation[2];d3Projection.rotate([0,0,0]);var downGeoLocal=this.projection.invert(this._downPointOrig),local={x:this.panSprite.pixelX,y:this.panSprite.pixelY},geoLocal=void 0;local&&(geoLocal=this.projection.invert(local)),d3Projection.rotate([dln,dlt,dlg]),geoLocal&&("rotateLat"!=panBehavior&&"rotateLongLat"!=panBehavior||(this.deltaLatitude=this._downDeltaLatitude+geoLocal.latitude-downGeoLocal.latitude),"rotateLong"!=panBehavior&&"rotateLongLat"!=panBehavior||(this.deltaLongitude=this._downDeltaLongitude+geoLocal.longitude-downGeoLocal.longitude))}}},MapChart.prototype.handleAllInited=function(){var _this=this,inited=!0;if(this.seriesContainer.visible=!0,this.series.each((function(series){series.inited&&!series.dataInvalid||(inited=!1)})),inited)this.updateCenterGeoPoint(),this.updateScaleRatio(),this.goHome(0);else{var disposer_1=Registry_registry.events.once("exitframe",(function(){_this.removeDispose(disposer_1),_this.handleAllInited()}),this,!1);this.addDisposer(disposer_1)}},MapChart.prototype.updateZoomGeoPoint=function(){var seriesPoint=svgPointToSprite({x:this.innerWidth/2+this.pixelPaddingLeft,y:this.innerHeight/2+this.pixelPaddingTop},this.series.getIndex(0)),geoPoint=this.projection.invert(seriesPoint);this._zoomGeoPointReal=geoPoint},MapChart.prototype.updateCenterGeoPoint=function(){var maxLeft,maxRight,maxTop,maxBottom;if(this.backgroundSeries){var features=this.backgroundSeries.getFeatures();if(features.length>0){var bounds=this.projection.d3Path.bounds(features[0].geometry);maxLeft=bounds[0][0],maxTop=bounds[0][1],maxRight=bounds[1][0],maxBottom=bounds[1][1]}}else this.series.each((function(series){var bbox=series.group.node.getBBox();(maxLeft>bbox.x||!isNumber(maxLeft))&&(maxLeft=bbox.x),(maxRight<bbox.x+bbox.width||!isNumber(maxRight))&&(maxRight=bbox.x+bbox.width),(maxTop>bbox.y||!isNumber(maxTop))&&(maxTop=bbox.y),(maxBottom<bbox.y+bbox.height||!isNumber(maxBottom))&&(maxBottom=bbox.y+bbox.height)}));this.seriesMaxLeft=maxLeft,this.seriesMaxRight=maxRight,this.seriesMaxTop=maxTop,this.seriesMaxBottom=maxBottom,this.seriesWidth=maxRight-maxLeft,this.seriesHeight=maxBottom-maxTop,this.seriesWidth>0&&this.seriesHeight>0?(this.chartContainer.visible=!0,this._centerGeoPoint=this.projection.invert({x:maxLeft+(maxRight-maxLeft)/2,y:maxTop+(maxBottom-maxTop)/2}),this._zoomGeoPointReal&&isNumber(this._zoomGeoPointReal.latitude)||(this._zoomGeoPointReal=this._centerGeoPoint)):this.chartContainer.visible=!1},MapChart.prototype.handleDrag=function(){var d=this.zoomLevel*this.scaleRatio,ww=this.seriesWidth*d,hh=this.seriesHeight*d,seriesContainer=this.seriesContainer,maxLeft=this.seriesMaxLeft*d,maxRight=this.seriesMaxRight*d,maxTop=this.seriesMaxTop*d,maxBottom=this.seriesMaxBottom*d,x=seriesContainer.pixelX,y=seriesContainer.pixelY,maxPanOut=this.maxPanOut,minX=Math.min(this.maxWidth*(1-maxPanOut)-ww-maxLeft,-maxLeft);x<minX&&(x=minX);var maxX=Math.max(this.maxWidth*maxPanOut-maxLeft,this.maxWidth-maxRight);x>maxX&&(x=maxX);var minY=Math.min(this.maxHeight*(1-maxPanOut)-hh-maxTop,-maxTop);y<minY&&(y=minY);var maxY=Math.max(this.maxHeight*maxPanOut-maxTop,this.maxHeight-maxBottom);y>maxY&&(y=maxY),seriesContainer.moveTo({x:x,y:y},void 0,void 0,!0),this._zoomGeoPointReal=this.zoomGeoPoint},MapChart.prototype.applyInternalDefaults=function(){_super.prototype.applyInternalDefaults.call(this),Type_hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Map")),Type_hasValue(this.background.readerTitle)||(this.background.readerTitle=this.language.translate("Use plus and minus keys on your keyboard to zoom in and out"))},MapChart.prototype.handleMapDown=function(){this._mapAnimation&&this._mapAnimation.stop()},MapChart.prototype.handleDoubleHit=function(event){var svgPoint=documentPointToSvg(event.point,this.htmlContainer,this.svgContainer.cssScale),geoPoint=this.svgPointToGeo(svgPoint);this.zoomIn(geoPoint)},MapChart.prototype.handleWheel=function(event){var inertia=this.seriesContainer.interactions.inertias.getKey("move");inertia&&inertia.done();var svgPoint=documentPointToSvg(event.point,this.htmlContainer,this.svgContainer.cssScale),geoPoint=this.svgPointToGeo(svgPoint);event.shift.y<0?this.zoomIn(geoPoint,void 0,this.interactions.mouseOptions.sensitivity):this.zoomOut(geoPoint,void 0,this.interactions.mouseOptions.sensitivity)},Object.defineProperty(MapChart.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(value){this.setPropertyValue("mouseWheelBehavior",value)&&("none"!=value?(this._mouseWheelDisposer=this.chartContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):(this._mouseWheelDisposer&&this._mouseWheelDisposer.dispose(),this.chartContainer.wheelable=!1))},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"panBehavior",{get:function(){return this.getPropertyValue("panBehavior")},set:function(value){if(this.setPropertyValue("panBehavior",value)){var seriesContainer=this.seriesContainer;switch(this.panSprite.draggable=!1,seriesContainer.draggable=!1,value){case"move":seriesContainer.draggable=!0;break;default:this.panSprite.draggable=!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"centerMapOnZoomOut",{get:function(){return this.getPropertyValue("centerMapOnZoomOut")},set:function(value){this.setPropertyValue("centerMapOnZoomOut",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"projection",{get:function(){return this.getPropertyValue("projection")},set:function(projection){var _this=this;this.setPropertyValue("projection",projection)&&(this.invalidateProjection(),projection.chart=this,this._backgroundSeries&&this._backgroundSeries.invalidate(),this.inited&&this.updateExtremes(),this.series.each((function(series){series.events.once("validated",(function(){_this.updateCenterGeoPoint(),_this.updateScaleRatio(),_this.goHome(0)}))})))},enumerable:!0,configurable:!0}),MapChart.prototype.validateDataItems=function(){_super.prototype.validateDataItems.call(this),this.updateExtremes()},MapChart.prototype.updateExtremes=function(){var east,north,west,south;this.series.each((function(series){series.ignoreBounds||series instanceof GraticuleSeries_GraticuleSeries&&series.fitExtent||((series.north>north||!isNumber(north))&&(north=series.north),(series.south<south||!isNumber(south))&&(south=series.south),(series.west<west||!isNumber(west))&&(west=series.west),(series.east>east||!isNumber(east))&&(east=series.east))}));var features=[],foundGraticule=!1;this.series.each((function(series){series instanceof GraticuleSeries_GraticuleSeries&&!series.fitExtent&&(features=series.getFeatures(),foundGraticule=!0)})),foundGraticule||this.series.each((function(series){series.ignoreBounds||series instanceof GraticuleSeries_GraticuleSeries&&series.fitExtent||(features=features.concat(series.getFeatures()))}));var w=Math_max(50,this.innerWidth),h=Math_max(50,this.innerHeight),d3Projection=this.projection.d3Projection;if(features.length>0&&d3Projection&&(this.east!=east||this.west!=west||this.north!=north||this.south!=south)){if(this.east=east,this.west=west,this.north=north,this.south=south,d3Projection.rotate){var rotation=d3Projection.rotate(),deltaLong=rotation[0],deltaLat=rotation[1],deltaGamma=rotation[2];this.deltaLongitude=deltaLong,this.deltaLatitude=deltaLat,this.deltaGamma=deltaGamma}var geoJSON={type:"FeatureCollection",features:features},initialScale=d3Projection.scale();if(d3Projection.fitSize([w,h],geoJSON),d3Projection.scale()!=initialScale&&this.invalidateDataUsers(),this.series.each((function(series){series instanceof GraticuleSeries_GraticuleSeries&&series.invalidateData()})),this._backgroundSeries){var polygon=this._backgroundSeries.mapPolygons.getIndex(0);polygon&&(polygon.multiPolygon=function(north,east,south,west){var multiPolygon=[];-180==west&&(west=-179.9999),-90==south&&(south=-89.9999),90==north&&(north=89.9999),180==east&&(east=179.9999);for(var stepLong=Math.min(90,(east-west)/Math.ceil((east-west)/90)),stepLat=(north-south)/Math.ceil((north-south)/90),ln=west;ln<east;ln+=stepLong){var surface=[];multiPolygon.push([surface]),ln+stepLong>east&&(stepLong=east-ln);for(var ll=ln;ll<=ln+stepLong;ll+=5)surface.push([ll,north]);for(var lt=north;lt>=south;lt-=stepLat)surface.push([ln+stepLong,lt]);for(ll=ln+stepLong;ll>=ln;ll-=5)surface.push([ll,south]);for(lt=south;lt<=north;lt+=stepLat)surface.push([ln,lt])}return multiPolygon}(this.north,this.east,this.south,this.west))}this._fitWidth=w,this._fitHeight=h}this._zoomGeoPointReal&&isNumber(this._zoomGeoPointReal.latitude)||this.goHome(0)},MapChart.prototype.updateScaleRatio=function(){var scaleRatio;this.updateCenterGeoPoint();var hScale=this.innerWidth/this.seriesWidth,vScale=this.innerHeight/this.seriesHeight;(Type_isNaN(scaleRatio=Math_min(hScale,vScale))||scaleRatio==1/0)&&(scaleRatio=1),scaleRatio!=this.scaleRatio&&(this.scaleRatio=scaleRatio,Iterator_each(this.series.iterator(),(function(series){series.scale=scaleRatio,series.updateTooltipBounds()})),this.backgroundSeries.scale=scaleRatio,this.dispatch("scaleratiochanged"))},MapChart.prototype.svgPointToGeo=function(point){var series=this.series.getIndex(0);if(series){var seriesPoint=svgPointToSprite(point,series);return this.seriesPointToGeo(seriesPoint)}},MapChart.prototype.geoPointToSVG=function(point){var series=this.series.getIndex(0);if(series)return spritePointToSvg(this.geoPointToSeries(point),series)},MapChart.prototype.seriesPointToGeo=function(point){return this.projection.invert(point)},MapChart.prototype.geoPointToSeries=function(point){return this.projection.convert(point)},Object.defineProperty(MapChart.prototype,"geodata",{get:function(){return this._geodata},set:function(geodata){geodata!=this._geodata&&(this._geodata=geodata,this.invalidateData(),this.dataUsers.each((function(dataUser){for(var i=dataUser.data.length-1;i>=0;i--)1==dataUser.data[i].madeFromGeoData&&dataUser.data.splice(i,1);dataUser.disposeData(),dataUser.invalidateData()})))},enumerable:!0,configurable:!0}),MapChart.prototype.zoomToGeoPoint=function(point,zoomLevel,center,duration,mapObject){var _this=this;if(!point){var hasData_1=!1;if(this.series.each((function(series){series.dataItems.length>0&&(hasData_1=!0)})),!hasData_1)return;point=this.zoomGeoPoint}if(point&&isNumber(point.longitude)&&isNumber(point.latitude)){this._zoomGeoPointReal=point,zoomLevel=fitToRange(zoomLevel,this.minZoomLevel,this.maxZoomLevel);var seriesPoint=this.projection.convert(point);if(seriesPoint){var mapPoint=svgPointToSprite(this.geoPointToSVG(point),this);center&&(mapPoint={x:this.innerWidth/2,y:this.innerHeight/2}),isNumber(duration)||(duration=this.zoomDuration);var x=mapPoint.x-seriesPoint.x*zoomLevel*this.scaleRatio,y=mapPoint.y-seriesPoint.y*zoomLevel*this.scaleRatio;return!mapObject&&zoomLevel<this.zoomLevel&&this.centerMapOnZoomOut&&zoomLevel<1.5&&(x=this.innerWidth/2-(this.seriesMaxLeft+(this.seriesMaxRight-this.seriesMaxLeft)/2)*zoomLevel*this.scaleRatio,y=this.innerHeight/2-(this.seriesMaxTop+(this.seriesMaxBottom-this.seriesMaxTop)/2)*zoomLevel*this.scaleRatio),this._mapAnimation=this.seriesContainer.animate([{property:"scale",to:zoomLevel},{property:"x",from:this.seriesContainer.pixelX,to:x},{property:"y",from:this.seriesContainer.pixelY,to:y}],duration,this.zoomEasing),this._disposers.push(this._mapAnimation.events.on("animationended",(function(){_this._zoomGeoPointReal=_this.zoomGeoPoint}))),this.seriesContainer.validatePosition(),this._mapAnimation}}},MapChart.prototype.zoomToMapObject=function(mapObject,zoomLevel,center,duration){null==center&&(center=!0);var inertia=this.seriesContainer.interactions.inertias.getKey("move");if(inertia&&inertia.done(),mapObject instanceof MapImage_MapImage)return Type_isNaN(zoomLevel)&&(zoomLevel=5),this.zoomToGeoPoint({latitude:mapObject.latitude,longitude:mapObject.longitude},zoomLevel,center,duration,!0);var dataItem=mapObject.dataItem;if(dataItem&&isNumber(dataItem.zoomLevel)&&(zoomLevel=dataItem.zoomLevel),mapObject instanceof MapPolygon_MapPolygon){var dataItem_1=mapObject.dataItem,bbox=mapObject.polygon.bbox;0!=bbox.width&&0!=bbox.height||(bbox=mapObject.polygon.group.getBBox()),isNumber(zoomLevel)||(zoomLevel=Math.min(this.seriesWidth/bbox.width,this.seriesHeight/bbox.height));var geoPoint=void 0;if(dataItem_1&&Type_hasValue(dataItem_1.zoomGeoPoint))geoPoint=dataItem_1.zoomGeoPoint;else{var seriesPoint=spritePointToSprite({x:bbox.x+bbox.width/2,y:bbox.y+bbox.height/2},mapObject.polygon,mapObject.series);geoPoint=this.seriesPointToGeo(seriesPoint)}return this.zoomToGeoPoint(geoPoint,zoomLevel,!0,duration,!0)}},MapChart.prototype.zoomToRectangle=function(north,east,south,west,level,center,duration){Type_isNaN(level)&&(level=1);var w=Math_min(west,east),e=Math_max(west,east);west=w,east=e;var splitLongitude=normalizeAngle(180-this.deltaLongitude);splitLongitude>180&&(splitLongitude-=360);var newLong=west+(east-west)/2,d=west-east;west<splitLongitude&&east>splitLongitude&&(newLong+=180,d=normalizeAngle(east-west-360));var zoomLevel=level*Math.min((this.south-this.north)/(south-north),Math.abs((this.west-this.east)/d));return this.zoomToGeoPoint({latitude:north+(south-north)/2,longitude:newLong},zoomLevel,center,duration,!0)},MapChart.prototype.zoomIn=function(geoPoint,duration,sensitivity){void 0===sensitivity&&(sensitivity=1);var step=1+(this.zoomStep-1)*sensitivity;return step<1&&(step=1),this.zoomToGeoPoint(geoPoint,this.zoomLevel*step,!1,duration)},MapChart.prototype.zoomOut=function(geoPoint,duration,sensitivity){void 0===sensitivity&&(sensitivity=1);var step=1+(this.zoomStep-1)*sensitivity;return step<1&&(step=1),this.zoomToGeoPoint(geoPoint,this.zoomLevel/step,!1,duration)},MapChart.prototype.pan=function(shift,duration){var point=this.geoPointToSVG(this.zoomGeoPoint);point.x+=this.pixelWidth*shift.x,point.y+=this.pixelHeight*shift.y,this.zoomToGeoPoint(this.svgPointToGeo(point),this.zoomLevel,!0,duration,!0)},Object.defineProperty(MapChart.prototype,"zoomGeoPoint",{get:function(){var point=spritePointToSvg({x:this.pixelWidth/2,y:this.pixelHeight/2},this);return this.svgPointToGeo(point)},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"zoomLevel",{get:function(){return this.seriesContainer.scale},set:function(value){this.seriesContainer.scale=value},enumerable:!0,configurable:!0}),MapChart.prototype.handleMapTransform=function(){this.zoomLevel!=this._prevZoomLevel&&(this.dispatch("zoomlevelchanged"),this._prevZoomLevel=this.zoomLevel,this.svgContainer.readerAlert(this.language.translate("Zoom level changed to %1",this.language.locale,castString(this.zoomLevel)))),!this.zoomGeoPoint||this._prevZoomGeoPoint.latitude==this.zoomGeoPoint.latitude&&this._prevZoomGeoPoint.longitude==this.zoomGeoPoint.longitude||this.dispatch("mappositionchanged")},Object.defineProperty(MapChart.prototype,"smallMap",{get:function(){if(!this._smallMap){var smallMap=new SmallMap_SmallMap;this.smallMap=smallMap}return this._smallMap},set:function(smallMap){this._smallMap&&this.removeDispose(this._smallMap),this._smallMap=smallMap,this._smallMap.chart=this,smallMap.parent=this.chartContainer},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"zoomControl",{get:function(){return this._zoomControl},set:function(zoomControl){this._zoomControl&&this.removeDispose(this._zoomControl),this._zoomControl=zoomControl,zoomControl.chart=this,zoomControl.parent=this.chartContainer,zoomControl.plusButton.exportable=!1,zoomControl.minusButton.exportable=!1},enumerable:!0,configurable:!0}),MapChart.prototype.createSeries=function(){return new MapSeries_MapSeries},Object.defineProperty(MapChart.prototype,"deltaLongitude",{get:function(){return this.getPropertyValue("deltaLongitude")},set:function(value){value=Math_round(value,3),this.setPropertyValue("deltaLongitude",wrapAngleTo180(value))&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"deltaLatitude",{get:function(){return this.getPropertyValue("deltaLatitude")},set:function(value){value=Math_round(value,3),this.setPropertyValue("deltaLatitude",value)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"deltaGamma",{get:function(){return this.getPropertyValue("deltaGamma")},set:function(value){value=Math_round(value,3),this.setPropertyValue("deltaGamma",value)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),MapChart.prototype.rotateMap=function(){this.projection.d3Projection&&this.projection.d3Projection.rotate&&(this.projection.d3Projection.rotate([this.deltaLongitude,this.deltaLatitude,this.deltaGamma]),this.invalidateProjection(),this.updateExtremes())},Object.defineProperty(MapChart.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(value){this.setPropertyValue("maxPanOut",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"homeGeoPoint",{get:function(){return this.getPropertyValue("homeGeoPoint")},set:function(value){this.setPropertyValue("homeGeoPoint",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"homeZoomLevel",{get:function(){return this.getPropertyValue("homeZoomLevel")},set:function(value){this.setPropertyValue("homeZoomLevel",value)},enumerable:!0,configurable:!0}),Object.defineProperty(MapChart.prototype,"zoomStep",{get:function(){return this.getPropertyValue("zoomStep")},set:function(value){this.setPropertyValue("zoomStep",value)},enumerable:!0,configurable:!0}),MapChart.prototype.invalidateProjection=function(){this.east=void 0,this.invalidateDataUsers(),this.updateCenterGeoPoint()},Object.defineProperty(MapChart.prototype,"geodataSource",{get:function(){return this._dataSources.geodata||this.getDataSource("geodata"),this._dataSources.geodata},set:function(value){var _this=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=value,this._dataSources.geodata.component=this,this.events.on("inited",(function(){_this.loadData("geodata")}),this,!1),this.setDataSourceEvents(value,"geodata")},enumerable:!0,configurable:!0}),MapChart.prototype.processConfig=function(config){if(Type_hasValue(config.geodata)&&isString(config.geodata)){var name_1=config.geodata;if(Type_hasValue(window["am4geodata_"+config.geodata]))config.geodata=window["am4geodata_"+config.geodata];else try{config.geodata=JSON.parse(config.geodata)}catch(e){this.raiseCriticalError(Error("MapChart error: Geodata `"+name_1+"` is not loaded or is incorrect."),!0)}}Type_hasValue(config.projection)&&isString(config.projection)&&(config.projection=this.createClassInstance(config.projection)),Type_hasValue(config.smallMap)&&!Type_hasValue(config.smallMap.type)&&(config.smallMap.type="SmallMap"),Type_hasValue(config.zoomControl)&&!Type_hasValue(config.zoomControl.type)&&(config.zoomControl.type="ZoomControl"),_super.prototype.processConfig.call(this,config)},MapChart.prototype.handleSeriesAdded=function(event){_super.prototype.handleSeriesAdded.call(this,event);var series=event.newValue;series.scale=this.scaleRatio,series.events.on("validated",this.updateCenterGeoPoint,this,!1)},MapChart.prototype.configOrder=function(a,b){return a==b?0:"smallMap"==a?1:"smallMap"==b?-1:"series"==a?1:"series"==b?-1:_super.prototype.configOrder.call(this,a,b)},MapChart.prototype.asIs=function(field){return"projection"==field||"geodata"==field||_super.prototype.asIs.call(this,field)},Object.defineProperty(MapChart.prototype,"centerGeoPoint",{get:function(){return this._centerGeoPoint},enumerable:!0,configurable:!0}),MapChart.prototype.goHome=function(duration){var homeGeoPoint=this.homeGeoPoint;homeGeoPoint||(homeGeoPoint=this.centerGeoPoint),homeGeoPoint&&this.zoomToGeoPoint(homeGeoPoint,this.homeZoomLevel,!0,duration,!0)},MapChart.prototype.setPaper=function(paper){return this.svgContainer&&(this.svgContainer.hideOverflow=!0),_super.prototype.setPaper.call(this,paper)},Object.defineProperty(MapChart.prototype,"backgroundSeries",{get:function(){var _this=this;if(!this._backgroundSeries){var backgroundSeries=new MapPolygonSeries_MapPolygonSeries;backgroundSeries.parent=this.seriesContainer,backgroundSeries.chart=this,backgroundSeries.hiddenInLegend=!0,backgroundSeries.mapPolygons.template.focusable=!1,backgroundSeries.addDisposer(new Disposer((function(){_this._backgroundSeries=void 0}))),this._disposers.push(backgroundSeries);var color=(new InterfaceColorSet_InterfaceColorSet).getFor("background"),polygonTemplate=backgroundSeries.mapPolygons.template.polygon;polygonTemplate.stroke=color,polygonTemplate.fill=color,polygonTemplate.fillOpacity=0,polygonTemplate.strokeOpacity=0,backgroundSeries.mapPolygons.create(),this._backgroundSeries=backgroundSeries}return this._backgroundSeries},enumerable:!0,configurable:!0}),MapChart.prototype.setLegend=function(legend){_super.prototype.setLegend.call(this,legend),legend&&(legend.parent=this)},MapChart.prototype.setTapToActivate=function(value){_super.prototype.setTapToActivate.call(this,value),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},MapChart.prototype.handleTapToActivate=function(){_super.prototype.handleTapToActivate.call(this),this.seriesContainer.interactions.isTouchProtected=!1,this.panSprite.interactions.isTouchProtected=!1},MapChart.prototype.handleTapToActivateDeactivation=function(){_super.prototype.handleTapToActivateDeactivation.call(this),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},MapChart.prototype.asFunction=function(field){return"zoomEasing"==field||_super.prototype.asIs.call(this,field)},MapChart}(SerialChart_SerialChart);Registry_registry.registeredClasses.MapChart=MapChart_MapChart;var MapSpline_MapSpline=function(_super){function MapSpline(){var _this=_super.call(this)||this;return _this.className="MapSpline",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapSpline,_super),MapSpline.prototype.createLine=function(){this.line=new Polyspline_Polyspline,this.line.tensionX=.8,this.line.tensionY=.8},Object.defineProperty(MapSpline.prototype,"shortestDistance",{get:function(){return!1},set:function(value){},enumerable:!0,configurable:!0}),MapSpline}(MapLine_MapLine);Registry_registry.registeredClasses.MapSpline=MapSpline_MapSpline;var MapArc_MapArc=function(_super){function MapArc(){var _this=_super.call(this)||this;return _this.className="MapArc",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapArc,_super),MapArc.prototype.createLine=function(){this.line=new Polyarc_Polyarc},Object.defineProperty(MapArc.prototype,"shortestDistance",{get:function(){return!1},set:function(value){},enumerable:!0,configurable:!0}),MapArc}(MapLine_MapLine);Registry_registry.registeredClasses.MapArc=MapArc_MapArc;var MapSplineSeries_MapSplineSeriesDataItem=function(_super){function MapSplineSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapSplineSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapSplineSeriesDataItem,_super),MapSplineSeriesDataItem}(MapLineSeries_MapLineSeriesDataItem),MapSplineSeries_MapSplineSeries=function(_super){function MapSplineSeries(){var _this=_super.call(this)||this;return _this.className="MapSplineSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapSplineSeries,_super),MapSplineSeries.prototype.createDataItem=function(){return new MapSplineSeries_MapSplineSeriesDataItem},MapSplineSeries.prototype.createLine=function(){return new MapSpline_MapSpline},MapSplineSeries}(MapLineSeries_MapLineSeries);Registry_registry.registeredClasses.MapSplineSeries=MapSplineSeries_MapSplineSeries,Registry_registry.registeredClasses.MapSplineSeriesDataItem=MapSplineSeries_MapSplineSeriesDataItem;var MapArcSeries_MapArcSeriesDataItem=function(_super){function MapArcSeriesDataItem(){var _this=_super.call(this)||this;return _this.className="MapArcSeriesDataItem",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapArcSeriesDataItem,_super),MapArcSeriesDataItem}(MapLineSeries_MapLineSeriesDataItem),MapArcSeries_MapArcSeries=function(_super){function MapArcSeries(){var _this=_super.call(this)||this;return _this.className="MapArcSeries",_this.applyTheme(),_this}return Object(tslib_es6.d)(MapArcSeries,_super),MapArcSeries.prototype.createDataItem=function(){return new MapArcSeries_MapArcSeriesDataItem},MapArcSeries.prototype.createLine=function(){return new MapArc_MapArc},MapArcSeries}(MapLineSeries_MapLineSeries);Registry_registry.registeredClasses.MapArcSeries=MapArcSeries_MapArcSeries,Registry_registry.registeredClasses.MapArcSeriesDataItem=MapArcSeries_MapArcSeriesDataItem;var ZoomControl_ZoomControl=function(_super){function ZoomControl(){var _this=_super.call(this)||this;_this._chart=new Disposer_MutableValueDisposer,_this.className="ZoomControl",_this.align="right",_this.valign="bottom",_this.layout="vertical",_this.padding(5,5,5,5);var interfaceColors=new InterfaceColorSet_InterfaceColorSet,plusButton=_this.createChild(Button_Button);plusButton.shouldClone=!1,plusButton.label.text="+",_this.plusButton=plusButton;var slider=_this.createChild(Container_Container);slider.shouldClone=!1,slider.background.fill=interfaceColors.getFor("alternativeBackground"),slider.background.fillOpacity=.05,slider.background.events.on("hit",_this.handleBackgroundClick,_this,!1),slider.events.on("sizechanged",_this.updateThumbSize,_this,!1),_this.slider=slider;var thumb=slider.createChild(Button_Button);thumb.shouldClone=!1,thumb.padding(0,0,0,0),thumb.draggable=!0,thumb.events.on("drag",_this.handleThumbDrag,_this,!1),_this.thumb=thumb;var minusButton=_this.createChild(Button_Button);return minusButton.shouldClone=!1,minusButton.label.text="-",_this.minusButton=minusButton,_this.thumb.role="slider",_this.thumb.readerLive="polite",_this.thumb.readerTitle=_this.language.translate("Use arrow keys to zoom in and out"),_this.minusButton.readerTitle=_this.language.translate("Press ENTER to zoom in"),_this.plusButton.readerTitle=_this.language.translate("Press ENTER to zoom out"),_this.applyTheme(),_this.events.on("propertychanged",(function(event){"layout"==event.property&&_this.fixLayout()}),void 0,!1),_this._disposers.push(_this._chart),_this.fixLayout(),_this}return Object(tslib_es6.d)(ZoomControl,_super),ZoomControl.prototype.fixLayout=function(){var plusButton=this.plusButton,minusButton=this.minusButton,thumb=this.thumb,slider=this.slider;plusButton.x=void 0,plusButton.y=void 0,minusButton.x=void 0,minusButton.y=void 0,thumb.x=void 0,thumb.y=void 0,slider.x=void 0,slider.y=void 0,plusButton.padding(6,10,6,10),minusButton.padding(6,10,6,10),minusButton.label.align="center",minusButton.label.valign="middle",plusButton.label.align="center",plusButton.label.valign="middle","vertical"==this.layout?(this.width=40,this.height=void 0,minusButton.width=Percent_percent(100),minusButton.height=void 0,thumb.width=Percent_percent(100),thumb.height=void 0,plusButton.width=Percent_percent(100),plusButton.height=void 0,slider.width=Percent_percent(100),minusButton.marginTop=1,plusButton.marginBottom=2,slider.height=0,minusButton.toFront(),plusButton.toBack(),thumb.minX=0,thumb.maxX=0,thumb.minY=0):"horizontal"==this.layout&&(this.height=40,this.width=void 0,minusButton.height=Percent_percent(100),minusButton.width=void 0,plusButton.height=Percent_percent(100),plusButton.width=void 0,thumb.height=Percent_percent(100),thumb.width=void 0,thumb.minX=0,thumb.minY=0,thumb.maxY=0,slider.height=Percent_percent(100),slider.width=0,minusButton.toBack(),plusButton.toFront())},ZoomControl.prototype.handleBackgroundClick=function(event){var sprite=event.target,y=event.spritePoint.y,chart=this.chart,maxPower=Math.log(chart.maxZoomLevel)/Math.LN2,minPower=Math.log(chart.minZoomLevel)/Math.LN2,power=(sprite.pixelHeight-y)/sprite.pixelHeight*(minPower+(maxPower-minPower)),zoomLevel=Math.pow(2,power);chart.zoomToGeoPoint(chart.zoomGeoPoint,zoomLevel)},Object.defineProperty(ZoomControl.prototype,"chart",{get:function(){return this._chart.get()},set:function(chart){var _this=this;this._chart.set(chart,new Disposer_MultiDisposer([chart.events.on("maxsizechanged",this.updateThumbSize,this,!1),chart.events.on("zoomlevelchanged",this.updateThumb,this,!1),this.minusButton.events.on("hit",(function(){chart.zoomOut(chart.zoomGeoPoint)}),chart,!1),getInteraction().body.events.on("keyup",(function(ev){_this.topParent.hasFocused&&(keyboard.isKey(ev.event,"plus")?chart.zoomIn():keyboard.isKey(ev.event,"minus")&&chart.zoomOut())}),chart),this.plusButton.events.on("hit",(function(){chart.zoomIn(chart.zoomGeoPoint)}),chart,!1)]))},enumerable:!0,configurable:!0}),ZoomControl.prototype.updateThumbSize=function(){if(this.chart){var slider=this.slider,thumb=this.thumb;"vertical"==this.layout?(thumb.minHeight=Math.min(this.slider.pixelHeight,20),thumb.height=slider.pixelHeight/this.stepCount,thumb.maxY=slider.pixelHeight-thumb.pixelHeight,thumb.pixelHeight<=1?thumb.visible=!1:thumb.visible=!0):(thumb.minWidth=Math.min(this.slider.pixelWidth,20),thumb.width=slider.pixelWidth/this.stepCount,thumb.maxX=slider.pixelWidth-thumb.pixelWidth,thumb.pixelWidth<=1?thumb.visible=!1:thumb.visible=!0)}},ZoomControl.prototype.updateThumb=function(){var slider=this.slider,chart=this.chart,thumb=this.thumb;if(!thumb.isDown){var step=(Math.log(chart.zoomLevel)-Math.log(this.chart.minZoomLevel))/Math.LN2;"vertical"==this.layout?thumb.y=slider.pixelHeight-(slider.pixelHeight-thumb.pixelHeight)*step/this.stepCount-thumb.pixelHeight:thumb.x=slider.pixelWidth*step/this.stepCount}},ZoomControl.prototype.handleThumbDrag=function(){var step,slider=this.slider,chart=this.chart,thumb=this.thumb;step=Math.log(this.chart.minZoomLevel)/Math.LN2+(step="vertical"==this.layout?this.stepCount*(slider.pixelHeight-thumb.pixelY-thumb.pixelHeight)/(slider.pixelHeight-thumb.pixelHeight):this.stepCount*thumb.pixelX/slider.pixelWidth);var zoomLevel=Math.pow(2,step);chart.zoomToGeoPoint(void 0,zoomLevel,!1,0)},Object.defineProperty(ZoomControl.prototype,"stepCount",{get:function(){return Math.log(this.chart.maxZoomLevel)/Math.LN2-Math.log(this.chart.minZoomLevel)/Math.LN2},enumerable:!0,configurable:!0}),ZoomControl.prototype.createBackground=function(){return new RoundedRectangle_RoundedRectangle},ZoomControl}(Container_Container);function mercatorRaw(lambda,phi){return[lambda,math_log(math_tan((halfPi+phi)/2))]}Registry_registry.registeredClasses.ZoomControl=ZoomControl_ZoomControl,mercatorRaw.invert=function(x,y){return[x,2*atan(math_exp(y))-halfPi]};var mercator=function(){return function(project){var y0,x1,y1,m=projection_projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=pi*scale(),t=m(function(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates}return rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates},forward}(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}(mercatorRaw).scale(961/math_tau)};var Mercator_Mercator=function(_super){function Mercator(){var _this=_super.call(this)||this;return _this.d3Projection=mercator(),_this}return Object(tslib_es6.d)(Mercator,_super),Mercator}(Projection_Projection);Registry_registry.registeredClasses.Mercator=Mercator_Mercator;var math_abs=Math.abs,math_atan=Math.atan,src_math_cos=(Math.atan2,Math.ceil,Math.cos),src_math_exp=Math.exp,src_math_log=(Math.floor,Math.log),src_math_sin=(Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),src_math_tan=Math.tan,math_pi=Math.PI,math_halfPi=math_pi/2,math_quarterPi=math_pi/4;Math.SQRT1_2,math_sqrt(2),math_sqrt(math_pi);function math_asin(x){return x>1?math_halfPi:x<-1?-math_halfPi:Math.asin(x)}function math_sqrt(x){return x>0?Math.sqrt(x):0}function millerRaw(lambda,phi){return[lambda,1.25*src_math_log(src_math_tan(math_quarterPi+.4*phi))]}millerRaw.invert=function(x,y){return[x,2.5*math_atan(src_math_exp(.8*y))-.625*math_pi]};var Miller_Miller=function(_super){function Miller(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(millerRaw).scale(108.318),_this}return Object(tslib_es6.d)(Miller,_super),Miller}(Projection_Projection);function eckert6Raw(lambda,phi){for(var k=(1+math_halfPi)*src_math_sin(phi),i=0,delta=1/0;i<10&&math_abs(delta)>1e-6;i++)phi-=delta=(phi+src_math_sin(phi)-k)/(1+src_math_cos(phi));return k=math_sqrt(2+math_pi),[lambda*(1+src_math_cos(phi))/k,2*phi/k]}Registry_registry.registeredClasses.Miller=Miller_Miller,eckert6Raw.invert=function(x,y){var j=1+math_halfPi,k=math_sqrt(j/2);return[2*x*k/(1+src_math_cos(y*=k)),math_asin((y+src_math_sin(y))/j)]};var Eckert6_Eckert6=function(_super){function Eckert6(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(eckert6Raw).scale(173.044),_this}return Object(tslib_es6.d)(Eckert6,_super),Eckert6}(Projection_Projection);function azimuthalInvert(angle){return function(x,y){var z=sqrt(x*x+y*y),c=angle(z),sc=math_sin(c),cc=math_cos(c);return[atan2(x*sc,z*cc),asin(z&&y*sc/z)]}}function orthographicRaw(x,y){return[math_cos(y)*math_sin(x),math_sin(y)]}Registry_registry.registeredClasses.Eckert6=Eckert6_Eckert6,orthographicRaw.invert=azimuthalInvert(asin);var Orthographic_Orthographic=function(_super){function Orthographic(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(orthographicRaw).scale(249.5).clipAngle(90+1e-6),_this}return Object(tslib_es6.d)(Orthographic,_super),Orthographic}(Projection_Projection);function stereographicRaw(x,y){var cy=math_cos(y),k=1+math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}Registry_registry.registeredClasses.Orthographic=Orthographic_Orthographic,stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)}));var Stereographic_Stereographic=function(_super){function Stereographic(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(stereographicRaw).scale(250).clipAngle(142),_this}return Object(tslib_es6.d)(Stereographic,_super),Stereographic}(Projection_Projection);function conicEqualAreaRaw(y0,y1){var sy0=math_sin(y0),n=(sy0+math_sin(y1))/2;if(abs(n)<1e-6)return function(phi0){var cosPhi0=math_cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,math_sin(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]},forward}(y0);var c=1+sy0*(2*n-sy0),r0=sqrt(c)/n;function project(x,y){var r=sqrt(c-2*n*math_sin(y))/n;return[r*math_sin(x*=n),r0-r*math_cos(x)]}return project.invert=function(x,y){var r0y=r0-y,l=atan2(x,abs(r0y))*math_sign(r0y);return r0y*n<0&&(l-=pi*math_sign(x)*math_sign(r0y)),[l/n,asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}Registry_registry.registeredClasses.Stereographic=Stereographic_Stereographic;var conicEqualArea=function(){return(projectAt=conicEqualAreaRaw,phi0=0,phi1=pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1),p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*math_degrees,phi1*math_degrees]},p).scale(155.424).center([0,33.6442]);var projectAt,phi0,phi1,m,p},albers=function(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Albers_Albers=function(_super){function Albers(){var _this=_super.call(this)||this;return _this.d3Projection=albers(),_this}return Object(tslib_es6.d)(Albers,_super),Albers}(Projection_Projection);Registry_registry.registeredClasses.Albers=Albers_Albers;var AlbersUsa_AlbersUsa=function(_super){function AlbersUsa(){var _this=_super.call(this)||this;return _this.d3Projection=function(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=albers(),alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:(streams=[lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)],n=streams.length,cache={point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}});var streams,n},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+1e-6,y+.12*k+1e-6],[x-.214*k-1e-6,y+.234*k-1e-6]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+1e-6,y+.166*k+1e-6],[x-.115*k-1e-6,y+.234*k-1e-6]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)},albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)},albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)},albersUsa.scale(1070)}(),_this}return Object(tslib_es6.d)(AlbersUsa,_super),AlbersUsa}(Projection_Projection);function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}Registry_registry.registeredClasses.AlbersUsa=AlbersUsa_AlbersUsa,naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(abs(delta)>1e-6&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]};var NaturalEarth1_NaturalEarth1=function(_super){function NaturalEarth1(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(naturalEarth1Raw).scale(175.295),_this}return Object(tslib_es6.d)(NaturalEarth1,_super),NaturalEarth1}(Projection_Projection);Registry_registry.registeredClasses.NaturalEarth1=NaturalEarth1_NaturalEarth1;var scale,azimuthalEqualAreaRaw=(scale=function(cxcy){return sqrt(2/(1+cxcy))},function(x,y){var cx=math_cos(x),cy=math_cos(y),k=scale(cx*cy);return[k*cy*math_sin(x),k*math_sin(y)]});azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin(z/2)}));var AzimuthalEqualArea_AzimuthalEqualArea=function(_super){function AzimuthalEqualArea(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999),_this}return Object(tslib_es6.d)(AzimuthalEqualArea,_super),AzimuthalEqualArea}(Projection_Projection);Registry_registry.registeredClasses.AzimuthalEqualArea=AzimuthalEqualArea_AzimuthalEqualArea;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt(3)/2;function equalEarthRaw(lambda,phi){var l=asin(M*math_sin(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*math_cos(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}equalEarthRaw.invert=function(x,y){for(var delta,l=y,l2=l*l,l6=l2*l2*l2,i=0;i<12&&(l6=(l2=(l-=delta=(l*(A1+A2*l2+l6*(A3+A4*l2))-y)/(A1+3*A2*l2+l6*(7*A3+9*A4*l2)))*l)*l2*l2,!(abs(delta)<1e-12));++i);return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/math_cos(l),asin(math_sin(l)/M)]};var EqualEarth_EqualEarth=function(_super){function EqualEarth(){var _this=_super.call(this)||this;return _this.d3Projection=projection_projection(equalEarthRaw).scale(177.158),_this}return Object(tslib_es6.d)(EqualEarth,_super),EqualEarth}(Projection_Projection);Registry_registry.registeredClasses.EqualEarth=EqualEarth_EqualEarth;var worldLow={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[179.2223,-8.554],[179.2023,-8.4653],[179.2312,-8.5048],[179.2223,-8.554]]]},properties:{name:"Tuvalu",id:"TV"},id:"TV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[3.4624,-54.4471],[3.3461,-54.4511],[3.3669,-54.3997],[3.4814,-54.4001],[3.4624,-54.4471]]]},properties:{name:"Bouvet Island",id:"BV"},id:"BV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-5.3345,36.1623],[-5.3382,36.1122],[-5.3562,36.1264],[-5.3551,36.1455],[-5.3345,36.1623]]]},properties:{name:"Gibraltar",id:"GI"},id:"GI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[47.3029,-11.5752],[47.282,-11.5747],[47.2789,-11.5574],[47.2971,-11.5543],[47.3029,-11.5752]]]},properties:{name:"Glorioso Islands",id:"GO"},id:"GO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[42.7579,-17.075],[42.7415,-17.0741],[42.7379,-17.0519],[42.761,-17.0652],[42.7579,-17.075]]]},properties:{name:"Juan De Nova Island",id:"JU"},id:"JU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-160.0213,-.398],[-160.0453,-.3802],[-160.0178,-.3744],[-160.0213,-.398]]]},properties:{name:"Jarvis Island",id:"UM-DQ"},id:"UM-DQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-176.456,.2226],[-176.4615,.215],[-176.4675,.2195],[-176.456,.2226]]]},properties:{name:"Baker Island",id:"UM-FQ"},id:"UM-FQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-176.6311,.7952],[-176.6433,.7934],[-176.6429,.8081],[-176.6329,.8085],[-176.6311,.7952]]]},properties:{name:"Howland Island",id:"UM-HQ"},id:"UM-HQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-169.5237,16.7305],[-169.5388,16.7243],[-169.5388,16.7296],[-169.5237,16.7305]]]},properties:{name:"Johnston Atoll",id:"UM-JQ"},id:"UM-JQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-177.3881,28.1865],[-177.3879,28.2144],[-177.3646,28.2042],[-177.3881,28.1865]]]},properties:{name:"Midway Islands",id:"UM-MQ"},id:"UM-MQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[166.6588,19.2829],[166.6087,19.3073],[166.6277,19.3246],[166.6588,19.3117],[166.6588,19.2829]]]},properties:{name:"Wake Island",id:"UM-WQ"},id:"UM-WQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-68.2058,12.1446],[-68.2873,12.1717],[-68.3711,12.2574],[-68.3694,12.3018],[-68.2196,12.2312],[-68.2058,12.1446]]]},properties:{name:"Bonair, Saint Eustachius and Saba",id:"BQ"},id:"BQ"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[4.2263,51.3865],[3.9023,51.2076],[3.35,51.3776],[4.2263,51.3865]]],[[[4.2263,51.3865],[3.5871,51.454],[4.4829,52.3091],[4.7687,52.9412],[5.1203,52.3881],[5.5611,52.5948],[5.3755,53.0957],[6.0622,53.4071],[6.8164,53.4413],[7.1973,53.2823],[7.0352,52.3801],[6.7418,51.9109],[5.9486,51.7625],[6.1932,51.4888],[5.8949,50.9843],[5.9939,50.7504],[5.7972,50.7546],[5.6938,50.7748],[5.827,51.1257],[4.5033,51.4746],[4.2263,51.3865]]]]},properties:{name:"Netherlands",id:"NL"},id:"NL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[31.2877,-22.4021],[30.4603,-22.3289],[29.6631,-22.1465],[29.3648,-22.194],[29.0372,-21.8113],[28.0455,-21.5729],[27.6696,-21.0642],[27.6997,-20.5307],[27.2807,-20.4788],[27.2217,-20.1458],[26.6784,-19.8928],[26.1683,-19.5381],[25.7613,-18.6495],[25.2242,-17.9153],[25.2588,-17.7936],[25.8634,-17.9521],[27.0206,-17.9583],[27.9323,-16.8961],[28.7606,-16.5321],[28.9129,-15.9879],[29.7297,-15.6448],[30.3959,-15.643],[30.4377,-15.9954],[31.2362,-16.0239],[31.9398,-16.4287],[32.2434,-16.4487],[32.9479,-16.7123],[32.9932,-18.3596],[32.7166,-19.0019],[33.0069,-19.8737],[32.4778,-20.7131],[32.3713,-21.335],[31.2877,-22.4021]]]},properties:{name:"Zimbabwe",id:"ZW"},id:"ZW"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[32.9199,-9.4072],[33.3509,-9.8622],[33.659,-10.5906],[33.2613,-10.8934],[33.3798,-11.1579],[33.2262,-11.5348],[33.2524,-12.1127],[33.398,-12.49],[33.0216,-12.6303],[32.9679,-13.2251],[32.6722,-13.6104],[32.9812,-14.0095],[33.2018,-14.0135],[31.729,-14.496],[30.2317,-14.9905],[30.3959,-15.643],[29.7297,-15.6448],[28.9129,-15.9879],[28.7606,-16.5321],[27.9323,-16.8961],[27.0206,-17.9583],[25.8634,-17.9521],[25.2588,-17.7936],[24.9325,-17.5433],[24.2751,-17.4812],[23.3807,-17.6405],[22.1507,-16.5974],[21.9798,-15.9555],[21.9789,-13.0009],[23.8432,-13.0009],[23.9915,-12.4221],[23.9666,-10.8716],[24.32,-11.0718],[24.5184,-11.4384],[25.1847,-11.2431],[25.3493,-11.6231],[26.0258,-11.8903],[26.5962,-11.972],[26.9496,-11.8988],[27.0459,-11.616],[27.5333,-12.1953],[28.3576,-12.482],[29.0141,-13.3689],[29.5543,-13.2491],[29.7954,-13.3929],[29.7954,-12.1553],[29.4274,-12.4314],[29.0643,-12.3489],[28.4823,-11.8122],[28.3572,-11.4828],[28.639,-10.6692],[28.6301,-9.8311],[28.4007,-9.2248],[28.9178,-8.7005],[28.9724,-8.4648],[30.7511,-8.1936],[31.0764,-8.6117],[31.3508,-8.6069],[31.9425,-9.0539],[32.4334,-9.1564],[32.9199,-9.4072]]]},properties:{name:"Zambia",id:"ZM"},id:"ZM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[31.2877,-22.4021],[31.5456,-23.4821],[31.7995,-23.8923],[31.986,-24.4605],[31.9482,-25.9577],[31.4151,-25.7464],[31.2074,-25.8432],[30.8034,-26.4136],[30.7941,-26.7643],[31.0636,-27.1123],[31.4697,-27.2956],[31.9584,-27.3058],[32.1129,-26.8393],[32.8862,-26.8495],[32.5346,-28.1998],[32.2856,-28.6215],[31.7782,-28.9371],[31.3352,-29.3779],[30.2885,-30.9701],[28.8561,-32.2943],[27.8604,-33.0538],[27.0774,-33.5212],[26.4293,-33.7596],[25.9894,-33.7112],[25.6383,-34.0112],[25.0031,-33.9735],[24.8273,-34.1688],[23.5858,-33.9851],[23.2684,-34.0814],[22.2456,-34.0694],[21.7889,-34.3726],[21.06,-34.3646],[20.53,-34.4631],[20.0204,-34.7858],[19.6351,-34.7534],[18.8086,-34.108],[18.3545,-33.9389],[18.4331,-33.7174],[17.8782,-32.9614],[18.2511,-32.652],[18.3105,-32.1225],[18.2107,-31.7425],[17.6776,-31.019],[17.1893,-30.0997],[16.95,-29.4036],[16.4475,-28.6175],[16.7556,-28.4524],[17.0561,-28.0311],[17.3855,-28.3534],[17.4481,-28.6983],[18.1028,-28.8719],[19.2458,-28.9016],[19.6715,-28.5039],[19.9805,-28.4515],[19.9805,-26.5312],[19.9805,-24.777],[20.3453,-25.03],[20.7932,-25.9155],[20.6268,-26.4438],[20.74,-26.849],[21.6464,-26.8544],[22.0907,-26.5801],[22.6403,-26.0714],[22.8786,-25.4579],[23.2662,-25.2666],[23.8938,-25.6008],[24.7483,-25.8174],[25.5837,-25.6062],[25.9122,-24.7477],[26.3974,-24.6136],[26.835,-24.2407],[27.1462,-23.5243],[27.8906,-23.0737],[28.2102,-22.6938],[28.8397,-22.4807],[29.3648,-22.194],[29.6631,-22.1465],[30.4603,-22.3289],[31.2877,-22.4021]],[[27.8303,-28.9091],[27.2945,-29.5195],[27.0517,-29.6642],[27.3886,-30.3158],[28.018,-30.6421],[28.3922,-30.1476],[29.098,-29.919],[29.3905,-29.2696],[29.3013,-29.0898],[28.6257,-28.5816],[27.8303,-28.9091]]]},properties:{name:"South Africa",id:"ZA"},id:"ZA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[53.0855,16.6484],[52.3278,16.2937],[52.2177,15.6554],[51.6038,15.3367],[50.5269,15.0384],[50.1669,14.8511],[49.3497,14.638],[48.6683,14.0503],[47.9901,14.0481],[47.4077,13.6614],[46.7889,13.4657],[45.6574,13.3387],[45.0386,12.8158],[44.6178,12.8171],[43.9298,12.6165],[43.4752,12.8389],[43.232,13.2672],[43.2826,13.6397],[43.089,14.0108],[43.0211,14.555],[42.7171,15.6545],[42.7992,16.3718],[43.1649,16.6892],[43.1911,17.3595],[43.418,17.5162],[43.9169,17.3249],[44.1557,17.3986],[45.1483,17.4274],[45.4066,17.32],[46.3104,17.2312],[46.6819,17.2685],[46.9758,16.9533],[47.4418,17.1118],[47.5795,17.4483],[48.172,18.1567],[49.0421,18.582],[51.9775,18.9961],[52.729,17.3005],[53.0855,16.6484]]]},properties:{name:"Yemen",id:"YE"},id:"YE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-172.3335,-13.4653],[-172.225,-13.8044],[-172.5357,-13.7915],[-172.7441,-13.5789],[-172.3335,-13.4653]]]},properties:{name:"Samoa",id:"WS"},id:"WS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-178.0467,-14.3184],[-178.1585,-14.3118],[-178.1423,-14.2425],[-178.0467,-14.3184]]]},properties:{name:"Wallis and Futuna",id:"WF"},id:"WF"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[34.2454,31.2085],[34.1983,31.3226],[34.4775,31.5849],[34.2454,31.2085]]],[[[35.4505,31.4793],[34.9507,31.6022],[34.9561,32.1611],[35.1931,32.5344],[35.5513,32.3955],[35.5589,31.7656],[35.4505,31.4793]]]]},properties:{name:"Palestinian Territories",id:"PS"},id:"PS"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[166.7458,-14.8267],[166.8102,-15.1574],[167.1316,-15.1352],[167.1995,-15.4859],[166.8257,-15.635],[166.6313,-15.406],[166.5274,-14.8502],[166.7458,-14.8267]]],[[[167.4125,-16.0958],[167.8365,-16.4495],[167.4494,-16.5552],[167.4125,-16.0958]]]]},properties:{name:"Vanuatu",id:"VU"},id:"VU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[107.9727,21.5081],[107.4099,21.2848],[107.3544,21.0553],[106.6757,20.9603],[106.7534,20.7348],[106.5181,20.2887],[105.9841,19.9389],[105.6219,18.9664],[105.8882,18.5025],[106.499,17.9463],[106.479,17.7195],[107.1804,16.8978],[108.0296,16.331],[108.8215,15.378],[109.0847,14.7161],[109.3035,13.8563],[109.272,13.2792],[109.4238,12.9561],[109.2187,12.6458],[109.1988,11.7247],[108.8206,11.3155],[108.2715,10.9342],[107.2616,10.3984],[106.8128,10.4334],[106.5723,9.6411],[105.5011,9.0933],[105.3223,8.8013],[104.8921,8.5833],[104.8184,8.8017],[104.8451,9.606],[105.028,10.0672],[104.6635,10.1698],[104.4265,10.4112],[104.8504,10.5347],[105.3866,10.9399],[106.1679,11.0123],[105.8558,11.2941],[105.8514,11.6351],[106.3401,11.6817],[106.4138,11.9484],[106.9305,12.0776],[107.5062,12.3644],[107.4756,13.0302],[107.6056,13.4377],[107.3313,14.1266],[107.5195,14.705],[107.6531,15.255],[107.1897,15.7473],[107.3966,16.0429],[106.6961,16.4588],[106.5021,16.9542],[105.6916,17.7377],[105.4581,18.1545],[105.0857,18.4501],[105.115,18.6787],[104.7163,18.8035],[103.8965,19.3401],[104.0319,19.6753],[104.5463,19.6105],[104.9281,20.018],[104.6187,20.3744],[104.5832,20.6465],[104.0518,20.9413],[103.635,20.6971],[103.1046,20.8915],[102.8511,21.2657],[102.9488,21.5698],[102.1276,22.379],[102.5173,22.7408],[103.0051,22.4532],[103.3008,22.7643],[104.3719,22.704],[104.7958,22.9112],[104.8646,23.1363],[105.2752,23.3454],[105.8429,22.9228],[106.5421,22.9081],[106.7804,22.779],[106.5363,22.3954],[106.7294,22.0004],[107.3513,21.6089],[107.9727,21.5081]]]},properties:{name:"Vietnam",id:"VN"},id:"VN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-64.7656,17.7945],[-64.6862,17.7062],[-64.889,17.7017],[-64.8848,17.7723],[-64.7656,17.7945]]]},properties:{name:"US Virgin Islands",id:"VI"},id:"VI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-64.3952,18.4648],[-64.4261,18.5132],[-64.3246,18.5176],[-64.3952,18.4648]]]},properties:{name:"British Virgin Islands",id:"VG"},id:"VG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-60.0175,8.5491],[-59.8315,8.3059],[-60.0324,8.0537],[-60.5136,7.8131],[-60.7191,7.4989],[-60.3951,6.9453],[-61.1457,6.6945],[-61.1286,6.2142],[-61.3767,5.9071],[-60.7422,5.2022],[-60.6046,4.9944],[-61.0028,4.5354],[-62.1531,4.0982],[-62.7122,4.0179],[-62.9685,3.594],[-63.2948,3.9224],[-64.0214,3.9291],[-64.2556,4.1404],[-64.5679,3.8998],[-64.2212,3.5873],[-64.2188,3.2047],[-63.9242,2.4523],[-63.3893,2.4119],[-63.394,2.2223],[-64.0354,1.9045],[-64.1149,1.6191],[-65.1037,1.1082],[-65.3609,.8685],[-65.6814,.9834],[-66.06,.7854],[-66.4293,.8218],[-66.8761,1.2231],[-67.2108,2.3901],[-67.8347,2.8926],[-67.3111,3.416],[-67.6616,3.8643],[-67.8553,4.507],[-67.8249,5.2705],[-67.4394,6.0256],[-67.8591,6.2897],[-68.4717,6.1565],[-69.4392,6.1348],[-70.095,6.9378],[-70.6552,7.0829],[-71.0134,6.9946],[-72.0843,7.0967],[-72.443,7.4549],[-72.4166,8.3818],[-72.6654,8.6277],[-72.7963,9.1089],[-73.3563,9.2269],[-73.0065,9.7894],[-72.8693,10.4911],[-72.6902,10.8361],[-72.2485,11.1965],[-71.958,11.6666],[-71.3197,11.8619],[-71.8686,11.6275],[-71.9469,11.4144],[-71.5942,10.6572],[-72.1129,9.8155],[-71.6868,9.0725],[-71.2979,9.1257],[-71.0858,9.3481],[-71.0527,9.7059],[-71.3867,10.2639],[-71.5445,10.7788],[-71.4695,10.9643],[-70.2326,11.3732],[-70.2865,11.8859],[-70.004,12.1779],[-69.6316,11.4801],[-68.8279,11.4318],[-68.3987,11.161],[-68.234,10.5693],[-67.8715,10.4721],[-66.9891,10.6106],[-66.2471,10.6323],[-65.8518,10.2577],[-65.1292,10.0699],[-64.8504,10.0979],[-63.8734,10.6638],[-62.7024,10.7499],[-62.8429,10.4179],[-62.5151,10.176],[-60.7923,9.3606],[-61.0531,9.0951],[-61.3039,8.4102],[-60.801,8.5922],[-60.0175,8.5491]]]},properties:{name:"Venezuela",id:"VE"},id:"VE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.1745,13.1581],[-61.2773,13.2095],[-61.1821,13.356],[-61.1239,13.2939],[-61.1745,13.1581]]]},properties:{name:"Saint Vincent and the Grenadines",id:"VC"},id:"VC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[12.4392,41.8983],[12.4307,41.8974],[12.4307,41.9054],[12.4383,41.9063],[12.4392,41.8983]]]},properties:{name:"Vatican City",id:"VA"},id:"VA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[70.9468,42.2485],[70.8421,42.0195],[70.1811,41.5716],[70.7826,41.2626],[71.4085,41.1361],[71.7924,41.4131],[72.6585,40.8698],[73.113,40.7859],[71.6926,40.1525],[70.9579,40.239],[70.3826,40.4534],[70.7511,40.7397],[70.4417,41.0234],[69.7128,40.6572],[69.2063,40.5666],[69.2281,40.1875],[68.6528,40.1827],[68.4632,39.5368],[67.7193,39.6216],[67.3495,39.242],[67.6767,39.0086],[68.1037,38.9619],[68.0478,38.6694],[68.2941,38.0329],[67.8143,37.4869],[67.7592,37.1722],[67.069,37.3346],[66.5221,37.3484],[66.5745,38.0107],[65.8572,38.2686],[65.613,38.2384],[64.1628,38.9535],[62.6505,39.8586],[61.903,41.0935],[60.455,41.2218],[60.0897,41.3994],[60.107,41.9076],[59.8584,42.2951],[59.4509,42.2996],[58.5889,42.7785],[58.2595,42.688],[57.8143,42.1899],[57.3819,42.1562],[56.9642,41.8566],[57.0179,41.2635],[55.9774,41.3221],[55.9766,42.929],[55.9757,44.9949],[58.5551,45.5555],[61.0081,44.3939],[61.1608,44.1688],[61.9904,43.4923],[63.2071,43.6281],[64.4434,43.5513],[64.9054,43.7147],[65.4963,43.3108],[65.803,42.8771],[66.1004,42.9907],[66.0094,42.0048],[66.4986,41.9951],[66.6686,41.2706],[66.8142,41.1423],[67.9359,41.1965],[68.2919,40.6563],[69.0652,41.367],[70.0954,41.8206],[70.4159,42.0785],[70.9468,42.2485]]]},properties:{name:"Uzbekistan",id:"UZ"},id:"UZ"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-166.1355,60.3835],[-165.7298,60.3143],[-165.5917,59.9132],[-166.1876,59.7738],[-167.1389,60.0086],[-166.1355,60.3835]]],[[[-171.4631,63.6401],[-170.4304,63.6989],[-169.7778,63.0937],[-171.4631,63.6401]]],[[[-141.0021,69.6509],[-141.0021,68.4819],[-141.0021,65.56],[-141.0021,63.2222],[-141.0021,60.3003],[-139.1852,60.0837],[-137.5932,59.2263],[-137.4385,58.9031],[-136.5787,59.1522],[-136.3219,59.6049],[-135.4759,59.7934],[-134.9439,59.2882],[-133.8208,58.7049],[-131.8661,56.7929],[-131.5752,56.5989],[-130.4772,56.2307],[-130.0251,55.8882],[-130.0366,55.2978],[-130.2142,55.026],[-130.5753,54.7696],[-131.0478,55.1576],[-130.9186,55.736],[-131.8439,56.1601],[-132.8143,57.0408],[-133.4659,57.1722],[-133.5543,57.6951],[-134.0634,58.2111],[-134.7761,58.4539],[-135.3025,58.2559],[-135.8618,58.5771],[-136.5827,58.2453],[-137.544,58.5811],[-138.3525,59.0873],[-140.2168,59.7266],[-140.8432,59.749],[-141.6702,59.9698],[-142.9457,60.097],[-143.8051,60.0129],[-144.9012,60.3351],[-145.8989,60.4783],[-146.8741,61.005],[-148.3445,60.8536],[-148.1976,60.1678],[-148.4306,59.9891],[-149.4323,60.0011],[-150.9608,59.244],[-151.7383,59.1886],[-151.7345,59.9882],[-151.4515,60.2026],[-151.3217,60.7428],[-150.4412,61.0236],[-150.6124,61.3013],[-151.7341,60.9106],[-151.7505,60.7548],[-153.1061,59.875],[-154.0883,59.3632],[-154.1298,59.12],[-153.327,58.8843],[-154.0199,58.493],[-154.2469,58.1594],[-155.0069,58.016],[-156.4784,57.328],[-156.4751,57.1051],[-157.5784,56.6344],[-158.4144,56.4358],[-158.2757,56.1963],[-159.5233,55.8101],[-159.9623,55.7948],[-161.0995,55.4057],[-161.7416,55.3911],[-162.0741,55.1394],[-162.8651,54.9545],[-162.9621,55.1838],[-162.1571,55.7195],[-161.2156,56.0214],[-160.8514,55.7719],[-160.3021,56.3141],[-159.2831,56.6886],[-158.321,57.2978],[-157.6077,57.6014],[-157.5235,58.4213],[-158.5032,58.8503],[-159.0827,58.4697],[-159.6702,58.9111],[-160.3631,59.0512],[-161.7554,58.6119],[-161.8286,59.5887],[-162.2425,60.1782],[-163.2193,59.8455],[-163.9069,59.8067],[-164.6622,60.3038],[-165.3538,60.5413],[-164.8051,60.892],[-165.566,61.1024],[-166.0789,61.8031],[-165.1944,62.4736],[-164.409,63.2151],[-163.3589,63.0458],[-161.974,63.453],[-161.0997,63.558],[-160.7786,63.819],[-160.932,64.5792],[-161.7594,64.8162],[-162.807,64.3743],[-163.7132,64.5883],[-164.8995,64.4607],[-166.1428,64.5827],[-167.4039,65.4221],[-168.0884,65.6578],[-164.6742,66.5549],[-163.7755,66.5312],[-163.6954,66.0838],[-161.8164,66.0536],[-161.557,66.2504],[-160.2317,66.4202],[-160.864,66.6708],[-161.8566,66.7003],[-161.9653,67.0497],[-163.0016,67.0272],[-163.7205,67.1955],[-164.1251,67.6067],[-166.3805,68.4251],[-166.2092,68.8854],[-164.3024,68.9364],[-163.1614,69.3879],[-162.9521,69.7581],[-161.881,70.3318],[-160.9963,70.3045],[-159.3144,70.8785],[-157.9985,70.8454],[-156.7833,71.319],[-155.1669,71.0993],[-154.1952,70.801],[-153.2329,70.9326],[-152.233,70.8103],[-151.9447,70.4521],[-149.2694,70.5007],[-147.7053,70.2173],[-145.8232,70.16],[-145.1973,70.0086],[-143.2184,70.1163],[-141.4078,69.6533],[-141.0021,69.6509]]],[[[-155.5813,19.0121],[-155.8814,19.0707],[-156.0487,19.7498],[-155.8316,20.2759],[-155.1989,19.9944],[-154.8043,19.5244],[-155.5813,19.0121]]],[[[-72.5098,40.9861],[-73.1943,40.6541],[-73.5738,40.9195],[-72.5098,40.9861]]],[[[-93.3778,48.6166],[-92.9963,48.6117],[-91.5183,48.0582],[-90.8403,48.2007],[-89.4556,47.996],[-88.3782,48.3032],[-84.8759,46.9001],[-84.5617,46.4575],[-84.1921,46.5494],[-83.9777,46.0851],[-83.5926,45.817],[-82.5511,45.3473],[-82.1378,43.5709],[-82.5453,42.6245],[-83.0731,42.3005],[-83.1419,41.976],[-82.439,41.675],[-81.2778,42.209],[-80.2475,42.3662],[-79.0368,42.8025],[-79.1719,43.4666],[-78.7205,43.625],[-76.82,43.6286],[-76.4646,44.0574],[-75.1793,44.8994],[-74.7088,45.0038],[-71.5175,45.0078],[-71.3272,45.2901],[-70.898,45.2626],[-70.2963,45.9062],[-70.0078,46.7088],[-69.243,47.4629],[-68.8288,47.2032],[-68.311,47.3546],[-67.8067,47.083],[-67.7845,45.7016],[-67.4328,45.603],[-67.4725,45.2759],[-67.1249,45.1693],[-67.1067,44.8852],[-67.9071,44.4538],[-68.2775,44.5075],[-69.7916,43.8053],[-70.1789,43.7662],[-70.829,42.8251],[-71.0463,42.3311],[-70.7382,42.229],[-70.4046,41.6271],[-70.6572,41.5343],[-71.4265,41.6333],[-71.5228,41.3789],[-72.8471,41.2657],[-73.5831,41.022],[-74.2267,40.6079],[-73.9575,40.3282],[-74.1761,39.7268],[-74.4289,39.3872],[-74.897,39.1453],[-75.3922,39.0929],[-75.036,38.5034],[-75.6592,37.9539],[-76.2948,38.4945],[-76.2635,37.3568],[-75.8905,36.6568],[-76.4788,36.0283],[-75.7722,35.9],[-75.7739,35.647],[-76.513,35.2705],[-76.7449,34.9412],[-77.7508,34.2851],[-78.0134,33.9118],[-78.5778,33.8732],[-78.9202,33.6588],[-79.276,33.1354],[-80.8492,32.114],[-81.5203,30.8747],[-81.2496,29.7938],[-80.9,29.0498],[-80.524,28.4861],[-80.6501,28.1811],[-80.2262,27.2072],[-80.0413,26.5685],[-80.1263,25.8334],[-80.3669,25.3313],[-80.7366,25.1565],[-81.0978,25.3194],[-81.365,25.8312],[-81.7154,25.983],[-81.8666,26.4349],[-82.4414,27.0599],[-82.6609,27.7186],[-82.8436,27.846],[-82.6607,28.4857],[-82.6516,28.8874],[-83.2906,29.452],[-83.6943,29.9261],[-84.0443,30.1036],[-84.3828,29.9074],[-85.3189,29.6802],[-85.3536,29.8759],[-86.2573,30.4929],[-87.7903,30.2918],[-88.9051,30.4152],[-89.5885,30.1658],[-90.2253,30.3793],[-90.4131,30.1405],[-89.5894,29.915],[-90.1014,29.1817],[-90.3793,29.2953],[-90.7511,29.1311],[-91.2902,29.2891],[-91.331,29.5137],[-91.8932,29.836],[-92.2608,29.5568],[-93.1756,29.7792],[-93.6947,29.7698],[-94.8884,29.3708],[-95.2734,28.9637],[-95.8534,28.6401],[-96.4487,28.5944],[-96.5616,28.3671],[-97.1564,28.1443],[-97.1715,27.8797],[-97.5546,26.9675],[-97.4024,26.3967],[-97.1462,25.9617],[-97.3582,25.8707],[-98.0828,26.0642],[-99.1078,26.4469],[-99.4436,27.0368],[-99.5053,27.5482],[-100.2961,28.3276],[-100.6587,29.0685],[-101.4404,29.7769],[-102.269,29.871],[-102.7342,29.6438],[-102.892,29.2163],[-103.2577,29.001],[-104.1107,29.3863],[-104.504,29.6775],[-104.9179,30.5835],[-106.2558,31.5445],[-106.4533,31.77],[-108.2118,31.7793],[-108.2145,31.3292],[-111.042,31.3243],[-112.939,31.916],[-114.836,32.5082],[-114.7248,32.7155],[-117.1282,32.5335],[-117.4674,33.2957],[-118.5063,34.0174],[-119.1437,34.112],[-119.6061,34.4178],[-120.4812,34.4715],[-120.6448,34.5798],[-120.6337,35.0766],[-120.8603,35.3655],[-121.8774,36.331],[-121.79,36.7323],[-122.3948,37.2077],[-122.4669,37.838],[-122.9681,38.0968],[-122.9865,38.277],[-123.7012,38.9073],[-123.8845,39.8608],[-124.324,40.2519],[-124.3717,40.4912],[-124.0685,41.3843],[-124.5397,42.8127],[-124.1486,43.6916],[-123.9293,45.5768],[-124.0716,46.7447],[-124.3761,47.6587],[-124.6211,47.9042],[-124.6327,48.3751],[-123.9757,48.1683],[-122.2421,48.0107],[-122.7888,48.993],[-120.1281,48.993],[-118.4226,48.993],[-115.8643,48.993],[-112.4532,48.993],[-109.895,48.993],[-106.4839,48.993],[-103.9256,48.993],[-102.2201,48.993],[-99.2354,48.993],[-97.5297,48.9932],[-95.162,48.9917],[-94.6209,48.7427],[-93.7078,48.5256],[-93.3778,48.6166]]],[[[-163.4761,54.9807],[-163.3581,54.7357],[-164.5907,54.4043],[-164.8877,54.6078],[-164.5297,54.8808],[-163.4761,54.9807]]],[[[-130.9792,55.4892],[-131.0827,55.2668],[-131.8111,55.223],[-131.6249,55.8316],[-130.9792,55.4892]]],[[[-133.566,56.3392],[-133.2029,56.3199],[-131.9764,55.2086],[-131.9809,54.8049],[-132.7823,55.0484],[-133.4471,55.797],[-133.566,56.3392]]],[[[-133.3663,57.0035],[-132.9541,56.8803],[-133.2127,56.4646],[-133.6029,56.4642],[-133.8661,57.0687],[-133.3663,57.0035]]],[[[-134.9698,57.3515],[-134.6207,56.7183],[-135.787,57.3173],[-134.9698,57.3515]]],[[[-152.898,57.8238],[-152.4121,57.4547],[-153.7933,56.9895],[-154.3391,56.9209],[-154.7059,57.3353],[-154.2813,57.638],[-153.8184,57.5956],[-152.898,57.8238]]],[[[-135.7304,58.2442],[-135.002,58.0511],[-135.0848,57.5111],[-136.0767,57.6747],[-136.5123,58.0959],[-135.7304,58.2442]]],[[[-134.6802,58.1616],[-133.9611,57.6143],[-133.9253,57.3369],[-134.4354,57.057],[-134.66,57.638],[-134.6802,58.1616]]]]},properties:{name:"United States",id:"US"},id:"US"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-53.3707,-33.7422],[-53.7853,-34.3806],[-54.1686,-34.6709],[-54.9023,-34.9328],[-55.6732,-34.7756],[-56.1179,-34.9079],[-56.8552,-34.6766],[-57.1706,-34.4525],[-57.8291,-34.4773],[-58.4002,-33.9123],[-58.3534,-33.2602],[-58.0824,-32.8935],[-58.2011,-32.4718],[-58.1889,-31.9241],[-57.8105,-30.8587],[-57.8724,-30.5911],[-57.609,-30.188],[-57.2144,-30.2834],[-56.8328,-30.1072],[-56.1761,-30.6283],[-55.8736,-31.0696],[-55.5573,-30.876],[-55.2546,-31.2258],[-54.5876,-31.4851],[-54.2205,-31.8553],[-53.7618,-32.0568],[-53.6017,-32.403],[-53.1254,-32.7368],[-53.5314,-33.171],[-53.3707,-33.7422]]]},properties:{name:"Uruguay",id:"UY"},id:"UY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[38.2142,47.0914],[37.5435,47.0745],[37.3398,46.9169],[36.2793,46.6586],[35.827,46.6244],[34.8495,46.1898],[35.0231,45.7011],[35.558,45.3109],[36.1705,45.453],[36.3934,45.0655],[35.5695,45.1192],[35.0879,44.8027],[34.7168,44.8071],[33.9098,44.3876],[33.4508,44.5537],[33.5551,45.0979],[32.508,45.4037],[33.6648,45.947],[33.2022,46.1756],[32.4769,46.0838],[32.0357,46.2609],[31.9744,46.7088],[30.7963,46.5521],[30.2193,45.8667],[29.6018,45.6825],[29.7061,45.2599],[29.2236,45.4028],[28.7606,45.2341],[28.2124,45.4503],[28.9475,46.05],[29.1464,46.5268],[29.838,46.3505],[29.8779,46.829],[29.5494,47.2467],[29.1597,47.4558],[29.1948,47.8824],[27.5493,48.4777],[26.6189,48.2597],[26.1625,47.9925],[24.8935,47.7177],[23.2027,48.0844],[22.8764,47.9472],[22.132,48.4053],[22.5386,49.0727],[22.6496,49.539],[23.7118,50.3773],[24.1056,50.8449],[23.6053,51.5179],[24.3617,51.8674],[25.9251,51.9136],[27.1422,51.752],[27.2701,51.6135],[28.5991,51.5427],[29.1357,51.6173],[29.3466,51.3825],[30.5331,51.5964],[30.9806,52.0461],[31.7636,52.1012],[32.508,52.3084],[33.7353,52.3448],[34.3976,51.7804],[34.2809,51.3117],[35.3121,51.0438],[35.4115,50.5398],[36.3059,50.2805],[37.4228,50.4115],[38.0469,49.9201],[38.2586,50.0524],[39.1748,49.8559],[39.7807,49.5721],[40.0701,49.2003],[39.6866,49.0079],[39.9609,48.238],[39.7359,47.8447],[38.9005,47.8553],[38.2875,47.5592],[38.2142,47.0914]]]},properties:{name:"Ukraine",id:"UA"},id:"UA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[33.9031,-1.0021],[32.1942,-1.0021],[30.8447,-1.0021],[30.51,-1.0674],[30.1016,-1.3688],[29.577,-1.3878],[29.5619,-.9772],[29.7177,.0983],[29.9343,.4991],[29.9427,.8192],[30.9424,1.683],[31.2527,2.0448],[31.1763,2.2703],[30.7284,2.4554],[30.8385,3.4905],[31.1523,3.7857],[31.4799,3.6805],[31.7982,3.8026],[32.0996,3.5291],[32.3358,3.7063],[32.8382,3.7986],[33.4894,3.7551],[33.9759,4.2203],[34.165,3.8128],[34.3928,3.6916],[34.4478,3.1634],[34.7425,2.818],[34.964,2.0625],[34.9654,1.6435],[34.7874,1.2307],[34.4815,1.042],[33.9431,.1738],[33.9031,-1.0021]]]},properties:{name:"Uganda",id:"UG"},id:"UG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[33.9031,-1.0021],[34.7709,-1.4416],[36.2633,-2.2747],[37.6438,-3.0453],[37.6087,-3.4604],[37.7974,-3.6743],[39.2219,-4.6922],[38.8192,-5.8778],[38.8738,-6.3315],[39.4722,-6.8788],[39.5193,-7.1243],[39.2884,-7.518],[39.4411,-8.0116],[39.304,-8.444],[39.7838,-9.9146],[40.4634,-10.4641],[39.9889,-10.821],[39.3217,-11.1224],[38.7948,-11.2289],[38.4917,-11.4131],[37.9204,-11.2946],[37.5417,-11.675],[36.9789,-11.5667],[36.5185,-11.7163],[35.7852,-11.4531],[35.6312,-11.5818],[34.9596,-11.5783],[34.608,-11.0807],[34.6617,-10.71],[34.5241,-10.03],[34.3208,-9.7317],[32.9199,-9.4072],[32.4334,-9.1564],[31.9425,-9.0539],[31.3508,-8.6069],[31.0764,-8.6117],[30.7511,-8.1936],[30.3134,-7.2037],[29.7097,-6.6169],[29.4802,-6.0252],[29.5943,-5.651],[29.3426,-4.9829],[29.4034,-4.4494],[29.7177,-4.456],[30.1469,-4.0854],[30.4252,-3.5891],[30.7901,-3.2744],[30.5149,-2.9175],[30.5535,-2.3999],[30.8287,-2.3387],[30.8128,-1.5632],[30.51,-1.0674],[30.8447,-1.0021],[32.1942,-1.0021],[33.9031,-1.0021]]]},properties:{name:"Tanzania",id:"TZ"},id:"TZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[121.009,22.6205],[120.5815,22.3564],[120.3258,22.5424],[120.0723,23.1496],[120.1589,23.7089],[121.0405,25.0326],[121.5936,25.2754],[121.9291,24.9736],[121.2957,22.9667],[121.009,22.6205]]]},properties:{name:"Taiwan",id:"TW"},id:"TW"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[41.5101,41.5174],[42.4663,41.4398],[42.7876,41.5636],[43.4393,41.1073],[43.7225,40.7193],[43.5693,40.4823],[43.7917,40.0703],[44.2893,40.0406],[44.7683,39.7037],[44.8171,39.6504],[44.023,39.3774],[44.4309,38.3569],[44.2112,37.9081],[44.5614,37.7448],[44.7652,37.1424],[44.2818,36.9782],[44.1562,37.2831],[43.5161,37.2445],[42.7748,37.3719],[42.3588,37.1087],[42.2683,37.2765],[41.5154,37.0892],[40.7058,37.0976],[40.0164,36.8259],[39.3568,36.6817],[38.7669,36.6932],[38.1916,36.9014],[37.4365,36.6435],[36.6584,36.8024],[36.1275,35.8316],[35.8927,35.9164],[35.811,36.3097],[36.1883,36.659],[36.0489,36.9107],[35.5375,36.5969],[34.6014,36.7847],[33.6945,36.1819],[32.7947,36.0358],[32.3775,36.1836],[32.0219,36.5352],[31.3525,36.8011],[30.6441,36.8654],[30.4838,36.3106],[29.6893,36.1565],[29.1433,36.3971],[29.0381,36.6937],[28.4837,36.8037],[28.1339,37.0297],[27.3491,37.0195],[27.0779,37.6875],[27.2323,37.9787],[26.6828,38.1985],[26.7636,38.7098],[27.0135,38.8869],[26.6819,39.2922],[26.1133,39.4675],[26.1812,39.99],[26.7378,40.4002],[27.4756,40.3198],[28.2892,40.4033],[29.3648,40.8094],[29.3222,41.2276],[31.2549,41.1077],[31.4582,41.3199],[32.3065,41.7296],[33.3816,42.0177],[34.7505,41.9569],[35.2978,41.7287],[36.0516,41.6826],[36.5097,41.2626],[38.3811,40.9244],[39.4265,41.1064],[40.2654,40.9612],[40.9597,41.2116],[41.5101,41.5174]]],[[[28.0145,41.9689],[28.3465,41.4664],[29.0572,41.2298],[28.7802,40.9741],[28.172,41.0806],[27.4996,40.9732],[27.2581,40.6874],[26.1053,40.6114],[26.0391,40.7269],[26.6246,41.4016],[26.321,41.7167],[26.6153,41.9649],[27.2949,42.0794],[28.0145,41.9689]]]]},properties:{name:"Turkey",id:"TR"},id:"TR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[11.5043,33.182],[11.5048,32.4137],[10.8265,32.0807],[10.115,31.4637],[10.2162,30.7832],[9.8952,30.3873],[9.5188,30.2293],[9.0439,32.0723],[8.3332,32.5437],[8.2111,32.9268],[7.7628,33.2331],[7.5,33.8323],[7.5138,34.0805],[8.2457,34.7339],[8.3944,35.204],[8.2457,35.8707],[8.2306,36.5454],[8.5764,36.9374],[9.6879,37.3404],[10.1962,37.2059],[10.5713,36.8796],[11.1266,36.8739],[10.5256,36.3235],[10.5908,35.8871],[11.0045,35.6336],[11.1199,35.2404],[10.5349,34.5448],[10.0648,34.2119],[10.1589,33.8501],[10.7227,33.5145],[11.0844,33.5629],[11.2025,33.2491],[11.5043,33.182]]]},properties:{name:"Tunisia",id:"TN"},id:"TN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.0121,10.1343],[-61.5967,10.0646],[-61.4648,10.5391],[-61.0338,10.67],[-61.0121,10.1343]]]},properties:{name:"Trinidad and Tobago",id:"TT"},id:"TT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-175.162,-21.1695],[-175.1567,-21.2636],[-175.3354,-21.1579],[-175.2255,-21.1188],[-175.162,-21.1695]]]},properties:{name:"Tonga",id:"TO"},id:"TO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[125.0679,-9.512],[124.9223,-8.9424],[125.178,-8.6477],[125.8043,-8.4923],[126.6198,-8.4595],[126.9149,-8.7152],[126.3823,-8.9575],[125.4079,-9.2758],[125.0679,-9.512]]]},properties:{name:"Timor-Leste",id:"TL"},id:"TL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[66.5221,37.3484],[65.7648,37.569],[65.5549,37.2512],[64.8162,37.1322],[64.5108,36.3408],[63.8623,36.0123],[63.1086,35.8187],[63.0566,35.4459],[62.6105,35.2333],[61.262,35.6194],[61.1195,36.6426],[60.3413,36.6377],[60.0626,36.9631],[59.5623,37.1788],[59.2409,37.5206],[58.8157,37.6835],[58.4357,37.6387],[57.4236,37.9477],[57.1937,38.2162],[56.4409,38.2495],[56.2287,38.0733],[55.5784,38.0999],[55.0755,37.9024],[54.7452,37.502],[53.9142,37.3435],[53.8237,37.9281],[53.8685,38.9491],[53.6177,39.2159],[53.125,39.432],[53.4721,39.6686],[53.4042,39.9603],[52.9874,39.9878],[52.7335,40.3988],[53.1454,40.825],[53.8698,40.6487],[54.7101,40.8911],[54.5921,41.1934],[54.0949,41.5192],[53.8463,42.0914],[52.9701,41.9764],[52.4938,41.7802],[53.2502,42.2059],[54.1211,42.3351],[54.9037,41.9192],[55.5451,41.2626],[55.9774,41.3221],[57.0179,41.2635],[56.9642,41.8566],[57.3819,42.1562],[57.8143,42.1899],[58.2595,42.688],[58.5889,42.7785],[59.4509,42.2996],[59.8584,42.2951],[60.107,41.9076],[60.0897,41.3994],[60.455,41.2218],[61.903,41.0935],[62.6505,39.8586],[64.1628,38.9535],[65.613,38.2384],[65.8572,38.2686],[66.5745,38.0107],[66.5221,37.3484]]]},properties:{name:"Turkmenistan",id:"TM"},id:"TM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-172.4791,-8.5807],[-172.4836,-8.5829],[-172.4987,-8.5478],[-172.4874,-8.5563],[-172.4791,-8.5807]]]},properties:{name:"Tokelau",id:"TK"},id:"TK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[70.9579,40.239],[70.4514,40.049],[69.9667,40.2022],[69.5304,40.0974],[69.229,39.761],[69.5987,39.5736],[70.6077,39.5643],[70.7333,39.4134],[71.4045,39.598],[71.8062,39.2758],[72.0428,39.3521],[73.2351,39.3743],[73.6315,39.4489],[73.8015,38.6068],[74.2773,38.6597],[74.7452,38.5101],[74.8912,37.2317],[74.2596,37.4154],[73.7496,37.2317],[73.4814,37.4718],[72.8955,37.2676],[71.8022,36.6941],[71.4329,37.1273],[71.5518,37.933],[71.2558,38.3068],[70.8789,38.4564],[70.2148,37.9246],[70.2512,37.664],[69.4922,37.553],[69.2649,37.1083],[68.9604,37.3249],[68.0677,36.9498],[67.7592,37.1722],[67.8143,37.4869],[68.2941,38.0329],[68.0478,38.6694],[68.1037,38.9619],[67.6767,39.0086],[67.3495,39.242],[67.7193,39.6216],[68.4632,39.5368],[68.6528,40.1827],[69.2281,40.1875],[69.2063,40.5666],[69.7128,40.6572],[70.4417,41.0234],[70.7511,40.7397],[70.3826,40.4534],[70.9579,40.239]]]},properties:{name:"Tajikistan",id:"TJ"},id:"TJ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[100.1225,20.3167],[100.5429,20.0885],[100.3977,19.7561],[100.6254,19.4999],[101.1546,19.5794],[101.2864,18.977],[101.0507,18.4071],[101.1133,18.0333],[100.9086,17.5837],[101.1053,17.4793],[102.1014,18.2104],[102.7175,17.8922],[103.0913,18.1381],[103.3669,18.4235],[103.9497,18.3192],[104.8162,17.3005],[104.7505,16.6475],[105.047,16.1601],[105.4062,15.9874],[105.6223,15.6998],[105.5131,15.3606],[105.4754,14.5301],[105.1833,14.3464],[104.7789,14.428],[103.1996,14.3326],[102.729,13.8421],[102.3198,13.5398],[102.4995,12.6698],[102.7557,12.4261],[102.7366,12.0896],[102.9341,11.7065],[102.7628,12.0124],[101.7236,12.6893],[101.4449,12.6187],[100.8634,12.7146],[100.9628,13.4319],[100.6561,13.5212],[100.0173,13.3534],[100.0901,13.0457],[99.964,12.6902],[99.9889,12.1708],[99.6271,11.4628],[99.4869,10.8898],[99.165,10.3198],[99.1606,9.7339],[99.3936,9.2136],[99.7239,9.3144],[99.9046,9.1129],[99.9605,8.6712],[100.2792,8.2686],[100.4537,7.4425],[100.5864,7.1762],[101.0178,6.861],[101.4977,6.8654],[102.1009,6.2422],[101.8737,5.8254],[101.5563,5.908],[101.2571,5.7894],[101.0533,6.2427],[100.3453,6.5498],[100.119,6.442],[99.6959,6.8765],[99.7203,7.106],[99.051,7.8877],[98.5791,8.3445],[98.2382,8.4231],[98.3714,9.2904],[98.7025,10.1902],[98.7571,10.6612],[99.1903,11.1051],[99.6147,11.7811],[99.4052,12.5477],[99.2196,12.7399],[99.1366,13.7165],[98.2462,14.8147],[98.1911,15.204],[98.5653,15.4037],[98.6892,16.3052],[98.4388,16.9755],[97.793,17.6813],[97.4849,18.4941],[97.7539,18.621],[97.8169,19.46],[98.1112,19.7623],[98.9169,19.7729],[99.0208,20.0419],[99.3382,20.0788],[99.8904,20.4246],[100.1225,20.3167]]]},properties:{name:"Thailand",id:"TH"},id:"TH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[.9007,10.9932],[.7799,10.3598],[1.3299,9.9971],[1.4244,9.2851],[1.6002,9.0498],[1.6224,6.2169],[1.1874,6.0895],[.7369,6.4526],[.5256,6.8508],[.6348,7.3537],[.5837,8.1456],[.688,8.3041],[.4153,8.6525],[.5291,9.3583],[.2619,9.4955],[.3627,10.2364],[-.0577,10.6305],[-.0686,11.1157],[.9007,10.9932]]]},properties:{name:"Togo",id:"TG"},id:"TG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[22.86,10.9195],[22.4938,10.9963],[21.7063,10.5746],[21.7258,10.3664],[21.2638,9.9745],[20.7733,9.4058],[20.3422,9.1271],[19.1455,9.0161],[19.1087,8.6561],[18.4553,8.032],[17.6496,7.9836],[16.7849,7.5508],[16.3787,7.6835],[15.8452,7.4753],[15.4803,7.5237],[15.443,7.8518],[15.1163,8.5571],[14.3324,9.2034],[13.9773,9.6917],[14.2432,9.9798],[15.5411,9.9603],[15.1323,10.6483],[15.0297,11.1135],[15.0812,11.8455],[14.7612,12.6556],[14.5162,12.9796],[14.0638,13.0786],[13.6062,13.7045],[13.4481,14.3805],[14.3679,15.7499],[15.4745,16.9085],[15.7351,19.9039],[15.949,20.3034],[15.5873,20.7335],[15.6072,20.9546],[15.182,21.5232],[15.1722,21.9223],[14.9791,22.996],[15.9841,23.4452],[17.7521,22.5721],[19.6684,21.6257],[21.5847,20.6794],[23.9804,19.4968],[23.9822,17.2663],[23.9835,15.7801],[23.105,15.7024],[22.9323,15.1622],[22.6709,14.7223],[22.3815,14.5505],[22.5098,14.1275],[22.1076,13.7302],[22.2283,13.3294],[21.8253,12.7905],[22.3522,12.6604],[22.5564,11.6697],[22.9226,11.3448],[22.86,10.9195]]]},properties:{name:"Chad",id:"TD"},id:"TD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-71.6615,21.7651],[-71.8304,21.7904],[-71.8062,21.8521],[-71.6684,21.8335],[-71.6615,21.7651]]]},properties:{name:"Turks and Caicos Islands",id:"TC"},id:"TC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[42.3588,37.1087],[41.7884,36.5973],[41.4169,36.5148],[41.2456,36.0735],[41.3543,35.6403],[41.1945,34.7689],[40.9872,34.4289],[40.6894,34.3322],[38.7735,33.372],[36.8182,32.3173],[36.3721,32.387],[35.7875,32.735],[35.8691,33.4319],[35.9424,33.6676],[36.5851,34.2212],[36.4329,34.6136],[35.9761,34.6291],[35.9433,35.2239],[35.7644,35.5715],[35.8927,35.9164],[36.1275,35.8316],[36.6584,36.8024],[37.4365,36.6435],[38.1916,36.9014],[38.7669,36.6932],[39.3568,36.6817],[40.0164,36.8259],[40.7058,37.0976],[41.5154,37.0892],[42.2683,37.2765],[42.3588,37.1087]]]},properties:{name:"Syria",id:"SY"},id:"SY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[55.5402,-4.6931],[55.3835,-4.6092],[55.4559,-4.5586],[55.5402,-4.6931]]]},properties:{name:"Seychelles",id:"SC"},id:"SC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-63.123,18.0688],[-63.0111,18.0688],[-63.0231,18.0191],[-63.123,18.0688]]]},properties:{name:"Sint Maarten",id:"SX"},id:"SX"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[31.9482,-25.9577],[32.1129,-26.8393],[31.9584,-27.3058],[31.4697,-27.2956],[31.0636,-27.1123],[30.7941,-26.7643],[30.8034,-26.4136],[31.2074,-25.8432],[31.4151,-25.7464],[31.9482,-25.9577]]]},properties:{name:"Eswatini",id:"SZ"},id:"SZ"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[24.1557,65.8052],[23.1024,65.7353],[21.5656,65.4081],[21.1381,64.8087],[21.4653,64.3796],[20.7626,63.8678],[19.0345,63.2377],[18.4632,62.8959],[17.8955,62.8305],[17.4174,61.7407],[17.1307,61.5758],[17.251,60.7009],[17.9559,60.5897],[18.5573,60.2537],[18.9706,59.7572],[17.876,59.2709],[17.4569,58.8585],[16.6522,58.4344],[16.5279,57.0681],[15.9965,56.2227],[14.782,56.1619],[14.2152,55.8325],[14.3417,55.5278],[13.3212,55.3464],[12.5923,56.1377],[12.8835,56.6178],[12.4214,56.9063],[11.4493,58.1183],[11.147,58.9886],[11.3885,59.0365],[11.7982,59.29],[11.6806,59.5923],[12.4862,60.1067],[12.5888,60.4508],[12.294,61.0027],[12.8809,61.3523],[12.1555,61.7207],[12.3034,62.2856],[12.2181,63.0007],[11.9997,63.2917],[12.6625,63.9404],[13.9604,64.0141],[14.0776,64.464],[13.6501,64.5816],[14.4798,65.3014],[14.5432,66.1292],[15.423,66.4899],[16.4036,67.055],[16.1275,67.4259],[17.3247,68.1039],[17.9168,67.965],[18.3785,68.5624],[19.9698,68.3565],[20.6223,69.037],[21.9975,68.5207],[22.7823,68.3911],[23.639,67.9543],[23.4681,67.45],[23.9884,66.8106],[23.7012,66.4808],[24.1557,65.8052]]],[[[19.0767,57.836],[18.6998,57.2428],[18.1365,57.5566],[18.5374,57.8305],[19.0767,57.836]]]]},properties:{name:"Sweden",id:"SE"},id:"SE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[16.5163,46.4997],[15.6361,46.2005],[15.6246,45.8338],[15.3396,45.4672],[13.8787,45.4286],[13.5778,45.5169],[13.7198,45.5875],[13.3993,46.3177],[13.6998,46.5201],[14.5037,46.4171],[15.0009,46.6262],[15.9575,46.6777],[16.0929,46.8632],[16.5163,46.4997]]]},properties:{name:"Slovenia",id:"SI"},id:"SI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[22.5386,49.0727],[22.132,48.4053],[21.4515,48.5522],[20.4901,48.5269],[19.8988,48.1314],[18.7917,48.0005],[18.7242,47.787],[17.7619,47.7701],[17.1475,48.0058],[16.9531,48.5988],[17.1884,48.861],[17.7583,48.888],[18.161,49.2574],[18.8321,49.5108],[19.4416,49.5976],[19.802,49.1923],[20.6161,49.3916],[21.6397,49.4121],[22.5386,49.0727]]]},properties:{name:"Slovakia",id:"SK"},id:"SK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-54.1559,5.3589],[-54.4522,5.0135],[-54.3508,4.0543],[-53.9904,3.5895],[-54.2032,3.1381],[-54.1954,2.818],[-54.6163,2.3266],[-55.0058,2.593],[-56.1295,2.2996],[-56.0198,1.8424],[-56.4828,1.9422],[-56.7043,2.0363],[-57.2097,2.8828],[-57.3036,3.3769],[-57.5497,3.3529],[-57.8327,3.6761],[-58.0544,4.1719],[-57.7111,4.9909],[-57.3309,5.0202],[-57.1948,5.5484],[-56.9698,5.9927],[-55.9395,5.7957],[-55.8283,5.9617],[-54.8338,5.9883],[-54.0543,5.8081],[-54.1559,5.3589]]]},properties:{name:"Suriname",id:"SR"},id:"SR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[6.6602,.1205],[6.5243,.3402],[6.6868,.4041],[6.7498,.2435],[6.6602,.1205]]]},properties:{name:"Sao Tome and Principe",id:"ST"},id:"ST"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[20.2419,46.1086],[20.775,45.7499],[20.7741,45.4845],[21.4919,45.1223],[21.3845,44.8701],[22.7051,44.2376],[22.421,44.0077],[22.5546,43.4546],[22.9767,43.1878],[22.4667,42.8425],[22.3442,42.3138],[21.5625,42.2476],[21.7529,42.6698],[21.3907,42.7515],[21.0569,43.0915],[20.3445,42.8278],[19.5517,43.2122],[19.1943,43.5331],[19.4882,43.7036],[19.1517,44.3024],[19.3568,44.8586],[19.007,44.8693],[19.0549,45.5271],[18.9054,45.9315],[19.5308,46.1552],[20.2419,46.1086]]]},properties:{name:"Serbia",id:"RS"},id:"RS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-56.2671,46.8384],[-56.3869,47.0679],[-56.2873,47.071],[-56.3148,46.9538],[-56.2671,46.8384]]]},properties:{name:"Saint Pierre and Miquelon",id:"PM"},id:"PM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[41.5328,-1.6955],[40.9788,-.8703],[40.9699,1.378],[40.9646,2.8145],[41.3419,3.2016],[41.8839,3.9779],[42.0241,4.1377],[42.7916,4.2922],[43.0158,4.5634],[43.5383,4.8404],[44.0283,4.9509],[44.9405,4.9119],[45.9348,5.9972],[47.9781,7.9969],[46.9784,7.9969],[44.023,8.9859],[43.4828,9.3796],[43.1818,9.8799],[42.8418,10.2031],[42.6594,10.6212],[42.9226,10.9994],[43.2462,11.4997],[43.853,10.7841],[44.3865,10.4303],[44.9427,10.4365],[45.8168,10.8361],[46.5652,10.7459],[47.405,11.1739],[48.0193,11.1392],[48.6745,11.3226],[48.9031,11.2546],[50.1101,11.5294],[50.7923,11.9835],[51.2549,11.8308],[51.0844,11.3354],[51.1408,10.6567],[50.8984,10.2532],[50.8247,9.428],[50.4297,8.8452],[50.103,8.1998],[49.3484,6.9906],[49.0492,6.1739],[48.6492,5.4943],[47.9754,4.4968],[46.879,3.2854],[46.0511,2.4753],[44.9201,1.81],[44.3328,1.3909],[43.4677,.6217],[41.9798,-.9728],[41.5328,-1.6955]]]},properties:{name:"Somalia",id:"SO"},id:"SO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[12.4853,43.9016],[12.397,43.9344],[12.441,43.9824],[12.5146,43.9531],[12.4853,43.9016]]]},properties:{name:"San Marino",id:"SM"},id:"SM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-89.3626,14.416],[-89.0572,14.329],[-88.4491,13.851],[-88.151,13.9872],[-87.7153,13.8128],[-87.8143,13.3991],[-87.9308,13.1807],[-88.5121,13.1838],[-89.2776,13.4781],[-89.8043,13.5602],[-90.0952,13.7364],[-89.8726,14.0454],[-89.3626,14.416]]]},properties:{name:"El Salvador",id:"SV"},id:"SV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-10.2832,8.4852],[-10.6474,7.7594],[-11.2678,7.2325],[-11.5075,6.9067],[-11.7334,7.0887],[-12.4856,7.3861],[-12.5104,7.6658],[-12.8809,7.8566],[-13.2284,8.696],[-13.2928,9.0494],[-12.7559,9.3734],[-12.5016,9.8622],[-11.911,9.9931],[-11.2056,9.9776],[-10.6905,9.3144],[-10.5005,8.6876],[-10.2832,8.4852]]]},properties:{name:"Sierra Leone",id:"SL"},id:"SL"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[161.7152,-10.3873],[162.1054,-10.4539],[162.1236,-10.8245],[161.5381,-10.5666],[161.7152,-10.3873]]],[[[159.7505,-9.2727],[159.9707,-9.4334],[160.3547,-9.4214],[160.6254,-9.5888],[160.6494,-9.9288],[159.8535,-9.7916],[159.6218,-9.5319],[159.7505,-9.2727]]],[[[160.7493,-8.3139],[160.9979,-8.6122],[161.2584,-9.3171],[160.8736,-9.1568],[160.5904,-8.3729],[160.7493,-8.3139]]],[[[159.8793,-8.5341],[158.944,-8.0409],[159.1095,-7.9037],[159.8433,-8.3272],[159.8793,-8.5341]]]]},properties:{name:"Solomon Islands",id:"SB"},id:"SB"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-5.6923,-15.9977],[-5.775,-15.9568],[-5.7078,-15.9062],[-5.6923,-15.9977]]]},properties:{name:"Saint Helena",id:"SH"},id:"SH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-37.1034,-54.0658],[-36.3264,-54.2509],[-35.7986,-54.7636],[-36.0855,-54.8666],[-37.1034,-54.0658]]]},properties:{name:"South Georgia and South Sandwich Islands",id:"GS"},id:"GS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[103.9697,1.3314],[103.8201,1.2653],[103.6501,1.3257],[103.8179,1.4473],[103.9697,1.3314]]]},properties:{name:"Singapore",id:"SG"},id:"SG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-12.2807,14.8089],[-12.0193,14.2065],[-12.0543,13.633],[-11.6349,13.3698],[-11.3903,12.9419],[-11.3894,12.4043],[-12.2912,12.328],[-13.0828,12.6334],[-13.7294,12.6738],[-15.1962,12.68],[-15.5748,12.4904],[-16.7119,12.3551],[-16.7634,13.064],[-16.6488,13.1541],[-15.8343,13.1563],[-15.5096,13.5864],[-16.5623,13.5873],[-17.168,14.6407],[-17.1471,14.9221],[-16.5352,15.8383],[-16.4411,16.2045],[-16.1683,16.5472],[-15.6208,16.5068],[-15.1128,16.6448],[-14.3,16.5805],[-13.8685,16.1481],[-13.4095,16.0593],[-13.2579,15.7002],[-12.8584,15.2426],[-12.2807,14.8089]]]},properties:{name:"Senegal",id:"SN"},id:"SN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[34.078,9.4613],[34.0945,8.5824],[33.9533,8.4435],[33.2342,8.3964],[33.0127,7.9516],[33.2262,7.7608],[33.6661,7.6711],[34.0643,7.2259],[34.7106,6.6604],[35.0821,5.6731],[35.2681,5.4925],[33.9759,4.2203],[33.4894,3.7551],[32.8382,3.7986],[32.3358,3.7063],[32.0996,3.5291],[31.7982,3.8026],[31.4799,3.6805],[31.1523,3.7857],[30.8385,3.4905],[30.5083,3.8359],[30.1949,3.9819],[29.6768,4.5869],[29.1513,4.3881],[28.7269,4.5048],[28.192,4.3503],[27.7881,4.6446],[27.4032,5.1094],[27.0836,5.777],[26.5141,6.0691],[26.3619,6.6355],[25.8891,7.0647],[25.3809,7.3333],[25.2472,7.7244],[24.8535,8.1376],[24.2915,8.2912],[24.1473,8.6654],[24.5321,8.8869],[24.7852,9.7747],[25.067,10.2936],[25.7981,10.4206],[25.8913,10.2026],[26.5514,9.5257],[27.0743,9.614],[27.8857,9.5998],[28.0491,9.3286],[28.8445,9.3259],[28.9995,9.61],[29.4731,9.7685],[29.6054,10.065],[30.0031,10.2772],[30.7395,9.7427],[31.2247,9.7991],[31.6548,10.2213],[31.9331,10.6625],[32.4041,11.0576],[32.3353,11.7158],[32.0721,12.0066],[32.7366,12.0097],[33.1991,12.2174],[33.0731,11.5916],[33.172,10.8503],[33.892,10.1991],[34.078,9.4613]]]},properties:{name:"South Sudan",id:"SS"},id:"SS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[36.8714,21.9968],[36.9269,21.5867],[37.1507,21.1037],[37.2274,20.5568],[37.2483,19.5821],[37.4711,18.8203],[37.9217,18.5558],[38.6093,18.0049],[38.2537,17.5845],[37.7823,17.458],[37.4112,17.0616],[37.0091,17.059],[36.9136,16.2964],[36.4267,15.132],[36.5243,14.2567],[36.3907,13.6259],[36.2123,13.2712],[36.1075,12.7266],[35.5961,12.5375],[35.1123,11.8166],[34.9312,10.8649],[34.5716,10.88],[34.2756,10.528],[34.2915,10.1249],[34.078,9.4613],[33.892,10.1991],[33.172,10.8503],[33.0731,11.5916],[33.1991,12.2174],[32.7366,12.0097],[32.0721,12.0066],[32.3353,11.7158],[32.4041,11.0576],[31.9331,10.6625],[31.6548,10.2213],[31.2247,9.7991],[30.7395,9.7427],[30.0031,10.2772],[29.6054,10.065],[29.4731,9.7685],[28.9995,9.61],[28.8445,9.3259],[28.0491,9.3286],[27.8857,9.5998],[27.0743,9.614],[26.5514,9.5257],[25.8913,10.2026],[25.7981,10.4206],[25.067,10.2936],[24.7852,9.7747],[24.5321,8.8869],[24.1473,8.6654],[23.5374,8.8159],[23.6461,9.8231],[23.2559,10.4579],[22.86,10.9195],[22.9226,11.3448],[22.5564,11.6697],[22.3522,12.6604],[21.8253,12.7905],[22.2283,13.3294],[22.1076,13.7302],[22.5098,14.1275],[22.3815,14.5505],[22.6709,14.7223],[22.9323,15.1622],[23.105,15.7024],[23.9835,15.7801],[23.9822,17.2663],[23.9804,19.4968],[23.9804,19.9958],[24.9796,20.0024],[24.9805,21.9959],[27.2723,21.9955],[30.3285,21.9951],[32.6061,21.9959],[34.2467,21.9964],[36.8714,21.9968]]]},properties:{name:"Sudan",id:"SD"},id:"SD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[46.5314,29.0964],[47.4334,28.9895],[47.6713,28.5331],[48.4424,28.5429],[48.9067,27.6289],[49.4052,27.1811],[49.9862,26.829],[50.214,26.3084],[50.0315,26.1108],[50.558,25.0868],[50.8043,24.7894],[51.2682,24.6074],[51.5683,24.286],[51.5927,24.0787],[52.555,22.933],[55.1043,22.6214],[55.186,22.704],[55.641,22.0017],[54.9774,19.9958],[53.667,19.559],[51.9775,18.9961],[49.0421,18.582],[48.172,18.1567],[47.5795,17.4483],[47.4418,17.1118],[46.9758,16.9533],[46.6819,17.2685],[46.3104,17.2312],[45.4066,17.32],[45.1483,17.4274],[44.1557,17.3986],[43.9169,17.3249],[43.418,17.5162],[43.1911,17.3595],[43.1649,16.6892],[42.7992,16.3718],[42.6989,16.7372],[42.3833,17.1225],[42.294,17.435],[41.7498,17.8855],[41.2296,18.6783],[41.1159,19.0822],[40.7591,19.7556],[40.0808,20.2661],[39.6138,20.5178],[39.0936,21.3101],[38.9879,21.8819],[39.0958,22.3928],[38.9413,22.882],[38.4641,23.712],[37.9195,24.1852],[37.5431,24.2918],[37.1808,24.82],[37.1489,25.291],[36.7627,25.7513],[36.2496,26.5947],[35.5815,27.4323],[35.1807,28.0347],[34.616,28.1483],[34.7798,28.5074],[34.9507,29.3535],[36.0156,29.1906],[36.4759,29.4951],[36.7551,29.8662],[37.4694,29.9949],[37.6336,30.3132],[37.9803,30.5],[36.9584,31.4917],[38.9622,31.9951],[39.1455,32.1247],[40.3693,31.9391],[42.0743,31.0802],[42.8578,30.4952],[44.7163,29.1937],[46.3565,29.0636],[46.5314,29.0964]]]},properties:{name:"Saudi Arabia",id:"SA"},id:"SA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-8.6834,27.6565],[-8.6834,27.2858],[-8.6821,25.9954],[-10.5624,25.9954],[-12.0164,25.9954],[-12.0235,23.4674],[-12.6203,23.2712],[-13.0316,23],[-13.0944,22.4958],[-13.0163,21.3341],[-15.0018,21.3314],[-16.9647,21.3292],[-17.0481,20.8063],[-16.9309,21.9001],[-16.5143,22.3333],[-16.2103,23.0981],[-15.5864,24.0729],[-15.0388,24.5488],[-14.856,24.8715],[-14.7949,25.4041],[-14.4138,26.2538],[-13.5758,26.7349],[-13.1774,27.652],[-8.6834,27.6565]]]},properties:{name:"Western Sahara",id:"EH"},id:"EH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[30.51,-1.0674],[30.8128,-1.5632],[30.8287,-2.3387],[30.5535,-2.3999],[29.9303,-2.3396],[29.8682,-2.7164],[29.3901,-2.8087],[29.0146,-2.7204],[28.8765,-2.4004],[29.1064,-2.2335],[29.1295,-1.8601],[29.577,-1.3878],[30.1016,-1.3688],[30.51,-1.0674]]]},properties:{name:"Rwanda",id:"RW"},id:"RW"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-178.8765,71.5769],[-177.5322,71.2631],[-177.8218,71.0675],[-179.5066,70.9235],[-180,70.993],[-180,71.1843],[-180,71.3998],[-180,71.5379],[-178.8765,71.5769]]],[[[178.8614,70.8265],[178.8911,71.2311],[180,71.5379],[180,70.993],[178.8614,70.8265]]],[[[60.4505,69.935],[59.5783,69.7385],[58.473,70.2668],[59.0052,70.4652],[60.4505,69.935]]],[[[169.201,69.5805],[167.789,69.8369],[168.358,70.0157],[169.375,69.8826],[169.201,69.5805]]],[[[50.265,69.1857],[49.6262,68.8596],[48.667,68.7331],[48.279,69.0403],[48.6315,69.436],[49.225,69.5113],[50.265,69.1857]]],[[[-179.7985,68.9404],[-178.8739,68.7542],[-177.4075,68.2451],[-175.3451,67.678],[-174.4476,67.1031],[-173.6797,67.1449],[-172.6405,66.9249],[-171.7956,66.9318],[-170.192,66.2014],[-170.6663,65.6214],[-172.2115,65.4252],[-172.2133,65.0482],[-172.9239,64.705],[-173.0092,64.2975],[-173.7298,64.3646],[-174.318,64.6376],[-175.3951,64.8025],[-175.8538,65.0109],[-176.0933,65.471],[-177.0563,65.6137],[-178.3103,65.4849],[-178.8794,65.9364],[-179.7283,65.8039],[-179.3521,65.5167],[-180,65.0672],[-180,65.312],[-180,65.5569],[-180,65.8014],[-180,66.0462],[-180,66.291],[-180,66.5359],[-180,66.7807],[-180,67.0252],[-180,67.2701],[-180,67.5149],[-180,67.7597],[-180,68.0045],[-180,68.2491],[-180,68.4939],[-180,68.7387],[-180,68.9835],[-179.7985,68.9404]]],[[[163.635,58.6033],[163.7611,59.015],[164.6156,58.8856],[163.635,58.6033]]],[[[21.2358,55.2641],[22.8311,54.8384],[22.7663,54.3568],[19.6045,54.4591],[19.9747,54.9212],[20.5202,54.9949],[20.8998,55.2867],[20.9579,55.279],[21.2358,55.2641]]],[[[142.761,54.3939],[142.9181,53.7942],[143.2235,53.2961],[143.3234,52.6136],[143.1556,52.0838],[143.4552,51.4715],[143.8161,50.2825],[144.272,49.3113],[143.105,49.1988],[142.5741,48.0719],[142.5568,47.7381],[143.0056,47.2228],[143.2821,46.5592],[142.5781,46.7008],[142.2088,46.0891],[141.8302,46.4508],[142.0388,47.1402],[141.9642,47.5872],[142.1817,48.0133],[141.8661,48.75],[142.1422,49.5692],[142.0712,50.5149],[142.2066,51.2225],[141.7223,51.7363],[141.8235,53.3394],[142.5262,53.4475],[142.761,54.3939]]],[[[148.5995,45.3176],[147.9137,44.9904],[147.7694,45.1906],[148.5995,45.3176]]],[[[96.5265,81.0755],[97.8316,80.7983],[97.1751,80.241],[94.565,80.1261],[93.8725,80.0102],[91.5239,80.3584],[93.2626,80.7912],[93.0651,80.9885],[95.8008,81.2804],[96.5265,81.0755]]],[[[54.719,81.1159],[57.694,80.7923],[55.7124,80.6372],[54.0665,80.8136],[54.719,81.1159]]],[[[62.168,80.8347],[61.0511,80.4186],[59.3044,80.5216],[59.5921,80.8165],[62.168,80.8347]]],[[[97.6744,80.1582],[100.0613,79.7772],[99.4394,78.8341],[97.5555,78.8266],[94.6524,79.1275],[93.0708,79.4953],[94.9871,80.0968],[97.6744,80.1582]]],[[[102.8848,79.254],[105.146,78.8188],[105.3125,78.4999],[103.7194,78.2582],[101.2043,78.192],[100.2841,78.6792],[101.5905,79.3504],[102.8848,79.254]]],[[[130.6871,42.3027],[130.5269,42.5353],[130.5771,42.8118],[131.0684,42.9024],[131.262,43.4333],[131.2553,44.0716],[131.0822,44.9101],[131.9775,45.2439],[132.9359,45.03],[133.1858,45.4947],[133.8614,46.2475],[134.1677,47.3022],[134.7523,47.7155],[134.5636,48.3219],[134.2933,48.3733],[133.4686,48.0972],[133.1441,48.1057],[132.5617,47.7683],[131.0027,47.6915],[130.712,48.1279],[130.8043,48.3414],[130.1962,48.8916],[129.5339,49.3235],[128.5267,49.5943],[127.9998,49.5685],[127.5027,49.8735],[127.5901,50.2091],[126.9247,51.1002],[126.313,52.3997],[125.649,53.0422],[124.8122,53.1339],[123.6079,53.5465],[122.338,53.485],[120.704,53.1718],[120.0945,52.7872],[120.6561,52.5666],[120.7497,52.0965],[120.067,51.6007],[119.1921,50.3797],[119.26,50.0664],[118.4517,49.8444],[117.8733,49.5135],[116.6832,49.8238],[116.1346,50.0109],[115.2743,49.9489],[114.743,50.2337],[114.2969,50.2743],[113.1641,49.7971],[113.0557,49.6162],[111.3366,49.3559],[110.8279,49.1661],[110.1997,49.1704],[109.2365,49.3348],[108.6137,49.3228],[108.034,49.594],[107.9479,49.9247],[107.2332,49.9893],[106.7112,50.3125],[106.218,50.3045],[105.3835,50.4736],[103.6328,50.1387],[102.6833,50.3871],[102.2883,50.585],[102.1116,51.3534],[101.3814,51.4526],[100.4687,51.7261],[98.8485,52.0701],[97.947,51.3483],[97.8254,50.9852],[98.2795,50.5333],[98.1032,50.0779],[97.2088,49.7308],[96.986,49.8828],[95.8518,50.0129],[95.5229,49.9112],[94.6147,50.0237],[94.2511,50.5564],[91.8044,50.6936],[89.644,49.903],[89.6542,49.7175],[88.8317,49.4485],[88.1925,49.4518],[87.8143,49.1624],[87.3229,49.0858],[86.6144,49.6098],[86.1807,49.4993],[85.21,49.6648],[84.9893,50.0615],[84.2578,50.2883],[83.9453,50.7746],[83.3571,50.9945],[82.4938,50.7275],[81.4657,50.7397],[80.8771,51.2815],[79.9862,50.7746],[79.4687,51.493],[78.4757,52.6385],[77.7042,53.3791],[76.5758,53.9424],[76.2664,54.312],[74.4518,53.6472],[73.2857,53.5984],[73.3993,53.8115],[72.9141,54.1073],[71.0933,54.2123],[71.1856,54.5994],[70.7382,55.3052],[70.1824,55.1625],[68.9773,55.3895],[68.2062,55.1609],[68.0739,54.9596],[66.2225,54.6673],[65.4767,54.6233],[65.1576,54.3643],[64.4611,54.3841],[63.0739,54.1053],[61.9287,53.9464],[61.3339,54.0492],[60.9797,53.6217],[61.1994,53.2872],[62.0148,53.1079],[61.974,52.9437],[61.0476,52.9725],[60.8021,52.7448],[60.9375,52.2805],[60.0657,51.9764],[60.4647,51.6513],[61.3632,51.442],[61.5851,51.2298],[61.3894,50.8609],[60.6379,50.6638],[59.9552,50.7992],[59.8122,50.5819],[58.8836,50.6945],[58.3594,51.0638],[57.8387,51.0917],[57.4423,50.8889],[57.0117,51.0651],[56.4915,51.0196],[55.7977,50.6021],[55.5424,50.6017],[54.727,50.9981],[54.4216,50.7804],[54.0416,51.1153],[53.3381,51.4824],[52.571,51.4817],[52.3309,51.6812],[51.6091,51.4839],[50.7941,51.7292],[50.2468,51.2895],[49.498,51.0835],[48.8086,50.6012],[48.8432,50.0131],[48.4344,49.8284],[47.706,50.378],[47.3264,50.2734],[46.8022,49.367],[47.0144,49.0984],[46.7028,48.8055],[46.661,48.4124],[47.0042,48.2846],[47.0934,47.9477],[48.1099,47.7452],[48.9595,46.7744],[48.6102,46.5663],[49.2321,46.3372],[48.1592,45.7371],[47.5244,45.6017],[46.7529,44.4205],[47.2301,44.1923],[47.5089,43.5096],[47.4632,43.0351],[48.5729,41.8446],[47.8609,41.2129],[47.2612,41.315],[46.7494,41.8126],[46.4298,41.8907],[45.6388,42.205],[45.7275,42.4749],[45.1602,42.6751],[44.5059,42.7488],[43.9573,42.5664],[43.7824,42.747],[42.4192,43.2242],[41.5807,43.2193],[40.6481,43.534],[39.9782,43.42],[38.7171,44.2882],[38.1814,44.4196],[37.8516,44.6988],[37.4112,44.7352],[36.9411,45.2896],[37.6474,45.3771],[37.9332,46.0016],[38.1836,46.0948],[37.9679,46.6182],[39.2933,47.1056],[38.2142,47.0914],[38.2875,47.5592],[38.9005,47.8553],[39.7359,47.8447],[39.9609,48.238],[39.6866,49.0079],[40.0701,49.2003],[39.7807,49.5721],[39.1748,49.8559],[38.2586,50.0524],[38.0469,49.9201],[37.4228,50.4115],[36.3059,50.2805],[35.4115,50.5398],[35.3121,51.0438],[34.2809,51.3117],[34.3976,51.7804],[33.7353,52.3448],[32.508,52.3084],[31.7636,52.1012],[31.5771,52.3122],[31.4178,53.196],[32.1422,53.0913],[32.7042,53.3363],[31.792,54.0558],[31.4036,54.1959],[31.1213,54.6484],[30.9069,55.5699],[30.2335,55.8452],[29.4824,55.6845],[29.375,55.9386],[28.7948,55.9426],[28.1481,56.143],[27.8063,56.867],[27.797,57.3169],[27.3517,57.5282],[27.753,57.8411],[27.4272,58.7331],[28.0127,59.4842],[28.014,59.7248],[28.9471,59.8289],[29.0692,60.1915],[28.6506,60.611],[27.7978,60.5362],[29.6902,61.5461],[31.2855,62.5679],[31.5341,62.8855],[31.1807,63.2082],[30.0555,63.689],[30.5038,64.0205],[30.1083,64.3661],[30.0728,64.7649],[29.604,64.9685],[29.9032,66.0911],[29.0869,66.9709],[29.9414,67.5475],[29.3439,68.062],[28.4708,68.4883],[28.9657,69.0219],[30.8696,69.7834],[31.9846,69.9536],[32.9417,69.7519],[32.3775,69.4791],[33.6843,69.3102],[35.858,69.1917],[40.3809,67.8318],[40.9663,67.7135],[41.1887,66.8262],[40.5216,66.4466],[39.2889,66.1321],[38.3975,66.0644],[35.5136,66.3958],[34.8247,66.6111],[32.4636,66.9163],[33.5667,66.321],[34.7865,65.8645],[34.4065,65.3957],[34.8034,64.986],[34.8695,64.5601],[35.6472,64.3783],[36.365,64.0028],[37.4423,63.8135],[38.0708,64.0259],[37.9537,64.3202],[37.1835,64.4085],[36.5283,64.8473],[36.883,65.1724],[38.0096,64.8788],[39.7581,64.577],[40.281,64.998],[39.8167,65.5979],[41.4759,66.1235],[42.2106,66.5197],[44.0971,66.2351],[44.4886,66.6719],[44.292,67.0996],[43.7824,67.2545],[44.2254,67.9956],[44.0483,68.5489],[45.8922,68.4797],[46.6903,67.8489],[45.5287,67.7577],[44.9396,67.4776],[45.9859,66.853],[46.6908,66.8255],[47.7091,67.045],[47.8746,67.5841],[48.8778,67.7315],[50.839,68.3498],[52.5502,68.5924],[53.8019,68.9959],[53.9679,68.2273],[54.5614,68.273],[56.0436,68.649],[57.1267,68.554],[58.9191,69.0039],[59.8975,68.422],[60.9335,68.9868],[60.1704,69.5909],[61.0161,69.8515],[63.3616,69.6753],[68.5041,68.3485],[69.1406,68.9506],[68.5427,68.9671],[68.006,69.48],[67.0645,69.6937],[66.9265,70.0142],[67.2847,70.7386],[66.6664,70.9006],[66.9176,71.2824],[68.2693,71.6828],[69.039,72.67],[69.6449,72.8975],[71.5003,72.9137],[72.8121,72.6915],[72.6243,72.0794],[71.9118,71.5478],[72.7317,70.823],[72.5297,70.1724],[72.5275,69.0805],[73.548,68.5744],[73.1521,67.8651],[72.5945,67.587],[71.5514,66.7605],[70.9393,66.5481],[69.877,66.8455],[69.1943,66.5787],[70.3396,66.3423],[71.9172,66.2467],[72.4174,66.5607],[73.7922,66.9953],[74.0745,67.4141],[74.7696,67.7663],[74.3914,68.4206],[74.5796,68.7511],[76.4591,68.9784],[77.2385,68.4697],[77.6509,68.9029],[76.001,69.2349],[74.8149,69.0907],[73.7757,69.1983],[73.56,69.7072],[74.3111,70.6536],[73.0864,71.4449],[73.6719,71.845],[75.7413,72.2962],[76.0325,71.9103],[78.4828,72.395],[79.422,72.3808],[80.7626,72.0892],[81.511,71.7463],[82.9861,71.7487],[82.1835,72.2376],[80.827,72.4882],[80.5096,73.0861],[80.5833,73.5684],[83.5449,73.6665],[86.5913,73.8943],[86.6513,74.6824],[87.6713,75.1296],[90.1851,75.591],[93.5498,75.854],[94.5756,76.1517],[96.879,75.9311],[100.3223,76.479],[100.9899,76.9904],[103.1312,77.6265],[104.0146,77.7304],[105.8944,77.4889],[104.9121,77.1748],[107.4299,76.9265],[108.0278,76.7185],[111.1151,76.723],[112.6194,76.3836],[113.8712,75.856],[113.6137,75.293],[111.8683,74.7401],[109.8402,74.3219],[108.1996,73.6941],[107.2709,73.621],[106.4782,73.1394],[107.7503,73.1731],[109.8553,73.4726],[110.2614,74.0174],[112.1471,73.7089],[114.0607,73.5846],[115.3378,73.7025],[118.4504,73.5897],[118.4304,73.2466],[119.7505,72.9792],[123.1605,72.955],[123.6222,73.1933],[123.3052,73.5329],[124.3883,73.7549],[125.617,73.5207],[127.7406,73.4817],[128.8885,73.1902],[129.4118,72.3156],[128.3589,72.0883],[129.7621,71.1195],[131.1572,70.7422],[131.562,70.9011],[132.5621,71.8952],[134.1029,71.3789],[135.8847,71.6306],[137.3153,71.3594],[138.1183,71.5663],[139.695,71.7003],[139.6014,72.496],[142.0614,72.7208],[145.4856,72.5422],[146.594,72.3025],[148.402,72.312],[149.5015,72.1644],[150.5997,71.5201],[151.5825,71.2871],[152.5089,70.8345],[153.7944,70.88],[155.8953,71.0955],[158.0371,71.0394],[159.3506,70.7908],[160.0062,70.3096],[159.8326,69.7849],[161.5367,69.3796],[162.3757,69.6491],[164.1597,69.7192],[164.5135,69.6091],[166.8204,69.4995],[167.6283,69.7403],[168.303,69.2716],[169.3106,69.0796],[169.6098,68.7862],[170.5375,68.8254],[170.9952,69.0454],[170.5824,69.5834],[170.4869,70.1076],[172.5595,69.9682],[173.2772,69.8238],[176.1075,69.8604],[176.9243,69.646],[178.8485,69.3872],[180,68.9835],[180,65.0672],[178.5196,64.6029],[177.4671,64.7368],[177.433,64.4445],[178.6501,63.9653],[178.7065,63.5216],[179.3324,63.1902],[179.5703,62.6875],[179.1206,62.3204],[177.3513,62.5874],[175.2681,62.1025],[174.5144,61.8237],[173.6235,61.7161],[172.8564,61.4693],[172.3926,61.0618],[170.6081,60.435],[169.9827,60.067],[169.2267,60.5959],[168.1374,60.5739],[166.9642,60.3069],[166.3521,60.4847],[165.0843,60.0985],[163.7802,60.041],[163.41,59.8349],[163.2728,59.3026],[162.1418,58.4475],[161.9602,58.0768],[162.4671,57.7661],[163.2138,57.6869],[162.7792,57.3577],[162.8027,56.8115],[163.2564,56.6881],[163.3354,56.2325],[162.5284,56.2606],[162.085,56.0897],[161.7294,55.358],[162.1058,54.7521],[161.7258,54.533],[160.7728,54.5414],[160.0746,54.1892],[159.8437,53.7837],[159.8975,53.3807],[158.6088,52.8735],[158.4637,52.3049],[158.1037,51.8095],[156.7476,50.9692],[156.5003,51.475],[156.3645,52.5093],[156.0986,53.0065],[155.6201,54.8646],[155.5549,55.3484],[155.9828,56.6952],[156.7285,57.1522],[157.4503,57.7994],[158.2102,58.0253],[159.0367,58.4239],[159.8473,59.1271],[161.7534,60.1522],[162.0037,60.4201],[162.9732,60.7828],[163.71,60.9168],[164.0052,61.3439],[164.2556,62.6966],[163.3318,62.5508],[163.0091,61.7915],[162.3926,61.6621],[160.7666,60.7533],[159.8832,61.2917],[160.3174,61.7933],[159.5525,61.7194],[159.0767,61.9223],[158.07,61.7536],[157.4694,61.7989],[156.6801,61.4806],[156.63,61.2724],[155.8532,60.7772],[154.9707,60.3766],[154.2929,59.8333],[154.5827,59.5401],[155.1669,59.3601],[154.011,59.0756],[153.3611,59.2147],[152.8822,58.9391],[151.99,59.1601],[151.4857,59.5241],[150.4572,59.5907],[149.6427,59.7705],[149.205,59.4882],[147.8746,59.3881],[147.5146,59.2687],[146.4444,59.4305],[145.9317,59.1983],[145.5544,59.4136],[143.192,59.3701],[142.0255,58.9997],[141.7547,58.7453],[140.6849,58.2122],[140.447,57.8136],[140.0022,57.6875],[138.6621,56.9655],[137.6913,56.1395],[136.175,55.3522],[135.2623,54.9434],[135.8514,54.5838],[136.7973,54.6209],[136.6828,53.9313],[137.1555,53.8217],[137.3282,53.5389],[138.2923,53.5924],[138.6608,53.7449],[138.6958,54.3199],[139.7075,54.2771],[140.3471,53.8126],[141.4022,53.184],[141.1696,52.3684],[141.4853,52.1786],[140.6876,51.2322],[140.4763,50.546],[140.5171,49.596],[140.1704,48.5238],[139.3728,47.8873],[139.0012,47.3835],[138.5866,47.0572],[138.3367,46.5432],[137.6855,45.8183],[136.8035,45.1711],[136.1421,44.4893],[135.8745,44.3734],[135.1309,43.5256],[133.7092,42.83],[133.1601,42.6969],[132.4813,42.9099],[132.3344,43.2388],[131.7946,43.2553],[131.1586,42.6258],[130.6871,42.3027]]],[[[67.7654,76.2376],[66.2824,75.9837],[61.3561,75.3149],[60.2224,74.7965],[58.5347,74.4988],[58.4415,74.1288],[56.9638,73.3665],[55.0067,73.4539],[53.7629,73.7662],[54.6427,73.9595],[57.0876,75.3837],[58.8814,75.8547],[62.9714,76.2367],[65.8629,76.6133],[67.5351,77.0077],[68.4859,76.9338],[68.9,76.5729],[67.7654,76.2376]]],[[[140.0488,75.829],[140.9442,75.7004],[142.4605,75.9035],[143.6856,75.8636],[145.2552,75.5857],[144.0199,75.0446],[141.9873,74.9913],[139.0993,74.6566],[138.0921,74.7974],[137.0064,75.235],[137.5013,75.9097],[138.8139,76.1996],[140.0488,75.829]]],[[[146.7951,75.3709],[150.1039,75.2193],[150.6463,74.9445],[149.5969,74.7725],[148.0926,74.8258],[146.1483,75.1984],[146.7951,75.3709]]],[[[113.3873,74.4005],[112.7823,74.0951],[111.6428,74.2729],[112.0845,74.549],[113.3873,74.4005]]],[[[142.1848,73.8958],[143.3438,73.5687],[143.1934,73.2206],[140.6627,73.4519],[141.0849,73.8658],[142.1848,73.8958]]],[[[55.32,73.3083],[56.4293,73.2011],[55.356,72.4651],[55.2978,71.9354],[57.1458,70.589],[54.6009,70.68],[53.7225,70.8145],[53.3638,71.5416],[51.8124,71.4912],[51.5825,72.0712],[52.6221,72.3009],[53.7531,73.2932],[55.32,73.3083]]]]},properties:{name:"Russia",id:"RU"},id:"RU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[28.2124,45.4503],[28.7606,45.2341],[29.2236,45.4028],[29.7061,45.2599],[29.5574,44.8435],[29.0483,44.7574],[28.6452,44.2958],[28.5853,43.7422],[27.0867,44.1675],[26.2158,44.0072],[25.4972,43.6708],[23.2244,43.8741],[22.7051,44.2376],[21.3845,44.8701],[21.4919,45.1223],[20.7741,45.4845],[20.775,45.7499],[20.2419,46.1086],[21.1519,46.3044],[22.2905,47.7279],[22.8764,47.9472],[23.2027,48.0844],[24.8935,47.7177],[26.1625,47.9925],[26.6189,48.2597],[26.9806,48.155],[27.3366,47.6396],[28.0717,46.9786],[28.2444,46.4513],[28.0997,45.9728],[28.2124,45.4503]]]},properties:{name:"Romania",id:"RO"},id:"RO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[55.7972,-21.3395],[55.3627,-21.2738],[55.3112,-20.904],[55.6618,-20.9062],[55.7972,-21.3395]]]},properties:{name:"Reunion",id:"RE"},id:"RE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[51.2682,24.6074],[50.8043,24.7894],[50.763,25.4445],[51.0032,25.9816],[51.2624,26.1534],[51.543,25.9022],[51.4853,25.5249],[51.602,25.148],[51.2682,24.6074]]]},properties:{name:"Qatar",id:"QA"},id:"QA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-149.3215,-17.6902],[-149.579,-17.7351],[-149.6114,-17.5318],[-149.3792,-17.5224],[-149.3215,-17.6902]]]},properties:{name:"French Polynesia",id:"PF"},id:"PF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-58.1598,-20.1645],[-57.8303,-20.9981],[-57.9856,-22.0461],[-56.9374,-22.2712],[-56.5239,-22.1025],[-55.8492,-22.3076],[-55.6541,-22.8105],[-55.3662,-23.9913],[-54.6254,-23.8124],[-54.2418,-24.0472],[-54.4731,-25.2204],[-54.6158,-25.576],[-54.7552,-26.533],[-55.1358,-26.9312],[-55.4266,-27.0093],[-55.7147,-27.415],[-56.0673,-27.3076],[-56.3705,-27.5375],[-57.1118,-27.4701],[-58.6186,-27.1323],[-58.1914,-26.6302],[-58.2031,-26.3816],[-57.8906,-26.0065],[-57.5872,-25.4051],[-57.8216,-25.1365],[-58.3654,-24.9594],[-59.373,-24.4538],[-59.8924,-24.0934],[-61.0329,-23.7556],[-61.7984,-23.1821],[-62.3726,-22.439],[-62.6509,-22.2339],[-62.2767,-21.066],[-62.2763,-20.5627],[-61.917,-20.0553],[-61.7569,-19.6451],[-60.0073,-19.2976],[-59.0905,-19.286],[-58.1803,-19.8178],[-58.1598,-20.1645]]]},properties:{name:"Paraguay",id:"PY"},id:"PY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-7.4061,37.1793],[-7.8343,37.0057],[-8.5977,37.1211],[-8.8141,37.431],[-8.9147,38.5123],[-9.4742,38.7307],[-9.3748,39.3384],[-9.1482,39.5426],[-8.8867,40.1795],[-8.6557,41.0296],[-8.7771,41.9409],[-8.2131,42.1336],[-7.9208,41.8836],[-7.4037,41.8335],[-6.6182,41.9422],[-6.2125,41.5321],[-6.9285,41.0092],[-6.8102,40.3429],[-7.0146,40.2084],[-7.0368,39.7139],[-7.4452,39.5363],[-7.0461,38.9069],[-7.3431,38.4572],[-7.1855,38.0062],[-7.5036,37.5854],[-7.4061,37.1793]]]},properties:{name:"Portugal",id:"PT"},id:"PT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[130.5269,42.5353],[130.6871,42.3027],[130.4576,42.3018],[129.7563,41.7123],[129.7088,40.8574],[128.3043,40.0362],[127.5684,39.7818],[127.3943,39.2079],[127.7863,39.084],[128.3745,38.6233],[128.0389,38.3085],[127.1697,38.3045],[126.634,37.7816],[125.9419,37.8735],[125.4492,37.7301],[125.1931,38.0378],[124.691,38.1292],[125.0675,38.5567],[125.4097,39.2882],[125.3609,39.5266],[124.5574,39.7907],[124.3621,40.0042],[124.8895,40.4596],[125.989,40.9049],[126.9034,41.7811],[127.1795,41.5312],[128.1112,41.3891],[128.291,41.5627],[128.0451,41.9875],[128.9236,42.0381],[129.3137,42.4137],[129.7199,42.4749],[129.8983,42.9983],[130.2406,42.8917],[130.5269,42.5353]]]},properties:{name:"North Korea",id:"KP"},id:"KP"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-66.1295,18.4448],[-65.6288,18.3813],[-65.9708,17.9743],[-67.1968,17.9943],[-67.1587,18.4994],[-66.1295,18.4448]]]},properties:{name:"Puerto Rico",id:"PR"},id:"PR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[19.6045,54.4591],[22.7663,54.3568],[23.37,54.2005],[23.4845,53.9398],[23.8872,53.0276],[23.8445,52.6642],[23.1969,52.257],[23.6523,52.0403],[23.6053,51.5179],[24.1056,50.8449],[23.7118,50.3773],[22.6496,49.539],[22.5386,49.0727],[21.6397,49.4121],[20.6161,49.3916],[19.802,49.1923],[19.4416,49.5976],[18.8321,49.5108],[18.5622,49.8792],[17.8746,49.9722],[17.152,50.3784],[16.6792,50.0974],[16.0072,50.6117],[14.8096,50.8589],[15.0164,51.2527],[14.6018,51.8324],[14.7527,52.0818],[14.6196,52.5284],[14.1286,52.8782],[14.4145,53.2835],[14.2587,53.7296],[14.2139,53.8707],[14.2112,53.9504],[16.1865,54.2904],[16.5598,54.5539],[17.2621,54.7294],[18.3234,54.8382],[18.6697,54.4309],[19.6045,54.4591]]]},properties:{name:"Poland",id:"PL"},id:"PL"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[152.9656,-4.7565],[152.6807,-4.4986],[152.5985,-3.9948],[153.1241,-4.2523],[152.9656,-4.7565]]],[[[155.9575,-6.687],[155.7191,-6.8628],[155.344,-6.7217],[155.202,-6.3075],[154.782,-5.9706],[154.7412,-5.5453],[154.9969,-5.54],[155.467,-6.145],[155.8225,-6.3803],[155.9575,-6.687]]],[[[151.9158,-4.2967],[152.4054,-4.3406],[152.4001,-4.7312],[152.0135,-5.0038],[152.1431,-5.3571],[151.8652,-5.5649],[151.515,-5.5524],[151.2291,-5.92],[150.4283,-6.2764],[149.6524,-6.2906],[149.3825,-6.078],[149.1264,-6.1277],[148.4011,-5.7651],[148.3447,-5.5449],[148.999,-5.4845],[149.2454,-5.5729],[150.2987,-5.5356],[150.953,-5.4237],[151.3268,-4.9603],[151.6712,-4.8835],[151.5518,-4.3455],[151.9158,-4.2967]]],[[[140.9761,-9.1187],[140.9748,-6.3461],[140.9739,-4.0232],[140.9734,-2.6099],[141.1856,-2.6276],[142.2115,-3.0835],[142.9053,-3.3206],[143.509,-3.4311],[144.0159,-3.7835],[144.4775,-3.8253],[145.0879,-4.349],[145.3347,-4.3854],[145.767,-4.8231],[145.8527,-5.4712],[146.4036,-5.6164],[147.0344,-5.9191],[147.3766,-5.9506],[147.8018,-6.315],[147.8453,-6.6626],[147.1191,-6.7217],[146.9607,-6.929],[147.1902,-7.3782],[147.7242,-7.8762],[148.1268,-8.1035],[148.2471,-8.5545],[148.5831,-9.0516],[149.2476,-9.0712],[149.2032,-9.4068],[149.7612,-9.8058],[149.8744,-10.0131],[150.6672,-10.2573],[150.4825,-10.6368],[150.0169,-10.5773],[149.7541,-10.3531],[147.7685,-10.0699],[146.6965,-9.0255],[146.0334,-8.0764],[144.9738,-7.8021],[144.5099,-7.5673],[143.6137,-8.2003],[143.0948,-8.3112],[143.366,-8.9611],[142.6474,-9.3277],[142.2297,-9.1697],[141.1332,-9.2212],[140.9761,-9.1187]]]]},properties:{name:"Papua New Guinea",id:"PG"},id:"PG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[134.5956,7.3821],[134.5064,7.4372],[134.5561,7.5939],[134.6595,7.6631],[134.5956,7.3821]]]},properties:{name:"Palau",id:"PW"},id:"PW"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[126.0059,9.3211],[126.1932,9.2767],[126.3197,8.8448],[126.4355,7.8327],[126.5816,7.2476],[126.08,6.7332],[125.8243,7.3333],[125.4008,6.7957],[125.5886,6.4659],[125.6681,5.9785],[125.4559,5.6643],[124.6364,5.9981],[124.078,6.4042],[123.9853,6.9937],[124.2068,7.3963],[123.9684,7.6644],[123.493,7.8078],[123.3909,7.4074],[122.4978,7.6729],[122.176,7.0044],[122.0472,7.3635],[122.132,7.8105],[122.3371,8.0284],[122.911,8.1563],[123.0176,8.3982],[123.4344,8.7032],[124.2258,8.2712],[124.4513,8.6064],[124.731,8.5629],[124.869,8.9722],[125.5336,9.1408],[125.5211,9.7592],[126.0059,9.3211]]],[[[124.5938,9.7871],[124.3599,9.63],[123.9355,9.6238],[123.817,9.8173],[124.1726,10.1351],[124.577,10.0268],[124.5938,9.7871]]],[[[123.1308,9.064],[122.5626,9.4826],[122.4716,9.9616],[122.8556,10.0868],[122.8169,10.5036],[122.9834,10.8867],[123.2564,10.9941],[123.5676,10.7806],[123.1618,9.8644],[123.3083,9.357],[123.1308,9.064]]],[[[123.3705,9.4498],[123.386,9.9669],[123.7114,10.4738],[123.952,10.3167],[123.6435,10.0202],[123.3705,9.4498]]],[[[117.3109,8.4395],[117.35,8.7134],[117.8848,9.2407],[118.1148,9.3468],[119.0239,10.3535],[119.2241,10.4774],[119.2614,10.8449],[119.5268,10.9532],[119.6844,10.5515],[119.1917,10.061],[118.782,9.9163],[118.4348,9.2562],[117.9896,8.8772],[117.3109,8.4395]]],[[[124.5747,11.343],[124.9299,11.3727],[125.0133,10.7854],[125.2535,10.2639],[125.0266,10.0331],[124.7807,10.168],[124.7869,10.7815],[124.4456,10.9235],[124.5747,11.343]]],[[[122.4964,11.6151],[123.1583,11.5356],[123.0167,11.1166],[122.7699,10.8236],[122.1977,10.623],[121.9642,10.8716],[122.1036,11.643],[122.4964,11.6151]]],[[[125.2397,12.5277],[125.5358,12.1913],[125.4568,11.9524],[125.6281,11.1321],[125.2335,11.145],[124.8841,11.7753],[124.3848,12.2441],[124.2946,12.5695],[125.2397,12.5277]]],[[[120.7045,13.4794],[121.2029,13.4324],[121.5225,13.131],[121.5407,12.6383],[121.2367,12.2188],[120.922,12.5117],[120.7635,12.9698],[120.5082,13.2601],[120.7045,13.4794]]],[[[121.1017,18.6153],[121.8457,18.2952],[122.2998,18.4026],[122.1511,17.7563],[122.2368,17.435],[122.5191,17.1247],[122.1351,16.185],[121.5953,15.9333],[121.3925,15.3242],[121.6957,14.7374],[121.8004,14.1138],[122.4907,14.3224],[122.856,14.2509],[123.2315,13.7475],[123.4322,13.9664],[123.726,13.8843],[123.6079,13.5283],[124.1428,13.036],[124.0598,12.5672],[123.311,13.044],[123.1632,13.4417],[122.5954,13.9078],[122.4068,13.4927],[121.7778,13.9375],[121.2034,13.6401],[120.6166,14.1879],[120.922,14.4933],[120.8882,14.7157],[120.0821,14.8511],[119.8309,16.3266],[120.1598,16.0478],[120.3893,16.2218],[120.3054,16.5294],[120.4088,16.9555],[120.3582,17.6383],[120.5997,18.5078],[121.1017,18.6153]]]]},properties:{name:"Philippines",id:"PH"},id:"PH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-69.9658,-4.2359],[-70.7995,-4.1733],[-70.9737,-4.3504],[-71.8448,-4.5044],[-72.6987,-5.0673],[-72.8871,-5.1228],[-72.9799,-5.635],[-73.2355,-6.0984],[-73.1374,-6.466],[-73.758,-6.9059],[-73.7496,-7.3356],[-74.0021,-7.5562],[-73.5491,-8.3459],[-72.9741,-8.993],[-73.2093,-9.4116],[-72.379,-9.5102],[-72.1815,-10.0038],[-71.238,-9.9661],[-70.637,-9.4782],[-70.6423,-11.0101],[-70.2202,-11.0478],[-69.5785,-10.9519],[-68.6852,-12.502],[-68.9786,-12.8802],[-69.0741,-13.6828],[-68.8803,-14.199],[-69.235,-14.5972],[-69.3748,-14.963],[-69.1726,-15.2368],[-69.4185,-15.6035],[-69.2176,-16.149],[-68.9134,-16.2618],[-69.0208,-16.6422],[-69.6249,-17.2002],[-69.5108,-17.506],[-69.8522,-17.704],[-69.9263,-18.206],[-70.4184,-18.3454],[-71.337,-17.6827],[-71.5323,-17.2943],[-72.1114,-17.0026],[-72.4676,-16.7079],[-73.825,-16.153],[-74.1471,-15.9124],[-75.1043,-15.4117],[-75.5336,-14.899],[-75.934,-14.6336],[-76.2891,-14.1333],[-76.1839,-13.5154],[-76.8322,-12.3489],[-77.1527,-12.0603],[-77.2204,-11.6635],[-77.6332,-11.288],[-77.7362,-10.8365],[-78.1856,-10.089],[-78.7622,-8.6171],[-79.3772,-7.8354],[-79.7621,-7.0666],[-80.1103,-6.6497],[-80.8117,-6.2822],[-81.1805,-5.9426],[-80.8827,-5.7589],[-81.1084,-5.0278],[-81.3366,-4.6695],[-81.2833,-4.3224],[-80.7986,-3.7312],[-80.3247,-3.388],[-80.1793,-3.8776],[-80.51,-4.0694],[-80.4885,-4.3939],[-80.1396,-4.2962],[-79.6385,-4.4547],[-79.3308,-4.9279],[-79.0763,-4.9905],[-78.4198,-3.7769],[-78.3472,-3.4311],[-77.8607,-2.9819],[-76.679,-2.5628],[-76.0898,-2.1331],[-75.5706,-1.5312],[-75.2632,-.5555],[-75.2845,-.1063],[-74.8018,-.2],[-74.4178,-.5809],[-74.2465,-.9706],[-73.6643,-1.2489],[-73.4963,-1.6932],[-73.1969,-1.8304],[-73.1545,-2.2783],[-72.3957,-2.4288],[-71.7525,-2.1527],[-71.3969,-2.3342],[-70.9146,-2.2184],[-70.0741,-2.7502],[-70.7351,-3.7818],[-70.3396,-3.8142],[-69.9658,-4.2359]]]},properties:{name:"Peru",id:"PE"},id:"PE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-128.2901,-24.3974],[-128.3205,-24.3997],[-128.3503,-24.3402],[-128.3037,-24.3335],[-128.2901,-24.3974]]]},properties:{name:"Pitcairn Islands",id:"PN"},id:"PN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-77.3742,8.6583],[-77.2124,8.0338],[-77.3509,7.7057],[-77.7439,7.537],[-77.9011,7.2294],[-78.1701,7.5437],[-78.4215,8.0608],[-78.1139,8.3796],[-79.0865,8.997],[-79.4416,9.0059],[-79.7505,8.5953],[-80.3687,8.289],[-80.4581,8.0768],[-80.0752,7.6671],[-80.4388,7.2752],[-80.8456,7.2201],[-81.0352,7.7111],[-81.5041,7.7213],[-81.7276,8.1376],[-82.6796,8.3218],[-82.8793,8.0706],[-82.9976,8.3676],[-82.917,8.7404],[-82.9399,9.4493],[-82.5635,9.5767],[-82.2441,9.0316],[-81.3548,8.7804],[-80.8387,8.8874],[-80.1272,9.2101],[-79.5774,9.598],[-78.5043,9.4063],[-78.0828,9.2363],[-77.3742,8.6583]]]},properties:{name:"Panama",id:"PA"},id:"PA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[77.7992,35.496],[77.0486,35.1099],[76.5945,34.7357],[75.7093,34.5031],[74.3004,34.7654],[73.9613,34.6535],[74.1499,33.507],[73.9941,33.2424],[74.6578,32.5189],[75.3334,32.2792],[74.5099,31.7127],[74.6329,31.0345],[73.8991,30.4352],[73.809,30.0934],[73.3816,29.9345],[72.903,29.029],[72.342,28.752],[71.8701,27.9623],[70.7373,27.7293],[70.4035,28.0249],[70.1447,27.8491],[69.5681,27.1744],[69.47,26.8046],[70.1567,26.4713],[70.0777,26.0718],[70.2646,25.7064],[70.6521,25.4228],[71.048,24.6877],[71.044,24.4001],[70.5469,24.4183],[69.7163,24.1728],[69.5592,24.2731],[68.7282,24.2656],[68.7242,23.9646],[68.1649,23.8572],[67.6687,23.811],[67.3096,24.175],[67.1715,24.7561],[66.7032,24.8608],[66.6988,25.2261],[66.4284,25.5755],[65.6796,25.3553],[64.7767,25.3074],[64.6591,25.184],[63.7207,25.3859],[63.4912,25.2106],[62.5723,25.2546],[62.3153,25.1347],[61.5878,25.2022],[61.6686,25.769],[61.8697,26.2422],[62.4392,26.5609],[63.1681,26.6657],[63.1667,27.2525],[62.7632,27.2503],[62.7397,28.0023],[62.3531,28.4146],[61.8901,28.5465],[61.6229,28.7915],[61.3184,29.3725],[60.8434,29.8586],[62.4765,29.4085],[63.5676,29.4982],[64.0989,29.3921],[64.521,29.5643],[65.0954,29.5594],[66.1772,29.8355],[66.3974,30.9124],[66.9243,31.3057],[67.2874,31.2178],[67.5781,31.5063],[68.2138,31.8073],[68.869,31.6342],[69.2791,31.9369],[69.2414,32.4336],[69.5015,33.02],[69.9201,33.1123],[70.2841,33.3689],[69.8682,33.8976],[71.0516,34.0498],[70.9655,34.5306],[71.6206,35.1831],[71.4276,35.8338],[71.1852,36.042],[71.6206,36.4366],[72.623,36.8295],[73.7691,36.8885],[74.0017,36.8233],[74.5415,37.0221],[75.3467,36.9134],[75.8403,36.6497],[75.945,36.0176],[76.2518,35.8108],[77.4467,35.4756],[77.7992,35.496]]]},properties:{name:"Pakistan",id:"PK"},id:"PK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[56.388,24.9793],[56.6406,24.4702],[57.2199,23.9229],[58.5782,23.6437],[59.7998,22.2201],[59.3714,21.4988],[58.8956,21.1126],[58.4743,20.4068],[57.8618,20.2439],[57.7153,19.6069],[57.8116,19.017],[57.1764,18.9025],[56.6553,18.5873],[56.551,18.166],[56.2704,17.9508],[55.479,17.8433],[55.0644,17.039],[54.0683,17.0057],[53.6097,16.7598],[53.0855,16.6484],[52.729,17.3005],[51.9775,18.9961],[53.667,19.559],[54.9774,19.9958],[55.641,22.0017],[55.186,22.704],[55.1997,23.0346],[55.7608,24.2425],[55.7959,24.8679],[56.064,24.7388],[56.388,24.9793]]]},properties:{name:"Oman",id:"OM"},id:"OM"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[173.1152,-41.2791],[173.738,-40.9888],[174.3026,-41.0194],[174.0922,-41.505],[174.2831,-41.7407],[173.5449,-42.518],[173.2213,-42.9765],[172.7184,-43.2589],[172.9208,-43.8914],[172.3855,-43.8297],[171.4426,-44.136],[171.1133,-45.0393],[170.7005,-45.6843],[169.6866,-46.5516],[168.382,-46.6054],[168.1889,-46.3621],[167.682,-46.193],[166.7316,-46.1979],[166.7338,-45.5436],[167.1946,-44.9634],[167.7872,-44.595],[168.3665,-44.0818],[168.8064,-43.9922],[169.6613,-43.5913],[170.3027,-43.1075],[170.7417,-42.9273],[171.2571,-42.4652],[171.4861,-41.7949],[172.0108,-41.4447],[172.1396,-40.9471],[172.6407,-40.5183],[172.9887,-40.8481],[173.1152,-41.2791]]],[[[173.2693,-34.935],[173.8441,-35.0264],[174.3204,-35.2466],[174.5437,-35.5822],[174.391,-35.7739],[174.802,-36.3093],[174.7226,-36.8411],[175.2996,-36.9933],[175.4608,-36.4757],[175.8762,-36.9578],[176.1084,-37.6449],[177.3358,-37.9907],[178.0091,-37.5548],[178.536,-37.692],[178.2679,-38.5509],[177.9763,-38.7223],[177.9656,-39.1426],[177.4077,-39.0809],[176.954,-39.3677],[177.1098,-39.6731],[176.8421,-40.1578],[175.9828,-41.2134],[175.3098,-41.6107],[174.6356,-41.2893],[175.1625,-40.6217],[175.2543,-40.2892],[175.0093,-39.9523],[173.9342,-39.5093],[173.8441,-39.1395],[174.5974,-38.7849],[174.9281,-37.8043],[174.7292,-37.4487],[174.782,-36.9436],[174.4758,-36.9418],[174.4469,-36.4509],[173.9453,-36.1761],[173.1166,-35.2053],[173.2693,-34.935]]]]},properties:{name:"New Zealand",id:"NZ"},id:"NZ"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[20.898,80.2499],[22.4507,80.4022],[26.8608,80.16],[27.1986,79.9065],[25.641,79.403],[23.9475,79.1943],[20.8611,79.3978],[18.7251,79.7607],[18.3438,80.0595],[20.898,80.2499]]],[[[16.7867,79.9068],[18.5813,79.5716],[19.0896,79.157],[20.4581,79.1293],[21.3889,78.7404],[19.7687,78.6228],[18.4393,78.0251],[16.7005,76.5794],[14.3657,77.2345],[14.921,77.6889],[13.6807,78.028],[11.7738,78.7165],[10.866,79.7965],[12.7535,79.7758],[13.3838,79.4809],[15.8163,79.6819],[16.7867,79.9068]]],[[[21.6082,78.5957],[23.1166,77.9916],[24.2383,77.8986],[23.8414,77.4978],[22.057,77.5011],[21.6082,77.9161],[20.2282,78.4779],[21.6082,78.5957]]]]},properties:{name:"Svalbard and Jan Mayen",id:"SJ"},id:"SJ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[166.9584,-.5165],[166.9163,-.5467],[166.9136,-.4992],[166.9584,-.5165]]]},properties:{name:"Nauru",id:"NR"},id:"NR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[88.1099,27.8704],[87.9843,27.134],[88.1614,26.7247],[88.0549,26.43],[87.2874,26.3603],[87.0166,26.5556],[86.7014,26.4349],[86.3663,26.5743],[85.293,26.7412],[84.6853,27.0412],[84.6103,27.2987],[84.0909,27.4913],[83.2897,27.371],[82.7335,27.5189],[81.9877,27.9139],[81.8528,27.8669],[80.5868,28.6494],[80.0706,28.8301],[80.4017,29.7303],[81.0103,30.1645],[81.4169,30.3376],[82.0432,30.3269],[82.1591,30.1152],[82.8542,29.6833],[83.1556,29.6127],[83.5835,29.1834],[84.1016,29.2198],[84.2285,28.9118],[84.7141,28.5957],[85.1589,28.5922],[85.1225,28.3161],[85.6783,28.2775],[86.4089,27.9286],[86.5545,28.0853],[87.1413,27.8385],[88.1099,27.8704]]]},properties:{name:"Nepal",id:"NP"},id:"NP"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[30.8696,69.7834],[28.9657,69.0219],[29.1415,69.6715],[27.8897,70.0617],[26.5257,69.915],[26.0116,69.6526],[25.7484,68.9901],[24.9414,68.5933],[23.8539,68.8059],[22.4108,68.7198],[21.622,69.2707],[20.6223,69.037],[19.9698,68.3565],[18.3785,68.5624],[17.9168,67.965],[17.3247,68.1039],[16.1275,67.4259],[16.4036,67.055],[15.423,66.4899],[14.5432,66.1292],[14.4798,65.3014],[13.6501,64.5816],[14.0776,64.464],[13.9604,64.0141],[12.6625,63.9404],[11.9997,63.2917],[12.2181,63.0007],[12.3034,62.2856],[12.1555,61.7207],[12.8809,61.3523],[12.294,61.0027],[12.5888,60.4508],[12.4862,60.1067],[11.6806,59.5923],[11.7982,59.29],[11.3885,59.0365],[10.8345,59.1839],[9.6182,58.946],[8.1663,58.1452],[7.0051,58.0242],[5.7067,58.5236],[5.8452,59.3535],[5.1314,59.2265],[5.2441,60.5695],[5.0493,60.7076],[4.9276,61.7107],[5.5336,62.3109],[6.353,62.6112],[7.2838,62.6023],[7.0086,62.9576],[8.1006,63.091],[8.398,63.5351],[9.6968,63.6246],[9.7079,63.865],[11.3499,64.9059],[12.1595,65.1789],[12.2727,65.5682],[12.9763,66.0192],[13.1046,66.5394],[14.755,67.4991],[14.7989,67.8094],[16.0644,68.2],[16.6517,68.6257],[18.1015,69.1564],[18.2932,69.4751],[20.0688,69.8835],[21.163,69.8895],[21.4005,70.1744],[22.6847,70.3749],[23.0464,70.1019],[24.4198,70.702],[24.6582,71.001],[25.7684,70.8531],[27.5972,71.0913],[29.1024,70.8607],[30.9442,70.2745],[29.6014,69.9767],[29.7923,69.7279],[30.8696,69.7834]]]},properties:{name:"Norway",id:"NO"},id:"NO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-169.8034,-19.0832],[-169.9039,-19.1378],[-169.9483,-19.0729],[-169.834,-18.966],[-169.8034,-19.0832]]]},properties:{name:"Niue",id:"NU"},id:"NU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-83.1576,14.9931],[-83.2992,14.749],[-83.1878,14.3401],[-83.4124,13.9966],[-83.5673,13.3205],[-83.511,12.4119],[-83.7693,11.9316],[-83.6517,11.6422],[-83.8679,11.2999],[-83.6419,10.9173],[-84.1684,10.7806],[-84.3484,10.9799],[-84.9092,10.9453],[-85.6215,11.1845],[-85.7444,11.062],[-86.4688,11.7385],[-86.7556,12.1566],[-87.6676,12.9037],[-87.3373,12.9792],[-87.0592,12.9916],[-86.7108,13.3134],[-86.7336,13.7635],[-86.3317,13.7702],[-86.1512,13.9948],[-85.7868,13.8443],[-85.1796,14.3432],[-84.9851,14.7525],[-84.646,14.6611],[-83.8674,14.7947],[-83.1576,14.9931]]]},properties:{name:"Nicaragua",id:"NI"},id:"NI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[13.6062,13.7045],[14.0638,13.0786],[14.1974,12.3839],[14.6271,12.1087],[14.5597,11.4921],[13.892,11.1401],[13.5352,10.6052],[13.2697,10.0362],[13.1756,9.5394],[12.9297,9.4263],[12.8067,8.8865],[12.4037,8.5957],[12.0162,7.5899],[11.7676,7.272],[11.5518,6.6972],[11.1532,6.438],[11.0325,6.6981],[10.6064,7.063],[10.1438,6.9964],[9.0603,6.0092],[8.801,5.1973],[8.556,4.7552],[8.2932,4.5576],[7.1546,4.5146],[6.7569,4.3437],[6.0764,4.2904],[5.5877,4.6473],[5.2326,5.4836],[4.8611,6.0265],[4.4314,6.3487],[4.126,6.4113],[2.7064,6.3692],[2.7748,6.7119],[2.686,7.874],[2.7748,9.0485],[3.0451,9.084],[3.3252,9.7783],[3.5573,9.9074],[3.5764,10.2683],[3.8343,10.6074],[3.7163,11.0797],[3.4877,11.3954],[3.5955,11.6963],[3.6466,12.5299],[3.948,12.775],[4.1477,13.4577],[4.8233,13.76],[5.4918,13.8727],[6.3863,13.6037],[6.8044,13.1074],[7.0565,13],[7.7885,13.3378],[8.0953,13.2912],[8.7504,12.9081],[9.616,12.8105],[10.1847,13.2699],[10.9588,13.3716],[11.412,13.3538],[12.4632,13.0937],[12.6549,13.3267],[13.3239,13.6707],[13.6062,13.7045]]]},properties:{name:"Nigeria",id:"NG"},id:"NG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[167.9394,-29.0175],[167.979,-29.0756],[167.9204,-29.0827],[167.9394,-29.0175]]]},properties:{name:"Norfolk Island",id:"NF"},id:"NF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[14.9791,22.996],[15.1722,21.9223],[15.182,21.5232],[15.6072,20.9546],[15.5873,20.7335],[15.949,20.3034],[15.7351,19.9039],[15.4745,16.9085],[14.3679,15.7499],[13.4481,14.3805],[13.6062,13.7045],[13.3239,13.6707],[12.6549,13.3267],[12.4632,13.0937],[11.412,13.3538],[10.9588,13.3716],[10.1847,13.2699],[9.616,12.8105],[8.7504,12.9081],[8.0953,13.2912],[7.7885,13.3378],[7.0565,13],[6.8044,13.1074],[6.3863,13.6037],[5.4918,13.8727],[4.8233,13.76],[4.1477,13.4577],[3.948,12.775],[3.6466,12.5299],[3.5955,11.6963],[2.8782,12.3679],[2.3659,12.2219],[2.389,11.897],[2.0912,12.2778],[2.0739,12.7142],[1.5652,12.6356],[.9872,13.0418],[.9779,13.5518],[.6183,13.7036],[.1638,14.4973],[.2175,14.9114],[.9601,14.9869],[1.3002,15.2723],[3.5041,15.3562],[3.8769,15.7553],[4.1823,16.5818],[4.2347,16.9964],[4.2276,19.1426],[5.8367,19.4791],[7.4818,20.8729],[9.3785,21.9915],[11.9678,23.518],[13.4814,23.1802],[14.2307,22.6183],[14.9791,22.996]]]},properties:{name:"Niger",id:"NE"},id:"NE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[164.2023,-20.2462],[164.4358,-20.2821],[165.1918,-20.7691],[165.6627,-21.2671],[166.9425,-22.0901],[166.7742,-22.3759],[166.096,-21.9565],[165.2419,-21.5255],[164.4549,-20.829],[164.1699,-20.4801],[164.2023,-20.2462]]]},properties:{name:"New Caledonia",id:"NC"},id:"NC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[23.3807,-17.6405],[24.2751,-17.4812],[24.9325,-17.5433],[25.2588,-17.7936],[24.359,-17.9783],[23.5804,-18.4528],[23.2986,-18.0276],[20.9739,-18.3188],[20.9779,-20.9684],[20.9708,-22],[19.9774,-22],[19.9805,-24.777],[19.9805,-26.5312],[19.9805,-28.4515],[19.6715,-28.5039],[19.2458,-28.9016],[18.1028,-28.8719],[17.4481,-28.6983],[17.3855,-28.3534],[17.0561,-28.0311],[16.7556,-28.4524],[16.4475,-28.6175],[15.7191,-27.9659],[15.3413,-27.3866],[14.9676,-26.3182],[14.8451,-25.7256],[14.8371,-25.0331],[14.5015,-24.2021],[14.474,-23.281],[14.5259,-22.7027],[14.3217,-22.19],[13.9733,-21.7678],[13.4504,-20.9169],[13.1685,-20.1845],[12.4583,-18.9269],[12.0956,-18.5412],[11.776,-18.0018],[11.7432,-17.2494],[12.5479,-17.2126],[13.101,-16.9676],[13.4038,-17.008],[13.9382,-17.3888],[16.9136,-17.3915],[18.3962,-17.3995],[18.8259,-17.7661],[19.6396,-17.8687],[20.3928,-17.8873],[20.625,-17.9965],[21.4169,-18.0005],[23.3807,-17.6405]]]},properties:{name:"Namibia",id:"NA"},id:"NA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[45.1802,-12.9765],[45.0692,-12.8957],[45.1349,-12.7093],[45.2233,-12.7519],[45.1802,-12.9765]]]},properties:{name:"Mayotte",id:"YT"},id:"YT"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[102.1009,6.2422],[102.9825,5.5249],[103.4157,4.8502],[103.4686,4.3934],[103.362,3.7693],[103.4397,2.933],[103.8121,2.5805],[104.2884,1.4806],[103.6945,1.4495],[102.7273,1.8557],[101.2953,2.8851],[101.2997,3.2535],[100.7155,3.9664],[100.6143,4.6522],[100.3524,5.5875],[100.3431,5.9843],[100.119,6.442],[100.3453,6.5498],[101.0533,6.2427],[101.2571,5.7894],[101.5563,5.908],[101.8737,5.8254],[102.1009,6.2422]]],[[[117.5746,4.1706],[117.1005,4.337],[115.8962,4.3486],[115.5686,3.9389],[115.4545,3.0342],[115.0861,2.8411],[115.1509,2.4931],[114.7865,2.2503],[114.8304,1.98],[114.5459,1.4673],[113.9022,1.4344],[113.6222,1.236],[112.476,1.5592],[112.1857,1.4393],[112.0783,1.1432],[111.7698,.9994],[110.9379,1.0172],[110.5056,.8618],[109.6542,1.6151],[109.6289,2.0275],[109.9845,1.7176],[110.3493,1.7198],[110.9402,1.5174],[111.1541,1.7389],[111.242,2.4358],[111.7276,2.854],[112.7375,3.0706],[113.0446,3.2051],[113.924,4.2434],[114.0638,4.5927],[114.6085,4.0241],[114.8402,4.3934],[114.7465,4.7179],[115.0266,4.8999],[115.1398,4.8999],[115.5198,5.049],[115.419,5.413],[115.7968,5.536],[116.1386,6.1295],[116.4946,6.5219],[117.294,6.6768],[117.6456,6.4735],[117.6172,5.9408],[118.0038,6.0531],[118.1157,5.8627],[118.5946,5.5919],[119.2236,5.4126],[119.1322,5.1005],[118.1854,4.8284],[118.4979,4.3623],[117.5746,4.1706]]]]},properties:{name:"Malaysia",id:"MY"},id:"MY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[34.9596,-11.5783],[34.6595,-11.5885],[34.3608,-12.2104],[34.5636,-13.3601],[35.2477,-13.8967],[35.8474,-14.6709],[35.7555,-16.0585],[35.3587,-16.1606],[35.1673,-16.5601],[35.2903,-17.0967],[34.3954,-16.1992],[34.248,-15.8876],[34.541,-15.2972],[34.5055,-14.5981],[34.3324,-14.4085],[33.6364,-14.5683],[33.2018,-14.0135],[32.9812,-14.0095],[32.6722,-13.6104],[32.9679,-13.2251],[33.0216,-12.6303],[33.398,-12.49],[33.2524,-12.1127],[33.2262,-11.5348],[33.3798,-11.1579],[33.2613,-10.8934],[33.659,-10.5906],[33.3509,-9.8622],[32.9199,-9.4072],[34.3208,-9.7317],[34.5241,-10.03],[34.6617,-10.71],[34.608,-11.0807],[34.9596,-11.5783]]]},properties:{name:"Malawi",id:"MW"},id:"MW"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[57.6514,-20.485],[57.3859,-20.2284],[57.5759,-19.9971],[57.7921,-20.2124],[57.6514,-20.485]]]},properties:{name:"Mauritius",id:"MU"},id:"MU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-60.8263,14.4946],[-61.0638,14.4671],[-61.2198,14.8044],[-60.9186,14.7352],[-60.8263,14.4946]]]},properties:{name:"Martinique",id:"MQ"},id:"MQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-62.1484,16.7403],[-62.1542,16.6812],[-62.2217,16.6994],[-62.223,16.7518],[-62.1484,16.7403]]]},properties:{name:"Montserrat",id:"MS"},id:"MS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-12.2807,14.8089],[-12.8584,15.2426],[-13.2579,15.7002],[-13.4095,16.0593],[-13.8685,16.1481],[-14.3,16.5805],[-15.1128,16.6448],[-15.6208,16.5068],[-16.1683,16.5472],[-16.4411,16.2045],[-16.5352,15.8383],[-16.5356,16.2866],[-16.0789,17.5459],[-16.0849,18.5212],[-16.2132,19.0032],[-16.5146,19.3619],[-16.2835,19.7871],[-16.2105,20.2279],[-16.4298,20.6523],[-17.0481,20.8063],[-16.9647,21.3292],[-15.0018,21.3314],[-13.0163,21.3341],[-13.0944,22.4958],[-13.0316,23],[-12.6203,23.2712],[-12.0235,23.4674],[-12.0164,25.9954],[-10.5624,25.9954],[-8.6821,25.9954],[-8.6834,27.2858],[-6.2387,25.848],[-4.8227,24.9958],[-6.594,24.9944],[-6.3113,22.5291],[-6.1404,21.0367],[-5.8556,18.5505],[-5.6286,16.5685],[-5.36,16.2831],[-5.5125,15.4965],[-7.3555,15.496],[-9.1768,15.496],[-9.9414,15.374],[-10.6965,15.4228],[-10.8956,15.1502],[-11.5026,15.6367],[-11.7603,15.4255],[-11.8728,14.9953],[-12.2807,14.8089]]]},properties:{name:"Mauritania",id:"MR"},id:"MR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[32.8862,-26.8495],[32.1129,-26.8393],[31.9482,-25.9577],[31.986,-24.4605],[31.7995,-23.8923],[31.5456,-23.4821],[31.2877,-22.4021],[32.3713,-21.335],[32.4778,-20.7131],[33.0069,-19.8737],[32.7166,-19.0019],[32.9932,-18.3596],[32.9479,-16.7123],[32.2434,-16.4487],[31.9398,-16.4287],[31.2362,-16.0239],[30.4377,-15.9954],[30.3959,-15.643],[30.2317,-14.9905],[31.729,-14.496],[33.2018,-14.0135],[33.6364,-14.5683],[34.3324,-14.4085],[34.5055,-14.5981],[34.541,-15.2972],[34.248,-15.8876],[34.3954,-16.1992],[35.2903,-17.0967],[35.1673,-16.5601],[35.3587,-16.1606],[35.7555,-16.0585],[35.8474,-14.6709],[35.2477,-13.8967],[34.5636,-13.3601],[34.3608,-12.2104],[34.6595,-11.5885],[34.9596,-11.5783],[35.6312,-11.5818],[35.7852,-11.4531],[36.5185,-11.7163],[36.9789,-11.5667],[37.5417,-11.675],[37.9204,-11.2946],[38.4917,-11.4131],[38.7948,-11.2289],[39.3217,-11.1224],[39.9889,-10.821],[40.4634,-10.4641],[40.5447,-11.0656],[40.403,-11.3319],[40.5806,-12.6356],[40.5451,-13.463],[40.6401,-14.3899],[40.835,-14.7916],[40.5589,-15.4734],[40.1087,-15.9795],[39.8446,-16.4358],[39.0842,-16.9729],[38.145,-17.2428],[37.2443,-17.7399],[36.5403,-18.5181],[35.6512,-19.1639],[34.9481,-19.8129],[34.7559,-19.8218],[34.6981,-20.4042],[34.9822,-20.8063],[35.2677,-21.6511],[35.3156,-22.3968],[35.5753,-22.9632],[35.3702,-23.7982],[35.4381,-24.171],[35.1558,-24.5413],[34.6072,-24.8214],[33.3474,-25.2608],[32.7921,-25.6443],[32.5905,-26.0039],[32.9337,-26.2525],[32.8862,-26.8495]]]},properties:{name:"Mozambique",id:"MZ"},id:"MZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[145.7519,15.1334],[145.6845,15.1249],[145.7133,15.2155],[145.7821,15.1747],[145.7519,15.1334]]]},properties:{name:"Northern Mariana Islands",id:"MP"},id:"MP"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[116.6832,49.8238],[115.5575,47.945],[115.8984,47.6871],[116.7605,47.87],[117.3508,47.652],[117.7685,47.988],[118.4983,47.9841],[119.711,47.15],[119.8979,46.8579],[119.7066,46.6062],[118.3088,46.7172],[117.3335,46.3621],[116.5625,46.2897],[116.2407,45.7961],[115.6809,45.4583],[114.517,45.3646],[114.0305,44.9425],[113.5871,44.7459],[111.8981,45.0641],[111.4022,44.3672],[111.9331,43.7116],[111.0072,43.3414],[110.4004,42.7736],[109.4434,42.4558],[108.1712,42.4474],[106.7702,42.2889],[105.1971,41.738],[104.4984,41.6586],[104.4984,41.877],[103.7109,41.7514],[103.0726,42.0062],[101.9731,42.2157],[101.7139,42.4656],[99.984,42.6773],[99.4678,42.5681],[97.2057,42.7896],[96.3854,42.7204],[95.9126,43.2064],[95.3502,44.278],[94.7119,44.3508],[93.6563,44.9008],[92.7876,45.0357],[91.5842,45.0766],[90.8771,45.196],[90.6618,45.5253],[91.0019,46.0358],[91.0338,46.529],[90.87,46.9547],[90.4963,47.2854],[90.3134,47.676],[89.561,48.004],[89.0478,48.0027],[88.517,48.3844],[87.9798,48.5549],[87.8143,49.1624],[88.1925,49.4518],[88.8317,49.4485],[89.6542,49.7175],[89.644,49.903],[91.8044,50.6936],[94.2511,50.5564],[94.6147,50.0237],[95.5229,49.9112],[95.8518,50.0129],[96.986,49.8828],[97.2088,49.7308],[98.1032,50.0779],[98.2795,50.5333],[97.8254,50.9852],[97.947,51.3483],[98.8485,52.0701],[100.4687,51.7261],[101.3814,51.4526],[102.1116,51.3534],[102.2883,50.585],[102.6833,50.3871],[103.6328,50.1387],[105.3835,50.4736],[106.218,50.3045],[106.7112,50.3125],[107.2332,49.9893],[107.9479,49.9247],[108.034,49.594],[108.6137,49.3228],[109.2365,49.3348],[110.1997,49.1704],[110.8279,49.1661],[111.3366,49.3559],[113.0557,49.6162],[113.1641,49.7971],[114.2969,50.2743],[114.743,50.2337],[115.2743,49.9489],[116.1346,50.0109],[116.6832,49.8238]]]},properties:{name:"Mongolia",id:"MN"},id:"MN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[19.1943,43.5331],[19.5517,43.2122],[20.3445,42.8278],[20.0639,42.5473],[19.6546,42.6285],[19.2809,42.1726],[19.3426,41.869],[18.5174,42.4327],[18.4362,42.5597],[18.4437,42.9685],[18.9404,43.4967],[19.1943,43.5331]]]},properties:{name:"Montenegro",id:"ME"},id:"ME"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[101.139,21.5676],[100.7564,21.3128],[100.2495,20.7304],[100.1225,20.3167],[99.8904,20.4246],[99.3382,20.0788],[99.0208,20.0419],[98.9169,19.7729],[98.1112,19.7623],[97.8169,19.46],[97.7539,18.621],[97.4849,18.4941],[97.793,17.6813],[98.4388,16.9755],[98.6892,16.3052],[98.5653,15.4037],[98.1911,15.204],[98.2462,14.8147],[99.1366,13.7165],[99.2196,12.7399],[99.4052,12.5477],[99.6147,11.7811],[99.1903,11.1051],[98.7571,10.6612],[98.7025,10.1902],[98.465,10.6758],[98.6754,10.987],[98.7416,11.5916],[98.576,13.162],[98.2453,13.7333],[97.8121,14.859],[97.7104,15.8756],[97.5843,16.0194],[97.6194,16.5374],[97.3757,16.5228],[97.1782,17.0621],[96.6224,16.564],[95.7635,16.169],[95.3897,15.7229],[94.9427,15.8183],[94.5876,16.2888],[94.2143,16.1268],[94.589,17.5695],[94.4309,18.2016],[94.07,18.8936],[93.7056,19.0267],[93.9981,19.4409],[93.3625,20.0584],[93.002,20.0748],[92.7357,20.5626],[92.3242,20.7917],[92.1795,21.2933],[92.5937,21.4673],[92.575,21.9782],[92.9643,22.0039],[93.1618,22.3604],[93.0788,22.7182],[93.366,23.1323],[93.4149,23.6823],[93.3074,24.0219],[94.1277,23.8763],[94.2929,24.3219],[94.7075,25.0486],[94.6227,25.4099],[95.1323,26.0411],[95.1287,26.5973],[96.0613,27.217],[96.6659,27.3391],[97.3353,27.9379],[97.3224,28.218],[97.5377,28.5101],[98.0988,28.1421],[98.299,27.5499],[98.651,27.5726],[98.7318,26.5836],[98.6546,25.9177],[98.0109,25.2923],[97.8196,25.2519],[97.5315,24.4915],[97.686,23.898],[98.2124,24.1106],[98.7642,24.116],[98.8636,23.1913],[99.3408,23.0959],[99.3377,22.498],[99.193,22.126],[99.9179,22.0279],[100.2148,21.4628],[101.139,21.5676]]]},properties:{name:"Myanmar",id:"MM"},id:"MM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[14.5663,35.8529],[14.4363,35.8219],[14.3524,35.8725],[14.4482,35.9572],[14.5663,35.8529]]]},properties:{name:"Malta",id:"MT"},id:"MT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[4.2276,19.1426],[4.2347,16.9964],[4.1823,16.5818],[3.8769,15.7553],[3.5041,15.3562],[1.3002,15.2723],[.9601,14.9869],[.2175,14.9114],[-.2359,15.0592],[-.7604,15.0477],[-1.0496,14.8195],[-1.7678,14.4862],[-2.1132,14.1684],[-2.4572,14.274],[-3.1985,13.673],[-3.3017,13.2806],[-3.5758,13.194],[-4.0512,13.3822],[-4.3286,13.119],[-4.2272,12.7936],[-4.4807,12.6724],[-4.4287,12.3377],[-4.798,12.0319],[-5.2881,11.8277],[-5.2999,11.2058],[-5.4905,11.0425],[-5.5236,10.4259],[-6.0345,10.1946],[-6.2611,10.7242],[-6.6932,10.3495],[-7.1049,10.2035],[-7.6611,10.4272],[-7.9907,10.1627],[-8.2315,10.4379],[-8.4075,11.3865],[-8.8219,11.6732],[-9.043,12.4025],[-9.8207,12.0426],[-10.2748,12.2126],[-10.6774,11.8996],[-10.9333,12.205],[-11.3053,12.0155],[-11.3894,12.4043],[-11.3903,12.9419],[-11.6349,13.3698],[-12.0543,13.633],[-12.0193,14.2065],[-12.2807,14.8089],[-11.8728,14.9953],[-11.7603,15.4255],[-11.5026,15.6367],[-10.8956,15.1502],[-10.6965,15.4228],[-9.9414,15.374],[-9.1768,15.496],[-7.3555,15.496],[-5.5125,15.4965],[-5.36,16.2831],[-5.6286,16.5685],[-5.8556,18.5505],[-6.1404,21.0367],[-6.3113,22.5291],[-6.594,24.9944],[-4.8227,24.9958],[-3.2579,23.981],[-1.2931,22.6964],[1.1457,21.1024],[1.1657,20.8174],[1.6855,20.3784],[2.2195,20.2479],[2.4063,20.0637],[3.2036,19.7898],[3.2559,19.4107],[3.1059,19.1502],[3.4007,18.9886],[4.2276,19.1426]]]},properties:{name:"Mali",id:"ML"},id:"ML"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[22.3442,42.3138],[22.8369,41.9937],[23.0056,41.7172],[22.9159,41.3363],[22.7246,41.1783],[21.9296,41.1073],[21.5758,40.8689],[20.9641,40.8498],[20.4892,41.2724],[20.566,41.8739],[21.0596,42.1713],[21.5625,42.2476],[22.3442,42.3138]]]},properties:{name:"North Macedonia",id:"MK"},id:"MK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[171.1017,7.1384],[171.2269,7.0869],[171.2025,7.0736],[171.0955,7.1091],[171.1017,7.1384]]]},properties:{name:"Marshall Islands",id:"MH"},id:"MH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-97.1462,25.9617],[-97.5071,25.0144],[-97.6676,24.3899],[-97.8578,22.6245],[-97.6376,21.6035],[-97.1214,20.615],[-96.456,19.8697],[-96.2895,19.3437],[-95.821,18.7546],[-95.1818,18.7005],[-94.798,18.5145],[-94.5461,18.1749],[-94.189,18.1953],[-93.5523,18.4306],[-92.8849,18.4688],[-92.7102,18.6117],[-91.9738,18.716],[-91.8031,18.4706],[-91.2753,18.6246],[-91.343,18.9007],[-90.7393,19.3521],[-90.5072,19.9119],[-90.4841,20.5564],[-90.3531,21.0096],[-89.8198,21.2746],[-88.8787,21.414],[-88.1317,21.616],[-86.8242,21.4215],[-86.8648,20.8849],[-87.4672,20.1023],[-87.4248,19.5834],[-87.7619,18.4461],[-88.1967,18.7196],[-88.2957,18.4723],[-88.523,18.4457],[-88.8064,17.9654],[-89.1615,17.8149],[-90.9892,17.8163],[-90.993,17.2525],[-91.4096,17.2561],[-90.7107,16.7083],[-90.417,16.3909],[-90.4472,16.0726],[-91.7365,16.07],[-92.1871,15.3207],[-92.0748,15.0743],[-92.2352,14.5452],[-92.809,15.1387],[-93.916,16.0536],[-94.3741,16.2848],[-94.6615,16.2018],[-94.9004,16.4176],[-95.4643,15.9745],[-96.5108,15.6518],[-97.1846,15.9093],[-97.7548,15.967],[-98.5203,16.3048],[-98.7622,16.5347],[-99.6906,16.7198],[-100.0244,16.9205],[-100.8478,17.2006],[-101.6002,17.6516],[-101.847,17.9223],[-102.6995,18.0626],[-103.4415,18.3254],[-103.9125,18.8283],[-104.9385,19.3095],[-105.4821,19.9762],[-105.6694,20.3855],[-105.237,21.1193],[-105.2086,21.4908],[-105.6492,21.988],[-105.7917,22.6276],[-106.4023,23.1958],[-106.9354,23.8812],[-107.9512,24.6149],[-108.3736,25.1942],[-109.385,25.7273],[-109.4256,26.0327],[-109.1997,26.3052],[-109.4829,26.7105],[-109.7548,26.703],[-109.9441,27.0794],[-110.4779,27.3227],[-110.5298,27.8642],[-111.1215,27.9672],[-111.6801,28.4706],[-112.1618,29.0188],[-112.2235,29.2696],[-112.7384,29.9856],[-113.1104,30.7934],[-113.0467,31.1792],[-114.1493,31.5072],[-114.8395,31.7984],[-114.8819,31.1565],[-114.6334,30.5067],[-114.6498,30.2381],[-114.3726,29.8302],[-113.7556,29.3677],[-113.4997,28.9269],[-112.8709,28.4244],[-112.7339,27.826],[-112.3291,27.5233],[-112.0091,26.9671],[-111.5696,26.7074],[-111.2917,25.7899],[-111.0345,25.5271],[-110.6774,24.7885],[-110.5471,24.2141],[-110.0229,24.1746],[-109.421,23.4803],[-109.458,23.2149],[-109.9234,22.8859],[-110.3627,23.6051],[-111.4194,24.329],[-112.0725,24.84],[-112.0557,25.488],[-112.3773,26.2138],[-113.0207,26.5831],[-113.2058,26.857],[-113.5986,26.7212],[-113.841,26.9667],[-114.4454,27.2183],[-114.9936,27.7359],[-114.3007,27.8731],[-114.0485,28.4262],[-114.1455,28.6055],[-114.9936,29.3845],[-115.6738,29.7565],[-116.0622,30.8041],[-116.6622,31.5649],[-117.1282,32.5335],[-114.7248,32.7155],[-114.836,32.5082],[-112.939,31.916],[-111.042,31.3243],[-108.2145,31.3292],[-108.2118,31.7793],[-106.4533,31.77],[-106.2558,31.5445],[-104.9179,30.5835],[-104.504,29.6775],[-104.1107,29.3863],[-103.2577,29.001],[-102.892,29.2163],[-102.7342,29.6438],[-102.269,29.871],[-101.4404,29.7769],[-100.6587,29.0685],[-100.2961,28.3276],[-99.5053,27.5482],[-99.4436,27.0368],[-99.1078,26.4469],[-98.0828,26.0642],[-97.3582,25.8707],[-97.1462,25.9617]]]},properties:{name:"Mexico",id:"MX"},id:"MX"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[73.5121,4.1644],[73.473,4.1706],[73.5041,4.2345],[73.5285,4.2434],[73.5121,4.1644]]]},properties:{name:"Maldives",id:"MV"},id:"MV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[49.5383,-12.4323],[49.9374,-13.0724],[50.174,-14.0401],[50.2353,-14.7321],[50.4829,-15.3855],[50.2091,-15.9604],[49.8926,-15.4579],[49.6498,-15.5671],[49.8389,-16.4864],[49.4491,-17.2406],[49.478,-17.8984],[48.6071,-20.4574],[48.3509,-21.3488],[47.9084,-22.4661],[47.5581,-23.8745],[47.1773,-24.7872],[46.7285,-25.1498],[46.1586,-25.2306],[45.5078,-25.5631],[45.1154,-25.5431],[44.8131,-25.334],[44.3457,-25.2262],[44.0354,-24.9958],[43.6874,-24.3579],[43.7225,-23.5296],[43.398,-22.8864],[43.2666,-22.0492],[43.5019,-21.3563],[43.8556,-21.0767],[44.4047,-19.9221],[44.4487,-19.4285],[44.2387,-19.0752],[44.2329,-18.7405],[44.0399,-18.2886],[43.9795,-17.3915],[44.4216,-16.7026],[44.4762,-16.2174],[44.9094,-16.1743],[45.1669,-15.983],[45.5984,-15.9928],[45.7,-15.8139],[46.3317,-15.7136],[46.475,-15.5134],[47.8116,-14.5448],[47.9954,-13.9606],[48.7966,-13.2673],[48.8996,-12.4585],[49.2072,-12.0794],[49.5383,-12.4323]]]},properties:{name:"Madagascar",id:"MG"},id:"MG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[28.2124,45.4503],[28.0997,45.9728],[28.2444,46.4513],[28.0717,46.9786],[27.3366,47.6396],[26.9806,48.155],[26.6189,48.2597],[27.5493,48.4777],[29.1948,47.8824],[29.1597,47.4558],[29.5494,47.2467],[29.8779,46.829],[29.838,46.3505],[29.1464,46.5268],[28.9475,46.05],[28.2124,45.4503]]]},properties:{name:"Moldova",id:"MD"},id:"MD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[7.4387,43.7507],[7.3779,43.7316],[7.4143,43.7711],[7.4387,43.7507]]]},properties:{name:"Monaco",id:"MC"},id:"MC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-2.2197,35.1041],[-1.7955,34.7521],[-1.6792,33.3187],[-1.5099,32.8775],[-1.0656,32.4683],[-1.2753,32.0892],[-2.4485,32.13],[-2.9308,32.0426],[-3.0174,31.8344],[-3.8268,31.6617],[-3.8335,31.1978],[-4.3228,30.6989],[-4.9683,30.4654],[-5.4488,29.9567],[-6.5008,29.8093],[-6.6353,29.5687],[-7.095,29.6251],[-7.6851,29.3495],[-8.6599,28.7187],[-8.6834,27.6565],[-13.1774,27.652],[-12.949,27.9144],[-11.986,28.1292],[-11.4302,28.3822],[-11.0809,28.7138],[-10.4865,29.0649],[-9.6671,30.1094],[-9.6529,30.4477],[-9.8755,30.718],[-9.8087,31.4247],[-9.3475,32.0865],[-9.2458,32.5726],[-8.5962,33.1874],[-6.901,33.969],[-6.3532,34.776],[-5.9249,35.7859],[-5.3973,35.9297],[-5.1054,35.4676],[-4.3299,35.1613],[-3.6932,35.2799],[-2.84,35.1281],[-2.2197,35.1041]]]},properties:{name:"Morocco",id:"MA"},id:"MA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-63.0111,18.0688],[-63.123,18.0688],[-63.0631,18.1154],[-63.0111,18.0688]]]},properties:{name:"Saint Martin",id:"MF"},id:"MF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[113.4788,22.1957],[113.4943,22.2414],[113.5467,22.2241],[113.4788,22.1957]]]},properties:{name:"Macau",id:"MO"},id:"MO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[27.3517,57.5282],[27.797,57.3169],[27.8063,56.867],[28.1481,56.143],[27.5768,55.7988],[26.5936,55.6676],[24.9032,56.3982],[24.1206,56.2642],[22.0845,56.4067],[21.0462,56.07],[21.0711,56.8237],[21.7285,57.571],[22.5546,57.7242],[23.6479,56.9711],[24.4034,57.3251],[24.3226,57.8706],[25.111,58.0635],[25.9912,57.8382],[26.5328,57.5311],[27.3517,57.5282]]]},properties:{name:"Latvia",id:"LV"},id:"LV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[6.1164,50.1209],[6.4875,49.7985],[6.3441,49.4527],[5.7897,49.5383],[5.744,49.9196],[6.1164,50.1209]]]},properties:{name:"Luxembourg",id:"LU"},id:"LU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[26.5936,55.6676],[26.175,55.0033],[25.8594,54.9192],[25.5473,54.3317],[24.7683,53.9746],[23.4845,53.9398],[23.37,54.2005],[22.7663,54.3568],[22.8311,54.8384],[21.2358,55.2641],[21.0462,56.07],[22.0845,56.4067],[24.1206,56.2642],[24.9032,56.3982],[26.5936,55.6676]]]},properties:{name:"Lithuania",id:"LT"},id:"LT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[27.8303,-28.9091],[28.6257,-28.5816],[29.3013,-29.0898],[29.3905,-29.2696],[29.098,-29.919],[28.3922,-30.1476],[28.018,-30.6421],[27.3886,-30.3158],[27.0517,-29.6642],[27.2945,-29.5195],[27.8303,-28.9091]]]},properties:{name:"Lesotho",id:"LS"},id:"LS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[79.9822,9.8129],[80.253,9.7965],[80.7111,9.3663],[81.373,8.4315],[81.436,8.119],[81.8741,7.2885],[81.8612,6.9014],[81.6375,6.4251],[80.724,5.979],[80.0954,6.153],[79.8593,6.8295],[79.7923,7.5854],[79.929,8.8994],[80.1185,9.3268],[79.9822,9.8129]]]},properties:{name:"Sri Lanka",id:"LK"},id:"LK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[9.5801,47.0572],[9.4877,47.0621],[9.5277,47.2707],[9.5801,47.0572]]]},properties:{name:"Liechtenstein",id:"LI"},id:"LI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-60.8953,13.8221],[-61.0636,13.9158],[-60.8867,14.0112],[-60.8953,13.8221]]]},properties:{name:"Saint Lucia",id:"LC"},id:"LC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[25.1505,31.655],[24.8526,31.335],[24.9738,30.7766],[24.7115,30.1316],[24.9805,29.1817],[24.9805,27.8345],[24.9805,25.8134],[24.9805,24.2416],[24.9805,21.9959],[24.9796,20.0024],[23.9804,19.9958],[23.9804,19.4968],[21.5847,20.6794],[19.6684,21.6257],[17.7521,22.5721],[15.9841,23.4452],[14.9791,22.996],[14.2307,22.6183],[13.4814,23.1802],[11.9678,23.518],[11.5075,24.3144],[10.6863,24.5514],[10.2557,24.5909],[10.0009,25.3322],[9.4482,26.0673],[9.4913,26.3337],[9.8593,26.5521],[9.7474,27.3306],[9.9161,27.7856],[9.8424,28.9668],[9.6724,29.567],[9.3102,30.1152],[9.5188,30.2293],[9.8952,30.3873],[10.2162,30.7832],[10.115,31.4637],[10.8265,32.0807],[11.5048,32.4137],[11.5043,33.182],[12.2798,32.8584],[12.7535,32.8012],[13.2835,32.9148],[14.2369,32.6813],[14.5135,32.5109],[15.1767,32.391],[15.4963,31.6568],[16.123,31.2644],[17.3491,31.0815],[18.1902,30.7775],[18.9364,30.2905],[19.2915,30.2879],[19.7132,30.4885],[20.1509,31.0784],[19.9263,31.8175],[20.1216,32.2188],[20.621,32.5801],[21.6357,32.9374],[22.1875,32.9184],[23.0908,32.6187],[23.2866,32.2139],[24.1295,32.0093],[24.6839,32.0159],[25.1505,31.655]]]},properties:{name:"Libya",id:"LY"},id:"LY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-8.4863,7.5584],[-8.2966,7.0741],[-8.3325,6.8015],[-8.6035,6.5077],[-7.8886,6.2347],[-7.7965,5.975],[-7.4543,5.8414],[-7.4299,5.3247],[-7.5688,5.0805],[-7.5451,4.3512],[-8.2591,4.59],[-9.1322,5.0548],[-10.2763,6.0775],[-11.5075,6.9067],[-11.2678,7.2325],[-10.6474,7.7594],[-10.2832,8.4852],[-9.7683,8.5345],[-9.5182,8.3463],[-9.369,7.6396],[-9.4598,7.4425],[-9.1175,7.2157],[-8.8896,7.2627],[-8.7083,7.6591],[-8.4863,7.5584]]]},properties:{name:"Liberia",id:"LR"},id:"LR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[35.8691,33.4319],[35.411,33.0755],[35.1087,33.0835],[35.9761,34.6291],[36.4329,34.6136],[36.5851,34.2212],[35.9424,33.6676],[35.8691,33.4319]]]},properties:{name:"Lebanon",id:"LB"},id:"LB"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[102.1276,22.379],[102.9488,21.5698],[102.8511,21.2657],[103.1046,20.8915],[103.635,20.6971],[104.0518,20.9413],[104.5832,20.6465],[104.6187,20.3744],[104.9281,20.018],[104.5463,19.6105],[104.0319,19.6753],[103.8965,19.3401],[104.7163,18.8035],[105.115,18.6787],[105.0857,18.4501],[105.4581,18.1545],[105.6916,17.7377],[106.5021,16.9542],[106.6961,16.4588],[107.3966,16.0429],[107.1897,15.7473],[107.6531,15.255],[107.5195,14.705],[106.82,14.3148],[106.5012,14.5781],[105.9788,14.3432],[105.9046,13.9247],[105.1833,14.3464],[105.4754,14.5301],[105.5131,15.3606],[105.6223,15.6998],[105.4062,15.9874],[105.047,16.1601],[104.7505,16.6475],[104.8162,17.3005],[103.9497,18.3192],[103.3669,18.4235],[103.0913,18.1381],[102.7175,17.8922],[102.1014,18.2104],[101.1053,17.4793],[100.9086,17.5837],[101.1133,18.0333],[101.0507,18.4071],[101.2864,18.977],[101.1546,19.5794],[100.6254,19.4999],[100.3977,19.7561],[100.5429,20.0885],[100.1225,20.3167],[100.2495,20.7304],[100.7564,21.3128],[101.139,21.5676],[101.2242,21.2236],[101.705,21.1503],[101.744,21.778],[101.5243,22.2538],[101.6712,22.4625],[102.1276,22.379]]]},properties:{name:"Lao People's Democratic Republic",id:"LA"},id:"LA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[48.4424,28.5429],[47.6713,28.5331],[47.4334,28.9895],[46.5314,29.0964],[46.9056,29.5377],[47.1143,29.9611],[47.6727,30.0956],[47.9785,29.9829],[47.9696,29.6167],[48.1836,28.9793],[48.4424,28.5429]]]},properties:{name:"Kuwait",id:"KW"},id:"KW"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[21.5625,42.2476],[21.0596,42.1713],[20.566,41.8739],[20.4856,42.2232],[20.0639,42.5473],[20.3445,42.8278],[21.0569,43.0915],[21.3907,42.7515],[21.7529,42.6698],[21.5625,42.2476]]]},properties:{name:"Kosovo",id:"XK"},id:"XK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[128.3745,38.6233],[128.619,38.1763],[129.335,37.2747],[129.4735,36.742],[129.4034,36.0522],[129.5619,35.9475],[129.2143,35.1818],[128.5112,35.101],[128.4442,34.8706],[127.7148,34.9545],[127.0308,34.6069],[126.4817,34.4937],[126.2913,35.1542],[126.7174,35.769],[126.5483,36.4775],[126.2171,36.8708],[126.7463,37.1935],[126.634,37.7816],[127.1697,38.3045],[128.0389,38.3085],[128.3745,38.6233]]]},properties:{name:"South Korea",id:"KR"},id:"KR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-62.6307,17.2401],[-62.8389,17.3391],[-62.7945,17.4025],[-62.7137,17.3533],[-62.6307,17.2401]]]},properties:{name:"Saint Kitts and Nevis",id:"KN"},id:"KN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-157.3422,1.8557],[-157.2461,1.7318],[-157.4201,1.7873],[-157.3422,1.8557]]]},properties:{name:"Kiribati",id:"KI"},id:"KI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[104.4265,10.4112],[104.2622,10.5413],[103.532,10.6048],[103.722,10.8902],[103.5325,11.1468],[103.153,10.9137],[103.1254,11.4606],[102.9341,11.7065],[102.7366,12.0896],[102.7557,12.4261],[102.4995,12.6698],[102.3198,13.5398],[102.729,13.8421],[103.1996,14.3326],[104.7789,14.428],[105.1833,14.3464],[105.9046,13.9247],[105.9788,14.3432],[106.5012,14.5781],[106.82,14.3148],[107.5195,14.705],[107.3313,14.1266],[107.6056,13.4377],[107.4756,13.0302],[107.5062,12.3644],[106.9305,12.0776],[106.4138,11.9484],[106.3401,11.6817],[105.8514,11.6351],[105.8558,11.2941],[106.1679,11.0123],[105.3866,10.9399],[104.8504,10.5347],[104.4265,10.4112]]]},properties:{name:"Cambodia",id:"KH"},id:"KH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[80.2095,42.1899],[80.2162,42.0323],[79.2938,41.7829],[78.3625,41.3718],[78.1232,41.0758],[76.8239,40.9821],[76.4804,40.4494],[75.8718,40.3034],[75.5837,40.6052],[75.0044,40.4494],[74.4118,40.1374],[73.9915,40.0433],[73.9147,39.6065],[73.6315,39.4489],[73.2351,39.3743],[72.0428,39.3521],[71.8062,39.2758],[71.4045,39.598],[70.7333,39.4134],[70.6077,39.5643],[69.5987,39.5736],[69.229,39.761],[69.5304,40.0974],[69.9667,40.2022],[70.4514,40.049],[70.9579,40.239],[71.6926,40.1525],[73.113,40.7859],[72.6585,40.8698],[71.7924,41.4131],[71.4085,41.1361],[70.7826,41.2626],[70.1811,41.5716],[70.8421,42.0195],[70.9468,42.2485],[71.2567,42.7337],[71.8168,42.822],[72.8551,42.561],[73.422,42.5934],[73.5565,43.0027],[74.209,43.2402],[75.0475,42.9046],[76.9442,42.9716],[79.1646,42.759],[79.49,42.4576],[80.2095,42.1899]]]},properties:{name:"Kyrgyzstan",id:"KG"},id:"KG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[41.8839,3.9779],[41.3419,3.2016],[40.9646,2.8145],[40.9699,1.378],[40.9788,-.8703],[41.5328,-1.6955],[40.9956,-1.9507],[40.6441,-2.5393],[40.2224,-2.6884],[40.1154,-3.2504],[39.4909,-4.4787],[39.2219,-4.6922],[37.7974,-3.6743],[37.6087,-3.4604],[37.6438,-3.0453],[36.2633,-2.2747],[34.7709,-1.4416],[33.9031,-1.0021],[33.9431,.1738],[34.4815,1.042],[34.7874,1.2307],[34.9654,1.6435],[34.964,2.0625],[34.7425,2.818],[34.4478,3.1634],[34.3928,3.6916],[34.165,3.8128],[33.9759,4.2203],[35.2681,5.4925],[35.7448,5.3442],[35.763,4.808],[36.0818,4.4498],[36.9056,4.4116],[38.0864,3.649],[39.4944,3.4559],[39.8424,3.8514],[40.7653,4.2731],[41.2207,3.9437],[41.8839,3.9779]]]},properties:{name:"Kenya",id:"KE"},id:"KE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[87.3229,49.0858],[86.7534,49.0088],[86.5496,48.5287],[85.7493,48.3849],[85.526,47.9157],[85.6565,47.2547],[84.786,46.8308],[83.1929,47.1864],[83.0043,47.0337],[82.3264,45.52],[82.4787,45.1236],[81.602,45.3109],[80.059,45.0064],[80.4554,44.7463],[80.3551,44.0973],[80.7857,43.1616],[80.1651,42.6653],[80.2095,42.1899],[79.49,42.4576],[79.1646,42.759],[76.9442,42.9716],[75.0475,42.9046],[74.209,43.2402],[73.5565,43.0027],[73.422,42.5934],[72.8551,42.561],[71.8168,42.822],[71.2567,42.7337],[70.9468,42.2485],[70.4159,42.0785],[70.0954,41.8206],[69.0652,41.367],[68.2919,40.6563],[67.9359,41.1965],[66.8142,41.1423],[66.6686,41.2706],[66.4986,41.9951],[66.0094,42.0048],[66.1004,42.9907],[65.803,42.8771],[65.4963,43.3108],[64.9054,43.7147],[64.4434,43.5513],[63.2071,43.6281],[61.9904,43.4923],[61.1608,44.1688],[61.0081,44.3939],[58.5551,45.5555],[55.9757,44.9949],[55.9766,42.929],[55.9774,41.3221],[55.5451,41.2626],[54.9037,41.9192],[54.1211,42.3351],[53.2502,42.2059],[52.4938,41.7802],[52.5968,42.7603],[51.8439,42.9104],[51.3019,43.4825],[50.8305,44.1928],[50.3311,44.3255],[50.4093,44.6242],[50.8603,44.6287],[51.4156,45.358],[52.5311,45.3988],[52.7739,45.5728],[53.1352,46.1916],[53.1703,46.6692],[52.9159,46.9542],[52.1888,46.8397],[51.1781,47.11],[50.4195,46.8796],[50,46.6342],[49.3475,46.5192],[49.2321,46.3372],[48.6102,46.5663],[48.9595,46.7744],[48.1099,47.7452],[47.0934,47.9477],[47.0042,48.2846],[46.661,48.4124],[46.7028,48.8055],[47.0144,49.0984],[46.8022,49.367],[47.3264,50.2734],[47.706,50.378],[48.4344,49.8284],[48.8432,50.0131],[48.8086,50.6012],[49.498,51.0835],[50.2468,51.2895],[50.7941,51.7292],[51.6091,51.4839],[52.3309,51.6812],[52.571,51.4817],[53.3381,51.4824],[54.0416,51.1153],[54.4216,50.7804],[54.727,50.9981],[55.5424,50.6017],[55.7977,50.6021],[56.4915,51.0196],[57.0117,51.0651],[57.4423,50.8889],[57.8387,51.0917],[58.3594,51.0638],[58.8836,50.6945],[59.8122,50.5819],[59.9552,50.7992],[60.6379,50.6638],[61.3894,50.8609],[61.5851,51.2298],[61.3632,51.442],[60.4647,51.6513],[60.0657,51.9764],[60.9375,52.2805],[60.8021,52.7448],[61.0476,52.9725],[61.974,52.9437],[62.0148,53.1079],[61.1994,53.2872],[60.9797,53.6217],[61.3339,54.0492],[61.9287,53.9464],[63.0739,54.1053],[64.4611,54.3841],[65.1576,54.3643],[65.4767,54.6233],[66.2225,54.6673],[68.0739,54.9596],[68.2062,55.1609],[68.9773,55.3895],[70.1824,55.1625],[70.7382,55.3052],[71.1856,54.5994],[71.0933,54.2123],[72.9141,54.1073],[73.3993,53.8115],[73.2857,53.5984],[74.4518,53.6472],[76.2664,54.312],[76.5758,53.9424],[77.7042,53.3791],[78.4757,52.6385],[79.4687,51.493],[79.9862,50.7746],[80.8771,51.2815],[81.4657,50.7397],[82.4938,50.7275],[83.3571,50.9945],[83.9453,50.7746],[84.2578,50.2883],[84.9893,50.0615],[85.21,49.6648],[86.1807,49.4993],[86.6144,49.6098],[87.3229,49.0858]]]},properties:{name:"Kazakhstan",id:"KZ"},id:"KZ"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[141.2296,41.3727],[141.4626,40.611],[141.7969,40.2914],[141.978,39.8444],[141.9007,39.1115],[141.6584,38.9748],[141.4675,38.404],[141.1084,38.3378],[140.9282,37.9494],[141.0365,37.4674],[140.9686,37.0022],[140.6272,36.5028],[140.6219,36.0593],[140.874,35.7251],[140.4572,35.5102],[140.4164,35.267],[139.7994,34.9567],[139.6502,35.409],[139.2494,35.2781],[138.9826,34.6984],[138.5773,35.0863],[138.1889,34.5963],[136.8848,34.8058],[136.5332,34.6784],[136.8537,34.3242],[136.3299,34.1768],[135.9162,33.5616],[135.4528,33.5536],[135.1753,33.898],[135.1003,34.2882],[135.3848,34.5004],[134.7399,34.7654],[134.2081,34.6975],[133.9684,34.5275],[133.1423,34.3024],[132.2381,34.227],[132.0903,33.8554],[131.7405,34.0521],[130.9188,33.9757],[131.0041,34.3925],[131.3543,34.4134],[132.923,35.5111],[133.3767,35.4588],[134.2139,35.5391],[135.1744,35.7473],[135.6805,35.5031],[136.0955,35.7677],[136.0063,35.9905],[136.6983,36.742],[137.3424,36.7705],[137.5142,36.9516],[138.3199,37.2183],[138.8849,37.8438],[139.4012,38.1425],[140.0479,39.4635],[139.9228,40.5986],[140.2814,40.8463],[141.1186,40.8822],[141.2296,41.3727]]],[[[143.8241,44.1169],[144.7985,43.9402],[145.1012,43.7644],[145.3476,43.1767],[144.6307,42.9468],[143.9693,42.8815],[143.4295,42.419],[143.2364,42.0004],[141.8515,42.5792],[140.9863,42.3422],[140.4803,42.5592],[140.3267,42.2934],[140.7337,42.1162],[140.3848,41.5192],[139.9951,41.5765],[140.1083,41.9129],[139.8211,42.3875],[139.8912,42.6494],[140.7808,43.2149],[141.2962,43.1998],[141.6446,44.0197],[141.7822,44.7166],[141.5829,45.156],[141.9376,45.5094],[142.7042,44.8191],[143.8241,44.1169]]],[[[131.1745,33.6024],[131.5829,33.6526],[131.8967,33.2548],[131.9766,32.8438],[131.7321,32.593],[131.3374,31.4047],[130.5886,31.1783],[130.2006,31.2919],[130.3218,31.6013],[130.1944,32.0909],[130.6405,32.6192],[129.5801,33.2362],[130.3649,33.6344],[130.4838,33.8345],[130.953,33.8718],[131.1745,33.6024]]],[[[134.3572,34.2562],[134.6373,34.2265],[134.739,33.8203],[134.3772,33.6082],[134.1815,33.2473],[133.6319,33.511],[133.2861,33.36],[132.9772,32.842],[132.4951,32.9166],[132.3659,33.5123],[132.7841,33.9926],[133.5822,34.017],[134.0758,34.3583],[134.3572,34.2562]]]]},properties:{name:"Japan",id:"JP"},id:"JP"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[39.1455,32.1247],[38.9622,31.9951],[36.9584,31.4917],[37.9803,30.5],[37.6336,30.3132],[37.4694,29.9949],[36.7551,29.8662],[36.4759,29.4951],[36.0156,29.1906],[34.9507,29.3535],[34.9734,29.555],[35.174,30.524],[35.4394,31.1326],[35.4505,31.4793],[35.5589,31.7656],[35.5513,32.3955],[35.7875,32.735],[36.3721,32.387],[36.8182,32.3173],[38.7735,33.372],[39.1455,32.1247]]]},properties:{name:"Jordan",id:"JO"},id:"JO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-2.0186,49.2312],[-2.2359,49.1763],[-2.2206,49.2665],[-2.0186,49.2312]]]},properties:{name:"Jersey",id:"JE"},id:"JE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-77.2614,18.4572],[-76.3499,18.1518],[-76.5246,17.8664],[-76.8533,17.9738],[-77.3615,17.8336],[-77.7681,17.8775],[-78.2167,18.4479],[-77.8735,18.522],[-77.2614,18.4572]]]},properties:{name:"Jamaica",id:"JM"},id:"JM"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[9.632,40.8822],[9.8051,40.4996],[9.5623,39.1661],[9.0563,39.2394],[8.8814,38.9127],[8.418,39.2056],[8.4712,40.2927],[8.1898,40.6518],[9.2831,41.2018],[9.632,40.8822]]],[[[15.5766,38.2202],[15.0994,37.4585],[15.2943,37.0133],[15.1127,36.6879],[14.5019,36.7989],[12.4356,37.8198],[13.3518,38.1807],[13.6816,38.0009],[14.5059,38.0453],[14.846,38.1718],[15.5766,38.2202]]],[[[13.6998,46.5201],[13.3993,46.3177],[13.7198,45.5875],[13.2062,45.7713],[12.2745,45.4459],[12.5235,44.9678],[12.2483,44.7223],[12.3961,44.2238],[13.564,43.5713],[14.0106,42.6898],[14.8659,42.0523],[15.1687,41.9338],[15.9641,41.9396],[16.0125,41.4353],[17.1032,41.062],[17.955,40.6554],[18.4859,40.105],[18.0779,39.9367],[17.8649,40.2803],[16.9283,40.4579],[16.5301,39.8595],[16.5976,39.6389],[17.1147,39.3805],[17.1746,38.9979],[16.5589,38.7147],[16.5456,38.4093],[16.0569,37.9419],[15.7244,37.9392],[15.9726,38.7125],[16.1967,38.7591],[16.0236,39.3535],[15.6929,39.99],[14.9507,40.239],[14.7656,40.6683],[14.1024,40.8272],[13.7331,41.2356],[13.0886,41.244],[12.6309,41.4695],[11.6375,42.2876],[10.7084,42.9361],[10.0475,44.0201],[8.766,44.4223],[8.0815,43.9189],[7.4929,43.7671],[7.6771,44.0831],[6.9673,44.2802],[7.0308,44.7166],[6.6277,45.1178],[7.1533,45.401],[7.021,45.9257],[7.9932,46.0158],[8.4584,46.2458],[8.9537,45.8298],[9.2512,46.2866],[9.9392,46.3616],[10.4528,46.865],[11.0249,46.7971],[11.2442,46.9755],[12.1542,46.9351],[12.3881,46.7025],[13.6998,46.5201]],[[12.4853,43.9016],[12.5146,43.9531],[12.441,43.9824],[12.397,43.9344],[12.4853,43.9016]]]]},properties:{name:"Italy",id:"IT"},id:"IT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[35.7875,32.735],[35.5513,32.3955],[35.1931,32.5344],[34.9561,32.1611],[34.9507,31.6022],[35.4505,31.4793],[35.4394,31.1326],[35.174,30.524],[34.9734,29.555],[34.9041,29.4773],[34.2454,31.2085],[34.4775,31.5849],[34.6786,31.8956],[35.1087,33.0835],[35.411,33.0755],[35.8691,33.4319],[35.7875,32.735]]]},properties:{name:"Israel",id:"IL"},id:"IL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-15.5431,66.2285],[-14.6982,66.0203],[-14.7576,65.7557],[-13.6159,65.4872],[-13.853,64.8622],[-15.0215,64.296],[-16.0605,64.1113],[-16.6404,63.8654],[-17.8156,63.7129],[-18.6537,63.4066],[-20.1982,63.5558],[-21.8328,64.2054],[-21.9502,64.515],[-22.684,65.0264],[-22.0057,65.4934],[-22.9024,65.5804],[-24.2241,65.4872],[-23.7371,66.0695],[-22.4261,66.4302],[-21.3035,65.8765],[-21.23,65.4206],[-20.3567,65.7191],[-20.3567,66.0331],[-18.7775,66.1688],[-16.7485,66.1317],[-15.9854,66.5145],[-15.5431,66.2285]]]},properties:{name:"Iceland",id:"IS"},id:"IS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[44.7652,37.1424],[45.3618,36.0154],[45.7235,35.8365],[46.1337,35.1276],[45.6783,34.7982],[45.4377,34.4152],[45.3968,33.9708],[46.1457,33.2295],[46.1128,32.9579],[46.57,32.834],[47.3713,32.4239],[47.8298,31.7944],[47.6793,31.0025],[48.0105,30.9896],[48.0149,30.4654],[48.5467,29.9625],[47.9785,29.9829],[47.6727,30.0956],[47.1143,29.9611],[46.9056,29.5377],[46.5314,29.0964],[46.3565,29.0636],[44.7163,29.1937],[42.8578,30.4952],[42.0743,31.0802],[40.3693,31.9391],[39.1455,32.1247],[38.7735,33.372],[40.6894,34.3322],[40.9872,34.4289],[41.1945,34.7689],[41.3543,35.6403],[41.2456,36.0735],[41.4169,36.5148],[41.7884,36.5973],[42.3588,37.1087],[42.7748,37.3719],[43.5161,37.2445],[44.1562,37.2831],[44.2818,36.9782],[44.7652,37.1424]]]},properties:{name:"Iraq",id:"IQ"},id:"IQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[46.1146,38.8776],[46.4906,38.9065],[47.773,39.6486],[47.9958,39.6842],[48.2422,38.9788],[48.0233,38.819],[48.5929,38.4111],[48.8685,38.4355],[49.0811,37.6676],[49.47,37.4967],[50.1305,37.407],[50.5331,37.0137],[51.1186,36.7425],[52.1902,36.6217],[54.0172,36.9524],[53.9142,37.3435],[54.7452,37.502],[55.0755,37.9024],[55.5784,38.0999],[56.2287,38.0733],[56.4409,38.2495],[57.1937,38.2162],[57.4236,37.9477],[58.4357,37.6387],[58.8157,37.6835],[59.2409,37.5206],[59.5623,37.1788],[60.0626,36.9631],[60.3413,36.6377],[61.1195,36.6426],[61.262,35.6194],[61.08,34.8555],[60.4856,34.0947],[60.5109,33.6388],[60.9171,33.5052],[60.5606,33.1376],[60.8292,32.2494],[60.854,31.4833],[61.6602,31.3825],[61.7844,30.8321],[61.104,30.1285],[60.8434,29.8586],[61.3184,29.3725],[61.6229,28.7915],[61.8901,28.5465],[62.3531,28.4146],[62.7397,28.0023],[62.7632,27.2503],[63.1667,27.2525],[63.1681,26.6657],[62.4392,26.5609],[61.8697,26.2422],[61.6686,25.769],[61.5878,25.2022],[61.412,25.1023],[60.6641,25.2821],[59.4562,25.4814],[59.0461,25.4175],[58.7979,25.5546],[57.7961,25.6532],[57.3344,25.7917],[56.9824,26.9054],[56.3561,27.2001],[55.6503,26.9777],[54.8957,26.5565],[53.7056,26.7256],[53.4548,26.9431],[52.6918,27.3235],[52.476,27.6165],[51.6664,27.8451],[51.2788,28.1314],[51.0622,28.7262],[50.6752,29.1466],[50.6499,29.42],[49.9831,30.2093],[49.5548,30.0291],[48.9191,30.1209],[48.5467,29.9625],[48.0149,30.4654],[48.0105,30.9896],[47.6793,31.0025],[47.8298,31.7944],[47.3713,32.4239],[46.57,32.834],[46.1128,32.9579],[46.1457,33.2295],[45.3968,33.9708],[45.4377,34.4152],[45.6783,34.7982],[46.1337,35.1276],[45.7235,35.8365],[45.3618,36.0154],[44.7652,37.1424],[44.5614,37.7448],[44.2112,37.9081],[44.4309,38.3569],[44.023,39.3774],[44.8171,39.6504],[45.4798,39.0063],[46.1146,38.8776]]]},properties:{name:"Iran",id:"IR"},id:"IR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-6.218,54.0887],[-6.0274,52.927],[-6.5612,52.1888],[-7.5273,52.0989],[-8.8135,51.5849],[-10.3786,51.8688],[-9.9558,52.1367],[-9.2993,53.0975],[-9.7954,53.3951],[-9.996,54.276],[-8.6231,54.3468],[-8.764,54.6813],[-8.2746,55.1463],[-7.2468,55.3531],[-7.2186,55.0921],[-8.1183,54.4143],[-7.3553,54.1213],[-6.218,54.0887]]]},properties:{name:"Ireland",id:"IE"},id:"IE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[72.492,-7.3773],[72.4671,-7.3675],[72.4738,-7.3098],[72.4356,-7.2304],[72.4938,-7.2619],[72.492,-7.3773]]]},properties:{name:"British Indian Ocean Territory",id:"IO"},id:"IO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[78.7198,31.8876],[78.8445,31.3017],[79.1073,31.4025],[79.3386,31.1055],[79.3697,31.0798],[79.9165,30.8942],[79.9245,30.8889],[80.1913,30.5684],[80.6823,30.4148],[81.0103,30.1645],[80.4017,29.7303],[80.0706,28.8301],[80.5868,28.6494],[81.8528,27.8669],[81.9877,27.9139],[82.7335,27.5189],[83.2897,27.371],[84.0909,27.4913],[84.6103,27.2987],[84.6853,27.0412],[85.293,26.7412],[86.3663,26.5743],[86.7014,26.4349],[87.0166,26.5556],[87.2874,26.3603],[88.0549,26.43],[88.1614,26.7247],[87.9843,27.134],[88.1099,27.8704],[88.6213,28.0919],[88.8485,27.8686],[88.8912,27.316],[88.8579,26.9613],[89.7638,26.7016],[90.3458,26.8903],[90.7395,26.7718],[91.9984,26.8548],[92.0836,27.2907],[91.5949,27.5575],[91.6317,27.7599],[91.9775,27.7301],[92.6642,27.949],[92.702,28.147],[93.2067,28.5909],[93.9022,28.803],[94.6231,29.3126],[94.7696,29.1759],[95.4204,29.0543],[96.0352,29.4471],[96.4355,29.0507],[96.776,28.3671],[97.3224,28.218],[97.3353,27.9379],[96.6659,27.3391],[96.0613,27.217],[95.1287,26.5973],[95.1323,26.0411],[94.6227,25.4099],[94.7075,25.0486],[94.2929,24.3219],[94.1277,23.8763],[93.3074,24.0219],[93.4149,23.6823],[93.366,23.1323],[93.0788,22.7182],[93.1618,22.3604],[92.9643,22.0039],[92.575,21.9782],[92.4916,22.6853],[92.3615,22.929],[92.2461,23.6836],[91.938,23.5047],[91.6198,22.9796],[91.3152,23.1043],[91.1603,23.6605],[91.3672,24.0933],[91.8768,24.1954],[92.2514,24.895],[92.0499,25.1693],[90.4394,25.1578],[89.814,25.3052],[89.8229,25.9413],[89.2893,26.0376],[89.1082,26.2023],[88.4402,26.3696],[88.0846,25.8884],[88.4521,25.5746],[88.4561,25.1884],[88.1454,24.4857],[88.7336,24.2309],[88.5671,23.6743],[88.7407,23.4368],[89.0514,22.0932],[89.0518,21.6541],[88.2537,21.6222],[87.9483,21.8255],[87.1005,21.5006],[86.8595,21.2369],[86.9753,20.7002],[86.7503,20.3131],[86.2793,19.9194],[85.5748,19.693],[84.7709,19.1253],[84.1042,18.2926],[83.6541,18.0697],[83.1982,17.609],[82.3597,17.0963],[82.259,16.56],[81.7618,16.3297],[81.2385,16.264],[80.9788,15.7584],[80.6467,15.8951],[80.2934,15.7109],[80.0533,15.0739],[80.1656,14.5776],[80.1119,14.2123],[80.3422,13.3614],[80.229,12.6902],[79.8584,11.9888],[79.7541,11.5751],[79.8486,11.1969],[79.838,10.3225],[79.3905,10.306],[78.9964,9.6833],[78.9795,9.2687],[78.4215,9.1049],[78.1925,8.8909],[78.0602,8.3844],[77.5178,8.0782],[76.9669,8.4071],[76.5536,8.9029],[76.3246,9.452],[76.3463,9.9221],[75.9224,10.7841],[75.724,11.3616],[75.1966,12.0576],[74.7705,13.0773],[74.6711,13.6676],[74.3821,14.4946],[73.9493,15.0748],[73.932,15.397],[73.4761,16.0544],[73.3376,16.4597],[73.1561,17.6218],[72.8711,18.6832],[72.6678,19.8311],[72.8813,20.5631],[72.8138,21.117],[72.5431,21.6968],[72.5901,22.2783],[72.3326,22.2703],[72.037,21.8233],[72.2541,21.5312],[72.0153,21.1557],[71.0245,20.7388],[70.7191,20.7406],[70.1274,21.0948],[69.0088,22.1966],[70.1771,22.5726],[70.2512,22.9707],[69.6644,22.759],[69.2361,22.8487],[68.6408,23.19],[68.1649,23.8572],[68.7242,23.9646],[68.7282,24.2656],[69.5592,24.2731],[69.7163,24.1728],[70.5469,24.4183],[71.044,24.4001],[71.048,24.6877],[70.6521,25.4228],[70.2646,25.7064],[70.0777,26.0718],[70.1567,26.4713],[69.47,26.8046],[69.5681,27.1744],[70.1447,27.8491],[70.4035,28.0249],[70.7373,27.7293],[71.8701,27.9623],[72.342,28.752],[72.903,29.029],[73.3816,29.9345],[73.809,30.0934],[73.8991,30.4352],[74.6329,31.0345],[74.5099,31.7127],[75.3334,32.2792],[74.6578,32.5189],[73.9941,33.2424],[74.1499,33.507],[73.9613,34.6535],[74.3004,34.7654],[75.7093,34.5031],[76.5945,34.7357],[77.0486,35.1099],[77.7992,35.496],[77.8107,35.4845],[78.2821,34.654],[78.9364,34.3521],[78.7531,34.0876],[78.8019,33.4999],[79.1127,33.2264],[79.1353,33.1718],[79.2165,32.5641],[79.2192,32.5011],[78.3896,32.5197],[78.7198,31.8876]]]},properties:{name:"India",id:"IN"},id:"IN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-4.4121,54.1854],[-4.7457,54.1189],[-4.5086,54.3768],[-4.4121,54.1854]]]},properties:{name:"Isle of Man",id:"IM"},id:"IM"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[96.4924,5.2293],[97.4512,5.2359],[97.9084,4.8799],[98.2484,4.4147],[98.3074,4.0929],[99.7323,3.1829],[100.4572,2.2574],[100.6854,2.1202],[101.0462,2.2574],[101.4768,1.6932],[101.7849,1.6213],[102.1573,1.2591],[102.4694,.7792],[102.8493,.7153],[103.0664,.492],[103.4788,.4801],[103.7868,.0468],[103.4286,-.1916],[103.4313,-.5334],[103.7211,-.8867],[104.3608,-1.0385],[104.5685,-1.9218],[104.8451,-2.0932],[104.6684,-2.3857],[105.3968,-2.3804],[105.5819,-2.4918],[106.0445,-3.1062],[105.8438,-3.6135],[105.8873,-5.0096],[105.8163,-5.6767],[105.6183,-5.7997],[105.3493,-5.5493],[105.0812,-5.7455],[104.6396,-5.5205],[104.6014,-5.9044],[103.8312,-5.0797],[102.919,-4.4707],[102.5377,-4.152],[102.1276,-3.5993],[101.5785,-3.167],[100.8478,-2.1438],[100.8554,-1.9343],[100.4865,-1.2991],[100.3081,-.8268],[99.5978,.1023],[99.1593,.3518],[98.7962,1.4948],[98.5644,1.9023],[97.7006,2.3586],[97.591,2.8464],[97.3912,2.9752],[96.9691,3.5753],[96.4449,3.8163],[95.4949,4.7614],[95.2068,5.2839],[95.2277,5.5648],[95.629,5.6092],[96.1333,5.2941],[96.4924,5.2293]]],[[[120.0124,-9.3748],[120.5038,-9.674],[120.8327,-10.0375],[120.439,-10.2941],[120.1447,-10.2],[119.6009,-9.7734],[119.0856,-9.7068],[119.1855,-9.3846],[120.0124,-9.3748]]],[[[125.0679,-9.512],[124.4274,-10.1485],[123.8574,-10.3438],[123.5893,-9.9669],[123.7092,-9.6149],[124.0363,-9.3415],[124.4442,-9.1901],[124.9223,-8.9424],[125.0679,-9.512]]],[[[116.6406,-8.614],[116.3774,-8.9291],[116.0764,-8.7449],[116.0613,-8.4373],[116.4014,-8.2043],[116.7343,-8.3871],[116.6406,-8.614]]],[[[122.7828,-8.6117],[121.6513,-8.8989],[121.0351,-8.9353],[119.8078,-8.6974],[119.9183,-8.4453],[120.6103,-8.2407],[121.4444,-8.578],[121.9664,-8.4551],[122.263,-8.6251],[122.6034,-8.4027],[122.7828,-8.6117]]],[[[118.2426,-8.3179],[118.9879,-8.3379],[119.0061,-8.7498],[118.1898,-8.8403],[117.0614,-9.0991],[116.7884,-9.0064],[116.835,-8.5323],[117.1649,-8.3672],[117.567,-8.4266],[118.1174,-8.1221],[118.2426,-8.3179]]],[[[115.4479,-8.155],[115.7045,-8.4071],[115.2361,-8.7977],[114.4753,-8.1195],[115.4479,-8.155]]],[[[126.8009,-7.668],[126.4719,-7.9503],[125.8434,-7.8167],[126.6095,-7.5717],[126.8009,-7.668]]],[[[138.5351,-8.2735],[138.2963,-8.4053],[137.6851,-8.2624],[138.0074,-7.6414],[138.2954,-7.4385],[138.77,-7.3906],[138.9893,-7.696],[138.5351,-8.2735]]],[[[131.3255,-7.9996],[131.0866,-7.8651],[131.2602,-7.4705],[131.6912,-7.439],[131.3255,-7.9996]]],[[[113.8445,-7.1052],[113.4708,-7.2184],[112.7637,-7.1398],[112.868,-6.9001],[113.9746,-6.873],[113.8445,-7.1052]]],[[[134.537,-6.4424],[134.3559,-6.8149],[134.0589,-6.7691],[134.1681,-6.1761],[134.537,-6.4424]]],[[[107.3739,-6.0074],[107.6669,-6.2156],[108.295,-6.2649],[108.6776,-6.7905],[110.4261,-6.9471],[110.7369,-6.4722],[111.1546,-6.6693],[111.5403,-6.6484],[112.0872,-6.8934],[112.5391,-6.9263],[112.7943,-7.5526],[113.2484,-7.7182],[114.0705,-7.633],[114.4442,-7.8957],[114.387,-8.4053],[114.5836,-8.7698],[113.2533,-8.2868],[112.6789,-8.4093],[111.5101,-8.305],[110.6072,-8.1497],[110.0386,-7.8904],[109.2818,-7.7049],[108.7411,-7.6671],[108.4517,-7.7968],[107.9173,-7.724],[107.2852,-7.4718],[106.6313,-7.4155],[106.5199,-7.0537],[105.4838,-6.7816],[105.8682,-6.1166],[106.0751,-5.9142],[106.8253,-6.0984],[107.0463,-5.9044],[107.3739,-6.0074]]],[[[134.747,-5.7069],[134.7559,-6.1708],[134.4411,-6.335],[134.3413,-5.7127],[134.747,-5.7069]]],[[[122.6451,-5.2692],[122.3961,-5.0699],[122.369,-4.7672],[122.702,-4.6185],[122.6451,-5.2692]]],[[[126.8612,-3.0879],[127.2274,-3.3911],[127.2297,-3.6331],[126.6863,-3.8235],[126.2145,-3.6051],[126.0263,-3.1705],[126.8612,-3.0879]]],[[[129.7545,-2.866],[130.3791,-2.9894],[130.8598,-3.5705],[130.8052,-3.8577],[129.8442,-3.3272],[129.4678,-3.4533],[128.9675,-3.3259],[128.4193,-3.416],[128.0819,-3.1838],[128.1987,-2.866],[129.4274,-2.7905],[129.7545,-2.866]]],[[[108.2071,-2.9978],[107.6145,-3.2096],[107.6665,-2.5664],[108.0744,-2.597],[108.2071,-2.9978]]],[[[124.9694,-1.7057],[124.8344,-1.8943],[124.4176,-2.0053],[124.3808,-1.6875],[124.9694,-1.7057]]],[[[135.4741,-1.5916],[136.2016,-1.6551],[136.1927,-1.8593],[135.4741,-1.5916]]],[[[106.0458,-1.6693],[106.3658,-2.4647],[106.6788,-2.704],[106.547,-3.0555],[105.9988,-2.8247],[105.7857,-2.1815],[105.1332,-2.0426],[105.5855,-1.5268],[106.0458,-1.6693]]],[[[128.153,-1.6604],[127.5617,-1.7283],[127.6465,-1.3324],[128.153,-1.6604]]],[[[99.1637,-1.778],[98.8743,-1.6639],[98.6017,-1.1979],[98.869,-.9155],[99.2671,-1.6275],[99.1637,-1.778]]],[[[135.3831,-.6514],[135.8935,-.726],[135.8389,-1.1193],[135.3831,-.6514]]],[[[140.9734,-2.6099],[140.9739,-4.0232],[140.9748,-6.3461],[140.9761,-9.1187],[139.9347,-8.1013],[139.3856,-8.1892],[138.8561,-8.1452],[139.0878,-7.5872],[138.7478,-7.2517],[138.8645,-6.8584],[138.4388,-6.3435],[138.0611,-5.4654],[137.0894,-4.9243],[136.6189,-4.8187],[135.9797,-4.531],[135.1957,-4.4507],[134.1473,-3.7968],[133.9737,-3.8182],[133.6532,-3.3645],[133.2488,-4.0623],[132.9687,-4.0947],[132.7539,-3.7036],[132.7512,-3.2948],[132.3482,-2.9752],[133.1911,-2.4377],[133.6088,-2.5473],[133.9049,-2.391],[133.9218,-2.1021],[132.963,-2.2725],[132.3078,-2.2423],[132.0233,-1.9902],[131.9305,-1.5596],[131.2935,-1.3936],[131.2571,-.8556],[131.8044,-.7038],[132.1285,-.4539],[132.6252,-.3589],[133.4726,-.726],[133.9746,-.7442],[134.2596,-1.363],[134.106,-1.7212],[134.1557,-2.1953],[135.0373,-3.333],[135.4865,-3.345],[136.2433,-2.5832],[136.3898,-2.2734],[136.843,-2.1975],[137.1236,-1.8411],[137.8063,-1.4833],[138.6497,-1.7909],[139.7896,-2.3484],[140.6223,-2.4456],[140.9734,-2.6099]]],[[[97.4814,1.4651],[97.9319,.9741],[97.8764,.6283],[97.4054,.947],[97.2443,1.4238],[97.4814,1.4651]]],[[[124.889,.9954],[124.4274,.4707],[123.754,.3056],[123.2653,.3265],[123.0824,.4858],[121.8421,.4366],[121.4258,.4947],[120.3489,.4494],[120.1274,.1667],[120.012,-.307],[120.0972,-.6501],[120.5176,-1.0394],[120.6676,-1.3701],[121.0338,-1.4065],[121.5194,-.8556],[121.9695,-.9333],[122.2798,-.7571],[122.8888,-.7553],[122.5067,-1.3479],[121.7187,-1.8628],[121.349,-1.9458],[121.8484,-2.3316],[122.3992,-3.2007],[122.2527,-3.6206],[122.8773,-4.1089],[122.8973,-4.349],[122.207,-4.4964],[121.9172,-4.848],[121.4866,-4.5812],[121.618,-4.0929],[120.9144,-3.5558],[121.0542,-3.167],[121.052,-2.7515],[120.6538,-2.6676],[120.2539,-3.0529],[120.4368,-3.7072],[120.3627,-4.0858],[120.4199,-4.6176],[120.2792,-5.1463],[120.3116,-5.5418],[119.7172,-5.6932],[119.3763,-5.425],[119.6116,-4.4236],[119.6236,-4.0343],[119.4198,-3.4755],[118.9946,-3.5376],[118.8126,-3.1568],[118.7837,-2.7648],[119.0922,-2.4829],[119.3217,-1.9298],[119.3089,-1.4083],[119.7718,-.4836],[119.8091,.2386],[120.2694,.971],[120.5167,.8174],[120.9122,1.2888],[121.44,1.2142],[121.5918,1.0678],[122.4365,1.018],[122.8924,.8498],[123.2781,.9279],[123.8468,.8383],[124.2738,1.022],[124.9893,1.7012],[125.2339,1.5023],[124.889,.9954]]],[[[127.7326,.848],[128.1609,1.1579],[128.4242,1.5174],[128.6883,1.5725],[128.7025,1.1064],[128.299,.8769],[128.6914,.3602],[127.9829,.4721],[127.8875,.2985],[128.0464,-.706],[127.6918,-.2417],[127.7086,.2883],[127.5555,.4898],[127.4201,1.252],[127.6318,1.8437],[128.0109,1.7012],[128.0118,1.3319],[127.6527,1.0141],[127.7326,.848]]],[[[117.5746,4.1706],[117.6301,3.6361],[117.1662,3.5922],[117.6105,3.0644],[118.0664,2.3178],[117.8649,1.9684],[118.0806,1.7016],[118.9848,.9821],[118.5347,.8134],[118.196,.8742],[117.745,.7295],[117.5222,.2359],[117.4627,-.3238],[117.5626,-.7708],[116.5545,-1.474],[116.4236,-2.0528],[116.5656,-2.2996],[116.3308,-2.9024],[115.9561,-3.5949],[114.6937,-4.1697],[114.5361,-3.4946],[114.0825,-3.2788],[113.7957,-3.4564],[113.5258,-3.1838],[112.9714,-3.1869],[112.6003,-3.4005],[112.2851,-3.321],[111.8222,-3.5323],[111.8231,-3.0573],[111.3676,-2.9335],[111.0445,-3.0555],[110.5739,-2.8913],[110.2326,-2.925],[110.0191,-1.3989],[109.7874,-1.0114],[109.454,-.8689],[109.1606,-.4947],[109.2574,.0313],[108.9444,.3558],[108.9058,.7939],[109.0758,1.4957],[109.3785,1.9227],[109.6289,2.0275],[109.6542,1.6151],[110.5056,.8618],[110.9379,1.0172],[111.7698,.9994],[112.0783,1.1432],[112.1857,1.4393],[112.476,1.5592],[113.6222,1.236],[113.9022,1.4344],[114.5459,1.4673],[114.8304,1.98],[114.7865,2.2503],[115.1509,2.4931],[115.0861,2.8411],[115.4545,3.0342],[115.5686,3.9389],[115.8962,4.3486],[117.1005,4.337],[117.5746,4.1706]]]]},properties:{name:"Indonesia",id:"ID"},id:"ID"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[22.132,48.4053],[22.8764,47.9472],[22.2905,47.7279],[21.1519,46.3044],[20.2419,46.1086],[19.5308,46.1552],[18.9054,45.9315],[17.9639,45.7704],[17.3105,45.9963],[16.5163,46.4997],[16.0929,46.8632],[16.4533,47.0066],[16.4342,47.3675],[17.1475,48.0058],[17.7619,47.7701],[18.7242,47.787],[18.7917,48.0005],[19.8988,48.1314],[20.4901,48.5269],[21.4515,48.5522],[22.132,48.4053]]]},properties:{name:"Hungary",id:"HU"},id:"HU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-71.7791,19.7183],[-71.6571,19.1306],[-71.7683,18.0391],[-72.0599,18.2286],[-72.8767,18.1518],[-73.3851,18.2513],[-73.885,18.0418],[-74.419,18.3463],[-74.2276,18.6628],[-72.7894,18.4346],[-72.3478,18.6747],[-72.8112,19.0716],[-72.7033,19.4409],[-73.0527,19.6109],[-73.1177,19.9039],[-72.6369,19.9008],[-71.7791,19.7183]]]},properties:{name:"Haiti",id:"HT"},id:"HT"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[18.9054,45.9315],[19.0549,45.5271],[19.007,44.8693],[18.6625,45.0774],[17.8129,45.0779],[16.5305,45.2168],[16.2935,45.0086],[15.7879,45.1791],[15.7369,44.7658],[16.214,44.215],[17.6247,43.0426],[17.5852,42.9383],[16.903,43.3924],[15.9415,43.6565],[15.123,44.2567],[14.8548,45.081],[14.3861,45.342],[13.9657,44.8355],[13.6293,45.1081],[13.5778,45.5169],[13.8787,45.4286],[15.3396,45.4672],[15.6246,45.8338],[15.6361,46.2005],[16.5163,46.4997],[17.3105,45.9963],[17.9639,45.7704],[18.9054,45.9315]]],[[[17.6678,42.897],[18.4362,42.5597],[18.5174,42.4327],[17.6678,42.897]]]]},properties:{name:"Croatia",id:"HR"},id:"HR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-83.1576,14.9931],[-83.8674,14.7947],[-84.646,14.6611],[-84.9851,14.7525],[-85.1796,14.3432],[-85.7868,13.8443],[-86.1512,13.9948],[-86.3317,13.7702],[-86.7336,13.7635],[-86.7108,13.3134],[-87.0592,12.9916],[-87.3373,12.9792],[-87.4891,13.3529],[-87.8143,13.3991],[-87.7153,13.8128],[-88.151,13.9872],[-88.4491,13.851],[-89.0572,14.329],[-89.3626,14.416],[-89.2223,14.8661],[-88.9764,15.1427],[-88.2284,15.7291],[-87.6181,15.9097],[-86.9072,15.7624],[-86.3568,15.7832],[-85.7839,16.003],[-85.4836,15.8995],[-84.9738,15.9901],[-84.2614,15.8227],[-83.7604,15.2204],[-83.3691,15.2399],[-83.1576,14.9931]]]},properties:{name:"Honduras",id:"HN"},id:"HN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[73.7074,-53.1372],[73.465,-53.1843],[73.3363,-53.0298],[73.5858,-53.0271],[73.7074,-53.1372]]]},properties:{name:"Heard Island and McDonald Islands",id:"HM"},id:"HM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[114.0154,22.5117],[114.2658,22.541],[114.268,22.2956],[114.0154,22.5117]]]},properties:{name:"Hong Kong",id:"HK"},id:"HK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-57.1948,5.5484],[-57.3309,5.0202],[-57.7111,4.9909],[-58.0544,4.1719],[-57.8327,3.6761],[-57.5497,3.3529],[-57.3036,3.3769],[-57.2097,2.8828],[-56.7043,2.0363],[-56.4828,1.9422],[-56.8368,1.8814],[-57.1189,2.0141],[-57.5943,1.7043],[-58.3407,1.5876],[-58.5119,1.2848],[-58.8625,1.2036],[-59.2312,1.3758],[-59.7563,1.9005],[-59.7552,2.2743],[-59.9942,2.6902],[-59.8544,3.5873],[-59.5512,3.9335],[-59.8333,4.476],[-60.1112,4.511],[-59.9907,5.0828],[-60.142,5.239],[-60.7422,5.2022],[-61.3767,5.9071],[-61.1286,6.2142],[-61.1457,6.6945],[-60.3951,6.9453],[-60.7191,7.4989],[-60.5136,7.8131],[-60.0324,8.0537],[-59.8315,8.3059],[-60.0175,8.5491],[-59.2003,8.0746],[-58.6266,7.5459],[-58.4806,7.0381],[-57.9825,6.786],[-57.1902,6.0975],[-57.1948,5.5484]]]},properties:{name:"Guyana",id:"GY"},id:"GY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[144.7416,13.2593],[144.6493,13.4288],[144.7905,13.5269],[144.7416,13.2593]]]},properties:{name:"Guam",id:"GU"},id:"GU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-51.6526,4.0614],[-51.9906,3.7018],[-52.7006,2.3635],[-52.9648,2.1837],[-53.7678,2.3551],[-54.13,2.1211],[-54.6163,2.3266],[-54.1954,2.818],[-54.2032,3.1381],[-53.9904,3.5895],[-54.3508,4.0543],[-54.4522,5.0135],[-54.1559,5.3589],[-53.8472,5.7823],[-53.4544,5.5635],[-52.8993,5.425],[-52.2905,4.9421],[-51.9196,4.5244],[-51.6526,4.0614]]]},properties:{name:"French Guiana",id:"GF"},id:"GF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-89.1615,17.8149],[-89.2374,15.8942],[-88.8941,15.8907],[-88.2284,15.7291],[-88.9764,15.1427],[-89.2223,14.8661],[-89.3626,14.416],[-89.8726,14.0454],[-90.0952,13.7364],[-90.607,13.9291],[-91.1461,13.9255],[-91.8191,14.2283],[-92.2352,14.5452],[-92.0748,15.0743],[-92.1871,15.3207],[-91.7365,16.07],[-90.4472,16.0726],[-90.417,16.3909],[-90.7107,16.7083],[-91.4096,17.2561],[-90.993,17.2525],[-90.9892,17.8163],[-89.1615,17.8149]]]},properties:{name:"Guatemala",id:"GT"},id:"GT"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-25.4324,70.9213],[-25.4022,70.6527],[-27.898,70.4541],[-27.7089,70.8971],[-25.4324,70.9213]]],[[[-52.7313,69.9447],[-52.0452,69.8071],[-52.1125,69.4891],[-53.5784,69.2567],[-53.7831,69.5064],[-54.804,69.6304],[-54.8304,70.1611],[-53.3751,70.2213],[-52.7313,69.9447]]],[[[-29.953,83.5649],[-25.9475,83.2897],[-24.4702,82.8773],[-21.5208,82.5954],[-25.1489,82.0011],[-21.3379,82.0687],[-21.1466,81.6952],[-17.2261,81.4304],[-15.5555,81.8337],[-12.1928,81.649],[-11.5288,81.424],[-14.5035,80.7633],[-16.7607,80.5733],[-16.8683,80.1982],[-19.4292,80.2577],[-20.1385,79.8033],[-19.2836,79.683],[-19.0749,79.1524],[-20.9557,78.5551],[-20.8625,77.9119],[-20.2319,77.3684],[-18.339,77.2152],[-18.5103,76.7782],[-20.9422,76.887],[-21.8772,76.5734],[-21.5692,76.2937],[-20.1037,76.2191],[-19.5091,75.7575],[-19.4261,75.2299],[-20.485,75.3143],[-19.2252,74.4795],[-19.3692,74.284],[-21.1295,74.1109],[-20.3673,73.8483],[-20.5096,73.493],[-22.1851,73.2699],[-22.0364,72.9184],[-22.2931,72.1196],[-24.0692,72.4987],[-24.6669,72.4374],[-22.0133,71.6888],[-21.7523,71.4784],[-21.5228,70.5262],[-23.3279,70.451],[-23.7917,70.5551],[-24.377,71.1463],[-25.7422,71.1836],[-26.7179,70.9506],[-27.6887,70.9934],[-28.5409,70.4769],[-28.0149,70.4024],[-26.7472,70.4756],[-23.1732,70.1145],[-23.0882,69.883],[-26.3414,68.7023],[-29.2496,68.2988],[-29.8686,68.3116],[-30.9786,68.0613],[-32.1373,68.3849],[-32.2747,67.9228],[-33.157,67.6267],[-34.1016,66.7258],[-34.6329,66.4349],[-36.3792,65.8307],[-37.7541,65.593],[-39.9609,65.5562],[-39.5779,65.3407],[-40.6554,64.9154],[-40.1822,64.48],[-40.6177,64.1317],[-40.5504,63.7254],[-42.1529,62.5686],[-42.3216,62.1526],[-42.1103,61.8572],[-42.4188,61.537],[-42.7171,60.7675],[-43.3201,59.9281],[-44.0654,59.9247],[-45.3793,60.2028],[-46.0467,60.6157],[-46.0116,61.0968],[-46.8746,60.8163],[-47.7963,60.829],[-48.922,61.2775],[-49.2891,61.59],[-49.5534,62.2328],[-50.3192,62.4731],[-50.3382,62.8287],[-51.4688,63.6423],[-51.4511,63.9047],[-52.0934,64.4158],[-52.259,65.1549],[-53.6346,66.4136],[-53.0382,66.8268],[-53.8845,67.1356],[-53.4189,67.5746],[-53.578,67.8369],[-53.0393,68.6108],[-51.2493,68.74],[-50.5,69.9358],[-52.2545,70.059],[-54.0143,70.4217],[-54.1659,70.8201],[-52.4052,70.6867],[-51.5246,70.4394],[-51.1302,70.9717],[-53.117,71.3128],[-53.4761,71.6402],[-54.6891,71.3672],[-55.5939,71.5536],[-55.3156,72.1107],[-55.6017,72.4536],[-54.7379,72.8724],[-56.104,73.5582],[-55.9295,73.8954],[-56.7063,74.2192],[-56.2556,74.5268],[-58.6035,75.3853],[-58.5163,75.6891],[-61.3747,76.1801],[-63.4388,76.3394],[-66.8262,75.9688],[-69.3728,76.3319],[-69.2521,76.6861],[-70.7928,76.869],[-70.8629,77.1755],[-69.3515,77.4671],[-72.8181,78.1945],[-72.3957,78.5043],[-68.9935,78.8574],[-67.4823,79.1169],[-65.9679,79.1324],[-64.7923,80.0007],[-66.8437,80.0761],[-66.996,80.413],[-62.9932,81.2069],[-61.436,81.1337],[-61.203,81.7469],[-58.7174,82.0932],[-54.7259,82.3513],[-52.7757,82.3218],[-50.8944,81.8952],[-48.8612,82.4054],[-45.2912,81.8288],[-44.239,82.3682],[-46.4782,82.9519],[-43.1945,83.255],[-32.9845,83.5995],[-29.953,83.5649]]]]},properties:{name:"Greenland",id:"GL"},id:"GL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.7154,12.0128],[-61.715,12.185],[-61.6071,12.2232],[-61.6271,12.0541],[-61.7154,12.0128]]]},properties:{name:"Grenada",id:"GD"},id:"GD"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[23.8521,35.5355],[24.3129,35.3638],[24.7212,35.425],[25.4758,35.3061],[25.7448,35.1427],[24.7998,34.9345],[24.4638,35.1605],[23.5618,35.295],[23.8521,35.5355]]],[[[26.0391,40.7269],[25.1043,40.9945],[24.3839,40.9129],[23.8787,40.5444],[23.6643,40.2239],[23.3119,40.2164],[22.6296,40.4956],[22.5923,40.0371],[22.919,39.6291],[22.9656,39.0308],[23.2528,38.6614],[23.9671,38.2748],[23.5804,38.0107],[23.1938,37.9592],[23.1614,37.3338],[22.765,37.3932],[23.0735,36.7749],[22.6083,36.7798],[22.0805,37.0288],[21.5829,37.0807],[21.5714,37.541],[21.1448,37.9192],[21.4036,38.1967],[21.8248,38.3281],[22.7996,37.9814],[22.4219,38.4386],[21.4724,38.3214],[21.1133,38.3849],[20.7795,39.0086],[20.301,39.3273],[20.0013,39.7095],[20.6574,40.1174],[21.0312,40.6585],[20.9641,40.8498],[21.5758,40.8689],[21.9296,41.1073],[22.7246,41.1783],[22.9159,41.3363],[23.635,41.3869],[24.0558,41.5272],[25.2512,41.2436],[26.1355,41.3856],[26.321,41.7167],[26.6246,41.4016],[26.0391,40.7269]]],[[[23.4153,38.9588],[24.0989,38.6712],[23.7589,38.4013],[23.2519,38.8013],[23.4153,38.9588]]]]},properties:{name:"Greece",id:"GR"},id:"GR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[9.5907,1.0318],[9.3861,1.1392],[9.8069,1.9276],[9.8007,2.3044],[9.98,2.1677],[11.3286,2.1673],[11.3352,.9998],[9.5907,1.0318]]]},properties:{name:"Equatorial Guinea",id:"GQ"},id:"GQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-15.0431,10.9404],[-15.3931,11.2174],[-15.5018,11.7238],[-16.1384,11.9174],[-16.7119,12.3551],[-15.5748,12.4904],[-15.1962,12.68],[-13.7294,12.6738],[-13.7327,11.7358],[-14.6831,11.5085],[-15.0431,10.9404]]]},properties:{name:"Guinea-Bissau",id:"GW"},id:"GW"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-16.7634,13.064],[-16.8248,13.3409],[-16.5623,13.5873],[-15.5096,13.5864],[-15.8343,13.1563],[-16.6488,13.1541],[-16.7634,13.064]]]},properties:{name:"Gambia",id:"GM"},id:"GM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.3272,16.2302],[-61.5221,16.228],[-61.529,16.434],[-61.4065,16.4682],[-61.3272,16.2302]]]},properties:{name:"Guadeloupe",id:"GP"},id:"GP"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-11.3894,12.4043],[-11.3053,12.0155],[-10.9333,12.205],[-10.6774,11.8996],[-10.2748,12.2126],[-9.8207,12.0426],[-9.043,12.4025],[-8.8219,11.6732],[-8.4075,11.3865],[-8.2315,10.4379],[-7.9907,10.1627],[-8.1365,10.022],[-8.137,9.4955],[-7.8962,9.416],[-7.951,8.7866],[-7.8236,8.4674],[-8.232,7.5566],[-8.4863,7.5584],[-8.7083,7.6591],[-8.8896,7.2627],[-9.1175,7.2157],[-9.4598,7.4425],[-9.369,7.6396],[-9.5182,8.3463],[-9.7683,8.5345],[-10.2832,8.4852],[-10.5005,8.6876],[-10.6905,9.3144],[-11.2056,9.9776],[-11.911,9.9931],[-12.5016,9.8622],[-12.7559,9.3734],[-13.2928,9.0494],[-13.7005,9.8511],[-14.4269,10.2483],[-14.7758,10.9315],[-15.0431,10.9404],[-14.6831,11.5085],[-13.7327,11.7358],[-13.7294,12.6738],[-13.0828,12.6334],[-12.2912,12.328],[-11.3894,12.4043]]]},properties:{name:"Guinea",id:"GN"},id:"GN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-.0686,11.1157],[-.0577,10.6305],[.3627,10.2364],[.2619,9.4955],[.5291,9.3583],[.4153,8.6525],[.688,8.3041],[.5837,8.1456],[.6348,7.3537],[.5256,6.8508],[.7369,6.4526],[1.1874,6.0895],[.9499,5.8103],[.2597,5.7575],[-.7977,5.2266],[-1.6384,4.9807],[-2.0017,4.7623],[-3.1139,5.0885],[-3.0868,5.1285],[-3.0191,5.1307],[-2.7952,5.1844],[-3.2007,6.3483],[-3.2358,6.8073],[-2.9858,7.205],[-2.7899,7.9321],[-2.5058,8.2087],[-2.7466,9.1098],[-2.6958,9.4813],[-2.7865,10.4019],[-2.9148,10.5924],[-2.8298,10.9985],[-.7014,10.9888],[-.0686,11.1157]]]},properties:{name:"Ghana",id:"GH"},id:"GH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-2.5124,49.4946],[-2.5475,49.4287],[-2.646,49.4682],[-2.5124,49.4946]]]},properties:{name:"Guernsey",id:"GG"},id:"GG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[46.4298,41.8907],[46.1821,41.6573],[46.6189,41.3439],[46.4577,41.07],[45.281,41.4495],[45.0013,41.291],[43.4393,41.1073],[42.7876,41.5636],[42.4663,41.4398],[41.5101,41.5174],[41.7631,41.9702],[41.4888,42.6591],[40.8367,43.0635],[39.9782,43.42],[40.6481,43.534],[41.5807,43.2193],[42.4192,43.2242],[43.7824,42.747],[43.9573,42.5664],[44.5059,42.7488],[45.1602,42.6751],[45.7275,42.4749],[45.6388,42.205],[46.4298,41.8907]]]},properties:{name:"Georgia",id:"GE"},id:"GE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[13.2937,2.1615],[13.1627,1.6479],[13.2741,1.2409],[13.8512,1.4189],[14.181,1.3701],[14.4345,.8116],[14.0874,.5364],[13.8845,.1906],[13.8601,-.2035],[14.4806,-.6181],[14.3839,-1.8899],[14.0874,-2.4669],[13.7842,-2.1638],[13.465,-2.3955],[12.9918,-2.3134],[12.7934,-1.9316],[12.4321,-1.929],[12.4463,-2.3298],[11.5754,-2.3973],[11.5376,-2.8367],[11.934,-3.3188],[11.5043,-3.5203],[11.1301,-3.9163],[10.3476,-3.0129],[9.6245,-2.3671],[9.2658,-1.8251],[9.3306,-1.5348],[9.0647,-1.2982],[8.8215,-.7082],[9.2969,-.3514],[9.5907,1.0318],[11.3352,.9998],[11.3286,2.1673],[11.3485,2.2996],[13.2204,2.2565],[13.2937,2.1615]]]},properties:{name:"Gabon",id:"GA"},id:"GA"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[5.7897,49.5383],[6.3441,49.4527],[6.7356,49.1606],[7.4507,49.1522],[8.1348,48.9735],[7.5843,48.0644],[7.6154,47.5925],[7.0006,47.3227],[6.06,46.4282],[6.7583,46.4158],[7.021,45.9257],[7.1533,45.401],[6.6277,45.1178],[7.0308,44.7166],[6.9673,44.2802],[7.6771,44.0831],[7.4929,43.7671],[7.4387,43.7507],[7.4143,43.7711],[7.3779,43.7316],[6.4941,43.1692],[6.1159,43.0724],[5.4066,43.2286],[5.0599,43.4444],[4.7119,43.3733],[4.0527,43.5931],[3.2591,43.1931],[3.0518,42.9152],[3.2116,42.431],[2.0326,42.3537],[1.7059,42.5033],[1.4284,42.5961],[-.0411,42.6893],[-1.2855,43.0595],[-1.794,43.4075],[-1.4848,43.5638],[-1.2456,44.5599],[-1.066,45.8059],[-1.1464,46.3115],[-1.7867,46.5148],[-2.0188,47.0377],[-3.1587,47.6946],[-4.312,47.8229],[-4.6291,48.0857],[-4.3932,48.3676],[-4.7208,48.5398],[-3.2315,48.8408],[-2.6924,48.5367],[-2.4463,48.6483],[-1.4375,48.6415],[-1.8564,49.6837],[-1.2587,49.6802],[-1.1386,49.3879],[-.1636,49.2969],[.1869,49.703],[1.2456,49.9982],[1.5514,50.2938],[1.5794,50.7393],[1.9123,50.9905],[2.5249,51.0971],[2.8396,50.7118],[4.1744,50.2466],[4.8677,49.788],[5.7897,49.5383]]],[[[9.4802,42.8056],[9.5508,42.1296],[9.1863,41.3847],[8.8077,41.5885],[8.7132,42.5499],[9.4802,42.8056]]]]},properties:{name:"France",id:"FR"},id:"FR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[158.315,6.8135],[158.1836,6.8011],[158.1348,6.9449],[158.2946,6.9511],[158.315,6.8135]]]},properties:{name:"Federated States of Micronesia",id:"FM"},id:"FM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-6.6311,62.2279],[-7.0135,62.094],[-7.1722,62.2856],[-6.6311,62.2279]]]},properties:{name:"Faroe Islands",id:"FO"},id:"FO"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-58.8501,-51.2698],[-58.4737,-51.509],[-57.9765,-51.3843],[-57.8382,-51.7092],[-58.6834,-51.9361],[-59.0681,-52.1731],[-59.5708,-51.9254],[-59.0596,-51.6857],[-58.8501,-51.2698]]],[[[-60.2863,-51.462],[-59.268,-51.4274],[-59.9214,-51.9693],[-60.2863,-51.462]]]]},properties:{name:"Falkland Islands",id:"FK"},id:"FK"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[178.2804,-17.372],[178.5915,-17.6516],[178.6679,-18.0808],[177.8471,-18.2549],[177.3215,-18.0773],[177.2638,-17.8633],[177.6181,-17.4612],[178.2804,-17.372]]],[[[179.9991,-16.1686],[179.7483,-16.4464],[179.9281,-16.7443],[179.007,-16.9001],[178.805,-16.6315],[179.5517,-16.2498],[179.9991,-16.1686]]]]},properties:{name:"Fiji",id:"FJ"},id:"FJ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[28.9657,69.0219],[28.4708,68.4883],[29.3439,68.062],[29.9414,67.5475],[29.0869,66.9709],[29.9032,66.0911],[29.604,64.9685],[30.0728,64.7649],[30.1083,64.3661],[30.5038,64.0205],[30.0555,63.689],[31.1807,63.2082],[31.5341,62.8855],[31.2855,62.5679],[29.6902,61.5461],[27.7978,60.5362],[25.6565,60.3331],[23.7216,59.9656],[22.7934,60.0768],[22.5759,60.3591],[21.436,60.5964],[21.3605,60.9675],[21.606,61.5916],[21.2562,61.9897],[21.1035,62.6229],[22.2434,63.4379],[23.2488,63.8963],[24.5579,64.8009],[25.3729,65.0095],[25.348,65.4792],[24.1557,65.8052],[23.7012,66.4808],[23.9884,66.8106],[23.4681,67.45],[23.639,67.9543],[22.7823,68.3911],[21.9975,68.5207],[20.6223,69.037],[21.622,69.2707],[22.4108,68.7198],[23.8539,68.8059],[24.9414,68.5933],[25.7484,68.9901],[26.0116,69.6526],[26.5257,69.915],[27.8897,70.0617],[29.1415,69.6715],[28.9657,69.0219]]]},properties:{name:"Finland",id:"FI"},id:"FI"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[42.3784,12.4665],[41.7667,11.5889],[41.7982,10.9803],[42.5577,11.0806],[42.9226,10.9994],[42.6594,10.6212],[42.8418,10.2031],[43.1818,9.8799],[43.4828,9.3796],[44.023,8.9859],[46.9784,7.9969],[47.9781,7.9969],[45.9348,5.9972],[44.9405,4.9119],[44.0283,4.9509],[43.5383,4.8404],[43.0158,4.5634],[42.7916,4.2922],[42.0241,4.1377],[41.8839,3.9779],[41.2207,3.9437],[40.7653,4.2731],[39.8424,3.8514],[39.4944,3.4559],[38.0864,3.649],[36.9056,4.4116],[36.0818,4.4498],[35.763,4.808],[35.7448,5.3442],[35.2681,5.4925],[35.0821,5.6731],[34.7106,6.6604],[34.0643,7.2259],[33.6661,7.6711],[33.2262,7.7608],[33.0127,7.9516],[33.2342,8.3964],[33.9533,8.4435],[34.0945,8.5824],[34.078,9.4613],[34.2915,10.1249],[34.2756,10.528],[34.5716,10.88],[34.9312,10.8649],[35.1123,11.8166],[35.5961,12.5375],[36.1075,12.7266],[36.2123,13.2712],[36.3907,13.6259],[36.5243,14.2567],[37.0246,14.2718],[37.2572,14.4538],[37.571,14.1493],[37.8844,14.8524],[38.5045,14.4245],[39.074,14.6282],[40.2215,14.4311],[40.7697,14.1444],[41.3627,13.4998],[41.7649,13.1838],[42.3784,12.4665]]]},properties:{name:"Ethiopia",id:"ET"},id:"ET"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[28.0127,59.4842],[27.4272,58.7331],[27.753,57.8411],[27.3517,57.5282],[26.5328,57.5311],[25.9912,57.8382],[25.111,58.0635],[24.3226,57.8706],[24.529,58.3543],[23.7678,58.3609],[23.5094,58.6585],[23.4943,59.1957],[24.3803,59.4726],[25.5091,59.6389],[26.9749,59.4507],[28.0127,59.4842]]],[[[22.6172,58.6213],[23.2928,58.4834],[22.1875,58.1543],[22.0814,58.4781],[22.6172,58.6213]]]]},properties:{name:"Estonia",id:"EE"},id:"EE"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-1.794,43.4075],[-1.2855,43.0595],[-.0411,42.6893],[1.4284,42.5961],[1.4861,42.4345],[1.7059,42.5033],[2.0326,42.3537],[3.2116,42.431],[3.248,41.9445],[2.0827,41.2875],[1.0329,41.062],[-.3269,39.5199],[-.2049,39.0627],[.2015,38.7591],[-.3813,38.4355],[-.6468,38.1518],[-.8221,37.581],[-1.3275,37.561],[-1.7975,37.233],[-2.1116,36.7767],[-4.3668,36.7181],[-4.6742,36.5063],[-5.1716,36.4238],[-5.6254,36.026],[-6.0407,36.1885],[-6.4924,36.9547],[-6.8845,37.1944],[-7.4061,37.1793],[-7.5036,37.5854],[-7.1855,38.0062],[-7.3431,38.4572],[-7.0461,38.9069],[-7.4452,39.5363],[-7.0368,39.7139],[-7.0146,40.2084],[-6.8102,40.3429],[-6.9285,41.0092],[-6.2125,41.5321],[-6.6182,41.9422],[-7.4037,41.8335],[-7.9208,41.8836],[-8.2131,42.1336],[-8.7771,41.9409],[-8.691,42.2743],[-9.2352,42.977],[-8.8736,43.3343],[-7.6982,43.7644],[-7.2621,43.5948],[-5.6658,43.5824],[-4.523,43.416],[-3.6046,43.5194],[-3.0455,43.3716],[-2.3371,43.3281],[-1.794,43.4075]]],[[[3.1454,39.7902],[3.4619,39.6979],[3.0726,39.3011],[2.3713,39.6131],[2.785,39.8546],[3.1454,39.7902]]],[[[-16.3346,28.38],[-16.6579,28.0071],[-16.9054,28.3396],[-16.3346,28.38]]]]},properties:{name:"Spain",id:"ES"},id:"ES"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[38.6093,18.0049],[38.9116,17.427],[39.1424,16.7292],[39.2991,15.9213],[39.5064,15.532],[39.8637,15.4703],[40.2042,15.014],[41.1763,14.6202],[41.6584,13.9832],[42.2452,13.5877],[42.7961,12.8642],[43.1166,12.7084],[42.67,12.3764],[42.3784,12.4665],[41.7649,13.1838],[41.3627,13.4998],[40.7697,14.1444],[40.2215,14.4311],[39.074,14.6282],[38.5045,14.4245],[37.8844,14.8524],[37.571,14.1493],[37.2572,14.4538],[37.0246,14.2718],[36.5243,14.2567],[36.4267,15.132],[36.9136,16.2964],[37.0091,17.059],[37.4112,17.0616],[37.7823,17.458],[38.2537,17.5845],[38.6093,18.0049]]]},properties:{name:"Eritrea",id:"ER"},id:"ER"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-6.218,54.0887],[-7.3553,54.1213],[-8.1183,54.4143],[-7.2186,55.0921],[-6.1293,55.2175],[-5.4703,54.5002],[-5.6068,54.2727],[-6.218,54.0887]]],[[[-3.1097,58.5154],[-3.9901,57.959],[-3.4029,57.7082],[-2.0741,57.7024],[-1.778,57.4938],[-2.6527,56.3183],[-3.1783,56.0802],[-2.1471,55.9031],[-1.6555,55.5704],[-1.2917,54.7738],[-.6714,54.5039],[-.2055,54.0217],[.5589,52.967],[1.6566,52.7537],[1.5589,52.0869],[.9553,51.8077],[.6867,51.3865],[1.4151,51.3632],[.9601,50.9259],[.2051,50.763],[-1.5168,50.7475],[-2.5477,50.6163],[-3.4047,50.6323],[-3.7933,50.2293],[-4.1726,50.3908],[-5.3422,50.2461],[-4.583,50.7764],[-4.1881,51.1885],[-3.1359,51.2049],[-4.3863,51.7412],[-4.9023,51.6262],[-5.0881,51.9959],[-4.3832,52.1973],[-3.9804,52.5417],[-4.1111,53.2189],[-3.0646,53.4268],[-2.925,53.7327],[-3.958,54.7809],[-5.1354,54.8575],[-4.7212,55.421],[-5.2457,55.9293],[-5.6097,56.0553],[-5.392,56.5148],[-5.9368,56.6058],[-5.562,57.2328],[-5.8181,57.4361],[-5.3382,58.2386],[-4.7155,58.5101],[-3.1097,58.5154]]]]},properties:{name:"United Kingdom",id:"GB"},id:"GB"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[34.1983,31.3226],[34.2454,31.2085],[34.9041,29.4773],[34.7363,29.2705],[34.3999,28.016],[34.2201,27.7643],[33.7602,28.0475],[33.2475,28.5678],[33.0757,29.0729],[32.7215,29.5217],[32.6318,28.9921],[32.8982,28.5651],[33.5471,27.8984],[33.5498,27.6072],[33.8929,27.0497],[33.9591,26.6488],[34.565,25.6913],[35.194,24.4751],[35.6246,24.0658],[35.5229,23.4426],[35.6978,22.9463],[36.2296,22.6289],[36.8714,21.9968],[34.2467,21.9964],[32.6061,21.9959],[30.3285,21.9951],[27.2723,21.9955],[24.9805,21.9959],[24.9805,24.2416],[24.9805,25.8134],[24.9805,27.8345],[24.9805,29.1817],[24.7115,30.1316],[24.9738,30.7766],[24.8526,31.335],[25.1505,31.655],[25.3822,31.513],[25.8931,31.6209],[27.2479,31.3781],[27.9674,31.0975],[28.5147,31.0505],[29.0723,30.8303],[29.5916,31.0114],[30.3951,31.4575],[30.7005,31.4038],[31.1941,31.5876],[32.1018,31.0926],[33.1299,31.1681],[33.6665,31.1304],[34.1983,31.3226]]]},properties:{name:"Egypt",id:"EG"},id:"EG"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-91.2722,.0251],[-90.7997,-.7522],[-90.9055,-.9404],[-91.3692,-.287],[-91.2722,.0251]]],[[[-75.2845,-.1063],[-75.2632,-.5555],[-75.5706,-1.5312],[-76.0898,-2.1331],[-76.679,-2.5628],[-77.8607,-2.9819],[-78.3472,-3.4311],[-78.4198,-3.7769],[-79.0763,-4.9905],[-79.3308,-4.9279],[-79.6385,-4.4547],[-80.1396,-4.2962],[-80.4885,-4.3939],[-80.51,-4.0694],[-80.1793,-3.8776],[-80.3247,-3.388],[-79.9217,-3.0902],[-79.7299,-2.5793],[-80.4501,-2.6259],[-80.9628,-2.1891],[-80.7704,-2.0768],[-80.8015,-1.3834],[-80.9024,-1.0789],[-80.554,-.8481],[-80.4823,-.3682],[-80.1334,-.006],[-80.0251,.4104],[-80.0883,.7846],[-79.7412,.9799],[-78.8996,1.2063],[-78.8597,1.4553],[-78.3121,1.046],[-77.4676,.6363],[-77.4228,.425],[-76.4946,.2355],[-76.311,.4485],[-75.8798,.1511],[-75.2845,-.1063]]]]},properties:{name:"Ecuador",id:"EC"},id:"EC"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[8.5764,36.9374],[8.2306,36.5454],[8.2457,35.8707],[8.3944,35.204],[8.2457,34.7339],[7.5138,34.0805],[7.5,33.8323],[7.7628,33.2331],[8.2111,32.9268],[8.3332,32.5437],[9.0439,32.0723],[9.5188,30.2293],[9.3102,30.1152],[9.6724,29.567],[9.8424,28.9668],[9.9161,27.7856],[9.7474,27.3306],[9.8593,26.5521],[9.4913,26.3337],[9.4482,26.0673],[10.0009,25.3322],[10.2557,24.5909],[10.6863,24.5514],[11.5075,24.3144],[11.9678,23.518],[9.3785,21.9915],[7.4818,20.8729],[5.8367,19.4791],[4.2276,19.1426],[3.4007,18.9886],[3.1059,19.1502],[3.2559,19.4107],[3.2036,19.7898],[2.4063,20.0637],[2.2195,20.2479],[1.6855,20.3784],[1.1657,20.8174],[1.1457,21.1024],[-1.2931,22.6964],[-3.2579,23.981],[-4.8227,24.9958],[-6.2387,25.848],[-8.6834,27.2858],[-8.6834,27.6565],[-8.6599,28.7187],[-7.6851,29.3495],[-7.095,29.6251],[-6.6353,29.5687],[-6.5008,29.8093],[-5.4488,29.9567],[-4.9683,30.4654],[-4.3228,30.6989],[-3.8335,31.1978],[-3.8268,31.6617],[-3.0174,31.8344],[-2.9308,32.0426],[-2.4485,32.13],[-1.2753,32.0892],[-1.0656,32.4683],[-1.5099,32.8775],[-1.6792,33.3187],[-1.7955,34.7521],[-2.2197,35.1041],[-1.9132,35.0943],[-.9175,35.6683],[.0479,35.9004],[.5149,36.2618],[1.2571,36.5197],[2.5932,36.6009],[2.9727,36.7847],[3.7788,36.8961],[4.7581,36.8965],[5.1958,36.6768],[6.0649,36.8641],[6.4866,37.0856],[6.9274,36.9196],[7.6079,36.9999],[7.9106,36.8566],[8.5764,36.9374]]]},properties:{name:"Algeria",id:"DZ"},id:"DZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-71.7683,18.0391],[-71.6571,19.1306],[-71.7791,19.7183],[-71.5578,19.8954],[-70.9542,19.9141],[-70.1294,19.6362],[-69.7394,19.2993],[-68.6848,18.9047],[-68.3594,18.538],[-68.6588,18.222],[-68.9349,18.408],[-69.7707,18.4435],[-70.1831,18.2517],[-71.0278,18.273],[-71.3958,17.6462],[-71.7683,18.0391]]]},properties:{name:"Dominican Republic",id:"DO"},id:"DO"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[9.7399,54.8255],[8.6701,54.9034],[8.6159,55.4181],[8.1321,55.5999],[8.1641,56.6069],[8.6186,57.1114],[9.5543,57.2325],[9.9623,57.581],[10.5371,57.4485],[10.2828,56.6204],[10.1829,55.8651],[9.5912,55.4932],[9.7399,54.8255]]],[[[12.5688,55.785],[11.6539,55.1869],[11.2864,55.2044],[10.9788,55.7215],[12.219,56.1186],[12.5688,55.785]]],[[[10.645,55.6099],[10.7852,55.1334],[9.9889,55.1631],[9.8606,55.5156],[10.645,55.6099]]]]},properties:{name:"Denmark",id:"DK"},id:"DK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.2817,15.2492],[-61.481,15.5253],[-61.3201,15.5853],[-61.2817,15.2492]]]},properties:{name:"Dominica",id:"DM"},id:"DM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[43.2462,11.4997],[42.9226,10.9994],[42.5577,11.0806],[41.7982,10.9803],[41.7667,11.5889],[42.3784,12.4665],[42.67,12.3764],[43.1166,12.7084],[43.41,12.1899],[43.2719,11.9698],[42.7992,11.7394],[43.2462,11.4997]]]},properties:{name:"Djibouti",id:"DJ"},id:"DJ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[9.7399,54.8255],[10.3604,54.4382],[11.3996,53.9446],[12.1111,54.1684],[12.5755,54.4673],[13.0287,54.4109],[13.8654,53.8534],[14.2587,53.7296],[14.4145,53.2835],[14.1286,52.8782],[14.6196,52.5284],[14.7527,52.0818],[14.6018,51.8324],[15.0164,51.2527],[14.8096,50.8589],[14.3692,50.8986],[12.4525,50.3498],[12.2763,50.0424],[12.6318,49.4613],[13.8148,48.7669],[13.4095,48.3942],[12.8143,48.1607],[12.686,47.6693],[11.717,47.5837],[11.2979,47.4247],[10.4306,47.541],[10.3129,47.3133],[9.5241,47.5242],[8.6177,47.7661],[7.6154,47.5925],[7.5843,48.0644],[8.1348,48.9735],[7.4507,49.1522],[6.7356,49.1606],[6.3441,49.4527],[6.4875,49.7985],[6.1164,50.1209],[6.3645,50.3163],[5.9939,50.7504],[5.8949,50.9843],[6.1932,51.4888],[5.9486,51.7625],[6.7418,51.9109],[7.0352,52.3801],[7.1973,53.2823],[7.2852,53.6814],[8.0091,53.6907],[8.5387,53.5569],[8.8978,53.8357],[8.9573,54.5383],[8.6701,54.9034],[9.7399,54.8255]]]},properties:{name:"Germany",id:"DE"},id:"DE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[14.8096,50.8589],[16.0072,50.6117],[16.6792,50.0974],[17.152,50.3784],[17.8746,49.9722],[18.5622,49.8792],[18.8321,49.5108],[18.161,49.2574],[17.7583,48.888],[17.1884,48.861],[16.9531,48.5988],[16.4777,48.8001],[16.0573,48.7549],[14.972,48.9839],[14.6915,48.5993],[14.0492,48.6024],[13.8148,48.7669],[12.6318,49.4613],[12.2763,50.0424],[12.4525,50.3498],[14.3692,50.8986],[14.8096,50.8589]]]},properties:{name:"Czechia",id:"CZ"},id:"CZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[34.4633,35.5937],[33.9418,35.2918],[34.0501,34.9882],[32.9417,34.5758],[32.4489,34.7294],[32.3171,34.9532],[32.9417,35.3904],[33.4588,35.3358],[34.4633,35.5937]]]},properties:{name:"Cyprus",id:"CY"},id:"CY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-81.3696,19.349],[-81.1306,19.3468],[-81.3037,19.2718],[-81.3696,19.349]]]},properties:{name:"Cayman Islands",id:"KY"},id:"KY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[105.7253,-10.493],[105.6969,-10.564],[105.5842,-10.5125],[105.7053,-10.4308],[105.7253,-10.493]]]},properties:{name:"Christmas Island",id:"CX"},id:"CX"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-68.7511,12.0599],[-68.8033,12.0457],[-68.995,12.142],[-69.154,12.2982],[-69.0767,12.3422],[-69.0132,12.2312],[-68.8275,12.1584],[-68.7511,12.0599]]]},properties:{name:"Curaçao",id:"CW"},id:"CW"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-82.5617,21.5716],[-82.8531,21.4437],[-83.0826,21.7913],[-82.7146,21.8903],[-82.5617,21.5716]]],[[[-81.8375,23.1629],[-81.1785,23.0595],[-80.6501,23.103],[-80.0752,22.9423],[-79.183,22.3879],[-78.6865,22.367],[-77.8651,21.9005],[-77.4973,21.8717],[-76.6475,21.2844],[-75.7229,21.1108],[-75.6428,20.7335],[-74.8826,20.6505],[-74.2529,20.0797],[-75.1165,19.9012],[-76.1586,19.9896],[-77.7151,19.8555],[-77.2135,20.3003],[-77.2297,20.6438],[-77.9974,20.7153],[-78.4908,21.0536],[-78.6366,21.5157],[-79.2745,21.5627],[-80.2313,21.8721],[-80.4992,22.0634],[-80.9619,22.0528],[-81.8162,22.2001],[-81.9034,22.6791],[-82.7382,22.6893],[-83.3796,22.2228],[-84.3264,22.0745],[-84.3612,22.379],[-84.045,22.6662],[-83.2577,22.9676],[-82.1014,23.1905],[-81.8375,23.1629]]]]},properties:{name:"Cuba",id:"CU"},id:"CU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-83.6419,10.9173],[-83.4482,10.4658],[-82.7783,9.6695],[-82.5635,9.5767],[-82.9399,9.4493],[-82.917,8.7404],[-82.9976,8.3676],[-82.8793,8.0706],[-83.1625,8.5882],[-83.734,8.6144],[-83.6373,9.0352],[-83.8956,9.2762],[-84.6589,9.6469],[-85.1145,9.5816],[-85.6248,9.9025],[-85.8305,10.3979],[-85.6672,10.7451],[-85.7444,11.062],[-85.6215,11.1845],[-84.9092,10.9453],[-84.3484,10.9799],[-84.1684,10.7806],[-83.6419,10.9173]]]},properties:{name:"Costa Rica",id:"CR"},id:"CR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-23.4442,15.0078],[-23.7054,14.9611],[-23.7007,15.2714],[-23.4442,15.0078]]]},properties:{name:"Cape Verde",id:"CV"},id:"CV"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[43.4659,-11.9014],[43.2266,-11.7518],[43.3793,-11.6142],[43.4659,-11.9014]]]},properties:{name:"Comoros",id:"KM"},id:"KM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-71.3197,11.8619],[-71.958,11.6666],[-72.2485,11.1965],[-72.6902,10.8361],[-72.8693,10.4911],[-73.0065,9.7894],[-73.3563,9.2269],[-72.7963,9.1089],[-72.6654,8.6277],[-72.4166,8.3818],[-72.443,7.4549],[-72.0843,7.0967],[-71.0134,6.9946],[-70.6552,7.0829],[-70.095,6.9378],[-69.4392,6.1348],[-68.4717,6.1565],[-67.8591,6.2897],[-67.4394,6.0256],[-67.8249,5.2705],[-67.8553,4.507],[-67.6616,3.8643],[-67.3111,3.416],[-67.8347,2.8926],[-67.2108,2.3901],[-66.8761,1.2231],[-67.352,2.0861],[-67.8152,1.79],[-68.1765,1.7198],[-69.8486,1.7087],[-69.8522,1.0593],[-69.3615,1.0642],[-69.1633,.864],[-70.0539,.5786],[-70.0706,-.1387],[-69.6675,-.4823],[-69.4003,-1.1948],[-69.6691,-2.6676],[-69.9658,-4.2359],[-70.3396,-3.8142],[-70.7351,-3.7818],[-70.0741,-2.7502],[-70.9146,-2.2184],[-71.3969,-2.3342],[-71.7525,-2.1527],[-72.3957,-2.4288],[-73.1545,-2.2783],[-73.1969,-1.8304],[-73.4963,-1.6932],[-73.6643,-1.2489],[-74.2465,-.9706],[-74.4178,-.5809],[-74.8018,-.2],[-75.2845,-.1063],[-75.8798,.1511],[-76.311,.4485],[-76.4946,.2355],[-77.4228,.425],[-77.4676,.6363],[-78.3121,1.046],[-78.8597,1.4553],[-78.5769,1.774],[-78.6171,2.3067],[-78.1201,2.4882],[-77.67,2.8788],[-77.2428,3.5855],[-77.1666,3.8621],[-77.4272,4.0605],[-77.2863,4.7219],[-77.4017,5.4161],[-77.2492,5.7801],[-77.4694,6.177],[-77.36,6.5046],[-77.9011,7.2294],[-77.7439,7.537],[-77.3509,7.7057],[-77.2124,8.0338],[-77.3742,8.6583],[-76.8519,8.0906],[-76.8879,8.6197],[-76.2769,8.989],[-76.1355,9.2656],[-75.6394,9.4502],[-75.671,10.1964],[-75.4459,10.611],[-74.8446,11.1095],[-74.4542,10.9892],[-74.0592,11.3408],[-73.3134,11.2959],[-72.722,11.7123],[-72.275,11.8894],[-72.1358,12.1886],[-71.7145,12.4199],[-71.2622,12.3351],[-71.3197,11.8619]]]},properties:{name:"Colombia",id:"CO"},id:"CO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-159.7406,-21.2494],[-159.8395,-21.2383],[-159.832,-21.2005],[-159.7683,-21.1885],[-159.7406,-21.2494]]]},properties:{name:"Cook Islands",id:"CK"},id:"CK"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[18.6102,3.4785],[18.4908,2.9246],[18.0722,2.0133],[18.058,1.5347],[17.9026,1.1179],[17.8875,.2341],[17.7242,-.2777],[17.753,-.5489],[17.2789,-.9994],[16.8799,-1.2258],[16.5407,-1.8402],[16.2154,-2.178],[16.2171,-3.0302],[16.1466,-3.4639],[15.8722,-3.9345],[15.6001,-4.0308],[14.7794,-4.8458],[14.4105,-4.8311],[14.3581,-4.2993],[13.4149,-4.8373],[13.0726,-4.6349],[12.8809,-4.4454],[12.3846,-4.6189],[12.0184,-5.0042],[11.7773,-4.5657],[11.1301,-3.9163],[11.5043,-3.5203],[11.934,-3.3188],[11.5376,-2.8367],[11.5754,-2.3973],[12.4463,-2.3298],[12.4321,-1.929],[12.7934,-1.9316],[12.9918,-2.3134],[13.465,-2.3955],[13.7842,-2.1638],[14.0874,-2.4669],[14.3839,-1.8899],[14.4806,-.6181],[13.8601,-.2035],[13.8845,.1906],[14.0874,.5364],[14.4345,.8116],[14.181,1.3701],[13.8512,1.4189],[13.2741,1.2409],[13.1627,1.6479],[13.2937,2.1615],[14.4842,2.1549],[14.9023,2.0124],[15.7417,1.9152],[16.0596,1.6763],[16.1834,2.2703],[16.4684,2.8318],[16.6735,3.5354],[17.4379,3.6845],[18.161,3.4998],[18.6102,3.4785]]]},properties:{name:"Republic of Congo",id:"CG"},id:"CG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[27.4032,5.1094],[27.7881,4.6446],[28.192,4.3503],[28.7269,4.5048],[29.1513,4.3881],[29.6768,4.5869],[30.1949,3.9819],[30.5083,3.8359],[30.8385,3.4905],[30.7284,2.4554],[31.1763,2.2703],[31.2527,2.0448],[30.9424,1.683],[29.9427,.8192],[29.9343,.4991],[29.7177,.0983],[29.5619,-.9772],[29.577,-1.3878],[29.1295,-1.8601],[29.1064,-2.2335],[28.8765,-2.4004],[29.0146,-2.7204],[29.2245,-3.0533],[29.2232,-3.9109],[29.4034,-4.4494],[29.3426,-4.9829],[29.5943,-5.651],[29.4802,-6.0252],[29.7097,-6.6169],[30.3134,-7.2037],[30.7511,-8.1936],[28.9724,-8.4648],[28.9178,-8.7005],[28.4007,-9.2248],[28.6301,-9.8311],[28.639,-10.6692],[28.3572,-11.4828],[28.4823,-11.8122],[29.0643,-12.3489],[29.4274,-12.4314],[29.7954,-12.1553],[29.7954,-13.3929],[29.5543,-13.2491],[29.0141,-13.3689],[28.3576,-12.482],[27.5333,-12.1953],[27.0459,-11.616],[26.9496,-11.8988],[26.5962,-11.972],[26.0258,-11.8903],[25.3493,-11.6231],[25.1847,-11.2431],[24.5184,-11.4384],[24.32,-11.0718],[23.9666,-10.8716],[23.8339,-11.0136],[22.5613,-11.0558],[22.3069,-10.6914],[22.1977,-10.0406],[21.8133,-9.4689],[21.9056,-8.6934],[21.7511,-7.3054],[20.6077,-7.2778],[20.4821,-6.9161],[19.8753,-6.9862],[19.5277,-7.1447],[19.3408,-7.9668],[18.6532,-7.9361],[17.536,-8.076],[17.1551,-7.4612],[16.7094,-6.4717],[16.7179,-6.2414],[16.3152,-5.8658],[14.3985,-5.8925],[13.0682,-5.8649],[12.4117,-5.9866],[12.2137,-5.7589],[12.5035,-5.6958],[12.5222,-5.1489],[12.8298,-4.7366],[13.0726,-4.6349],[13.4149,-4.8373],[14.3581,-4.2993],[14.4105,-4.8311],[14.7794,-4.8458],[15.6001,-4.0308],[15.8722,-3.9345],[16.1466,-3.4639],[16.2171,-3.0302],[16.2154,-2.178],[16.5407,-1.8402],[16.8799,-1.2258],[17.2789,-.9994],[17.753,-.5489],[17.7242,-.2777],[17.8875,.2341],[17.9026,1.1179],[18.058,1.5347],[18.0722,2.0133],[18.4908,2.9246],[18.6102,3.4785],[18.5676,4.2576],[19.0687,4.8915],[19.5011,5.1276],[19.8065,5.0894],[20.2264,4.8297],[20.558,4.4627],[21.5376,4.2447],[22.4223,4.1351],[22.7557,4.6469],[23.4171,4.6633],[24.32,4.994],[24.7656,4.9301],[25.2495,5.0246],[25.5251,5.3123],[26.8222,5.0623],[27.1151,5.1977],[27.4032,5.1094]]]},properties:{name:"Democratic Republic of Congo",id:"CD"},id:"CD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[15.4803,7.5237],[15.2459,7.2636],[14.7394,6.2799],[14.6169,5.8649],[14.7088,4.6655],[15.0226,4.3583],[15.1287,3.827],[15.775,3.127],[16.0636,2.9086],[16.1834,2.2703],[16.0596,1.6763],[15.7417,1.9152],[14.9023,2.0124],[14.4842,2.1549],[13.2937,2.1615],[13.2204,2.2565],[11.3485,2.2996],[11.3286,2.1673],[9.98,2.1677],[9.8007,2.3044],[9.8762,3.3099],[9.4252,3.9224],[8.9999,4.0916],[8.9027,4.4351],[8.556,4.7552],[8.801,5.1973],[9.0603,6.0092],[10.1438,6.9964],[10.6064,7.063],[11.0325,6.6981],[11.1532,6.438],[11.5518,6.6972],[11.7676,7.272],[12.0162,7.5899],[12.4037,8.5957],[12.8067,8.8865],[12.9297,9.4263],[13.1756,9.5394],[13.2697,10.0362],[13.5352,10.6052],[13.892,11.1401],[14.5597,11.4921],[14.6271,12.1087],[14.1974,12.3839],[14.0638,13.0786],[14.5162,12.9796],[14.7612,12.6556],[15.0812,11.8455],[15.0297,11.1135],[15.1323,10.6483],[15.5411,9.9603],[14.2432,9.9798],[13.9773,9.6917],[14.3324,9.2034],[15.1163,8.5571],[15.443,7.8518],[15.4803,7.5237]]]},properties:{name:"Cameroon",id:"CM"},id:"CM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-5.5236,10.4259],[-5.0999,10.2417],[-4.9698,9.9301],[-4.6258,9.7134],[-3.8776,9.895],[-3.2235,9.8954],[-2.6958,9.4813],[-2.7466,9.1098],[-2.5058,8.2087],[-2.7899,7.9321],[-2.9858,7.205],[-3.2358,6.8073],[-3.2007,6.3483],[-2.7952,5.1844],[-3.0191,5.1307],[-4.0372,5.2301],[-5.5646,5.0894],[-6.9229,4.6384],[-7.5451,4.3512],[-7.5688,5.0805],[-7.4299,5.3247],[-7.4543,5.8414],[-7.7965,5.975],[-7.8886,6.2347],[-8.6035,6.5077],[-8.3325,6.8015],[-8.2966,7.0741],[-8.4863,7.5584],[-8.232,7.5566],[-7.8236,8.4674],[-7.951,8.7866],[-7.8962,9.416],[-8.137,9.4955],[-8.1365,10.022],[-7.9907,10.1627],[-7.6611,10.4272],[-7.1049,10.2035],[-6.6932,10.3495],[-6.2611,10.7242],[-6.0345,10.1946],[-5.5236,10.4259]]]},properties:{name:"Côte d'Ivoire",id:"CI"},id:"CI"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[110.8887,19.9918],[111.0138,19.6553],[110.5722,19.1719],[110.4514,18.748],[109.5193,18.2184],[108.7016,18.5354],[108.6936,19.3384],[109.6511,19.9842],[110.5886,20.0726],[110.8887,19.9918]]],[[[130.5269,42.5353],[130.2406,42.8917],[129.8983,42.9983],[129.7199,42.4749],[129.3137,42.4137],[128.9236,42.0381],[128.0451,41.9875],[128.291,41.5627],[128.1112,41.3891],[127.1795,41.5312],[126.9034,41.7811],[125.989,40.9049],[124.8895,40.4596],[124.3621,40.0042],[124.1056,39.8409],[123.3483,39.7632],[122.3349,39.3663],[121.6499,38.8652],[121.7853,39.401],[121.5177,39.6389],[122.2749,40.5418],[121.859,40.8423],[121.1745,40.9013],[120.479,40.231],[119.5912,39.9026],[118.9125,39.1666],[118.2977,39.0671],[117.7845,39.1346],[117.5577,38.625],[118.0149,38.1834],[118.94,38.0426],[119.0891,37.7008],[118.9529,37.3311],[119.45,37.1247],[120.3702,37.7008],[120.7502,37.834],[121.6402,37.4603],[122.6025,37.4265],[122.5195,36.9467],[121.9327,36.9595],[120.9899,36.5978],[120.3933,36.054],[120.0546,35.8614],[119.2156,35.0118],[119.5827,34.5821],[120.2015,34.3255],[120.8709,33.0165],[120.8532,32.6613],[121.4009,32.3719],[121.3521,31.8588],[121.0556,31.7194],[121.6606,31.3199],[121.8781,30.9168],[120.9974,30.5582],[121.1594,30.3016],[121.9442,29.8941],[121.7174,29.2562],[121.602,28.3667],[121.0986,28.2903],[120.2788,27.0972],[119.6484,25.9186],[119.5392,25.5915],[119.0248,25.2235],[118.5605,24.5803],[118.0873,24.6269],[118.0562,24.246],[116.5381,23.1798],[116.4706,22.9459],[115.4985,22.719],[115.1957,22.8171],[114.854,22.6169],[114.2658,22.541],[114.0154,22.5117],[113.6195,22.8615],[113.5467,22.2241],[113.4943,22.2414],[113.4788,22.1957],[113.0083,22.1193],[112.5861,21.7767],[111.9438,21.8495],[111.6029,21.5592],[110.771,21.3865],[110.1935,21.0376],[110.5114,20.5182],[110.123,20.2639],[109.6626,20.9168],[109.9307,21.4806],[109.5441,21.5378],[109.1486,21.4255],[109.0305,21.6266],[108.3247,21.6937],[107.9727,21.5081],[107.3513,21.6089],[106.7294,22.0004],[106.5363,22.3954],[106.7804,22.779],[106.5421,22.9081],[105.8429,22.9228],[105.2752,23.3454],[104.8646,23.1363],[104.7958,22.9112],[104.3719,22.704],[103.3008,22.7643],[103.0051,22.4532],[102.5173,22.7408],[102.1276,22.379],[101.6712,22.4625],[101.5243,22.2538],[101.744,21.778],[101.705,21.1503],[101.2242,21.2236],[101.139,21.5676],[100.2148,21.4628],[99.9179,22.0279],[99.193,22.126],[99.3377,22.498],[99.3408,23.0959],[98.8636,23.1913],[98.7642,24.116],[98.2124,24.1106],[97.686,23.898],[97.5315,24.4915],[97.8196,25.2519],[98.0109,25.2923],[98.6546,25.9177],[98.7318,26.5836],[98.651,27.5726],[98.299,27.5499],[98.0988,28.1421],[97.5377,28.5101],[97.3224,28.218],[96.776,28.3671],[96.4355,29.0507],[96.0352,29.4471],[95.4204,29.0543],[94.7696,29.1759],[94.6231,29.3126],[93.9022,28.803],[93.2067,28.5909],[92.702,28.147],[92.6642,27.949],[91.9775,27.7301],[91.6317,27.7599],[91.6056,27.9516],[90.3529,28.0804],[89.9809,28.3112],[89.537,28.1075],[88.8912,27.316],[88.8485,27.8686],[88.6213,28.0919],[88.1099,27.8704],[87.1413,27.8385],[86.5545,28.0853],[86.4089,27.9286],[85.6783,28.2775],[85.1225,28.3161],[85.1589,28.5922],[84.7141,28.5957],[84.2285,28.9118],[84.1016,29.2198],[83.5835,29.1834],[83.1556,29.6127],[82.8542,29.6833],[82.1591,30.1152],[82.0432,30.3269],[81.4169,30.3376],[81.0103,30.1645],[80.6823,30.4148],[80.1913,30.5684],[79.9245,30.8889],[79.9165,30.8942],[79.3697,31.0798],[79.3386,31.1055],[79.1073,31.4025],[78.8445,31.3017],[78.7198,31.8876],[78.3896,32.5197],[79.2192,32.5011],[79.2165,32.5641],[79.1353,33.1718],[79.1127,33.2264],[78.8019,33.4999],[78.7531,34.0876],[78.9364,34.3521],[78.2821,34.654],[77.8107,35.4845],[77.7992,35.496],[77.4467,35.4756],[76.2518,35.8108],[75.945,36.0176],[75.8403,36.6497],[75.3467,36.9134],[74.5415,37.0221],[74.8912,37.2317],[74.7452,38.5101],[74.2773,38.6597],[73.8015,38.6068],[73.6315,39.4489],[73.9147,39.6065],[73.9915,40.0433],[74.4118,40.1374],[75.0044,40.4494],[75.5837,40.6052],[75.8718,40.3034],[76.4804,40.4494],[76.8239,40.9821],[78.1232,41.0758],[78.3625,41.3718],[79.2938,41.7829],[80.2162,42.0323],[80.2095,42.1899],[80.1651,42.6653],[80.7857,43.1616],[80.3551,44.0973],[80.4554,44.7463],[80.059,45.0064],[81.602,45.3109],[82.4787,45.1236],[82.3264,45.52],[83.0043,47.0337],[83.1929,47.1864],[84.786,46.8308],[85.6565,47.2547],[85.526,47.9157],[85.7493,48.3849],[86.5496,48.5287],[86.7534,49.0088],[87.3229,49.0858],[87.8143,49.1624],[87.9798,48.5549],[88.517,48.3844],[89.0478,48.0027],[89.561,48.004],[90.3134,47.676],[90.4963,47.2854],[90.87,46.9547],[91.0338,46.529],[91.0019,46.0358],[90.6618,45.5253],[90.8771,45.196],[91.5842,45.0766],[92.7876,45.0357],[93.6563,44.9008],[94.7119,44.3508],[95.3502,44.278],[95.9126,43.2064],[96.3854,42.7204],[97.2057,42.7896],[99.4678,42.5681],[99.984,42.6773],[101.7139,42.4656],[101.9731,42.2157],[103.0726,42.0062],[103.7109,41.7514],[104.4984,41.877],[104.4984,41.6586],[105.1971,41.738],[106.7702,42.2889],[108.1712,42.4474],[109.4434,42.4558],[110.4004,42.7736],[111.0072,43.3414],[111.9331,43.7116],[111.4022,44.3672],[111.8981,45.0641],[113.5871,44.7459],[114.0305,44.9425],[114.517,45.3646],[115.6809,45.4583],[116.2407,45.7961],[116.5625,46.2897],[117.3335,46.3621],[118.3088,46.7172],[119.7066,46.6062],[119.8979,46.8579],[119.711,47.15],[118.4983,47.9841],[117.7685,47.988],[117.3508,47.652],[116.7605,47.87],[115.8984,47.6871],[115.5575,47.945],[116.6832,49.8238],[117.8733,49.5135],[118.4517,49.8444],[119.26,50.0664],[119.1921,50.3797],[120.067,51.6007],[120.7497,52.0965],[120.6561,52.5666],[120.0945,52.7872],[120.704,53.1718],[122.338,53.485],[123.6079,53.5465],[124.8122,53.1339],[125.649,53.0422],[126.313,52.3997],[126.9247,51.1002],[127.5901,50.2091],[127.5027,49.8735],[127.9998,49.5685],[128.5267,49.5943],[129.5339,49.3235],[130.1962,48.8916],[130.8043,48.3414],[130.712,48.1279],[131.0027,47.6915],[132.5617,47.7683],[133.1441,48.1057],[133.4686,48.0972],[134.2933,48.3733],[134.5636,48.3219],[134.7523,47.7155],[134.1677,47.3022],[133.8614,46.2475],[133.1858,45.4947],[132.9359,45.03],[131.9775,45.2439],[131.0822,44.9101],[131.2553,44.0716],[131.262,43.4333],[131.0684,42.9024],[130.5771,42.8118],[130.5269,42.5353]]]]},properties:{name:"China",id:"CN"},id:"CN"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-67.0799,-55.1538],[-68.07,-55.2213],[-68.107,-54.9292],[-67.2452,-54.9776],[-67.0799,-55.1538]]],[[[-69.703,-54.919],[-68.9007,-55.0176],[-68.2826,-55.255],[-68.2932,-55.5214],[-69.4119,-55.4441],[-69.9798,-55.1476],[-69.703,-54.919]]],[[[-72.9233,-53.4817],[-72.2055,-53.8075],[-73.3048,-53.9438],[-73.6865,-53.4266],[-72.9233,-53.4817]]],[[[-68.6299,-52.6525],[-68.6532,-54.8538],[-69.4862,-54.8591],[-69.7235,-54.7122],[-70.4972,-54.8094],[-71.4409,-54.6198],[-70.8982,-54.338],[-70.8678,-53.8843],[-70.0903,-53.4182],[-70.3906,-53.0263],[-69.7636,-52.7315],[-68.6299,-52.6525]]],[[[-74.4762,-49.148],[-74.5699,-49.9909],[-75.3001,-49.8475],[-75.1842,-49.0836],[-74.7934,-48.705],[-74.4762,-49.148]]],[[[-74.5672,-48.5918],[-74.923,-48.6264],[-75.2129,-48.1417],[-74.7292,-48.1261],[-74.5672,-48.5918]]],[[[-72.9861,-44.7801],[-73.4451,-44.6411],[-73.2078,-44.3348],[-72.7641,-44.5488],[-72.9861,-44.7801]]],[[[-73.7354,-44.3948],[-73.9833,-44.4946],[-73.7271,-45.1192],[-74.0991,-45.3252],[-74.6178,-44.6478],[-74.5017,-44.4733],[-73.7354,-44.3948]]],[[[-73.7733,-43.3459],[-74.355,-43.2637],[-74.2094,-42.8789],[-74.0368,-41.7953],[-73.5278,-41.8961],[-73.4708,-42.4665],[-73.7893,-42.5859],[-73.4364,-42.9366],[-73.7733,-43.3459]]],[[[-67.1948,-22.8216],[-67.0088,-23.0014],[-67.3562,-24.0339],[-68.2502,-24.3921],[-68.562,-24.8378],[-68.3842,-25.0921],[-68.6002,-25.4859],[-68.4144,-26.1539],[-68.5811,-26.5183],[-68.3461,-27.0279],[-68.8463,-27.1536],[-69.1744,-27.9246],[-69.6569,-28.4138],[-69.8278,-29.1031],[-70.0269,-29.3242],[-69.9277,-29.7694],[-69.9563,-30.358],[-70.1614,-30.4401],[-70.5196,-31.1486],[-70.5853,-31.5694],[-70.1696,-32.4718],[-70.0198,-33.2717],[-69.7978,-33.3987],[-69.8524,-34.2243],[-70.2899,-34.733],[-70.4703,-35.3261],[-70.4048,-36.0616],[-71.0556,-36.5237],[-71.1677,-37.7621],[-71.0281,-38.0413],[-70.9517,-38.7383],[-71.4256,-38.9855],[-71.5394,-39.6025],[-71.7199,-39.6354],[-71.6952,-40.3354],[-71.932,-40.6918],[-71.9114,-41.6506],[-71.7501,-42.0466],[-72.1247,-42.2983],[-72.1464,-42.9899],[-71.7816,-43.167],[-71.905,-43.44],[-71.6801,-43.9296],[-71.82,-44.3832],[-71.2127,-44.4414],[-71.2611,-44.7632],[-71.5962,-44.9794],[-71.3537,-45.2306],[-71.7727,-45.7242],[-71.8757,-46.1606],[-71.6952,-46.5783],[-71.9403,-46.8313],[-71.905,-47.2015],[-72.346,-47.4927],[-72.518,-47.8762],[-72.3549,-48.3658],[-72.6143,-48.7929],[-73.5762,-49.583],[-73.5012,-50.1254],[-73.153,-50.7384],[-72.5098,-50.6075],[-72.2763,-50.9102],[-72.4077,-51.541],[-71.9187,-51.9898],[-69.9603,-52.0084],[-68.4433,-52.3569],[-69.241,-52.2055],[-69.5606,-52.4217],[-70.795,-52.7688],[-70.9959,-53.7791],[-71.2977,-53.8834],[-72.1744,-53.6322],[-71.8528,-53.2855],[-71.4003,-53.107],[-71.3878,-52.7644],[-72.4583,-53.2544],[-73.0527,-53.2433],[-74.0143,-52.6392],[-73.5183,-52.0408],[-73.9733,-51.7847],[-73.8958,-51.3315],[-74.8147,-51.0629],[-75.0948,-50.6812],[-74.3337,-49.9745],[-74.3411,-48.5958],[-74.5772,-48.2744],[-74.6549,-47.7022],[-74.1584,-47.1824],[-74.152,-46.9742],[-75.6567,-46.6102],[-74.9245,-46.1597],[-75.0666,-45.8751],[-74.1579,-45.7673],[-74.0377,-45.4175],[-73.5498,-45.4836],[-73.3625,-44.978],[-72.739,-44.7343],[-72.6638,-44.4365],[-73.2651,-44.1688],[-72.9965,-43.6317],[-72.7852,-42.3014],[-72.4993,-41.9809],[-72.6698,-41.6595],[-73.0149,-41.5441],[-73.5214,-41.7971],[-73.966,-41.1184],[-73.6694,-40.0824],[-73.4104,-39.7889],[-73.2264,-39.2243],[-73.5325,-38.3667],[-73.4648,-38.0405],[-73.6619,-37.6987],[-73.6017,-37.1886],[-73.216,-37.1669],[-73.1181,-36.6884],[-72.8747,-36.3905],[-72.6239,-35.5857],[-72.2237,-35.0961],[-72.0029,-34.1653],[-71.6644,-33.6526],[-71.743,-33.0951],[-71.4522,-32.6596],[-71.5259,-31.806],[-71.6619,-31.1695],[-71.6695,-30.3305],[-71.4005,-30.1432],[-71.3157,-29.6496],[-71.5192,-28.9265],[-71.1863,-28.3778],[-71.0527,-27.7275],[-70.6465,-26.3293],[-70.7138,-25.7842],[-70.4455,-25.1725],[-70.5742,-24.6442],[-70.4878,-23.7818],[-70.5633,-23.0569],[-70.3316,-22.8487],[-70.0875,-21.493],[-70.1971,-20.7256],[-70.1483,-19.8049],[-70.4184,-18.3454],[-69.9263,-18.206],[-69.8522,-17.704],[-69.5108,-17.506],[-69.3133,-17.9432],[-69.094,-18.0507],[-68.9684,-18.9682],[-68.4628,-19.4329],[-68.6983,-19.721],[-68.7451,-20.4588],[-68.4999,-20.6119],[-68.1969,-21.3004],[-67.9883,-22.0572],[-67.8795,-22.8229],[-67.1948,-22.8216]]]]},properties:{name:"Chile",id:"CL"},id:"CL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[9.5241,47.5242],[9.5277,47.2707],[9.4877,47.0621],[9.5801,47.0572],[10.4528,46.865],[9.9392,46.3616],[9.2512,46.2866],[8.9537,45.8298],[8.4584,46.2458],[7.9932,46.0158],[7.021,45.9257],[6.7583,46.4158],[6.06,46.4282],[7.0006,47.3227],[7.6154,47.5925],[8.6177,47.7661],[9.5241,47.5242]]]},properties:{name:"Switzerland",id:"CH"},id:"CH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[96.8404,-12.182],[96.835,-12.1797],[96.8279,-12.1509],[96.8257,-12.126],[96.8328,-12.126],[96.8395,-12.1602],[96.8404,-12.182]]]},properties:{name:"Cocos (Keeling) Islands",id:"CC"},id:"CC"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-105.289,72.9199],[-106.9216,73.4799],[-105.5123,73.7657],[-104.583,73.3538],[-105.289,72.9199]]],[[[-79.5373,73.6546],[-77.2066,73.4996],[-76.2895,73.081],[-76.4005,72.8207],[-77.836,72.8968],[-79.5006,72.7559],[-80.8241,73.3807],[-80.849,73.7211],[-79.5373,73.6546]]],[[[-86.5894,71.0107],[-84.7896,71.0933],[-84.6995,71.6315],[-85.9115,71.9866],[-85.3411,72.4216],[-85.6445,72.7745],[-85.0184,73.3356],[-82.6596,73.7296],[-81.406,73.6346],[-80.2748,72.7455],[-80.9413,72.2101],[-78.453,72.4352],[-77.7532,72.7248],[-75.2943,72.4809],[-74.9032,72.1005],[-73.7136,71.7198],[-71.6406,71.5163],[-70.7926,71.1033],[-70.5609,70.7382],[-69.1686,70.7641],[-67.3637,70.0344],[-66.6852,69.2858],[-67.7517,69.0387],[-68.038,68.5507],[-67.033,68.3261],[-66.2252,67.9588],[-64.5275,67.8127],[-64.0079,67.3473],[-61.9684,67.019],[-61.2997,66.6488],[-61.9915,66.0354],[-62.6589,65.6399],[-63.3643,65.5433],[-63.4018,65.1185],[-64.6653,65.1689],[-65.4015,65.7639],[-65.3054,66.0085],[-66.4771,66.2797],[-67.1833,66.0345],[-68.2568,65.9386],[-67.3034,65.4829],[-66.8606,65.0917],[-65.2748,64.6316],[-64.6784,64.0281],[-64.5144,63.2639],[-65.0688,63.2635],[-65.2659,62.7151],[-65.9788,63.0007],[-67.676,63.0935],[-66.2813,62.3027],[-66.2567,61.8683],[-67.4401,62.1513],[-69.0823,62.4052],[-69.5452,62.7446],[-70.2362,62.7634],[-71.2538,63.0424],[-73.4437,64.4236],[-74.5124,64.6702],[-75.0675,64.4567],[-76.7239,64.242],[-77.7912,64.367],[-78.0957,64.9392],[-77.4474,65.1616],[-77.3267,65.4532],[-75.8283,65.227],[-73.5607,65.5429],[-74.434,66.139],[-73.0333,66.7283],[-72.2201,67.2543],[-73.3283,68.2668],[-74.648,68.7076],[-74.9172,68.9828],[-76.4034,68.6923],[-75.7873,69.3186],[-77.1289,69.6526],[-78.9797,70.5813],[-79.3475,70.3722],[-78.7778,70.0477],[-79.3033,69.8948],[-81.0982,70.0912],[-82.1387,69.8413],[-86.3219,70.1454],[-86.6244,70.4013],[-87.9006,70.2519],[-88.8483,70.5229],[-89.3655,71.0671],[-88.0387,70.9512],[-87.8724,71.2085],[-89.0794,71.2879],[-89.8458,71.4924],[-90.0251,71.9489],[-89.2631,73.0691],[-87.7197,73.7229],[-85.1105,73.8081],[-86.6293,72.8709],[-86.0361,71.7709],[-85.0233,71.3532],[-86.5894,71.0107]]],[[[-100.002,73.946],[-99.1579,73.7316],[-97.5819,73.8876],[-97.0017,73.6665],[-97.7959,73.2852],[-97.0519,72.6367],[-96.6133,71.8339],[-98.663,71.3021],[-99.167,71.3672],[-100.5944,72.1524],[-101.7239,72.3149],[-102.7137,72.783],[-100.4847,72.773],[-100.2828,73.1203],[-101.4509,73.4311],[-100.9151,73.8053],[-100.002,73.946]]],[[[-93.171,74.161],[-92.2228,73.9724],[-90.3547,73.8687],[-92.118,72.7539],[-93.3407,72.8018],[-94.0377,72.0288],[-95.1929,72.0275],[-95.5475,72.7816],[-95.633,73.6954],[-95.0397,74.0239],[-93.171,74.161]]],[[[-119.7363,74.1126],[-117.5149,74.2318],[-115.5107,73.6188],[-115.4468,73.4388],[-118.9615,72.6842],[-120.18,72.2126],[-120.6192,71.5057],[-123.2107,71.1235],[-124.0077,71.6775],[-125.7626,72.1375],[-124.9871,72.5881],[-124.8364,73.0762],[-123.7973,73.7682],[-124.6962,74.3481],[-121.3153,74.5299],[-119.7363,74.1126]]],[[[-93.5427,75.028],[-93.5472,74.691],[-94.6973,74.6422],[-96.5658,75.0988],[-95.6707,75.5287],[-94.4272,75.5935],[-93.5427,75.028]]],[[[-102.2275,76.0149],[-103.3148,75.7641],[-104.3506,76.1823],[-102.5841,76.2817],[-102.2275,76.0149]]],[[[-97.7009,76.4664],[-97.4097,75.5522],[-97.7994,75.1167],[-100.2344,75.0078],[-100.712,75.4064],[-102.5413,75.5136],[-101.4313,75.9919],[-102.1378,76.2848],[-100.388,76.6135],[-97.7009,76.4664]]],[[[-108.2924,76.0571],[-105.481,75.7457],[-105.8625,75.1915],[-107.1533,74.9272],[-108.8312,75.0648],[-110.9408,74.6387],[-112.5193,74.4169],[-113.5141,74.43],[-114.4518,75.0879],[-115.7289,74.9682],[-117.6001,75.2716],[-116.6098,76.0738],[-115.5806,76.4375],[-114.1939,76.4515],[-112.6975,76.2016],[-111.0527,75.5484],[-109.0865,75.5065],[-108.9449,75.6989],[-110.2701,76.4169],[-108.467,76.7376],[-108.2924,76.0571]]],[[[-94.2949,76.9125],[-92.7162,76.6029],[-91.3051,76.6808],[-90.2515,76.0536],[-88.2014,75.512],[-86.0687,75.5023],[-83.932,75.819],[-82.1538,75.831],[-79.6602,75.4494],[-79.508,74.8801],[-80.2777,74.5816],[-81.8089,74.4766],[-88.4231,74.4942],[-89.8444,74.5485],[-91.9616,74.7931],[-92.4281,75.3828],[-92.1851,75.8465],[-93.0917,76.3541],[-95.2739,76.2644],[-96.6397,76.703],[-95.6383,77.0639],[-94.2949,76.9125]]],[[[-115.5513,77.3633],[-116.2205,76.6111],[-119.3679,76.2218],[-119.9128,75.8589],[-121.9083,76.0347],[-121.6138,76.4415],[-119.0903,77.3051],[-115.5513,77.3633]]],[[[-95.4843,77.7921],[-93.301,77.7399],[-93.5196,77.4745],[-95.987,77.484],[-95.4843,77.7921]]],[[[-110.4581,78.1032],[-109.7718,77.9574],[-110.1984,77.5246],[-111.952,77.3442],[-113.1643,77.5302],[-113.1872,77.9124],[-110.4581,78.1032]]],[[[-109.816,78.6503],[-109.3905,78.3367],[-113.1499,78.4084],[-110.4077,78.7566],[-109.816,78.6503]]],[[[-96.2045,78.5314],[-94.8873,78.3452],[-95.087,77.9927],[-96.9895,77.8061],[-98.2548,78.4293],[-96.2045,78.5314]]],[[[-103.426,79.3157],[-99.6094,78.5831],[-99.1664,77.8569],[-100.5859,77.8917],[-101.0742,78.1938],[-102.7313,78.3711],[-103.5183,78.7691],[-105.5358,79.0325],[-105.3877,79.3235],[-103.426,79.3157]]],[[[-91.8857,81.1328],[-90.643,80.5937],[-87.6749,80.3722],[-87.1442,79.6626],[-85.5014,79.5303],[-85.2899,79.2083],[-87.0164,78.8987],[-88.7911,78.1925],[-90.6144,78.1498],[-92.6782,78.3891],[-95.1032,79.29],[-95.297,79.6531],[-96.7734,80.1358],[-95.6146,80.3962],[-96.1328,80.6913],[-95.2697,81.0007],[-91.8857,81.1328]]],[[[-69.4889,83.0169],[-63.641,82.8127],[-61.4771,82.4674],[-62.1766,82.0434],[-64.5741,81.7336],[-65.4839,81.2848],[-70.1434,80.3977],[-71.3878,79.7618],[-75.2595,79.4209],[-76.2558,79.0068],[-74.4332,78.724],[-75.866,78.0098],[-78.0127,77.9461],[-78.0762,77.5191],[-79.3408,77.1584],[-78.2888,76.978],[-78.2844,76.5711],[-80.6903,76.1765],[-81.1708,76.5128],[-83.8856,76.4531],[-85.1412,76.3046],[-89.5701,76.4919],[-89.4997,76.8268],[-88.3982,77.104],[-86.8737,77.2004],[-88.0946,77.7193],[-87.0179,77.8922],[-87.5517,78.1767],[-86.808,78.7744],[-84.3162,78.9753],[-85.0899,79.6122],[-86.4207,79.8453],[-86.3073,80.3194],[-83.7236,80.229],[-80.0511,80.5287],[-83.4013,80.714],[-85.3074,80.526],[-88.9214,80.8057],[-89.9474,81.1725],[-88.9784,81.5414],[-90.4903,81.8772],[-86.5807,82.1873],[-82.1225,82.6019],[-79.8864,82.9386],[-69.97,83.1161],[-69.4889,83.0169]]],[[[-61.1053,45.9448],[-60.8061,45.738],[-60.5049,46.204],[-59.8651,46.1597],[-60.3862,45.6545],[-61.2837,45.5737],[-61.4953,45.9413],[-60.8703,46.7966],[-60.3318,46.7678],[-60.5768,46.1721],[-61.1053,45.9448]]],[[[-63.8113,46.4686],[-63.1294,46.422],[-62.1635,46.4872],[-62.8784,46.0012],[-63.641,46.2307],[-63.8113,46.4686]]],[[[-74.7088,45.0038],[-73.558,45.425],[-73.1596,46.0101],[-71.901,46.632],[-71.2611,46.7562],[-70.5196,47.0323],[-68.987,48.2748],[-67.5608,48.8559],[-66.1781,49.2132],[-64.8364,49.1917],[-64.2618,48.9218],[-64.2538,48.5505],[-65.2595,48.0213],[-65.9266,48.1887],[-65.6665,47.696],[-65.2282,47.8114],[-64.7033,47.7248],[-64.9121,47.3688],[-65.3189,47.1012],[-64.9057,46.8881],[-64.5415,46.2404],[-63.2928,45.7522],[-62.4831,45.6217],[-61.9556,45.868],[-61.4924,45.6869],[-61.2837,45.2355],[-63.7611,44.4862],[-64.286,44.5501],[-64.8624,43.8678],[-65.7382,43.5607],[-66.1257,43.8137],[-66.0995,44.3677],[-65.6567,44.7605],[-64.4489,45.2559],[-64.8979,45.6261],[-65.8845,45.223],[-66.8726,45.0672],[-67.1249,45.1693],[-67.4725,45.2759],[-67.4328,45.603],[-67.7845,45.7016],[-67.8067,47.083],[-68.311,47.3546],[-68.8288,47.2032],[-69.243,47.4629],[-70.0078,46.7088],[-70.2963,45.9062],[-70.898,45.2626],[-71.3272,45.2901],[-71.5175,45.0078],[-74.7088,45.0038]]],[[[-61.8011,49.094],[-62.2195,49.0791],[-63.5658,49.3994],[-64.1315,49.9416],[-62.8584,49.7055],[-61.8171,49.2835],[-61.8011,49.094]]],[[[-127.1973,50.6403],[-125.4821,50.3167],[-124.6429,49.4287],[-123.9959,49.2241],[-123.497,48.582],[-123.5946,48.3334],[-124.6893,48.5975],[-125.8285,49.0918],[-125.8354,49.2767],[-126.5485,49.4189],[-126.683,49.8764],[-127.1143,49.8797],[-128.2675,50.6092],[-127.9182,50.8605],[-127.1973,50.6403]]],[[[-55.4588,51.5365],[-55.8714,50.9073],[-56.6939,50.0597],[-55.7648,49.9605],[-55.892,49.5803],[-54.9827,49.268],[-54.579,49.4908],[-53.9577,49.4418],[-53.5733,49.1413],[-53.853,48.8112],[-53.5312,48.2317],[-52.955,48.0293],[-53.1756,47.6529],[-52.6536,47.5495],[-53.0697,46.6812],[-53.6164,46.6803],[-54.1737,46.8805],[-53.8692,47.387],[-54.8566,47.3848],[-56.2211,47.6716],[-56.9525,47.5743],[-58.3332,47.6769],[-59.1169,47.5708],[-59.3624,47.8655],[-58.7105,48.325],[-58.7165,48.598],[-58.0158,49.5426],[-57.4656,50.4636],[-56.7503,51.2748],[-56.0256,51.5685],[-55.4588,51.5365]]],[[[-80.7318,52.7472],[-81.8391,52.9579],[-81.8473,53.1862],[-81.1357,53.2058],[-80.7318,52.7472]]],[[[-132.6556,54.1275],[-131.7026,53.9864],[-132.0113,53.2653],[-132.7475,53.3105],[-133.0522,53.7782],[-132.6556,54.1275]]],[[[-78.9356,56.2662],[-79.1755,55.8851],[-80.0009,55.9322],[-79.5963,56.2444],[-78.9356,56.2662]]],[[[-79.5452,62.4117],[-79.324,62.0261],[-79.7144,61.6126],[-80.2652,61.8182],[-80.0215,62.3431],[-79.5452,62.4117]]],[[[-82.0004,62.9543],[-82.1138,62.6522],[-83.0158,62.2099],[-83.699,62.1602],[-83.8994,62.4765],[-83.3765,62.905],[-82.0004,62.9543]]],[[[-84.9197,65.261],[-83.4071,65.1039],[-82.0501,64.6442],[-81.7161,64.0219],[-80.829,64.09],[-80.3021,63.7622],[-81.0463,63.4615],[-82.3782,63.7067],[-82.4672,63.9269],[-83.4943,64.0993],[-83.7283,63.8135],[-84.6329,63.3092],[-85.4954,63.1392],[-85.7142,63.6579],[-87.1888,63.6723],[-86.252,64.1368],[-86.3743,64.5659],[-85.9617,65.7042],[-85.241,65.7954],[-84.9197,65.261]]],[[[-75.6758,68.3225],[-75.1538,68.234],[-75.1274,67.5373],[-75.7801,67.2836],[-77.0048,67.2669],[-77.3058,67.7062],[-76.7403,68.2313],[-75.6758,68.3225]]],[[[-97.4394,69.6427],[-96.2999,69.3444],[-95.6856,68.7358],[-96.4016,68.4708],[-97.472,68.5438],[-99.254,68.8632],[-99.5641,69.0341],[-97.4394,69.6427]]],[[[-74.7088,45.0038],[-75.1793,44.8994],[-76.4646,44.0574],[-76.82,43.6286],[-78.7205,43.625],[-79.1719,43.4666],[-79.0368,42.8025],[-80.2475,42.3662],[-81.2778,42.209],[-82.439,41.675],[-83.1419,41.976],[-83.0731,42.3005],[-82.5453,42.6245],[-82.1378,43.5709],[-82.5511,45.3473],[-83.5926,45.817],[-83.9777,46.0851],[-84.1921,46.5494],[-84.5617,46.4575],[-84.8759,46.9001],[-88.3782,48.3032],[-89.4556,47.996],[-90.8403,48.2007],[-91.5183,48.0582],[-92.9963,48.6117],[-93.3778,48.6166],[-93.7078,48.5256],[-94.6209,48.7427],[-95.162,48.9917],[-97.5297,48.9932],[-99.2354,48.993],[-102.2201,48.993],[-103.9256,48.993],[-106.4839,48.993],[-109.895,48.993],[-112.4532,48.993],[-115.8643,48.993],[-118.4226,48.993],[-120.1281,48.993],[-122.7888,48.993],[-123.0491,48.993],[-123.3356,49.4591],[-123.859,49.4829],[-124.4833,49.8082],[-125.21,50.4763],[-126.4045,50.5298],[-126.6318,50.9151],[-127.0577,50.8676],[-127.7082,51.1512],[-127.6449,51.4784],[-128.3576,52.1589],[-128.1088,52.858],[-128.6524,53.2437],[-129.2842,53.3931],[-129.5637,53.2515],[-130.3351,53.724],[-130.0433,54.1335],[-130.4304,54.4209],[-129.6666,55.4366],[-130.0251,55.8882],[-130.4772,56.2307],[-131.5752,56.5989],[-131.8661,56.7929],[-133.8208,58.7049],[-134.9439,59.2882],[-135.4759,59.7934],[-136.3219,59.6049],[-136.5787,59.1522],[-137.4385,58.9031],[-137.5932,59.2263],[-139.1852,60.0837],[-141.0021,60.3003],[-141.0021,63.2222],[-141.0021,65.56],[-141.0021,68.4819],[-141.0021,69.6509],[-139.1815,69.5155],[-138.1283,69.1519],[-136.7174,68.8891],[-135.8763,68.9169],[-135.6914,69.3111],[-135.1409,69.4678],[-133.1632,69.4338],[-130.4985,70.1431],[-128.9715,69.7123],[-127.765,70.2219],[-127.1385,70.2392],[-126.6122,69.7303],[-125.9073,69.4185],[-124.7679,69.99],[-123.6091,69.3774],[-123.0258,69.81],[-120.9624,69.6604],[-120.2925,69.4205],[-118.8687,69.2571],[-118.0953,69.043],[-116.0651,68.8554],[-115.6312,68.9726],[-114.4138,68.6597],[-115.1332,67.8191],[-112.4352,67.6849],[-110.9901,67.7907],[-110.0426,67.9772],[-109.6305,67.7328],[-108.5929,67.591],[-107.6263,67.0031],[-108.2611,68.1498],[-108.3134,68.6108],[-106.1646,68.9198],[-105.4286,68.4584],[-104.1935,68.0311],[-103.4741,68.115],[-102.692,67.8116],[-101.555,67.6931],[-100.4561,67.8396],[-99.1468,67.7237],[-98.4171,67.8265],[-98.2184,68.3174],[-97.2659,68.453],[-96.0361,68.1578],[-96.3714,67.5539],[-95.7826,67.1937],[-95.2588,67.2625],[-95.6505,67.7375],[-93.6517,68.5431],[-93.6814,68.8874],[-94.2707,69.4551],[-96.0503,69.8311],[-96.4924,70.1249],[-96.2265,70.5418],[-96.549,70.8088],[-96.4056,71.2737],[-95.2013,71.9036],[-94.3084,71.7649],[-92.9488,71.2622],[-92.9814,70.8523],[-91.5641,70.1782],[-92.751,69.7139],[-90.8221,69.2904],[-90.4683,68.8638],[-89.0567,69.266],[-88.0413,68.8117],[-87.8103,68.4042],[-88.347,68.2883],[-88.1958,67.7659],[-87.2663,67.1839],[-86.5363,67.5162],[-85.9526,68.0724],[-85.7338,68.6301],[-84.8622,69.074],[-85.3869,69.2318],[-85.5074,69.8453],[-82.6183,69.691],[-82.6421,69.4584],[-81.3286,69.12],[-81.2815,68.6572],[-82.5526,68.4464],[-81.9764,67.862],[-81.2702,67.4598],[-81.4675,67.0699],[-82.6416,66.5876],[-84.4784,66.1794],[-85.6039,66.5683],[-86.6331,66.5314],[-86.0429,66.0225],[-87.2914,65.3549],[-87.9701,65.3489],[-89.7494,65.9359],[-89.9241,65.7804],[-88.974,65.3482],[-87.0275,65.1982],[-87.2805,64.8262],[-88.1057,64.1832],[-88.653,64.0094],[-90.1418,63.9819],[-90.0135,63.8044],[-91.3301,63.5067],[-90.7466,63.3516],[-90.8711,62.9459],[-91.4491,62.8041],[-92.3613,62.8194],[-93.4206,61.7059],[-93.9127,61.4815],[-94.6467,60.4164],[-94.7858,59.9534],[-94.7135,58.9034],[-94.2871,58.716],[-93.2782,58.7564],[-92.249,57.009],[-91.1113,57.2412],[-90.5922,57.2246],[-89.7909,56.9813],[-88.9484,56.8512],[-88.0751,56.4673],[-87.5608,56.0565],[-85.8305,55.6569],[-85.061,55.2856],[-83.9107,55.3147],[-82.5775,55.1487],[-82.2195,54.8136],[-82.4181,54.3559],[-82.1413,53.8177],[-82.2605,52.9612],[-81.5994,52.4325],[-81.6613,52.2938],[-80.6579,51.7582],[-80.368,51.3299],[-79.8362,51.1734],[-79.4975,51.5698],[-78.9777,51.7338],[-78.4917,52.2521],[-78.7238,52.6278],[-79.2418,54.0989],[-79.6655,54.6975],[-77.8911,55.2364],[-77.3249,55.5555],[-76.6504,56.1073],[-76.5729,57.1813],[-77.1569,58.0189],[-78.5152,58.6823],[-77.7606,59.3801],[-77.3118,60.0424],[-77.8715,60.7859],[-77.7362,61.4373],[-78.1372,62.1074],[-78.0682,62.3555],[-77.3724,62.5726],[-74.69,62.1835],[-73.6299,62.4543],[-72.0814,61.7283],[-71.4227,61.159],[-70.2792,61.0687],[-69.6405,60.6898],[-69.7559,60.3886],[-69.682,59.3417],[-69.1735,58.8967],[-68.6981,58.9045],[-67.5697,58.2135],[-66.608,58.5489],[-65.6061,59.1107],[-64.9312,60.2519],[-64.4995,60.2683],[-63.1854,58.8579],[-62.5939,58.4741],[-62.3056,57.9723],[-61.899,57.8613],[-61.851,57.3812],[-61.3337,57.0106],[-61.5146,56.3903],[-59.9303,55.2594],[-58.997,55.1494],[-58.7802,54.8384],[-58.1951,54.8659],[-57.4046,54.5705],[-58.1514,54.3504],[-57.4161,54.1628],[-57.1489,53.8476],[-56.4651,53.7651],[-55.7979,53.212],[-55.8336,52.3104],[-55.6951,52.1378],[-56.976,51.4577],[-58.5103,51.295],[-59.1655,50.7799],[-60.0801,50.2546],[-61.2897,50.202],[-62.7155,50.3016],[-64.868,50.2754],[-65.2686,50.32],[-66.4955,50.2119],[-66.9411,49.9938],[-67.3719,49.3486],[-68.2819,49.1972],[-68.9291,48.829],[-69.775,48.0981],[-69.9055,47.8322],[-70.7058,47.1398],[-71.2678,46.7958],[-71.8797,46.687],[-72.981,46.2098],[-73.974,45.3451],[-74.7088,45.0038]]],[[[-114.5215,72.593],[-113.5001,72.6944],[-112.7537,72.986],[-111.2698,72.7137],[-108.7549,72.551],[-107.72,73.329],[-106.4822,73.1962],[-105.415,72.7883],[-104.3495,71.434],[-104.5697,71.1039],[-103.9535,70.7626],[-100.9732,70.0295],[-100.9351,69.7152],[-102.2343,69.8422],[-102.9197,69.5648],[-101.9756,69.4069],[-101.857,69.0239],[-103.4681,68.8086],[-105.0195,69.0814],[-106.1408,69.1621],[-106.6591,69.4396],[-107.4399,69.0021],[-108.946,68.7598],[-111.3108,68.542],[-113.1277,68.4941],[-113.6941,69.195],[-116.5135,69.4247],[-117.1354,70.1001],[-114.5923,70.3125],[-112.6378,70.2253],[-112.1143,70.4468],[-113.7573,70.6907],[-115.991,70.5864],[-117.587,70.6296],[-118.2642,70.8882],[-117.8141,71.1585],[-118.8683,71.6868],[-118.9447,71.9855],[-118.2136,72.2629],[-118.3745,72.5339],[-117.5517,72.8311],[-114.6382,73.3727],[-114.1091,72.8611],[-114.5215,72.593]]]]},properties:{name:"Canada",id:"CA"},id:"CA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[22.86,10.9195],[23.2559,10.4579],[23.6461,9.8231],[23.5374,8.8159],[24.1473,8.6654],[24.2915,8.2912],[24.8535,8.1376],[25.2472,7.7244],[25.3809,7.3333],[25.8891,7.0647],[26.3619,6.6355],[26.5141,6.0691],[27.0836,5.777],[27.4032,5.1094],[27.1151,5.1977],[26.8222,5.0623],[25.5251,5.3123],[25.2495,5.0246],[24.7656,4.9301],[24.32,4.994],[23.4171,4.6633],[22.7557,4.6469],[22.4223,4.1351],[21.5376,4.2447],[20.558,4.4627],[20.2264,4.8297],[19.8065,5.0894],[19.5011,5.1276],[19.0687,4.8915],[18.5676,4.2576],[18.6102,3.4785],[18.161,3.4998],[17.4379,3.6845],[16.6735,3.5354],[16.4684,2.8318],[16.1834,2.2703],[16.0636,2.9086],[15.775,3.127],[15.1287,3.827],[15.0226,4.3583],[14.7088,4.6655],[14.6169,5.8649],[14.7394,6.2799],[15.2459,7.2636],[15.4803,7.5237],[15.8452,7.4753],[16.3787,7.6835],[16.7849,7.5508],[17.6496,7.9836],[18.4553,8.032],[19.1087,8.6561],[19.1455,9.0161],[20.3422,9.1271],[20.7733,9.4058],[21.2638,9.9745],[21.7258,10.3664],[21.7063,10.5746],[22.4938,10.9963],[22.86,10.9195]]]},properties:{name:"Central African Republic",id:"CF"},id:"CF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[5.6938,50.7748],[5.7972,50.7546],[5.9939,50.7504],[6.3645,50.3163],[6.1164,50.1209],[5.744,49.9196],[5.7897,49.5383],[4.8677,49.788],[4.1744,50.2466],[2.8396,50.7118],[2.5249,51.0971],[3.35,51.3776],[3.9023,51.2076],[4.2263,51.3865],[4.5033,51.4746],[5.827,51.1257],[5.6938,50.7748]]]},properties:{name:"Belgium",id:"BE"},id:"BE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[25.2588,-17.7936],[25.2242,-17.9153],[25.7613,-18.6495],[26.1683,-19.5381],[26.6784,-19.8928],[27.2217,-20.1458],[27.2807,-20.4788],[27.6997,-20.5307],[27.6696,-21.0642],[28.0455,-21.5729],[29.0372,-21.8113],[29.3648,-22.194],[28.8397,-22.4807],[28.2102,-22.6938],[27.8906,-23.0737],[27.1462,-23.5243],[26.835,-24.2407],[26.3974,-24.6136],[25.9122,-24.7477],[25.5837,-25.6062],[24.7483,-25.8174],[23.8938,-25.6008],[23.2662,-25.2666],[22.8786,-25.4579],[22.6403,-26.0714],[22.0907,-26.5801],[21.6464,-26.8544],[20.74,-26.849],[20.6268,-26.4438],[20.7932,-25.9155],[20.3453,-25.03],[19.9805,-24.777],[19.9774,-22],[20.9708,-22],[20.9779,-20.9684],[20.9739,-18.3188],[23.2986,-18.0276],[23.5804,-18.4528],[24.359,-17.9783],[25.2588,-17.7936]]]},properties:{name:"Botswana",id:"BW"},id:"BW"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[91.6317,27.7599],[91.5949,27.5575],[92.0836,27.2907],[91.9984,26.8548],[90.7395,26.7718],[90.3458,26.8903],[89.7638,26.7016],[88.8579,26.9613],[88.8912,27.316],[89.537,28.1075],[89.9809,28.3112],[90.3529,28.0804],[91.6056,27.9516],[91.6317,27.7599]]]},properties:{name:"Bhutan",id:"BT"},id:"BT"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[115.0266,4.8999],[114.7465,4.7179],[114.8402,4.3934],[114.6085,4.0241],[114.0638,4.5927],[114.2995,4.6074],[115.0266,4.8999],[115.1398,4.8999],[115.0266,4.8999]]]},properties:{name:"Brunei",id:"BN"},id:"BN"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-59.4933,13.0822],[-59.6114,13.1021],[-59.5916,13.3179],[-59.4276,13.1527],[-59.4933,13.0822]]]},properties:{name:"Barbados",id:"BB"},id:"BB"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-51.8326,-1.4336],[-51.5461,-.6497],[-51.1608,-.6665],[-51.2764,-1.0216],[-51.8326,-1.4336]]],[[[-49.6287,-.2293],[-49.1169,-.1636],[-48.3798,-.3527],[-48.5396,-.801],[-48.9289,-1.4824],[-49.5878,-1.7123],[-50.5076,-1.7878],[-50.7597,-1.2405],[-50.7713,-.6452],[-50.6454,-.2728],[-50.2481,-.1165],[-49.6287,-.2293]]],[[[-56.4828,1.9422],[-56.0198,1.8424],[-56.1295,2.2996],[-55.0058,2.593],[-54.6163,2.3266],[-54.13,2.1211],[-53.7678,2.3551],[-52.9648,2.1837],[-52.7006,2.3635],[-51.9906,3.7018],[-51.6526,4.0614],[-51.2198,4.0938],[-51.0525,3.2819],[-50.659,2.1309],[-50.459,1.8295],[-49.9572,1.6599],[-49.8988,1.1628],[-50.2945,.8356],[-50.8163,.1724],[-51.2829,-.085],[-51.7026,-.7624],[-51.9476,-1.5867],[-51.2973,-1.2236],[-50.9177,-1.1153],[-50.69,-1.7616],[-50.4033,-2.0155],[-49.9991,-1.8317],[-49.7195,-1.9263],[-49.3137,-1.7319],[-48.9913,-1.83],[-48.115,-.7375],[-47.3981,-.6266],[-46.8113,-.7797],[-46.6173,-.9706],[-46.2192,-1.0314],[-45.6448,-1.3479],[-45.0764,-1.4664],[-44.6513,-1.7456],[-44.3082,-2.5353],[-43.9329,-2.5832],[-42.9368,-2.4652],[-42.2496,-2.7919],[-41.8761,-2.7466],[-41.3181,-2.9361],[-40.4745,-2.7954],[-39.9647,-2.8616],[-38.4757,-3.7174],[-38.0489,-4.2163],[-37.1746,-4.9123],[-36.5907,-5.0975],[-35.9799,-5.0544],[-35.5493,-5.1294],[-35.2355,-5.5666],[-34.9882,-6.3936],[-34.8056,-7.2885],[-34.8347,-7.9717],[-35.1578,-8.9305],[-35.3409,-9.2305],[-36.3983,-10.4841],[-36.9378,-10.8206],[-37.4119,-11.497],[-37.6887,-12.0998],[-38.2397,-12.8443],[-38.788,-12.7826],[-38.8352,-13.147],[-39.0894,-13.5882],[-38.9422,-14.0308],[-39.0596,-14.6549],[-38.8805,-15.8645],[-39.2152,-17.3156],[-39.1539,-17.704],[-39.4869,-17.9903],[-39.7399,-18.6397],[-39.6999,-19.278],[-40.0013,-19.7419],[-40.396,-20.5693],[-40.7892,-20.9062],[-41.0471,-21.5059],[-41.1226,-22.0843],[-41.7054,-22.3098],[-41.9804,-22.5806],[-42.0424,-22.9472],[-42.9583,-22.9672],[-43.5327,-23.0462],[-43.8661,-22.9104],[-44.6373,-23.0555],[-45.4233,-23.6854],[-45.9721,-23.7955],[-46.8672,-24.2363],[-47.8766,-24.9976],[-48.5451,-25.8161],[-48.6776,-26.703],[-48.5542,-27.1962],[-48.6208,-28.0755],[-48.7997,-28.5753],[-49.2714,-28.871],[-49.7461,-29.3633],[-50.2994,-30.4259],[-51.1572,-30.3642],[-51.4637,-31.0527],[-51.9724,-31.3839],[-52.1935,-31.8854],[-52.1274,-32.1678],[-52.6523,-33.1377],[-53.3707,-33.7422],[-53.5314,-33.171],[-53.1254,-32.7368],[-53.6017,-32.403],[-53.7618,-32.0568],[-54.2205,-31.8553],[-54.5876,-31.4851],[-55.2546,-31.2258],[-55.5573,-30.876],[-55.8736,-31.0696],[-56.1761,-30.6283],[-56.8328,-30.1072],[-57.2144,-30.2834],[-57.609,-30.188],[-56.9387,-29.595],[-55.7255,-28.2043],[-55.1014,-27.8669],[-54.8291,-27.5508],[-54.3271,-27.4234],[-53.8381,-27.1212],[-53.6712,-26.2249],[-53.8912,-25.6687],[-54.1546,-25.5231],[-54.6158,-25.576],[-54.4731,-25.2204],[-54.2418,-24.0472],[-54.6254,-23.8124],[-55.3662,-23.9913],[-55.6541,-22.8105],[-55.8492,-22.3076],[-56.5239,-22.1025],[-56.9374,-22.2712],[-57.9856,-22.0461],[-57.8303,-20.9981],[-58.1598,-20.1645],[-58.1314,-19.7446],[-57.8005,-19.0809],[-57.5741,-18.2793],[-57.8325,-17.5122],[-58.396,-17.2343],[-58.538,-16.3284],[-60.1756,-16.2693],[-60.299,-14.6185],[-60.5065,-13.7897],[-61.0769,-13.4897],[-61.79,-13.5256],[-62.176,-13.1337],[-62.7654,-12.9974],[-63.0675,-12.6694],[-63.5858,-12.5189],[-64.4205,-12.4399],[-64.5135,-12.2508],[-64.9925,-11.9751],[-65.39,-11.2462],[-65.334,-10.8929],[-65.4368,-10.449],[-65.3132,-10.2533],[-65.3962,-9.7126],[-66.2635,-9.8262],[-66.7301,-9.9754],[-67.5824,-10.5058],[-68.0717,-10.7029],[-68.398,-11.0185],[-69.5785,-10.9519],[-70.2202,-11.0478],[-70.6423,-11.0101],[-70.637,-9.4782],[-71.238,-9.9661],[-72.1815,-10.0038],[-72.379,-9.5102],[-73.2093,-9.4116],[-72.9741,-8.993],[-73.5491,-8.3459],[-74.0021,-7.5562],[-73.7496,-7.3356],[-73.758,-6.9059],[-73.1374,-6.466],[-73.2355,-6.0984],[-72.9799,-5.635],[-72.8871,-5.1228],[-72.6987,-5.0673],[-71.8448,-4.5044],[-70.9737,-4.3504],[-70.7995,-4.1733],[-69.9658,-4.2359],[-69.6691,-2.6676],[-69.4003,-1.1948],[-69.6675,-.4823],[-70.0706,-.1387],[-70.0539,.5786],[-69.1633,.864],[-69.3615,1.0642],[-69.8522,1.0593],[-69.8486,1.7087],[-68.1765,1.7198],[-67.8152,1.79],[-67.352,2.0861],[-66.8761,1.2231],[-66.4293,.8218],[-66.06,.7854],[-65.6814,.9834],[-65.3609,.8685],[-65.1037,1.1082],[-64.1149,1.6191],[-64.0354,1.9045],[-63.394,2.2223],[-63.3893,2.4119],[-63.9242,2.4523],[-64.2188,3.2047],[-64.2212,3.5873],[-64.5679,3.8998],[-64.2556,4.1404],[-64.0214,3.9291],[-63.2948,3.9224],[-62.9685,3.594],[-62.7122,4.0179],[-62.1531,4.0982],[-61.0028,4.5354],[-60.6046,4.9944],[-60.7422,5.2022],[-60.142,5.239],[-59.9907,5.0828],[-60.1112,4.511],[-59.8333,4.476],[-59.5512,3.9335],[-59.8544,3.5873],[-59.9942,2.6902],[-59.7552,2.2743],[-59.7563,1.9005],[-59.2312,1.3758],[-58.8625,1.2036],[-58.5119,1.2848],[-58.3407,1.5876],[-57.5943,1.7043],[-57.1189,2.0141],[-56.8368,1.8814],[-56.4828,1.9422]]]]},properties:{name:"Brazil",id:"BR"},id:"BR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-58.1598,-20.1645],[-58.1803,-19.8178],[-59.0905,-19.286],[-60.0073,-19.2976],[-61.7569,-19.6451],[-61.917,-20.0553],[-62.2763,-20.5627],[-62.2767,-21.066],[-62.6509,-22.2339],[-62.8434,-21.9973],[-63.8186,-22.0053],[-63.9762,-22.0728],[-64.3739,-22.7612],[-64.6056,-22.229],[-65.0579,-22.103],[-65.771,-22.0994],[-66.0986,-21.8353],[-66.3652,-22.1136],[-66.7117,-22.2161],[-67.1948,-22.8216],[-67.8795,-22.8229],[-67.9883,-22.0572],[-68.1969,-21.3004],[-68.4999,-20.6119],[-68.7451,-20.4588],[-68.6983,-19.721],[-68.4628,-19.4329],[-68.9684,-18.9682],[-69.094,-18.0507],[-69.3133,-17.9432],[-69.5108,-17.506],[-69.6249,-17.2002],[-69.0208,-16.6422],[-68.9134,-16.2618],[-69.2176,-16.149],[-69.4185,-15.6035],[-69.1726,-15.2368],[-69.3748,-14.963],[-69.235,-14.5972],[-68.8803,-14.199],[-69.0741,-13.6828],[-68.9786,-12.8802],[-68.6852,-12.502],[-69.5785,-10.9519],[-68.398,-11.0185],[-68.0717,-10.7029],[-67.5824,-10.5058],[-66.7301,-9.9754],[-66.2635,-9.8262],[-65.3962,-9.7126],[-65.3132,-10.2533],[-65.4368,-10.449],[-65.334,-10.8929],[-65.39,-11.2462],[-64.9925,-11.9751],[-64.5135,-12.2508],[-64.4205,-12.4399],[-63.5858,-12.5189],[-63.0675,-12.6694],[-62.7654,-12.9974],[-62.176,-13.1337],[-61.79,-13.5256],[-61.0769,-13.4897],[-60.5065,-13.7897],[-60.299,-14.6185],[-60.1756,-16.2693],[-58.538,-16.3284],[-58.396,-17.2343],[-57.8325,-17.5122],[-57.5741,-18.2793],[-57.8005,-19.0809],[-58.1314,-19.7446],[-58.1598,-20.1645]]]},properties:{name:"Bolivia",id:"BO"},id:"BO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-64.7303,32.2934],[-64.8202,32.2596],[-64.6946,32.387],[-64.7303,32.2934]]]},properties:{name:"Bermuda",id:"BM"},id:"BM"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-88.8941,15.8907],[-89.2374,15.8942],[-89.1615,17.8149],[-88.8064,17.9654],[-88.523,18.4457],[-88.2957,18.4723],[-88.0973,18.1217],[-88.2717,17.6098],[-88.3134,16.6328],[-88.8941,15.8907]]]},properties:{name:"Belize",id:"BZ"},id:"BZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[28.1481,56.143],[28.7948,55.9426],[29.375,55.9386],[29.4824,55.6845],[30.2335,55.8452],[30.9069,55.5699],[31.1213,54.6484],[31.4036,54.1959],[31.792,54.0558],[32.7042,53.3363],[32.1422,53.0913],[31.4178,53.196],[31.5771,52.3122],[31.7636,52.1012],[30.9806,52.0461],[30.5331,51.5964],[29.3466,51.3825],[29.1357,51.6173],[28.5991,51.5427],[27.2701,51.6135],[27.1422,51.752],[25.9251,51.9136],[24.3617,51.8674],[23.6053,51.5179],[23.6523,52.0403],[23.1969,52.257],[23.8445,52.6642],[23.8872,53.0276],[23.4845,53.9398],[24.7683,53.9746],[25.5473,54.3317],[25.8594,54.9192],[26.175,55.0033],[26.5936,55.6676],[27.5768,55.7988],[28.1481,56.143]]]},properties:{name:"Belarus",id:"BY"},id:"BY"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-62.832,17.8766],[-62.8655,17.9184],[-62.7996,17.9086],[-62.832,17.8766]]]},properties:{name:"Saint Barthelemy",id:"BL"},id:"BL"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-77.7439,24.7072],[-78.0449,24.2873],[-78.2988,24.7538],[-78.0333,25.1431],[-77.7439,24.7072]]],[[[-77.2257,25.904],[-77.4032,26.0247],[-77.2468,26.1565],[-77.2062,26.489],[-77.0384,26.3332],[-77.1673,26.2404],[-77.2257,25.904]]]]},properties:{name:"Bahamas",id:"BS"},id:"BS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[50.6072,25.8831],[50.4661,25.9657],[50.4523,26.1907],[50.6099,26.1246],[50.6072,25.8831]]]},properties:{name:"Bahrain",id:"BH"},id:"BH"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[19.007,44.8693],[19.3568,44.8586],[19.1517,44.3024],[19.4882,43.7036],[19.1943,43.5331],[18.9404,43.4967],[18.4437,42.9685],[18.4362,42.5597],[17.6678,42.897],[17.5852,42.9383],[17.6247,43.0426],[16.214,44.215],[15.7369,44.7658],[15.7879,45.1791],[16.2935,45.0086],[16.5305,45.2168],[17.8129,45.0779],[18.6625,45.0774],[19.007,44.8693]]]},properties:{name:"Bosnia and Herzegovina",id:"BA"},id:"BA"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[28.5853,43.7422],[28.4655,43.3893],[27.9288,43.186],[27.8888,42.7497],[27.4849,42.4683],[28.0145,41.9689],[27.2949,42.0794],[26.6153,41.9649],[26.321,41.7167],[26.1355,41.3856],[25.2512,41.2436],[24.0558,41.5272],[23.635,41.3869],[22.9159,41.3363],[23.0056,41.7172],[22.8369,41.9937],[22.3442,42.3138],[22.4667,42.8425],[22.9767,43.1878],[22.5546,43.4546],[22.421,44.0077],[22.7051,44.2376],[23.2244,43.8741],[25.4972,43.6708],[26.2158,44.0072],[27.0867,44.1675],[28.5853,43.7422]]]},properties:{name:"Bulgaria",id:"BG"},id:"BG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[92.575,21.9782],[92.5937,21.4673],[92.1795,21.2933],[92.3242,20.7917],[92.0561,21.1747],[92.0082,21.6848],[91.693,22.5046],[91.4094,22.7972],[90.9455,22.597],[90.6334,23.0941],[90.435,22.7519],[90.5895,22.2583],[90.1589,21.8171],[89.8118,21.9835],[89.2343,21.7225],[89.0514,22.0932],[88.7407,23.4368],[88.5671,23.6743],[88.7336,24.2309],[88.1454,24.4857],[88.4561,25.1884],[88.4521,25.5746],[88.0846,25.8884],[88.4402,26.3696],[89.1082,26.2023],[89.2893,26.0376],[89.8229,25.9413],[89.814,25.3052],[90.4394,25.1578],[92.0499,25.1693],[92.2514,24.895],[91.8768,24.1954],[91.3672,24.0933],[91.1603,23.6605],[91.3152,23.1043],[91.6198,22.9796],[91.938,23.5047],[92.2461,23.6836],[92.3615,22.929],[92.4916,22.6853],[92.575,21.9782]]]},properties:{name:"Bangladesh",id:"BD"},id:"BD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[.2175,14.9114],[.1638,14.4973],[.6183,13.7036],[.9779,13.5518],[.9872,13.0418],[1.5652,12.6356],[2.0739,12.7142],[2.0912,12.2778],[2.389,11.897],[1.9802,11.4184],[1.4267,11.4473],[.9007,10.9932],[-.0686,11.1157],[-.7014,10.9888],[-2.8298,10.9985],[-2.9148,10.5924],[-2.7865,10.4019],[-2.6958,9.4813],[-3.2235,9.8954],[-3.8776,9.895],[-4.6258,9.7134],[-4.9698,9.9301],[-5.0999,10.2417],[-5.5236,10.4259],[-5.4905,11.0425],[-5.2999,11.2058],[-5.2881,11.8277],[-4.798,12.0319],[-4.4287,12.3377],[-4.4807,12.6724],[-4.2272,12.7936],[-4.3286,13.119],[-4.0512,13.3822],[-3.5758,13.194],[-3.3017,13.2806],[-3.1985,13.673],[-2.4572,14.274],[-2.1132,14.1684],[-1.7678,14.4862],[-1.0496,14.8195],[-.7604,15.0477],[-.2359,15.0592],[.2175,14.9114]]]},properties:{name:"Burkina Faso",id:"BF"},id:"BF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[3.5955,11.6963],[3.4877,11.3954],[3.7163,11.0797],[3.8343,10.6074],[3.5764,10.2683],[3.5573,9.9074],[3.3252,9.7783],[3.0451,9.084],[2.7748,9.0485],[2.686,7.874],[2.7748,6.7119],[2.7064,6.3692],[1.6224,6.2169],[1.6002,9.0498],[1.4244,9.2851],[1.3299,9.9971],[.7799,10.3598],[.9007,10.9932],[1.4267,11.4473],[1.9802,11.4184],[2.389,11.897],[2.3659,12.2219],[2.8782,12.3679],[3.5955,11.6963]]]},properties:{name:"Benin",id:"BJ"},id:"BJ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[30.5535,-2.3999],[30.5149,-2.9175],[30.7901,-3.2744],[30.4252,-3.5891],[30.1469,-4.0854],[29.7177,-4.456],[29.4034,-4.4494],[29.2232,-3.9109],[29.2245,-3.0533],[29.0146,-2.7204],[29.3901,-2.8087],[29.8682,-2.7164],[29.9303,-2.3396],[30.5535,-2.3999]]]},properties:{name:"Burundi",id:"BI"},id:"BI"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[48.5729,41.8446],[49.1064,41.3017],[49.2263,41.026],[49.7758,40.5839],[49.3244,39.6083],[49.363,39.3495],[49.0137,39.1342],[48.8685,38.4355],[48.5929,38.4111],[48.0233,38.819],[48.2422,38.9788],[47.9958,39.6842],[47.773,39.6486],[46.4906,38.9065],[46.5501,39.2012],[45.7897,39.8812],[45.9646,40.2337],[45.376,40.6381],[45.5877,40.8467],[45.0013,41.291],[45.281,41.4495],[46.4577,41.07],[46.6189,41.3439],[46.1821,41.6573],[46.4298,41.8907],[46.7494,41.8126],[47.2612,41.315],[47.8609,41.2129],[48.5729,41.8446]]],[[[46.1146,38.8776],[45.4798,39.0063],[44.8171,39.6504],[44.7683,39.7037],[45.0315,39.7649],[45.7662,39.3783],[46.1146,38.8776]]]]},properties:{name:"Azerbaijan",id:"AZ"},id:"AZ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[16.9531,48.5988],[17.1475,48.0058],[16.4342,47.3675],[16.4533,47.0066],[16.0929,46.8632],[15.9575,46.6777],[15.0009,46.6262],[14.5037,46.4171],[13.6998,46.5201],[12.3881,46.7025],[12.1542,46.9351],[11.2442,46.9755],[11.0249,46.7971],[10.4528,46.865],[9.5801,47.0572],[9.5277,47.2707],[9.5241,47.5242],[10.3129,47.3133],[10.4306,47.541],[11.2979,47.4247],[11.717,47.5837],[12.686,47.6693],[12.8143,48.1607],[13.4095,48.3942],[13.8148,48.7669],[14.0492,48.6024],[14.6915,48.5993],[14.972,48.9839],[16.0573,48.7549],[16.4777,48.8001],[16.9531,48.5988]]]},properties:{name:"Austria",id:"AT"},id:"AT"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[145.0431,-40.7868],[145.2832,-40.7699],[146.3175,-41.1637],[146.99,-40.9923],[147.4547,-41.0017],[147.9687,-40.7797],[148.2928,-40.9471],[148.3017,-42.0399],[147.9244,-42.5726],[147.9807,-43.1572],[147.4081,-42.894],[146.8741,-43.6126],[146.0431,-43.5474],[145.2681,-42.5442],[145.2384,-42.0195],[144.778,-41.4189],[144.6462,-40.9808],[145.0431,-40.7868]]],[[[137.5963,-35.7384],[137.4485,-36.0749],[136.7551,-36.0332],[136.6388,-35.7491],[137.334,-35.5924],[137.5963,-35.7384]]],[[[136.7147,-13.8039],[136.8945,-14.2931],[136.3632,-14.2288],[136.4249,-13.8648],[136.7147,-13.8039]]],[[[130.6188,-11.3763],[131.2682,-11.1899],[131.5385,-11.4367],[130.9508,-11.9263],[130.645,-11.7425],[130.6188,-11.3763]]],[[[143.1787,-11.9547],[143.1103,-12.3036],[143.4015,-12.6401],[143.5866,-13.4435],[143.5485,-13.7409],[143.7562,-14.349],[143.9617,-14.4627],[144.4731,-14.2319],[144.648,-14.4924],[145.2876,-14.943],[145.2717,-15.4765],[145.4581,-16.0563],[145.4261,-16.406],[145.902,-17.0701],[146.1257,-17.6352],[146.0325,-18.2731],[146.3334,-18.5536],[146.4813,-19.0787],[147.1387,-19.393],[147.4183,-19.3783],[147.9155,-19.8693],[148.7593,-20.2897],[148.6839,-20.5804],[149.205,-21.1251],[149.7039,-22.4408],[150.0763,-22.1647],[150.5415,-22.5593],[150.7639,-22.5761],[150.8429,-23.4582],[151.1537,-23.784],[151.9025,-24.2008],[152.1298,-24.5976],[152.4565,-24.8023],[152.9137,-25.4321],[153.1649,-25.9644],[153.0842,-26.3039],[153.117,-27.1944],[153.5755,-28.2407],[153.6044,-28.8546],[153.3483,-29.2905],[153.2724,-29.8924],[153.0304,-30.5635],[152.9439,-31.4349],[152.5595,-32.0457],[152.4703,-32.439],[151.8128,-32.9011],[151.4839,-33.3476],[151.2313,-34.0294],[150.9601,-34.2971],[150.6902,-35.1778],[150.1953,-35.8334],[149.9605,-36.8455],[149.9325,-37.5286],[149.2986,-37.8021],[148.2626,-37.8309],[147.3957,-38.2189],[146.8568,-38.6632],[145.9353,-38.9016],[145.791,-38.6668],[144.6653,-38.21],[143.5391,-38.8208],[142.6123,-38.4515],[141.725,-38.2713],[141.4244,-38.3636],[141.0112,-38.0769],[140.6272,-38.0285],[139.7843,-37.2459],[139.8575,-36.6622],[139.5486,-36.0967],[139.0376,-35.6892],[138.1845,-35.6128],[138.5112,-35.0242],[138.4899,-34.7636],[138.0895,-34.1697],[137.6918,-35.1432],[136.8834,-35.2399],[137.0144,-34.9159],[137.3908,-34.9132],[137.4938,-34.1613],[137.9319,-33.5789],[137.8524,-33.2007],[137.4423,-33.1936],[137.2372,-33.6295],[136.4307,-34.0299],[135.6476,-34.9394],[135.1855,-33.9069],[134.7909,-33.3285],[134.3013,-33.1652],[134.1002,-32.7488],[134.2343,-32.5486],[133.5511,-32.1829],[133.212,-32.1837],[132.7575,-31.956],[132.2146,-32.0071],[131.7214,-31.6964],[131.1435,-31.4957],[130.783,-31.604],[130.1296,-31.5792],[128.9462,-31.7026],[128.0677,-32.0666],[127.3198,-32.2641],[125.9171,-32.2969],[124.759,-32.8829],[124.126,-33.1292],[123.6506,-33.8364],[123.2076,-33.9882],[122.7774,-33.891],[122.1511,-33.9917],[121.4054,-33.8266],[119.854,-33.9748],[119.4505,-34.3681],[118.8951,-34.48],[118.1356,-34.9865],[117.5817,-35.0979],[116.5172,-34.9878],[115.9868,-34.7952],[115.7262,-34.5262],[115.0089,-34.2558],[115.1815,-33.6433],[115.5154,-33.5314],[115.6831,-33.1927],[115.6982,-31.6946],[115.1767,-30.8081],[114.9947,-30.2164],[114.9592,-29.4334],[114.5375,-28.5429],[114.165,-28.0808],[114.0283,-27.3471],[113.5818,-26.5583],[113.853,-26.3319],[113.5889,-26.0984],[113.5396,-25.6252],[114.2156,-26.2893],[114.2143,-25.8516],[113.671,-24.9772],[113.4175,-24.4356],[113.5529,-23.7329],[113.7571,-23.4182],[113.683,-22.6378],[113.9586,-21.9392],[114.1637,-22.3231],[114.3777,-22.3413],[114.8588,-21.7359],[115.4563,-21.4917],[116.0107,-21.0305],[116.7068,-20.6536],[117.4063,-20.7211],[118.1991,-20.3753],[118.7513,-20.2617],[119.1047,-19.9954],[119.5858,-20.0384],[120.8785,-19.6651],[121.4937,-19.1067],[121.8337,-18.4772],[122.2372,-17.9685],[122.1604,-17.3138],[122.7202,-16.7878],[122.9705,-16.4367],[123.5254,-17.4856],[123.778,-16.8677],[123.4903,-16.4908],[124.577,-16.1135],[124.3817,-15.758],[124.8389,-15.1609],[125.2432,-14.9448],[125.1789,-14.7148],[125.6814,-14.3881],[126.0209,-14.4946],[126.1115,-14.1142],[126.5696,-14.1608],[126.9034,-13.744],[127.6727,-14.195],[128.1996,-14.7517],[129.4589,-14.9332],[129.7536,-14.7894],[129.3785,-14.3926],[129.7097,-13.9802],[129.8389,-13.5731],[130.2597,-13.3024],[130.1682,-12.9574],[130.3999,-12.688],[130.898,-12.5238],[131.0458,-12.1895],[131.4382,-12.277],[132.3722,-12.2392],[132.5839,-12.1101],[132.6829,-11.5055],[133.0247,-11.4527],[133.1854,-11.7057],[133.904,-11.8322],[134.2369,-12.008],[134.7301,-11.9844],[135.2179,-12.2215],[135.7883,-11.9072],[136.0818,-12.4226],[136.5403,-11.9578],[136.9473,-12.3498],[136.5372,-12.7843],[136.5945,-13.0036],[135.9273,-13.3041],[135.9894,-13.8102],[135.8833,-14.1533],[135.4053,-14.7583],[135.5309,-15.0002],[136.2052,-15.4033],[136.7844,-15.8942],[137.0019,-15.8783],[137.7037,-16.2329],[138.2448,-16.7181],[139.0097,-16.8992],[139.2485,-17.3285],[140.0359,-17.7027],[140.5114,-17.6245],[140.8305,-17.4146],[141.2189,-16.6462],[141.412,-16.0696],[141.6255,-15.0566],[141.523,-14.4702],[141.5945,-14.1528],[141.4724,-13.7977],[141.6455,-13.2593],[141.6779,-12.4914],[141.9513,-11.8961],[142.1684,-10.9466],[142.4565,-10.7074],[142.8369,-11.3071],[142.8724,-11.8215],[143.1787,-11.9547]]]]},properties:{name:"Australia",id:"AU"},id:"AU"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[69.185,-49.1093],[69.9157,-49.3486],[69.6129,-49.6509],[68.8721,-49.4445],[69.185,-49.1093]]]},properties:{name:"French Southern and Antarctic Lands",id:"TF"},id:"TF"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-59.7339,-80.3442],[-60.5828,-80.9484],[-64.2683,-80.7486],[-65.9801,-80.3846],[-62.5189,-80.3736],[-61.3432,-79.8866],[-59.7064,-79.8755],[-59.7339,-80.3442]]],[[[-159.053,-79.8076],[-161.8655,-79.7037],[-164.2259,-79.3206],[-163.2562,-78.7223],[-161.6431,-78.9012],[-159.6842,-79.4023],[-159.053,-79.8076]]],[[[-70.334,-79.6797],[-71.7836,-79.4445],[-70.544,-78.8838],[-67.4785,-78.3627],[-66.7281,-78.3836],[-69.2509,-79.2101],[-70.334,-79.6797]]],[[[-45.2226,-78.8106],[-43.722,-78.8186],[-42.9654,-79.4769],[-43.5278,-80.1916],[-49.1875,-80.643],[-49.773,-80.7842],[-54.1626,-80.8703],[-53.4823,-80.1889],[-52.2971,-80.1414],[-50.3391,-79.4796],[-50.7331,-79.2829],[-50.2197,-78.6051],[-49.0811,-78.0476],[-46.8257,-77.7852],[-45.5302,-77.8815],[-43.8086,-78.2864],[-43.9473,-78.5975],[-45.2226,-78.8106]]],[[[-120.5562,-73.756],[-120.2726,-73.9891],[-121.0625,-74.3375],[-122.8591,-74.3428],[-122.6247,-73.9655],[-123.1121,-73.6823],[-120.5562,-73.756]]],[[[-126.3299,-73.2864],[-124.9933,-73.8297],[-124.8731,-74.2083],[-127.4143,-73.5163],[-126.3299,-73.2864]]],[[[-74.3544,-73.0986],[-74.5748,-73.6113],[-75.9009,-73.3325],[-75.3769,-72.8203],[-74.3544,-73.0986]]],[[[-91.1608,-73.1821],[-91.6699,-72.6236],[-90.8072,-72.6108],[-91.1608,-73.1821]]],[[[-98.0911,-71.9125],[-96.8695,-71.8508],[-95.6095,-72.0683],[-96.0518,-72.5775],[-98.4078,-72.5477],[-100.1951,-72.2725],[-102.2647,-72.1354],[-102.128,-71.9853],[-98.6155,-71.7638],[-98.0911,-71.9125]]],[[[-73.7067,-70.635],[-74.205,-70.924],[-76.1763,-71.1326],[-76.5004,-70.9413],[-75.0076,-70.6088],[-73.7067,-70.635]]],[[[-74.9871,-69.7277],[-74.8489,-70.1791],[-75.7267,-70.0961],[-74.9871,-69.7277]]],[[[-70.0511,-69.1892],[-69.417,-69.5834],[-68.3361,-70.8561],[-68.2411,-71.822],[-69.2092,-72.5344],[-72.3675,-72.6698],[-73.0864,-72.4079],[-71.1066,-72.047],[-72.4121,-71.6622],[-73.8994,-72.1522],[-75.3531,-71.8783],[-75.2925,-71.6151],[-74.1872,-71.383],[-72.6216,-71.3883],[-71.1941,-70.9848],[-71.0611,-70.5369],[-70.328,-70.3611],[-71.8537,-69.9692],[-71.869,-68.9411],[-70.417,-68.7889],[-70.0511,-69.1892]]],[[[-67.9885,-67.4745],[-68.5804,-67.7328],[-69.0825,-67.403],[-68.3359,-66.802],[-67.6878,-67.1473],[-67.9885,-67.4745]]],[[[-57.0206,-63.3729],[-58.2631,-63.7636],[-58.8954,-64.389],[-59.9632,-64.4312],[-61.0598,-64.9812],[-61.7361,-65.0335],[-62.1453,-65.3318],[-62.3051,-65.8405],[-61.8754,-66.296],[-63.7525,-66.2778],[-64.0778,-66.6542],[-64.6862,-66.8064],[-64.8193,-67.3076],[-65.4432,-67.3262],[-65.6394,-68.1306],[-64.8984,-68.6734],[-63.3436,-68.8106],[-63.4559,-69.0419],[-62.4505,-69.5843],[-61.9611,-70.1201],[-61.9611,-70.9005],[-61.0172,-71.1668],[-61.2136,-71.5641],[-60.7193,-72.0728],[-60.3846,-73.0072],[-61.4054,-73.467],[-60.8789,-73.6122],[-61.0107,-74.4782],[-62.2257,-74.5057],[-63.9247,-75.0047],[-63.3634,-75.4517],[-66.3705,-76.0132],[-69.3044,-76.3506],[-70.0954,-76.6546],[-71.7987,-76.7527],[-75.2683,-76.5814],[-77.19,-76.6298],[-76.2487,-77.2747],[-75.3869,-77.474],[-72.852,-77.5903],[-73.2515,-77.8944],[-74.812,-78.1776],[-80.6015,-77.7519],[-81.4411,-77.8855],[-77.4325,-78.4346],[-77.8691,-78.7454],[-80.2923,-78.8226],[-83.246,-78.3569],[-83.26,-78.7742],[-80.1512,-79.2683],[-76.499,-79.3255],[-76.5578,-79.9035],[-75.2366,-80.8028],[-73.0296,-80.9173],[-70.239,-80.8565],[-64.7501,-81.5219],[-64.1371,-81.8695],[-65.9133,-82.1833],[-62.7357,-82.5273],[-61.5898,-83.3414],[-59.5159,-83.4586],[-57.3535,-82.8403],[-53.9862,-82.2006],[-48.3607,-81.8921],[-43.6692,-82.2699],[-41.4338,-81.2977],[-38.7718,-80.8823],[-37.2093,-81.0638],[-35.3269,-80.6505],[-29.3291,-80.172],[-24.2403,-80.0619],[-25.2586,-79.7623],[-29.9494,-79.599],[-30.3161,-79.1631],[-32.9943,-79.2288],[-36.2391,-78.7742],[-36.181,-78.4684],[-34.0758,-77.4252],[-32.0634,-77.1598],[-28.9336,-76.3701],[-26.0594,-75.9573],[-24.2696,-75.7668],[-19.4931,-75.54],[-17.2989,-74.334],[-15.6725,-74.4072],[-15.7488,-73.9456],[-16.5188,-73.6441],[-15.5959,-73.0968],[-14.3211,-73.123],[-14.2978,-72.7328],[-13.2087,-72.7852],[-11.497,-72.4128],[-10.8254,-71.5534],[-9.8879,-71.0274],[-9.2307,-71.1739],[-8.6466,-71.6728],[-7.7137,-71.5463],[-7.8735,-70.9404],[-5.9364,-70.7127],[-5.5879,-70.8569],[-5.9499,-71.3417],[-2.8121,-71.3208],[-.8958,-71.3492],[-.5431,-71.7128],[.835,-71.2023],[2.6096,-70.9],[5.1132,-70.6559],[8.5232,-70.4739],[9.1415,-70.1836],[10.2175,-70.5081],[11.7014,-70.7664],[12.9292,-70.2133],[13.8228,-70.3434],[15.807,-70.3238],[18.1246,-70.5405],[19.1966,-70.2932],[19.2649,-70.9022],[21.0707,-70.8436],[21.705,-70.2586],[22.979,-70.8103],[23.8037,-70.4046],[24.7567,-70.892],[25.9743,-71.0372],[27.207,-70.9111],[30.0035,-70.2999],[31.3787,-70.2257],[32.6212,-70.0007],[32.9892,-69.6243],[32.5675,-69.0743],[33.1214,-68.689],[34.193,-68.7023],[35.2246,-69.6371],[37.5599,-69.7184],[38.8592,-70.006],[39.7053,-69.4258],[39.8637,-68.9669],[41.1328,-68.5749],[42.409,-68.3521],[42.8196,-68.123],[44.6999,-67.9042],[44.9893,-67.7692],[47.1174,-67.5726],[48.6479,-67.7941],[48.7136,-67.217],[49.2472,-66.9414],[50.6059,-67.15],[50.3325,-66.4447],[51.8843,-66.0199],[53.6719,-65.8587],[54.9481,-65.9164],[55.7102,-66.0798],[57.1853,-66.6133],[56.4533,-66.7798],[56.8919,-67.0563],[57.6274,-67.0142],[58.7376,-67.2295],[59.2507,-67.4851],[60.4821,-67.3853],[62.6878,-67.6476],[63.6989,-67.5082],[68.3279,-67.8895],[69.4163,-67.743],[69.9822,-68.4644],[69.5344,-68.7369],[69.6293,-69.2314],[68.9062,-69.3726],[69.0825,-69.8666],[68.1783,-69.8373],[67.2678,-70.2732],[67.9408,-70.4228],[69.2503,-70.4313],[68.8725,-71.0354],[68.0375,-71.391],[67.4321,-72.0031],[66.8919,-72.9486],[67.9714,-73.0857],[68.4197,-72.5149],[69.5548,-72.3746],[71.2766,-71.624],[71.9047,-70.7069],[72.7601,-70.3957],[72.8223,-70.0961],[73.9422,-69.7432],[75.4239,-69.8933],[75.8913,-69.5754],[77.8174,-69.069],[78.7265,-68.2779],[79.288,-68.1195],[82.017,-67.6902],[83.3043,-67.6032],[84.4851,-67.1145],[85.7107,-67.1611],[87.9803,-66.7882],[89.6986,-66.8229],[92.0734,-66.5077],[93.9644,-66.6897],[94.8397,-66.5015],[95.5411,-66.6311],[98.2577,-66.4673],[99.3701,-66.6484],[100.8891,-66.3581],[101.4746,-65.9511],[102.674,-65.8654],[103.9511,-65.9879],[108.1578,-66.6391],[109.4629,-66.9085],[110.6223,-66.5241],[110.9069,-66.0767],[113.0992,-65.8001],[113.7096,-65.9297],[114.3368,-66.3603],[115.3103,-66.561],[115.2739,-67.0279],[113.991,-67.2117],[114.0265,-67.4412],[116.7134,-67.047],[118.1388,-67.0825],[119.1331,-67.3706],[121.4875,-67.0905],[122.1826,-66.8593],[123.9693,-66.608],[124.5978,-66.7083],[125.8656,-66.3643],[126.6646,-66.4975],[127.5413,-67.051],[129.2369,-67.0417],[129.7412,-66.4686],[130.9517,-66.1912],[131.831,-66.2356],[133.4446,-66.0816],[134.9716,-66.3301],[135.352,-66.1273],[136.1941,-66.2924],[137.7539,-66.4065],[139.9001,-66.715],[141.9726,-66.8069],[142.8884,-67],[143.4481,-66.877],[144.6214,-67.1416],[143.9422,-67.7941],[145.9752,-67.6241],[146.8279,-67.9645],[147.0938,-68.3685],[148.4561,-68.467],[151.068,-68.3849],[151.562,-68.6939],[153.0819,-68.8568],[154.1997,-68.4178],[155.5202,-69.0246],[157.4813,-69.3087],[158.1578,-69.2088],[159.7838,-69.5217],[160.2095,-69.9749],[161.0369,-70.3172],[161.4244,-70.8268],[162.6749,-70.3047],[163.3487,-70.6208],[164.4034,-70.5103],[166.6269,-70.6643],[167.5692,-70.8103],[168.1725,-71.1832],[170.1625,-71.6307],[169.8287,-72.7288],[169.545,-73.0502],[167.6158,-73.337],[164.7758,-74.0286],[165.3027,-74.5936],[163.1672,-74.6021],[162.5337,-75.1671],[161.6797,-75.2177],[162.8156,-75.8463],[162.7628,-76.7456],[164.4296,-78.0422],[166.2087,-78.4515],[164.6347,-78.6033],[160.4829,-79.2017],[160.542,-80.425],[160.9078,-81.3901],[162.8214,-81.8664],[167.2328,-82.9521],[168.1099,-83.3618],[171.9172,-83.6441],[179.403,-84.2061],[180,-84.3517],[180,-89.9989],[-180,-89.9989],[-180,-89.583],[-180,-89.2931],[-180,-88.5869],[-180,-87.8811],[-180,-87.1753],[-180,-86.4695],[-180,-85.7633],[-180,-85.0575],[-180,-84.3517],[-171.7037,-84.5426],[-162.9335,-84.9012],[-157.1276,-85.1858],[-156.9864,-84.8111],[-163.5685,-84.5288],[-164.951,-83.8057],[-167.5528,-83.8111],[-169.1677,-83.4497],[-174.0661,-82.9002],[-171.8213,-82.8474],[-168.4178,-83.2287],[-163.111,-83.329],[-159.4445,-83.5434],[-157.6796,-83.1292],[-155.4594,-82.9805],[-153.0098,-82.4496],[-154.7175,-81.9409],[-153.9566,-81.7003],[-157.0326,-81.319],[-156.5283,-81.1623],[-148.1228,-80.9009],[-150.5755,-80.3536],[-148.3172,-80.0708],[-148.1765,-79.7761],[-152.0914,-79.2416],[-155.21,-78.9646],[-156.4693,-78.6353],[-154.7164,-78.3982],[-155.3416,-78.1918],[-157.2667,-78.1998],[-158.5003,-77.7786],[-158.2136,-77.1571],[-154.8149,-77.1269],[-153.4606,-77.4159],[-151.719,-77.4261],[-149.7177,-77.7976],[-145.967,-77.0688],[-145.7504,-76.7492],[-147.3404,-76.4384],[-146.383,-76.0998],[-143.5742,-75.5635],[-142.3298,-75.4907],[-141.5057,-75.6905],[-139.6911,-75.2129],[-137.6181,-75.0757],[-136.5494,-75.1396],[-135.362,-74.6904],[-133.4748,-74.852],[-132.0495,-74.7659],[-129.7907,-74.8915],[-127.8633,-74.7193],[-123.8894,-74.773],[-119.6771,-74.6544],[-118.3421,-74.3815],[-115.1052,-74.4551],[-114.7909,-73.9886],[-113.5085,-74.0889],[-113.9318,-74.982],[-111.6963,-74.7921],[-111.8064,-74.2696],[-110.307,-74.3668],[-110.3005,-74.7108],[-111.4631,-75.1334],[-109.2722,-75.1849],[-106.6189,-75.3438],[-104.9019,-75.1152],[-101.7081,-75.1272],[-101.0394,-75.4219],[-98.5578,-75.1898],[-101.2518,-74.4858],[-101.7154,-74.0237],[-102.7663,-73.8838],[-102.4108,-73.6166],[-100.9854,-73.7573],[-99.7812,-73.7201],[-100.0209,-73.4027],[-102.6751,-73.321],[-102.4092,-72.9876],[-98.0125,-73.0334],[-96.1521,-73.3095],[-94.2463,-73.313],[-92.241,-73.1785],[-90.9209,-73.3192],[-90.2954,-72.9779],[-88.1945,-72.8585],[-88.4193,-73.2291],[-87.0379,-73.3538],[-85.9808,-73.2087],[-84.9811,-73.5021],[-82.1835,-73.8568],[-81.3088,-73.7383],[-81.2624,-73.3148],[-80.4421,-72.9446],[-79.5217,-73.0897],[-78.4078,-73.5558],[-76.8506,-73.4604],[-77.1349,-73.8177],[-75.293,-73.6388],[-73.9961,-73.6996],[-72.9293,-73.4479],[-68.821,-73.1053],[-67.6671,-72.8345],[-66.8277,-72.0905],[-67.4603,-71.5268],[-67.8884,-70.4215],[-68.4033,-70.0198],[-68.7078,-69.4321],[-67.3717,-69.4125],[-66.9749,-69.1608],[-67.3906,-68.8612],[-66.7933,-68.2402],[-67.1498,-68.0245],[-66.705,-67.5273],[-67.5859,-67.435],[-67.4934,-67.1127],[-66.371,-66.6089],[-65.7664,-66.6249],[-65.6172,-66.1353],[-64.0658,-65.5538],[-64.0381,-65.1791],[-62.5761,-64.7557],[-61.6317,-64.6047],[-60.8643,-64.0734],[-59.5102,-63.8208],[-58.8721,-63.5518],[-57.3897,-63.2264],[-57.0206,-63.3729]]]]},properties:{name:"Antarctica",id:"AQ"},id:"AQ"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-170.7262,-14.3513],[-170.8205,-14.3122],[-170.6891,-14.2576],[-170.7262,-14.3513]]]},properties:{name:"American Samoa",id:"AS"},id:"AS"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[46.4906,38.9065],[46.1146,38.8776],[45.7662,39.3783],[45.0315,39.7649],[44.7683,39.7037],[44.2893,40.0406],[43.7917,40.0703],[43.5693,40.4823],[43.7225,40.7193],[43.4393,41.1073],[45.0013,41.291],[45.5877,40.8467],[45.376,40.6381],[45.9646,40.2337],[45.7897,39.8812],[46.5501,39.2012],[46.4906,38.9065]]]},properties:{name:"Armenia",id:"AM"},id:"AM"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[-62.6509,-22.2339],[-62.3726,-22.439],[-61.7984,-23.1821],[-61.0329,-23.7556],[-59.8924,-24.0934],[-59.373,-24.4538],[-58.3654,-24.9594],[-57.8216,-25.1365],[-57.5872,-25.4051],[-57.8906,-26.0065],[-58.2031,-26.3816],[-58.1914,-26.6302],[-58.6186,-27.1323],[-57.1118,-27.4701],[-56.3705,-27.5375],[-56.0673,-27.3076],[-55.7147,-27.415],[-55.4266,-27.0093],[-55.1358,-26.9312],[-54.7552,-26.533],[-54.6158,-25.576],[-54.1546,-25.5231],[-53.8912,-25.6687],[-53.6712,-26.2249],[-53.8381,-27.1212],[-54.3271,-27.4234],[-54.8291,-27.5508],[-55.1014,-27.8669],[-55.7255,-28.2043],[-56.9387,-29.595],[-57.609,-30.188],[-57.8724,-30.5911],[-57.8105,-30.8587],[-58.1889,-31.9241],[-58.2011,-32.4718],[-58.1709,-32.9592],[-58.4244,-33.1115],[-58.5471,-33.6637],[-58.2835,-34.6837],[-57.3036,-35.1884],[-57.1589,-35.5058],[-57.354,-35.7202],[-57.265,-36.1441],[-56.6981,-36.4265],[-56.6721,-36.8513],[-57.3957,-37.7448],[-57.5471,-38.0857],[-58.1792,-38.436],[-59.8282,-38.8381],[-61.1122,-38.993],[-62.067,-38.9189],[-62.3382,-39.1506],[-62.0537,-39.3739],[-62.2869,-39.8955],[-62.395,-40.8907],[-62.959,-41.1095],[-63.7731,-41.1499],[-64.8531,-40.8139],[-65.1334,-40.8805],[-65.059,-41.9698],[-64.4205,-42.4337],[-63.596,-42.4066],[-63.6925,-42.8052],[-64.1306,-42.8616],[-64.6504,-42.5313],[-65.0269,-42.759],[-64.4323,-43.0591],[-64.9856,-43.2935],[-65.2837,-43.6299],[-65.3613,-44.4773],[-65.6476,-44.6615],[-65.6388,-45.0078],[-66.1901,-44.9647],[-66.9414,-45.2573],[-67.5566,-45.9701],[-67.5633,-46.3452],[-66.7769,-47.0057],[-65.9985,-47.0936],[-65.7382,-47.3449],[-65.8101,-47.941],[-67.033,-48.6277],[-67.6849,-49.2465],[-67.7834,-49.8591],[-68.9396,-50.3824],[-69.2352,-50.9506],[-69.0325,-51.6364],[-68.4433,-52.3569],[-69.9603,-52.0084],[-71.9187,-51.9898],[-72.4077,-51.541],[-72.2763,-50.9102],[-72.5098,-50.6075],[-73.153,-50.7384],[-73.5012,-50.1254],[-73.5762,-49.583],[-72.6143,-48.7929],[-72.3549,-48.3658],[-72.518,-47.8762],[-72.346,-47.4927],[-71.905,-47.2015],[-71.9403,-46.8313],[-71.6952,-46.5783],[-71.8757,-46.1606],[-71.7727,-45.7242],[-71.3537,-45.2306],[-71.5962,-44.9794],[-71.2611,-44.7632],[-71.2127,-44.4414],[-71.82,-44.3832],[-71.6801,-43.9296],[-71.905,-43.44],[-71.7816,-43.167],[-72.1464,-42.9899],[-72.1247,-42.2983],[-71.7501,-42.0466],[-71.9114,-41.6506],[-71.932,-40.6918],[-71.6952,-40.3354],[-71.7199,-39.6354],[-71.5394,-39.6025],[-71.4256,-38.9855],[-70.9517,-38.7383],[-71.0281,-38.0413],[-71.1677,-37.7621],[-71.0556,-36.5237],[-70.4048,-36.0616],[-70.4703,-35.3261],[-70.2899,-34.733],[-69.8524,-34.2243],[-69.7978,-33.3987],[-70.0198,-33.2717],[-70.1696,-32.4718],[-70.5853,-31.5694],[-70.5196,-31.1486],[-70.1614,-30.4401],[-69.9563,-30.358],[-69.9277,-29.7694],[-70.0269,-29.3242],[-69.8278,-29.1031],[-69.6569,-28.4138],[-69.1744,-27.9246],[-68.8463,-27.1536],[-68.3461,-27.0279],[-68.5811,-26.5183],[-68.4144,-26.1539],[-68.6002,-25.4859],[-68.3842,-25.0921],[-68.562,-24.8378],[-68.2502,-24.3921],[-67.3562,-24.0339],[-67.0088,-23.0014],[-67.1948,-22.8216],[-66.7117,-22.2161],[-66.3652,-22.1136],[-66.0986,-21.8353],[-65.771,-22.0994],[-65.0579,-22.103],[-64.6056,-22.229],[-64.3739,-22.7612],[-63.9762,-22.0728],[-63.8186,-22.0053],[-62.8434,-21.9973],[-62.6509,-22.2339]]],[[[-68.6532,-54.8538],[-68.6299,-52.6525],[-68.2782,-52.9841],[-68.0085,-53.5638],[-67.2943,-54.0499],[-65.346,-54.8777],[-66.5112,-55.0322],[-66.9305,-54.9248],[-68.6532,-54.8538]]]]},properties:{name:"Argentina",id:"AR"},id:"AR"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[56.2979,25.6505],[56.388,24.9793],[56.064,24.7388],[55.7959,24.8679],[55.7608,24.2425],[55.1997,23.0346],[55.186,22.704],[55.1043,22.6214],[52.555,22.933],[51.5927,24.0787],[51.5683,24.286],[51.9061,23.9855],[52.6483,24.1546],[53.8934,24.0769],[54.3972,24.278],[54.747,24.8102],[55.941,25.7939],[56.0804,26.0624],[56.2979,25.6505]]]},properties:{name:"United Arab Emirates",id:"AE"},id:"AE"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1.7059,42.5033],[1.4861,42.4345],[1.4284,42.5961],[1.7059,42.5033]]]},properties:{name:"Andorra",id:"AD"},id:"AD"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[19.9893,60.3511],[20.2588,60.2612],[19.7461,60.099],[19.6871,60.2677],[19.9893,60.3511]]]},properties:{name:"Aland Islands",id:"AX"},id:"AX"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[20.0639,42.5473],[20.4856,42.2232],[20.566,41.8739],[20.4892,41.2724],[20.9641,40.8498],[21.0312,40.6585],[20.6574,40.1174],[20.0013,39.7095],[19.8517,40.0437],[19.3981,40.2847],[19.4407,41.4247],[19.3426,41.869],[19.2809,42.1726],[19.6546,42.6285],[20.0639,42.5473]]]},properties:{name:"Albania",id:"AL"},id:"AL"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-63.0012,18.222],[-63.1534,18.2002],[-63.026,18.2699],[-63.0012,18.222]]]},properties:{name:"Anguilla",id:"AI"},id:"AI"},{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[12.2137,-5.7589],[12.0184,-5.0042],[12.3846,-4.6189],[12.8809,-4.4454],[13.0726,-4.6349],[12.8298,-4.7366],[12.5222,-5.1489],[12.5035,-5.6958],[12.2137,-5.7589]]],[[[23.9666,-10.8716],[23.9915,-12.4221],[23.8432,-13.0009],[21.9789,-13.0009],[21.9798,-15.9555],[22.1507,-16.5974],[23.3807,-17.6405],[21.4169,-18.0005],[20.625,-17.9965],[20.3928,-17.8873],[19.6396,-17.8687],[18.8259,-17.7661],[18.3962,-17.3995],[16.9136,-17.3915],[13.9382,-17.3888],[13.4038,-17.008],[13.101,-16.9676],[12.5479,-17.2126],[11.7432,-17.2494],[11.8191,-16.7043],[11.7507,-15.8321],[11.9678,-15.6341],[12.2803,-14.6376],[12.5506,-13.4377],[12.9834,-12.7759],[13.4171,-12.5202],[13.7855,-11.8127],[13.8477,-11.0545],[13.2093,-9.7033],[12.9985,-9.0481],[13.3589,-8.6872],[13.3785,-8.3698],[12.8622,-7.2317],[12.8236,-6.9547],[12.5213,-6.5903],[12.3025,-6.0927],[13.0682,-5.8649],[14.3985,-5.8925],[16.3152,-5.8658],[16.7179,-6.2414],[16.7094,-6.4717],[17.1551,-7.4612],[17.536,-8.076],[18.6532,-7.9361],[19.3408,-7.9668],[19.5277,-7.1447],[19.8753,-6.9862],[20.4821,-6.9161],[20.6077,-7.2778],[21.7511,-7.3054],[21.9056,-8.6934],[21.8133,-9.4689],[22.1977,-10.0406],[22.3069,-10.6914],[22.5613,-11.0558],[23.8339,-11.0136],[23.9666,-10.8716]]]]},properties:{name:"Angola",id:"AO"},id:"AO"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[74.8912,37.2317],[74.5415,37.0221],[74.0017,36.8233],[73.7691,36.8885],[72.623,36.8295],[71.6206,36.4366],[71.1852,36.042],[71.4276,35.8338],[71.6206,35.1831],[70.9655,34.5306],[71.0516,34.0498],[69.8682,33.8976],[70.2841,33.3689],[69.9201,33.1123],[69.5015,33.02],[69.2414,32.4336],[69.2791,31.9369],[68.869,31.6342],[68.2138,31.8073],[67.5781,31.5063],[67.2874,31.2178],[66.9243,31.3057],[66.3974,30.9124],[66.1772,29.8355],[65.0954,29.5594],[64.521,29.5643],[64.0989,29.3921],[63.5676,29.4982],[62.4765,29.4085],[60.8434,29.8586],[61.104,30.1285],[61.7844,30.8321],[61.6602,31.3825],[60.854,31.4833],[60.8292,32.2494],[60.5606,33.1376],[60.9171,33.5052],[60.5109,33.6388],[60.4856,34.0947],[61.08,34.8555],[61.262,35.6194],[62.6105,35.2333],[63.0566,35.4459],[63.1086,35.8187],[63.8623,36.0123],[64.5108,36.3408],[64.8162,37.1322],[65.5549,37.2512],[65.7648,37.569],[66.5221,37.3484],[67.069,37.3346],[67.7592,37.1722],[68.0677,36.9498],[68.9604,37.3249],[69.2649,37.1083],[69.4922,37.553],[70.2512,37.664],[70.2148,37.9246],[70.8789,38.4564],[71.2558,38.3068],[71.5518,37.933],[71.4329,37.1273],[71.8022,36.6941],[72.8955,37.2676],[73.4814,37.4718],[73.7496,37.2317],[74.2596,37.4154],[74.8912,37.2317]]]},properties:{name:"Afghanistan",id:"AF"},id:"AF"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-61.7161,17.0368],[-61.8597,17.0133],[-61.8173,17.1691],[-61.7161,17.0368]]]},properties:{name:"Antigua and Barbuda",id:"AG"},id:"AG"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-69.8992,12.4518],[-69.9421,12.4385],[-70.0661,12.5468],[-69.9732,12.5677],[-69.8992,12.4518]]]},properties:{name:"Aruba",id:"AW"},id:"AW"}]};function retry(count=-1){return source=>source.lift(new RetryOperator(count,source))}class RetryOperator{constructor(count,source){this.count=count,this.source=source}call(subscriber,source){return source.subscribe(new retry_RetrySubscriber(subscriber,this.count,this.source))}}class retry_RetrySubscriber extends Subscriber_Subscriber{constructor(destination,count,source){super(destination),this.count=count,this.source=source}error(err){if(!this.isStopped){const{source:source,count:count}=this;if(0===count)return super.error(err);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}}}let getdata_service_GetdataService=class{constructor(_http){this._http=_http,this.host="https://api.coronastatistics.live"}getAll(type){return this._http.get(`${this.host}/countries?sort=${type}`).pipe(retry(1),catchError(this.handleError))}getCountry(name){return this._http.get(`${this.host}/countries/${name}`).pipe(retry(1),catchError(this.handleError))}getTimeline(){return this._http.get(`${this.host}/timeline`).pipe(retry(1),catchError(this.handleError))}getTimelineCountry(country){return this._http.get(`${this.host}/timeline/${country}`).pipe(retry(1),catchError(this.handleError))}getTimelineGlobal(){return this._http.get(`${this.host}/timeline/global`).pipe(retry(1),catchError(this.handleError))}handleError(error){let errorMessage="";return errorMessage=error.error instanceof ErrorEvent?error.error.message:`Error Code: ${error.status}\nMessage: ${error.message}`,throwError_throwError(errorMessage)}};getdata_service_GetdataService.ctorParameters=()=>[{type:http_HttpClient}],getdata_service_GetdataService=Object(tslib_es6.c)([Injectable({providedIn:"root"}),Object(tslib_es6.g)("design:paramtypes",[http_HttpClient])],getdata_service_GetdataService);var fuse=__webpack_require__("/+cc");Object.prototype.toString;function fromEvent(target,eventName,options,resultSelector){return isFunction(options)&&(resultSelector=options,options=void 0),resultSelector?fromEvent(target,eventName,options).pipe(map_map(args=>isArray(args)?resultSelector(...args):resultSelector(args))):new Observable_Observable(subscriber=>{!function setupSubscription(sourceObj,eventName,handler,subscriber,options){let unsubscribe;if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}(sourceObj)){const source=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=()=>source.removeEventListener(eventName,handler,options)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}(sourceObj)){const source=sourceObj;sourceObj.on(eventName,handler),unsubscribe=()=>source.off(eventName,handler)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}(sourceObj)){const source=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=()=>source.removeListener(eventName,handler)}else{if(!sourceObj||!sourceObj.length)throw new TypeError("Invalid event target");for(let i=0,len=sourceObj.length;i<len;i++)setupSubscription(sourceObj[i],eventName,handler,subscriber,options)}subscriber.add(unsubscribe)}(target,eventName,(function(e){arguments.length>1?subscriber.next(Array.prototype.slice.call(arguments)):subscriber.next(e)}),subscriber,options)})}const async_async=new AsyncScheduler_AsyncScheduler(AsyncAction_AsyncAction);class AuditOperator{constructor(durationSelector){this.durationSelector=durationSelector}call(subscriber,source){return source.subscribe(new audit_AuditSubscriber(subscriber,this.durationSelector))}}class audit_AuditSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,durationSelector){super(destination),this.durationSelector=durationSelector,this.hasValue=!1}_next(value){if(this.value=value,this.hasValue=!0,!this.throttled){let duration;try{const{durationSelector:durationSelector}=this;duration=durationSelector(value)}catch(err){return this.destination.error(err)}const innerSubscription=subscribeToResult(this,duration);!innerSubscription||innerSubscription.closed?this.clearThrottle():this.add(this.throttled=innerSubscription)}}clearThrottle(){const{value:value,hasValue:hasValue,throttled:throttled}=this;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))}notifyNext(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function isNumeric(val){return!isArray(val)&&val-parseFloat(val)+1>=0}function timer_dispatch(state){const{index:index,period:period,subscriber:subscriber}=state;if(subscriber.next(index),!subscriber.closed){if(-1===period)return subscriber.complete();state.index=index+1,this.schedule(state,period)}}function auditTime(duration,scheduler=async_async){return durationSelector=()=>function(dueTime=0,periodOrScheduler,scheduler){let period=-1;return isNumeric(periodOrScheduler)?period=Number(periodOrScheduler)<1?1:Number(periodOrScheduler):isScheduler(periodOrScheduler)&&(scheduler=periodOrScheduler),isScheduler(scheduler)||(scheduler=async_async),new Observable_Observable(subscriber=>{const due=isNumeric(dueTime)?dueTime:+dueTime-scheduler.now();return scheduler.schedule(timer_dispatch,due,{index:0,period:period,subscriber:subscriber})})}(duration,scheduler),function(source){return source.lift(new AuditOperator(durationSelector))};var durationSelector}function takeUntil(notifier){return source=>source.lift(new takeUntil_TakeUntilOperator(notifier))}class takeUntil_TakeUntilOperator{constructor(notifier){this.notifier=notifier}call(subscriber,source){const takeUntilSubscriber=new takeUntil_TakeUntilSubscriber(subscriber),notifierSubscription=subscribeToResult(takeUntilSubscriber,this.notifier);return notifierSubscription&&!takeUntilSubscriber.seenValue?(takeUntilSubscriber.add(notifierSubscription),source.subscribe(takeUntilSubscriber)):takeUntilSubscriber}}class takeUntil_TakeUntilSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination){super(destination),this.seenValue=!1}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.seenValue=!0,this.complete()}notifyComplete(){}}function distinctUntilChanged(compare,keySelector){return source=>source.lift(new DistinctUntilChangedOperator(compare,keySelector))}class DistinctUntilChangedOperator{constructor(compare,keySelector){this.compare=compare,this.keySelector=keySelector}call(subscriber,source){return source.subscribe(new distinctUntilChanged_DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))}}class distinctUntilChanged_DistinctUntilChangedSubscriber extends Subscriber_Subscriber{constructor(destination,compare,keySelector){super(destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}compare(x,y){return x===y}_next(value){let key;try{const{keySelector:keySelector}=this;key=keySelector?keySelector(value):value}catch(err){return this.destination.error(err)}let result=!1;if(this.hasKey)try{const{compare:compare}=this;result=compare(this.key,key)}catch(err){return this.destination.error(err)}else this.hasKey=!0;result||(this.key=key,this.destination.next(value))}}function mapTo(value){return source=>source.lift(new MapToOperator(value))}class MapToOperator{constructor(value){this.value=value}call(subscriber,source){return source.subscribe(new mapTo_MapToSubscriber(subscriber,this.value))}}class mapTo_MapToSubscriber extends Subscriber_Subscriber{constructor(destination,value){super(destination),this.value=value}_next(x){this.destination.next(this.value)}}function get(element){return getComputedStyle(element)}function set(element,obj){for(var key in obj){var val=obj[key];"number"==typeof val&&(val+="px"),element.style[key]=val}return element}function perfect_scrollbar_esm_div(className){var div=document.createElement("div");return div.className=className,div}var elMatches="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function perfect_scrollbar_esm_matches(element,query){if(!elMatches)throw new Error("No element matching method supported");return elMatches.call(element,query)}function perfect_scrollbar_esm_remove(element){element.remove?element.remove():element.parentNode&&element.parentNode.removeChild(element)}function queryChildren(element,selector){return Array.prototype.filter.call(element.children,(function(child){return perfect_scrollbar_esm_matches(child,selector)}))}var cls_main="ps",cls_rtl="ps__rtl",cls_element={thumb:function(x){return"ps__thumb-"+x},rail:function(x){return"ps__rail-"+x},consuming:"ps__child--consume"},cls_state={focus:"ps--focus",clicking:"ps--clicking",active:function(x){return"ps--active-"+x},scrolling:function(x){return"ps--scrolling-"+x}},scrollingClassTimeout={x:null,y:null};function addScrollingClass(i,x){var classList=i.element.classList,className=cls_state.scrolling(x);classList.contains(className)?clearTimeout(scrollingClassTimeout[x]):classList.add(className)}function removeScrollingClass(i,x){scrollingClassTimeout[x]=setTimeout((function(){return i.isAlive&&i.element.classList.remove(cls_state.scrolling(x))}),i.settings.scrollingThreshold)}var EventElement=function(element){this.element=element,this.handlers={}},prototypeAccessors={isEmpty:{configurable:!0}};EventElement.prototype.bind=function(eventName,handler){void 0===this.handlers[eventName]&&(this.handlers[eventName]=[]),this.handlers[eventName].push(handler),this.element.addEventListener(eventName,handler,!1)},EventElement.prototype.unbind=function(eventName,target){var this$1=this;this.handlers[eventName]=this.handlers[eventName].filter((function(handler){return!(!target||handler===target)||(this$1.element.removeEventListener(eventName,handler,!1),!1)}))},EventElement.prototype.unbindAll=function(){for(var name in this.handlers)this.unbind(name)},prototypeAccessors.isEmpty.get=function(){var this$1=this;return Object.keys(this.handlers).every((function(key){return 0===this$1.handlers[key].length}))},Object.defineProperties(EventElement.prototype,prototypeAccessors);var perfect_scrollbar_esm_EventManager=function(){this.eventElements=[]};function createEvent(name){if("function"==typeof window.CustomEvent)return new CustomEvent(name);var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(name,!1,!1,void 0),evt}function processScrollDiff(i,axis,diff,useScrollingClass,forceFireReachEvent){var fields;if(void 0===useScrollingClass&&(useScrollingClass=!0),void 0===forceFireReachEvent&&(forceFireReachEvent=!1),"top"===axis)fields=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==axis)throw new Error("A proper axis should be provided");fields=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(i,diff,ref,useScrollingClass,forceFireReachEvent){var contentHeight=ref[0],containerHeight=ref[1],scrollTop=ref[2],y=ref[3],up=ref[4],down=ref[5];void 0===useScrollingClass&&(useScrollingClass=!0);void 0===forceFireReachEvent&&(forceFireReachEvent=!1);var element=i.element;i.reach[y]=null,element[scrollTop]<1&&(i.reach[y]="start");element[scrollTop]>i[contentHeight]-i[containerHeight]-1&&(i.reach[y]="end");diff&&(element.dispatchEvent(createEvent("ps-scroll-"+y)),diff<0?element.dispatchEvent(createEvent("ps-scroll-"+up)):diff>0&&element.dispatchEvent(createEvent("ps-scroll-"+down)),useScrollingClass&&function(i,x){addScrollingClass(i,x),removeScrollingClass(i,x)}(i,y));i.reach[y]&&(diff||forceFireReachEvent)&&element.dispatchEvent(createEvent("ps-"+y+"-reach-"+i.reach[y]))}(i,diff,fields,useScrollingClass,forceFireReachEvent)}function toInt(x){return parseInt(x,10)||0}perfect_scrollbar_esm_EventManager.prototype.eventElement=function(element){var ee=this.eventElements.filter((function(ee){return ee.element===element}))[0];return ee||(ee=new EventElement(element),this.eventElements.push(ee)),ee},perfect_scrollbar_esm_EventManager.prototype.bind=function(element,eventName,handler){this.eventElement(element).bind(eventName,handler)},perfect_scrollbar_esm_EventManager.prototype.unbind=function(element,eventName,handler){var ee=this.eventElement(element);ee.unbind(eventName,handler),ee.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(ee),1)},perfect_scrollbar_esm_EventManager.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},perfect_scrollbar_esm_EventManager.prototype.once=function(element,eventName,handler){var ee=this.eventElement(element),onceHandler=function(evt){ee.unbind(eventName,onceHandler),handler(evt)};ee.bind(eventName,onceHandler)};var env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function updateGeometry(i){var element=i.element,roundedScrollTop=Math.floor(element.scrollTop),rect=element.getBoundingClientRect();i.containerWidth=Math.ceil(rect.width),i.containerHeight=Math.ceil(rect.height),i.contentWidth=element.scrollWidth,i.contentHeight=element.scrollHeight,element.contains(i.scrollbarXRail)||(queryChildren(element,cls_element.rail("x")).forEach((function(el){return perfect_scrollbar_esm_remove(el)})),element.appendChild(i.scrollbarXRail)),element.contains(i.scrollbarYRail)||(queryChildren(element,cls_element.rail("y")).forEach((function(el){return perfect_scrollbar_esm_remove(el)})),element.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=getThumbSize(i,toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=toInt((i.negativeScrollAdjustment+element.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=getThumbSize(i,toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=toInt(roundedScrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(element,i){var xRailOffset={width:i.railXWidth},roundedScrollTop=Math.floor(element.scrollTop);i.isRtl?xRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth-i.contentWidth:xRailOffset.left=element.scrollLeft;i.isScrollbarXUsingBottom?xRailOffset.bottom=i.scrollbarXBottom-roundedScrollTop:xRailOffset.top=i.scrollbarXTop+roundedScrollTop;set(i.scrollbarXRail,xRailOffset);var yRailOffset={top:roundedScrollTop,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?yRailOffset.right=i.contentWidth-(i.negativeScrollAdjustment+element.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:yRailOffset.right=i.scrollbarYRight-element.scrollLeft:i.isRtl?yRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:yRailOffset.left=i.scrollbarYLeft+element.scrollLeft;set(i.scrollbarYRail,yRailOffset),set(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),set(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}(element,i),i.scrollbarXActive?element.classList.add(cls_state.active("x")):(element.classList.remove(cls_state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,element.scrollLeft=!0===i.isRtl?i.contentWidth:0),i.scrollbarYActive?element.classList.add(cls_state.active("y")):(element.classList.remove(cls_state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,element.scrollTop=0)}function getThumbSize(i,thumbSize){return i.settings.minScrollbarLength&&(thumbSize=Math.max(thumbSize,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(thumbSize=Math.min(thumbSize,i.settings.maxScrollbarLength)),thumbSize}function bindMouseScrollHandler(i,ref){var containerHeight=ref[0],contentHeight=ref[1],pageY=ref[2],railYHeight=ref[3],scrollbarY=ref[4],scrollbarYHeight=ref[5],scrollTop=ref[6],y=ref[7],scrollbarYRail=ref[8],element=i.element,startingScrollTop=null,startingMousePageY=null,scrollBy=null;function mouseMoveHandler(e){e.touches&&e.touches[0]&&(e[pageY]=e.touches[0].pageY),element[scrollTop]=startingScrollTop+scrollBy*(e[pageY]-startingMousePageY),addScrollingClass(i,y),updateGeometry(i),e.stopPropagation(),e.preventDefault()}function mouseUpHandler(){removeScrollingClass(i,y),i[scrollbarYRail].classList.remove(cls_state.clicking),i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)}function bindMoves(e,touchMode){startingScrollTop=element[scrollTop],touchMode&&e.touches&&(e[pageY]=e.touches[0].pageY),startingMousePageY=e[pageY],scrollBy=(i[contentHeight]-i[containerHeight])/(i[railYHeight]-i[scrollbarYHeight]),touchMode?i.event.bind(i.ownerDocument,"touchmove",mouseMoveHandler):(i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler),i.event.once(i.ownerDocument,"mouseup",mouseUpHandler),e.preventDefault()),i[scrollbarYRail].classList.add(cls_state.clicking),e.stopPropagation()}i.event.bind(i[scrollbarY],"mousedown",(function(e){bindMoves(e)})),i.event.bind(i[scrollbarY],"touchstart",(function(e){bindMoves(e,!0)}))}var handlers={"click-rail":function(i){i.element,i.event.bind(i.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),i.event.bind(i.scrollbarYRail,"mousedown",(function(e){var direction=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=direction*i.containerHeight,updateGeometry(i),e.stopPropagation()})),i.event.bind(i.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),i.event.bind(i.scrollbarXRail,"mousedown",(function(e){var direction=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=direction*i.containerWidth,updateGeometry(i),e.stopPropagation()}))},"drag-thumb":function(i){bindMouseScrollHandler(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bindMouseScrollHandler(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(i){var element=i.element;i.event.bind(i.ownerDocument,"keydown",(function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(perfect_scrollbar_esm_matches(element,":hover")||perfect_scrollbar_esm_matches(i.scrollbarX,":focus")||perfect_scrollbar_esm_matches(i.scrollbarY,":focus"))){var el,activeElement=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(activeElement){if("IFRAME"===activeElement.tagName)activeElement=activeElement.contentDocument.activeElement;else for(;activeElement.shadowRoot;)activeElement=activeElement.shadowRoot.activeElement;if(perfect_scrollbar_esm_matches(el=activeElement,"input,[contenteditable]")||perfect_scrollbar_esm_matches(el,"select,[contenteditable]")||perfect_scrollbar_esm_matches(el,"textarea,[contenteditable]")||perfect_scrollbar_esm_matches(el,"button,[contenteditable]"))return}var deltaX=0,deltaY=0;switch(e.which){case 37:deltaX=e.metaKey?-i.contentWidth:e.altKey?-i.containerWidth:-30;break;case 38:deltaY=e.metaKey?i.contentHeight:e.altKey?i.containerHeight:30;break;case 39:deltaX=e.metaKey?i.contentWidth:e.altKey?i.containerWidth:30;break;case 40:deltaY=e.metaKey?-i.contentHeight:e.altKey?-i.containerHeight:-30;break;case 32:deltaY=e.shiftKey?i.containerHeight:-i.containerHeight;break;case 33:deltaY=i.containerHeight;break;case 34:deltaY=-i.containerHeight;break;case 36:deltaY=i.contentHeight;break;case 35:deltaY=-i.contentHeight;break;default:return}i.settings.suppressScrollX&&0!==deltaX||i.settings.suppressScrollY&&0!==deltaY||(element.scrollTop-=deltaY,element.scrollLeft+=deltaX,updateGeometry(i),function(deltaX,deltaY){var scrollTop=Math.floor(element.scrollTop);if(0===deltaX){if(!i.scrollbarYActive)return!1;if(0===scrollTop&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0)return!i.settings.wheelPropagation}var scrollLeft=element.scrollLeft;if(0===deltaY){if(!i.scrollbarXActive)return!1;if(0===scrollLeft&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0)return!i.settings.wheelPropagation}return!0}(deltaX,deltaY)&&e.preventDefault())}}))},wheel:function(i){var element=i.element;function mousewheelHandler(e){var ref=function(e){var deltaX=e.deltaX,deltaY=-1*e.deltaY;return void 0!==deltaX&&void 0!==deltaY||(deltaX=-1*e.wheelDeltaX/6,deltaY=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(deltaX*=10,deltaY*=10),deltaX!=deltaX&&deltaY!=deltaY&&(deltaX=0,deltaY=e.wheelDelta),e.shiftKey?[-deltaY,-deltaX]:[deltaX,deltaY]}(e),deltaX=ref[0],deltaY=ref[1];if(!function(target,deltaX,deltaY){if(!env.isWebKit&&element.querySelector("select:focus"))return!0;if(!element.contains(target))return!1;for(var cursor=target;cursor&&cursor!==element;){if(cursor.classList.contains(cls_element.consuming))return!0;var style=get(cursor);if(deltaY&&style.overflowY.match(/(scroll|auto)/)){var maxScrollTop=cursor.scrollHeight-cursor.clientHeight;if(maxScrollTop>0&&(cursor.scrollTop>0&&deltaY<0||cursor.scrollTop<maxScrollTop&&deltaY>0))return!0}if(deltaX&&style.overflowX.match(/(scroll|auto)/)){var maxScrollLeft=cursor.scrollWidth-cursor.clientWidth;if(maxScrollLeft>0&&(cursor.scrollLeft>0&&deltaX<0||cursor.scrollLeft<maxScrollLeft&&deltaX>0))return!0}cursor=cursor.parentNode}return!1}(e.target,deltaX,deltaY)){var shouldPrevent=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(deltaY?element.scrollTop-=deltaY*i.settings.wheelSpeed:element.scrollTop+=deltaX*i.settings.wheelSpeed,shouldPrevent=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(deltaX?element.scrollLeft+=deltaX*i.settings.wheelSpeed:element.scrollLeft-=deltaY*i.settings.wheelSpeed,shouldPrevent=!0):(element.scrollTop-=deltaY*i.settings.wheelSpeed,element.scrollLeft+=deltaX*i.settings.wheelSpeed),updateGeometry(i),(shouldPrevent=shouldPrevent||function(deltaX,deltaY){var roundedScrollTop=Math.floor(element.scrollTop),isTop=0===element.scrollTop,isBottom=roundedScrollTop+element.offsetHeight===element.scrollHeight,isLeft=0===element.scrollLeft,isRight=element.scrollLeft+element.offsetWidth===element.scrollWidth;return!(Math.abs(deltaY)>Math.abs(deltaX)?isTop||isBottom:isLeft||isRight)||!i.settings.wheelPropagation}(deltaX,deltaY))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}void 0!==window.onwheel?i.event.bind(element,"wheel",mousewheelHandler):void 0!==window.onmousewheel&&i.event.bind(element,"mousewheel",mousewheelHandler)},touch:function(i){if(env.supportsTouch||env.supportsIePointer){var element=i.element,startOffset={},startTime=0,speed={},easingLoop=null;env.supportsTouch?(i.event.bind(element,"touchstart",touchStart),i.event.bind(element,"touchmove",touchMove),i.event.bind(element,"touchend",touchEnd)):env.supportsIePointer&&(window.PointerEvent?(i.event.bind(element,"pointerdown",touchStart),i.event.bind(element,"pointermove",touchMove),i.event.bind(element,"pointerup",touchEnd)):window.MSPointerEvent&&(i.event.bind(element,"MSPointerDown",touchStart),i.event.bind(element,"MSPointerMove",touchMove),i.event.bind(element,"MSPointerUp",touchEnd)))}function applyTouchMove(differenceX,differenceY){element.scrollTop-=differenceY,element.scrollLeft-=differenceX,updateGeometry(i)}function getTouch(e){return e.targetTouches?e.targetTouches[0]:e}function shouldHandle(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function touchStart(e){if(shouldHandle(e)){var touch=getTouch(e);startOffset.pageX=touch.pageX,startOffset.pageY=touch.pageY,startTime=(new Date).getTime(),null!==easingLoop&&clearInterval(easingLoop)}}function touchMove(e){if(shouldHandle(e)){var touch=getTouch(e),currentOffset={pageX:touch.pageX,pageY:touch.pageY},differenceX=currentOffset.pageX-startOffset.pageX,differenceY=currentOffset.pageY-startOffset.pageY;if(function(target,deltaX,deltaY){if(!element.contains(target))return!1;for(var cursor=target;cursor&&cursor!==element;){if(cursor.classList.contains(cls_element.consuming))return!0;var style=get(cursor);if(deltaY&&style.overflowY.match(/(scroll|auto)/)){var maxScrollTop=cursor.scrollHeight-cursor.clientHeight;if(maxScrollTop>0&&(cursor.scrollTop>0&&deltaY<0||cursor.scrollTop<maxScrollTop&&deltaY>0))return!0}if(deltaX&&style.overflowX.match(/(scroll|auto)/)){var maxScrollLeft=cursor.scrollWidth-cursor.clientWidth;if(maxScrollLeft>0&&(cursor.scrollLeft>0&&deltaX<0||cursor.scrollLeft<maxScrollLeft&&deltaX>0))return!0}cursor=cursor.parentNode}return!1}(e.target,differenceX,differenceY))return;applyTouchMove(differenceX,differenceY),startOffset=currentOffset;var currentTime=(new Date).getTime(),timeGap=currentTime-startTime;timeGap>0&&(speed.x=differenceX/timeGap,speed.y=differenceY/timeGap,startTime=currentTime),function(deltaX,deltaY){var scrollTop=Math.floor(element.scrollTop),scrollLeft=element.scrollLeft,magnitudeX=Math.abs(deltaX),magnitudeY=Math.abs(deltaY);if(magnitudeY>magnitudeX){if(deltaY<0&&scrollTop===i.contentHeight-i.containerHeight||deltaY>0&&0===scrollTop)return 0===window.scrollY&&deltaY>0&&env.isChrome}else if(magnitudeX>magnitudeY&&(deltaX<0&&scrollLeft===i.contentWidth-i.containerWidth||deltaX>0&&0===scrollLeft))return!0;return!0}(differenceX,differenceY)&&e.preventDefault()}}function touchEnd(){i.settings.swipeEasing&&(clearInterval(easingLoop),easingLoop=setInterval((function(){i.isInitialized?clearInterval(easingLoop):speed.x||speed.y?Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01?clearInterval(easingLoop):(applyTouchMove(30*speed.x,30*speed.y),speed.x*=.8,speed.y*=.8):clearInterval(easingLoop)}),10))}}},PerfectScrollbar=function(element,userSettings){var this$1=this;if(void 0===userSettings&&(userSettings={}),"string"==typeof element&&(element=document.querySelector(element)),!element||!element.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var key in this.element=element,element.classList.add(cls_main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},userSettings)this.settings[key]=userSettings[key];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var result,originalScrollLeft,focus=function(){return element.classList.add(cls_state.focus)},blur=function(){return element.classList.remove(cls_state.focus)};this.isRtl="rtl"===get(element).direction,!0===this.isRtl&&element.classList.add(cls_rtl),this.isNegativeScroll=(originalScrollLeft=element.scrollLeft,element.scrollLeft=-1,result=element.scrollLeft<0,element.scrollLeft=originalScrollLeft,result),this.negativeScrollAdjustment=this.isNegativeScroll?element.scrollWidth-element.clientWidth:0,this.event=new perfect_scrollbar_esm_EventManager,this.ownerDocument=element.ownerDocument||document,this.scrollbarXRail=perfect_scrollbar_esm_div(cls_element.rail("x")),element.appendChild(this.scrollbarXRail),this.scrollbarX=perfect_scrollbar_esm_div(cls_element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",focus),this.event.bind(this.scrollbarX,"blur",blur),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var railXStyle=get(this.scrollbarXRail);this.scrollbarXBottom=parseInt(railXStyle.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=toInt(railXStyle.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=toInt(railXStyle.borderLeftWidth)+toInt(railXStyle.borderRightWidth),set(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=toInt(railXStyle.marginLeft)+toInt(railXStyle.marginRight),set(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=perfect_scrollbar_esm_div(cls_element.rail("y")),element.appendChild(this.scrollbarYRail),this.scrollbarY=perfect_scrollbar_esm_div(cls_element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",focus),this.event.bind(this.scrollbarY,"blur",blur),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var railYStyle=get(this.scrollbarYRail);this.scrollbarYRight=parseInt(railYStyle.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=toInt(railYStyle.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(element){var styles=get(element);return toInt(styles.width)+toInt(styles.paddingLeft)+toInt(styles.paddingRight)+toInt(styles.borderLeftWidth)+toInt(styles.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=toInt(railYStyle.borderTopWidth)+toInt(railYStyle.borderBottomWidth),set(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=toInt(railYStyle.marginTop)+toInt(railYStyle.marginBottom),set(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:element.scrollLeft<=0?"start":element.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:element.scrollTop<=0?"start":element.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(handlerName){return handlers[handlerName](this$1)})),this.lastScrollTop=Math.floor(element.scrollTop),this.lastScrollLeft=element.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return this$1.onScroll(e)})),updateGeometry(this)};PerfectScrollbar.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,set(this.scrollbarXRail,{display:"block"}),set(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=toInt(get(this.scrollbarXRail).marginLeft)+toInt(get(this.scrollbarXRail).marginRight),this.railYMarginHeight=toInt(get(this.scrollbarYRail).marginTop)+toInt(get(this.scrollbarYRail).marginBottom),set(this.scrollbarXRail,{display:"none"}),set(this.scrollbarYRail,{display:"none"}),updateGeometry(this),processScrollDiff(this,"top",0,!1,!0),processScrollDiff(this,"left",0,!1,!0),set(this.scrollbarXRail,{display:""}),set(this.scrollbarYRail,{display:""}))},PerfectScrollbar.prototype.onScroll=function(e){this.isAlive&&(updateGeometry(this),processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop),processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},PerfectScrollbar.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),perfect_scrollbar_esm_remove(this.scrollbarX),perfect_scrollbar_esm_remove(this.scrollbarY),perfect_scrollbar_esm_remove(this.scrollbarXRail),perfect_scrollbar_esm_remove(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},PerfectScrollbar.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(name){return!name.match(/^ps([-_].+|)$/)})).join(" ")};var perfect_scrollbar_esm=PerfectScrollbar,MapShim=function(){if("undefined"!=typeof Map)return Map;function getIndex(arr,key){var result=-1;return arr.some((function(entry,index){return entry[0]===key&&(result=index,!0)})),result}return(function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]},class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);~index?this.__entries__[index][1]=value:this.__entries__.push([key,value])},class_1.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);~index&&entries.splice(index,1)},class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(callback,ctx){void 0===ctx&&(ctx=null);for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}},class_1}())}(),ResizeObserver_es_isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)};var transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(callback,delay){var leadingCall=!1,trailingCall=!1,lastCallTime=0;function resolvePending(){leadingCall&&(leadingCall=!1,callback()),trailingCall&&proxy()}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<2)return;trailingCall=!0}else leadingCall=!0,trailingCall=!1,setTimeout(timeoutCallback,delay);lastCallTime=timeStamp}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(observer){~this.observers_.indexOf(observer)||this.observers_.push(observer),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);~index&&observers.splice(index,1),!observers.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));return activeObservers.forEach((function(observer){return observer.broadcastActive()})),activeObservers.length>0},ResizeObserverController.prototype.connect_=function(){ResizeObserver_es_isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){ResizeObserver_es_isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=void 0===_b?"":_b;transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:!1,writable:!1,configurable:!0})}return target},getWindowOf=function(target){return target&&target.ownerDocument&&target.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){for(var positions=[],_i=1;_i<arguments.length;_i++)positions[_i-1]=arguments[_i];return positions.reduce((function(size,position){return size+toFloat(styles["border-"+position+"-width"])}),0)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight)return emptyRect;var styles=getWindowOf(target).getComputedStyle(target),paddings=function(styles){for(var paddings={},_i=0,positions_1=["top","right","bottom","left"];_i<positions_1.length;_i++){var position=positions_1[_i],value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if("border-box"===styles.boxSizing&&(Math.round(width+horizPad)!==clientWidth&&(width-=getBordersSize(styles,"left","right")+horizPad),Math.round(height+vertPad)!==clientHeight&&(height-=getBordersSize(styles,"top","bottom")+vertPad)),!function(target){return target===getWindowOf(target).document.documentElement}(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth,horizScrollbar=Math.round(height+vertPad)-clientHeight;1!==Math.abs(vertScrollbar)&&(width-=vertScrollbar),1!==Math.abs(horizScrollbar)&&(height-=horizScrollbar)}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}:function(target){return target instanceof getWindowOf(target).SVGElement&&"function"==typeof target.getBBox};function getContentRect(target){return ResizeObserver_es_isBrowser?isSVGGraphicsElement(target)?function(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}(target):getHTMLElementContentRect(target):emptyRect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=target}return ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);return this.contentRect_=rect,rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;return this.broadcastWidth=rect.width,this.broadcastHeight=rect.height,rect},ResizeObservation}(),ResizeObserverEntry=function(target,rectInit){var _a,x,y,width,height,Constr,rect,contentRect=(x=(_a=rectInit).x,y=_a.y,width=_a.width,height=_a.height,Constr="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype),defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x}),rect);defineConfigurable(this,{target:target,contentRect:contentRect})},ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof callback)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=callback,this.controller_=controller,this.callbackCtx_=callbackCtx}return ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)||(observations.set(target,new ResizeObservation(target)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)&&(observations.delete(target),observations.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive(),this.observations_.forEach((function(observation){observation.isActive()&&_this.activeObservations_.push(observation)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var ctx=this.callbackCtx_,entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),ResizeObserver_es_observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver_es_ResizeObserver=function ResizeObserver(callback){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);ResizeObserver_es_observers.set(this,observer)};["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver_es_ResizeObserver.prototype[method]=function(){var _a;return(_a=ResizeObserver_es_observers.get(this))[method].apply(_a,arguments)}}));var ResizeObserver_es=void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver_es_ResizeObserver;function PerfectScrollbarComponent_div_3_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"div",3),ɵɵelement(1,"div",4),ɵɵelement(2,"div",5),ɵɵelement(3,"div",6),ɵɵelement(4,"div",7),ɵɵelementEnd()),2&rf){const ctx_r0=ɵɵnextContext();ɵɵclassProp("ps-at-top",ctx_r0.states.top)("ps-at-left",ctx_r0.states.left)("ps-at-right",ctx_r0.states.right)("ps-at-bottom",ctx_r0.states.bottom),ɵɵadvance(1),ɵɵclassProp("ps-indicator-show",ctx_r0.indicatorY&&ctx_r0.interaction),ɵɵadvance(1),ɵɵclassProp("ps-indicator-show",ctx_r0.indicatorX&&ctx_r0.interaction),ɵɵadvance(1),ɵɵclassProp("ps-indicator-show",ctx_r0.indicatorX&&ctx_r0.interaction),ɵɵadvance(1),ɵɵclassProp("ps-indicator-show",ctx_r0.indicatorY&&ctx_r0.interaction)}}const PERFECT_SCROLLBAR_CONFIG=new InjectionToken("PERFECT_SCROLLBAR_CONFIG");class Geometry{constructor(x,y,w,h){this.x=x,this.y=y,this.w=w,this.h=h}}class ngx_perfect_scrollbar_Position{constructor(x,y){this.x=x,this.y=y}}const PerfectScrollbarEvents=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class PerfectScrollbarConfig{constructor(config={}){this.assign(config)}assign(config={}){for(const key in config)this[key]=config[key]}}let ngx_perfect_scrollbar_PerfectScrollbarDirective=class{constructor(zone,differs,elementRef,platformId,defaults){this.zone=zone,this.differs=differs,this.elementRef=elementRef,this.platformId=platformId,this.defaults=defaults,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new Subject_Subject,this.disabled=!1,this.psScrollY=new core_EventEmitter,this.psScrollX=new core_EventEmitter,this.psScrollUp=new core_EventEmitter,this.psScrollDown=new core_EventEmitter,this.psScrollLeft=new core_EventEmitter,this.psScrollRight=new core_EventEmitter,this.psYReachEnd=new core_EventEmitter,this.psYReachStart=new core_EventEmitter,this.psXReachEnd=new core_EventEmitter,this.psXReachStart=new core_EventEmitter}ngOnInit(){if(!this.disabled&&isPlatformBrowser(this.platformId)){const config=new PerfectScrollbarConfig(this.defaults);config.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new perfect_scrollbar_esm(this.elementRef.nativeElement,config)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new ResizeObserver_es(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{PerfectScrollbarEvents.forEach(eventName=>{const eventType=eventName.replace(/([A-Z])/g,c=>`-${c.toLowerCase()}`);fromEvent(this.elementRef.nativeElement,eventType).pipe(auditTime(20),takeUntil(this.ngDestroy)).subscribe(event=>{this[eventName].emit(event)})})})}}ngOnDestroy(){isPlatformBrowser(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){if(!this.disabled&&this.configDiff&&isPlatformBrowser(this.platformId)){this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}}ngOnChanges(changes){changes.disabled&&!changes.disabled.isFirstChange()&&isPlatformBrowser(this.platformId)&&changes.disabled.currentValue!==changes.disabled.previousValue&&(!0===changes.disabled.currentValue?this.ngOnDestroy():!1===changes.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(error){}},0))}geometry(prefix="scroll"){return new Geometry(this.elementRef.nativeElement[prefix+"Left"],this.elementRef.nativeElement[prefix+"Top"],this.elementRef.nativeElement[prefix+"Width"],this.elementRef.nativeElement[prefix+"Height"])}position(absolute=!1){return!absolute&&this.instance?new ngx_perfect_scrollbar_Position(this.instance.reach.x||0,this.instance.reach.y||0):new ngx_perfect_scrollbar_Position(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(direction="any"){const element=this.elementRef.nativeElement;return"any"===direction?element.classList.contains("ps--active-x")||element.classList.contains("ps--active-y"):"both"===direction?element.classList.contains("ps--active-x")&&element.classList.contains("ps--active-y"):element.classList.contains("ps--active-"+direction)}scrollTo(x,y,speed){this.disabled||(null==y&&null==speed?this.animateScrolling("scrollTop",x,speed):(null!=x&&this.animateScrolling("scrollLeft",x,speed),null!=y&&this.animateScrolling("scrollTop",y,speed)))}scrollToX(x,speed){this.animateScrolling("scrollLeft",x,speed)}scrollToY(y,speed){this.animateScrolling("scrollTop",y,speed)}scrollToTop(offset,speed){this.animateScrolling("scrollTop",offset||0,speed)}scrollToLeft(offset,speed){this.animateScrolling("scrollLeft",offset||0,speed)}scrollToRight(offset,speed){const left=this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth;this.animateScrolling("scrollLeft",left-(offset||0),speed)}scrollToBottom(offset,speed){const top=this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight;this.animateScrolling("scrollTop",top-(offset||0),speed)}scrollToElement(qs,offset,speed){const element=this.elementRef.nativeElement.querySelector(qs);if(element){const elementPos=element.getBoundingClientRect(),scrollerPos=this.elementRef.nativeElement.getBoundingClientRect();if(this.elementRef.nativeElement.classList.contains("ps--active-x")){const currentPos=this.elementRef.nativeElement.scrollLeft,position=elementPos.left-scrollerPos.left+currentPos;this.animateScrolling("scrollLeft",position+(offset||0),speed)}if(this.elementRef.nativeElement.classList.contains("ps--active-y")){const currentPos=this.elementRef.nativeElement.scrollTop,position=elementPos.top-scrollerPos.top+currentPos;this.animateScrolling("scrollTop",position+(offset||0),speed)}}}animateScrolling(target,value,speed){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),speed&&"undefined"!=typeof window){if(value!==this.elementRef.nativeElement[target]){let newValue=0,scrollCount=0,oldTimestamp=performance.now(),oldValue=this.elementRef.nativeElement[target];const cosParameter=(oldValue-value)/2,step=newTimestamp=>{scrollCount+=Math.PI/(speed/(newTimestamp-oldTimestamp)),newValue=Math.round(value+cosParameter+cosParameter*Math.cos(scrollCount)),this.elementRef.nativeElement[target]===oldValue&&(scrollCount>=Math.PI?this.animateScrolling(target,value,0):(this.elementRef.nativeElement[target]=newValue,oldValue=this.elementRef.nativeElement[target],oldTimestamp=newTimestamp,this.animation=window.requestAnimationFrame(step)))};window.requestAnimationFrame(step)}}else this.elementRef.nativeElement[target]=value}};ngx_perfect_scrollbar_PerfectScrollbarDirective.ɵfac=function(t){return new(t||ngx_perfect_scrollbar_PerfectScrollbarDirective)(ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(KeyValueDiffers),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(PLATFORM_ID),ɵɵdirectiveInject(PERFECT_SCROLLBAR_CONFIG,8))},ngx_perfect_scrollbar_PerfectScrollbarDirective.ɵdir=ɵɵdefineDirective({type:ngx_perfect_scrollbar_PerfectScrollbarDirective,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[ɵɵNgOnChangesFeature]}),ngx_perfect_scrollbar_PerfectScrollbarDirective.ctorParameters=()=>[{type:NgZone},{type:KeyValueDiffers},{type:ElementRef},{type:Object,decorators:[{type:Inject,args:[PLATFORM_ID]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[PERFECT_SCROLLBAR_CONFIG]}]}],Object(tslib_es6.c)([Input()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"disabled",void 0),Object(tslib_es6.c)([Input("perfectScrollbar")],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"config",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollY",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollX",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollUp",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollDown",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollLeft",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psScrollRight",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psYReachEnd",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psYReachStart",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psXReachEnd",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarDirective.prototype,"psXReachStart",void 0),ngx_perfect_scrollbar_PerfectScrollbarDirective=Object(tslib_es6.c)([Object(tslib_es6.h)(3,Inject(PLATFORM_ID)),Object(tslib_es6.h)(4,Optional()),Object(tslib_es6.h)(4,Inject(PERFECT_SCROLLBAR_CONFIG))],ngx_perfect_scrollbar_PerfectScrollbarDirective);let ngx_perfect_scrollbar_PerfectScrollbarComponent=class{constructor(zone,cdRef,platformId){this.zone=zone,this.cdRef=cdRef,this.platformId=platformId,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new Subject_Subject,this.stateUpdate=new Subject_Subject,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new core_EventEmitter,this.psScrollX=new core_EventEmitter,this.psScrollUp=new core_EventEmitter,this.psScrollDown=new core_EventEmitter,this.psScrollLeft=new core_EventEmitter,this.psScrollRight=new core_EventEmitter,this.psYReachEnd=new core_EventEmitter,this.psYReachStart=new core_EventEmitter,this.psXReachEnd=new core_EventEmitter,this.psXReachStart=new core_EventEmitter}ngOnInit(){isPlatformBrowser(this.platformId)&&(this.stateUpdate.pipe(takeUntil(this.ngDestroy),distinctUntilChanged((a,b)=>a===b&&!this.stateTimeout)).subscribe(state=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===state||"y"===state?(this.interaction=!1,"x"===state?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===state&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===state||"right"===state?(this.states.left=!1,this.states.right=!1,this.states[state]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):"top"!==state&&"bottom"!==state||(this.states.top=!1,this.states.bottom=!1,this.states[state]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const element=this.directiveRef.elementRef.nativeElement;fromEvent(element,"wheel").pipe(takeUntil(this.ngDestroy)).subscribe(event=>{if(!this.disabled&&this.autoPropagation){const scrollDeltaX=event.deltaX,scrollDeltaY=event.deltaY;this.checkPropagation(event,scrollDeltaX,scrollDeltaY)}}),fromEvent(element,"touchmove").pipe(takeUntil(this.ngDestroy)).subscribe(event=>{if(!this.disabled&&this.autoPropagation){const scrollPositionX=event.touches[0].clientX,scrollPositionY=event.touches[0].clientY,scrollDeltaX=scrollPositionX-this.scrollPositionX,scrollDeltaY=scrollPositionY-this.scrollPositionY;this.checkPropagation(event,scrollDeltaX,scrollDeltaY),this.scrollPositionX=scrollPositionX,this.scrollPositionY=scrollPositionY}}),merge(fromEvent(element,"ps-scroll-x").pipe(mapTo("x")),fromEvent(element,"ps-scroll-y").pipe(mapTo("y")),fromEvent(element,"ps-x-reach-end").pipe(mapTo("right")),fromEvent(element,"ps-y-reach-end").pipe(mapTo("bottom")),fromEvent(element,"ps-x-reach-start").pipe(mapTo("left")),fromEvent(element,"ps-y-reach-start").pipe(mapTo("top"))).pipe(takeUntil(this.ngDestroy)).subscribe(state=>{this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(state)})}}),window.setTimeout(()=>{PerfectScrollbarEvents.forEach(eventName=>{this.directiveRef&&(this.directiveRef[eventName]=this[eventName])})},0))}ngOnDestroy(){isPlatformBrowser(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if(isPlatformBrowser(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const element=this.directiveRef.elementRef.nativeElement;this.usePropagationX=element.classList.contains("ps--active-x"),this.usePropagationY=element.classList.contains("ps--active-y")}}checkPropagation(event,deltaX,deltaY){this.interaction=!0;const scrollDirectionX=deltaX<0?-1:1,scrollDirectionY=deltaY<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==scrollDirectionX)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==scrollDirectionY))&&(event.preventDefault(),event.stopPropagation()),deltaX&&(this.scrollDirectionX=scrollDirectionX),deltaY&&(this.scrollDirectionY=scrollDirectionY),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}};ngx_perfect_scrollbar_PerfectScrollbarComponent.ɵfac=function(t){return new(t||ngx_perfect_scrollbar_PerfectScrollbarComponent)(ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(PLATFORM_ID))},ngx_perfect_scrollbar_PerfectScrollbarComponent.ɵcmp=ɵɵdefineComponent({type:ngx_perfect_scrollbar_PerfectScrollbarComponent,selectors:[["perfect-scrollbar"]],viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵstaticViewQuery(ngx_perfect_scrollbar_PerfectScrollbarDirective,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.directiveRef=_t.first))},hostVars:4,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("ps-show-limits",ctx.autoPropagation)("ps-show-active",ctx.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:["*"],decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"div",0),ɵɵelementStart(1,"div",1),ɵɵprojection(2),ɵɵelementEnd(),ɵɵtemplate(3,PerfectScrollbarComponent_div_3_Template,5,16,"div",2),ɵɵelementEnd()),2&rf&&(ɵɵclassProp("ps",ctx.usePSClass),ɵɵproperty("perfectScrollbar",ctx.config)("disabled",ctx.disabled),ɵɵadvance(3),ɵɵproperty("ngIf",ctx.scrollIndicators))},directives:[ngx_perfect_scrollbar_PerfectScrollbarDirective,NgIf],styles:["perfect-scrollbar{position:relative;display:block;overflow:hidden;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:-webkit-box;display:flex;flex-direction:column;height:auto;min-width:0;min-height:0;-webkit-box-direction:column;-webkit-box-orient:column}perfect-scrollbar[fxflex]>.ps{flex:1 1 auto;width:auto;height:auto;min-width:0;min-height:0;-webkit-box-flex:1}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{display:-webkit-box;display:flex;flex:1 1 auto;flex-direction:inherit;align-items:inherit;align-content:inherit;justify-content:inherit;width:100%;height:100%;-webkit-box-align:inherit;-webkit-box-direction:inherit;-webkit-box-flex:1;-webkit-box-orient:inherit;-webkit-box-pack:inherit},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important;-webkit-box-direction:row!important;-webkit-box-orient:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important;-webkit-box-direction:column!important;-webkit-box-orient:column!important}perfect-scrollbar>.ps{position:static;display:block;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:block;overflow:hidden;pointer-events:none}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{position:absolute;opacity:0;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-width:100%;min-height:24px}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{top:0;min-width:24px;min-height:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{top:0!important;right:0!important;left:auto!important;width:10px;cursor:default;-webkit-transition:width .2s linear,opacity .2s linear,background-color .2s linear;transition:width .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{top:auto!important;bottom:0!important;left:0!important;height:10px;cursor:default;-webkit-transition:height .2s linear,opacity .2s linear,background-color .2s linear;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{opacity:.9;background-color:#eee}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{opacity:1;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to bottom,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{opacity:1;background:-webkit-gradient(linear,left bottom,left top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to top,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{opacity:1;background:-webkit-gradient(linear,left top,right top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to right,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{opacity:1;background:-webkit-gradient(linear,right top,left top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to left,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:-webkit-gradient(linear,left top,left bottom,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to bottom,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:-webkit-gradient(linear,left bottom,left top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to top,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:-webkit-gradient(linear,left top,right top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to right,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:-webkit-gradient(linear,right top,left top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to left,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}"],encapsulation:2}),ngx_perfect_scrollbar_PerfectScrollbarComponent.ctorParameters=()=>[{type:NgZone},{type:ChangeDetectorRef},{type:Object,decorators:[{type:Inject,args:[PLATFORM_ID]}]}],Object(tslib_es6.c)([Input()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"disabled",void 0),Object(tslib_es6.c)([Input()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"usePSClass",void 0),Object(tslib_es6.c)([HostBinding("class.ps-show-limits"),Input()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"autoPropagation",void 0),Object(tslib_es6.c)([HostBinding("class.ps-show-active"),Input()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"scrollIndicators",void 0),Object(tslib_es6.c)([Input()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"config",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollY",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollX",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollUp",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollDown",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollLeft",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psScrollRight",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psYReachEnd",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psYReachStart",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psXReachEnd",void 0),Object(tslib_es6.c)([Output()],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"psXReachStart",void 0),Object(tslib_es6.c)([ViewChild(ngx_perfect_scrollbar_PerfectScrollbarDirective,{static:!0})],ngx_perfect_scrollbar_PerfectScrollbarComponent.prototype,"directiveRef",void 0),ngx_perfect_scrollbar_PerfectScrollbarComponent=Object(tslib_es6.c)([Object(tslib_es6.h)(2,Inject(PLATFORM_ID))],ngx_perfect_scrollbar_PerfectScrollbarComponent);let PerfectScrollbarModule=class{};PerfectScrollbarModule.ɵmod=ɵɵdefineNgModule({type:PerfectScrollbarModule}),PerfectScrollbarModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||PerfectScrollbarModule)},imports:[[CommonModule],CommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(PerfectScrollbarModule,{declarations:function(){return[ngx_perfect_scrollbar_PerfectScrollbarComponent,ngx_perfect_scrollbar_PerfectScrollbarDirective]},imports:function(){return[CommonModule]},exports:function(){return[CommonModule,ngx_perfect_scrollbar_PerfectScrollbarComponent,ngx_perfect_scrollbar_PerfectScrollbarDirective]}});var util=__webpack_require__("MCLT");class Trigger{constructor(open,close){this.open=open,this.close=close||open}isManual(){return"manual"===this.open||"manual"===this.close}}const DEFAULT_ALIASES={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function parseTriggers(triggers,aliases=DEFAULT_ALIASES){const trimmedTriggers=(triggers||"").trim();if(0===trimmedTriggers.length)return[];const parsedTriggers=trimmedTriggers.split(/\s+/).map(trigger=>trigger.split(":")).map(triggerPair=>{const alias=aliases[triggerPair[0]]||triggerPair;return new Trigger(alias[0],alias[1])}),manualTriggers=parsedTriggers.filter(triggerPair=>triggerPair.isManual());if(manualTriggers.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===manualTriggers.length&&parsedTriggers.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return parsedTriggers}const ngx_bootstrap_utils_win="undefined"!=typeof window&&window||{},document$1=ngx_bootstrap_utils_win.document;ngx_bootstrap_utils_win.location,ngx_bootstrap_utils_win.gc,ngx_bootstrap_utils_win.performance&&ngx_bootstrap_utils_win.performance,ngx_bootstrap_utils_win.Event,ngx_bootstrap_utils_win.MouseEvent,ngx_bootstrap_utils_win.KeyboardEvent,ngx_bootstrap_utils_win.EventTarget,ngx_bootstrap_utils_win.History,ngx_bootstrap_utils_win.Location,ngx_bootstrap_utils_win.EventListener;let guessedVersion;function isBs3(){return void 0===ngx_bootstrap_utils_win||(void 0===ngx_bootstrap_utils_win.__theme?guessedVersion?"bs3"===guessedVersion:(guessedVersion=function(){if("undefined"==typeof document)return null;const spanEl=document.createElement("span");spanEl.innerText="test bs version",document.body.appendChild(spanEl),spanEl.classList.add("d-none");const rect=spanEl.getBoundingClientRect();return document.body.removeChild(spanEl),rect&&0===rect.top?"bs4":"bs3"}(),"bs3"===guessedVersion):"bs4"!==ngx_bootstrap_utils_win.__theme)}class Utils{static reflow(element){element.offsetHeight}static getStyles(elem){let view=elem.ownerDocument.defaultView;return view&&view.opener||(view=ngx_bootstrap_utils_win),view.getComputedStyle(elem)}}"undefined"==typeof console||console;const animationFrame=new class extends AsyncScheduler_AsyncScheduler{flush(action){this.active=!0,this.scheduled=void 0;const{actions:actions}=this;let error,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}}}(class extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0?super.requestAsyncId(scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=requestAnimationFrame(()=>scheduler.flush(null))))}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&delay>0||null===delay&&this.delay>0)return super.recycleAsyncId(scheduler,id,delay);0===scheduler.actions.length&&(cancelAnimationFrame(id),scheduler.scheduled=void 0)}});function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];const css=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}const{overflow:overflow,overflowX:overflowX,overflowY:overflowY}=getStyleComputedProperty(element);return/(auto|scroll|overlay)/.test(String(overflow)+String(overflowY)+String(overflowX))?element:getScrollParent(getParentNode(element))}const ngx_bootstrap_positioning_isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,isIE11=ngx_bootstrap_positioning_isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=ngx_bootstrap_positioning_isBrowser&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function ngx_bootstrap_positioning_isIE(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;const noOffsetParent=ngx_bootstrap_positioning_isIE(10)?document.body:null;let sibling,offsetParent=element.offsetParent||null;for(;offsetParent===noOffsetParent&&element.nextElementSibling&&sibling!==element.nextElementSibling;)sibling=element.nextElementSibling,offsetParent=sibling.offsetParent;const nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:sibling?sibling.ownerDocument.documentElement:document.documentElement}function ngx_bootstrap_positioning_getRoot(node){return null!==node.parentNode?ngx_bootstrap_positioning_getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;const order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);const{commonAncestorContainer:commonAncestorContainer}=range;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return function(element){const{nodeName:nodeName}=element;return"BODY"!==nodeName&&("HTML"===nodeName||getOffsetParent(element.firstElementChild)===element)}(commonAncestorContainer)?commonAncestorContainer:getOffsetParent(commonAncestorContainer);const element1root=ngx_bootstrap_positioning_getRoot(element1);return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,ngx_bootstrap_positioning_getRoot(element2).host)}function ngx_bootstrap_positioning_getBordersSize(styles,axis){const sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles[`border${sideA}Width`])+parseFloat(styles[`border${sideB}Width`])}function getSize(axis,body,html,computedStyle){return Math.max(body[`offset${axis}`],body[`scroll${axis}`],html[`client${axis}`],html[`offset${axis}`],html[`scroll${axis}`],ngx_bootstrap_positioning_isIE(10)?parseInt(html[`offset${axis}`],10)+parseInt(computedStyle[`margin${"Height"===axis?"Top":"Left"}`],10)+parseInt(computedStyle[`margin${"Height"===axis?"Bottom":"Right"}`],10):0)}function getWindowSizes(document){const body=document.body,html=document.documentElement,computedStyle=ngx_bootstrap_positioning_isIE(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}function getScroll(element,side="top"){const upperSide="top"===side?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){const html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function getClientRect(offsets){return Object.assign({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){let rect={};try{if(ngx_bootstrap_positioning_isIE(10)){rect=element.getBoundingClientRect();const scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){return}const result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.right-result.left,height=sizes.height||element.clientHeight||result.bottom-result.top;let horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){const styles=getStyleComputedProperty(element);horizScrollbar-=ngx_bootstrap_positioning_getBordersSize(styles,"x"),vertScrollbar-=ngx_bootstrap_positioning_getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent,fixedPosition=!1){const isIE10=ngx_bootstrap_positioning_isIE(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth),borderLeftWidth=parseFloat(styles.borderLeftWidth);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));let offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){const marginTop=parseFloat(styles.marginTop),marginLeft=parseFloat(styles.marginLeft);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=function(rect,element,subtract=!1){const scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}(offsets,parent)),offsets}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||ngx_bootstrap_positioning_isIE())return document.documentElement;let el=element.parentElement;for(;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(target,host,padding=0,boundariesElement,fixedPosition=!1){let boundaries={top:0,left:0};const offsetParent=fixedPosition?getFixedPositionOffsetParent(target):findCommonOffsetParent(target,host);if("viewport"===boundariesElement)boundaries=function(element,excludeScroll=!1){const html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-Number(relativeOffset.top)+Number(relativeOffset.marginTop),left:scrollLeft-Number(relativeOffset.left)+Number(relativeOffset.marginLeft),width:width,height:height})}(offsetParent,fixedPosition);else{let boundariesNode;"scrollParent"===boundariesElement?(boundariesNode=getScrollParent(getParentNode(host)),"BODY"===boundariesNode.nodeName&&(boundariesNode=target.ownerDocument.documentElement)):boundariesNode="window"===boundariesElement?target.ownerDocument.documentElement:boundariesElement;const offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition);if("HTML"!==boundariesNode.nodeName||function isFixed(element){const nodeName=element.nodeName;return"BODY"!==nodeName&&"HTML"!==nodeName&&("fixed"===getStyleComputedProperty(element,"position")||isFixed(getParentNode(element)))}(offsetParent))boundaries=offsets;else{const{height:height,width:width}=getWindowSizes(target.ownerDocument);boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=Number(height)+Number(offsets.top),boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=Number(width)+Number(offsets.left)}}return boundaries.left+=padding,boundaries.top+=padding,boundaries.right-=padding,boundaries.bottom-=padding,boundaries}function getArea({width:width,height:height}){return width*height}function computeAutoPlacement(placement,refRect,target,host,allowedPositions=["top","bottom","right","left"],boundariesElement="viewport",padding=0){if(-1===placement.indexOf("auto"))return placement;const boundaries=getBoundaries(target,host,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}},sortedAreas=Object.keys(rects).map(key=>Object.assign({key:key},rects[key],{area:getArea(rects[key])})).sort((a,b)=>b.area-a.area);let filteredAreas=sortedAreas.filter(({width:width,height:height})=>width>=target.clientWidth&&height>=target.clientHeight);filteredAreas=filteredAreas.filter(position=>allowedPositions.some(allowedPosition=>allowedPosition===position.key));const computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split(" ")[1];return target.className=target.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${computedPlacement}`),computedPlacement+(variation?`-${variation}`:"")}function getOuterSizes(element){const styles=element.ownerDocument.defaultView.getComputedStyle(element),x=parseFloat(styles.marginTop||0)+parseFloat(styles.marginBottom||0),y=parseFloat(styles.marginLeft||0)+parseFloat(styles.marginRight||0);return{width:Number(element.offsetWidth)+y,height:Number(element.offsetHeight)+x}}function getReferenceOffsets(target,host,fixedPosition=null){return getOffsetRectRelativeToArbitraryNode(host,fixedPosition?getFixedPositionOffsetParent(target):findCommonOffsetParent(target,host),fixedPosition)}function getTargetOffsets(target,hostOffsets,position){const placement=position.split(" ")[0],targetRect=getOuterSizes(target),targetOffsets={width:targetRect.width,height:targetRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return targetOffsets[mainSide]=hostOffsets[mainSide]+hostOffsets[measurement]/2-targetRect[measurement]/2,targetOffsets[secondarySide]=placement===secondarySide?hostOffsets[secondarySide]-targetRect[secondaryMeasurement]:hostOffsets[function(placement){const hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,matched=>hash[matched])}(secondarySide)],targetOffsets}function isModifierEnabled(options,modifierName){return options&&options.modifiers&&options.modifiers[modifierName]&&options.modifiers[modifierName].enabled}function ngx_bootstrap_positioning_setStyles(element,styles,renderer){Object.keys(styles).forEach(prop=>{let unit="";var n;-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&(""!==(n=styles[prop])&&!isNaN(parseFloat(n))&&isFinite(n))&&(unit="px"),renderer?renderer.setStyle(element,prop,`${String(styles[prop])}${unit}`):element.style[prop]=String(styles[prop])+unit})}function ngx_bootstrap_positioning_arrow(data){let targetOffsets=data.offsets.target;const arrowElement=data.instance.target.querySelector(".arrow");if(!arrowElement)return data;const isVertical=-1!==["left","right"].indexOf(data.placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len];data.offsets.host[opSide]-arrowElementSize<targetOffsets[side]&&(targetOffsets[side]-=targetOffsets[side]-(data.offsets.host[opSide]-arrowElementSize)),Number(data.offsets.host[side])+Number(arrowElementSize)>targetOffsets[opSide]&&(targetOffsets[side]+=Number(data.offsets.host[side])+Number(arrowElementSize)-Number(targetOffsets[opSide])),targetOffsets=getClientRect(targetOffsets);const center=Number(data.offsets.host[side])+Number(data.offsets.host[len]/2-arrowElementSize/2),css=getStyleComputedProperty(data.instance.target),targetMarginSide=parseFloat(css[`margin${sideCapitalized}`]),targetBorderSide=parseFloat(css[`border${sideCapitalized}Width`]);let sideValue=center-targetOffsets[side]-targetMarginSide-targetBorderSide;return sideValue=Math.max(Math.min(targetOffsets[len]-arrowElementSize,sideValue),0),data.offsets.arrow={[side]:Math.round(sideValue),[altSide]:""},data.instance.arrow=arrowElement,data}function flip(data){if(data.offsets.target=getClientRect(data.offsets.target),!isModifierEnabled(data.options,"flip"))return data.offsets.target=Object.assign({},data.offsets.target,getTargetOffsets(data.instance.target,data.offsets.host,data.placement)),data;const boundaries=getBoundaries(data.instance.target,data.instance.host,0,"viewport",!1);let placement=data.placement.split(" ")[0],variation=data.placement.split(" ")[1]||"";const adaptivePosition=computeAutoPlacement("auto",data.offsets.host,data.instance.target,data.instance.host,data.options.allowedPositions),flipOrder=[placement,adaptivePosition];return flipOrder.forEach((step,index)=>{if(placement!==step||flipOrder.length===index+1)return data;placement=data.placement.split(" ")[0];const overlapsRef="left"===placement&&Math.floor(data.offsets.target.right)>Math.floor(data.offsets.host.left)||"right"===placement&&Math.floor(data.offsets.target.left)<Math.floor(data.offsets.host.right)||"top"===placement&&Math.floor(data.offsets.target.bottom)>Math.floor(data.offsets.host.top)||"bottom"===placement&&Math.floor(data.offsets.target.top)<Math.floor(data.offsets.host.bottom),overflowsLeft=Math.floor(data.offsets.target.left)<Math.floor(boundaries.left),overflowsRight=Math.floor(data.offsets.target.right)>Math.floor(boundaries.right),overflowsTop=Math.floor(data.offsets.target.top)<Math.floor(boundaries.top),overflowsBottom=Math.floor(data.offsets.target.bottom)>Math.floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariation=isVertical&&"left"===variation&&overflowsLeft||isVertical&&"right"===variation&&overflowsRight||!isVertical&&"left"===variation&&overflowsTop||!isVertical&&"right"===variation&&overflowsBottom;(overlapsRef||overflowsBoundaries||flippedVariation)&&((overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=function(variation){return"right"===variation?"left":"left"===variation?"right":variation}(variation)),data.placement=placement+(variation?` ${variation}`:""),data.offsets.target=Object.assign({},data.offsets.target,getTargetOffsets(data.instance.target,data.offsets.host,data.placement)))}),data}function preventOverflow(data){if(!isModifierEnabled(data.options,"preventOverflow"))return data;const transformProp="transform",targetStyles=data.instance.target.style,{top:top,left:left,[transformProp]:transform}=targetStyles;targetStyles.top="",targetStyles.left="",targetStyles[transformProp]="";const boundaries=getBoundaries(data.instance.target,data.instance.host,0,"scrollParent",!1);targetStyles.top=top,targetStyles.left=left,targetStyles[transformProp]=transform;const check={primary(placement){let value=data.offsets.target[placement];return data.offsets.target[placement]<boundaries[placement]&&(value=Math.max(data.offsets.target[placement],boundaries[placement])),{[placement]:value}},secondary(placement){const mainSide="right"===placement?"left":"top";let value=data.offsets.target[mainSide];return data.offsets.target[placement]>boundaries[placement]&&(value=Math.min(data.offsets.target[mainSide],boundaries[placement]-("right"===placement?data.offsets.target.width:data.offsets.target.height))),{[mainSide]:value}}};let side;return["left","right","top","bottom"].forEach(placement=>{side=-1!==["left","top"].indexOf(placement)?"primary":"secondary",data.offsets.target=Object.assign({},data.offsets.target,check[side](placement))}),data}function ngx_bootstrap_positioning_shift(data){const placement=data.placement,basePlacement=placement.split(" ")[0],shiftvariation=placement.split(" ")[1];if(shiftvariation){const{host:host,target:target}=data.offsets,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:{[side]:host[side]},end:{[side]:host[side]+host[measurement]-target[measurement]}};data.offsets.target=Object.assign({},target,shiftOffsets[shiftvariation])}return data}const positionService=new class{position(hostElement,targetElement,round=!0){return this.offset(hostElement,targetElement,!1)}offset(hostElement,targetElement,round=!0){return getReferenceOffsets(targetElement,hostElement)}positionElements(hostElement,targetElement,position,appendToBody,options){return[flip,ngx_bootstrap_positioning_shift,preventOverflow,ngx_bootstrap_positioning_arrow].reduce((modifiedData,modifier)=>modifier(modifiedData),function(targetElement,hostElement,position,options){const hostElPosition=getReferenceOffsets(targetElement,hostElement);position.match(/^(auto)*\s*(left|right|top|bottom)*$/)||position.match(/^(left|right|top|bottom)*\s*(start|end)*$/)||(position="auto");const placementAuto=!!position.match(/auto/g);let placement=position.match(/auto\s(left|right|top|bottom)/)?position.split(" ")[1]||"auto":position;const targetOffset=getTargetOffsets(targetElement,hostElPosition,placement);return placement=computeAutoPlacement(placement,hostElPosition,targetElement,hostElement,options?options.allowedPositions:void 0),{options:options,instance:{target:targetElement,host:hostElement,arrow:null},offsets:{target:targetOffset,host:hostElPosition,arrow:null},positionFixed:!1,placement:placement,placementAuto:placementAuto}}(targetElement,hostElement,position,options))}};function positionElements(hostElement,targetElement,placement,appendToBody,options,renderer){const data=positionService.positionElements(hostElement,targetElement,placement,appendToBody,options),offsets=function(data){return{width:data.offsets.target.width,height:data.offsets.target.height,left:Math.floor(data.offsets.target.left),top:Math.round(data.offsets.target.top),bottom:Math.round(data.offsets.target.bottom),right:Math.floor(data.offsets.target.right)}}(data);ngx_bootstrap_positioning_setStyles(targetElement,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${offsets.left}px, ${offsets.top}px, 0px)`},renderer),data.instance.arrow&&ngx_bootstrap_positioning_setStyles(data.instance.arrow,data.offsets.arrow,renderer),function(data,renderer){const target=data.instance.target;let containerClass=target.className;data.placementAuto&&(containerClass=containerClass.replace(/bs-popover-auto/g,`bs-popover-${data.placement}`),containerClass=containerClass.replace(/bs-tooltip-auto/g,`bs-tooltip-${data.placement}`),containerClass=containerClass.replace(/\sauto/g,` ${data.placement}`),-1!==containerClass.indexOf("popover")&&-1===containerClass.indexOf("popover-auto")&&(containerClass+=" popover-auto"),-1!==containerClass.indexOf("tooltip")&&-1===containerClass.indexOf("tooltip-auto")&&(containerClass+=" tooltip-auto")),containerClass=containerClass.replace(/left|right|top|bottom/g,`${data.placement.split(" ")[0]}`),renderer?renderer.setAttribute(target,"class",containerClass):target.className=containerClass}(data,renderer)}class ngx_bootstrap_positioning_PositioningService{constructor(ngZone,rendererFactory,platformId){this.update$$=new Subject_Subject,this.positionElements=new Map,this.isDisabled=!1,isPlatformBrowser(platformId)&&ngZone.runOutsideAngular(()=>{this.triggerEvent$=merge(fromEvent(window,"scroll",{passive:!0}),fromEvent(window,"resize",{passive:!0}),of(0,animationFrame),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(positionElement=>{positionElements(_getHtmlElement(positionElement.target),_getHtmlElement(positionElement.element),positionElement.attachment,positionElement.appendToBody,this.options,rendererFactory.createRenderer(null,null))})})})}position(options){this.addPositionElement(options)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(options){this.positionElements.set(_getHtmlElement(options.element),options)}calcPosition(){this.update$$.next()}deletePositionElement(elRef){this.positionElements.delete(_getHtmlElement(elRef))}setOptions(options){this.options=options}}function _getHtmlElement(element){return"string"==typeof element?document.querySelector(element):element instanceof ElementRef?element.nativeElement:element}ngx_bootstrap_positioning_PositioningService.ɵfac=function(t){return new(t||ngx_bootstrap_positioning_PositioningService)(ɵɵinject(NgZone),ɵɵinject(RendererFactory2),ɵɵinject(PLATFORM_ID))},ngx_bootstrap_positioning_PositioningService.ɵprov=ɵɵdefineInjectable({token:ngx_bootstrap_positioning_PositioningService,factory:ngx_bootstrap_positioning_PositioningService.ɵfac}),ngx_bootstrap_positioning_PositioningService.ctorParameters=()=>[{type:NgZone},{type:RendererFactory2},{type:Number,decorators:[{type:Inject,args:[PLATFORM_ID]}]}];class ContentRef{constructor(nodes,viewRef,componentRef){this.nodes=nodes,this.viewRef=viewRef,this.componentRef=componentRef}}class ngx_bootstrap_component_loader_ComponentLoader{constructor(_viewContainerRef,_renderer,_elementRef,_injector,_componentFactoryResolver,_ngZone,_applicationRef,_posService){this._viewContainerRef=_viewContainerRef,this._renderer=_renderer,this._elementRef=_elementRef,this._injector=_injector,this._componentFactoryResolver=_componentFactoryResolver,this._ngZone=_ngZone,this._applicationRef=_applicationRef,this._posService=_posService,this.onBeforeShow=new core_EventEmitter,this.onShown=new core_EventEmitter,this.onBeforeHide=new core_EventEmitter,this.onHidden=new core_EventEmitter,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(compType){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(compType),this}to(container){return this.container=container||this.container,this}position(opts){return this.attachment=opts.attachment||this.attachment,this._elementRef=opts.target||this._elementRef,this}provide(provider){return this._providers.push(provider),this}show(opts={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(opts.content,opts.context,opts.initialState);const injector=Injector.create({providers:this._providers,parent:this._injector});if(this._componentRef=this._componentFactory.create(injector,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,opts),this.container instanceof ElementRef&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const componentEl=this._componentRef.location.nativeElement;return componentEl.parentNode.removeChild(componentEl),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(listenOpts){this.triggers=listenOpts.triggers||this.triggers,this._listenOpts.outsideClick=listenOpts.outsideClick,this._listenOpts.outsideEsc=listenOpts.outsideEsc,listenOpts.target=listenOpts.target||this._elementRef.nativeElement;const hide=this._listenOpts.hide=()=>listenOpts.hide?listenOpts.hide():void this.hide(),show=this._listenOpts.show=registerHide=>{listenOpts.show?listenOpts.show(registerHide):this.show(registerHide),registerHide()};return this._unregisterListenersFn=function(renderer,options){const parsedTriggers=parseTriggers(options.triggers),target=options.target;if(1===parsedTriggers.length&&parsedTriggers[0].isManual())return Function.prototype;const listeners=[],_registerHide=[],registerHide=()=>{_registerHide.forEach(fn=>listeners.push(fn())),_registerHide.length=0};return parsedTriggers.forEach(trigger=>{const useToggle=trigger.open===trigger.close,showFn=useToggle?options.toggle:options.show;useToggle||_registerHide.push(()=>renderer.listen(target,trigger.close,options.hide)),listeners.push(renderer.listen(target,trigger.open,()=>showFn(registerHide)))}),()=>{listeners.forEach(unsubscribeFn=>unsubscribeFn())}}(this._renderer,{target:listenOpts.target,triggers:listenOpts.triggers,show:show,hide:hide,toggle:registerHide=>{this.isShown?hide():show(registerHide)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(vRef,template){return this._inlineViewRef=vRef.createEmbeddedView(template),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const target=this._componentRef.location.nativeElement;setTimeout(()=>{var renderer,options;this._globalListener=(renderer=this._renderer,(options={targets:[target,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?renderer.listen("document","click",event=>{options.target&&options.target.contains(event.target)||options.targets&&options.targets.some(target=>target.contains(event.target))||options.hide()}):Function.prototype)})}if(this._listenOpts.outsideEsc){const target=this._componentRef.location.nativeElement;this._globalListener=(renderer=this._renderer,(options={targets:[target,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?renderer.listen("document","keyup.esc",event=>{options.target&&options.target.contains(event.target)||options.targets&&options.targets.some(target=>target.contains(event.target))||options.hide()}):Function.prototype)}var renderer,options}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(content,context,initialState){if(!content)return new ContentRef([]);if(content instanceof TemplateRef){if(this._viewContainerRef){const _viewRef=this._viewContainerRef.createEmbeddedView(content,context);return _viewRef.markForCheck(),new ContentRef([_viewRef.rootNodes],_viewRef)}const viewRef=content.createEmbeddedView({});return this._applicationRef.attachView(viewRef),new ContentRef([viewRef.rootNodes],viewRef)}if("function"==typeof content){const contentCmptFactory=this._componentFactoryResolver.resolveComponentFactory(content),modalContentInjector=Injector.create({providers:this._providers,parent:this._injector}),componentRef=contentCmptFactory.create(modalContentInjector);return Object.assign(componentRef.instance,initialState),this._applicationRef.attachView(componentRef.hostView),new ContentRef([[componentRef.location.nativeElement]],componentRef.hostView,componentRef)}return new ContentRef([[this._renderer.createText(`${content}`)]])}}class ComponentLoaderFactory{constructor(_componentFactoryResolver,_ngZone,_injector,_posService,_applicationRef){this._componentFactoryResolver=_componentFactoryResolver,this._ngZone=_ngZone,this._injector=_injector,this._posService=_posService,this._applicationRef=_applicationRef}createLoader(_elementRef,_viewContainerRef,_renderer){return new ngx_bootstrap_component_loader_ComponentLoader(_viewContainerRef,_renderer,_elementRef,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}ComponentLoaderFactory.ɵfac=function(t){return new(t||ComponentLoaderFactory)(ɵɵinject(ComponentFactoryResolver),ɵɵinject(NgZone),ɵɵinject(Injector),ɵɵinject(ngx_bootstrap_positioning_PositioningService),ɵɵinject(core_ApplicationRef))},ComponentLoaderFactory.ɵprov=ɵɵdefineInjectable({token:ComponentLoaderFactory,factory:ComponentLoaderFactory.ɵfac}),ComponentLoaderFactory.ctorParameters=()=>[{type:ComponentFactoryResolver},{type:NgZone},{type:Injector},{type:ngx_bootstrap_positioning_PositioningService},{type:core_ApplicationRef}];class BsModalRef{constructor(){this.hide=Function,this.setClass=Function}}BsModalRef.ɵfac=function(t){return new(t||BsModalRef)},BsModalRef.ɵprov=ɵɵdefineInjectable({token:BsModalRef,factory:BsModalRef.ɵfac});class ModalOptions{}ModalOptions.ɵfac=function(t){return new(t||ModalOptions)},ModalOptions.ɵprov=ɵɵdefineInjectable({token:ModalOptions,factory:ModalOptions.ɵfac});const modalConfigDefaults={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},CLASS_NAME_SCROLLBAR_MEASURER="modal-scrollbar-measure",CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE="fade",CLASS_NAME_IN="in",CLASS_NAME_SHOW="show",TRANSITION_DURATIONS_MODAL=300,TRANSITION_DURATIONS_BACKDROP=150,DISMISS_REASONS_BACKRDOP="backdrop-click",DISMISS_REASONS_ESC="esc";class ngx_bootstrap_modal_ModalContainerComponent{constructor(options,_element,_renderer){this._element=_element,this._renderer=_renderer,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},options)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,CLASS_NAME_FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,isBs3()?CLASS_NAME_IN:CLASS_NAME_SHOW)},this.isAnimated?TRANSITION_DURATIONS_BACKDROP:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,CLASS_NAME_OPEN)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(event){this.clickStartedInContent=event.target!==this._element.nativeElement}onClickStop(event){const clickedInBackdrop=event.target===this._element.nativeElement&&!this.clickStartedInContent;!this.config.ignoreBackdropClick&&"static"!==this.config.backdrop&&clickedInBackdrop?(this.bsModalService.setDismissReason(DISMISS_REASONS_BACKRDOP),this.hide()):this.clickStartedInContent=!1}onEsc(event){this.isShown&&(27!==event.keyCode&&"Escape"!==event.key||event.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason(DISMISS_REASONS_ESC),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,isBs3()?CLASS_NAME_IN:CLASS_NAME_SHOW),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,CLASS_NAME_OPEN),this.bsModalService.hide(this.level),this.isModalHiding=!1},this.isAnimated?TRANSITION_DURATIONS_MODAL:0))}}ngx_bootstrap_modal_ModalContainerComponent.ɵfac=function(t){return new(t||ngx_bootstrap_modal_ModalContainerComponent)(ɵɵdirectiveInject(ModalOptions),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2))},ngx_bootstrap_modal_ModalContainerComponent.ɵcmp=ɵɵdefineComponent({type:ngx_bootstrap_modal_ModalContainerComponent,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:1,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("mousedown",(function($event){return ctx.onClickStarted($event)}))("mouseup",(function($event){return ctx.onClickStop($event)}))("keydown.esc",(function($event){return ctx.onEsc($event)}),!1,ɵɵresolveWindow),2&rf&&ɵɵattribute("aria-modal",!0)},ngContentSelectors:["*"],decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"div",0),ɵɵelementStart(1,"div",1),ɵɵprojection(2),ɵɵelementEnd(),ɵɵelementEnd()),2&rf&&ɵɵclassMap("modal-dialog"+(ctx.config.class?" "+ctx.config.class:""))},encapsulation:2}),ngx_bootstrap_modal_ModalContainerComponent.ctorParameters=()=>[{type:ModalOptions},{type:ElementRef},{type:Renderer2}],ngx_bootstrap_modal_ModalContainerComponent.propDecorators={onClickStarted:[{type:HostListener,args:["mousedown",["$event"]]}],onClickStop:[{type:HostListener,args:["mouseup",["$event"]]}],onEsc:[{type:HostListener,args:["window:keydown.esc",["$event"]]}]};class ngx_bootstrap_modal_ModalBackdropComponent{constructor(element,renderer){this._isShown=!1,this.element=element,this.renderer=renderer}get isAnimated(){return this._isAnimated}set isAnimated(value){this._isAnimated=value}get isShown(){return this._isShown}set isShown(value){this._isShown=value,value?this.renderer.addClass(this.element.nativeElement,`${CLASS_NAME_IN}`):this.renderer.removeClass(this.element.nativeElement,`${CLASS_NAME_IN}`),isBs3()||(value?this.renderer.addClass(this.element.nativeElement,`${CLASS_NAME_SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${CLASS_NAME_SHOW}`))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${CLASS_NAME_FADE}`),Utils.reflow(this.element.nativeElement)),this.isShown=!0}}ngx_bootstrap_modal_ModalBackdropComponent.ɵfac=function(t){return new(t||ngx_bootstrap_modal_ModalBackdropComponent)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2))},ngx_bootstrap_modal_ModalBackdropComponent.ɵcmp=ɵɵdefineComponent({type:ngx_bootstrap_modal_ModalBackdropComponent,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2}),ngx_bootstrap_modal_ModalBackdropComponent.ctorParameters=()=>[{type:ElementRef},{type:Renderer2}];class ngx_bootstrap_modal_ModalDirective{constructor(_element,_viewContainerRef,_renderer,clf){this._element=_element,this._renderer=_renderer,this.onShow=new core_EventEmitter,this.onShown=new core_EventEmitter,this.onHide=new core_EventEmitter,this.onHidden=new core_EventEmitter,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=clf.createLoader(_element,_viewContainerRef,_renderer)}set config(conf){this._config=this.getConfig(conf)}get config(){return this._config}get isShown(){return this._isShown}onClickStarted(event){this.clickStartedInContent=event.target!==this._element.nativeElement}onClickStop(event){const clickedInBackdrop=event.target===this._element.nativeElement&&!this.clickStartedInContent;!this.config.ignoreBackdropClick&&"static"!==this.config.backdrop&&clickedInBackdrop?(this.dismissReason=DISMISS_REASONS_BACKRDOP,this.hide(event)):this.clickStartedInContent=!1}onEsc(event){this._isShown&&(27!==event.keyCode&&"Escape"!==event.key||event.preventDefault(),this.config.keyboard&&(this.dismissReason=DISMISS_REASONS_ESC,this.hide()))}ngOnDestroy(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),document$1&&document$1.body&&(document$1.body.classList.contains(CLASS_NAME_OPEN)?this.isNested=!0:this._renderer.addClass(document$1.body,CLASS_NAME_OPEN)),this.showBackdrop(()=>{this.showElement()}))}hide(event){event&&event.preventDefault(),this.onHide.emit(this),this._isShown&&(ngx_bootstrap_utils_win.clearTimeout(this.timerHideModal),ngx_bootstrap_utils_win.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,CLASS_NAME_IN),isBs3()||this._renderer.removeClass(this._element.nativeElement,CLASS_NAME_SHOW),this._config.animated?this.timerHideModal=ngx_bootstrap_utils_win.setTimeout(()=>this.hideModal(),300):this.hideModal())}getConfig(config){return Object.assign({},modalConfigDefaults,config)}showElement(){this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||document$1&&document$1.body&&document$1.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&Utils.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,CLASS_NAME_IN),isBs3()||this._renderer.addClass(this._element.nativeElement,CLASS_NAME_SHOW);const transitionComplete=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(transitionComplete,300):transitionComplete()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(document$1&&document$1.body&&this._renderer.removeClass(document$1.body,CLASS_NAME_OPEN),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(callback){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const callbackRemove=()=>{this.removeBackdrop(),callback&&callback()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=ngx_bootstrap_utils_win.setTimeout(callbackRemove,150):callbackRemove()}else callback&&callback();else{if(this.removeBackdrop(),this._backdrop.attach(ngx_bootstrap_modal_ModalBackdropComponent).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!callback)return;if(!this._config.animated)return void callback();setTimeout(callback,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const otherOpenedModals=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");otherOpenedModals.length&&otherOpenedModals[otherOpenedModals.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=document$1.body.clientWidth<ngx_bootstrap_utils_win.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document$1&&(this.originalBodyPadding=parseInt(ngx_bootstrap_utils_win.getComputedStyle(document$1.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(document$1.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document$1.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const scrollDiv=this._renderer.createElement("div");this._renderer.addClass(scrollDiv,CLASS_NAME_SCROLLBAR_MEASURER),this._renderer.appendChild(document$1.body,scrollDiv);const scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this._renderer.removeChild(document$1.body,scrollDiv),scrollbarWidth}}ngx_bootstrap_modal_ModalDirective.ɵfac=function(t){return new(t||ngx_bootstrap_modal_ModalDirective)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ComponentLoaderFactory))},ngx_bootstrap_modal_ModalDirective.ɵdir=ɵɵdefineDirective({type:ngx_bootstrap_modal_ModalDirective,selectors:[["","bsModal",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("mousedown",(function($event){return ctx.onClickStarted($event)}))("mouseup",(function($event){return ctx.onClickStop($event)}))("keydown.esc",(function($event){return ctx.onEsc($event)}))},inputs:{config:"config"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),ngx_bootstrap_modal_ModalDirective.ctorParameters=()=>[{type:ElementRef},{type:ViewContainerRef},{type:Renderer2},{type:ComponentLoaderFactory}],ngx_bootstrap_modal_ModalDirective.propDecorators={config:[{type:Input}],onShow:[{type:Output}],onShown:[{type:Output}],onHide:[{type:Output}],onHidden:[{type:Output}],onClickStarted:[{type:HostListener,args:["mousedown",["$event"]]}],onClickStop:[{type:HostListener,args:["mouseup",["$event"]]}],onEsc:[{type:HostListener,args:["keydown.esc",["$event"]]}]};class ngx_bootstrap_modal_BsModalService{constructor(rendererFactory,clf){this.clf=clf,this.config=modalConfigDefaults,this.onShow=new core_EventEmitter,this.onShown=new core_EventEmitter,this.onHide=new core_EventEmitter,this.onHidden=new core_EventEmitter,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=rendererFactory.createRenderer(null,null)}show(content,config){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},modalConfigDefaults,config),this._showBackdrop(),this.lastDismissReason=null,this._showModal(content)}hide(level){1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(level),this.removeLoaders(level)},this.config.animated?TRANSITION_DURATIONS_BACKDROP:0)}_showBackdrop(){const isBackdropEnabled=this.config.backdrop||"static"===this.config.backdrop,isBackdropInDOM=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),isBackdropEnabled&&isBackdropInDOM&&(this._backdropLoader.attach(ngx_bootstrap_modal_ModalBackdropComponent).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;const duration=this.config.animated?TRANSITION_DURATIONS_BACKDROP:0;setTimeout(()=>this.removeBackdrop(),duration)}_showModal(content){const modalLoader=this.loaders[this.loaders.length-1],bsModalRef=new BsModalRef,modalContainerRef=modalLoader.provide({provide:ModalOptions,useValue:this.config}).provide({provide:BsModalRef,useValue:bsModalRef}).attach(ngx_bootstrap_modal_ModalContainerComponent).to("body").show({content:content,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return modalContainerRef.instance.level=this.getModalsCount(),bsModalRef.hide=()=>{const duration=this.config.animated?TRANSITION_DURATIONS_MODAL:0;setTimeout(()=>modalContainerRef.instance.hide(),duration)},bsModalRef.content=modalLoader.getInnerComponent()||null,bsModalRef.setClass=newClass=>{modalContainerRef.instance.config.class=newClass},bsModalRef}_hideModal(level){const modalLoader=this.loaders[level-1];modalLoader&&modalLoader.hide()}getModalsCount(){return this.modalsCount}setDismissReason(reason){this.lastDismissReason=reason}removeBackdrop(){this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const scrollDiv=this._renderer.createElement("div");this._renderer.addClass(scrollDiv,CLASS_NAME_SCROLLBAR_MEASURER),this._renderer.appendChild(document.body,scrollDiv);const scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this._renderer.removeChild(document.body,scrollDiv),scrollbarWidth}_createLoaders(){const loader=this.clf.createLoader(null,null,null);this.copyEvent(loader.onBeforeShow,this.onShow),this.copyEvent(loader.onShown,this.onShown),this.copyEvent(loader.onBeforeHide,this.onHide),this.copyEvent(loader.onHidden,this.onHidden),this.loaders.push(loader)}removeLoaders(level){this.loaders.splice(level-1,1),this.loaders.forEach((loader,i)=>{loader.instance.level=i+1})}copyEvent(from,to){from.subscribe(()=>{to.emit(this.lastDismissReason)})}}ngx_bootstrap_modal_BsModalService.ɵfac=function(t){return new(t||ngx_bootstrap_modal_BsModalService)(ɵɵinject(RendererFactory2),ɵɵinject(ComponentLoaderFactory))},ngx_bootstrap_modal_BsModalService.ɵprov=ɵɵdefineInjectable({token:ngx_bootstrap_modal_BsModalService,factory:ngx_bootstrap_modal_BsModalService.ɵfac}),ngx_bootstrap_modal_BsModalService.ctorParameters=()=>[{type:RendererFactory2},{type:ComponentLoaderFactory}];class ngx_bootstrap_modal_ModalModule{static forRoot(){return{ngModule:ngx_bootstrap_modal_ModalModule,providers:[ngx_bootstrap_modal_BsModalService,ComponentLoaderFactory,ngx_bootstrap_positioning_PositioningService]}}static forChild(){return{ngModule:ngx_bootstrap_modal_ModalModule,providers:[ngx_bootstrap_modal_BsModalService,ComponentLoaderFactory,ngx_bootstrap_positioning_PositioningService]}}}var value;ngx_bootstrap_modal_ModalModule.ɵmod=ɵɵdefineNgModule({type:ngx_bootstrap_modal_ModalModule}),ngx_bootstrap_modal_ModalModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ngx_bootstrap_modal_ModalModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(ngx_bootstrap_modal_ModalModule,{declarations:[ngx_bootstrap_modal_ModalBackdropComponent,ngx_bootstrap_modal_ModalDirective,ngx_bootstrap_modal_ModalContainerComponent],exports:[ngx_bootstrap_modal_ModalBackdropComponent,ngx_bootstrap_modal_ModalDirective]}),value=animated,-1===Registry_registry.themes.indexOf(value)&&Registry_registry.themes.push(value);let dashboard_component_DashboardComponent=class{constructor(zone,_getDataService,translate){this.zone=zone,this._getDataService=_getDataService,this.translate=translate,this.isModalShown=!1,this.modalStep=1,this.translations={},this.caseData=[],this.recoveriesData=[],this.deathData=[],this.isLoading=!0,this.isLoadingMap=!0,this.isLoadingCountries=!0,this.sortType="todayCases",this.countryCodes=countries,this.countries=[]}ngDoCheck(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.translate.get(["Shared.Other.14","Shared.Other.15","Shared.Other.16","Shared.Other.17","Shared.TopCards.1","Shared.TopCards.3","Shared.TopCards.4"]).subscribe(translations=>(this.setTranslations(translations),0))}))}calculateSum(index,array=this.countries){for(var total=0,i=0,_len=array.length;i<_len;i++)total+=array[i][index];return total}sortData(data,sortBy){try{const sortProp=sortBy;data.sort((a,b)=>a[sortProp]<b[sortProp]?-1:a[sortProp]>b[sortProp]?1:0)}catch(e){return console.error("ERROR while sorting",e),data}return data}ngOnDestroy(){this.zone.runOutsideAngular(()=>{this.pieChart&&this.pieChart.dispose(),this.mapChart&&this.mapChart.dispose(),this.lineChart&&this.lineChart.dispose(),this.radarChart&&this.radarChart.dispose()})}ngOnInit(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){yield this.ngDoCheck(),localStorage.getItem("dontShow")||this.showModal(),this.zone.runOutsideAngular(()=>Object(tslib_es6.b)(this,void 0,void 0,(function*(){combineLatest(this._getDataService.getAll(this.sortType),this._getDataService.getTimelineGlobal()).subscribe(([getAllData,getTimelineData])=>{this.isLoading=!1,this.isLoadingCountries=!1,this.isLoadingMap=!1,this.countries=getAllData,this.totalCases=this.calculateSum("cases"),this.totalDeaths=this.calculateSum("deaths"),this.totalRecoveries=this.calculateSum("recovered"),this.totalCritical=this.calculateSum("critical"),this.todayCases=this.calculateSum("todayCases"),this.todayDeaths=this.calculateSum("todayDeaths"),this.activeCases=this.calculateSum("active"),this.casesPer1M=this.calculateSum("casesPerOneMillion"),this.finishedCases=this.totalDeaths+this.totalRecoveries,this.fuse=new fuse(this.countries,{shouldSort:!0,threshold:.6,location:0,distance:100,minMatchCharLength:1,keys:["country"]}),this.timeLine=getTimelineData,this.loadLineChart(!1),this.loadRadar(),this.loadPieChart()})})))}))}searchCountries(key){if(key){if(this.countries=this.fuse.search(key),Object(util.isUndefined)(this.directiveScroll))return;this.directiveScroll.directiveRef.scrollToTop()}else this.countries=this.fuse.list}sortCountries(key,skey){this.isLoadingCountries=!0,this.sortType=key,this.loadSorted()}loadSorted(){this._getDataService.getAll(this.sortType).subscribe(data=>{this.countries=data,this.isLoadingCountries=!1})}loadPieChart(){let tempData=this.fuse.list.slice();this.sortData(tempData,"cases"),tempData=tempData.reverse();let chart=create("pieChart",PieChart_PieChart);chart.data=tempData.slice(0,10);let otherCases=tempData.slice(10,tempData.length);chart.data.push({country:"Other",cases:this.calculateSum("cases",otherCases)});let pieSeries=chart.series.push(new PieSeries_PieSeries);pieSeries.dataFields.value="cases",pieSeries.dataFields.category="country",pieSeries.labels.template.disabled=!0,pieSeries.ticks.template.disabled=!0,pieSeries.slices.template.stroke=Color_color("#313a46"),pieSeries.slices.template.strokeWidth=1,pieSeries.slices.template.strokeOpacity=1,this.pieChart=chart,this.loadMap("cases")}loadLineChart(chartType){this.caseData=[],this.lineChart&&this.lineChart.dispose(),Object.keys(this.timeLine).forEach(key=>{this.caseData.push({date:new Date(key),cases:this.timeLine[key].cases,recoveries:this.timeLine[key].recovered,deaths:this.timeLine[key].deaths})}),this.caseData.push({date:(new Date).getTime(),cases:this.totalCases,recoveries:this.totalRecoveries,deaths:this.totalDeaths});let chart=create("lineChart",XYChart_XYChart);chart.numberFormatter.numberFormat="#a",chart.numberFormatter.bigNumberPrefixes=[{number:1e3,suffix:"K"},{number:1e6,suffix:"M"},{number:1e9,suffix:"B"}];let dateAxis=chart.xAxes.push(new DateAxis_DateAxis);dateAxis.renderer.minGridDistance=50;let valueAxis=chart.yAxes.push(new ValueAxis_ValueAxis);valueAxis.logarithmic=chartType,valueAxis.renderer.labels.template.fill=Color_color("#adb5bd"),dateAxis.renderer.labels.template.fill=Color_color("#adb5bd"),chart=this.createSeriesLine(chart,"#21AFDD","cases"),chart=this.createSeriesLine(chart,"#10c469","recoveries"),chart=this.createSeriesLine(chart,"#ff5b5b","deaths"),chart.data=this.caseData,chart.legend=new Legend_Legend,chart.legend.labels.template.fill=Color_color("#adb5bd"),chart.cursor=new XYCursor_XYCursor,this.lineChart=chart}loadMap(option){this.isLoadingMap=!0,this.mapChart&&this.mapChart.dispose();let color="#21AFDD";"recovered"==option?color="#10c469":"critical"==option?color="#f9c851":"deaths"==option&&(color="#ff5b5b");let mapData=[];this.fuse.list.forEach(element=>{0!=element[option]&&mapData.push({id:this.countryCodes[element.country],name:element.country,value:element[option],color:Color_color(color)})});let chartMap=create("worldChart",MapChart_MapChart);chartMap.geodata=worldLow,chartMap.projection=new projections_namespaceObject.Miller;let polygonSeries=chartMap.series.push(new MapPolygonSeries_MapPolygonSeries);polygonSeries.exclude=["AQ"],polygonSeries.useGeodata=!0,polygonSeries.nonScalingStroke=!0,polygonSeries.strokeWidth=.5,polygonSeries.calculateVisualCenter=!0;let imageSeries=chartMap.series.push(new MapImageSeries_MapImageSeries);imageSeries.data=mapData,imageSeries.dataFields.value="value";let imageTemplate=imageSeries.mapImages.template;imageTemplate.nonScaling=!0;let circle=imageTemplate.createChild(Circle_Circle);circle.fillOpacity=.7,circle.propertyFields.fill="color",circle.tooltipText="{name}: [bold]{value}[/]",chartMap.events.on("ready",()=>{this.isLoadingMap=!1}),imageSeries.heatRules.push({target:circle,property:"radius",min:4,max:30,dataField:"value"}),imageTemplate.adapter.add("latitude",(function(latitude,target){let polygon=polygonSeries.getPolygonById(target.dataItem.dataContext.id);return polygon?polygon.visualLatitude:latitude})),imageTemplate.adapter.add("longitude",(function(longitude,target){let polygon=polygonSeries.getPolygonById(target.dataItem.dataContext.id);return polygon?polygon.visualLongitude:longitude}));let polygonTemplate=polygonSeries.mapPolygons.template;polygonTemplate.tooltipText="{name}",polygonTemplate.fill=Color_color("#282d37"),polygonTemplate.stroke=Color_color("#313a46"),this.mapChart=chartMap}loadRadar(){let chart=create("radarChart",RadarChart_RadarChart);chart.data=[{category:this.translations.critical,value:this.totalCritical/this.activeCases*100,full:100},{category:this.translations.deaths,value:this.totalDeaths/this.finishedCases*100,full:100},{category:this.translations.recovered,value:this.totalRecoveries/this.finishedCases*100,full:100},{category:this.translations.active,value:100-this.totalCritical/this.activeCases*100,full:100}],chart.startAngle=-90,chart.endAngle=180,chart.innerRadius=Percent_percent(20),chart.numberFormatter.numberFormat="#.#'%'";let categoryAxis=chart.yAxes.push(new CategoryAxis_CategoryAxis);categoryAxis.dataFields.category="category",categoryAxis.renderer.grid.template.location=0,categoryAxis.renderer.grid.template.strokeOpacity=0,categoryAxis.renderer.labels.template.horizontalCenter="right",categoryAxis.renderer.labels.template.adapter.add("fill",(function(fill,target){return 0==target.dataItem.index?Color_color("#f9c851"):1==target.dataItem.index?Color_color("#ff5b5b"):2==target.dataItem.index?Color_color("#10c469"):Color_color("#21AFDD")})),categoryAxis.renderer.minGridDistance=10;let valueAxis=chart.xAxes.push(new ValueAxis_ValueAxis);valueAxis.renderer.grid.template.strokeOpacity=0,valueAxis.min=0,valueAxis.max=100,valueAxis.strictMinMax=!0,valueAxis.renderer.labels.template.fill=Color_color("#adb5bd");let series1=chart.series.push(new RadarColumnSeries_RadarColumnSeries);series1.dataFields.valueX="full",series1.dataFields.categoryY="category",series1.clustered=!1,series1.columns.template.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("alternativeBackground"),series1.columns.template.fillOpacity=.08,series1.columns.template.cornerRadiusTopLeft=20,series1.columns.template.strokeWidth=0,series1.columns.template.radarColumn.cornerRadius=20;let series2=chart.series.push(new RadarColumnSeries_RadarColumnSeries);series2.dataFields.valueX="value",series2.dataFields.categoryY="category",series2.clustered=!1,series2.columns.template.strokeWidth=0,series2.columns.template.tooltipText="{category}: [bold]{value}[/]",series2.columns.template.radarColumn.cornerRadius=20,series2.columns.template.adapter.add("fill",(function(fill,target){return 0==target.dataItem.index?Color_color("#f9c851"):1==target.dataItem.index?Color_color("#ff5b5b"):2==target.dataItem.index?Color_color("#10c469"):Color_color("#21AFDD")})),chart.cursor=new RadarCursor_RadarCursor,chart.cursor.fill=Color_color("#282e38"),chart.tooltip.label.fill=Color_color("#282e38"),this.radarChart=chart}createSeriesLine(chart,color,type){let name=type.charAt(0).toUpperCase()+type.slice(1);"cases"==type?name=this.translations.cases:"recoveries"==type?name=this.translations.recovered:"deaths"==type&&(name=this.translations.deaths);let series=chart.series.push(new LineSeries_LineSeries);return series.dataFields.valueY=type,series.fill=Color_color(color),series.dataFields.dateX="date",series.strokeWidth=2,series.minBulletDistance=10,series.tooltipText="{valueY} "+name,series.tooltip.pointerOrientation="vertical",series.tooltip.background.cornerRadius=20,series.tooltip.background.fillOpacity=.5,series.stroke=Color_color(color),series.legendSettings.labelText=name,series.tooltip.autoTextColor=!1,series.tooltip.label.fill=Color_color("#282e38"),chart}showModal(){this.modalStep=1,this.isModalShown=!0}hideModal(){this.autoShownModal.hide()}onHidden(){this.isModalShown=!1}nextStep(){this.modalStep+=1}close(dontShow){dontShow&&localStorage.setItem("dontShow","true"),this.hideModal()}setTranslations(translations){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.translations.active=translations["Shared.Other.14"],this.translations.recovered=translations["Shared.Other.15"],this.translations.deaths=translations["Shared.Other.16"],this.translations.critical=translations["Shared.Other.17"],this.translations.cases=translations["Shared.Other.14"]}))}};dashboard_component_DashboardComponent.ctorParameters=()=>[{type:NgZone},{type:getdata_service_GetdataService},{type:ngx_translate_core_TranslateService}],Object(tslib_es6.c)([ViewChild(ngx_perfect_scrollbar_PerfectScrollbarComponent),Object(tslib_es6.g)("design:type",ngx_perfect_scrollbar_PerfectScrollbarComponent)],dashboard_component_DashboardComponent.prototype,"directiveScroll",void 0),Object(tslib_es6.c)([ViewChild("autoShownModal",{static:!1}),Object(tslib_es6.g)("design:type",ngx_bootstrap_modal_ModalDirective)],dashboard_component_DashboardComponent.prototype,"autoShownModal",void 0),dashboard_component_DashboardComponent=Object(tslib_es6.c)([core_Component({selector:"app-dashboard",template:Object(tslib_es6.f)(__webpack_require__("Ixm7")).default,animations:[trigger("fadeInOutAnimation",[animations_state("in",animations_style({opacity:1})),animations_transition(":enter",[animations_style({opacity:0}),animate(600)])])],styles:[Object(tslib_es6.f)(__webpack_require__("Db45")).default]}),Object(tslib_es6.g)("design:paramtypes",[NgZone,getdata_service_GetdataService,ngx_translate_core_TranslateService])],dashboard_component_DashboardComponent);let country_component_CountryComponent=class{constructor(route,_getDataService,zone,translate){this.route=route,this._getDataService=_getDataService,this.zone=zone,this.translate=translate,this.isLoading=!0,this.totalCases=0,this.totalDeaths=0,this.totalCritical=0,this.todayCases=0,this.todayDeaths=0,this.activeCases=0,this.casesPer1M=0,this.finishedCases=0,this.countryCodes=countries,this.translations={}}ngOnDestroy(){this.zone.runOutsideAngular(()=>{this.pieChart&&this.pieChart.dispose(),this.lineChart&&this.lineChart.dispose(),this.radarChart&&this.radarChart.dispose()})}ngDoCheck(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.translate.get(["Shared.Other.14","Shared.Other.15","Shared.Other.16","Shared.Other.17","Shared.TopCards.1","Shared.TopCards.3","Shared.TopCards.4"]).subscribe(translations=>(this.setTranslations(translations),0))}))}ngOnInit(){let nameTimeline=this.route.snapshot.paramMap.get("name").toLowerCase();"usa"==nameTimeline?nameTimeline="us":"taiwan"==nameTimeline?nameTimeline="taiwan*":"isle of man"==nameTimeline?nameTimeline="united kingdom":"aruba"==nameTimeline?nameTimeline="netherlands":"sint maarten"==nameTimeline?nameTimeline="netherlands":"st. vincent grenadines"==nameTimeline?nameTimeline="saint vincent and the grenadines":"timor-leste"==nameTimeline?nameTimeline="East Timor":"montserrat"==nameTimeline?nameTimeline="united kingdom":"gambia"==nameTimeline?nameTimeline="gambia, the":"cayman islands"==nameTimeline?nameTimeline="united kingdom":"bermuda"==nameTimeline?nameTimeline="united kingdom":"greenland"==nameTimeline?nameTimeline="denmark":"st. barth"==nameTimeline?nameTimeline="saint barthelemy":"congo"==nameTimeline?nameTimeline="congo (brazzaville)":"saint martin"==nameTimeline?nameTimeline="france":"gibraltar"==nameTimeline?nameTimeline="united kingdom":"mayotte"==nameTimeline?nameTimeline="france":"bahamas"==nameTimeline?nameTimeline="bahamas, the":"french guiana"==nameTimeline?nameTimeline="france":"u.s. virgin islands"==nameTimeline?nameTimeline="us":"curaçao"==nameTimeline?nameTimeline="netherlands":"puerto rico"==nameTimeline?nameTimeline="us":"french polynesia"==nameTimeline?nameTimeline="france":"ivory coast"==nameTimeline?nameTimeline="Cote d'Ivoire":"macao"==nameTimeline?nameTimeline="china":"drc"==nameTimeline?nameTimeline="congo (kinshasa)":"channel islands"==nameTimeline?nameTimeline="united kingdom":"réunion"==nameTimeline?nameTimeline="france":"guadeloupe"==nameTimeline?nameTimeline="france":"faeroe islands"==nameTimeline?nameTimeline="Denmark":"uae"==nameTimeline?nameTimeline="United Arab Emirates":"diamond princess"==nameTimeline?nameTimeline="australia":"hong kong"==nameTimeline?nameTimeline="china":"uk"==nameTimeline?nameTimeline="united kingdom":"car"==nameTimeline&&(nameTimeline="central african republic"),this.zone.runOutsideAngular(()=>{combineLatest(this._getDataService.getCountry(this.route.snapshot.paramMap.get("name")),this._getDataService.getTimelineCountry(nameTimeline)).subscribe(([getAllData,getTimelineData])=>{this.isLoading=!1,this.country=getAllData,this.totalCases=getAllData.cases,this.totalDeaths=getAllData.deaths,this.totalRecoveries=getAllData.recovered,this.totalCritical=getAllData.critical,this.todayCases=getAllData.todayCases,this.todayDeaths=getAllData.todayDeaths,this.activeCases=getAllData.active,this.casesPer1M=getAllData.casesPerOneMillion,this.finishedCases=this.totalDeaths+this.totalRecoveries,this.timeLine=getTimelineData,this.loadPieChart(),this.loadLineChart(),this.loadRadar()})})}loadLineChart(){let caseData=[];if(this.timeLine.multiple){let data={};this.timeLine.data.forEach(element=>Object(tslib_es6.b)(this,void 0,void 0,(function*(){element.timeline.forEach(o=>Object(tslib_es6.b)(this,void 0,void 0,(function*(){data.hasOwnProperty(o.date)||(data[o.date]={},data[o.date].cases=0,data[o.date].deaths=0,data[o.date].recovered=0),data[o.date].cases+=parseInt(o.cases),data[o.date].deaths+=parseInt(o.deaths),data[o.date].recovered+=parseInt(o.recovered)})))}))),Object.keys(data).forEach(key=>{caseData.push({date:new Date(key),cases:data[key].cases,recovered:data[key].recovered,deaths:data[key].deaths})})}else caseData=this.timeLine.data.timeline;caseData.push({date:(new Date).getTime(),cases:this.totalCases,recovered:this.totalRecoveries,deaths:this.totalDeaths});let chart=create("lineChart",XYChart_XYChart);chart.numberFormatter.numberFormat="#a",chart.numberFormatter.bigNumberPrefixes=[{number:1e3,suffix:"K"},{number:1e6,suffix:"M"},{number:1e9,suffix:"B"}];let dateAxis=chart.xAxes.push(new DateAxis_DateAxis);dateAxis.renderer.minGridDistance=50,chart.yAxes.push(new ValueAxis_ValueAxis).renderer.labels.template.fill=Color_color("#adb5bd"),dateAxis.renderer.labels.template.fill=Color_color("#adb5bd"),chart=this.createSeriesLine(chart,"#21AFDD","cases"),chart=this.createSeriesLine(chart,"#10c469","recovered"),chart=this.createSeriesLine(chart,"#ff5b5b","deaths"),chart.data=caseData,chart.legend=new Legend_Legend,chart.legend.labels.template.fill=Color_color("#adb5bd"),chart.cursor=new XYCursor_XYCursor,this.lineChart=chart}loadPieChart(){let chart=create("pieChart",PieChart_PieChart);chart.data.push({type:"Recoveries",number:this.totalRecoveries,color:Color_color("#10c469")}),chart.data.push({type:"Deaths",number:this.totalDeaths,color:Color_color("#ff5b5b")}),chart.data.push({type:"Critical",number:this.totalCritical,color:Color_color("#f9c851")});let pieSeries=chart.series.push(new PieSeries_PieSeries);pieSeries.dataFields.value="number",pieSeries.dataFields.category="type",pieSeries.labels.template.disabled=!0,pieSeries.ticks.template.disabled=!0,pieSeries.slices.template.propertyFields.fill="color",pieSeries.slices.template.stroke=Color_color("#313a46"),pieSeries.slices.template.strokeWidth=1,pieSeries.slices.template.strokeOpacity=1,this.pieChart=chart}loadRadar(){let chart=create("radarChart",RadarChart_RadarChart);chart.data=[{category:this.translations.critical,value:this.totalCritical/this.activeCases*100,full:100},{category:this.translations.deaths,value:this.totalDeaths/this.finishedCases*100,full:100},{category:this.translations.recovered,value:this.totalRecoveries/this.finishedCases*100,full:100},{category:this.translations.active,value:100-this.totalCritical/this.activeCases*100,full:100}],chart.startAngle=-90,chart.endAngle=180,chart.innerRadius=Percent_percent(20),chart.numberFormatter.numberFormat="#.#'%'";let categoryAxis=chart.yAxes.push(new CategoryAxis_CategoryAxis);categoryAxis.dataFields.category="category",categoryAxis.renderer.grid.template.location=0,categoryAxis.renderer.grid.template.strokeOpacity=0,categoryAxis.renderer.labels.template.horizontalCenter="right",categoryAxis.renderer.labels.template.adapter.add("fill",(function(fill,target){return 0==target.dataItem.index?Color_color("#f9c851"):1==target.dataItem.index?Color_color("#ff5b5b"):2==target.dataItem.index?Color_color("#10c469"):Color_color("#21AFDD")})),categoryAxis.renderer.minGridDistance=10;let valueAxis=chart.xAxes.push(new ValueAxis_ValueAxis);valueAxis.renderer.grid.template.strokeOpacity=0,valueAxis.min=0,valueAxis.max=100,valueAxis.strictMinMax=!0,valueAxis.renderer.labels.template.fill=Color_color("#adb5bd");let series1=chart.series.push(new RadarColumnSeries_RadarColumnSeries);series1.dataFields.valueX="full",series1.dataFields.categoryY="category",series1.clustered=!1,series1.columns.template.fill=(new InterfaceColorSet_InterfaceColorSet).getFor("alternativeBackground"),series1.columns.template.fillOpacity=.08,series1.columns.template.cornerRadiusTopLeft=20,series1.columns.template.strokeWidth=0,series1.columns.template.radarColumn.cornerRadius=20;let series2=chart.series.push(new RadarColumnSeries_RadarColumnSeries);series2.dataFields.valueX="value",series2.dataFields.categoryY="category",series2.clustered=!1,series2.columns.template.strokeWidth=0,series2.columns.template.tooltipText="{category}: [bold]{value}[/]",series2.columns.template.radarColumn.cornerRadius=20,series2.columns.template.adapter.add("fill",(function(fill,target){return 0==target.dataItem.index?Color_color("#f9c851"):1==target.dataItem.index?Color_color("#ff5b5b"):2==target.dataItem.index?Color_color("#10c469"):Color_color("#21AFDD")})),chart.cursor=new RadarCursor_RadarCursor,chart.cursor.fill=Color_color("#282e38"),chart.tooltip.label.fill=Color_color("#282e38"),this.radarChart=chart}createSeriesLine(chart,color,type){let name=null;"cases"==type?name=this.translations.cases:"recoveries"==type?name=this.translations.recovered:"deaths"==type&&(name=this.translations.deaths),name||(name=type.charAt(0).toUpperCase()+type.slice(1));let series=chart.series.push(new LineSeries_LineSeries);return series.dataFields.valueY=type,series.fill=Color_color(color),series.dataFields.dateX="date",series.strokeWidth=2,series.minBulletDistance=10,series.tooltipText="{valueY} "+name,series.tooltip.pointerOrientation="vertical",series.tooltip.background.cornerRadius=20,series.tooltip.background.fillOpacity=.5,series.stroke=Color_color(color),series.legendSettings.labelText=name,series.tooltip.autoTextColor=!1,series.tooltip.label.fill=Color_color("#282e38"),chart}setTranslations(translations){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.translations.active=translations["Shared.Other.14"],this.translations.recovered=translations["Shared.Other.15"],this.translations.deaths=translations["Shared.Other.16"],this.translations.critical=translations["Shared.Other.17"],this.translations.cases=translations["Shared.Other.14"]}))}};country_component_CountryComponent.ctorParameters=()=>[{type:router_ActivatedRoute},{type:getdata_service_GetdataService},{type:NgZone},{type:ngx_translate_core_TranslateService}],country_component_CountryComponent=Object(tslib_es6.c)([core_Component({selector:"app-country",template:Object(tslib_es6.f)(__webpack_require__("cYeu")).default,styles:[Object(tslib_es6.f)(__webpack_require__("5OJw")).default]}),Object(tslib_es6.g)("design:paramtypes",[router_ActivatedRoute,getdata_service_GetdataService,NgZone,ngx_translate_core_TranslateService])],country_component_CountryComponent);let NotFoundComponent=class{constructor(){}ngOnInit(){}};NotFoundComponent=Object(tslib_es6.c)([core_Component({selector:"app-not-found",template:Object(tslib_es6.f)(__webpack_require__("w0H6")).default,styles:[Object(tslib_es6.f)(__webpack_require__("RQx+")).default]}),Object(tslib_es6.g)("design:paramtypes",[])],NotFoundComponent);let ActuService=class{constructor(http,translate){this.http=http,this.translate=translate,this.language=this.translate.currentLang,this.translate.onLangChange.subscribe(lang=>{this.language=this.translate.currentLang})}getActu(){return"en"==this.language&&(this.language="us"),this.http.get(`https://covid-19-news.p.rapidapi.com/v1/covid?sort_by=relevancy&page_size=50&media=True&country=${this.language}&q=covid&`,{headers:{"x-rapidapi-host":"covid-19-news.p.rapidapi.com","x-rapidapi-key":"efb754d3b0msh13a99daa43c274dp198475jsn51ab24c8eff5"}})}};ActuService.ctorParameters=()=>[{type:http_HttpClient},{type:ngx_translate_core_TranslateService}],ActuService=Object(tslib_es6.c)([Injectable(),Object(tslib_es6.g)("design:paramtypes",[http_HttpClient,ngx_translate_core_TranslateService])],ActuService);let ActuComponent=class{constructor(actuservice){this.actuservice=actuservice}ngOnInit(){this.actuservice.getActu().subscribe(res=>{this.data=res.articles},()=>{console.log("erreur d'appel a league service")})}};ActuComponent.ctorParameters=()=>[{type:ActuService}],ActuComponent=Object(tslib_es6.c)([core_Component({selector:"app-actu",template:Object(tslib_es6.f)(__webpack_require__("xWHp")).default,styles:[Object(tslib_es6.f)(__webpack_require__("n/8n")).default]}),Object(tslib_es6.g)("design:paramtypes",[ActuService])],ActuComponent);const NG_VALUE_ACCESSOR=new InjectionToken("NgValueAccessor"),CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>CheckboxControlValueAccessor),multi:!0};class CheckboxControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"checked",value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}CheckboxControlValueAccessor.ɵfac=function(t){return new(t||CheckboxControlValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},CheckboxControlValueAccessor.ɵdir=ɵɵdefineDirective({type:CheckboxControlValueAccessor,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function($event){return ctx.onChange($event.target.checked)}))("blur",(function(){return ctx.onTouched()}))},features:[ɵɵProvidersFeature([CHECKBOX_VALUE_ACCESSOR])]}),CheckboxControlValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef}];const DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>DefaultValueAccessor),multi:!0};const COMPOSITION_BUFFER_MODE=new InjectionToken("CompositionEventMode");class DefaultValueAccessor{constructor(_renderer,_elementRef,_compositionMode){this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.onChange=_=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const userAgent=getDOM()?getDOM().getUserAgent():"";return/android (\d+)/.test(userAgent.toLowerCase())}())}writeValue(value){const normalizedValue=null==value?"":value;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_handleInput(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)}_compositionStart(){this._composing=!0}_compositionEnd(value){this._composing=!1,this._compositionMode&&this.onChange(value)}}DefaultValueAccessor.ɵfac=function(t){return new(t||DefaultValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(COMPOSITION_BUFFER_MODE,8))},DefaultValueAccessor.ɵdir=ɵɵdefineDirective({type:DefaultValueAccessor,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("input",(function($event){return ctx._handleInput($event.target.value)}))("blur",(function(){return ctx.onTouched()}))("compositionstart",(function(){return ctx._compositionStart()}))("compositionend",(function($event){return ctx._compositionEnd($event.target.value)}))},features:[ɵɵProvidersFeature([DEFAULT_VALUE_ACCESSOR])]}),DefaultValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef},{type:Boolean,decorators:[{type:Optional},{type:Inject,args:[COMPOSITION_BUFFER_MODE]}]}];class AbstractControlDirective{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(value){this.control&&this.control.reset(value)}hasError(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)}getError(errorCode,path){return this.control?this.control.getError(errorCode,path):null}}AbstractControlDirective.ɵfac=function(t){return new(t||AbstractControlDirective)},AbstractControlDirective.ɵdir=ɵɵdefineDirective({type:AbstractControlDirective});class ControlContainer extends AbstractControlDirective{get formDirective(){return null}get path(){return null}}ControlContainer.ɵfac=function(t){return ɵControlContainer_BaseFactory(t||ControlContainer)},ControlContainer.ɵdir=ɵɵdefineDirective({type:ControlContainer,features:[ɵɵInheritDefinitionFeature]});const ɵControlContainer_BaseFactory=ɵɵgetInheritedFactory(ControlContainer);function unimplemented(){throw new Error("unimplemented")}class NgControl extends AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return unimplemented()}get asyncValidator(){return unimplemented()}}class AbstractControlStatus{constructor(cd){this._cd=cd}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class NgControlStatus extends AbstractControlStatus{constructor(cd){super(cd)}}NgControlStatus.ɵfac=function(t){return new(t||NgControlStatus)(ɵɵdirectiveInject(NgControl,2))},NgControlStatus.ɵdir=ɵɵdefineDirective({type:NgControlStatus,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("ng-untouched",ctx.ngClassUntouched)("ng-touched",ctx.ngClassTouched)("ng-pristine",ctx.ngClassPristine)("ng-dirty",ctx.ngClassDirty)("ng-valid",ctx.ngClassValid)("ng-invalid",ctx.ngClassInvalid)("ng-pending",ctx.ngClassPending)},features:[ɵɵInheritDefinitionFeature]}),NgControlStatus.ctorParameters=()=>[{type:NgControl,decorators:[{type:Self}]}];class NgControlStatusGroup extends AbstractControlStatus{constructor(cd){super(cd)}}function isEmptyInputValue(value){return null==value||0===value.length}NgControlStatusGroup.ɵfac=function(t){return new(t||NgControlStatusGroup)(ɵɵdirectiveInject(ControlContainer,2))},NgControlStatusGroup.ɵdir=ɵɵdefineDirective({type:NgControlStatusGroup,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("ng-untouched",ctx.ngClassUntouched)("ng-touched",ctx.ngClassTouched)("ng-pristine",ctx.ngClassPristine)("ng-dirty",ctx.ngClassDirty)("ng-valid",ctx.ngClassValid)("ng-invalid",ctx.ngClassInvalid)("ng-pending",ctx.ngClassPending)},features:[ɵɵInheritDefinitionFeature]}),NgControlStatusGroup.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Self}]}];const NG_VALIDATORS=new InjectionToken("NgValidators"),NG_ASYNC_VALIDATORS=new InjectionToken("NgAsyncValidators"),EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class forms_Validators{static min(min){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;const value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min:min,actual:control.value}}:null}}static max(max){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;const value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max:max,actual:control.value}}:null}}static required(control){return isEmptyInputValue(control.value)?{required:!0}:null}static requiredTrue(control){return!0===control.value?null:{required:!0}}static email(control){return isEmptyInputValue(control.value)?null:EMAIL_REGEXP.test(control.value)?null:{email:!0}}static minLength(minLength){return control=>{if(isEmptyInputValue(control.value))return null;const length=control.value?control.value.length:0;return length<minLength?{minlength:{requiredLength:minLength,actualLength:length}}:null}}static maxLength(maxLength){return control=>{const length=control.value?control.value.length:0;return length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:length}}:null}}static pattern(pattern){if(!pattern)return forms_Validators.nullValidator;let regex,regexStr;return"string"==typeof pattern?(regexStr="","^"!==pattern.charAt(0)&&(regexStr+="^"),regexStr+=pattern,"$"!==pattern.charAt(pattern.length-1)&&(regexStr+="$"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),control=>{if(isEmptyInputValue(control.value))return null;const value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}}static nullValidator(control){return null}static compose(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators))}}static composeAsync(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return forkJoin(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators).map(toObservable)).pipe(map_map(_mergeErrors))}}}function isPresent(o){return null!=o}function toObservable(r){const obs=core_isPromise(r)?from_from(r):r;if(!isObservable(obs))throw new Error("Expected validator to return Promise or Observable.");return obs}function _mergeErrors(arrayOfErrors){let res={};return arrayOfErrors.forEach(errors=>{res=null!=errors?Object.assign(Object.assign({},res),errors):res}),0===Object.keys(res).length?null:res}function normalizeValidator(validator){return validator.validate?c=>validator.validate(c):validator}function normalizeAsyncValidator(validator){return validator.validate?c=>validator.validate(c):validator}const NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>NumberValueAccessor),multi:!0};class NumberValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){const normalizedValue=null==value?"":value;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}NumberValueAccessor.ɵfac=function(t){return new(t||NumberValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},NumberValueAccessor.ɵdir=ɵɵdefineDirective({type:NumberValueAccessor,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function($event){return ctx.onChange($event.target.value)}))("input",(function($event){return ctx.onChange($event.target.value)}))("blur",(function(){return ctx.onTouched()}))},features:[ɵɵProvidersFeature([NUMBER_VALUE_ACCESSOR])]}),NumberValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef}];const RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>RadioControlValueAccessor),multi:!0};class RadioControlRegistry{constructor(){this._accessors=[]}add(control,accessor){this._accessors.push([control,accessor])}remove(accessor){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)}select(accessor){this._accessors.forEach(c=>{this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})}_isSameGroup(controlPair,accessor){return!!controlPair[0].control&&(controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name)}}RadioControlRegistry.ɵfac=function(t){return new(t||RadioControlRegistry)},RadioControlRegistry.ɵprov=ɵɵdefineInjectable({token:RadioControlRegistry,factory:RadioControlRegistry.ɵfac});class RadioControlValueAccessor{constructor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(value){this._state=value===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(fn){this._fn=fn,this.onChange=()=>{fn(this.value),this._registry.select(this)}}fireUncheck(value){this.writeValue(value)}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}RadioControlValueAccessor.ɵfac=function(t){return new(t||RadioControlValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(RadioControlRegistry),ɵɵdirectiveInject(Injector))},RadioControlValueAccessor.ɵdir=ɵɵdefineDirective({type:RadioControlValueAccessor,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function(){return ctx.onChange()}))("blur",(function(){return ctx.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ɵɵProvidersFeature([RADIO_VALUE_ACCESSOR])]}),RadioControlValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef},{type:RadioControlRegistry},{type:Injector}],RadioControlValueAccessor.propDecorators={name:[{type:Input}],formControlName:[{type:Input}],value:[{type:Input}]};const RANGE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>RangeValueAccessor),multi:!0};class RangeValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(value))}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}RangeValueAccessor.ɵfac=function(t){return new(t||RangeValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},RangeValueAccessor.ɵdir=ɵɵdefineDirective({type:RangeValueAccessor,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function($event){return ctx.onChange($event.target.value)}))("input",(function($event){return ctx.onChange($event.target.value)}))("blur",(function(){return ctx.onTouched()}))},features:[ɵɵProvidersFeature([RANGE_VALUE_ACCESSOR])]}),RangeValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef}];const FormErrorExamples_formControlName='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',FormErrorExamples_formGroupName='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',FormErrorExamples_formArrayName='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',FormErrorExamples_ngModelGroup='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',FormErrorExamples_ngModelWithFormGroup='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ';class ReactiveErrors{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${FormErrorExamples_formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${FormErrorExamples_formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${FormErrorExamples_ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${FormErrorExamples_formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${FormErrorExamples_formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${FormErrorExamples_formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(directiveName){console.warn(`\n    It looks like you're using ngModel on the same form field as ${directiveName}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===directiveName?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_SelectControlValueAccessor),multi:!0};function _buildValueString(id,value){return null==id?`${value}`:(value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class forms_SelectControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if("function"!=typeof fn)throw new Error(`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){this.value=value;const id=this._getOptionId(value);null==id&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const valueString=_buildValueString(id,value);this._renderer.setProperty(this._elementRef.nativeElement,"value",valueString)}registerOnChange(fn){this.onChange=valueString=>{this.value=this._getOptionValue(valueString),fn(this.value)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id),value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString}}forms_SelectControlValueAccessor.ɵfac=function(t){return new(t||forms_SelectControlValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},forms_SelectControlValueAccessor.ɵdir=ɵɵdefineDirective({type:forms_SelectControlValueAccessor,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function($event){return ctx.onChange($event.target.value)}))("blur",(function(){return ctx.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ɵɵProvidersFeature([SELECT_VALUE_ACCESSOR])]}),forms_SelectControlValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef}],forms_SelectControlValueAccessor.propDecorators={compareWith:[{type:Input}]};class NgSelectOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}set ngValue(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}NgSelectOption.ɵfac=function(t){return new(t||NgSelectOption)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(forms_SelectControlValueAccessor,9))},NgSelectOption.ɵdir=ɵɵdefineDirective({type:NgSelectOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),NgSelectOption.ctorParameters=()=>[{type:ElementRef},{type:Renderer2},{type:forms_SelectControlValueAccessor,decorators:[{type:Optional},{type:Host}]}],NgSelectOption.propDecorators={ngValue:[{type:Input,args:["ngValue"]}],value:[{type:Input,args:["value"]}]};const SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_SelectMultipleControlValueAccessor),multi:!0};function _buildValueString$1(id,value){return null==id?`${value}`:("string"==typeof value&&(value=`'${value}'`),value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class forms_SelectMultipleControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if("function"!=typeof fn)throw new Error(`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){let optionSelectedStateSetter;if(this.value=value,Array.isArray(value)){const ids=value.map(v=>this._getOptionId(v));optionSelectedStateSetter=(opt,o)=>{opt._setSelected(ids.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=(opt,o)=>{opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)}registerOnChange(fn){this.onChange=_=>{const selected=[];if(_.hasOwnProperty("selectedOptions")){const options=_.selectedOptions;for(let i=0;i<options.length;i++){const opt=options.item(i),val=this._getOptionValue(opt.value);selected.push(val)}}else{const options=_.options;for(let i=0;i<options.length;i++){const opt=options.item(i);if(opt.selected){const val=this._getOptionValue(opt.value);selected.push(val)}}}this.value=selected,fn(selected)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(value){const id=(this._idCounter++).toString();return this._optionMap.set(id,value),id}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id)._value,value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString}}forms_SelectMultipleControlValueAccessor.ɵfac=function(t){return new(t||forms_SelectMultipleControlValueAccessor)(ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(ElementRef))},forms_SelectMultipleControlValueAccessor.ɵdir=ɵɵdefineDirective({type:forms_SelectMultipleControlValueAccessor,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("change",(function($event){return ctx.onChange($event.target)}))("blur",(function(){return ctx.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ɵɵProvidersFeature([SELECT_MULTIPLE_VALUE_ACCESSOR])]}),forms_SelectMultipleControlValueAccessor.ctorParameters=()=>[{type:Renderer2},{type:ElementRef}],forms_SelectMultipleControlValueAccessor.propDecorators={compareWith:[{type:Input}]};class ɵNgSelectMultipleOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}set ngValue(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._select?(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}_setSelected(selected){this._renderer.setProperty(this._element.nativeElement,"selected",selected)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function controlPath(name,parent){return[...parent.path,name]}function setUpControl(control,dir){control||forms_throwError(dir,"Cannot find control with"),dir.valueAccessor||forms_throwError(dir,"No value accessor for form control with"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),function(control,dir){dir.valueAccessor.registerOnChange(newValue=>{control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,"change"===control.updateOn&&updateControl(control,dir)})}(control,dir),function(control,dir){control.registerOnChange((newValue,emitModelEvent)=>{dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)})}(control,dir),function(control,dir){dir.valueAccessor.registerOnTouched(()=>{control._pendingTouched=!0,"blur"===control.updateOn&&control._pendingChange&&updateControl(control,dir),"submit"!==control.updateOn&&control.markAsTouched()})}(control,dir),dir.valueAccessor.setDisabledState&&control.registerOnDisabledChange(isDisabled=>{dir.valueAccessor.setDisabledState(isDisabled)}),dir._rawValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())}),dir._rawAsyncValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())})}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function setUpFormContainer(control,dir){null==control&&forms_throwError(dir,"Cannot find control with"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _noControlError(dir){return forms_throwError(dir,"There is no FormControl instance attached to form control element with")}function forms_throwError(dir,message){let messageEnd;throw messageEnd=dir.path.length>1?`path: '${dir.path.join(" -> ")}'`:dir.path[0]?`name: '${dir.path}'`:"unspecified name attribute",new Error(`${message} ${messageEnd}`)}function composeValidators(validators){return null!=validators?forms_Validators.compose(validators.map(normalizeValidator)):null}function composeAsyncValidators(validators){return null!=validators?forms_Validators.composeAsync(validators.map(normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty("model"))return!1;const change=changes.model;return!!change.isFirstChange()||!looseIdentical(viewModel,change.currentValue)}ɵNgSelectMultipleOption.ɵfac=function(t){return new(t||ɵNgSelectMultipleOption)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(Renderer2),ɵɵdirectiveInject(forms_SelectMultipleControlValueAccessor,9))},ɵNgSelectMultipleOption.ɵdir=ɵɵdefineDirective({type:ɵNgSelectMultipleOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ɵNgSelectMultipleOption.ctorParameters=()=>[{type:ElementRef},{type:Renderer2},{type:forms_SelectMultipleControlValueAccessor,decorators:[{type:Optional},{type:Host}]}],ɵNgSelectMultipleOption.propDecorators={ngValue:[{type:Input,args:["ngValue"]}],value:[{type:Input,args:["value"]}]};const BUILTIN_ACCESSORS=[CheckboxControlValueAccessor,RangeValueAccessor,NumberValueAccessor,forms_SelectControlValueAccessor,forms_SelectMultipleControlValueAccessor,RadioControlValueAccessor];function syncPendingControls(form,directives){form._syncPendingControls(),directives.forEach(dir=>{const control=dir.control;"submit"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)})}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;Array.isArray(valueAccessors)||forms_throwError(dir,"Value accessor was not provided as an array for form control with");let defaultAccessor=void 0,builtinAccessor=void 0,customAccessor=void 0;return valueAccessors.forEach(v=>{var valueAccessor;v.constructor===DefaultValueAccessor?defaultAccessor=v:(valueAccessor=v,BUILTIN_ACCESSORS.some(a=>valueAccessor.constructor===a)?(builtinAccessor&&forms_throwError(dir,"More than one built-in value accessor matches form control with"),builtinAccessor=v):(customAccessor&&forms_throwError(dir,"More than one custom value accessor matches form control with"),customAccessor=v))}),customAccessor||(builtinAccessor||(defaultAccessor||(forms_throwError(dir,"No valid value accessor for form control with"),null)))}function removeDir(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}function _ngModelWarning(name,type,instance,warningConfig){isDevMode()&&"never"!==warningConfig&&((null!==warningConfig&&"once"!==warningConfig||type._ngModelWarningSentOnce)&&("always"!==warningConfig||instance._ngModelWarningSent)||(ReactiveErrors.ngModelWarning(name),type._ngModelWarningSentOnce=!0,instance._ngModelWarningSent=!0))}function coerceToValidator(validatorOrOpts){const validator=isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts;return Array.isArray(validator)?composeValidators(validator):validator||null}function coerceToAsyncValidator(asyncValidator,validatorOrOpts){const origAsyncValidator=isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator;return Array.isArray(origAsyncValidator)?composeAsyncValidators(origAsyncValidator):origAsyncValidator||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&"object"==typeof validatorOrOpts}class forms_AbstractControl{constructor(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(newValidator){this.validator=coerceToValidator(newValidator)}setAsyncValidators(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(opts={}){this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(control=>control.markAllAsTouched())}markAsUntouched(opts={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(control=>{control.markAsUntouched({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}markAsDirty(opts={}){this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)}markAsPristine(opts={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(control=>{control.markAsPristine({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}markAsPending(opts={}){this.status="PENDING",!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)}disable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(control=>{control.disable(Object.assign(Object.assign({},opts),{onlySelf:!0}))}),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},opts),{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!0))}enable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="VALID",this._forEachChild(control=>{control.enable(Object.assign(Object.assign({},opts),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},opts),{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!1))}_updateAncestors(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(parent){this._parent=parent}updateValueAndValidity(opts={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)}_updateTreeValidity(opts={emitEvent:!0}){this._forEachChild(ctrl=>ctrl._updateTreeValidity(opts)),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(emitEvent){if(this.asyncValidator){this.status="PENDING";const obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe(errors=>this.setErrors(errors,{emitEvent:emitEvent}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(errors,opts={}){this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)}get(path){return function(control,path,delimiter){if(null==path)return null;if(Array.isArray(path)||(path=path.split(delimiter)),Array.isArray(path)&&0===path.length)return null;let controlToFind=control;return path.forEach(name=>{controlToFind=controlToFind instanceof FormGroup?controlToFind.controls.hasOwnProperty(name)?controlToFind.controls[name]:null:controlToFind instanceof FormArray&&controlToFind.at(name)||null}),controlToFind}(this,path,".")}getError(errorCode,path){const control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null}hasError(errorCode,path){return!!this.getError(errorCode,path)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)}_initObservables(){this.valueChanges=new core_EventEmitter,this.statusChanges=new core_EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(status){return this._anyControls(control=>control.status===status)}_anyControlsDirty(){return this._anyControls(control=>control.dirty)}_anyControlsTouched(){return this._anyControls(control=>control.touched)}_updatePristine(opts={}){this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}_updateTouched(opts={}){this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}_isBoxedValue(formState){return"object"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&"value"in formState&&"disabled"in formState}_registerOnCollectionChange(fn){this._onCollectionChange=fn}_setUpdateStrategy(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)}_parentMarkedDirty(onlySelf){const parentDirty=this._parent&&this._parent.dirty;return!onlySelf&&parentDirty&&!this._parent._anyControlsDirty()}}class FormControl extends forms_AbstractControl{constructor(formState=null,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this._onChange=[],this._applyFormState(formState),this._setUpdateStrategy(validatorOrOpts),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(value,options={}){this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach(changeFn=>changeFn(this.value,!1!==options.emitViewToModelChange)),this.updateValueAndValidity(options)}patchValue(value,options={}){this.setValue(value,options)}reset(formState=null,options={}){this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1}_updateValue(){}_anyControls(condition){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fn){this._onChange.push(fn)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(fn){this._onDisabledChange.push(fn)}_forEachChild(cb){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(formState){this._isBoxedValue(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState}}class FormGroup extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)}addControl(name,control){this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(name){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],this.updateValueAndValidity(),this._onCollectionChange()}setControl(name,control){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}contains(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled}setValue(value,options={}){this._checkAllValuesPresent(value),Object.keys(value).forEach(name=>{this._throwIfControlMissing(name),this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){Object.keys(value).forEach(name=>{this.controls[name]&&this.controls[name].patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value={},options={}){this._forEachChild((control,name)=>{control.reset(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this._reduceChildren({},(acc,control,name)=>(acc[name]=control instanceof FormControl?control.value:control.getRawValue(),acc))}_syncPendingControls(){let subtreeUpdated=this._reduceChildren(!1,(updated,child)=>!!child._syncPendingControls()||updated);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(name){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[name])throw new Error(`Cannot find form control with name: ${name}.`)}_forEachChild(cb){Object.keys(this.controls).forEach(k=>cb(this.controls[k],k))}_setUpControls(){this._forEachChild(control=>{control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(condition){let res=!1;return this._forEachChild((control,name)=>{res=res||this.contains(name)&&condition(control)}),res}_reduceValue(){return this._reduceChildren({},(acc,control,name)=>((control.enabled||this.disabled)&&(acc[name]=control.value),acc))}_reduceChildren(initValue,fn){let res=initValue;return this._forEachChild((control,name)=>{res=fn(res,control,name)}),res}_allControlsDisabled(){for(const controlName of Object.keys(this.controls))if(this.controls[controlName].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(value){this._forEachChild((control,name)=>{if(void 0===value[name])throw new Error(`Must supply a value for form control with name: '${name}'.`)})}}class FormArray extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(index){return this.controls[index]}push(control){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity(),this._onCollectionChange()}insert(index,control){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity()}removeAt(index){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),this.updateValueAndValidity()}setControl(index,control){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),control&&(this.controls.splice(index,0,control),this._registerControl(control)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(value,options={}){this._checkAllValuesPresent(value),value.forEach((newValue,index)=>{this._throwIfControlMissing(index),this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){value.forEach((newValue,index)=>{this.at(index)&&this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value=[],options={}){this._forEachChild((control,index)=>{control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this.controls.map(control=>control instanceof FormControl?control.value:control.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(control=>control._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let subtreeUpdated=this.controls.reduce((updated,child)=>!!child._syncPendingControls()||updated,!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(index){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(index))throw new Error(`Cannot find form control at index ${index}`)}_forEachChild(cb){this.controls.forEach((control,index)=>{cb(control,index)})}_updateValue(){this.value=this.controls.filter(control=>control.enabled||this.disabled).map(control=>control.value)}_anyControls(condition){return this.controls.some(control=>control.enabled&&condition(control))}_setUpControls(){this._forEachChild(control=>this._registerControl(control))}_checkAllValuesPresent(value){this._forEachChild((control,i)=>{if(void 0===value[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const control of this.controls)if(control.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}}const formDirectiveProvider={provide:ControlContainer,useExisting:forwardRef(()=>forms_NgForm)},resolvedPromise=Promise.resolve(null);class forms_NgForm extends ControlContainer{constructor(validators,asyncValidators){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new core_EventEmitter,this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(dir)})}getControl(dir){return this.form.get(dir.path)}removeControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name),removeDir(this._directives,dir)})}addFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path),group=new FormGroup({});setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name)})}getFormGroup(dir){return this.form.get(dir.path)}updateModel(dir,value){resolvedPromise.then(()=>{this.form.get(dir.path).setValue(value)})}setValue(value){this.control.setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(path){return path.pop(),path.length?this.form.get(path):this.form}}forms_NgForm.ɵfac=function(t){return new(t||forms_NgForm)(ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10))},forms_NgForm.ɵdir=ɵɵdefineDirective({type:forms_NgForm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("submit",(function($event){return ctx.onSubmit($event)}))("reset",(function(){return ctx.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ɵɵProvidersFeature([formDirectiveProvider]),ɵɵInheritDefinitionFeature]}),forms_NgForm.ctorParameters=()=>[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],forms_NgForm.propDecorators={options:[{type:Input,args:["ngFormOptions"]}]};class AbstractFormGroupDirective extends ControlContainer{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._validators)}get asyncValidator(){return composeAsyncValidators(this._asyncValidators)}_checkParentType(){}}AbstractFormGroupDirective.ɵfac=function(t){return ɵAbstractFormGroupDirective_BaseFactory(t||AbstractFormGroupDirective)},AbstractFormGroupDirective.ɵdir=ɵɵdefineDirective({type:AbstractFormGroupDirective,features:[ɵɵInheritDefinitionFeature]});const ɵAbstractFormGroupDirective_BaseFactory=ɵɵgetInheritedFactory(AbstractFormGroupDirective);class TemplateDrivenErrors{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${FormErrorExamples_formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${FormErrorExamples_ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${FormErrorExamples_formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${FormErrorExamples_ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${FormErrorExamples_formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${FormErrorExamples_ngModelGroup}`)}}const modelGroupProvider={provide:ControlContainer,useExisting:forwardRef(()=>NgModelGroup)};class NgModelGroup extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}_checkParentType(){this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelGroupParentException()}}NgModelGroup.ɵfac=function(t){return new(t||NgModelGroup)(ɵɵdirectiveInject(ControlContainer,5),ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10))},NgModelGroup.ɵdir=ɵɵdefineDirective({type:NgModelGroup,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ɵɵProvidersFeature([modelGroupProvider]),ɵɵInheritDefinitionFeature]}),NgModelGroup.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],NgModelGroup.propDecorators={name:[{type:Input,args:["ngModelGroup"]}]};const formControlBinding={provide:NgControl,useExisting:forwardRef(()=>forms_NgModel)},resolvedPromise$1=Promise.resolve(null);class forms_NgModel extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors){super(),this.control=new FormControl,this._registered=!1,this.update=new core_EventEmitter,this._parent=parent,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=selectValueAccessor(this,valueAccessors)}ngOnChanges(changes){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in changes&&this._updateDisabled(changes),isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?controlPath(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective?TemplateDrivenErrors.formGroupNameException():this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||TemplateDrivenErrors.missingNameException()}_updateValue(value){resolvedPromise$1.then(()=>{this.control.setValue(value,{emitViewToModelChange:!1})})}_updateDisabled(changes){const disabledValue=changes.isDisabled.currentValue,isDisabled=""===disabledValue||disabledValue&&"false"!==disabledValue;resolvedPromise$1.then(()=>{isDisabled&&!this.control.disabled?this.control.disable():!isDisabled&&this.control.disabled&&this.control.enable()})}}forms_NgModel.ɵfac=function(t){return new(t||forms_NgModel)(ɵɵdirectiveInject(ControlContainer,9),ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10),ɵɵdirectiveInject(NG_VALUE_ACCESSOR,10))},forms_NgModel.ɵdir=ɵɵdefineDirective({type:forms_NgModel,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ɵɵProvidersFeature([formControlBinding]),ɵɵInheritDefinitionFeature,ɵɵNgOnChangesFeature]}),forms_NgModel.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Optional},{type:Host}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}],forms_NgModel.propDecorators={name:[{type:Input}],isDisabled:[{type:Input,args:["disabled"]}],model:[{type:Input,args:["ngModel"]}],options:[{type:Input,args:["ngModelOptions"]}],update:[{type:Output,args:["ngModelChange"]}]};class ɵNgNoValidate{}ɵNgNoValidate.ɵfac=function(t){return new(t||ɵNgNoValidate)},ɵNgNoValidate.ɵdir=ɵɵdefineDirective({type:ɵNgNoValidate,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});const NG_MODEL_WITH_FORM_CONTROL_WARNING=new InjectionToken("NgModelWithFormControlWarning"),formControlBinding$1={provide:NgControl,useExisting:forwardRef(()=>forms_FormControlDirective)};class forms_FormControlDirective extends NgControl{constructor(validators,asyncValidators,valueAccessors,_ngModelWarningConfig){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this.update=new core_EventEmitter,this._ngModelWarningSent=!1,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=selectValueAccessor(this,valueAccessors)}set isDisabled(isDisabled){ReactiveErrors.disabledAttrWarning()}ngOnChanges(changes){this._isControlChanged(changes)&&(setUpControl(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),isPropertyUpdated(changes,this.viewModel)&&(_ngModelWarning("formControl",forms_FormControlDirective,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_isControlChanged(changes){return changes.hasOwnProperty("form")}}forms_FormControlDirective.ɵfac=function(t){return new(t||forms_FormControlDirective)(ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10),ɵɵdirectiveInject(NG_VALUE_ACCESSOR,10),ɵɵdirectiveInject(NG_MODEL_WITH_FORM_CONTROL_WARNING,8))},forms_FormControlDirective.ɵdir=ɵɵdefineDirective({type:forms_FormControlDirective,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ɵɵProvidersFeature([formControlBinding$1]),ɵɵInheritDefinitionFeature,ɵɵNgOnChangesFeature]}),forms_FormControlDirective._ngModelWarningSentOnce=!1,forms_FormControlDirective.ctorParameters=()=>[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[NG_MODEL_WITH_FORM_CONTROL_WARNING]}]}],forms_FormControlDirective.propDecorators={form:[{type:Input,args:["formControl"]}],isDisabled:[{type:Input,args:["disabled"]}],model:[{type:Input,args:["ngModel"]}],update:[{type:Output,args:["ngModelChange"]}]};const formDirectiveProvider$1={provide:ControlContainer,useExisting:forwardRef(()=>forms_FormGroupDirective)};class forms_FormGroupDirective extends ControlContainer{constructor(_validators,_asyncValidators){super(),this._validators=_validators,this._asyncValidators=_asyncValidators,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new core_EventEmitter}ngOnChanges(changes){this._checkFormPresent(),changes.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dir){const ctrl=this.form.get(dir.path);return setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir),ctrl}getControl(dir){return this.form.get(dir.path)}removeControl(dir){removeDir(this.directives,dir)}addFormGroup(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}removeFormGroup(dir){}getFormGroup(dir){return this.form.get(dir.path)}addFormArray(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}removeFormArray(dir){}getFormArray(dir){return this.form.get(dir.path)}updateModel(dir,value){this.form.get(dir.path).setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_updateDomValue(){this.directives.forEach(dir=>{const newCtrl=this.form.get(dir.path);dir.control!==newCtrl&&(!function(control,dir){dir.valueAccessor.registerOnChange(()=>_noControlError(dir)),dir.valueAccessor.registerOnTouched(()=>_noControlError(dir)),dir._rawValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),dir._rawAsyncValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),control&&control._clearChangeFns()}(dir.control,dir),newCtrl&&setUpControl(newCtrl,dir),dir.control=newCtrl)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const sync=composeValidators(this._validators);this.form.validator=forms_Validators.compose([this.form.validator,sync]);const async=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=forms_Validators.composeAsync([this.form.asyncValidator,async])}_checkFormPresent(){this.form||ReactiveErrors.missingFormException()}}forms_FormGroupDirective.ɵfac=function(t){return new(t||forms_FormGroupDirective)(ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10))},forms_FormGroupDirective.ɵdir=ɵɵdefineDirective({type:forms_FormGroupDirective,selectors:[["","formGroup",""]],hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("submit",(function($event){return ctx.onSubmit($event)}))("reset",(function(){return ctx.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ɵɵProvidersFeature([formDirectiveProvider$1]),ɵɵInheritDefinitionFeature,ɵɵNgOnChangesFeature]}),forms_FormGroupDirective.ctorParameters=()=>[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],forms_FormGroupDirective.propDecorators={form:[{type:Input,args:["formGroup"]}],ngSubmit:[{type:Output}]};const formGroupNameProvider={provide:ControlContainer,useExisting:forwardRef(()=>FormGroupName)};class FormGroupName extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}_checkParentType(){_hasInvalidParent(this._parent)&&ReactiveErrors.groupParentException()}}FormGroupName.ɵfac=function(t){return new(t||FormGroupName)(ɵɵdirectiveInject(ControlContainer,13),ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10))},FormGroupName.ɵdir=ɵɵdefineDirective({type:FormGroupName,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ɵɵProvidersFeature([formGroupNameProvider]),ɵɵInheritDefinitionFeature]}),FormGroupName.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],FormGroupName.propDecorators={name:[{type:Input,args:["formGroupName"]}]};const formArrayNameProvider={provide:ControlContainer,useExisting:forwardRef(()=>FormArrayName)};class FormArrayName extends ControlContainer{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return composeValidators(this._validators)}get asyncValidator(){return composeAsyncValidators(this._asyncValidators)}_checkParentType(){_hasInvalidParent(this._parent)&&ReactiveErrors.arrayParentException()}}function _hasInvalidParent(parent){return!(parent instanceof FormGroupName||parent instanceof forms_FormGroupDirective||parent instanceof FormArrayName)}FormArrayName.ɵfac=function(t){return new(t||FormArrayName)(ɵɵdirectiveInject(ControlContainer,13),ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10))},FormArrayName.ɵdir=ɵɵdefineDirective({type:FormArrayName,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ɵɵProvidersFeature([formArrayNameProvider]),ɵɵInheritDefinitionFeature]}),FormArrayName.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],FormArrayName.propDecorators={name:[{type:Input,args:["formArrayName"]}]};const controlNameBinding={provide:NgControl,useExisting:forwardRef(()=>forms_FormControlName)};class forms_FormControlName extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors,_ngModelWarningConfig){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this._added=!1,this.update=new core_EventEmitter,this._ngModelWarningSent=!1,this._parent=parent,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=selectValueAccessor(this,valueAccessors)}set isDisabled(isDisabled){ReactiveErrors.disabledAttrWarning()}ngOnChanges(changes){this._added||this._setUpControl(),isPropertyUpdated(changes,this.viewModel)&&(_ngModelWarning("formControlName",forms_FormControlName,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective?ReactiveErrors.ngModelGroupException():this._parent instanceof FormGroupName||this._parent instanceof forms_FormGroupDirective||this._parent instanceof FormArrayName||ReactiveErrors.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}forms_FormControlName.ɵfac=function(t){return new(t||forms_FormControlName)(ɵɵdirectiveInject(ControlContainer,13),ɵɵdirectiveInject(NG_VALIDATORS,10),ɵɵdirectiveInject(NG_ASYNC_VALIDATORS,10),ɵɵdirectiveInject(NG_VALUE_ACCESSOR,10),ɵɵdirectiveInject(NG_MODEL_WITH_FORM_CONTROL_WARNING,8))},forms_FormControlName.ɵdir=ɵɵdefineDirective({type:forms_FormControlName,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ɵɵProvidersFeature([controlNameBinding]),ɵɵInheritDefinitionFeature,ɵɵNgOnChangesFeature]}),forms_FormControlName._ngModelWarningSentOnce=!1,forms_FormControlName.ctorParameters=()=>[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[NG_MODEL_WITH_FORM_CONTROL_WARNING]}]}],forms_FormControlName.propDecorators={name:[{type:Input,args:["formControlName"]}],isDisabled:[{type:Input,args:["disabled"]}],model:[{type:Input,args:["ngModel"]}],update:[{type:Output,args:["ngModelChange"]}]};const REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>RequiredValidator),multi:!0},CHECKBOX_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>CheckboxRequiredValidator),multi:!0};class RequiredValidator{get required(){return this._required}set required(value){this._required=null!=value&&!1!==value&&"false"!==`${value}`,this._onChange&&this._onChange()}validate(control){return this.required?forms_Validators.required(control):null}registerOnValidatorChange(fn){this._onChange=fn}}RequiredValidator.ɵfac=function(t){return new(t||RequiredValidator)},RequiredValidator.ɵdir=ɵɵdefineDirective({type:RequiredValidator,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("required",ctx.required?"":null)},inputs:{required:"required"},features:[ɵɵProvidersFeature([REQUIRED_VALIDATOR])]}),RequiredValidator.propDecorators={required:[{type:Input}]};class CheckboxRequiredValidator extends RequiredValidator{validate(control){return this.required?forms_Validators.requiredTrue(control):null}}CheckboxRequiredValidator.ɵfac=function(t){return ɵCheckboxRequiredValidator_BaseFactory(t||CheckboxRequiredValidator)},CheckboxRequiredValidator.ɵdir=ɵɵdefineDirective({type:CheckboxRequiredValidator,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("required",ctx.required?"":null)},features:[ɵɵProvidersFeature([CHECKBOX_REQUIRED_VALIDATOR]),ɵɵInheritDefinitionFeature]});const ɵCheckboxRequiredValidator_BaseFactory=ɵɵgetInheritedFactory(CheckboxRequiredValidator),EMAIL_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>EmailValidator),multi:!0};class EmailValidator{set email(value){this._enabled=""===value||!0===value||"true"===value,this._onChange&&this._onChange()}validate(control){return this._enabled?forms_Validators.email(control):null}registerOnValidatorChange(fn){this._onChange=fn}}EmailValidator.ɵfac=function(t){return new(t||EmailValidator)},EmailValidator.ɵdir=ɵɵdefineDirective({type:EmailValidator,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ɵɵProvidersFeature([EMAIL_VALIDATOR])]}),EmailValidator.propDecorators={email:[{type:Input}]};const MIN_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>MinLengthValidator),multi:!0};class MinLengthValidator{ngOnChanges(changes){"minlength"in changes&&(this._createValidator(),this._onChange&&this._onChange())}validate(control){return null==this.minlength?null:this._validator(control)}registerOnValidatorChange(fn){this._onChange=fn}_createValidator(){this._validator=forms_Validators.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}MinLengthValidator.ɵfac=function(t){return new(t||MinLengthValidator)},MinLengthValidator.ɵdir=ɵɵdefineDirective({type:MinLengthValidator,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("minlength",ctx.minlength?ctx.minlength:null)},inputs:{minlength:"minlength"},features:[ɵɵProvidersFeature([MIN_LENGTH_VALIDATOR]),ɵɵNgOnChangesFeature]}),MinLengthValidator.propDecorators={minlength:[{type:Input}]};const MAX_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>MaxLengthValidator),multi:!0};class MaxLengthValidator{ngOnChanges(changes){"maxlength"in changes&&(this._createValidator(),this._onChange&&this._onChange())}validate(control){return null!=this.maxlength?this._validator(control):null}registerOnValidatorChange(fn){this._onChange=fn}_createValidator(){this._validator=forms_Validators.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}MaxLengthValidator.ɵfac=function(t){return new(t||MaxLengthValidator)},MaxLengthValidator.ɵdir=ɵɵdefineDirective({type:MaxLengthValidator,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("maxlength",ctx.maxlength?ctx.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ɵɵProvidersFeature([MAX_LENGTH_VALIDATOR]),ɵɵNgOnChangesFeature]}),MaxLengthValidator.propDecorators={maxlength:[{type:Input}]};const PATTERN_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>PatternValidator),multi:!0};class PatternValidator{ngOnChanges(changes){"pattern"in changes&&(this._createValidator(),this._onChange&&this._onChange())}validate(control){return this._validator(control)}registerOnValidatorChange(fn){this._onChange=fn}_createValidator(){this._validator=forms_Validators.pattern(this.pattern)}}PatternValidator.ɵfac=function(t){return new(t||PatternValidator)},PatternValidator.ɵdir=ɵɵdefineDirective({type:PatternValidator,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("pattern",ctx.pattern?ctx.pattern:null)},inputs:{pattern:"pattern"},features:[ɵɵProvidersFeature([PATTERN_VALIDATOR]),ɵɵNgOnChangesFeature]}),PatternValidator.propDecorators={pattern:[{type:Input}]};class ɵInternalFormsSharedModule{}ɵInternalFormsSharedModule.ɵmod=ɵɵdefineNgModule({type:ɵInternalFormsSharedModule}),ɵInternalFormsSharedModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ɵInternalFormsSharedModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(ɵInternalFormsSharedModule,{declarations:[ɵNgNoValidate,NgSelectOption,ɵNgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,forms_SelectControlValueAccessor,forms_SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator],exports:[ɵNgNoValidate,NgSelectOption,ɵNgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,forms_SelectControlValueAccessor,forms_SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator]});class FormBuilder{group(controlsConfig,options=null){const controls=this._reduceControls(controlsConfig);let validators=null,asyncValidators=null,updateOn=void 0;return null!=options&&(!function(options){return void 0!==options.asyncValidators||void 0!==options.validators||void 0!==options.updateOn}(options)?(validators=null!=options.validator?options.validator:null,asyncValidators=null!=options.asyncValidator?options.asyncValidator:null):(validators=null!=options.validators?options.validators:null,asyncValidators=null!=options.asyncValidators?options.asyncValidators:null,updateOn=null!=options.updateOn?options.updateOn:void 0)),new FormGroup(controls,{asyncValidators:asyncValidators,updateOn:updateOn,validators:validators})}control(formState,validatorOrOpts,asyncValidator){return new FormControl(formState,validatorOrOpts,asyncValidator)}array(controlsConfig,validatorOrOpts,asyncValidator){const controls=controlsConfig.map(c=>this._createControl(c));return new FormArray(controls,validatorOrOpts,asyncValidator)}_reduceControls(controlsConfig){const controls={};return Object.keys(controlsConfig).forEach(controlName=>{controls[controlName]=this._createControl(controlsConfig[controlName])}),controls}_createControl(controlConfig){if(controlConfig instanceof FormControl||controlConfig instanceof FormGroup||controlConfig instanceof FormArray)return controlConfig;if(Array.isArray(controlConfig)){const value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig)}}FormBuilder.ɵfac=function(t){return new(t||FormBuilder)},FormBuilder.ɵprov=ɵɵdefineInjectable({token:FormBuilder,factory:FormBuilder.ɵfac});new Version("9.0.7");class FormsModule{}FormsModule.ɵmod=ɵɵdefineNgModule({type:FormsModule}),FormsModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||FormsModule)},providers:[RadioControlRegistry],imports:[ɵInternalFormsSharedModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(FormsModule,{declarations:[forms_NgModel,NgModelGroup,forms_NgForm],exports:[ɵInternalFormsSharedModule,forms_NgModel,NgModelGroup,forms_NgForm]});class ReactiveFormsModule{static withConfig(opts){return{ngModule:ReactiveFormsModule,providers:[{provide:NG_MODEL_WITH_FORM_CONTROL_WARNING,useValue:opts.warnOnNgModelWithFormControl}]}}}function coerceBooleanProperty(value){return null!=value&&"false"!==`${value}`}function coerceNumberProperty(value,fallbackValue=0){return function(value){return!isNaN(parseFloat(value))&&!isNaN(Number(value))}(value)?Number(value):fallbackValue}function coerceArray(value){return Array.isArray(value)?value:[value]}function coerceCssPixelValue(value){return null==value?"":"string"==typeof value?value:`${value}px`}function coerceElement(elementOrRef){return elementOrRef instanceof ElementRef?elementOrRef.nativeElement:elementOrRef}ReactiveFormsModule.ɵmod=ɵɵdefineNgModule({type:ReactiveFormsModule}),ReactiveFormsModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ReactiveFormsModule)},providers:[FormBuilder,RadioControlRegistry],imports:[ɵInternalFormsSharedModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(ReactiveFormsModule,{declarations:[forms_FormControlDirective,forms_FormGroupDirective,forms_FormControlName,FormGroupName,FormArrayName],exports:[ɵInternalFormsSharedModule,forms_FormControlDirective,forms_FormGroupDirective,forms_FormControlName,FormGroupName,FormArrayName]});let nextHandle=1;const RESOLVED=Promise.resolve(),activeHandles={};function findAndClearHandle(handle){return handle in activeHandles&&(delete activeHandles[handle],!0)}const Immediate={setImmediate(cb){const handle=nextHandle++;return activeHandles[handle]=!0,RESOLVED.then(()=>findAndClearHandle(handle)&&cb()),handle},clearImmediate(handle){findAndClearHandle(handle)}};const asap=new class extends AsyncScheduler_AsyncScheduler{flush(action){this.active=!0,this.scheduled=void 0;const{actions:actions}=this;let error,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}}}(class extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0?super.requestAsyncId(scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=Immediate.setImmediate(scheduler.flush.bind(scheduler,null))))}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&delay>0||null===delay&&this.delay>0)return super.recycleAsyncId(scheduler,id,delay);0===scheduler.actions.length&&(Immediate.clearImmediate(id),scheduler.scheduled=void 0)}});class PairwiseOperator{call(subscriber,source){return source.subscribe(new pairwise_PairwiseSubscriber(subscriber))}}class pairwise_PairwiseSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.hasPrev=!1}_next(value){let pair;this.hasPrev?pair=[this.prev,value]:this.hasPrev=!0,this.prev=value,pair&&this.destination.next(pair)}}let hasV8BreakIterator;try{hasV8BreakIterator="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_a){hasV8BreakIterator=!1}class platform_Platform{constructor(_platformId){this._platformId=_platformId,this.isBrowser=this._platformId?isPlatformBrowser(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hasV8BreakIterator)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}platform_Platform.ɵfac=function(t){return new(t||platform_Platform)(ɵɵinject(PLATFORM_ID,8))},platform_Platform.ctorParameters=()=>[{type:Object,decorators:[{type:Optional},{type:Inject,args:[PLATFORM_ID]}]}],platform_Platform.ɵprov=ɵɵdefineInjectable({factory:function(){return new platform_Platform(ɵɵinject(PLATFORM_ID,8))},token:platform_Platform,providedIn:"root"});class PlatformModule{}PlatformModule.ɵmod=ɵɵdefineNgModule({type:PlatformModule}),PlatformModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||PlatformModule)}});let supportsPassiveEvents;function normalizePassiveListenerOptions(options){return function(){if(null==supportsPassiveEvents&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>supportsPassiveEvents=!0}))}finally{supportsPassiveEvents=supportsPassiveEvents||!1}return supportsPassiveEvents}()?options:!!options.capture}let rtlScrollAxisType,shadowDomIsSupported;function getRtlScrollAxisType(){if("object"!=typeof document||!document)return 0;if(null==rtlScrollAxisType){const scrollContainer=document.createElement("div"),containerStyle=scrollContainer.style;scrollContainer.dir="rtl",containerStyle.height="1px",containerStyle.width="1px",containerStyle.overflow="auto",containerStyle.visibility="hidden",containerStyle.pointerEvents="none",containerStyle.position="absolute";const content=document.createElement("div"),contentStyle=content.style;contentStyle.width="2px",contentStyle.height="1px",scrollContainer.appendChild(content),document.body.appendChild(scrollContainer),rtlScrollAxisType=0,0===scrollContainer.scrollLeft&&(scrollContainer.scrollLeft=1,rtlScrollAxisType=0===scrollContainer.scrollLeft?1:2),scrollContainer.parentNode.removeChild(scrollContainer)}return rtlScrollAxisType}function _getShadowRoot(element){if(function(){if(null==shadowDomIsSupported){const head="undefined"!=typeof document?document.head:null;shadowDomIsSupported=!(!head||!head.createShadowRoot&&!head.attachShadow)}return shadowDomIsSupported}()){const rootNode=element.getRootNode?element.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&rootNode instanceof ShadowRoot)return rootNode}return null}const DIR_DOCUMENT=new InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return inject(common_DOCUMENT)}});class bidi_Directionality{constructor(_document){if(this.value="ltr",this.change=new core_EventEmitter,_document){const bodyDir=_document.body?_document.body.dir:null,htmlDir=_document.documentElement?_document.documentElement.dir:null,value=bodyDir||htmlDir;this.value="ltr"===value||"rtl"===value?value:"ltr"}}ngOnDestroy(){this.change.complete()}}bidi_Directionality.ɵfac=function(t){return new(t||bidi_Directionality)(ɵɵinject(DIR_DOCUMENT,8))},bidi_Directionality.ctorParameters=()=>[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[DIR_DOCUMENT]}]}],bidi_Directionality.ɵprov=ɵɵdefineInjectable({factory:function(){return new bidi_Directionality(ɵɵinject(DIR_DOCUMENT,8))},token:bidi_Directionality,providedIn:"root"});class bidi_Dir{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new core_EventEmitter}get dir(){return this._dir}set dir(value){const old=this._dir,normalizedValue=value?value.toLowerCase():value;this._rawDir=value,this._dir="ltr"===normalizedValue||"rtl"===normalizedValue?normalizedValue:"ltr",old!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}bidi_Dir.ɵfac=function(t){return new(t||bidi_Dir)},bidi_Dir.ɵdir=ɵɵdefineDirective({type:bidi_Dir,selectors:[["","dir",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵattribute("dir",ctx._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[ɵɵProvidersFeature([{provide:bidi_Directionality,useExisting:bidi_Dir}])]}),bidi_Dir.propDecorators={change:[{type:Output,args:["dirChange"]}],dir:[{type:Input}]};class BidiModule{}BidiModule.ɵmod=ɵɵdefineNgModule({type:BidiModule}),BidiModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||BidiModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(BidiModule,{declarations:[bidi_Dir],exports:[bidi_Dir]});class collections_ArrayDataSource extends class{}{constructor(_data){super(),this._data=_data}connect(){return isObservable_isObservable(this._data)?this._data:of(this._data)}disconnect(){}}class collections_SelectionModel{constructor(_multiple=!1,initiallySelectedValues,_emitChanges=!0){this._multiple=_multiple,this._emitChanges=_emitChanges,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Subject_Subject,initiallySelectedValues&&initiallySelectedValues.length&&(_multiple?initiallySelectedValues.forEach(value=>this._markSelected(value)):this._markSelected(initiallySelectedValues[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...values){this._verifyValueAssignment(values),values.forEach(value=>this._markSelected(value)),this._emitChangeEvent()}deselect(...values){this._verifyValueAssignment(values),values.forEach(value=>this._unmarkSelected(value)),this._emitChangeEvent()}toggle(value){this.isSelected(value)?this.deselect(value):this.select(value)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(value){return this._selection.has(value)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(predicate){this._multiple&&this.selected&&this._selected.sort(predicate)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(value){this.isSelected(value)||(this._multiple||this._unmarkAll(),this._selection.add(value),this._emitChanges&&this._selectedToEmit.push(value))}_unmarkSelected(value){this.isSelected(value)&&(this._selection.delete(value),this._emitChanges&&this._deselectedToEmit.push(value))}_unmarkAll(){this.isEmpty()||this._selection.forEach(value=>this._unmarkSelected(value))}_verifyValueAssignment(values){if(values.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}class UniqueSelectionDispatcher{constructor(){this._listeners=[]}notify(id,name){for(let listener of this._listeners)listener(id,name)}listen(listener){return this._listeners.push(listener),()=>{this._listeners=this._listeners.filter(registered=>listener!==registered)}}ngOnDestroy(){this._listeners=[]}}UniqueSelectionDispatcher.ɵfac=function(t){return new(t||UniqueSelectionDispatcher)},UniqueSelectionDispatcher.ɵprov=ɵɵdefineInjectable({factory:function(){return new UniqueSelectionDispatcher},token:UniqueSelectionDispatcher,providedIn:"root"});const scrolling_c0=["contentWrapper"],VIRTUAL_SCROLL_STRATEGY=new InjectionToken("VIRTUAL_SCROLL_STRATEGY");class scrolling_FixedSizeVirtualScrollStrategy{constructor(itemSize,minBufferPx,maxBufferPx){this._scrolledIndexChange=new Subject_Subject,this.scrolledIndexChange=this._scrolledIndexChange.pipe(distinctUntilChanged()),this._viewport=null,this._itemSize=itemSize,this._minBufferPx=minBufferPx,this._maxBufferPx=maxBufferPx}attach(viewport){this._viewport=viewport,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(itemSize,minBufferPx,maxBufferPx){if(maxBufferPx<minBufferPx)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=itemSize,this._minBufferPx=minBufferPx,this._maxBufferPx=maxBufferPx,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(index,behavior){this._viewport&&this._viewport.scrollToOffset(index*this._itemSize,behavior)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const scrollOffset=this._viewport.measureScrollOffset(),firstVisibleIndex=scrollOffset/this._itemSize,renderedRange=this._viewport.getRenderedRange(),newRange={start:renderedRange.start,end:renderedRange.end},viewportSize=this._viewport.getViewportSize(),dataLength=this._viewport.getDataLength(),startBuffer=scrollOffset-newRange.start*this._itemSize;if(startBuffer<this._minBufferPx&&0!=newRange.start){const expandStart=Math.ceil((this._maxBufferPx-startBuffer)/this._itemSize);newRange.start=Math.max(0,newRange.start-expandStart),newRange.end=Math.min(dataLength,Math.ceil(firstVisibleIndex+(viewportSize+this._minBufferPx)/this._itemSize))}else{const endBuffer=newRange.end*this._itemSize-(scrollOffset+viewportSize);if(endBuffer<this._minBufferPx&&newRange.end!=dataLength){const expandEnd=Math.ceil((this._maxBufferPx-endBuffer)/this._itemSize);expandEnd>0&&(newRange.end=Math.min(dataLength,newRange.end+expandEnd),newRange.start=Math.max(0,Math.floor(firstVisibleIndex-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(newRange),this._viewport.setRenderedContentOffset(this._itemSize*newRange.start),this._scrolledIndexChange.next(Math.floor(firstVisibleIndex))}}function _fixedSizeVirtualScrollStrategyFactory(fixedSizeDir){return fixedSizeDir._scrollStrategy}class scrolling_CdkFixedSizeVirtualScroll{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new scrolling_FixedSizeVirtualScrollStrategy(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(value){this._itemSize=coerceNumberProperty(value)}get minBufferPx(){return this._minBufferPx}set minBufferPx(value){this._minBufferPx=coerceNumberProperty(value)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(value){this._maxBufferPx=coerceNumberProperty(value)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}scrolling_CdkFixedSizeVirtualScroll.ɵfac=function(t){return new(t||scrolling_CdkFixedSizeVirtualScroll)},scrolling_CdkFixedSizeVirtualScroll.ɵdir=ɵɵdefineDirective({type:scrolling_CdkFixedSizeVirtualScroll,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ɵɵProvidersFeature([{provide:VIRTUAL_SCROLL_STRATEGY,useFactory:_fixedSizeVirtualScrollStrategyFactory,deps:[forwardRef(()=>scrolling_CdkFixedSizeVirtualScroll)]}]),ɵɵNgOnChangesFeature]}),scrolling_CdkFixedSizeVirtualScroll.propDecorators={itemSize:[{type:Input}],minBufferPx:[{type:Input}],maxBufferPx:[{type:Input}]};class scrolling_ScrollDispatcher{constructor(_ngZone,_platform,document){this._ngZone=_ngZone,this._platform=_platform,this._scrolled=new Subject_Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=document}register(scrollable){this.scrollContainers.has(scrollable)||this.scrollContainers.set(scrollable,scrollable.elementScrolled().subscribe(()=>this._scrolled.next(scrollable)))}deregister(scrollable){const scrollableReference=this.scrollContainers.get(scrollable);scrollableReference&&(scrollableReference.unsubscribe(),this.scrollContainers.delete(scrollable))}scrolled(auditTimeInMs=20){return this._platform.isBrowser?new Observable_Observable(observer=>{this._globalSubscription||this._addGlobalListener();const subscription=auditTimeInMs>0?this._scrolled.pipe(auditTime(auditTimeInMs)).subscribe(observer):this._scrolled.subscribe(observer);return this._scrolledCount++,()=>{subscription.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):of()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((_,container)=>this.deregister(container)),this._scrolled.complete()}ancestorScrolled(elementRef,auditTimeInMs){const ancestors=this.getAncestorScrollContainers(elementRef);return this.scrolled(auditTimeInMs).pipe(filter_filter(target=>!target||ancestors.indexOf(target)>-1))}getAncestorScrollContainers(elementRef){const scrollingContainers=[];return this.scrollContainers.forEach((_subscription,scrollable)=>{this._scrollableContainsElement(scrollable,elementRef)&&scrollingContainers.push(scrollable)}),scrollingContainers}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(scrollable,elementRef){let element=elementRef.nativeElement,scrollableElement=scrollable.getElementRef().nativeElement;do{if(element==scrollableElement)return!0}while(element=element.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fromEvent(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}scrolling_ScrollDispatcher.ɵfac=function(t){return new(t||scrolling_ScrollDispatcher)(ɵɵinject(NgZone),ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT,8))},scrolling_ScrollDispatcher.ctorParameters=()=>[{type:NgZone},{type:platform_Platform},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]}],scrolling_ScrollDispatcher.ɵprov=ɵɵdefineInjectable({factory:function(){return new scrolling_ScrollDispatcher(ɵɵinject(NgZone),ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT,8))},token:scrolling_ScrollDispatcher,providedIn:"root"});class scrolling_CdkScrollable{constructor(elementRef,scrollDispatcher,ngZone,dir){this.elementRef=elementRef,this.scrollDispatcher=scrollDispatcher,this.ngZone=ngZone,this.dir=dir,this._destroyed=new Subject_Subject,this._elementScrolled=new Observable_Observable(observer=>this.ngZone.runOutsideAngular(()=>fromEvent(this.elementRef.nativeElement,"scroll").pipe(takeUntil(this._destroyed)).subscribe(observer)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(options){const el=this.elementRef.nativeElement,isRtl=this.dir&&"rtl"==this.dir.value;null==options.left&&(options.left=isRtl?options.end:options.start),null==options.right&&(options.right=isRtl?options.start:options.end),null!=options.bottom&&(options.top=el.scrollHeight-el.clientHeight-options.bottom),isRtl&&0!=getRtlScrollAxisType()?(null!=options.left&&(options.right=el.scrollWidth-el.clientWidth-options.left),2==getRtlScrollAxisType()?options.left=options.right:1==getRtlScrollAxisType()&&(options.left=options.right?-options.right:options.right)):null!=options.right&&(options.left=el.scrollWidth-el.clientWidth-options.right),this._applyScrollToOptions(options)}_applyScrollToOptions(options){const el=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?el.scrollTo(options):(null!=options.top&&(el.scrollTop=options.top),null!=options.left&&(el.scrollLeft=options.left))}measureScrollOffset(from){const el=this.elementRef.nativeElement;if("top"==from)return el.scrollTop;if("bottom"==from)return el.scrollHeight-el.clientHeight-el.scrollTop;const isRtl=this.dir&&"rtl"==this.dir.value;return"start"==from?from=isRtl?"right":"left":"end"==from&&(from=isRtl?"left":"right"),isRtl&&2==getRtlScrollAxisType()?"left"==from?el.scrollWidth-el.clientWidth-el.scrollLeft:el.scrollLeft:isRtl&&1==getRtlScrollAxisType()?"left"==from?el.scrollLeft+el.scrollWidth-el.clientWidth:-el.scrollLeft:"left"==from?el.scrollLeft:el.scrollWidth-el.clientWidth-el.scrollLeft}}scrolling_CdkScrollable.ɵfac=function(t){return new(t||scrolling_CdkScrollable)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(scrolling_ScrollDispatcher),ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(bidi_Directionality,8))},scrolling_CdkScrollable.ɵdir=ɵɵdefineDirective({type:scrolling_CdkScrollable,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),scrolling_CdkScrollable.ctorParameters=()=>[{type:ElementRef},{type:scrolling_ScrollDispatcher},{type:NgZone},{type:bidi_Directionality,decorators:[{type:Optional}]}];class scrolling_ViewportRuler{constructor(_platform,ngZone,document){this._platform=_platform,this._document=document,ngZone.runOutsideAngular(()=>{const window=this._getWindow();this._change=_platform.isBrowser?merge(fromEvent(window,"resize"),fromEvent(window,"orientationchange")):of(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const output={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),output}getViewportRect(){const scrollPosition=this.getViewportScrollPosition(),{width:width,height:height}=this.getViewportSize();return{top:scrollPosition.top,left:scrollPosition.left,bottom:scrollPosition.top+height,right:scrollPosition.left+width,height:height,width:width}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const document=this._getDocument(),window=this._getWindow(),documentElement=document.documentElement,documentRect=documentElement.getBoundingClientRect();return{top:-documentRect.top||document.body.scrollTop||window.scrollY||documentElement.scrollTop||0,left:-documentRect.left||document.body.scrollLeft||window.scrollX||documentElement.scrollLeft||0}}change(throttleTime=20){return throttleTime>0?this._change.pipe(auditTime(throttleTime)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const window=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}scrolling_ViewportRuler.ɵfac=function(t){return new(t||scrolling_ViewportRuler)(ɵɵinject(platform_Platform),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT,8))},scrolling_ViewportRuler.ctorParameters=()=>[{type:platform_Platform},{type:NgZone},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]}],scrolling_ViewportRuler.ɵprov=ɵɵdefineInjectable({factory:function(){return new scrolling_ViewportRuler(ɵɵinject(platform_Platform),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT,8))},token:scrolling_ViewportRuler,providedIn:"root"});const SCROLL_SCHEDULER="undefined"!=typeof requestAnimationFrame?animationFrame:asap;class scrolling_CdkVirtualScrollViewport extends scrolling_CdkScrollable{constructor(elementRef,_changeDetectorRef,ngZone,_scrollStrategy,dir,scrollDispatcher,viewportRuler){if(super(elementRef,scrollDispatcher,ngZone,dir),this.elementRef=elementRef,this._changeDetectorRef=_changeDetectorRef,this._scrollStrategy=_scrollStrategy,this._detachedSubject=new Subject_Subject,this._renderedRangeSubject=new Subject_Subject,this._orientation="vertical",this.scrolledIndexChange=new Observable_Observable(observer=>this._scrollStrategy.scrolledIndexChange.subscribe(index=>Promise.resolve().then(()=>this.ngZone.run(()=>observer.next(index))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Subscription_Subscription.EMPTY,!_scrollStrategy)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');viewportRuler&&(this._viewportChanges=viewportRuler.change().subscribe(()=>{this.checkViewportSize()}))}get orientation(){return this._orientation}set orientation(orientation){this._orientation!==orientation&&(this._orientation=orientation,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(startWith(null),auditTime(0,SCROLL_SCHEDULER)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(forOf){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=forOf,this._forOf.dataStream.pipe(takeUntil(this._detachedSubject)).subscribe(data=>{const newLength=data.length;newLength!==this._dataLength&&(this._dataLength=newLength,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(size){this._totalContentSize!==size&&(this._totalContentSize=size,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(range){var r1,r2;r1=this._renderedRange,r2=range,(r1.start!=r2.start||r1.end!=r2.end)&&(this._renderedRangeSubject.next(this._renderedRange=range),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(offset,to="to-start"){const isRtl=this.dir&&"rtl"==this.dir.value,isHorizontal="horizontal"==this.orientation,axis=isHorizontal?"X":"Y";let transform=`translate${axis}(${Number((isHorizontal&&isRtl?-1:1)*offset)}px)`;this._renderedContentOffset=offset,"to-end"===to&&(transform+=` translate${axis}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=transform&&(this._renderedContentTransform=transform,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(offset,behavior="auto"){const options={behavior:behavior};"horizontal"===this.orientation?options.start=offset:options.top=offset,this.scrollTo(options)}scrollToIndex(index,behavior="auto"){this._scrollStrategy.scrollToIndex(index,behavior)}measureScrollOffset(from){return from?super.measureScrollOffset(from):super.measureScrollOffset("horizontal"===this.orientation?"start":"top")}measureRenderedContentSize(){const contentEl=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?contentEl.offsetWidth:contentEl.offsetHeight}measureRangeSize(range){return this._forOf?this._forOf.measureRangeSize(range,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const viewportEl=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?viewportEl.clientWidth:viewportEl.clientHeight}_markChangeDetectionNeeded(runAfter){runAfter&&this._runAfterChangeDetection.push(runAfter),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const runAfterChangeDetection=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const fn of runAfterChangeDetection)fn()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}function scrolling_getSize(orientation,node){const el=node;if(!el.getBoundingClientRect)return 0;const rect=el.getBoundingClientRect();return"horizontal"==orientation?rect.width:rect.height}scrolling_CdkVirtualScrollViewport.ɵfac=function(t){return new(t||scrolling_CdkVirtualScrollViewport)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(VIRTUAL_SCROLL_STRATEGY,8),ɵɵdirectiveInject(bidi_Directionality,8),ɵɵdirectiveInject(scrolling_ScrollDispatcher),ɵɵdirectiveInject(scrolling_ViewportRuler,8))},scrolling_CdkVirtualScrollViewport.ɵcmp=ɵɵdefineComponent({type:scrolling_CdkVirtualScrollViewport,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵstaticViewQuery(scrolling_c0,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._contentWrapper=_t.first))},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("cdk-virtual-scroll-orientation-horizontal","horizontal"===ctx.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ctx.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ɵɵProvidersFeature([{provide:scrolling_CdkScrollable,useExisting:scrolling_CdkVirtualScrollViewport}]),ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"div",0,1),ɵɵprojection(2),ɵɵelementEnd(),ɵɵelement(3,"div",2)),2&rf&&(ɵɵadvance(3),ɵɵstyleProp("width",ctx._totalContentWidth)("height",ctx._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),scrolling_CdkVirtualScrollViewport.ctorParameters=()=>[{type:ElementRef},{type:ChangeDetectorRef},{type:NgZone},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[VIRTUAL_SCROLL_STRATEGY]}]},{type:bidi_Directionality,decorators:[{type:Optional}]},{type:scrolling_ScrollDispatcher},{type:scrolling_ViewportRuler,decorators:[{type:Optional}]}],scrolling_CdkVirtualScrollViewport.propDecorators={orientation:[{type:Input}],scrolledIndexChange:[{type:Output}],_contentWrapper:[{type:ViewChild,args:["contentWrapper",{static:!0}]}]};class scrolling_CdkVirtualForOf{constructor(_viewContainerRef,_template,_differs,_viewport,ngZone){this._viewContainerRef=_viewContainerRef,this._template=_template,this._differs=_differs,this._viewport=_viewport,this.viewChange=new Subject_Subject,this._dataSourceChanges=new Subject_Subject,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(startWith(null),source=>source.lift(new PairwiseOperator),switchMap(([prev,cur])=>this._changeDataSource(prev,cur)),shareReplay(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new Subject_Subject,this.dataStream.subscribe(data=>{this._data=data,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(takeUntil(this._destroyed)).subscribe(range=>{this._renderedRange=range,ngZone.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(value){this._cdkVirtualForOf=value,!function(value){return value&&"function"==typeof value.connect}(value)?this._dataSourceChanges.next(new collections_ArrayDataSource(isObservable_isObservable(value)?value:Array.prototype.slice.call(value||[]))):this._dataSourceChanges.next(value)}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(fn){this._needsUpdate=!0,this._cdkVirtualForTrackBy=fn?(index,item)=>fn(index+(this._renderedRange?this._renderedRange.start:0),item):void 0}set cdkVirtualForTemplate(value){value&&(this._needsUpdate=!0,this._template=value)}measureRangeSize(range,orientation){if(range.start>=range.end)return 0;if(range.start<this._renderedRange.start||range.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const renderedStartIndex=range.start-this._renderedRange.start;let totalSize=0,i=range.end-range.start;for(;i--;){const view=this._viewContainerRef.get(i+renderedStartIndex);let j=view?view.rootNodes.length:0;for(;j--;)totalSize+=scrolling_getSize(orientation,view.rootNodes[j])}return totalSize}ngDoCheck(){if(this._differ&&this._needsUpdate){const changes=this._differ.diff(this._renderedItems);changes?this._applyChanges(changes):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let view of this._templateCache)view.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(oldDs,newDs){return oldDs&&oldDs.disconnect(this),this._needsUpdate=!0,newDs?newDs.connect(this):of()}_updateContext(){const count=this._data.length;let i=this._viewContainerRef.length;for(;i--;){let view=this._viewContainerRef.get(i);view.context.index=this._renderedRange.start+i,view.context.count=count,this._updateComputedContextProperties(view.context),view.detectChanges()}}_applyChanges(changes){changes.forEachOperation((record,adjustedPreviousIndex,currentIndex)=>{if(null==record.previousIndex){this._insertViewForNewItem(currentIndex).context.$implicit=record.item}else if(null==currentIndex)this._cacheView(this._detachView(adjustedPreviousIndex));else{const view=this._viewContainerRef.get(adjustedPreviousIndex);this._viewContainerRef.move(view,currentIndex),view.context.$implicit=record.item}}),changes.forEachIdentityChange(record=>{this._viewContainerRef.get(record.currentIndex).context.$implicit=record.item});const count=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const view=this._viewContainerRef.get(i);view.context.index=this._renderedRange.start+i,view.context.count=count,this._updateComputedContextProperties(view.context)}}_cacheView(view){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(view);else{const index=this._viewContainerRef.indexOf(view);-1===index?view.destroy():this._viewContainerRef.remove(index)}}_insertViewForNewItem(index){return this._insertViewFromCache(index)||this._createEmbeddedViewAt(index)}_updateComputedContextProperties(context){context.first=0===context.index,context.last=context.index===context.count-1,context.even=context.index%2==0,context.odd=!context.even}_createEmbeddedViewAt(index){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index)}_insertViewFromCache(index){const cachedView=this._templateCache.pop();return cachedView&&this._viewContainerRef.insert(cachedView,index),cachedView||null}_detachView(index){return this._viewContainerRef.detach(index)}}scrolling_CdkVirtualForOf.ɵfac=function(t){return new(t||scrolling_CdkVirtualForOf)(ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(IterableDiffers),ɵɵdirectiveInject(scrolling_CdkVirtualScrollViewport,4),ɵɵdirectiveInject(NgZone))},scrolling_CdkVirtualForOf.ɵdir=ɵɵdefineDirective({type:scrolling_CdkVirtualForOf,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),scrolling_CdkVirtualForOf.ctorParameters=()=>[{type:ViewContainerRef},{type:TemplateRef},{type:IterableDiffers},{type:scrolling_CdkVirtualScrollViewport,decorators:[{type:SkipSelf}]},{type:NgZone}],scrolling_CdkVirtualForOf.propDecorators={cdkVirtualForOf:[{type:Input}],cdkVirtualForTrackBy:[{type:Input}],cdkVirtualForTemplate:[{type:Input}],cdkVirtualForTemplateCacheSize:[{type:Input}]};class CdkScrollableModule{}CdkScrollableModule.ɵmod=ɵɵdefineNgModule({type:CdkScrollableModule}),CdkScrollableModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||CdkScrollableModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(CdkScrollableModule,{declarations:[scrolling_CdkScrollable],exports:[scrolling_CdkScrollable]});class ScrollingModule{}function throwPortalAlreadyAttachedError(){throw Error("Host already has a portal attached")}ScrollingModule.ɵmod=ɵɵdefineNgModule({type:ScrollingModule}),ScrollingModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ScrollingModule)},imports:[[BidiModule,PlatformModule,CdkScrollableModule],BidiModule,CdkScrollableModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(ScrollingModule,{declarations:function(){return[scrolling_CdkFixedSizeVirtualScroll,scrolling_CdkVirtualForOf,scrolling_CdkVirtualScrollViewport]},imports:function(){return[BidiModule,PlatformModule,CdkScrollableModule]},exports:function(){return[BidiModule,CdkScrollableModule,scrolling_CdkFixedSizeVirtualScroll,scrolling_CdkVirtualForOf,scrolling_CdkVirtualScrollViewport]}});class Portal{attach(host){return null==host&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),host.hasAttached()&&throwPortalAlreadyAttachedError(),this._attachedHost=host,host.attach(this)}detach(){let host=this._attachedHost;null==host?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,host.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(host){this._attachedHost=host}}class ComponentPortal extends Portal{constructor(component,viewContainerRef,injector,componentFactoryResolver){super(),this.component=component,this.viewContainerRef=viewContainerRef,this.injector=injector,this.componentFactoryResolver=componentFactoryResolver}}class TemplatePortal extends Portal{constructor(template,viewContainerRef,context){super(),this.templateRef=template,this.viewContainerRef=viewContainerRef,this.context=context}get origin(){return this.templateRef.elementRef}attach(host,context=this.context){return this.context=context,super.attach(host)}detach(){return this.context=void 0,super.detach()}}class portal_DomPortal extends Portal{constructor(element){super(),this.element=element instanceof ElementRef?element.nativeElement:element}}class BasePortalOutlet{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(portal){return portal||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&throwPortalAlreadyAttachedError(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),portal instanceof ComponentPortal?(this._attachedPortal=portal,this.attachComponentPortal(portal)):portal instanceof TemplatePortal?(this._attachedPortal=portal,this.attachTemplatePortal(portal)):this.attachDomPortal&&portal instanceof portal_DomPortal?(this._attachedPortal=portal,this.attachDomPortal(portal)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(fn){this._disposeFn=fn}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class DomPortalOutlet extends BasePortalOutlet{constructor(outletElement,_componentFactoryResolver,_appRef,_defaultInjector,_document){super(),this.outletElement=outletElement,this._componentFactoryResolver=_componentFactoryResolver,this._appRef=_appRef,this._defaultInjector=_defaultInjector,this.attachDomPortal=portal=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const element=portal.element;if(!element.parentNode)throw Error("DOM portal content must be attached to a parent node.");const anchorNode=this._document.createComment("dom-portal");element.parentNode.insertBefore(anchorNode,element),this.outletElement.appendChild(element),super.setDisposeFn(()=>{anchorNode.parentNode&&anchorNode.parentNode.replaceChild(element,anchorNode)})},this._document=_document}attachComponentPortal(portal){const componentFactory=(portal.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(portal.component);let componentRef;return portal.viewContainerRef?(componentRef=portal.viewContainerRef.createComponent(componentFactory,portal.viewContainerRef.length,portal.injector||portal.viewContainerRef.injector),this.setDisposeFn(()=>componentRef.destroy())):(componentRef=componentFactory.create(portal.injector||this._defaultInjector),this._appRef.attachView(componentRef.hostView),this.setDisposeFn(()=>{this._appRef.detachView(componentRef.hostView),componentRef.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(componentRef)),componentRef}attachTemplatePortal(portal){let viewContainer=portal.viewContainerRef,viewRef=viewContainer.createEmbeddedView(portal.templateRef,portal.context);return viewRef.detectChanges(),viewRef.rootNodes.forEach(rootNode=>this.outletElement.appendChild(rootNode)),this.setDisposeFn(()=>{let index=viewContainer.indexOf(viewRef);-1!==index&&viewContainer.remove(index)}),viewRef}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(componentRef){return componentRef.hostView.rootNodes[0]}}class CdkPortal extends TemplatePortal{constructor(templateRef,viewContainerRef){super(templateRef,viewContainerRef)}}CdkPortal.ɵfac=function(t){return new(t||CdkPortal)(ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(ViewContainerRef))},CdkPortal.ɵdir=ɵɵdefineDirective({type:CdkPortal,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ɵɵInheritDefinitionFeature]}),CdkPortal.ctorParameters=()=>[{type:TemplateRef},{type:ViewContainerRef}];class TemplatePortalDirective extends CdkPortal{}TemplatePortalDirective.ɵfac=function(t){return ɵTemplatePortalDirective_BaseFactory(t||TemplatePortalDirective)},TemplatePortalDirective.ɵdir=ɵɵdefineDirective({type:TemplatePortalDirective,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[ɵɵProvidersFeature([{provide:CdkPortal,useExisting:TemplatePortalDirective}]),ɵɵInheritDefinitionFeature]});const ɵTemplatePortalDirective_BaseFactory=ɵɵgetInheritedFactory(TemplatePortalDirective);class portal_CdkPortalOutlet extends BasePortalOutlet{constructor(_componentFactoryResolver,_viewContainerRef,_document){super(),this._componentFactoryResolver=_componentFactoryResolver,this._viewContainerRef=_viewContainerRef,this._isInitialized=!1,this.attached=new core_EventEmitter,this.attachDomPortal=portal=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const element=portal.element;if(!element.parentNode)throw Error("DOM portal content must be attached to a parent node.");const anchorNode=this._document.createComment("dom-portal");portal.setAttachedHost(this),element.parentNode.insertBefore(anchorNode,element),this._getRootNode().appendChild(element),super.setDisposeFn(()=>{anchorNode.parentNode&&anchorNode.parentNode.replaceChild(element,anchorNode)})},this._document=_document}get portal(){return this._attachedPortal}set portal(portal){(!this.hasAttached()||portal||this._isInitialized)&&(this.hasAttached()&&super.detach(),portal&&super.attach(portal),this._attachedPortal=portal)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(portal){portal.setAttachedHost(this);const viewContainerRef=null!=portal.viewContainerRef?portal.viewContainerRef:this._viewContainerRef,componentFactory=(portal.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(portal.component),ref=viewContainerRef.createComponent(componentFactory,viewContainerRef.length,portal.injector||viewContainerRef.injector);return viewContainerRef!==this._viewContainerRef&&this._getRootNode().appendChild(ref.hostView.rootNodes[0]),super.setDisposeFn(()=>ref.destroy()),this._attachedPortal=portal,this._attachedRef=ref,this.attached.emit(ref),ref}attachTemplatePortal(portal){portal.setAttachedHost(this);const viewRef=this._viewContainerRef.createEmbeddedView(portal.templateRef,portal.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=portal,this._attachedRef=viewRef,this.attached.emit(viewRef),viewRef}_getRootNode(){const nativeElement=this._viewContainerRef.element.nativeElement;return(nativeElement.nodeType===nativeElement.ELEMENT_NODE?nativeElement:nativeElement.parentNode)}}portal_CdkPortalOutlet.ɵfac=function(t){return new(t||portal_CdkPortalOutlet)(ɵɵdirectiveInject(ComponentFactoryResolver),ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(common_DOCUMENT))},portal_CdkPortalOutlet.ɵdir=ɵɵdefineDirective({type:portal_CdkPortalOutlet,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ɵɵInheritDefinitionFeature]}),portal_CdkPortalOutlet.ctorParameters=()=>[{type:ComponentFactoryResolver},{type:ViewContainerRef},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],portal_CdkPortalOutlet.propDecorators={attached:[{type:Output}]};class PortalHostDirective extends portal_CdkPortalOutlet{}PortalHostDirective.ɵfac=function(t){return ɵPortalHostDirective_BaseFactory(t||PortalHostDirective)},PortalHostDirective.ɵdir=ɵɵdefineDirective({type:PortalHostDirective,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[ɵɵProvidersFeature([{provide:portal_CdkPortalOutlet,useExisting:PortalHostDirective}]),ɵɵInheritDefinitionFeature]});const ɵPortalHostDirective_BaseFactory=ɵɵgetInheritedFactory(PortalHostDirective);class PortalModule{}PortalModule.ɵmod=ɵɵdefineNgModule({type:PortalModule}),PortalModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||PortalModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(PortalModule,{declarations:[CdkPortal,portal_CdkPortalOutlet,TemplatePortalDirective,PortalHostDirective],exports:[CdkPortal,portal_CdkPortalOutlet,TemplatePortalDirective,PortalHostDirective]});function hasModifierKey(event,...modifiers){return modifiers.length?modifiers.some(modifier=>event[modifier]):event.altKey||event.shiftKey||event.ctrlKey||event.metaKey}class overlay_BlockScrollStrategy{constructor(_viewportRuler,document){this._viewportRuler=_viewportRuler,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=document}attach(){}enable(){if(this._canBeEnabled()){const root=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=root.style.left||"",this._previousHTMLStyles.top=root.style.top||"",root.style.left=coerceCssPixelValue(-this._previousScrollPosition.left),root.style.top=coerceCssPixelValue(-this._previousScrollPosition.top),root.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const html=this._document.documentElement,body=this._document.body,htmlStyle=html.style,bodyStyle=body.style,previousHtmlScrollBehavior=htmlStyle.scrollBehavior||"",previousBodyScrollBehavior=bodyStyle.scrollBehavior||"";this._isEnabled=!1,htmlStyle.left=this._previousHTMLStyles.left,htmlStyle.top=this._previousHTMLStyles.top,html.classList.remove("cdk-global-scrollblock"),htmlStyle.scrollBehavior=bodyStyle.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),htmlStyle.scrollBehavior=previousHtmlScrollBehavior,bodyStyle.scrollBehavior=previousBodyScrollBehavior}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const body=this._document.body,viewport=this._viewportRuler.getViewportSize();return body.scrollHeight>viewport.height||body.scrollWidth>viewport.width}}function getMatScrollStrategyAlreadyAttachedError(){return Error("Scroll strategy has already been attached.")}class CloseScrollStrategy{constructor(_scrollDispatcher,_ngZone,_viewportRuler,_config){this._scrollDispatcher=_scrollDispatcher,this._ngZone=_ngZone,this._viewportRuler=_viewportRuler,this._config=_config,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(overlayRef){if(this._overlayRef)throw getMatScrollStrategyAlreadyAttachedError();this._overlayRef=overlayRef}enable(){if(this._scrollSubscription)return;const stream=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=stream.subscribe(()=>{const scrollPosition=this._viewportRuler.getViewportScrollPosition().top;Math.abs(scrollPosition-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=stream.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NoopScrollStrategy{enable(){}disable(){}attach(){}}function isElementScrolledOutsideView(element,scrollContainers){return scrollContainers.some(containerBounds=>{const outsideAbove=element.bottom<containerBounds.top,outsideBelow=element.top>containerBounds.bottom,outsideLeft=element.right<containerBounds.left,outsideRight=element.left>containerBounds.right;return outsideAbove||outsideBelow||outsideLeft||outsideRight})}function isElementClippedByScrolling(element,scrollContainers){return scrollContainers.some(scrollContainerRect=>{const clippedAbove=element.top<scrollContainerRect.top,clippedBelow=element.bottom>scrollContainerRect.bottom,clippedLeft=element.left<scrollContainerRect.left,clippedRight=element.right>scrollContainerRect.right;return clippedAbove||clippedBelow||clippedLeft||clippedRight})}class RepositionScrollStrategy{constructor(_scrollDispatcher,_viewportRuler,_ngZone,_config){this._scrollDispatcher=_scrollDispatcher,this._viewportRuler=_viewportRuler,this._ngZone=_ngZone,this._config=_config,this._scrollSubscription=null}attach(overlayRef){if(this._overlayRef)throw getMatScrollStrategyAlreadyAttachedError();this._overlayRef=overlayRef}enable(){if(!this._scrollSubscription){const throttle=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(throttle).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const overlayRect=this._overlayRef.overlayElement.getBoundingClientRect(),{width:width,height:height}=this._viewportRuler.getViewportSize();isElementScrolledOutsideView(overlayRect,[{width:width,height:height,bottom:height,right:width,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ScrollStrategyOptions{constructor(_scrollDispatcher,_viewportRuler,_ngZone,document){this._scrollDispatcher=_scrollDispatcher,this._viewportRuler=_viewportRuler,this._ngZone=_ngZone,this.noop=()=>new NoopScrollStrategy,this.close=config=>new CloseScrollStrategy(this._scrollDispatcher,this._ngZone,this._viewportRuler,config),this.block=()=>new overlay_BlockScrollStrategy(this._viewportRuler,this._document),this.reposition=config=>new RepositionScrollStrategy(this._scrollDispatcher,this._viewportRuler,this._ngZone,config),this._document=document}}ScrollStrategyOptions.ɵfac=function(t){return new(t||ScrollStrategyOptions)(ɵɵinject(scrolling_ScrollDispatcher),ɵɵinject(scrolling_ViewportRuler),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT))},ScrollStrategyOptions.ctorParameters=()=>[{type:scrolling_ScrollDispatcher},{type:scrolling_ViewportRuler},{type:NgZone},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],ScrollStrategyOptions.ɵprov=ɵɵdefineInjectable({factory:function(){return new ScrollStrategyOptions(ɵɵinject(scrolling_ScrollDispatcher),ɵɵinject(scrolling_ViewportRuler),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT))},token:ScrollStrategyOptions,providedIn:"root"});class OverlayConfig{constructor(config){if(this.scrollStrategy=new NoopScrollStrategy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,config){const configKeys=Object.keys(config);for(const key of configKeys)void 0!==config[key]&&(this[key]=config[key])}}}class ConnectionPositionPair{constructor(origin,overlay,offsetX,offsetY,panelClass){this.offsetX=offsetX,this.offsetY=offsetY,this.panelClass=panelClass,this.originX=origin.originX,this.originY=origin.originY,this.overlayX=overlay.overlayX,this.overlayY=overlay.overlayY}}class ScrollingVisibility{}class ConnectedOverlayPositionChange{constructor(connectionPair,scrollableViewProperties){this.connectionPair=connectionPair,this.scrollableViewProperties=scrollableViewProperties}}function validateVerticalPosition(property,value){if("top"!==value&&"bottom"!==value&&"center"!==value)throw Error(`ConnectedPosition: Invalid ${property} "${value}". `+'Expected "top", "bottom" or "center".')}function validateHorizontalPosition(property,value){if("start"!==value&&"end"!==value&&"center"!==value)throw Error(`ConnectedPosition: Invalid ${property} "${value}". `+'Expected "start", "end" or "center".')}ConnectedOverlayPositionChange.ctorParameters=()=>[{type:ConnectionPositionPair},{type:ScrollingVisibility,decorators:[{type:Optional}]}];class OverlayKeyboardDispatcher{constructor(document){this._attachedOverlays=[],this._keydownListener=event=>{const overlays=this._attachedOverlays;for(let i=overlays.length-1;i>-1;i--)if(overlays[i]._keydownEvents.observers.length>0){overlays[i]._keydownEvents.next(event);break}},this._document=document}ngOnDestroy(){this._detach()}add(overlayRef){this.remove(overlayRef),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(overlayRef)}remove(overlayRef){const index=this._attachedOverlays.indexOf(overlayRef);index>-1&&this._attachedOverlays.splice(index,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}OverlayKeyboardDispatcher.ɵfac=function(t){return new(t||OverlayKeyboardDispatcher)(ɵɵinject(common_DOCUMENT))},OverlayKeyboardDispatcher.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],OverlayKeyboardDispatcher.ɵprov=ɵɵdefineInjectable({factory:function(){return new OverlayKeyboardDispatcher(ɵɵinject(common_DOCUMENT))},token:OverlayKeyboardDispatcher,providedIn:"root"});new Optional,new SkipSelf;const isTestEnvironment=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);class OverlayContainer{constructor(document,_platform){this._platform=_platform,this._document=document}ngOnDestroy(){const container=this._containerElement;container&&container.parentNode&&container.parentNode.removeChild(container)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const isBrowser=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(isBrowser||isTestEnvironment){const oppositePlatformContainers=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let i=0;i<oppositePlatformContainers.length;i++)oppositePlatformContainers[i].parentNode.removeChild(oppositePlatformContainers[i])}const container=this._document.createElement("div");container.classList.add("cdk-overlay-container"),isTestEnvironment?container.setAttribute("platform","test"):isBrowser||container.setAttribute("platform","server"),this._document.body.appendChild(container),this._containerElement=container}}OverlayContainer.ɵfac=function(t){return new(t||OverlayContainer)(ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform))},OverlayContainer.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:platform_Platform}],OverlayContainer.ɵprov=ɵɵdefineInjectable({factory:function(){return new OverlayContainer(ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform))},token:OverlayContainer,providedIn:"root"});new Optional,new SkipSelf;class overlay_OverlayRef{constructor(_portalOutlet,_host,_pane,_config,_ngZone,_keyboardDispatcher,_document,_location){this._portalOutlet=_portalOutlet,this._host=_host,this._pane=_pane,this._config=_config,this._ngZone=_ngZone,this._keyboardDispatcher=_keyboardDispatcher,this._document=_document,this._location=_location,this._backdropElement=null,this._backdropClick=new Subject_Subject,this._attachments=new Subject_Subject,this._detachments=new Subject_Subject,this._locationChanges=Subscription_Subscription.EMPTY,this._backdropClickHandler=event=>this._backdropClick.next(event),this._keydownEvents=new Subject_Subject,_config.scrollStrategy&&(this._scrollStrategy=_config.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_config.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(portal){let attachResult=this._portalOutlet.attach(portal);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),attachResult}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const detachmentResult=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),detachmentResult}dispose(){const isAttached=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,isAttached&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(strategy){strategy!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=strategy,this.hasAttached()&&(strategy.attach(this),this.updatePosition()))}updateSize(sizeConfig){this._config=Object.assign(Object.assign({},this._config),sizeConfig),this._updateElementSize()}setDirection(dir){this._config=Object.assign(Object.assign({},this._config),{direction:dir}),this._updateElementDirection()}addPanelClass(classes){this._pane&&this._toggleClasses(this._pane,classes,!0)}removePanelClass(classes){this._pane&&this._toggleClasses(this._pane,classes,!1)}getDirection(){const direction=this._config.direction;return direction?"string"==typeof direction?direction:direction.value:"ltr"}updateScrollStrategy(strategy){strategy!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=strategy,this.hasAttached()&&(strategy.attach(this),strategy.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const style=this._pane.style;style.width=coerceCssPixelValue(this._config.width),style.height=coerceCssPixelValue(this._config.height),style.minWidth=coerceCssPixelValue(this._config.minWidth),style.minHeight=coerceCssPixelValue(this._config.minHeight),style.maxWidth=coerceCssPixelValue(this._config.maxWidth),style.maxHeight=coerceCssPixelValue(this._config.maxHeight)}_togglePointerEvents(enablePointer){this._pane.style.pointerEvents=enablePointer?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let timeoutId,backdropToDetach=this._backdropElement;if(!backdropToDetach)return;let finishDetach=()=>{backdropToDetach&&(backdropToDetach.removeEventListener("click",this._backdropClickHandler),backdropToDetach.removeEventListener("transitionend",finishDetach),backdropToDetach.parentNode&&backdropToDetach.parentNode.removeChild(backdropToDetach)),this._backdropElement==backdropToDetach&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(backdropToDetach,this._config.backdropClass,!1),clearTimeout(timeoutId)};backdropToDetach.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{backdropToDetach.addEventListener("transitionend",finishDetach)}),backdropToDetach.style.pointerEvents="none",timeoutId=this._ngZone.runOutsideAngular(()=>setTimeout(finishDetach,500))}_toggleClasses(element,cssClasses,isAdd){const classList=element.classList;coerceArray(cssClasses).forEach(cssClass=>{cssClass&&(isAdd?classList.add(cssClass):classList.remove(cssClass))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const subscription=this._ngZone.onStable.asObservable().pipe(takeUntil(merge(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),subscription.unsubscribe())})})}_disposeScrollStrategy(){const scrollStrategy=this._scrollStrategy;scrollStrategy&&(scrollStrategy.disable(),scrollStrategy.detach&&scrollStrategy.detach())}}const cssUnitPattern=/([A-Za-z%]+)$/;class overlay_FlexibleConnectedPositionStrategy{constructor(connectedTo,_viewportRuler,_document,_platform,_overlayContainer){this._viewportRuler=_viewportRuler,this._document=_document,this._platform=_platform,this._overlayContainer=_overlayContainer,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Subject_Subject,this._resizeSubscription=Subscription_Subscription.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(connectedTo)}get positions(){return this._preferredPositions}attach(overlayRef){if(this._overlayRef&&overlayRef!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),overlayRef.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=overlayRef,this._boundingBox=overlayRef.hostElement,this._pane=overlayRef.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const originRect=this._originRect,overlayRect=this._overlayRect,viewportRect=this._viewportRect,flexibleFits=[];let fallback;for(let pos of this._preferredPositions){let originPoint=this._getOriginPoint(originRect,pos),overlayPoint=this._getOverlayPoint(originPoint,overlayRect,pos),overlayFit=this._getOverlayFit(overlayPoint,overlayRect,viewportRect,pos);if(overlayFit.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(pos,originPoint);this._canFitWithFlexibleDimensions(overlayFit,overlayPoint,viewportRect)?flexibleFits.push({position:pos,origin:originPoint,overlayRect:overlayRect,boundingBoxRect:this._calculateBoundingBoxRect(originPoint,pos)}):(!fallback||fallback.overlayFit.visibleArea<overlayFit.visibleArea)&&(fallback={overlayFit:overlayFit,overlayPoint:overlayPoint,originPoint:originPoint,position:pos,overlayRect:overlayRect})}if(flexibleFits.length){let bestFit=null,bestScore=-1;for(const fit of flexibleFits){const score=fit.boundingBoxRect.width*fit.boundingBoxRect.height*(fit.position.weight||1);score>bestScore&&(bestScore=score,bestFit=fit)}return this._isPushed=!1,void this._applyPosition(bestFit.position,bestFit.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(fallback.position,fallback.originPoint);this._applyPosition(fallback.position,fallback.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&extendStyles(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const lastPosition=this._lastPosition||this._preferredPositions[0],originPoint=this._getOriginPoint(this._originRect,lastPosition);this._applyPosition(lastPosition,originPoint)}}withScrollableContainers(scrollables){return this._scrollables=scrollables,this}withPositions(positions){return this._preferredPositions=positions,-1===positions.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(margin){return this._viewportMargin=margin,this}withFlexibleDimensions(flexibleDimensions=!0){return this._hasFlexibleDimensions=flexibleDimensions,this}withGrowAfterOpen(growAfterOpen=!0){return this._growAfterOpen=growAfterOpen,this}withPush(canPush=!0){return this._canPush=canPush,this}withLockedPosition(isLocked=!0){return this._positionLocked=isLocked,this}setOrigin(origin){return this._origin=origin,this}withDefaultOffsetX(offset){return this._offsetX=offset,this}withDefaultOffsetY(offset){return this._offsetY=offset,this}withTransformOriginOn(selector){return this._transformOriginSelector=selector,this}_getOriginPoint(originRect,pos){let x,y;if("center"==pos.originX)x=originRect.left+originRect.width/2;else{const startX=this._isRtl()?originRect.right:originRect.left,endX=this._isRtl()?originRect.left:originRect.right;x="start"==pos.originX?startX:endX}return y="center"==pos.originY?originRect.top+originRect.height/2:"top"==pos.originY?originRect.top:originRect.bottom,{x:x,y:y}}_getOverlayPoint(originPoint,overlayRect,pos){let overlayStartX,overlayStartY;return overlayStartX="center"==pos.overlayX?-overlayRect.width/2:"start"===pos.overlayX?this._isRtl()?-overlayRect.width:0:this._isRtl()?0:-overlayRect.width,overlayStartY="center"==pos.overlayY?-overlayRect.height/2:"top"==pos.overlayY?0:-overlayRect.height,{x:originPoint.x+overlayStartX,y:originPoint.y+overlayStartY}}_getOverlayFit(point,overlay,viewport,position){let{x:x,y:y}=point,offsetX=this._getOffset(position,"x"),offsetY=this._getOffset(position,"y");offsetX&&(x+=offsetX),offsetY&&(y+=offsetY);let leftOverflow=0-x,rightOverflow=x+overlay.width-viewport.width,topOverflow=0-y,bottomOverflow=y+overlay.height-viewport.height,visibleWidth=this._subtractOverflows(overlay.width,leftOverflow,rightOverflow),visibleHeight=this._subtractOverflows(overlay.height,topOverflow,bottomOverflow),visibleArea=visibleWidth*visibleHeight;return{visibleArea:visibleArea,isCompletelyWithinViewport:overlay.width*overlay.height===visibleArea,fitsInViewportVertically:visibleHeight===overlay.height,fitsInViewportHorizontally:visibleWidth==overlay.width}}_canFitWithFlexibleDimensions(fit,point,viewport){if(this._hasFlexibleDimensions){const availableHeight=viewport.bottom-point.y,availableWidth=viewport.right-point.x,minHeight=getPixelValue(this._overlayRef.getConfig().minHeight),minWidth=getPixelValue(this._overlayRef.getConfig().minWidth),verticalFit=fit.fitsInViewportVertically||null!=minHeight&&minHeight<=availableHeight,horizontalFit=fit.fitsInViewportHorizontally||null!=minWidth&&minWidth<=availableWidth;return verticalFit&&horizontalFit}return!1}_pushOverlayOnScreen(start,overlay,scrollPosition){if(this._previousPushAmount&&this._positionLocked)return{x:start.x+this._previousPushAmount.x,y:start.y+this._previousPushAmount.y};const viewport=this._viewportRect,overflowRight=Math.max(start.x+overlay.width-viewport.right,0),overflowBottom=Math.max(start.y+overlay.height-viewport.bottom,0),overflowTop=Math.max(viewport.top-scrollPosition.top-start.y,0),overflowLeft=Math.max(viewport.left-scrollPosition.left-start.x,0);let pushX=0,pushY=0;return pushX=overlay.width<=viewport.width?overflowLeft||-overflowRight:start.x<this._viewportMargin?viewport.left-scrollPosition.left-start.x:0,pushY=overlay.height<=viewport.height?overflowTop||-overflowBottom:start.y<this._viewportMargin?viewport.top-scrollPosition.top-start.y:0,this._previousPushAmount={x:pushX,y:pushY},{x:start.x+pushX,y:start.y+pushY}}_applyPosition(position,originPoint){if(this._setTransformOrigin(position),this._setOverlayElementStyles(originPoint,position),this._setBoundingBoxStyles(originPoint,position),position.panelClass&&this._addPanelClasses(position.panelClass),this._lastPosition=position,this._positionChanges.observers.length){const scrollableViewProperties=this._getScrollVisibility(),changeEvent=new ConnectedOverlayPositionChange(position,scrollableViewProperties);this._positionChanges.next(changeEvent)}this._isInitialRender=!1}_setTransformOrigin(position){if(!this._transformOriginSelector)return;const elements=this._boundingBox.querySelectorAll(this._transformOriginSelector);let xOrigin,yOrigin=position.overlayY;xOrigin="center"===position.overlayX?"center":this._isRtl()?"start"===position.overlayX?"right":"left":"start"===position.overlayX?"left":"right";for(let i=0;i<elements.length;i++)elements[i].style.transformOrigin=`${xOrigin} ${yOrigin}`}_calculateBoundingBoxRect(origin,position){const viewport=this._viewportRect,isRtl=this._isRtl();let height,top,bottom;if("top"===position.overlayY)top=origin.y,height=viewport.height-top+this._viewportMargin;else if("bottom"===position.overlayY)bottom=viewport.height-origin.y+2*this._viewportMargin,height=viewport.height-bottom+this._viewportMargin;else{const smallestDistanceToViewportEdge=Math.min(viewport.bottom-origin.y+viewport.top,origin.y),previousHeight=this._lastBoundingBoxSize.height;height=2*smallestDistanceToViewportEdge,top=origin.y-smallestDistanceToViewportEdge,height>previousHeight&&!this._isInitialRender&&!this._growAfterOpen&&(top=origin.y-previousHeight/2)}const isBoundedByRightViewportEdge="start"===position.overlayX&&!isRtl||"end"===position.overlayX&&isRtl;let width,left,right;if("end"===position.overlayX&&!isRtl||"start"===position.overlayX&&isRtl)right=viewport.width-origin.x+this._viewportMargin,width=origin.x-this._viewportMargin;else if(isBoundedByRightViewportEdge)left=origin.x,width=viewport.right-origin.x;else{const smallestDistanceToViewportEdge=Math.min(viewport.right-origin.x+viewport.left,origin.x),previousWidth=this._lastBoundingBoxSize.width;width=2*smallestDistanceToViewportEdge,left=origin.x-smallestDistanceToViewportEdge,width>previousWidth&&!this._isInitialRender&&!this._growAfterOpen&&(left=origin.x-previousWidth/2)}return{top:top,left:left,bottom:bottom,right:right,width:width,height:height}}_setBoundingBoxStyles(origin,position){const boundingBoxRect=this._calculateBoundingBoxRect(origin,position);this._isInitialRender||this._growAfterOpen||(boundingBoxRect.height=Math.min(boundingBoxRect.height,this._lastBoundingBoxSize.height),boundingBoxRect.width=Math.min(boundingBoxRect.width,this._lastBoundingBoxSize.width));const styles={};if(this._hasExactPosition())styles.top=styles.left="0",styles.bottom=styles.right=styles.maxHeight=styles.maxWidth="",styles.width=styles.height="100%";else{const maxHeight=this._overlayRef.getConfig().maxHeight,maxWidth=this._overlayRef.getConfig().maxWidth;styles.height=coerceCssPixelValue(boundingBoxRect.height),styles.top=coerceCssPixelValue(boundingBoxRect.top),styles.bottom=coerceCssPixelValue(boundingBoxRect.bottom),styles.width=coerceCssPixelValue(boundingBoxRect.width),styles.left=coerceCssPixelValue(boundingBoxRect.left),styles.right=coerceCssPixelValue(boundingBoxRect.right),"center"===position.overlayX?styles.alignItems="center":styles.alignItems="end"===position.overlayX?"flex-end":"flex-start","center"===position.overlayY?styles.justifyContent="center":styles.justifyContent="bottom"===position.overlayY?"flex-end":"flex-start",maxHeight&&(styles.maxHeight=coerceCssPixelValue(maxHeight)),maxWidth&&(styles.maxWidth=coerceCssPixelValue(maxWidth))}this._lastBoundingBoxSize=boundingBoxRect,extendStyles(this._boundingBox.style,styles)}_resetBoundingBoxStyles(){extendStyles(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){extendStyles(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(originPoint,position){const styles={},hasExactPosition=this._hasExactPosition(),hasFlexibleDimensions=this._hasFlexibleDimensions,config=this._overlayRef.getConfig();if(hasExactPosition){const scrollPosition=this._viewportRuler.getViewportScrollPosition();extendStyles(styles,this._getExactOverlayY(position,originPoint,scrollPosition)),extendStyles(styles,this._getExactOverlayX(position,originPoint,scrollPosition))}else styles.position="static";let transformString="",offsetX=this._getOffset(position,"x"),offsetY=this._getOffset(position,"y");offsetX&&(transformString+=`translateX(${offsetX}px) `),offsetY&&(transformString+=`translateY(${offsetY}px)`),styles.transform=transformString.trim(),config.maxHeight&&(hasExactPosition?styles.maxHeight=coerceCssPixelValue(config.maxHeight):hasFlexibleDimensions&&(styles.maxHeight="")),config.maxWidth&&(hasExactPosition?styles.maxWidth=coerceCssPixelValue(config.maxWidth):hasFlexibleDimensions&&(styles.maxWidth="")),extendStyles(this._pane.style,styles)}_getExactOverlayY(position,originPoint,scrollPosition){let styles={top:"",bottom:""},overlayPoint=this._getOverlayPoint(originPoint,this._overlayRect,position);this._isPushed&&(overlayPoint=this._pushOverlayOnScreen(overlayPoint,this._overlayRect,scrollPosition));let virtualKeyboardOffset=this._overlayContainer.getContainerElement().getBoundingClientRect().top;if(overlayPoint.y-=virtualKeyboardOffset,"bottom"===position.overlayY){const documentHeight=this._document.documentElement.clientHeight;styles.bottom=`${documentHeight-(overlayPoint.y+this._overlayRect.height)}px`}else styles.top=coerceCssPixelValue(overlayPoint.y);return styles}_getExactOverlayX(position,originPoint,scrollPosition){let horizontalStyleProperty,styles={left:"",right:""},overlayPoint=this._getOverlayPoint(originPoint,this._overlayRect,position);if(this._isPushed&&(overlayPoint=this._pushOverlayOnScreen(overlayPoint,this._overlayRect,scrollPosition)),horizontalStyleProperty=this._isRtl()?"end"===position.overlayX?"left":"right":"end"===position.overlayX?"right":"left","right"===horizontalStyleProperty){const documentWidth=this._document.documentElement.clientWidth;styles.right=`${documentWidth-(overlayPoint.x+this._overlayRect.width)}px`}else styles.left=coerceCssPixelValue(overlayPoint.x);return styles}_getScrollVisibility(){const originBounds=this._getOriginRect(),overlayBounds=this._pane.getBoundingClientRect(),scrollContainerBounds=this._scrollables.map(scrollable=>scrollable.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:isElementClippedByScrolling(originBounds,scrollContainerBounds),isOriginOutsideView:isElementScrolledOutsideView(originBounds,scrollContainerBounds),isOverlayClipped:isElementClippedByScrolling(overlayBounds,scrollContainerBounds),isOverlayOutsideView:isElementScrolledOutsideView(overlayBounds,scrollContainerBounds)}}_subtractOverflows(length,...overflows){return overflows.reduce((currentValue,currentOverflow)=>currentValue-Math.max(currentOverflow,0),length)}_getNarrowedViewportRect(){const width=this._document.documentElement.clientWidth,height=this._document.documentElement.clientHeight,scrollPosition=this._viewportRuler.getViewportScrollPosition();return{top:scrollPosition.top+this._viewportMargin,left:scrollPosition.left+this._viewportMargin,right:scrollPosition.left+width-this._viewportMargin,bottom:scrollPosition.top+height-this._viewportMargin,width:width-2*this._viewportMargin,height:height-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(position,axis){return"x"===axis?null==position.offsetX?this._offsetX:position.offsetX:null==position.offsetY?this._offsetY:position.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(pair=>{validateHorizontalPosition("originX",pair.originX),validateVerticalPosition("originY",pair.originY),validateHorizontalPosition("overlayX",pair.overlayX),validateVerticalPosition("overlayY",pair.overlayY)})}_addPanelClasses(cssClasses){this._pane&&coerceArray(cssClasses).forEach(cssClass=>{""!==cssClass&&-1===this._appliedPanelClasses.indexOf(cssClass)&&(this._appliedPanelClasses.push(cssClass),this._pane.classList.add(cssClass))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(cssClass=>{this._pane.classList.remove(cssClass)}),this._appliedPanelClasses=[])}_getOriginRect(){const origin=this._origin;if(origin instanceof ElementRef)return origin.nativeElement.getBoundingClientRect();if(origin instanceof Element)return origin.getBoundingClientRect();const width=origin.width||0,height=origin.height||0;return{top:origin.y,bottom:origin.y+height,left:origin.x,right:origin.x+width,height:height,width:width}}}function extendStyles(destination,source){for(let key in source)source.hasOwnProperty(key)&&(destination[key]=source[key]);return destination}function getPixelValue(input){if("number"!=typeof input&&null!=input){const[value,units]=input.split(cssUnitPattern);return units&&"px"!==units?null:parseFloat(value)}return input||null}class ConnectedPositionStrategy{constructor(originPos,overlayPos,connectedTo,viewportRuler,document,platform,overlayContainer){this._preferredPositions=[],this._positionStrategy=new overlay_FlexibleConnectedPositionStrategy(connectedTo,viewportRuler,document,platform,overlayContainer).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(originPos,overlayPos)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(overlayRef){this._overlayRef=overlayRef,this._positionStrategy.attach(overlayRef),this._direction&&(overlayRef.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(scrollables){this._positionStrategy.withScrollableContainers(scrollables)}withFallbackPosition(originPos,overlayPos,offsetX,offsetY){const position=new ConnectionPositionPair(originPos,overlayPos,offsetX,offsetY);return this._preferredPositions.push(position),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(dir){return this._overlayRef?this._overlayRef.setDirection(dir):this._direction=dir,this}withOffsetX(offset){return this._positionStrategy.withDefaultOffsetX(offset),this}withOffsetY(offset){return this._positionStrategy.withDefaultOffsetY(offset),this}withLockedPosition(isLocked){return this._positionStrategy.withLockedPosition(isLocked),this}withPositions(positions){return this._preferredPositions=positions.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(origin){return this._positionStrategy.setOrigin(origin),this}}class GlobalPositionStrategy{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(overlayRef){const config=overlayRef.getConfig();this._overlayRef=overlayRef,this._width&&!config.width&&overlayRef.updateSize({width:this._width}),this._height&&!config.height&&overlayRef.updateSize({height:this._height}),overlayRef.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(value=""){return this._bottomOffset="",this._topOffset=value,this._alignItems="flex-start",this}left(value=""){return this._rightOffset="",this._leftOffset=value,this._justifyContent="flex-start",this}bottom(value=""){return this._topOffset="",this._bottomOffset=value,this._alignItems="flex-end",this}right(value=""){return this._leftOffset="",this._rightOffset=value,this._justifyContent="flex-end",this}width(value=""){return this._overlayRef?this._overlayRef.updateSize({width:value}):this._width=value,this}height(value=""){return this._overlayRef?this._overlayRef.updateSize({height:value}):this._height=value,this}centerHorizontally(offset=""){return this.left(offset),this._justifyContent="center",this}centerVertically(offset=""){return this.top(offset),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const styles=this._overlayRef.overlayElement.style,parentStyles=this._overlayRef.hostElement.style,config=this._overlayRef.getConfig(),{width:width,height:height,maxWidth:maxWidth,maxHeight:maxHeight}=config,shouldBeFlushHorizontally=!("100%"!==width&&"100vw"!==width||maxWidth&&"100%"!==maxWidth&&"100vw"!==maxWidth),shouldBeFlushVertically=!("100%"!==height&&"100vh"!==height||maxHeight&&"100%"!==maxHeight&&"100vh"!==maxHeight);styles.position=this._cssPosition,styles.marginLeft=shouldBeFlushHorizontally?"0":this._leftOffset,styles.marginTop=shouldBeFlushVertically?"0":this._topOffset,styles.marginBottom=this._bottomOffset,styles.marginRight=this._rightOffset,shouldBeFlushHorizontally?parentStyles.justifyContent="flex-start":"center"===this._justifyContent?parentStyles.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?parentStyles.justifyContent="flex-end":"flex-end"===this._justifyContent&&(parentStyles.justifyContent="flex-start"):parentStyles.justifyContent=this._justifyContent,parentStyles.alignItems=shouldBeFlushVertically?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const styles=this._overlayRef.overlayElement.style,parent=this._overlayRef.hostElement,parentStyles=parent.style;parent.classList.remove("cdk-global-overlay-wrapper"),parentStyles.justifyContent=parentStyles.alignItems=styles.marginTop=styles.marginBottom=styles.marginLeft=styles.marginRight=styles.position="",this._overlayRef=null,this._isDisposed=!0}}class OverlayPositionBuilder{constructor(_viewportRuler,_document,_platform,_overlayContainer){this._viewportRuler=_viewportRuler,this._document=_document,this._platform=_platform,this._overlayContainer=_overlayContainer}global(){return new GlobalPositionStrategy}connectedTo(elementRef,originPos,overlayPos){return new ConnectedPositionStrategy(originPos,overlayPos,elementRef,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(origin){return new overlay_FlexibleConnectedPositionStrategy(origin,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}OverlayPositionBuilder.ɵfac=function(t){return new(t||OverlayPositionBuilder)(ɵɵinject(scrolling_ViewportRuler),ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform),ɵɵinject(OverlayContainer))},OverlayPositionBuilder.ctorParameters=()=>[{type:scrolling_ViewportRuler},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:platform_Platform},{type:OverlayContainer}],OverlayPositionBuilder.ɵprov=ɵɵdefineInjectable({factory:function(){return new OverlayPositionBuilder(ɵɵinject(scrolling_ViewportRuler),ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform),ɵɵinject(OverlayContainer))},token:OverlayPositionBuilder,providedIn:"root"});let nextUniqueId=0;class overlay_Overlay{constructor(scrollStrategies,_overlayContainer,_componentFactoryResolver,_positionBuilder,_keyboardDispatcher,_injector,_ngZone,_document,_directionality,_location){this.scrollStrategies=scrollStrategies,this._overlayContainer=_overlayContainer,this._componentFactoryResolver=_componentFactoryResolver,this._positionBuilder=_positionBuilder,this._keyboardDispatcher=_keyboardDispatcher,this._injector=_injector,this._ngZone=_ngZone,this._document=_document,this._directionality=_directionality,this._location=_location}create(config){const host=this._createHostElement(),pane=this._createPaneElement(host),portalOutlet=this._createPortalOutlet(pane),overlayConfig=new OverlayConfig(config);return overlayConfig.direction=overlayConfig.direction||this._directionality.value,new overlay_OverlayRef(portalOutlet,host,pane,overlayConfig,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(host){const pane=this._document.createElement("div");return pane.id=`cdk-overlay-${nextUniqueId++}`,pane.classList.add("cdk-overlay-pane"),host.appendChild(pane),pane}_createHostElement(){const host=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(host),host}_createPortalOutlet(pane){return this._appRef||(this._appRef=this._injector.get(core_ApplicationRef)),new DomPortalOutlet(pane,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}overlay_Overlay.ɵfac=function(t){return new(t||overlay_Overlay)(ɵɵinject(ScrollStrategyOptions),ɵɵinject(OverlayContainer),ɵɵinject(ComponentFactoryResolver),ɵɵinject(OverlayPositionBuilder),ɵɵinject(OverlayKeyboardDispatcher),ɵɵinject(Injector),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT),ɵɵinject(bidi_Directionality),ɵɵinject(common_Location,8))},overlay_Overlay.ɵprov=ɵɵdefineInjectable({token:overlay_Overlay,factory:overlay_Overlay.ɵfac}),overlay_Overlay.ctorParameters=()=>[{type:ScrollStrategyOptions},{type:OverlayContainer},{type:ComponentFactoryResolver},{type:OverlayPositionBuilder},{type:OverlayKeyboardDispatcher},{type:Injector},{type:NgZone},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:bidi_Directionality},{type:common_Location,decorators:[{type:Optional}]}];const defaultPositionList=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY=new InjectionToken("cdk-connected-overlay-scroll-strategy");class CdkOverlayOrigin{constructor(elementRef){this.elementRef=elementRef}}CdkOverlayOrigin.ɵfac=function(t){return new(t||CdkOverlayOrigin)(ɵɵdirectiveInject(ElementRef))},CdkOverlayOrigin.ɵdir=ɵɵdefineDirective({type:CdkOverlayOrigin,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),CdkOverlayOrigin.ctorParameters=()=>[{type:ElementRef}];class overlay_CdkConnectedOverlay{constructor(_overlay,templateRef,viewContainerRef,scrollStrategyFactory,_dir){this._overlay=_overlay,this._dir=_dir,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Subscription_Subscription.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new core_EventEmitter,this.positionChange=new core_EventEmitter,this.attach=new core_EventEmitter,this.detach=new core_EventEmitter,this.overlayKeydown=new core_EventEmitter,this._templatePortal=new TemplatePortal(templateRef,viewContainerRef),this._scrollStrategyFactory=scrollStrategyFactory,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(offsetX){this._offsetX=offsetX,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(offsetY){this._offsetY=offsetY,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(value){this._hasBackdrop=coerceBooleanProperty(value)}get lockPosition(){return this._lockPosition}set lockPosition(value){this._lockPosition=coerceBooleanProperty(value)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(value){this._flexibleDimensions=coerceBooleanProperty(value)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(value){this._growAfterOpen=coerceBooleanProperty(value)}get push(){return this._push}set push(value){this._push=coerceBooleanProperty(value)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(changes){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),changes.origin&&this.open&&this._position.apply()),changes.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=defaultPositionList),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(event=>{this.overlayKeydown.next(event),27!==event.keyCode||hasModifierKey(event)||(event.preventDefault(),this._detachOverlay())})}_buildConfig(){const positionStrategy=this._position=this.positionStrategy||this._createPositionStrategy(),overlayConfig=new OverlayConfig({direction:this._dir,positionStrategy:positionStrategy,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(overlayConfig.width=this.width),(this.height||0===this.height)&&(overlayConfig.height=this.height),(this.minWidth||0===this.minWidth)&&(overlayConfig.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(overlayConfig.minHeight=this.minHeight),this.backdropClass&&(overlayConfig.backdropClass=this.backdropClass),this.panelClass&&(overlayConfig.panelClass=this.panelClass),overlayConfig}_updatePositionStrategy(positionStrategy){const positions=this.positions.map(currentPosition=>({originX:currentPosition.originX,originY:currentPosition.originY,overlayX:currentPosition.overlayX,overlayY:currentPosition.overlayY,offsetX:currentPosition.offsetX||this.offsetX,offsetY:currentPosition.offsetY||this.offsetY,panelClass:currentPosition.panelClass||void 0}));return positionStrategy.setOrigin(this.origin.elementRef).withPositions(positions).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const strategy=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(strategy),strategy.positionChanges.subscribe(p=>this.positionChange.emit(p)),strategy}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(event=>{this.backdropClick.emit(event)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}overlay_CdkConnectedOverlay.ɵfac=function(t){return new(t||overlay_CdkConnectedOverlay)(ɵɵdirectiveInject(overlay_Overlay),ɵɵdirectiveInject(TemplateRef),ɵɵdirectiveInject(ViewContainerRef),ɵɵdirectiveInject(CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY),ɵɵdirectiveInject(bidi_Directionality,8))},overlay_CdkConnectedOverlay.ɵdir=ɵɵdefineDirective({type:overlay_CdkConnectedOverlay,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[ɵɵNgOnChangesFeature]}),overlay_CdkConnectedOverlay.ctorParameters=()=>[{type:overlay_Overlay},{type:TemplateRef},{type:ViewContainerRef},{type:void 0,decorators:[{type:Inject,args:[CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY]}]},{type:bidi_Directionality,decorators:[{type:Optional}]}],overlay_CdkConnectedOverlay.propDecorators={origin:[{type:Input,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:Input,args:["cdkConnectedOverlayPositions"]}],positionStrategy:[{type:Input,args:["cdkConnectedOverlayPositionStrategy"]}],offsetX:[{type:Input,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:Input,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:Input,args:["cdkConnectedOverlayWidth"]}],height:[{type:Input,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:Input,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:Input,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:Input,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:Input,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:Input,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:Input,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:Input,args:["cdkConnectedOverlayOpen"]}],transformOriginSelector:[{type:Input,args:["cdkConnectedOverlayTransformOriginOn"]}],hasBackdrop:[{type:Input,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:Input,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:Input,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:Input,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:Input,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:Output}],positionChange:[{type:Output}],attach:[{type:Output}],detach:[{type:Output}],overlayKeydown:[{type:Output}]};const CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER={provide:CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}};class OverlayModule{}OverlayModule.ɵmod=ɵɵdefineNgModule({type:OverlayModule}),OverlayModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||OverlayModule)},providers:[overlay_Overlay,CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER],imports:[[BidiModule,PortalModule,ScrollingModule],ScrollingModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(OverlayModule,{declarations:function(){return[overlay_CdkConnectedOverlay,CdkOverlayOrigin]},imports:function(){return[BidiModule,PortalModule,ScrollingModule]},exports:function(){return[overlay_CdkConnectedOverlay,CdkOverlayOrigin,ScrollingModule]}});class FullscreenOverlayContainer extends OverlayContainer{constructor(_document,platform){super(_document,platform)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){if(!this._containerElement)return;(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(fn){const eventName=this._getEventName();eventName&&(this._fullScreenListener&&this._document.removeEventListener(eventName,this._fullScreenListener),this._document.addEventListener(eventName,fn),this._fullScreenListener=fn)}_getEventName(){if(!this._fullScreenEventName){const _document=this._document;_document.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":_document.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":_document.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":_document.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const _document=this._document;return _document.fullscreenElement||_document.webkitFullscreenElement||_document.mozFullScreenElement||_document.msFullscreenElement||null}}function debounceTime(dueTime,scheduler=async_async){return source=>source.lift(new DebounceTimeOperator(dueTime,scheduler))}FullscreenOverlayContainer.ɵfac=function(t){return new(t||FullscreenOverlayContainer)(ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform))},FullscreenOverlayContainer.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:platform_Platform}],FullscreenOverlayContainer.ɵprov=ɵɵdefineInjectable({factory:function(){return new FullscreenOverlayContainer(ɵɵinject(common_DOCUMENT),ɵɵinject(platform_Platform))},token:FullscreenOverlayContainer,providedIn:"root"});class DebounceTimeOperator{constructor(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new debounceTime_DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))}}class debounceTime_DebounceTimeSubscriber extends Subscriber_Subscriber{constructor(destination,dueTime,scheduler){super(destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:lastValue}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(lastValue)}}clearDebounce(){const debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)}}function dispatchNext(subscriber){subscriber.debouncedNext()}class MutationObserverFactory{create(callback){return"undefined"==typeof MutationObserver?null:new MutationObserver(callback)}}MutationObserverFactory.ɵfac=function(t){return new(t||MutationObserverFactory)},MutationObserverFactory.ɵprov=ɵɵdefineInjectable({factory:function(){return new MutationObserverFactory},token:MutationObserverFactory,providedIn:"root"});class observers_ContentObserver{constructor(_mutationObserverFactory){this._mutationObserverFactory=_mutationObserverFactory,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((_,element)=>this._cleanupObserver(element))}observe(elementOrRef){const element=coerceElement(elementOrRef);return new Observable_Observable(observer=>{const subscription=this._observeElement(element).subscribe(observer);return()=>{subscription.unsubscribe(),this._unobserveElement(element)}})}_observeElement(element){if(this._observedElements.has(element))this._observedElements.get(element).count++;else{const stream=new Subject_Subject,observer=this._mutationObserverFactory.create(mutations=>stream.next(mutations));observer&&observer.observe(element,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(element,{observer:observer,stream:stream,count:1})}return(this._observedElements.get(element).stream)}_unobserveElement(element){this._observedElements.has(element)&&(this._observedElements.get(element).count--,this._observedElements.get(element).count||this._cleanupObserver(element))}_cleanupObserver(element){if(this._observedElements.has(element)){const{observer:observer,stream:stream}=this._observedElements.get(element);observer&&observer.disconnect(),stream.complete(),this._observedElements.delete(element)}}}observers_ContentObserver.ɵfac=function(t){return new(t||observers_ContentObserver)(ɵɵinject(MutationObserverFactory))},observers_ContentObserver.ctorParameters=()=>[{type:MutationObserverFactory}],observers_ContentObserver.ɵprov=ɵɵdefineInjectable({factory:function(){return new observers_ContentObserver(ɵɵinject(MutationObserverFactory))},token:observers_ContentObserver,providedIn:"root"});class observers_CdkObserveContent{constructor(_contentObserver,_elementRef,_ngZone){this._contentObserver=_contentObserver,this._elementRef=_elementRef,this._ngZone=_ngZone,this.event=new core_EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(value){this._debounce=coerceNumberProperty(value),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const stream=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?stream.pipe(debounceTime(this.debounce)):stream).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}observers_CdkObserveContent.ɵfac=function(t){return new(t||observers_CdkObserveContent)(ɵɵdirectiveInject(observers_ContentObserver),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(NgZone))},observers_CdkObserveContent.ɵdir=ɵɵdefineDirective({type:observers_CdkObserveContent,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),observers_CdkObserveContent.ctorParameters=()=>[{type:observers_ContentObserver},{type:ElementRef},{type:NgZone}],observers_CdkObserveContent.propDecorators={event:[{type:Output,args:["cdkObserveContent"]}],disabled:[{type:Input,args:["cdkObserveContentDisabled"]}],debounce:[{type:Input}]};class ObserversModule{}ObserversModule.ɵmod=ɵɵdefineNgModule({type:ObserversModule}),ObserversModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||ObserversModule)},providers:[MutationObserverFactory]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(ObserversModule,{declarations:[observers_CdkObserveContent],exports:[observers_CdkObserveContent]});function getAriaReferenceIds(el,attr){return(el.getAttribute(attr)||"").match(/\S+/g)||[]}let nextId=0;const messageRegistry=new Map;let messagesContainer=null;class AriaDescriber{constructor(_document){this._document=_document}describe(hostElement,message){this._canBeDescribed(hostElement,message)&&("string"!=typeof message?(this._setMessageId(message),messageRegistry.set(message,{messageElement:message,referenceCount:0})):messageRegistry.has(message)||this._createMessageElement(message),this._isElementDescribedByMessage(hostElement,message)||this._addMessageReference(hostElement,message))}removeDescription(hostElement,message){if(this._isElementNode(hostElement)){if(this._isElementDescribedByMessage(hostElement,message)&&this._removeMessageReference(hostElement,message),"string"==typeof message){const registeredMessage=messageRegistry.get(message);registeredMessage&&0===registeredMessage.referenceCount&&this._deleteMessageElement(message)}messagesContainer&&0===messagesContainer.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const describedElements=this._document.querySelectorAll("[cdk-describedby-host]");for(let i=0;i<describedElements.length;i++)this._removeCdkDescribedByReferenceIds(describedElements[i]),describedElements[i].removeAttribute("cdk-describedby-host");messagesContainer&&this._deleteMessagesContainer(),messageRegistry.clear()}_createMessageElement(message){const messageElement=this._document.createElement("div");this._setMessageId(messageElement),messageElement.textContent=message,this._createMessagesContainer(),messagesContainer.appendChild(messageElement),messageRegistry.set(message,{messageElement:messageElement,referenceCount:0})}_setMessageId(element){element.id||(element.id=`cdk-describedby-message-${nextId++}`)}_deleteMessageElement(message){const registeredMessage=messageRegistry.get(message),messageElement=registeredMessage&&registeredMessage.messageElement;messagesContainer&&messageElement&&messagesContainer.removeChild(messageElement),messageRegistry.delete(message)}_createMessagesContainer(){if(!messagesContainer){const preExistingContainer=this._document.getElementById("cdk-describedby-message-container");preExistingContainer&&preExistingContainer.parentNode.removeChild(preExistingContainer),messagesContainer=this._document.createElement("div"),messagesContainer.id="cdk-describedby-message-container",messagesContainer.setAttribute("aria-hidden","true"),messagesContainer.style.display="none",this._document.body.appendChild(messagesContainer)}}_deleteMessagesContainer(){messagesContainer&&messagesContainer.parentNode&&(messagesContainer.parentNode.removeChild(messagesContainer),messagesContainer=null)}_removeCdkDescribedByReferenceIds(element){const originalReferenceIds=getAriaReferenceIds(element,"aria-describedby").filter(id=>0!=id.indexOf("cdk-describedby-message"));element.setAttribute("aria-describedby",originalReferenceIds.join(" "))}_addMessageReference(element,message){const registeredMessage=messageRegistry.get(message);!function(el,attr,id){const ids=getAriaReferenceIds(el,attr);ids.some(existingId=>existingId.trim()==id.trim())||(ids.push(id.trim()),el.setAttribute(attr,ids.join(" ")))}(element,"aria-describedby",registeredMessage.messageElement.id),element.setAttribute("cdk-describedby-host",""),registeredMessage.referenceCount++}_removeMessageReference(element,message){const registeredMessage=messageRegistry.get(message);registeredMessage.referenceCount--,function(el,attr,id){const filteredIds=getAriaReferenceIds(el,attr).filter(val=>val!=id.trim());filteredIds.length?el.setAttribute(attr,filteredIds.join(" ")):el.removeAttribute(attr)}(element,"aria-describedby",registeredMessage.messageElement.id),element.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(element,message){const referenceIds=getAriaReferenceIds(element,"aria-describedby"),registeredMessage=messageRegistry.get(message),messageId=registeredMessage&&registeredMessage.messageElement.id;return!!messageId&&-1!=referenceIds.indexOf(messageId)}_canBeDescribed(element,message){if(!this._isElementNode(element))return!1;if(message&&"object"==typeof message)return!0;const trimmedMessage=null==message?"":`${message}`.trim(),ariaLabel=element.getAttribute("aria-label");return!!trimmedMessage&&(!ariaLabel||ariaLabel.trim()!==trimmedMessage)}_isElementNode(element){return element.nodeType===this._document.ELEMENT_NODE}}AriaDescriber.ɵfac=function(t){return new(t||AriaDescriber)(ɵɵinject(common_DOCUMENT))},AriaDescriber.ctorParameters=()=>[{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],AriaDescriber.ɵprov=ɵɵdefineInjectable({factory:function(){return new AriaDescriber(ɵɵinject(common_DOCUMENT))},token:AriaDescriber,providedIn:"root"});class a11y_ListKeyManager{constructor(_items){this._items=_items,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Subject_Subject,this._typeaheadSubscription=Subscription_Subscription.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=item=>item.disabled,this._pressedLetters=[],this.tabOut=new Subject_Subject,this.change=new Subject_Subject,_items instanceof QueryList&&_items.changes.subscribe(newItems=>{if(this._activeItem){const newIndex=newItems.toArray().indexOf(this._activeItem);newIndex>-1&&newIndex!==this._activeItemIndex&&(this._activeItemIndex=newIndex)}})}skipPredicate(predicate){return this._skipPredicateFn=predicate,this}withWrap(shouldWrap=!0){return this._wrap=shouldWrap,this}withVerticalOrientation(enabled=!0){return this._vertical=enabled,this}withHorizontalOrientation(direction){return this._horizontal=direction,this}withAllowedModifierKeys(keys){return this._allowedModifierKeys=keys,this}withTypeAhead(debounceInterval=200){if(this._items.length&&this._items.some(item=>"function"!=typeof item.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(tap(letter=>this._pressedLetters.push(letter)),debounceTime(debounceInterval),filter_filter(()=>this._pressedLetters.length>0),map_map(()=>this._pressedLetters.join(""))).subscribe(inputString=>{const items=this._getItemsArray();for(let i=1;i<items.length+1;i++){const index=(this._activeItemIndex+i)%items.length,item=items[index];if(!this._skipPredicateFn(item)&&0===item.getLabel().toUpperCase().trim().indexOf(inputString)){this.setActiveItem(index);break}}this._pressedLetters=[]}),this}setActiveItem(item){const previousIndex=this._activeItemIndex;this.updateActiveItem(item),this._activeItemIndex!==previousIndex&&this.change.next(this._activeItemIndex)}onKeydown(event){const keyCode=event.keyCode,isModifierAllowed=["altKey","ctrlKey","metaKey","shiftKey"].every(modifier=>!event[modifier]||this._allowedModifierKeys.indexOf(modifier)>-1);switch(keyCode){case 9:return void this.tabOut.next();case 40:if(this._vertical&&isModifierAllowed){this.setNextItemActive();break}return;case 38:if(this._vertical&&isModifierAllowed){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((isModifierAllowed||hasModifierKey(event,"shiftKey"))&&(event.key&&1===event.key.length?this._letterKeyStream.next(event.key.toLocaleUpperCase()):(keyCode>=65&&keyCode<=90||keyCode>=48&&keyCode<=57)&&this._letterKeyStream.next(String.fromCharCode(keyCode))))}this._pressedLetters=[],event.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(item){const itemArray=this._getItemsArray(),index="number"==typeof item?item:itemArray.indexOf(item),activeItem=itemArray[index];this._activeItem=null==activeItem?null:activeItem,this._activeItemIndex=index}_setActiveItemByDelta(delta){this._wrap?this._setActiveInWrapMode(delta):this._setActiveInDefaultMode(delta)}_setActiveInWrapMode(delta){const items=this._getItemsArray();for(let i=1;i<=items.length;i++){const index=(this._activeItemIndex+delta*i+items.length)%items.length,item=items[index];if(!this._skipPredicateFn(item))return void this.setActiveItem(index)}}_setActiveInDefaultMode(delta){this._setActiveItemByIndex(this._activeItemIndex+delta,delta)}_setActiveItemByIndex(index,fallbackDelta){const items=this._getItemsArray();if(items[index]){for(;this._skipPredicateFn(items[index]);)if(!items[index+=fallbackDelta])return;this.setActiveItem(index)}}_getItemsArray(){return this._items instanceof QueryList?this._items.toArray():this._items}}class FocusKeyManager extends a11y_ListKeyManager{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(origin){return this._origin=origin,this}setActiveItem(item){super.setActiveItem(item),this.activeItem&&this.activeItem.focus(this._origin)}}class InteractivityChecker{constructor(_platform){this._platform=_platform}isDisabled(element){return element.hasAttribute("disabled")}isVisible(element){return function(element){return!!(element.offsetWidth||element.offsetHeight||"function"==typeof element.getClientRects&&element.getClientRects().length)}(element)&&"visible"===getComputedStyle(element).visibility}isTabbable(element){if(!this._platform.isBrowser)return!1;const frameElement=function(window){try{return window.frameElement}catch(_a){return null}}((node=element).ownerDocument&&node.ownerDocument.defaultView||window);var node;if(frameElement){const frameType=frameElement&&frameElement.nodeName.toLowerCase();if(-1===getTabIndexValue(frameElement))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===frameType)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(frameElement))return!1}let nodeName=element.nodeName.toLowerCase(),tabIndexValue=getTabIndexValue(element);if(element.hasAttribute("contenteditable"))return-1!==tabIndexValue;if("iframe"===nodeName)return!1;if("audio"===nodeName){if(!element.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===nodeName){if(!element.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==nodeName||!this._platform.BLINK&&!this._platform.WEBKIT)&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(element){let nodeName=element.nodeName.toLowerCase(),inputType="input"===nodeName&&element.type;return"text"===inputType||"password"===inputType||"select"===nodeName||"textarea"===nodeName}(element))&&element.tabIndex>=0)}isFocusable(element){return function(element){if(function(element){return function(element){return"input"==element.nodeName.toLowerCase()}(element)&&"hidden"==element.type}(element))return!1;return function(element){let nodeName=element.nodeName.toLowerCase();return"input"===nodeName||"select"===nodeName||"button"===nodeName||"textarea"===nodeName}(element)||function(element){return function(element){return"a"==element.nodeName.toLowerCase()}(element)&&element.hasAttribute("href")}(element)||element.hasAttribute("contenteditable")||hasValidTabIndex(element)}(element)&&!this.isDisabled(element)&&this.isVisible(element)}}function hasValidTabIndex(element){if(!element.hasAttribute("tabindex")||void 0===element.tabIndex)return!1;let tabIndex=element.getAttribute("tabindex");return"-32768"!=tabIndex&&!(!tabIndex||isNaN(parseInt(tabIndex,10)))}function getTabIndexValue(element){if(!hasValidTabIndex(element))return null;const tabIndex=parseInt(element.getAttribute("tabindex")||"",10);return isNaN(tabIndex)?-1:tabIndex}InteractivityChecker.ɵfac=function(t){return new(t||InteractivityChecker)(ɵɵinject(platform_Platform))},InteractivityChecker.ctorParameters=()=>[{type:platform_Platform}],InteractivityChecker.ɵprov=ɵɵdefineInjectable({factory:function(){return new InteractivityChecker(ɵɵinject(platform_Platform))},token:InteractivityChecker,providedIn:"root"});class a11y_FocusTrap{constructor(_element,_checker,_ngZone,_document,deferAnchors=!1){this._element=_element,this._checker=_checker,this._ngZone=_ngZone,this._document=_document,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,deferAnchors||this.attachAnchors()}get enabled(){return this._enabled}set enabled(value){this._enabled=value,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(value,this._startAnchor),this._toggleAnchorTabIndex(value,this._endAnchor))}destroy(){const startAnchor=this._startAnchor,endAnchor=this._endAnchor;startAnchor&&(startAnchor.removeEventListener("focus",this.startAnchorListener),startAnchor.parentNode&&startAnchor.parentNode.removeChild(startAnchor)),endAnchor&&(endAnchor.removeEventListener("focus",this.endAnchorListener),endAnchor.parentNode&&endAnchor.parentNode.removeChild(endAnchor)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusLastTabbableElement()))})}_getRegionBoundary(bound){let markers=this._element.querySelectorAll(`[cdk-focus-region-${bound}], `+`[cdkFocusRegion${bound}], `+`[cdk-focus-${bound}]`);for(let i=0;i<markers.length;i++)markers[i].hasAttribute(`cdk-focus-${bound}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}', `+`use 'cdkFocusRegion${bound}' instead. The deprecated `+"attribute will be removed in 8.0.0.",markers[i]):markers[i].hasAttribute(`cdk-focus-region-${bound}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${bound}', `+`use 'cdkFocusRegion${bound}' instead. The deprecated attribute `+"will be removed in 8.0.0.",markers[i]);return"start"==bound?markers.length?markers[0]:this._getFirstTabbableElement(this._element):markers.length?markers[markers.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const redirectToElement=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return redirectToElement?(redirectToElement.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",redirectToElement),isDevMode()&&!this._checker.isFocusable(redirectToElement)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",redirectToElement),redirectToElement.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const redirectToElement=this._getRegionBoundary("start");return redirectToElement&&redirectToElement.focus(),!!redirectToElement}focusLastTabbableElement(){const redirectToElement=this._getRegionBoundary("end");return redirectToElement&&redirectToElement.focus(),!!redirectToElement}hasAttached(){return this._hasAttached}_getFirstTabbableElement(root){if(this._checker.isFocusable(root)&&this._checker.isTabbable(root))return root;let children=root.children||root.childNodes;for(let i=0;i<children.length;i++){let tabbableChild=children[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(children[i]):null;if(tabbableChild)return tabbableChild}return null}_getLastTabbableElement(root){if(this._checker.isFocusable(root)&&this._checker.isTabbable(root))return root;let children=root.children||root.childNodes;for(let i=children.length-1;i>=0;i--){let tabbableChild=children[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(children[i]):null;if(tabbableChild)return tabbableChild}return null}_createAnchor(){const anchor=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,anchor),anchor.classList.add("cdk-visually-hidden"),anchor.classList.add("cdk-focus-trap-anchor"),anchor.setAttribute("aria-hidden","true"),anchor}_toggleAnchorTabIndex(isEnabled,anchor){isEnabled?anchor.setAttribute("tabindex","0"):anchor.removeAttribute("tabindex")}toggleAnchors(enabled){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(enabled,this._startAnchor),this._toggleAnchorTabIndex(enabled,this._endAnchor))}_executeOnStable(fn){this._ngZone.isStable?fn():this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(fn)}}class FocusTrapFactory{constructor(_checker,_ngZone,_document){this._checker=_checker,this._ngZone=_ngZone,this._document=_document}create(element,deferCaptureElements=!1){return new a11y_FocusTrap(element,this._checker,this._ngZone,this._document,deferCaptureElements)}}FocusTrapFactory.ɵfac=function(t){return new(t||FocusTrapFactory)(ɵɵinject(InteractivityChecker),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT))},FocusTrapFactory.ctorParameters=()=>[{type:InteractivityChecker},{type:NgZone},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],FocusTrapFactory.ɵprov=ɵɵdefineInjectable({factory:function(){return new FocusTrapFactory(ɵɵinject(InteractivityChecker),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT))},token:FocusTrapFactory,providedIn:"root"});class a11y_CdkTrapFocus{constructor(_elementRef,_focusTrapFactory,_document){this._elementRef=_elementRef,this._focusTrapFactory=_focusTrapFactory,this._previouslyFocusedElement=null,this._document=_document,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(value){this.focusTrap.enabled=coerceBooleanProperty(value)}get autoCapture(){return this._autoCapture}set autoCapture(value){this._autoCapture=coerceBooleanProperty(value)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}a11y_CdkTrapFocus.ɵfac=function(t){return new(t||a11y_CdkTrapFocus)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(FocusTrapFactory),ɵɵdirectiveInject(common_DOCUMENT))},a11y_CdkTrapFocus.ɵdir=ɵɵdefineDirective({type:a11y_CdkTrapFocus,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"]}),a11y_CdkTrapFocus.ctorParameters=()=>[{type:ElementRef},{type:FocusTrapFactory},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],a11y_CdkTrapFocus.propDecorators={enabled:[{type:Input,args:["cdkTrapFocus"]}],autoCapture:[{type:Input,args:["cdkTrapFocusAutoCapture"]}]};class ConfigurableFocusTrap extends a11y_FocusTrap{constructor(_element,_checker,_ngZone,_document,_focusTrapManager,_inertStrategy,config){super(_element,_checker,_ngZone,_document,config.defer),this._focusTrapManager=_focusTrapManager,this._inertStrategy=_inertStrategy,this._focusTrapManager.register(this)}get enabled(){return this._enabled}set enabled(value){this._enabled=value,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}function a11y_closest(element,selector){if(!(element instanceof Node))return null;let curr=element;for(;null!=curr&&!(curr instanceof Element);)curr=curr.parentNode;return curr&&(hasNativeClosest?curr.closest(selector):function(element,selector){let curr=element;for(;null!=curr&&!(curr instanceof Element&&a11y_matches(curr,selector));)curr=curr.parentNode;return(curr||null)}(curr,selector))}const hasNativeClosest="undefined"!=typeof Element&&!!Element.prototype.closest;function a11y_matches(element,selector){return element.matches?element.matches(selector):element.msMatchesSelector(selector)}class EventListenerFocusTrapInertStrategy{constructor(){this._listener=null}preventFocus(focusTrap){this._listener&&focusTrap._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(focusTrap,e),focusTrap._ngZone.runOutsideAngular(()=>{focusTrap._document.addEventListener("focus",this._listener,!0)})}allowFocus(focusTrap){this._listener&&(focusTrap._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(focusTrap,event){const target=event.target,focusTrapRoot=focusTrap._element;focusTrapRoot.contains(target)||null!==a11y_closest(target,"div.cdk-overlay-pane")||setTimeout(()=>{focusTrap.enabled&&!focusTrapRoot.contains(focusTrap._document.activeElement)&&focusTrap.focusFirstTabbableElement()})}}class ConfigurableFocusTrapConfig{constructor(){this.defer=!1}}const FOCUS_TRAP_INERT_STRATEGY=new InjectionToken("FOCUS_TRAP_INERT_STRATEGY");class FocusTrapManager{constructor(){this._focusTrapStack=[]}register(focusTrap){this._focusTrapStack=this._focusTrapStack.filter(ft=>ft!==focusTrap);let stack=this._focusTrapStack;stack.length&&stack[stack.length-1]._disable(),stack.push(focusTrap),focusTrap._enable()}deregister(focusTrap){focusTrap._disable();const stack=this._focusTrapStack,i=stack.indexOf(focusTrap);-1!==i&&(stack.splice(i,1),stack.length&&stack[stack.length-1]._enable())}}FocusTrapManager.ɵfac=function(t){return new(t||FocusTrapManager)},FocusTrapManager.ɵprov=ɵɵdefineInjectable({factory:function(){return new FocusTrapManager},token:FocusTrapManager,providedIn:"root"});class ConfigurableFocusTrapFactory{constructor(_checker,_ngZone,_focusTrapManager,_document,_inertStrategy){this._checker=_checker,this._ngZone=_ngZone,this._focusTrapManager=_focusTrapManager,this._document=_document,this._inertStrategy=_inertStrategy||new EventListenerFocusTrapInertStrategy}create(element,config=new ConfigurableFocusTrapConfig){let configObject;return"boolean"==typeof config?(configObject=new ConfigurableFocusTrapConfig,configObject.defer=config):configObject=config,new ConfigurableFocusTrap(element,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,configObject)}}ConfigurableFocusTrapFactory.ɵfac=function(t){return new(t||ConfigurableFocusTrapFactory)(ɵɵinject(InteractivityChecker),ɵɵinject(NgZone),ɵɵinject(FocusTrapManager),ɵɵinject(common_DOCUMENT),ɵɵinject(FOCUS_TRAP_INERT_STRATEGY,8))},ConfigurableFocusTrapFactory.ctorParameters=()=>[{type:InteractivityChecker},{type:NgZone},{type:FocusTrapManager},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[FOCUS_TRAP_INERT_STRATEGY]}]}],ConfigurableFocusTrapFactory.ɵprov=ɵɵdefineInjectable({factory:function(){return new ConfigurableFocusTrapFactory(ɵɵinject(InteractivityChecker),ɵɵinject(NgZone),ɵɵinject(FocusTrapManager),ɵɵinject(common_DOCUMENT),ɵɵinject(FOCUS_TRAP_INERT_STRATEGY,8))},token:ConfigurableFocusTrapFactory,providedIn:"root"});const LIVE_ANNOUNCER_ELEMENT_TOKEN=new InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});const LIVE_ANNOUNCER_DEFAULT_OPTIONS=new InjectionToken("LIVE_ANNOUNCER_DEFAULT_OPTIONS");class LiveAnnouncer{constructor(elementToken,_ngZone,_document,_defaultOptions){this._ngZone=_ngZone,this._defaultOptions=_defaultOptions,this._document=_document,this._liveElement=elementToken||this._createLiveElement()}announce(message,...args){const defaultOptions=this._defaultOptions;let politeness,duration;return 1===args.length&&"number"==typeof args[0]?duration=args[0]:[politeness,duration]=args,this.clear(),clearTimeout(this._previousTimeout),politeness||(politeness=defaultOptions&&defaultOptions.politeness?defaultOptions.politeness:"polite"),null==duration&&defaultOptions&&(duration=defaultOptions.duration),this._liveElement.setAttribute("aria-live",politeness),this._ngZone.runOutsideAngular(()=>new Promise(resolve=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=message,resolve(),"number"==typeof duration&&(this._previousTimeout=setTimeout(()=>this.clear(),duration))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const previousElements=this._document.getElementsByClassName("cdk-live-announcer-element"),liveEl=this._document.createElement("div");for(let i=0;i<previousElements.length;i++)previousElements[i].parentNode.removeChild(previousElements[i]);return liveEl.classList.add("cdk-live-announcer-element"),liveEl.classList.add("cdk-visually-hidden"),liveEl.setAttribute("aria-atomic","true"),liveEl.setAttribute("aria-live","polite"),this._document.body.appendChild(liveEl),liveEl}}LiveAnnouncer.ɵfac=function(t){return new(t||LiveAnnouncer)(ɵɵinject(LIVE_ANNOUNCER_ELEMENT_TOKEN,8),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT),ɵɵinject(LIVE_ANNOUNCER_DEFAULT_OPTIONS,8))},LiveAnnouncer.ctorParameters=()=>[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[LIVE_ANNOUNCER_ELEMENT_TOKEN]}]},{type:NgZone},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[LIVE_ANNOUNCER_DEFAULT_OPTIONS]}]}],LiveAnnouncer.ɵprov=ɵɵdefineInjectable({factory:function(){return new LiveAnnouncer(ɵɵinject(LIVE_ANNOUNCER_ELEMENT_TOKEN,8),ɵɵinject(NgZone),ɵɵinject(common_DOCUMENT),ɵɵinject(LIVE_ANNOUNCER_DEFAULT_OPTIONS,8))},token:LiveAnnouncer,providedIn:"root"});class CdkAriaLive{constructor(_elementRef,_liveAnnouncer,_contentObserver,_ngZone){this._elementRef=_elementRef,this._liveAnnouncer=_liveAnnouncer,this._contentObserver=_contentObserver,this._ngZone=_ngZone,this._politeness="off"}get politeness(){return this._politeness}set politeness(value){this._politeness="polite"===value||"assertive"===value?value:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const elementText=this._elementRef.nativeElement.textContent;elementText!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(elementText,this._politeness),this._previousAnnouncedText=elementText)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}function isFakeMousedownFromScreenReader(event){return 0===event.buttons}CdkAriaLive.ɵfac=function(t){return new(t||CdkAriaLive)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(LiveAnnouncer),ɵɵdirectiveInject(observers_ContentObserver),ɵɵdirectiveInject(NgZone))},CdkAriaLive.ɵdir=ɵɵdefineDirective({type:CdkAriaLive,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),CdkAriaLive.ctorParameters=()=>[{type:ElementRef},{type:LiveAnnouncer},{type:observers_ContentObserver},{type:NgZone}],CdkAriaLive.propDecorators={politeness:[{type:Input,args:["cdkAriaLive"]}]};const FOCUS_MONITOR_DEFAULT_OPTIONS=new InjectionToken("cdk-focus-monitor-default-options"),captureEventListenerOptions=normalizePassiveListenerOptions({passive:!0,capture:!0});class a11y_FocusMonitor{constructor(_ngZone,_platform,document,options){this._ngZone=_ngZone,this._platform=_platform,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=event=>{if(!this._lastTouchTarget){const source=isFakeMousedownFromScreenReader(event)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(source)}},this._documentTouchstartListener=event=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=getTarget(event),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=event=>{const target=getTarget(event),handler="focus"===event.type?this._onFocus:this._onBlur;for(let element=target;element;element=element.parentElement)handler.call(this,event,element)},this._document=document,this._detectionMode=(null==options?void 0:options.detectionMode)||0}monitor(element,checkChildren=!1){if(!this._platform.isBrowser)return of(null);const nativeElement=coerceElement(element),rootNode=_getShadowRoot(nativeElement)||this._getDocument(),cachedInfo=this._elementInfo.get(nativeElement);if(cachedInfo)return checkChildren&&(cachedInfo.checkChildren=!0),cachedInfo.subject.asObservable();const info={checkChildren:checkChildren,subject:new Subject_Subject,rootNode:rootNode};return this._elementInfo.set(nativeElement,info),this._registerGlobalListeners(info),info.subject.asObservable()}stopMonitoring(element){const nativeElement=coerceElement(element),elementInfo=this._elementInfo.get(nativeElement);elementInfo&&(elementInfo.subject.complete(),this._setClasses(nativeElement),this._elementInfo.delete(nativeElement),this._removeGlobalListeners(elementInfo))}focusVia(element,origin,options){const nativeElement=coerceElement(element);this._setOriginForCurrentEventQueue(origin),"function"==typeof nativeElement.focus&&nativeElement.focus(options)}ngOnDestroy(){this._elementInfo.forEach((_info,element)=>this.stopMonitoring(element))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(element,className,shouldSet){shouldSet?element.classList.add(className):element.classList.remove(className)}_getFocusOrigin(event){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(event)?"touch":"program"}_setClasses(element,origin){this._toggleClass(element,"cdk-focused",!!origin),this._toggleClass(element,"cdk-touch-focused","touch"===origin),this._toggleClass(element,"cdk-keyboard-focused","keyboard"===origin),this._toggleClass(element,"cdk-mouse-focused","mouse"===origin),this._toggleClass(element,"cdk-program-focused","program"===origin)}_setOriginForCurrentEventQueue(origin){this._ngZone.runOutsideAngular(()=>{this._origin=origin,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(event){const focusTarget=getTarget(event);return this._lastTouchTarget instanceof Node&&focusTarget instanceof Node&&(focusTarget===this._lastTouchTarget||focusTarget.contains(this._lastTouchTarget))}_onFocus(event,element){const elementInfo=this._elementInfo.get(element);if(!elementInfo||!elementInfo.checkChildren&&element!==getTarget(event))return;const origin=this._getFocusOrigin(event);this._setClasses(element,origin),this._emitOrigin(elementInfo.subject,origin),this._lastFocusOrigin=origin}_onBlur(event,element){const elementInfo=this._elementInfo.get(element);!elementInfo||elementInfo.checkChildren&&event.relatedTarget instanceof Node&&element.contains(event.relatedTarget)||(this._setClasses(element),this._emitOrigin(elementInfo.subject,null))}_emitOrigin(subject,origin){this._ngZone.run(()=>subject.next(origin))}_registerGlobalListeners(elementInfo){if(!this._platform.isBrowser)return;const rootNode=elementInfo.rootNode,rootNodeFocusListeners=this._rootNodeFocusListenerCount.get(rootNode)||0;rootNodeFocusListeners||this._ngZone.runOutsideAngular(()=>{rootNode.addEventListener("focus",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),rootNode.addEventListener("blur",this._rootNodeFocusAndBlurListener,captureEventListenerOptions)}),this._rootNodeFocusListenerCount.set(rootNode,rootNodeFocusListeners+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const document=this._getDocument(),window=this._getWindow();document.addEventListener("keydown",this._documentKeydownListener,captureEventListenerOptions),document.addEventListener("mousedown",this._documentMousedownListener,captureEventListenerOptions),document.addEventListener("touchstart",this._documentTouchstartListener,captureEventListenerOptions),window.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(elementInfo){const rootNode=elementInfo.rootNode;if(this._rootNodeFocusListenerCount.has(rootNode)){const rootNodeFocusListeners=this._rootNodeFocusListenerCount.get(rootNode);rootNodeFocusListeners>1?this._rootNodeFocusListenerCount.set(rootNode,rootNodeFocusListeners-1):(rootNode.removeEventListener("focus",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),rootNode.removeEventListener("blur",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),this._rootNodeFocusListenerCount.delete(rootNode))}if(!--this._monitoredElementCount){const document=this._getDocument(),window=this._getWindow();document.removeEventListener("keydown",this._documentKeydownListener,captureEventListenerOptions),document.removeEventListener("mousedown",this._documentMousedownListener,captureEventListenerOptions),document.removeEventListener("touchstart",this._documentTouchstartListener,captureEventListenerOptions),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}function getTarget(event){return event.composedPath?event.composedPath()[0]:event.target}a11y_FocusMonitor.ɵfac=function(t){return new(t||a11y_FocusMonitor)(ɵɵinject(NgZone),ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT,8),ɵɵinject(FOCUS_MONITOR_DEFAULT_OPTIONS,8))},a11y_FocusMonitor.ctorParameters=()=>[{type:NgZone},{type:platform_Platform},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[FOCUS_MONITOR_DEFAULT_OPTIONS]}]}],a11y_FocusMonitor.ɵprov=ɵɵdefineInjectable({factory:function(){return new a11y_FocusMonitor(ɵɵinject(NgZone),ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT,8),ɵɵinject(FOCUS_MONITOR_DEFAULT_OPTIONS,8))},token:a11y_FocusMonitor,providedIn:"root"});class a11y_CdkMonitorFocus{constructor(_elementRef,_focusMonitor){this._elementRef=_elementRef,this._focusMonitor=_focusMonitor,this.cdkFocusChange=new core_EventEmitter,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(origin=>this.cdkFocusChange.emit(origin))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}a11y_CdkMonitorFocus.ɵfac=function(t){return new(t||a11y_CdkMonitorFocus)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(a11y_FocusMonitor))},a11y_CdkMonitorFocus.ɵdir=ɵɵdefineDirective({type:a11y_CdkMonitorFocus,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),a11y_CdkMonitorFocus.ctorParameters=()=>[{type:ElementRef},{type:a11y_FocusMonitor}],a11y_CdkMonitorFocus.propDecorators={cdkFocusChange:[{type:Output}]};class HighContrastModeDetector{constructor(_platform,document){this._platform=_platform,this._document=document}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const testElement=this._document.createElement("div");testElement.style.backgroundColor="rgb(1,2,3)",testElement.style.position="absolute",this._document.body.appendChild(testElement);const documentWindow=this._document.defaultView||window,computedStyle=documentWindow&&documentWindow.getComputedStyle?documentWindow.getComputedStyle(testElement):null,computedColor=(computedStyle&&computedStyle.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(testElement),computedColor){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const bodyClasses=this._document.body.classList;bodyClasses.remove("cdk-high-contrast-active"),bodyClasses.remove("cdk-high-contrast-black-on-white"),bodyClasses.remove("cdk-high-contrast-white-on-black");const mode=this.getHighContrastMode();1===mode?(bodyClasses.add("cdk-high-contrast-active"),bodyClasses.add("cdk-high-contrast-black-on-white")):2===mode&&(bodyClasses.add("cdk-high-contrast-active"),bodyClasses.add("cdk-high-contrast-white-on-black"))}}}HighContrastModeDetector.ɵfac=function(t){return new(t||HighContrastModeDetector)(ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT))},HighContrastModeDetector.ctorParameters=()=>[{type:platform_Platform},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],HighContrastModeDetector.ɵprov=ɵɵdefineInjectable({factory:function(){return new HighContrastModeDetector(ɵɵinject(platform_Platform),ɵɵinject(common_DOCUMENT))},token:HighContrastModeDetector,providedIn:"root"});class A11yModule{constructor(highContrastModeDetector){highContrastModeDetector._applyBodyHighContrastModeCssClasses()}}A11yModule.ɵmod=ɵɵdefineNgModule({type:A11yModule}),A11yModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||A11yModule)(ɵɵinject(HighContrastModeDetector))},imports:[[PlatformModule,ObserversModule]]}),A11yModule.ctorParameters=()=>[{type:HighContrastModeDetector}],("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(A11yModule,{declarations:function(){return[CdkAriaLive,a11y_CdkTrapFocus,a11y_CdkMonitorFocus]},imports:function(){return[PlatformModule,ObserversModule]},exports:function(){return[CdkAriaLive,a11y_CdkTrapFocus,a11y_CdkMonitorFocus]}});const cdk_VERSION=new Version("9.2.4"),core_c0=["*",[["mat-option"],["ng-container"]]];function MatOption_mat_pseudo_checkbox_0_Template(rf,ctx){if(1&rf&&ɵɵelement(0,"mat-pseudo-checkbox",3),2&rf){const ctx_r1=ɵɵnextContext();ɵɵproperty("state",ctx_r1.selected?"checked":"unchecked")("disabled",ctx_r1.disabled)}}new Version("9.2.4");class AnimationCurves{}AnimationCurves.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",AnimationCurves.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",AnimationCurves.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",AnimationCurves.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class AnimationDurations{}AnimationDurations.COMPLEX="375ms",AnimationDurations.ENTERING="225ms",AnimationDurations.EXITING="195ms";const core_VERSION$1=new Version("9.2.4");const MATERIAL_SANITY_CHECKS=new InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class core_MatCommonModule{constructor(highContrastModeDetector,sanityChecks,document){this._hasDoneGlobalChecks=!1,this._document=document,highContrastModeDetector._applyBodyHighContrastModeCssClasses(),this._sanityChecks=sanityChecks,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const doc=this._document||document;return"object"==typeof doc&&doc?doc:null}_getWindow(){const doc=this._getDocument(),win=(null==doc?void 0:doc.defaultView)||window;return"object"==typeof win&&win?win:null}_checksAreEnabled(){return isDevMode()&&!this._isTestEnv()}_isTestEnv(){const window=this._getWindow();return window&&(window.__karma__||window.jasmine)}_checkDoctypeIsDefined(){const isEnabled=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),document=this._getDocument();isEnabled&&document&&!document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const isDisabled=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,document=this._getDocument();if(isDisabled||!document||!document.body||"function"!=typeof getComputedStyle)return;const testElement=document.createElement("div");testElement.classList.add("mat-theme-loaded-marker"),document.body.appendChild(testElement);const computedStyle=getComputedStyle(testElement);computedStyle&&"none"!==computedStyle.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),document.body.removeChild(testElement)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&core_VERSION$1.full!==cdk_VERSION.full&&console.warn("The Angular Material version ("+core_VERSION$1.full+") does not match the Angular CDK version ("+cdk_VERSION.full+").\nPlease ensure the versions of these two packages exactly match.")}}function mixinDisabled(base){return class extends base{constructor(...args){super(...args),this._disabled=!1}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value)}}}function mixinColor(base,defaultColor){return class extends base{constructor(...args){super(...args),this.color=defaultColor}get color(){return this._color}set color(value){const colorPalette=value||defaultColor;colorPalette!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),colorPalette&&this._elementRef.nativeElement.classList.add(`mat-${colorPalette}`),this._color=colorPalette)}}}function mixinDisableRipple(base){return class extends base{constructor(...args){super(...args),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(value){this._disableRipple=coerceBooleanProperty(value)}}}function mixinTabIndex(base,defaultTabIndex=0){return class extends base{constructor(...args){super(...args),this._tabIndex=defaultTabIndex}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(value){this._tabIndex=null!=value?value:defaultTabIndex}}}core_MatCommonModule.ɵmod=ɵɵdefineNgModule({type:core_MatCommonModule}),core_MatCommonModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||core_MatCommonModule)(ɵɵinject(HighContrastModeDetector),ɵɵinject(MATERIAL_SANITY_CHECKS,8),ɵɵinject(common_DOCUMENT,8))},imports:[[BidiModule],BidiModule]}),core_MatCommonModule.ctorParameters=()=>[{type:HighContrastModeDetector},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MATERIAL_SANITY_CHECKS]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]}],("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(core_MatCommonModule,{imports:function(){return[BidiModule]},exports:function(){return[BidiModule]}});const MAT_DATE_LOCALE=new InjectionToken("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return inject(LOCALE_ID$1)}});class core_DateAdapter{constructor(){this._localeChanges=new Subject_Subject}get localeChanges(){return this._localeChanges}deserialize(value){return null==value||this.isDateInstance(value)&&this.isValid(value)?value:this.invalid()}setLocale(locale){this.locale=locale,this._localeChanges.next()}compareDate(first,second){return this.getYear(first)-this.getYear(second)||this.getMonth(first)-this.getMonth(second)||this.getDate(first)-this.getDate(second)}sameDate(first,second){if(first&&second){let firstValid=this.isValid(first),secondValid=this.isValid(second);return firstValid&&secondValid?!this.compareDate(first,second):firstValid==secondValid}return first==second}clampDate(date,min,max){return min&&this.compareDate(date,min)<0?min:max&&this.compareDate(date,max)>0?max:date}}const MAT_DATE_FORMATS=new InjectionToken("mat-date-formats");let SUPPORTS_INTL_API;try{SUPPORTS_INTL_API="undefined"!=typeof Intl}catch(_a){SUPPORTS_INTL_API=!1}const DEFAULT_MONTH_NAMES={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},DEFAULT_DATE_NAMES=core_range(31,i=>String(i+1)),DEFAULT_DAY_OF_WEEK_NAMES={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},ISO_8601_REGEX=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function core_range(length,valueFunction){const valuesArray=Array(length);for(let i=0;i<length;i++)valuesArray[i]=valueFunction(i);return valuesArray}class NativeDateAdapter extends core_DateAdapter{constructor(matDateLocale,platform){super(),this.useUtcForDisplay=!0,super.setLocale(matDateLocale),this.useUtcForDisplay=!platform.TRIDENT,this._clampDate=platform.TRIDENT||platform.EDGE}getYear(date){return date.getFullYear()}getMonth(date){return date.getMonth()}getDate(date){return date.getDate()}getDayOfWeek(date){return date.getDay()}getMonthNames(style){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{month:style,timeZone:"utc"});return core_range(12,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,i,1))))}return DEFAULT_MONTH_NAMES[style]}getDateNames(){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return core_range(31,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,0,i+1))))}return DEFAULT_DATE_NAMES}getDayOfWeekNames(style){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{weekday:style,timeZone:"utc"});return core_range(7,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,0,i+1))))}return DEFAULT_DAY_OF_WEEK_NAMES[style]}getYearName(date){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(dtf,date))}return String(this.getYear(date))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(date){return this.getDate(this._createDateWithOverflow(this.getYear(date),this.getMonth(date)+1,0))}clone(date){return new Date(date.getTime())}createDate(year,month,date){if(month<0||month>11)throw Error(`Invalid month index "${month}". Month index has to be between 0 and 11.`);if(date<1)throw Error(`Invalid date "${date}". Date has to be greater than 0.`);let result=this._createDateWithOverflow(year,month,date);if(result.getMonth()!=month)throw Error(`Invalid date "${date}" for month with index "${month}".`);return result}today(){return new Date}parse(value){return"number"==typeof value?new Date(value):value?new Date(Date.parse(value)):null}format(date,displayFormat){if(!this.isValid(date))throw Error("NativeDateAdapter: Cannot format invalid date.");if(SUPPORTS_INTL_API){this._clampDate&&(date.getFullYear()<1||date.getFullYear()>9999)&&(date=this.clone(date)).setFullYear(Math.max(1,Math.min(9999,date.getFullYear()))),displayFormat=Object.assign(Object.assign({},displayFormat),{timeZone:"utc"});const dtf=new Intl.DateTimeFormat(this.locale,displayFormat);return this._stripDirectionalityCharacters(this._format(dtf,date))}return this._stripDirectionalityCharacters(date.toDateString())}addCalendarYears(date,years){return this.addCalendarMonths(date,12*years)}addCalendarMonths(date,months){let newDate=this._createDateWithOverflow(this.getYear(date),this.getMonth(date)+months,this.getDate(date));return this.getMonth(newDate)!=((this.getMonth(date)+months)%12+12)%12&&(newDate=this._createDateWithOverflow(this.getYear(newDate),this.getMonth(newDate),0)),newDate}addCalendarDays(date,days){return this._createDateWithOverflow(this.getYear(date),this.getMonth(date),this.getDate(date)+days)}toIso8601(date){return[date.getUTCFullYear(),this._2digit(date.getUTCMonth()+1),this._2digit(date.getUTCDate())].join("-")}deserialize(value){if("string"==typeof value){if(!value)return null;if(ISO_8601_REGEX.test(value)){let date=new Date(value);if(this.isValid(date))return date}}return super.deserialize(value)}isDateInstance(obj){return obj instanceof Date}isValid(date){return!isNaN(date.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(year,month,date){const result=new Date(year,month,date);return year>=0&&year<100&&result.setFullYear(this.getYear(result)-1900),result}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(str){return str.replace(/[\u200e\u200f]/g,"")}_format(dtf,date){const d=new Date(Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()));return dtf.format(d)}}NativeDateAdapter.ɵfac=function(t){return new(t||NativeDateAdapter)(ɵɵinject(MAT_DATE_LOCALE,8),ɵɵinject(platform_Platform))},NativeDateAdapter.ɵprov=ɵɵdefineInjectable({token:NativeDateAdapter,factory:NativeDateAdapter.ɵfac}),NativeDateAdapter.ctorParameters=()=>[{type:String,decorators:[{type:Optional},{type:Inject,args:[MAT_DATE_LOCALE]}]},{type:platform_Platform}];class NativeDateModule{}NativeDateModule.ɵmod=ɵɵdefineNgModule({type:NativeDateModule}),NativeDateModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||NativeDateModule)},providers:[{provide:core_DateAdapter,useClass:NativeDateAdapter}],imports:[[PlatformModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(NativeDateModule,{imports:function(){return[PlatformModule]}});const core_0$1={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class MatNativeDateModule{}MatNativeDateModule.ɵmod=ɵɵdefineNgModule({type:MatNativeDateModule}),MatNativeDateModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatNativeDateModule)},providers:[{provide:MAT_DATE_FORMATS,useValue:core_0$1}],imports:[[NativeDateModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatNativeDateModule,{imports:[NativeDateModule]});class ShowOnDirtyErrorStateMatcher{isErrorState(control,form){return!!(control&&control.invalid&&(control.dirty||form&&form.submitted))}}ShowOnDirtyErrorStateMatcher.ɵfac=function(t){return new(t||ShowOnDirtyErrorStateMatcher)},ShowOnDirtyErrorStateMatcher.ɵprov=ɵɵdefineInjectable({token:ShowOnDirtyErrorStateMatcher,factory:ShowOnDirtyErrorStateMatcher.ɵfac});class ErrorStateMatcher{isErrorState(control,form){return!!(control&&control.invalid&&(control.touched||form&&form.submitted))}}ErrorStateMatcher.ɵfac=function(t){return new(t||ErrorStateMatcher)},ErrorStateMatcher.ɵprov=ɵɵdefineInjectable({factory:function(){return new ErrorStateMatcher},token:ErrorStateMatcher,providedIn:"root"});const MAT_HAMMER_OPTIONS=new InjectionToken("MAT_HAMMER_OPTIONS"),ANGULAR_MATERIAL_SUPPORTED_HAMMER_GESTURES=["longpress","slide","slidestart","slideend","slideright","slideleft"],noopHammerInstance={on:()=>{},off:()=>{}};class core_GestureConfig extends HammerGestureConfig{constructor(_hammerOptions,_commonModule){super(),this._hammerOptions=_hammerOptions,this.events=ANGULAR_MATERIAL_SUPPORTED_HAMMER_GESTURES}buildHammer(element){const hammer="undefined"!=typeof window?window.Hammer:null;if(!hammer)return noopHammerInstance;const mc=new hammer(element,this._hammerOptions||void 0),pan=new hammer.Pan,swipe=new hammer.Swipe,press=new hammer.Press,slide=this._createRecognizer(pan,{event:"slide",threshold:0},swipe),longpress=this._createRecognizer(press,{event:"longpress",time:500});return pan.recognizeWith(swipe),longpress.recognizeWith(slide),mc.add([swipe,press,pan,slide,longpress]),mc}_createRecognizer(base,options,...inheritances){let recognizer=new base.constructor(options);return inheritances.push(base),inheritances.forEach(item=>recognizer.recognizeWith(item)),recognizer}}core_GestureConfig.ɵfac=function(t){return new(t||core_GestureConfig)(ɵɵinject(MAT_HAMMER_OPTIONS,8),ɵɵinject(core_MatCommonModule,8))},core_GestureConfig.ɵprov=ɵɵdefineInjectable({token:core_GestureConfig,factory:core_GestureConfig.ɵfac}),core_GestureConfig.ctorParameters=()=>[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_HAMMER_OPTIONS]}]},{type:core_MatCommonModule,decorators:[{type:Optional}]}];class MatLine{}MatLine.ɵfac=function(t){return new(t||MatLine)},MatLine.ɵdir=ɵɵdefineDirective({type:MatLine,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]});class MatLineModule{}MatLineModule.ɵmod=ɵɵdefineNgModule({type:MatLineModule}),MatLineModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatLineModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatLineModule,{declarations:[MatLine],imports:[core_MatCommonModule],exports:[MatLine,core_MatCommonModule]});class RippleRef{constructor(_renderer,element,config){this._renderer=_renderer,this.element=element,this.config=config,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const defaultRippleAnimationConfig={enterDuration:450,exitDuration:400},passiveEventOptions=normalizePassiveListenerOptions({passive:!0}),pointerDownEvents=["mousedown","touchstart"],pointerUpEvents=["mouseup","mouseleave","touchend","touchcancel"];class core_RippleRenderer{constructor(_target,_ngZone,elementOrElementRef,platform){this._target=_target,this._ngZone=_ngZone,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,platform.isBrowser&&(this._containerElement=coerceElement(elementOrElementRef))}fadeInRipple(x,y,config={}){const containerRect=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),animationConfig=Object.assign(Object.assign({},defaultRippleAnimationConfig),config.animation);config.centered&&(x=containerRect.left+containerRect.width/2,y=containerRect.top+containerRect.height/2);const radius=config.radius||function(x,y,rect){const distX=Math.max(Math.abs(x-rect.left),Math.abs(x-rect.right)),distY=Math.max(Math.abs(y-rect.top),Math.abs(y-rect.bottom));return Math.sqrt(distX*distX+distY*distY)}(x,y,containerRect),offsetX=x-containerRect.left,offsetY=y-containerRect.top,duration=animationConfig.enterDuration,ripple=document.createElement("div");var element;ripple.classList.add("mat-ripple-element"),ripple.style.left=`${offsetX-radius}px`,ripple.style.top=`${offsetY-radius}px`,ripple.style.height=`${2*radius}px`,ripple.style.width=`${2*radius}px`,null!=config.color&&(ripple.style.backgroundColor=config.color),ripple.style.transitionDuration=`${duration}ms`,this._containerElement.appendChild(ripple),element=ripple,window.getComputedStyle(element).getPropertyValue("opacity"),ripple.style.transform="scale(1)";const rippleRef=new RippleRef(this,ripple,config);return rippleRef.state=0,this._activeRipples.add(rippleRef),config.persistent||(this._mostRecentTransientRipple=rippleRef),this._runTimeoutOutsideZone(()=>{const isMostRecentTransientRipple=rippleRef===this._mostRecentTransientRipple;rippleRef.state=1,config.persistent||isMostRecentTransientRipple&&this._isPointerDown||rippleRef.fadeOut()},duration),rippleRef}fadeOutRipple(rippleRef){const wasActive=this._activeRipples.delete(rippleRef);if(rippleRef===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!wasActive)return;const rippleEl=rippleRef.element,animationConfig=Object.assign(Object.assign({},defaultRippleAnimationConfig),rippleRef.config.animation);rippleEl.style.transitionDuration=`${animationConfig.exitDuration}ms`,rippleEl.style.opacity="0",rippleRef.state=2,this._runTimeoutOutsideZone(()=>{rippleRef.state=3,rippleEl.parentNode.removeChild(rippleEl)},animationConfig.exitDuration)}fadeOutAll(){this._activeRipples.forEach(ripple=>ripple.fadeOut())}setupTriggerEvents(elementOrElementRef){const element=coerceElement(elementOrElementRef);element&&element!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=element,this._registerEvents(pointerDownEvents))}handleEvent(event){"mousedown"===event.type?this._onMousedown(event):"touchstart"===event.type?this._onTouchStart(event):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pointerUpEvents),this._pointerUpEventsRegistered=!0)}_onMousedown(event){const isFakeMousedown=isFakeMousedownFromScreenReader(event),isSyntheticEvent=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||isFakeMousedown||isSyntheticEvent||(this._isPointerDown=!0,this.fadeInRipple(event.clientX,event.clientY,this._target.rippleConfig))}_onTouchStart(event){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const touches=event.changedTouches;for(let i=0;i<touches.length;i++)this.fadeInRipple(touches[i].clientX,touches[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(ripple=>{const isVisible=1===ripple.state||ripple.config.terminateOnPointerUp&&0===ripple.state;!ripple.config.persistent&&isVisible&&ripple.fadeOut()}))}_runTimeoutOutsideZone(fn,delay=0){this._ngZone.runOutsideAngular(()=>setTimeout(fn,delay))}_registerEvents(eventTypes){this._ngZone.runOutsideAngular(()=>{eventTypes.forEach(type=>{this._triggerElement.addEventListener(type,this,passiveEventOptions)})})}_removeTriggerEvents(){this._triggerElement&&(pointerDownEvents.forEach(type=>{this._triggerElement.removeEventListener(type,this,passiveEventOptions)}),this._pointerUpEventsRegistered&&pointerUpEvents.forEach(type=>{this._triggerElement.removeEventListener(type,this,passiveEventOptions)}))}}const MAT_RIPPLE_GLOBAL_OPTIONS=new InjectionToken("mat-ripple-global-options");class MatRipple{constructor(_elementRef,ngZone,platform,globalOptions,_animationMode){this._elementRef=_elementRef,this._animationMode=_animationMode,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=globalOptions||{},this._rippleRenderer=new core_RippleRenderer(this,ngZone,_elementRef,platform)}get disabled(){return this._disabled}set disabled(value){this._disabled=value,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(trigger){this._trigger=trigger,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(configOrX,y=0,config){return"number"==typeof configOrX?this._rippleRenderer.fadeInRipple(configOrX,y,Object.assign(Object.assign({},this.rippleConfig),config)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),configOrX))}}MatRipple.ɵfac=function(t){return new(t||MatRipple)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(platform_Platform),ɵɵdirectiveInject(MAT_RIPPLE_GLOBAL_OPTIONS,8),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8))},MatRipple.ɵdir=ɵɵdefineDirective({type:MatRipple,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-ripple-unbounded",ctx.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),MatRipple.ctorParameters=()=>[{type:ElementRef},{type:NgZone},{type:platform_Platform},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_RIPPLE_GLOBAL_OPTIONS]}]},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]}],MatRipple.propDecorators={color:[{type:Input,args:["matRippleColor"]}],unbounded:[{type:Input,args:["matRippleUnbounded"]}],centered:[{type:Input,args:["matRippleCentered"]}],radius:[{type:Input,args:["matRippleRadius"]}],animation:[{type:Input,args:["matRippleAnimation"]}],disabled:[{type:Input,args:["matRippleDisabled"]}],trigger:[{type:Input,args:["matRippleTrigger"]}]};class MatRippleModule{}MatRippleModule.ɵmod=ɵɵdefineNgModule({type:MatRippleModule}),MatRippleModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatRippleModule)},imports:[[core_MatCommonModule,PlatformModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatRippleModule,{declarations:function(){return[MatRipple]},imports:function(){return[core_MatCommonModule,PlatformModule]},exports:function(){return[MatRipple,core_MatCommonModule]}});class MatPseudoCheckbox{constructor(_animationMode){this._animationMode=_animationMode,this.state="unchecked",this.disabled=!1}}MatPseudoCheckbox.ɵfac=function(t){return new(t||MatPseudoCheckbox)(ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8))},MatPseudoCheckbox.ɵcmp=ɵɵdefineComponent({type:MatPseudoCheckbox,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-pseudo-checkbox-indeterminate","indeterminate"===ctx.state)("mat-pseudo-checkbox-checked","checked"===ctx.state)("mat-pseudo-checkbox-disabled",ctx.disabled)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(rf,ctx){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),MatPseudoCheckbox.ctorParameters=()=>[{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]}],MatPseudoCheckbox.propDecorators={state:[{type:Input}],disabled:[{type:Input}]};class MatPseudoCheckboxModule{}MatPseudoCheckboxModule.ɵmod=ɵɵdefineNgModule({type:MatPseudoCheckboxModule}),MatPseudoCheckboxModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatPseudoCheckboxModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatPseudoCheckboxModule,{declarations:[MatPseudoCheckbox],exports:[MatPseudoCheckbox]});const _MatOptgroupMixinBase=mixinDisabled(class{});let _uniqueOptgroupIdCounter=0;class MatOptgroup extends _MatOptgroupMixinBase{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${_uniqueOptgroupIdCounter++}`}}MatOptgroup.ɵfac=function(t){return ɵMatOptgroup_BaseFactory(t||MatOptgroup)},MatOptgroup.ɵcmp=ɵɵdefineComponent({type:MatOptgroup,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&(ɵɵattribute("aria-disabled",ctx.disabled.toString())("aria-labelledby",ctx._labelId),ɵɵclassProp("mat-optgroup-disabled",ctx.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[ɵɵInheritDefinitionFeature],ngContentSelectors:["*","mat-option, ng-container"],decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(core_c0),ɵɵelementStart(0,"label",0),ɵɵtext(1),ɵɵprojection(2),ɵɵelementEnd(),ɵɵprojection(3,1)),2&rf&&(ɵɵproperty("id",ctx._labelId),ɵɵadvance(1),ɵɵtextInterpolate1("",ctx.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),MatOptgroup.propDecorators={label:[{type:Input}]};const ɵMatOptgroup_BaseFactory=ɵɵgetInheritedFactory(MatOptgroup);let _uniqueIdCounter=0;class MatOptionSelectionChange{constructor(source,isUserInput=!1){this.source=source,this.isUserInput=isUserInput}}const MAT_OPTION_PARENT_COMPONENT=new InjectionToken("MAT_OPTION_PARENT_COMPONENT");class core_MatOption{constructor(_element,_changeDetectorRef,_parent,group){this._element=_element,this._changeDetectorRef=_changeDetectorRef,this._parent=_parent,this.group=group,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${_uniqueIdCounter++}`,this.onSelectionChange=new core_EventEmitter,this._stateChanges=new Subject_Subject}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(_origin,options){const element=this._getHostElement();"function"==typeof element.focus&&element.focus(options)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(event){13!==event.keyCode&&32!==event.keyCode||hasModifierKey(event)||(this._selectViaInteraction(),event.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const viewValue=this.viewValue;viewValue!==this._mostRecentViewValue&&(this._mostRecentViewValue=viewValue,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(isUserInput=!1){this.onSelectionChange.emit(new MatOptionSelectionChange(this,isUserInput))}}core_MatOption.ɵfac=function(t){return new(t||core_MatOption)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(MAT_OPTION_PARENT_COMPONENT,8),ɵɵdirectiveInject(MatOptgroup,8))},core_MatOption.ɵcmp=ɵɵdefineComponent({type:core_MatOption,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function(){return ctx._selectViaInteraction()}))("keydown",(function($event){return ctx._handleKeydown($event)})),2&rf&&(ɵɵhostProperty("id",ctx.id),ɵɵattribute("tabindex",ctx._getTabIndex())("aria-selected",ctx._getAriaSelected())("aria-disabled",ctx.disabled.toString()),ɵɵclassProp("mat-selected",ctx.selected)("mat-option-multiple",ctx.multiple)("mat-active",ctx.active)("mat-option-disabled",ctx.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:["*"],decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵtemplate(0,MatOption_mat_pseudo_checkbox_0_Template,1,2,"mat-pseudo-checkbox",0),ɵɵelementStart(1,"span",1),ɵɵprojection(2),ɵɵelementEnd(),ɵɵelement(3,"div",2)),2&rf&&(ɵɵproperty("ngIf",ctx.multiple),ɵɵadvance(3),ɵɵproperty("matRippleTrigger",ctx._getHostElement())("matRippleDisabled",ctx.disabled||ctx.disableRipple))},directives:[NgIf,MatRipple,MatPseudoCheckbox],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),core_MatOption.ctorParameters=()=>[{type:ElementRef},{type:ChangeDetectorRef},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_OPTION_PARENT_COMPONENT]}]},{type:MatOptgroup,decorators:[{type:Optional}]}],core_MatOption.propDecorators={value:[{type:Input}],id:[{type:Input}],disabled:[{type:Input}],onSelectionChange:[{type:Output}]};class MatOptionModule{}MatOptionModule.ɵmod=ɵɵdefineNgModule({type:MatOptionModule}),MatOptionModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatOptionModule)},imports:[[MatRippleModule,CommonModule,MatPseudoCheckboxModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatOptionModule,{declarations:function(){return[core_MatOption,MatOptgroup]},imports:function(){return[MatRippleModule,CommonModule,MatPseudoCheckboxModule]},exports:function(){return[core_MatOption,MatOptgroup]}});new InjectionToken("mat-label-global-options");function MatDialogContainer_ng_template_0_Template(rf,ctx){}class MatDialogConfig{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const matDialogAnimations={dialogContainer:trigger("dialogContainer",[animations_state("void, exit",animations_style({opacity:0,transform:"scale(0.7)"})),animations_state("enter",animations_style({transform:"none"})),animations_transition("* => enter",animate("150ms cubic-bezier(0, 0, 0.2, 1)",animations_style({transform:"none",opacity:1}))),animations_transition("* => void, * => exit",animate("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",animations_style({opacity:0})))])};function throwMatDialogContentAlreadyAttachedError(){throw Error("Attempting to attach dialog content after content is already attached")}class dialog_MatDialogContainer extends BasePortalOutlet{constructor(_elementRef,_focusTrapFactory,_changeDetectorRef,_document,_config){super(),this._elementRef=_elementRef,this._focusTrapFactory=_focusTrapFactory,this._changeDetectorRef=_changeDetectorRef,this._config=_config,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new core_EventEmitter,this.attachDomPortal=portal=>(this._portalOutlet.hasAttached()&&throwMatDialogContentAlreadyAttachedError(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(portal)),this._ariaLabelledBy=_config.ariaLabelledBy||null,this._document=_document}attachComponentPortal(portal){return this._portalOutlet.hasAttached()&&throwMatDialogContentAlreadyAttachedError(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(portal)}attachTemplatePortal(portal){return this._portalOutlet.hasAttached()&&throwMatDialogContentAlreadyAttachedError(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(portal)}_recaptureFocus(){if(!this._containsFocus()){this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const toFocus=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&toFocus&&"function"==typeof toFocus.focus){const activeElement=this._document.activeElement,element=this._elementRef.nativeElement;activeElement&&activeElement!==this._document.body&&activeElement!==element&&!element.contains(activeElement)||toFocus.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const element=this._elementRef.nativeElement,activeElement=this._document.activeElement;return element===activeElement||element.contains(activeElement)}_onAnimationDone(event){"enter"===event.toState?this._trapFocus():"exit"===event.toState&&this._restoreFocus(),this._animationStateChanged.emit(event)}_onAnimationStart(event){this._animationStateChanged.emit(event)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}dialog_MatDialogContainer.ɵfac=function(t){return new(t||dialog_MatDialogContainer)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(FocusTrapFactory),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(common_DOCUMENT,8),ɵɵdirectiveInject(MatDialogConfig))},dialog_MatDialogContainer.ɵcmp=ɵɵdefineComponent({type:dialog_MatDialogContainer,selectors:[["mat-dialog-container"]],viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵstaticViewQuery(portal_CdkPortalOutlet,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._portalOutlet=_t.first))},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(rf,ctx){1&rf&&ɵɵcomponentHostSyntheticListener("@dialogContainer.start",(function($event){return ctx._onAnimationStart($event)}))("@dialogContainer.done",(function($event){return ctx._onAnimationDone($event)})),2&rf&&(ɵɵattribute("id",ctx._id)("role",ctx._config.role)("aria-labelledby",ctx._config.ariaLabel?null:ctx._ariaLabelledBy)("aria-label",ctx._config.ariaLabel)("aria-describedby",ctx._config.ariaDescribedBy||null),ɵɵupdateSyntheticHostBinding("@dialogContainer",ctx._state))},features:[ɵɵInheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(rf,ctx){1&rf&&ɵɵtemplate(0,MatDialogContainer_ng_template_0_Template,0,0,"ng-template",0)},directives:[portal_CdkPortalOutlet],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[matDialogAnimations.dialogContainer]}}),dialog_MatDialogContainer.ctorParameters=()=>[{type:ElementRef},{type:FocusTrapFactory},{type:ChangeDetectorRef},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]},{type:MatDialogConfig}],dialog_MatDialogContainer.propDecorators={_portalOutlet:[{type:ViewChild,args:[portal_CdkPortalOutlet,{static:!0}]}]};let uniqueId=0;class dialog_MatDialogRef{constructor(_overlayRef,_containerInstance,id=`mat-dialog-${uniqueId++}`){this._overlayRef=_overlayRef,this._containerInstance=_containerInstance,this.id=id,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Subject_Subject,this._afterClosed=new Subject_Subject,this._beforeClosed=new Subject_Subject,this._state=0,_containerInstance._id=id,_containerInstance._animationStateChanged.pipe(filter_filter(event=>"done"===event.phaseName&&"enter"===event.toState),take(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),_containerInstance._animationStateChanged.pipe(filter_filter(event=>"done"===event.phaseName&&"exit"===event.toState),take(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),_overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),_overlayRef.keydownEvents().pipe(filter_filter(event=>27===event.keyCode&&!this.disableClose&&!hasModifierKey(event))).subscribe(event=>{event.preventDefault(),this.close()}),_overlayRef.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(dialogResult){this._result=dialogResult,this._containerInstance._animationStateChanged.pipe(filter_filter(event=>"start"===event.phaseName),take(1)).subscribe(event=>{this._beforeClosed.next(dialogResult),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),event.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(position){let strategy=this._getPositionStrategy();return position&&(position.left||position.right)?position.left?strategy.left(position.left):strategy.right(position.right):strategy.centerHorizontally(),position&&(position.top||position.bottom)?position.top?strategy.top(position.top):strategy.bottom(position.bottom):strategy.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(width="",height=""){return this._getPositionStrategy().width(width).height(height),this._overlayRef.updatePosition(),this}addPanelClass(classes){return this._overlayRef.addPanelClass(classes),this}removePanelClass(classes){return this._overlayRef.removePanelClass(classes),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const MAT_DIALOG_DATA=new InjectionToken("MatDialogData"),MAT_DIALOG_DEFAULT_OPTIONS=new InjectionToken("mat-dialog-default-options"),MAT_DIALOG_SCROLL_STRATEGY=new InjectionToken("mat-dialog-scroll-strategy");const MAT_DIALOG_SCROLL_STRATEGY_PROVIDER={provide:MAT_DIALOG_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.block()}};class dialog_MatDialog{constructor(_overlay,_injector,_location,_defaultOptions,scrollStrategy,_parentDialog,_overlayContainer){this._overlay=_overlay,this._injector=_injector,this._defaultOptions=_defaultOptions,this._parentDialog=_parentDialog,this._overlayContainer=_overlayContainer,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Subject_Subject,this._afterOpenedAtThisLevel=new Subject_Subject,this._ariaHiddenElements=new Map,this.afterAllClosed=defer(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(startWith(void 0))),this._scrollStrategy=scrollStrategy}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const parent=this._parentDialog;return parent?parent._afterAllClosed:this._afterAllClosedAtThisLevel}open(componentOrTemplateRef,config){if((config=function(config,defaultOptions){return Object.assign(Object.assign({},defaultOptions),config)}(config,this._defaultOptions||new MatDialogConfig)).id&&this.getDialogById(config.id))throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);const overlayRef=this._createOverlay(config),dialogContainer=this._attachDialogContainer(overlayRef,config),dialogRef=this._attachDialogContent(componentOrTemplateRef,dialogContainer,overlayRef,config);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(dialogRef),dialogRef.afterClosed().subscribe(()=>this._removeOpenDialog(dialogRef)),this.afterOpened.next(dialogRef),dialogRef}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(id){return this.openDialogs.find(dialog=>dialog.id===id)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(config){const overlayConfig=this._getOverlayConfig(config);return this._overlay.create(overlayConfig)}_getOverlayConfig(dialogConfig){const state=new OverlayConfig({positionStrategy:this._overlay.position().global(),scrollStrategy:dialogConfig.scrollStrategy||this._scrollStrategy(),panelClass:dialogConfig.panelClass,hasBackdrop:dialogConfig.hasBackdrop,direction:dialogConfig.direction,minWidth:dialogConfig.minWidth,minHeight:dialogConfig.minHeight,maxWidth:dialogConfig.maxWidth,maxHeight:dialogConfig.maxHeight,disposeOnNavigation:dialogConfig.closeOnNavigation});return dialogConfig.backdropClass&&(state.backdropClass=dialogConfig.backdropClass),state}_attachDialogContainer(overlay,config){const userInjector=config&&config.viewContainerRef&&config.viewContainerRef.injector,injector=Injector.create({parent:userInjector||this._injector,providers:[{provide:MatDialogConfig,useValue:config}]}),containerPortal=new ComponentPortal(dialog_MatDialogContainer,config.viewContainerRef,injector,config.componentFactoryResolver);return overlay.attach(containerPortal).instance}_attachDialogContent(componentOrTemplateRef,dialogContainer,overlayRef,config){const dialogRef=new dialog_MatDialogRef(overlayRef,dialogContainer,config.id);if(componentOrTemplateRef instanceof TemplateRef)dialogContainer.attachTemplatePortal(new TemplatePortal(componentOrTemplateRef,null,{$implicit:config.data,dialogRef:dialogRef}));else{const injector=this._createInjector(config,dialogRef,dialogContainer),contentRef=dialogContainer.attachComponentPortal(new ComponentPortal(componentOrTemplateRef,config.viewContainerRef,injector));dialogRef.componentInstance=contentRef.instance}return dialogRef.updateSize(config.width,config.height).updatePosition(config.position),dialogRef}_createInjector(config,dialogRef,dialogContainer){const userInjector=config&&config.viewContainerRef&&config.viewContainerRef.injector,providers=[{provide:dialog_MatDialogContainer,useValue:dialogContainer},{provide:MAT_DIALOG_DATA,useValue:config.data},{provide:dialog_MatDialogRef,useValue:dialogRef}];return!config.direction||userInjector&&userInjector.get(bidi_Directionality,null)||providers.push({provide:bidi_Directionality,useValue:{value:config.direction,change:of()}}),Injector.create({parent:userInjector||this._injector,providers:providers})}_removeOpenDialog(dialogRef){const index=this.openDialogs.indexOf(dialogRef);index>-1&&(this.openDialogs.splice(index,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((previousValue,element)=>{previousValue?element.setAttribute("aria-hidden",previousValue):element.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const overlayContainer=this._overlayContainer.getContainerElement();if(overlayContainer.parentElement){const siblings=overlayContainer.parentElement.children;for(let i=siblings.length-1;i>-1;i--){let sibling=siblings[i];sibling===overlayContainer||"SCRIPT"===sibling.nodeName||"STYLE"===sibling.nodeName||sibling.hasAttribute("aria-live")||(this._ariaHiddenElements.set(sibling,sibling.getAttribute("aria-hidden")),sibling.setAttribute("aria-hidden","true"))}}}_closeDialogs(dialogs){let i=dialogs.length;for(;i--;)dialogs[i].close()}}dialog_MatDialog.ɵfac=function(t){return new(t||dialog_MatDialog)(ɵɵinject(overlay_Overlay),ɵɵinject(Injector),ɵɵinject(common_Location,8),ɵɵinject(MAT_DIALOG_DEFAULT_OPTIONS,8),ɵɵinject(MAT_DIALOG_SCROLL_STRATEGY),ɵɵinject(dialog_MatDialog,12),ɵɵinject(OverlayContainer))},dialog_MatDialog.ɵprov=ɵɵdefineInjectable({token:dialog_MatDialog,factory:dialog_MatDialog.ɵfac}),dialog_MatDialog.ctorParameters=()=>[{type:overlay_Overlay},{type:Injector},{type:common_Location,decorators:[{type:Optional}]},{type:MatDialogConfig,decorators:[{type:Optional},{type:Inject,args:[MAT_DIALOG_DEFAULT_OPTIONS]}]},{type:void 0,decorators:[{type:Inject,args:[MAT_DIALOG_SCROLL_STRATEGY]}]},{type:dialog_MatDialog,decorators:[{type:Optional},{type:SkipSelf}]},{type:OverlayContainer}];let dialogElementUid=0;class MatDialogClose{constructor(dialogRef,_elementRef,_dialog){this.dialogRef=dialogRef,this._elementRef=_elementRef,this._dialog=_dialog,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=getClosestDialog(this._elementRef,this._dialog.openDialogs))}ngOnChanges(changes){const proxiedChange=changes._matDialogClose||changes._matDialogCloseResult;proxiedChange&&(this.dialogResult=proxiedChange.currentValue)}}MatDialogClose.ɵfac=function(t){return new(t||MatDialogClose)(ɵɵdirectiveInject(dialog_MatDialogRef,8),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(dialog_MatDialog))},MatDialogClose.ɵdir=ɵɵdefineDirective({type:MatDialogClose,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function(){return ctx.dialogRef.close(ctx.dialogResult)})),2&rf&&ɵɵattribute("aria-label",ctx.ariaLabel||null)("type",ctx.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ɵɵNgOnChangesFeature]}),MatDialogClose.ctorParameters=()=>[{type:dialog_MatDialogRef,decorators:[{type:Optional}]},{type:ElementRef},{type:dialog_MatDialog}],MatDialogClose.propDecorators={ariaLabel:[{type:Input,args:["aria-label"]}],type:[{type:Input}],dialogResult:[{type:Input,args:["mat-dialog-close"]}],_matDialogClose:[{type:Input,args:["matDialogClose"]}]};class MatDialogTitle{constructor(_dialogRef,_elementRef,_dialog){this._dialogRef=_dialogRef,this._elementRef=_elementRef,this._dialog=_dialog,this.id=`mat-dialog-title-${dialogElementUid++}`}ngOnInit(){this._dialogRef||(this._dialogRef=getClosestDialog(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const container=this._dialogRef._containerInstance;container&&!container._ariaLabelledBy&&(container._ariaLabelledBy=this.id)})}}MatDialogTitle.ɵfac=function(t){return new(t||MatDialogTitle)(ɵɵdirectiveInject(dialog_MatDialogRef,8),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(dialog_MatDialog))},MatDialogTitle.ɵdir=ɵɵdefineDirective({type:MatDialogTitle,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵhostProperty("id",ctx.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),MatDialogTitle.ctorParameters=()=>[{type:dialog_MatDialogRef,decorators:[{type:Optional}]},{type:ElementRef},{type:dialog_MatDialog}],MatDialogTitle.propDecorators={id:[{type:Input}]};class MatDialogContent{}MatDialogContent.ɵfac=function(t){return new(t||MatDialogContent)},MatDialogContent.ɵdir=ɵɵdefineDirective({type:MatDialogContent,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]});class MatDialogActions{}function getClosestDialog(element,openDialogs){let parent=element.nativeElement.parentElement;for(;parent&&!parent.classList.contains("mat-dialog-container");)parent=parent.parentElement;return parent?openDialogs.find(dialog=>dialog.id===parent.id):null}MatDialogActions.ɵfac=function(t){return new(t||MatDialogActions)},MatDialogActions.ɵdir=ɵɵdefineDirective({type:MatDialogActions,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]});class MatDialogModule{}MatDialogModule.ɵmod=ɵɵdefineNgModule({type:MatDialogModule}),MatDialogModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatDialogModule)},providers:[dialog_MatDialog,MAT_DIALOG_SCROLL_STRATEGY_PROVIDER],imports:[[OverlayModule,PortalModule,core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatDialogModule,{declarations:function(){return[dialog_MatDialogContainer,MatDialogClose,MatDialogTitle,MatDialogActions,MatDialogContent]},imports:function(){return[OverlayModule,PortalModule,core_MatCommonModule]},exports:function(){return[dialog_MatDialogContainer,MatDialogClose,MatDialogTitle,MatDialogContent,MatDialogActions,core_MatCommonModule]}});let DialogCalculatorComponent=class{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data}ngOnInit(){}onNoClick(){this.dialogRef.close()}};DialogCalculatorComponent.ctorParameters=()=>[{type:dialog_MatDialogRef},{type:void 0,decorators:[{type:Inject,args:[MAT_DIALOG_DATA]}]}],DialogCalculatorComponent=Object(tslib_es6.c)([core_Component({selector:"app-dialog-calculator",template:Object(tslib_es6.f)(__webpack_require__("Zbk7")).default,styles:[Object(tslib_es6.f)(__webpack_require__("ovqH")).default]}),Object(tslib_es6.h)(1,Inject(MAT_DIALOG_DATA)),Object(tslib_es6.g)("design:paramtypes",[dialog_MatDialogRef,Object])],DialogCalculatorComponent);let calculator_component_CalculatorComponent=class{constructor(formBuilder,dialog){this.formBuilder=formBuilder,this.dialog=dialog,this.submitted=!1}ngOnInit(){this.selectedStep1Option=!1,this.selectedStep2Option=!1,this.result={title:"OK",color:"rgba(14, 233, 203)",background:"rgba(14, 233, 203, 0.14)"},this.risk=0,this.cardio="0",this.diabete="0",this.respiration="0",this.hypertension="0",this.cancer="0",this.ageForm=this.formBuilder.group({age:[!1,forms_Validators.required]}),this.sexeForm=this.formBuilder.group({sexe:[!1,forms_Validators.required]}),this.maladieForm=this.formBuilder.group({cardio:[!1,forms_Validators.required],diabete:[!1,forms_Validators.required],respiration:[!1,forms_Validators.required],hypertension:[!1,forms_Validators.required],cancer:[!1,forms_Validators.required]})}onSubmit(){if(this.cardioValue=0,this.diabeteValue=0,this.respirationValue=0,this.hypertensionValue=0,this.cancerValue=0,this.cache=0,this.risk=0,this.submitted=!0,this.ageForm.invalid||this.sexeForm.invalid||this.maladieForm.invalid)return;this.age=parseFloat(this.ageForm.value.age),this.sexe=parseFloat(this.sexeForm.value.sexe),1==this.maladieForm.value.cardio&&(this.cardioValue=10.5),1==this.maladieForm.value.diabete&&(this.diabeteValue=7.3),1==this.maladieForm.value.respiration&&(this.respirationValue=6.3),1==this.maladieForm.value.hypertension&&(this.hypertensionValue=6),1==this.maladieForm.value.cancer&&(this.cancerValue=5.6),this.risk+=this.age,this.risk+=this.sexe,this.cache=this.risk,this.cardioValue>0&&(this.risk+=this.cache*this.cardioValue-this.cache),this.diabeteValue>0&&(this.risk+=this.cache*this.diabeteValue-this.cache),this.respirationValue>0&&(this.risk+=this.cache*this.respirationValue-this.cache),this.hypertensionValue>0&&(this.risk+=this.cache*this.hypertensionValue-this.cache),this.cancerValue>0&&(this.risk+=this.cache*this.cancerValue-this.cache),this.risk<0&&(this.risk=0),this.risk>92&&(this.risk=92),(this.risk>0||!this.risk)&&(this.result={title:"Tu devrais aller bien",color:"rgba(14, 233, 203)",background:"rgba(14, 233, 203, 0.34)"}),this.risk>5&&(this.result={title:"Prenez des précautions",color:"rgba(255, 193, 55)",background:"rgba(255, 193, 55,0.34)"}),this.risk>30&&(this.result={title:"vous courez un risque",color:"rgba(243, 83, 83)",background:"rgba(243, 83, 83, 0.34)"}),this.dialog.open(DialogCalculatorComponent,{width:"auto",data:{title:this.result.title,color:this.result.color,background:this.result.background,risk:this.risk.toFixed(2)}}).afterClosed().subscribe(result=>{console.log("The dialog was closed"),this.risk=0,this.cache=0})}SelectionAge(){this.selectedStep1Option=!0}SelectionSexe(){this.selectedStep2Option=!0}};calculator_component_CalculatorComponent.ctorParameters=()=>[{type:FormBuilder},{type:dialog_MatDialog}],calculator_component_CalculatorComponent=Object(tslib_es6.c)([core_Component({selector:"app-calculator",template:Object(tslib_es6.f)(__webpack_require__("9alR")).default,styles:[Object(tslib_es6.f)(__webpack_require__("GJ8+")).default]}),Object(tslib_es6.g)("design:paramtypes",[FormBuilder,dialog_MatDialog])],calculator_component_CalculatorComponent);const app_routing_module_routes=[{path:"",component:dashboard_component_DashboardComponent},{path:"actu",component:ActuComponent},{path:"country/:name",component:country_component_CountryComponent},{path:"calculator",component:calculator_component_CalculatorComponent},{path:"**",component:NotFoundComponent}];let AppRoutingModule=class{};AppRoutingModule=Object(tslib_es6.c)([NgModule({imports:[router_RouterModule.forRoot(app_routing_module_routes)]})],AppRoutingModule);let AppComponent=class{constructor(translate){this.translate=translate,translate.addLangs(["en","fr","de","tr","es"]),translate.setDefaultLang("en");const browserLang=translate.getBrowserLang();translate.use(browserLang.match(/en|de|tr|fr|es/)?browserLang:"en")}};AppComponent.ctorParameters=()=>[{type:ngx_translate_core_TranslateService}],AppComponent=Object(tslib_es6.c)([core_Component({selector:"app-root",template:Object(tslib_es6.f)(__webpack_require__("VzVu")).default,styles:[Object(tslib_es6.f)(__webpack_require__("ynWL")).default]}),Object(tslib_es6.g)("design:paramtypes",[ngx_translate_core_TranslateService])],AppComponent);let LayoutComponent=class{constructor(){this.showMobileMenu=!1}ngOnInit(){}ngAfterViewInit(){}};LayoutComponent=Object(tslib_es6.c)([core_Component({selector:"app-layout",template:Object(tslib_es6.f)(__webpack_require__("i2FT")).default,styles:[Object(tslib_es6.f)(__webpack_require__("+Xpk")).default]}),Object(tslib_es6.g)("design:paramtypes",[])],LayoutComponent);let TopbarComponent=class{constructor(){this.showButton=!1}onbeforeinstallprompt(e){console.log(e),e.preventDefault(),this.deferredPrompt=e,this.showButton=!0}addToHomeScreen(){this.showButton=!1,this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(choiceResult=>{"accepted"===choiceResult.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),this.deferredPrompt=null})}};Object(tslib_es6.c)([HostListener("window:beforeinstallprompt",["$event"]),Object(tslib_es6.g)("design:type",Function),Object(tslib_es6.g)("design:paramtypes",[Object]),Object(tslib_es6.g)("design:returntype",void 0)],TopbarComponent.prototype,"onbeforeinstallprompt",null),TopbarComponent=Object(tslib_es6.c)([core_Component({selector:"app-topbar",template:Object(tslib_es6.f)(__webpack_require__("mKC2")).default,styles:[Object(tslib_es6.f)(__webpack_require__("rrZY")).default]}),Object(tslib_es6.g)("design:paramtypes",[])],TopbarComponent);let NavbarComponent=class{constructor(){}ngOnInit(){this.showMobileMenu=!1}ngAfterViewInit(){const links=document.getElementsByClassName("side-nav-link-ref");let matchingMenuItem=null;for(let i=0;i<links.length;i++)if(location.pathname===links[i].pathname){matchingMenuItem=links[i];break}if(matchingMenuItem){matchingMenuItem.classList.add("active");const parent=matchingMenuItem.parentElement;if(parent){parent.classList.add("active");const parent2=parent.parentElement;parent2&&parent2.classList.add("in");const parent3=parent2.parentElement;if(parent3){parent3.classList.add("active");const childAnchor=parent3.querySelector(".has-dropdown");childAnchor&&childAnchor.classList.add("active")}const parent4=parent3.parentElement;parent4&&parent4.classList.add("in");const parent5=parent4.parentElement;parent5&&parent5.classList.add("active")}}}onMenuClick(event){const nextEl=event.target.nextSibling;if(nextEl&&!nextEl.classList.contains("open")){const parentEl=event.target.parentNode;parentEl&&parentEl.classList.remove("open"),nextEl.classList.add("open")}else nextEl&&nextEl.classList.remove("open");return!1}};Object(tslib_es6.c)([Input(),Object(tslib_es6.g)("design:type",Boolean)],NavbarComponent.prototype,"showMobileMenu",void 0),NavbarComponent=Object(tslib_es6.c)([core_Component({selector:"app-navbar",template:Object(tslib_es6.f)(__webpack_require__("guUt")).default,styles:[Object(tslib_es6.f)(__webpack_require__("L35S")).default]}),Object(tslib_es6.g)("design:paramtypes",[])],NavbarComponent);let FooterComponent=class{constructor(translate){this.translate=translate}};FooterComponent.ctorParameters=()=>[{type:ngx_translate_core_TranslateService}],FooterComponent=Object(tslib_es6.c)([core_Component({selector:"app-footer",template:Object(tslib_es6.f)(__webpack_require__("cScy")).default,styles:[Object(tslib_es6.f)(__webpack_require__("dWvY")).default]}),Object(tslib_es6.g)("design:paramtypes",[ngx_translate_core_TranslateService])],FooterComponent);const NEVER=new Observable_Observable(noop);function delay_delay(delay,scheduler=async_async){const delayFor=function(value){return value instanceof Date&&!isNaN(+value)}(delay)?+delay-scheduler.now():Math.abs(delay);return source=>source.lift(new DelayOperator(delayFor,scheduler))}class DelayOperator{constructor(delay,scheduler){this.delay=delay,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new delay_DelaySubscriber(subscriber,this.delay,this.scheduler))}}class delay_DelaySubscriber extends Subscriber_Subscriber{constructor(destination,delay,scheduler){super(destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}static dispatch(state){const source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;for(;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){const delay=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay)}else this.unsubscribe(),source.active=!1}_schedule(scheduler){this.active=!0,this.destination.add(scheduler.schedule(delay_DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))}scheduleNotification(notification){if(!0===this.errored)return;const scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),!1===this.active&&this._schedule(scheduler)}_next(value){this.scheduleNotification(Notification_Notification.createNext(value))}_error(err){this.errored=!0,this.queue=[],this.destination.error(err),this.unsubscribe()}_complete(){this.scheduleNotification(Notification_Notification.createComplete()),this.unsubscribe()}}class DelayMessage{constructor(time,notification){this.time=time,this.notification=notification}}const ERR_SW_NOT_SUPPORTED="Service workers are disabled or not supported by this browser";class service_worker_NgswCommChannel{constructor(serviceWorker){if(this.serviceWorker=serviceWorker,serviceWorker){const controllerChanges=fromEvent(serviceWorker,"controllerchange").pipe(map_map(()=>serviceWorker.controller)),controllerWithChanges=concat(defer(()=>of(serviceWorker.controller)),controllerChanges);this.worker=controllerWithChanges.pipe(filter_filter(c=>!!c)),this.registration=this.worker.pipe(switchMap(()=>serviceWorker.getRegistration()));const events=fromEvent(serviceWorker,"message").pipe(map_map(event=>event.data)).pipe(filter_filter(event=>event&&event.type)).pipe(selector?multicast(()=>new Subject_Subject,selector):multicast(new Subject_Subject));events.connect(),this.events=events}else this.worker=this.events=this.registration=(message=ERR_SW_NOT_SUPPORTED,defer(()=>throwError_throwError(new Error(message))));var selector,message}postMessage(action,payload){return this.worker.pipe(take(1),tap(sw=>{sw.postMessage(Object.assign({action:action},payload))})).toPromise().then(()=>{})}postMessageWithStatus(type,payload,nonce){const waitForStatus=this.waitForStatus(nonce),postMessage=this.postMessage(type,payload);return Promise.all([waitForStatus,postMessage]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(type){return this.events.pipe(filter_filter(event=>event.type===type))}nextEventOfType(type){return this.eventsOfType(type).pipe(take(1))}waitForStatus(nonce){return this.eventsOfType("STATUS").pipe(filter_filter(event=>event.nonce===nonce),take(1),map_map(event=>{if(!event.status)throw new Error(event.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}class service_worker_SwPush{constructor(sw){if(this.sw=sw,this.subscriptionChanges=new Subject_Subject,!sw.isEnabled)return this.messages=NEVER,this.notificationClicks=NEVER,void(this.subscription=NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe(map_map(message=>message.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(map_map(message=>message.data)),this.pushManager=this.sw.registration.pipe(map_map(registration=>registration.pushManager));const workerDrivenSubscriptions=this.pushManager.pipe(switchMap(pm=>pm.getSubscription()));this.subscription=merge(workerDrivenSubscriptions,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(options){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const pushOptions={userVisibleOnly:!0};let key=this.decodeBase64(options.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),applicationServerKey=new Uint8Array(new ArrayBuffer(key.length));for(let i=0;i<key.length;i++)applicationServerKey[i]=key.charCodeAt(i);return pushOptions.applicationServerKey=applicationServerKey,this.pushManager.pipe(switchMap(pm=>pm.subscribe(pushOptions)),take(1)).toPromise().then(sub=>(this.subscriptionChanges.next(sub),sub))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));return this.subscription.pipe(take(1),switchMap(sub=>{if(null===sub)throw new Error("Not subscribed to push notifications.");return sub.unsubscribe().then(success=>{if(!success)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise()}decodeBase64(input){return atob(input)}}service_worker_SwPush.ɵfac=function(t){return new(t||service_worker_SwPush)(ɵɵinject(service_worker_NgswCommChannel))},service_worker_SwPush.ɵprov=ɵɵdefineInjectable({token:service_worker_SwPush,factory:service_worker_SwPush.ɵfac}),service_worker_SwPush.ctorParameters=()=>[{type:service_worker_NgswCommChannel}];class service_worker_SwUpdate{constructor(sw){if(this.sw=sw,!sw.isEnabled)return this.available=NEVER,void(this.activated=NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const statusNonce=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:statusNonce},statusNonce)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const statusNonce=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:statusNonce},statusNonce)}}service_worker_SwUpdate.ɵfac=function(t){return new(t||service_worker_SwUpdate)(ɵɵinject(service_worker_NgswCommChannel))},service_worker_SwUpdate.ɵprov=ɵɵdefineInjectable({token:service_worker_SwUpdate,factory:service_worker_SwUpdate.ɵfac}),service_worker_SwUpdate.ctorParameters=()=>[{type:service_worker_NgswCommChannel}];class SwRegistrationOptions{}const SCRIPT=new InjectionToken("NGSW_REGISTER_SCRIPT");function ngswAppInitializer(injector,script,options,platformId){return()=>{if(!(isPlatformBrowser(platformId)&&"serviceWorker"in navigator&&!1!==options.enabled))return;let readyToRegister$;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof options.registrationStrategy)readyToRegister$=options.registrationStrategy();else{const[strategy,...args]=(options.registrationStrategy||"registerWhenStable").split(":");switch(strategy){case"registerImmediately":readyToRegister$=of(null);break;case"registerWithDelay":readyToRegister$=of(null).pipe(delay_delay(+args[0]||0));break;case"registerWhenStable":readyToRegister$=injector.get(core_ApplicationRef).isStable.pipe(filter_filter(stable=>stable));break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${options.registrationStrategy}`)}}readyToRegister$.pipe(take(1)).subscribe(()=>navigator.serviceWorker.register(script,{scope:options.scope}).catch(err=>console.error("Service worker registration failed with:",err)))}}function ngswCommChannelFactory(opts,platformId){return new service_worker_NgswCommChannel(isPlatformBrowser(platformId)&&!1!==opts.enabled?navigator.serviceWorker:void 0)}class service_worker_ServiceWorkerModule{static register(script,opts={}){return{ngModule:service_worker_ServiceWorkerModule,providers:[{provide:SCRIPT,useValue:script},{provide:SwRegistrationOptions,useValue:opts},{provide:service_worker_NgswCommChannel,useFactory:ngswCommChannelFactory,deps:[SwRegistrationOptions,PLATFORM_ID]},{provide:APP_INITIALIZER,useFactory:ngswAppInitializer,deps:[Injector,SCRIPT,SwRegistrationOptions,PLATFORM_ID],multi:!0}]}}}service_worker_ServiceWorkerModule.ɵmod=ɵɵdefineNgModule({type:service_worker_ServiceWorkerModule}),service_worker_ServiceWorkerModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||service_worker_ServiceWorkerModule)},providers:[service_worker_SwPush,service_worker_SwUpdate]});const environment_production=!0;let CountupComponent=class{constructor(){this.oldDate=new Date("2019-12-01")}ngOnInit(){setInterval(()=>{this.timer=this.dhms(Math.floor((new Date).getTime()-this.oldDate.getTime()))},1e3)}dhms(difference){return{days:Math.floor(difference/864e5*1),hours:Math.floor(difference%864e5/36e5*1),minutes:Math.floor(difference%864e5%36e5/6e4*1),seconds:Math.floor(difference%864e5%36e5%6e4/1e3*1)}}};CountupComponent=Object(tslib_es6.c)([core_Component({selector:"app-countup",template:Object(tslib_es6.f)(__webpack_require__("5xSx")).default,styles:[Object(tslib_es6.f)(__webpack_require__("Lypv")).default]}),Object(tslib_es6.g)("design:paramtypes",[])],CountupComponent);const card_c0=["*",[["mat-card-footer"]]],card_c2=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_c4=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"];class MatCardContent{}MatCardContent.ɵfac=function(t){return new(t||MatCardContent)},MatCardContent.ɵdir=ɵɵdefineDirective({type:MatCardContent,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]});class MatCardTitle{}MatCardTitle.ɵfac=function(t){return new(t||MatCardTitle)},MatCardTitle.ɵdir=ɵɵdefineDirective({type:MatCardTitle,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]});class MatCardSubtitle{}MatCardSubtitle.ɵfac=function(t){return new(t||MatCardSubtitle)},MatCardSubtitle.ɵdir=ɵɵdefineDirective({type:MatCardSubtitle,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]});class MatCardActions{constructor(){this.align="start"}}MatCardActions.ɵfac=function(t){return new(t||MatCardActions)},MatCardActions.ɵdir=ɵɵdefineDirective({type:MatCardActions,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-card-actions-align-end","end"===ctx.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),MatCardActions.propDecorators={align:[{type:Input}]};class MatCardFooter{}MatCardFooter.ɵfac=function(t){return new(t||MatCardFooter)},MatCardFooter.ɵdir=ɵɵdefineDirective({type:MatCardFooter,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]});class MatCardImage{}MatCardImage.ɵfac=function(t){return new(t||MatCardImage)},MatCardImage.ɵdir=ɵɵdefineDirective({type:MatCardImage,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]});class MatCardSmImage{}MatCardSmImage.ɵfac=function(t){return new(t||MatCardSmImage)},MatCardSmImage.ɵdir=ɵɵdefineDirective({type:MatCardSmImage,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]});class MatCardMdImage{}MatCardMdImage.ɵfac=function(t){return new(t||MatCardMdImage)},MatCardMdImage.ɵdir=ɵɵdefineDirective({type:MatCardMdImage,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-card-md-image"]});class MatCardLgImage{}MatCardLgImage.ɵfac=function(t){return new(t||MatCardLgImage)},MatCardLgImage.ɵdir=ɵɵdefineDirective({type:MatCardLgImage,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-card-lg-image"]});class MatCardXlImage{}MatCardXlImage.ɵfac=function(t){return new(t||MatCardXlImage)},MatCardXlImage.ɵdir=ɵɵdefineDirective({type:MatCardXlImage,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]});class MatCardAvatar{}MatCardAvatar.ɵfac=function(t){return new(t||MatCardAvatar)},MatCardAvatar.ɵdir=ɵɵdefineDirective({type:MatCardAvatar,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]});class MatCard{constructor(_animationMode){this._animationMode=_animationMode}}MatCard.ɵfac=function(t){return new(t||MatCard)(ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8))},MatCard.ɵcmp=ɵɵdefineComponent({type:MatCard,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)},exportAs:["matCard"],ngContentSelectors:["*","mat-card-footer"],decls:2,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(card_c0),ɵɵprojection(0),ɵɵprojection(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),MatCard.ctorParameters=()=>[{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]}];class MatCardHeader{}MatCardHeader.ɵfac=function(t){return new(t||MatCardHeader)},MatCardHeader.ɵcmp=ɵɵdefineComponent({type:MatCardHeader,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(card_c2),ɵɵprojection(0),ɵɵelementStart(1,"div",0),ɵɵprojection(2,1),ɵɵelementEnd(),ɵɵprojection(3,2))},encapsulation:2,changeDetection:0});class MatCardTitleGroup{}MatCardTitleGroup.ɵfac=function(t){return new(t||MatCardTitleGroup)},MatCardTitleGroup.ɵcmp=ɵɵdefineComponent({type:MatCardTitleGroup,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"],decls:4,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(_c4),ɵɵelementStart(0,"div"),ɵɵprojection(1),ɵɵelementEnd(),ɵɵprojection(2,1),ɵɵprojection(3,2))},encapsulation:2,changeDetection:0});class MatCardModule{}MatCardModule.ɵmod=ɵɵdefineNgModule({type:MatCardModule}),MatCardModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatCardModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatCardModule,{declarations:function(){return[MatCard,MatCardHeader,MatCardTitleGroup,MatCardContent,MatCardTitle,MatCardSubtitle,MatCardActions,MatCardFooter,MatCardSmImage,MatCardMdImage,MatCardLgImage,MatCardImage,MatCardXlImage,MatCardAvatar]},imports:function(){return[core_MatCommonModule]},exports:function(){return[MatCard,MatCardHeader,MatCardTitleGroup,MatCardContent,MatCardTitle,MatCardSubtitle,MatCardActions,MatCardFooter,MatCardSmImage,MatCardMdImage,MatCardLgImage,MatCardImage,MatCardXlImage,MatCardAvatar,core_MatCommonModule]}});const button_toggle_c0=["button"];const MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS=new InjectionToken("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>button_toggle_MatButtonToggleGroup),multi:!0};class MatButtonToggleGroupMultiple{}let button_toggle_uniqueIdCounter=0;class MatButtonToggleChange{constructor(source,value){this.source=source,this.value=value}}class button_toggle_MatButtonToggleGroup{constructor(_changeDetector,defaultOptions){this._changeDetector=_changeDetector,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${button_toggle_uniqueIdCounter++}`,this.valueChange=new core_EventEmitter,this.change=new core_EventEmitter,this.appearance=defaultOptions&&defaultOptions.appearance?defaultOptions.appearance:"standard"}get name(){return this._name}set name(value){this._name=value,this._buttonToggles&&this._buttonToggles.forEach(toggle=>{toggle.name=this._name,toggle._markForCheck()})}get vertical(){return this._vertical}set vertical(value){this._vertical=coerceBooleanProperty(value)}get value(){const selected=this._selectionModel?this._selectionModel.selected:[];return this.multiple?selected.map(toggle=>toggle.value):selected[0]?selected[0].value:void 0}set value(newValue){this._setSelectionByValue(newValue),this.valueChange.emit(this.value)}get selected(){const selected=this._selectionModel?this._selectionModel.selected:[];return this.multiple?selected:selected[0]||null}get multiple(){return this._multiple}set multiple(value){this._multiple=coerceBooleanProperty(value)}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._buttonToggles&&this._buttonToggles.forEach(toggle=>toggle._markForCheck())}ngOnInit(){this._selectionModel=new collections_SelectionModel(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(toggle=>toggle.checked))}writeValue(value){this.value=value,this._changeDetector.markForCheck()}registerOnChange(fn){this._controlValueAccessorChangeFn=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}_emitChangeEvent(){const selected=this.selected,source=Array.isArray(selected)?selected[selected.length-1]:selected,event=new MatButtonToggleChange(source,this.value);this._controlValueAccessorChangeFn(event.value),this.change.emit(event)}_syncButtonToggle(toggle,select,isUserInput=!1,deferEvents=!1){this.multiple||!this.selected||toggle.checked||(this.selected.checked=!1),this._selectionModel?select?this._selectionModel.select(toggle):this._selectionModel.deselect(toggle):deferEvents=!0,deferEvents?Promise.resolve().then(()=>this._updateModelValue(isUserInput)):this._updateModelValue(isUserInput)}_isSelected(toggle){return this._selectionModel&&this._selectionModel.isSelected(toggle)}_isPrechecked(toggle){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(value=>null!=toggle.value&&value===toggle.value):toggle.value===this._rawValue)}_setSelectionByValue(value){if(this._rawValue=value,this._buttonToggles)if(this.multiple&&value){if(!Array.isArray(value))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),value.forEach(currentValue=>this._selectValue(currentValue))}else this._clearSelection(),this._selectValue(value)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(toggle=>toggle.checked=!1)}_selectValue(value){const correspondingOption=this._buttonToggles.find(toggle=>null!=toggle.value&&toggle.value===value);correspondingOption&&(correspondingOption.checked=!0,this._selectionModel.select(correspondingOption))}_updateModelValue(isUserInput){isUserInput&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}button_toggle_MatButtonToggleGroup.ɵfac=function(t){return new(t||button_toggle_MatButtonToggleGroup)(ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS,8))},button_toggle_MatButtonToggleGroup.ɵdir=ɵɵdefineDirective({type:button_toggle_MatButtonToggleGroup,selectors:[["mat-button-toggle-group"]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&ɵɵcontentQuery(dirIndex,button_toggle_MatButtonToggle,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._buttonToggles=_t))},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(rf,ctx){2&rf&&(ɵɵattribute("aria-disabled",ctx.disabled),ɵɵclassProp("mat-button-toggle-vertical",ctx.vertical)("mat-button-toggle-group-appearance-standard","standard"===ctx.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[ɵɵProvidersFeature([MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,{provide:MatButtonToggleGroupMultiple,useExisting:button_toggle_MatButtonToggleGroup}])]}),button_toggle_MatButtonToggleGroup.ctorParameters=()=>[{type:ChangeDetectorRef},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]}]}],button_toggle_MatButtonToggleGroup.propDecorators={_buttonToggles:[{type:ContentChildren,args:[forwardRef(()=>button_toggle_MatButtonToggle),{descendants:!0}]}],appearance:[{type:Input}],name:[{type:Input}],vertical:[{type:Input}],value:[{type:Input}],valueChange:[{type:Output}],multiple:[{type:Input}],disabled:[{type:Input}],change:[{type:Output}]};const _MatButtonToggleMixinBase=mixinDisableRipple(class{});class button_toggle_MatButtonToggle extends _MatButtonToggleMixinBase{constructor(toggleGroup,_changeDetectorRef,_elementRef,_focusMonitor,defaultTabIndex,defaultOptions){super(),this._changeDetectorRef=_changeDetectorRef,this._elementRef=_elementRef,this._focusMonitor=_focusMonitor,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new core_EventEmitter;const parsedTabIndex=Number(defaultTabIndex);this.tabIndex=parsedTabIndex||0===parsedTabIndex?parsedTabIndex:null,this.buttonToggleGroup=toggleGroup,this.appearance=defaultOptions&&defaultOptions.appearance?defaultOptions.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(value){this._appearance=value}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(value){const newValue=coerceBooleanProperty(value);newValue!==this._checked&&(this._checked=newValue,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(value){this._disabled=coerceBooleanProperty(value)}ngOnInit(){const group=this.buttonToggleGroup;this._isSingleSelector=group&&!group.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||`mat-button-toggle-${button_toggle_uniqueIdCounter++}`,this._isSingleSelector&&(this.name=group.name),group&&(group._isPrechecked(this)?this.checked=!0:group._isSelected(this)!==this._checked&&group._syncButtonToggle(this,this._checked)),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const group=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),group&&group._isSelected(this)&&group._syncButtonToggle(this,!1,!1,!0)}focus(options){this._buttonElement.nativeElement.focus(options)}_onButtonClick(){const newChecked=!!this._isSingleSelector||!this._checked;newChecked!==this._checked&&(this._checked=newChecked,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new MatButtonToggleChange(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}button_toggle_MatButtonToggle.ɵfac=function(t){return new(t||button_toggle_MatButtonToggle)(ɵɵdirectiveInject(button_toggle_MatButtonToggleGroup,8),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵinjectAttribute("tabindex"),ɵɵdirectiveInject(MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS,8))},button_toggle_MatButtonToggle.ɵcmp=ɵɵdefineComponent({type:button_toggle_MatButtonToggle,selectors:[["mat-button-toggle"]],viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵviewQuery(button_toggle_c0,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._buttonElement=_t.first))},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("focus",(function(){return ctx.focus()})),2&rf&&(ɵɵattribute("tabindex",-1)("id",ctx.id)("name",null),ɵɵclassProp("mat-button-toggle-standalone",!ctx.buttonToggleGroup)("mat-button-toggle-checked",ctx.checked)("mat-button-toggle-disabled",ctx.disabled)("mat-button-toggle-appearance-standard","standard"===ctx.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(rf,ctx){if(1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"button",0,1),ɵɵlistener("click",(function(){return ctx._onButtonClick()})),ɵɵelementStart(2,"div",2),ɵɵprojection(3),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelement(4,"div",3),ɵɵelement(5,"div",4)),2&rf){const _r2=ɵɵreference(1);ɵɵproperty("id",ctx.buttonId)("disabled",ctx.disabled||null),ɵɵattribute("tabindex",ctx.disabled?-1:ctx.tabIndex)("aria-pressed",ctx.checked)("name",ctx.name||null)("aria-label",ctx.ariaLabel)("aria-labelledby",ctx.ariaLabelledby),ɵɵadvance(5),ɵɵproperty("matRippleTrigger",_r2)("matRippleDisabled",ctx.disableRipple||ctx.disabled)}},directives:[MatRipple],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),button_toggle_MatButtonToggle.ctorParameters=()=>[{type:button_toggle_MatButtonToggleGroup,decorators:[{type:Optional}]},{type:ChangeDetectorRef},{type:ElementRef},{type:a11y_FocusMonitor},{type:String,decorators:[{type:Attribute,args:["tabindex"]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]}]}],button_toggle_MatButtonToggle.propDecorators={ariaLabel:[{type:Input,args:["aria-label"]}],ariaLabelledby:[{type:Input,args:["aria-labelledby"]}],_buttonElement:[{type:ViewChild,args:["button"]}],id:[{type:Input}],name:[{type:Input}],value:[{type:Input}],tabIndex:[{type:Input}],appearance:[{type:Input}],checked:[{type:Input}],disabled:[{type:Input}],change:[{type:Output}]};class MatButtonToggleModule{}MatButtonToggleModule.ɵmod=ɵɵdefineNgModule({type:MatButtonToggleModule}),MatButtonToggleModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatButtonToggleModule)},imports:[[core_MatCommonModule,MatRippleModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatButtonToggleModule,{declarations:function(){return[button_toggle_MatButtonToggleGroup,button_toggle_MatButtonToggle]},imports:function(){return[core_MatCommonModule,MatRippleModule]},exports:function(){return[core_MatCommonModule,button_toggle_MatButtonToggleGroup,button_toggle_MatButtonToggle]}});const button_c0=["mat-button",""],button_c1=["*"],BUTTON_HOST_ATTRIBUTES=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];const _MatButtonMixinBase=mixinColor(mixinDisabled(mixinDisableRipple(class{constructor(_elementRef){this._elementRef=_elementRef}})));class MatButton extends _MatButtonMixinBase{constructor(elementRef,_focusMonitor,_animationMode){super(elementRef),this._focusMonitor=_focusMonitor,this._animationMode=_animationMode,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const attr of BUTTON_HOST_ATTRIBUTES)this._hasHostAttributes(attr)&&this._getHostElement().classList.add(attr);elementRef.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(origin="program",options){this._focusMonitor.focusVia(this._getHostElement(),origin,options)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...attributes){return attributes.some(attribute=>this._getHostElement().hasAttribute(attribute))}}MatButton.ɵfac=function(t){return new(t||MatButton)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8))},MatButton.ɵcmp=ɵɵdefineComponent({type:MatButton,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵviewQuery(MatRipple,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.ripple=_t.first))},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(rf,ctx){2&rf&&(ɵɵattribute("disabled",ctx.disabled||null),ɵɵclassProp("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ɵɵInheritDefinitionFeature],attrs:button_c0,ngContentSelectors:button_c1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"span",0),ɵɵprojection(1),ɵɵelementEnd(),ɵɵelement(2,"div",1),ɵɵelement(3,"div",2)),2&rf&&(ɵɵadvance(2),ɵɵclassProp("mat-button-ripple-round",ctx.isRoundButton||ctx.isIconButton),ɵɵproperty("matRippleDisabled",ctx._isRippleDisabled())("matRippleCentered",ctx.isIconButton)("matRippleTrigger",ctx._getHostElement()))},directives:[MatRipple],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),MatButton.ctorParameters=()=>[{type:ElementRef},{type:a11y_FocusMonitor},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]}],MatButton.propDecorators={ripple:[{type:ViewChild,args:[MatRipple]}]};class MatAnchor extends MatButton{constructor(focusMonitor,elementRef,animationMode){super(elementRef,focusMonitor,animationMode)}_haltDisabledEvents(event){this.disabled&&(event.preventDefault(),event.stopImmediatePropagation())}}MatAnchor.ɵfac=function(t){return new(t||MatAnchor)(ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8))},MatAnchor.ɵcmp=ɵɵdefineComponent({type:MatAnchor,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function($event){return ctx._haltDisabledEvents($event)})),2&rf&&(ɵɵattribute("tabindex",ctx.disabled?-1:ctx.tabIndex||0)("disabled",ctx.disabled||null)("aria-disabled",ctx.disabled.toString()),ɵɵclassProp("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[ɵɵInheritDefinitionFeature],attrs:button_c0,ngContentSelectors:button_c1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"span",0),ɵɵprojection(1),ɵɵelementEnd(),ɵɵelement(2,"div",1),ɵɵelement(3,"div",2)),2&rf&&(ɵɵadvance(2),ɵɵclassProp("mat-button-ripple-round",ctx.isRoundButton||ctx.isIconButton),ɵɵproperty("matRippleDisabled",ctx._isRippleDisabled())("matRippleCentered",ctx.isIconButton)("matRippleTrigger",ctx._getHostElement()))},directives:[MatRipple],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),MatAnchor.ctorParameters=()=>[{type:a11y_FocusMonitor},{type:ElementRef},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]}],MatAnchor.propDecorators={tabIndex:[{type:Input}]};class MatButtonModule{}MatButtonModule.ɵmod=ɵɵdefineNgModule({type:MatButtonModule}),MatButtonModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatButtonModule)},imports:[[MatRippleModule,core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatButtonModule,{declarations:function(){return[MatButton,MatAnchor]},imports:function(){return[MatRippleModule,core_MatCommonModule]},exports:function(){return[MatButton,MatAnchor,core_MatCommonModule]}});const checkbox_c0=["input"],checkbox_c1=function(){return{enterDuration:150}};const MAT_CHECKBOX_DEFAULT_OPTIONS=new InjectionToken("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}});const MAT_CHECKBOX_CLICK_ACTION=new InjectionToken("mat-checkbox-click-action");let checkbox_nextUniqueId=0;const MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>checkbox_MatCheckbox),multi:!0};class MatCheckboxChange{}const _MatCheckboxMixinBase=mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(class{constructor(_elementRef){this._elementRef=_elementRef}}))));class checkbox_MatCheckbox extends _MatCheckboxMixinBase{constructor(elementRef,_changeDetectorRef,_focusMonitor,_ngZone,tabIndex,_clickAction,_animationMode,_options){super(elementRef),this._changeDetectorRef=_changeDetectorRef,this._focusMonitor=_focusMonitor,this._ngZone=_ngZone,this._clickAction=_clickAction,this._animationMode=_animationMode,this._options=_options,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++checkbox_nextUniqueId}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new core_EventEmitter,this.indeterminateChange=new core_EventEmitter,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(tabIndex)||0,this._focusMonitor.monitor(elementRef,!0).subscribe(focusOrigin=>{focusOrigin||Promise.resolve().then(()=>{this._onTouched(),_changeDetectorRef.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(value){value!=this.checked&&(this._checked=value,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(value){const newValue=coerceBooleanProperty(value);newValue!==this.disabled&&(this._disabled=newValue,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(value){const changed=value!=this._indeterminate;this._indeterminate=coerceBooleanProperty(value),changed&&(this._indeterminate?this._transitionCheckState(3):this._transitionCheckState(this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(value){this.checked=!!value}registerOnChange(fn){this._controlValueAccessorChangeFn=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(newState){let oldState=this._currentCheckState,element=this._elementRef.nativeElement;if(oldState!==newState&&(this._currentAnimationClass.length>0&&element.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(oldState,newState),this._currentCheckState=newState,this._currentAnimationClass.length>0)){element.classList.add(this._currentAnimationClass);const animationClass=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{element.classList.remove(animationClass)},1e3)})}}_emitChangeEvent(){const event=new MatCheckboxChange;event.source=this,event.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(event)}toggle(){this.checked=!this.checked}_onInputClick(event){event.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(origin="keyboard",options){this._focusMonitor.focusVia(this._inputElement,origin,options)}_onInteractionEvent(event){event.stopPropagation()}_getAnimationClassForCheckStateTransition(oldState,newState){if("NoopAnimations"===this._animationMode)return"";let animSuffix="";switch(oldState){case 0:if(1===newState)animSuffix="unchecked-checked";else{if(3!=newState)return"";animSuffix="unchecked-indeterminate"}break;case 2:animSuffix=1===newState?"unchecked-checked":"unchecked-indeterminate";break;case 1:animSuffix=2===newState?"checked-unchecked":"checked-indeterminate";break;case 3:animSuffix=1===newState?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${animSuffix}`}_syncIndeterminate(value){const nativeCheckbox=this._inputElement;nativeCheckbox&&(nativeCheckbox.nativeElement.indeterminate=value)}}checkbox_MatCheckbox.ɵfac=function(t){return new(t||checkbox_MatCheckbox)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(NgZone),ɵɵinjectAttribute("tabindex"),ɵɵdirectiveInject(MAT_CHECKBOX_CLICK_ACTION,8),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8),ɵɵdirectiveInject(MAT_CHECKBOX_DEFAULT_OPTIONS,8))},checkbox_MatCheckbox.ɵcmp=ɵɵdefineComponent({type:checkbox_MatCheckbox,selectors:[["mat-checkbox"]],viewQuery:function(rf,ctx){var _t;(1&rf&&(ɵɵviewQuery(checkbox_c0,!0),ɵɵviewQuery(MatRipple,!0)),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._inputElement=_t.first),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.ripple=_t.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(rf,ctx){2&rf&&(ɵɵhostProperty("id",ctx.id),ɵɵattribute("tabindex",null),ɵɵclassProp("mat-checkbox-indeterminate",ctx.indeterminate)("mat-checkbox-checked",ctx.checked)("mat-checkbox-disabled",ctx.disabled)("mat-checkbox-label-before","before"==ctx.labelPosition)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ɵɵProvidersFeature([MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR]),ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(rf,ctx){if(1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"label",0,1),ɵɵelementStart(2,"div",2),ɵɵelementStart(3,"input",3,4),ɵɵlistener("change",(function($event){return ctx._onInteractionEvent($event)}))("click",(function($event){return ctx._onInputClick($event)})),ɵɵelementEnd(),ɵɵelementStart(5,"div",5),ɵɵelement(6,"div",6),ɵɵelementEnd(),ɵɵelement(7,"div",7),ɵɵelementStart(8,"div",8),ɵɵnamespaceSVG(),ɵɵelementStart(9,"svg",9),ɵɵelement(10,"path",10),ɵɵelementEnd(),ɵɵnamespaceHTML(),ɵɵelement(11,"div",11),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementStart(12,"span",12,13),ɵɵlistener("cdkObserveContent",(function(){return ctx._onLabelTextChange()})),ɵɵelementStart(14,"span",14),ɵɵtext(15," "),ɵɵelementEnd(),ɵɵprojection(16),ɵɵelementEnd(),ɵɵelementEnd()),2&rf){const _r281=ɵɵreference(1),_r283=ɵɵreference(13);ɵɵattribute("for",ctx.inputId),ɵɵadvance(2),ɵɵclassProp("mat-checkbox-inner-container-no-side-margin",!_r283.textContent||!_r283.textContent.trim()),ɵɵadvance(1),ɵɵproperty("id",ctx.inputId)("required",ctx.required)("checked",ctx.checked)("disabled",ctx.disabled)("tabIndex",ctx.tabIndex),ɵɵattribute("value",ctx.value)("name",ctx.name)("aria-label",ctx.ariaLabel||null)("aria-labelledby",ctx.ariaLabelledby)("aria-checked",ctx._getAriaChecked()),ɵɵadvance(2),ɵɵproperty("matRippleTrigger",_r281)("matRippleDisabled",ctx._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",ɵɵpureFunction0(18,checkbox_c1))}},directives:[MatRipple,observers_CdkObserveContent],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),checkbox_MatCheckbox.ctorParameters=()=>[{type:ElementRef},{type:ChangeDetectorRef},{type:a11y_FocusMonitor},{type:NgZone},{type:String,decorators:[{type:Attribute,args:["tabindex"]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_CHECKBOX_CLICK_ACTION]}]},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_CHECKBOX_DEFAULT_OPTIONS]}]}],checkbox_MatCheckbox.propDecorators={ariaLabel:[{type:Input,args:["aria-label"]}],ariaLabelledby:[{type:Input,args:["aria-labelledby"]}],id:[{type:Input}],required:[{type:Input}],labelPosition:[{type:Input}],name:[{type:Input}],change:[{type:Output}],indeterminateChange:[{type:Output}],value:[{type:Input}],_inputElement:[{type:ViewChild,args:["input"]}],ripple:[{type:ViewChild,args:[MatRipple]}],checked:[{type:Input}],disabled:[{type:Input}],indeterminate:[{type:Input}]};const MAT_CHECKBOX_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>checkbox_MatCheckboxRequiredValidator),multi:!0};class checkbox_MatCheckboxRequiredValidator extends CheckboxRequiredValidator{}checkbox_MatCheckboxRequiredValidator.ɵfac=function(t){return ɵMatCheckboxRequiredValidator_BaseFactory(t||checkbox_MatCheckboxRequiredValidator)},checkbox_MatCheckboxRequiredValidator.ɵdir=ɵɵdefineDirective({type:checkbox_MatCheckboxRequiredValidator,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[ɵɵProvidersFeature([MAT_CHECKBOX_REQUIRED_VALIDATOR]),ɵɵInheritDefinitionFeature]});const ɵMatCheckboxRequiredValidator_BaseFactory=ɵɵgetInheritedFactory(checkbox_MatCheckboxRequiredValidator);class _MatCheckboxRequiredValidatorModule{}_MatCheckboxRequiredValidatorModule.ɵmod=ɵɵdefineNgModule({type:_MatCheckboxRequiredValidatorModule}),_MatCheckboxRequiredValidatorModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||_MatCheckboxRequiredValidatorModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(_MatCheckboxRequiredValidatorModule,{declarations:[checkbox_MatCheckboxRequiredValidator],exports:[checkbox_MatCheckboxRequiredValidator]});class MatCheckboxModule{}MatCheckboxModule.ɵmod=ɵɵdefineNgModule({type:MatCheckboxModule}),MatCheckboxModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatCheckboxModule)},imports:[[MatRippleModule,core_MatCommonModule,ObserversModule,_MatCheckboxRequiredValidatorModule],core_MatCommonModule,_MatCheckboxRequiredValidatorModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatCheckboxModule,{declarations:function(){return[checkbox_MatCheckbox]},imports:function(){return[MatRippleModule,core_MatCommonModule,ObserversModule,_MatCheckboxRequiredValidatorModule]},exports:function(){return[checkbox_MatCheckbox,core_MatCommonModule,_MatCheckboxRequiredValidatorModule]}});const radio_c0=["input"],radio_c1=function(){return{enterDuration:150}};const MAT_RADIO_DEFAULT_OPTIONS=new InjectionToken("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let radio_nextUniqueId=0;const MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>radio_MatRadioGroup),multi:!0};class MatRadioChange{constructor(source,value){this.source=source,this.value=value}}class radio_MatRadioGroup{constructor(_changeDetector){this._changeDetector=_changeDetector,this._value=null,this._name=`mat-radio-group-${radio_nextUniqueId++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new core_EventEmitter}get name(){return this._name}set name(value){this._name=value,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(v){this._labelPosition="before"===v?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(newValue){this._value!==newValue&&(this._value=newValue,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(selected){this._selected=selected,this.value=selected?selected.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._markRadiosForCheck()}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(radio=>{radio.name=this.name,radio._markForCheck()})}_updateSelectedRadioFromValue(){const isAlreadySelected=null!==this._selected&&this._selected.value===this._value;this._radios&&!isAlreadySelected&&(this._selected=null,this._radios.forEach(radio=>{radio.checked=this.value===radio.value,radio.checked&&(this._selected=radio)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new MatRadioChange(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(radio=>radio._markForCheck())}writeValue(value){this.value=value,this._changeDetector.markForCheck()}registerOnChange(fn){this._controlValueAccessorChangeFn=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this._changeDetector.markForCheck()}}radio_MatRadioGroup.ɵfac=function(t){return new(t||radio_MatRadioGroup)(ɵɵdirectiveInject(ChangeDetectorRef))},radio_MatRadioGroup.ɵdir=ɵɵdefineDirective({type:radio_MatRadioGroup,selectors:[["mat-radio-group"]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&ɵɵcontentQuery(dirIndex,MatRadioButton,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._radios=_t))},hostAttrs:["role","radiogroup",1,"mat-radio-group"],inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[ɵɵProvidersFeature([MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR])]}),radio_MatRadioGroup.ctorParameters=()=>[{type:ChangeDetectorRef}],radio_MatRadioGroup.propDecorators={change:[{type:Output}],_radios:[{type:ContentChildren,args:[forwardRef(()=>MatRadioButton),{descendants:!0}]}],color:[{type:Input}],name:[{type:Input}],labelPosition:[{type:Input}],value:[{type:Input}],selected:[{type:Input}],disabled:[{type:Input}],required:[{type:Input}]};const _MatRadioButtonMixinBase=mixinDisableRipple(mixinTabIndex(class{constructor(_elementRef){this._elementRef=_elementRef}}));class radio_MatRadioButtonBase extends _MatRadioButtonMixinBase{constructor(radioGroup,elementRef,_changeDetector,_focusMonitor,_radioDispatcher,_animationMode,_providerOverride){super(elementRef),this._changeDetector=_changeDetector,this._focusMonitor=_focusMonitor,this._radioDispatcher=_radioDispatcher,this._animationMode=_animationMode,this._providerOverride=_providerOverride,this._uniqueId=`mat-radio-${++radio_nextUniqueId}`,this.id=this._uniqueId,this.change=new core_EventEmitter,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=radioGroup,this._removeUniqueSelectionListener=_radioDispatcher.listen((id,name)=>{id!==this.id&&name===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(value){const newCheckedState=coerceBooleanProperty(value);this._checked!==newCheckedState&&(this._checked=newCheckedState,newCheckedState&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!newCheckedState&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),newCheckedState&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(value){this._value!==value&&(this._value=value,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===value),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(value){this._labelPosition=value}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(value){this._setDisabled(coerceBooleanProperty(value))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(value){this._required=coerceBooleanProperty(value)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(newValue){this._color=newValue}get inputId(){return`${this.id||this._uniqueId}-input`}focus(options){this._focusMonitor.focusVia(this._inputElement,"keyboard",options)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(focusOrigin=>{!focusOrigin&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new MatRadioChange(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(event){event.stopPropagation()}_onInputChange(event){event.stopPropagation();const groupValueChanged=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),groupValueChanged&&this.radioGroup._emitChangeEvent())}_setDisabled(value){this._disabled!==value&&(this._disabled=value,this._changeDetector.markForCheck())}}radio_MatRadioButtonBase.ɵfac=function(t){return new(t||radio_MatRadioButtonBase)(ɵɵdirectiveInject(radio_MatRadioGroup,8),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(UniqueSelectionDispatcher),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8),ɵɵdirectiveInject(MAT_RADIO_DEFAULT_OPTIONS,8))},radio_MatRadioButtonBase.ɵdir=ɵɵdefineDirective({type:radio_MatRadioButtonBase,viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵviewQuery(radio_c0,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._inputElement=_t.first))},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[ɵɵInheritDefinitionFeature]}),radio_MatRadioButtonBase.ctorParameters=()=>[{type:radio_MatRadioGroup,decorators:[{type:Optional}]},{type:ElementRef},{type:ChangeDetectorRef},{type:a11y_FocusMonitor},{type:UniqueSelectionDispatcher},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_RADIO_DEFAULT_OPTIONS]}]}],radio_MatRadioButtonBase.propDecorators={id:[{type:Input}],name:[{type:Input}],ariaLabel:[{type:Input,args:["aria-label"]}],ariaLabelledby:[{type:Input,args:["aria-labelledby"]}],ariaDescribedby:[{type:Input,args:["aria-describedby"]}],checked:[{type:Input}],value:[{type:Input}],labelPosition:[{type:Input}],disabled:[{type:Input}],required:[{type:Input}],color:[{type:Input}],change:[{type:Output}],_inputElement:[{type:ViewChild,args:["input"]}]};class MatRadioButton extends radio_MatRadioButtonBase{}MatRadioButton.ɵfac=function(t){return ɵMatRadioButton_BaseFactory(t||MatRadioButton)},MatRadioButton.ɵcmp=ɵɵdefineComponent({type:MatRadioButton,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("focus",(function(){return ctx._inputElement.nativeElement.focus()})),2&rf&&(ɵɵattribute("tabindex",-1)("id",ctx.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),ɵɵclassProp("mat-radio-checked",ctx.checked)("mat-radio-disabled",ctx.disabled)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)("mat-primary","primary"===ctx.color)("mat-accent","accent"===ctx.color)("mat-warn","warn"===ctx.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(rf,ctx){if(1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"label",0,1),ɵɵelementStart(2,"div",2),ɵɵelement(3,"div",3),ɵɵelement(4,"div",4),ɵɵelementStart(5,"input",5,6),ɵɵlistener("change",(function($event){return ctx._onInputChange($event)}))("click",(function($event){return ctx._onInputClick($event)})),ɵɵelementEnd(),ɵɵelementStart(7,"div",7),ɵɵelement(8,"div",8),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementStart(9,"div",9),ɵɵelementStart(10,"span",10),ɵɵtext(11," "),ɵɵelementEnd(),ɵɵprojection(12),ɵɵelementEnd(),ɵɵelementEnd()),2&rf){const _r187=ɵɵreference(1);ɵɵattribute("for",ctx.inputId),ɵɵadvance(5),ɵɵproperty("id",ctx.inputId)("checked",ctx.checked)("disabled",ctx.disabled)("tabIndex",ctx.tabIndex)("required",ctx.required),ɵɵattribute("name",ctx.name)("value",ctx.value)("aria-label",ctx.ariaLabel)("aria-labelledby",ctx.ariaLabelledby)("aria-describedby",ctx.ariaDescribedby),ɵɵadvance(2),ɵɵproperty("matRippleTrigger",_r187)("matRippleDisabled",ctx._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",ɵɵpureFunction0(18,radio_c1)),ɵɵadvance(2),ɵɵclassProp("mat-radio-label-before","before"==ctx.labelPosition)}},directives:[MatRipple],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0});const ɵMatRadioButton_BaseFactory=ɵɵgetInheritedFactory(MatRadioButton);class MatRadioModule{}function CdkStep_ng_template_0_Template(rf,ctx){1&rf&&ɵɵprojection(0)}MatRadioModule.ɵmod=ɵɵdefineNgModule({type:MatRadioModule}),MatRadioModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatRadioModule)},imports:[[MatRippleModule,core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatRadioModule,{declarations:function(){return[radio_MatRadioGroup,MatRadioButton]},imports:function(){return[MatRippleModule,core_MatCommonModule]},exports:function(){return[radio_MatRadioGroup,MatRadioButton,core_MatCommonModule]}});class CdkStepHeader{constructor(_elementRef){this._elementRef=_elementRef}focus(){this._elementRef.nativeElement.focus()}}CdkStepHeader.ɵfac=function(t){return new(t||CdkStepHeader)(ɵɵdirectiveInject(ElementRef))},CdkStepHeader.ɵdir=ɵɵdefineDirective({type:CdkStepHeader,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),CdkStepHeader.ctorParameters=()=>[{type:ElementRef}];class CdkStepLabel{constructor(template){this.template=template}}CdkStepLabel.ɵfac=function(t){return new(t||CdkStepLabel)(ɵɵdirectiveInject(TemplateRef))},CdkStepLabel.ɵdir=ɵɵdefineDirective({type:CdkStepLabel,selectors:[["","cdkStepLabel",""]]}),CdkStepLabel.ctorParameters=()=>[{type:TemplateRef}];let stepper_nextId=0;const STEP_STATE_NUMBER="number",STEP_STATE_EDIT="edit",STEP_STATE_DONE="done",STEP_STATE_ERROR="error",STEPPER_GLOBAL_OPTIONS=new InjectionToken("STEPPER_GLOBAL_OPTIONS");class stepper_CdkStep{constructor(_stepper,stepperOptions){this._stepper=_stepper,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=stepperOptions||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(value){this._editable=coerceBooleanProperty(value)}get optional(){return this._optional}set optional(value){this._optional=coerceBooleanProperty(value)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(value){this._completedOverride=coerceBooleanProperty(value)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(value){this._customError=coerceBooleanProperty(value)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}stepper_CdkStep.ɵfac=function(t){return new(t||stepper_CdkStep)(ɵɵdirectiveInject(forwardRef(()=>stepper_CdkStepper)),ɵɵdirectiveInject(STEPPER_GLOBAL_OPTIONS,8))},stepper_CdkStep.ɵcmp=ɵɵdefineComponent({type:stepper_CdkStep,selectors:[["cdk-step"]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&ɵɵcontentQuery(dirIndex,CdkStepLabel,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.stepLabel=_t.first))},viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵstaticViewQuery(TemplateRef,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.content=_t.first))},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[ɵɵNgOnChangesFeature],ngContentSelectors:["*"],decls:1,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵtemplate(0,CdkStep_ng_template_0_Template,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),stepper_CdkStep.ctorParameters=()=>[{type:stepper_CdkStepper,decorators:[{type:Inject,args:[forwardRef(()=>stepper_CdkStepper)]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[STEPPER_GLOBAL_OPTIONS]}]}],stepper_CdkStep.propDecorators={stepLabel:[{type:ContentChild,args:[CdkStepLabel]}],content:[{type:ViewChild,args:[TemplateRef,{static:!0}]}],stepControl:[{type:Input}],label:[{type:Input}],errorMessage:[{type:Input}],ariaLabel:[{type:Input,args:["aria-label"]}],ariaLabelledby:[{type:Input,args:["aria-labelledby"]}],state:[{type:Input}],editable:[{type:Input}],optional:[{type:Input}],completed:[{type:Input}],hasError:[{type:Input}]};class stepper_CdkStepper{constructor(_dir,_changeDetectorRef,_elementRef,_document){this._dir=_dir,this._changeDetectorRef=_changeDetectorRef,this._elementRef=_elementRef,this._destroyed=new Subject_Subject,this._linear=!1,this._selectedIndex=0,this.selectionChange=new core_EventEmitter,this._orientation="horizontal",this._groupId=stepper_nextId++,this._document=_document}get steps(){return this._steps}get linear(){return this._linear}set linear(value){this._linear=coerceBooleanProperty(value)}get selectedIndex(){return this._selectedIndex}set selectedIndex(index){const newIndex=coerceNumberProperty(index);if(this.steps){if(newIndex<0||newIndex>this.steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=newIndex&&!this._anyControlsInvalidOrPending(newIndex)&&(newIndex>=this._selectedIndex||this.steps.toArray()[newIndex].editable)&&this._updateSelectedItemIndex(index)}else this._selectedIndex=newIndex}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(step){this.selectedIndex=this.steps?this.steps.toArray().indexOf(step):-1}ngAfterViewInit(){this._keyManager=new FocusKeyManager(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:of()).pipe(startWith(this._layoutDirection()),takeUntil(this._destroyed)).subscribe(direction=>this._keyManager.withHorizontalOrientation(direction)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.pipe(takeUntil(this._destroyed)).subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(step=>step.reset()),this._stateChanged()}_getStepLabelId(i){return`cdk-step-label-${this._groupId}-${i}`}_getStepContentId(i){return`cdk-step-content-${this._groupId}-${i}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(index){const position=index-this._selectedIndex;return position<0?"rtl"===this._layoutDirection()?"next":"previous":position>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(index,state=STEP_STATE_NUMBER){const step=this.steps.toArray()[index],isCurrentStep=this._isCurrentStep(index);return step._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(step,isCurrentStep):this._getGuidelineLogic(step,isCurrentStep,state)}_getDefaultIndicatorLogic(step,isCurrentStep){return step._showError&&step.hasError&&!isCurrentStep?STEP_STATE_ERROR:!step.completed||isCurrentStep?STEP_STATE_NUMBER:step.editable?STEP_STATE_EDIT:STEP_STATE_DONE}_getGuidelineLogic(step,isCurrentStep,state=STEP_STATE_NUMBER){return step._showError&&step.hasError&&!isCurrentStep?STEP_STATE_ERROR:step.completed&&!isCurrentStep?STEP_STATE_DONE:step.completed&&isCurrentStep?state:step.editable&&isCurrentStep?STEP_STATE_EDIT:state}_isCurrentStep(index){return this._selectedIndex===index}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(newIndex){const stepsArray=this.steps.toArray();this.selectionChange.emit({selectedIndex:newIndex,previouslySelectedIndex:this._selectedIndex,selectedStep:stepsArray[newIndex],previouslySelectedStep:stepsArray[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(newIndex):this._keyManager.updateActiveItem(newIndex),this._selectedIndex=newIndex,this._stateChanged()}_onKeydown(event){const hasModifier=hasModifierKey(event),keyCode=event.keyCode,manager=this._keyManager;null==manager.activeItemIndex||hasModifier||32!==keyCode&&13!==keyCode?36===keyCode?(manager.setFirstItemActive(),event.preventDefault()):35===keyCode?(manager.setLastItemActive(),event.preventDefault()):manager.onKeydown(event):(this.selectedIndex=manager.activeItemIndex,event.preventDefault())}_anyControlsInvalidOrPending(index){const steps=this.steps.toArray();return steps[this._selectedIndex].interacted=!0,!!(this._linear&&index>=0)&&steps.slice(0,index).some(step=>{const control=step.stepControl;return(control?control.invalid||control.pending||!step.interacted:!step.completed)&&!step.optional&&!step._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const stepperElement=this._elementRef.nativeElement,focusedElement=this._document.activeElement;return stepperElement===focusedElement||stepperElement.contains(focusedElement)}}stepper_CdkStepper.ɵfac=function(t){return new(t||stepper_CdkStepper)(ɵɵdirectiveInject(bidi_Directionality,8),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(common_DOCUMENT))},stepper_CdkStepper.ɵdir=ɵɵdefineDirective({type:stepper_CdkStepper,selectors:[["","cdkStepper",""]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&(ɵɵcontentQuery(dirIndex,stepper_CdkStep,!0),ɵɵcontentQuery(dirIndex,CdkStepHeader,!0)),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._steps=_t),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._stepHeader=_t))},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),stepper_CdkStepper.ctorParameters=()=>[{type:bidi_Directionality,decorators:[{type:Optional}]},{type:ChangeDetectorRef},{type:ElementRef},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],stepper_CdkStepper.propDecorators={_steps:[{type:ContentChildren,args:[stepper_CdkStep,{descendants:!0}]}],_stepHeader:[{type:ContentChildren,args:[CdkStepHeader,{descendants:!0}]}],linear:[{type:Input}],selectedIndex:[{type:Input}],selected:[{type:Input}],selectionChange:[{type:Output}]};class CdkStepperNext{constructor(_stepper){this._stepper=_stepper,this.type="submit"}_handleClick(){this._stepper.next()}}CdkStepperNext.ɵfac=function(t){return new(t||CdkStepperNext)(ɵɵdirectiveInject(stepper_CdkStepper))},CdkStepperNext.ɵdir=ɵɵdefineDirective({type:CdkStepperNext,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function(){return ctx._handleClick()})),2&rf&&ɵɵhostProperty("type",ctx.type)},inputs:{type:"type"}}),CdkStepperNext.ctorParameters=()=>[{type:stepper_CdkStepper}],CdkStepperNext.propDecorators={type:[{type:Input}],_handleClick:[{type:HostListener,args:["click"]}]};class CdkStepperPrevious{constructor(_stepper){this._stepper=_stepper,this.type="button"}_handleClick(){this._stepper.previous()}}CdkStepperPrevious.ɵfac=function(t){return new(t||CdkStepperPrevious)(ɵɵdirectiveInject(stepper_CdkStepper))},CdkStepperPrevious.ɵdir=ɵɵdefineDirective({type:CdkStepperPrevious,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(rf,ctx){1&rf&&ɵɵlistener("click",(function(){return ctx._handleClick()})),2&rf&&ɵɵhostProperty("type",ctx.type)},inputs:{type:"type"}}),CdkStepperPrevious.ctorParameters=()=>[{type:stepper_CdkStepper}],CdkStepperPrevious.propDecorators={type:[{type:Input}],_handleClick:[{type:HostListener,args:["click"]}]};class CdkStepperModule{}CdkStepperModule.ɵmod=ɵɵdefineNgModule({type:CdkStepperModule}),CdkStepperModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||CdkStepperModule)},imports:[[BidiModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(CdkStepperModule,{declarations:function(){return[stepper_CdkStep,stepper_CdkStepper,CdkStepHeader,CdkStepLabel,CdkStepperNext,CdkStepperPrevious]},imports:function(){return[BidiModule]},exports:function(){return[stepper_CdkStep,stepper_CdkStepper,CdkStepHeader,CdkStepLabel,CdkStepperNext,CdkStepperPrevious]}});function getMatIconNameNotFoundError(iconName){return Error(`Unable to find icon with the name "${iconName}"`)}function getMatIconFailedToSanitizeUrlError(url){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${url}".`)}function getMatIconFailedToSanitizeLiteralError(literal){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${literal}".`)}class SvgIconConfig{constructor(data,options){this.options=options,data.nodeName?this.svgElement=data:this.url=data}}class icon_MatIconRegistry{constructor(_httpClient,_sanitizer,document,_errorHandler){this._httpClient=_httpClient,this._sanitizer=_sanitizer,this._errorHandler=_errorHandler,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=document}addSvgIcon(iconName,url,options){return this.addSvgIconInNamespace("",iconName,url,options)}addSvgIconLiteral(iconName,literal,options){return this.addSvgIconLiteralInNamespace("",iconName,literal,options)}addSvgIconInNamespace(namespace,iconName,url,options){return this._addSvgIconConfig(namespace,iconName,new SvgIconConfig(url,options))}addSvgIconLiteralInNamespace(namespace,iconName,literal,options){const sanitizedLiteral=this._sanitizer.sanitize(SecurityContext.HTML,literal);if(!sanitizedLiteral)throw getMatIconFailedToSanitizeLiteralError(literal);const svgElement=this._createSvgElementForSingleIcon(sanitizedLiteral,options);return(this._addSvgIconConfig(namespace,iconName,new SvgIconConfig(svgElement,options)))}addSvgIconSet(url,options){return this.addSvgIconSetInNamespace("",url,options)}addSvgIconSetLiteral(literal,options){return this.addSvgIconSetLiteralInNamespace("",literal,options)}addSvgIconSetInNamespace(namespace,url,options){return this._addSvgIconSetConfig(namespace,new SvgIconConfig(url,options))}addSvgIconSetLiteralInNamespace(namespace,literal,options){const sanitizedLiteral=this._sanitizer.sanitize(SecurityContext.HTML,literal);if(!sanitizedLiteral)throw getMatIconFailedToSanitizeLiteralError(literal);const svgElement=this._svgElementFromString(sanitizedLiteral);return(this._addSvgIconSetConfig(namespace,new SvgIconConfig(svgElement,options)))}registerFontClassAlias(alias,className=alias){return this._fontCssClassesByAlias.set(alias,className),this}classNameForFontAlias(alias){return this._fontCssClassesByAlias.get(alias)||alias}setDefaultFontSetClass(className){return this._defaultFontSetClass=className,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(safeUrl){const url=this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,safeUrl);if(!url)throw getMatIconFailedToSanitizeUrlError(safeUrl);const cachedIcon=this._cachedIconsByUrl.get(url);return cachedIcon?of(cloneSvg(cachedIcon)):this._loadSvgIconFromConfig(new SvgIconConfig(safeUrl)).pipe(tap(svg=>this._cachedIconsByUrl.set(url,svg)),map_map(svg=>cloneSvg(svg)))}getNamedSvgIcon(name,namespace=""){const key=iconKey(namespace,name),config=this._svgIconConfigs.get(key);if(config)return this._getSvgFromConfig(config);const iconSetConfigs=this._iconSetConfigs.get(namespace);return iconSetConfigs?this._getSvgFromIconSetConfigs(name,iconSetConfigs):throwError_throwError(getMatIconNameNotFoundError(key))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(config){return config.svgElement?of(cloneSvg(config.svgElement)):this._loadSvgIconFromConfig(config).pipe(tap(svg=>config.svgElement=svg),map_map(svg=>cloneSvg(svg)))}_getSvgFromIconSetConfigs(name,iconSetConfigs){const namedIcon=this._extractIconWithNameFromAnySet(name,iconSetConfigs);return namedIcon?of(namedIcon):forkJoin(iconSetConfigs.filter(iconSetConfig=>!iconSetConfig.svgElement).map(iconSetConfig=>this._loadSvgIconSetFromConfig(iconSetConfig).pipe(catchError(err=>{const errorMessage=`Loading icon set URL: ${this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,iconSetConfig.url)} failed: ${err.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(errorMessage)):console.error(errorMessage),of(null)})))).pipe(map_map(()=>{const foundIcon=this._extractIconWithNameFromAnySet(name,iconSetConfigs);if(!foundIcon)throw getMatIconNameNotFoundError(name);return foundIcon}))}_extractIconWithNameFromAnySet(iconName,iconSetConfigs){for(let i=iconSetConfigs.length-1;i>=0;i--){const config=iconSetConfigs[i];if(config.svgElement){const foundIcon=this._extractSvgIconFromSet(config.svgElement,iconName,config.options);if(foundIcon)return foundIcon}}return null}_loadSvgIconFromConfig(config){return this._fetchUrl(config.url).pipe(map_map(svgText=>this._createSvgElementForSingleIcon(svgText,config.options)))}_loadSvgIconSetFromConfig(config){return config.svgElement?of(config.svgElement):this._fetchUrl(config.url).pipe(map_map(svgText=>(config.svgElement||(config.svgElement=this._svgElementFromString(svgText)),config.svgElement)))}_createSvgElementForSingleIcon(responseText,options){const svg=this._svgElementFromString(responseText);return this._setSvgAttributes(svg,options),svg}_extractSvgIconFromSet(iconSet,iconName,options){const iconSource=iconSet.querySelector(`[id="${iconName}"]`);if(!iconSource)return null;const iconElement=iconSource.cloneNode(!0);if(iconElement.removeAttribute("id"),"svg"===iconElement.nodeName.toLowerCase())return this._setSvgAttributes(iconElement,options);if("symbol"===iconElement.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(iconElement),options);const svg=this._svgElementFromString("<svg></svg>");return svg.appendChild(iconElement),this._setSvgAttributes(svg,options)}_svgElementFromString(str){const div=this._document.createElement("DIV");div.innerHTML=str;const svg=div.querySelector("svg");if(!svg)throw Error("<svg> tag not found");return svg}_toSvgElement(element){const svg=this._svgElementFromString("<svg></svg>"),attributes=element.attributes;for(let i=0;i<attributes.length;i++){const{name:name,value:value}=attributes[i];"id"!==name&&svg.setAttribute(name,value)}for(let i=0;i<element.childNodes.length;i++)element.childNodes[i].nodeType===this._document.ELEMENT_NODE&&svg.appendChild(element.childNodes[i].cloneNode(!0));return svg}_setSvgAttributes(svg,options){return svg.setAttribute("fit",""),svg.setAttribute("height","100%"),svg.setAttribute("width","100%"),svg.setAttribute("preserveAspectRatio","xMidYMid meet"),svg.setAttribute("focusable","false"),options&&options.viewBox&&svg.setAttribute("viewBox",options.viewBox),svg}_fetchUrl(safeUrl){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==safeUrl)throw Error(`Cannot fetch icon from URL "${safeUrl}".`);const url=this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,safeUrl);if(!url)throw getMatIconFailedToSanitizeUrlError(safeUrl);const inProgressFetch=this._inProgressUrlFetches.get(url);if(inProgressFetch)return inProgressFetch;const req=this._httpClient.get(url,{responseType:"text"}).pipe(finalize(()=>this._inProgressUrlFetches.delete(url)),share());return this._inProgressUrlFetches.set(url,req),req}_addSvgIconConfig(namespace,iconName,config){return this._svgIconConfigs.set(iconKey(namespace,iconName),config),this}_addSvgIconSetConfig(namespace,config){const configNamespace=this._iconSetConfigs.get(namespace);return configNamespace?configNamespace.push(config):this._iconSetConfigs.set(namespace,[config]),this}}icon_MatIconRegistry.ɵfac=function(t){return new(t||icon_MatIconRegistry)(ɵɵinject(http_HttpClient,8),ɵɵinject(DomSanitizer),ɵɵinject(common_DOCUMENT,8),ɵɵinject(ErrorHandler,8))},icon_MatIconRegistry.ctorParameters=()=>[{type:http_HttpClient,decorators:[{type:Optional}]},{type:DomSanitizer},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[common_DOCUMENT]}]},{type:ErrorHandler,decorators:[{type:Optional}]}],icon_MatIconRegistry.ɵprov=ɵɵdefineInjectable({factory:function(){return new icon_MatIconRegistry(ɵɵinject(http_HttpClient,8),ɵɵinject(DomSanitizer),ɵɵinject(common_DOCUMENT,8),ɵɵinject(ErrorHandler,8))},token:icon_MatIconRegistry,providedIn:"root"});new Optional,new SkipSelf,new Optional,new Optional,new Optional;function cloneSvg(svg){return svg.cloneNode(!0)}function iconKey(namespace,name){return namespace+":"+name}const _MatIconMixinBase=mixinColor(class{constructor(_elementRef){this._elementRef=_elementRef}}),MAT_ICON_LOCATION=new InjectionToken("mat-icon-location",{providedIn:"root",factory:function(){const _document=inject(common_DOCUMENT),_location=_document?_document.location:null;return{getPathname:()=>_location?_location.pathname+_location.search:""}}});const funcIriAttributes=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],funcIriAttributeSelector=funcIriAttributes.map(attr=>`[${attr}]`).join(", "),funcIriPattern=/^url\(['"]?#(.*?)['"]?\)$/;class icon_MatIcon extends _MatIconMixinBase{constructor(elementRef,_iconRegistry,ariaHidden,_location,_errorHandler){super(elementRef),this._iconRegistry=_iconRegistry,this._location=_location,this._errorHandler=_errorHandler,this._inline=!1,this._currentIconFetch=Subscription_Subscription.EMPTY,ariaHidden||elementRef.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(inline){this._inline=coerceBooleanProperty(inline)}get fontSet(){return this._fontSet}set fontSet(value){this._fontSet=this._cleanupFontValue(value)}get fontIcon(){return this._fontIcon}set fontIcon(value){this._fontIcon=this._cleanupFontValue(value)}_splitIconName(iconName){if(!iconName)return["",""];const parts=iconName.split(":");switch(parts.length){case 1:return["",parts[0]];case 2:return parts;default:throw Error(`Invalid icon name: "${iconName}"`)}}ngOnChanges(changes){const svgIconChanges=changes.svgIcon;if(svgIconChanges)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[namespace,iconName]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(iconName,namespace).pipe(take(1)).subscribe(svg=>this._setSvgElement(svg),err=>{const errorMessage=`Error retrieving icon ${namespace}:${iconName}! ${err.message}`;this._errorHandler?this._errorHandler.handleError(new Error(errorMessage)):console.error(errorMessage)})}else svgIconChanges.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const cachedElements=this._elementsWithExternalReferences;if(cachedElements&&this._location&&cachedElements.size){const newPath=this._location.getPathname();newPath!==this._previousPath&&(this._previousPath=newPath,this._prependPathToReferences(newPath))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(svg){this._clearSvgElement();const styleTags=svg.querySelectorAll("style");for(let i=0;i<styleTags.length;i++)styleTags[i].textContent+=" ";if(this._location){const path=this._location.getPathname();this._previousPath=path,this._cacheChildrenWithExternalReferences(svg),this._prependPathToReferences(path)}this._elementRef.nativeElement.appendChild(svg)}_clearSvgElement(){const layoutElement=this._elementRef.nativeElement;let childCount=layoutElement.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();childCount--;){const child=layoutElement.childNodes[childCount];1===child.nodeType&&"svg"!==child.nodeName.toLowerCase()||layoutElement.removeChild(child)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const elem=this._elementRef.nativeElement,fontSetClass=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();fontSetClass!=this._previousFontSetClass&&(this._previousFontSetClass&&elem.classList.remove(this._previousFontSetClass),fontSetClass&&elem.classList.add(fontSetClass),this._previousFontSetClass=fontSetClass),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&elem.classList.remove(this._previousFontIconClass),this.fontIcon&&elem.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(value){return"string"==typeof value?value.trim().split(" ")[0]:value}_prependPathToReferences(path){const elements=this._elementsWithExternalReferences;elements&&elements.forEach((attrs,element)=>{attrs.forEach(attr=>{element.setAttribute(attr.name,`url('${path}#${attr.value}')`)})})}_cacheChildrenWithExternalReferences(element){const elementsWithFuncIri=element.querySelectorAll(funcIriAttributeSelector),elements=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<elementsWithFuncIri.length;i++)funcIriAttributes.forEach(attr=>{const elementWithReference=elementsWithFuncIri[i],value=elementWithReference.getAttribute(attr),match=value?value.match(funcIriPattern):null;if(match){let attributes=elements.get(elementWithReference);attributes||(attributes=[],elements.set(elementWithReference,attributes)),attributes.push({name:attr,value:match[1]})}})}}icon_MatIcon.ɵfac=function(t){return new(t||icon_MatIcon)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(icon_MatIconRegistry),ɵɵinjectAttribute("aria-hidden"),ɵɵdirectiveInject(MAT_ICON_LOCATION,8),ɵɵdirectiveInject(ErrorHandler,8))},icon_MatIcon.ɵcmp=ɵɵdefineComponent({type:icon_MatIcon,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-icon-inline",ctx.inline)("mat-icon-no-color","primary"!==ctx.color&&"accent"!==ctx.color&&"warn"!==ctx.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[ɵɵInheritDefinitionFeature,ɵɵNgOnChangesFeature],ngContentSelectors:["*"],decls:1,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵprojection(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),icon_MatIcon.ctorParameters=()=>[{type:ElementRef},{type:icon_MatIconRegistry},{type:String,decorators:[{type:Attribute,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[MAT_ICON_LOCATION]}]},{type:ErrorHandler,decorators:[{type:Optional}]}],icon_MatIcon.propDecorators={inline:[{type:Input}],svgIcon:[{type:Input}],fontSet:[{type:Input}],fontIcon:[{type:Input}]};class MatIconModule{}function MatStepHeader_ng_container_3_Template(rf,ctx){if(1&rf&&ɵɵelementContainer(0,9),2&rf){const ctx_r277=ɵɵnextContext();ɵɵproperty("ngTemplateOutlet",ctx_r277.iconOverrides[ctx_r277.state])("ngTemplateOutletContext",ctx_r277._getIconContext())}}function MatStepHeader_ng_container_4_span_1_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"span"),ɵɵtext(1),ɵɵelementEnd()),2&rf){const ctx_r283=ɵɵnextContext(2);ɵɵadvance(1),ɵɵtextInterpolate(ctx_r283._getDefaultTextForState(ctx_r283.state))}}function MatStepHeader_ng_container_4_mat_icon_2_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"mat-icon"),ɵɵtext(1),ɵɵelementEnd()),2&rf){const ctx_r284=ɵɵnextContext(2);ɵɵadvance(1),ɵɵtextInterpolate(ctx_r284._getDefaultTextForState(ctx_r284.state))}}function MatStepHeader_ng_container_4_Template(rf,ctx){if(1&rf&&(ɵɵelementContainerStart(0,10),ɵɵtemplate(1,MatStepHeader_ng_container_4_span_1_Template,2,1,"span",11),ɵɵtemplate(2,MatStepHeader_ng_container_4_mat_icon_2_Template,2,1,"mat-icon",12),ɵɵelementContainerEnd()),2&rf){ɵɵproperty("ngSwitch",ɵɵnextContext().state),ɵɵadvance(1),ɵɵproperty("ngSwitchCase","number")}}function MatStepHeader_ng_container_6_Template(rf,ctx){if(1&rf&&ɵɵelementContainer(0,13),2&rf){ɵɵproperty("ngTemplateOutlet",ɵɵnextContext()._templateLabel().template)}}function MatStepHeader_div_7_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"div",14),ɵɵtext(1),ɵɵelementEnd()),2&rf){const ctx_r280=ɵɵnextContext();ɵɵadvance(1),ɵɵtextInterpolate(ctx_r280.label)}}function MatStepHeader_div_8_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"div",15),ɵɵtext(1),ɵɵelementEnd()),2&rf){const ctx_r281=ɵɵnextContext();ɵɵadvance(1),ɵɵtextInterpolate(ctx_r281._intl.optionalLabel)}}function MatStepHeader_div_9_Template(rf,ctx){if(1&rf&&(ɵɵelementStart(0,"div",16),ɵɵtext(1),ɵɵelementEnd()),2&rf){const ctx_r282=ɵɵnextContext();ɵɵadvance(1),ɵɵtextInterpolate(ctx_r282.errorMessage)}}function MatStep_ng_template_0_Template(rf,ctx){1&rf&&ɵɵprojection(0)}MatIconModule.ɵmod=ɵɵdefineNgModule({type:MatIconModule}),MatIconModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatIconModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatIconModule,{declarations:function(){return[icon_MatIcon]},imports:function(){return[core_MatCommonModule]},exports:function(){return[icon_MatIcon,core_MatCommonModule]}});function MatHorizontalStepper_ng_container_1_div_2_Template(rf,ctx){1&rf&&ɵɵelement(0,"div",6)}function MatHorizontalStepper_ng_container_1_Template(rf,ctx){if(1&rf){const _r294=ɵɵgetCurrentView();ɵɵelementContainerStart(0),ɵɵelementStart(1,"mat-step-header",4),ɵɵlistener("click",(function(){return ctx.$implicit.select()}))("keydown",(function($event){return ɵɵrestoreView(_r294),ɵɵnextContext()._onKeydown($event)})),ɵɵelementEnd(),ɵɵtemplate(2,MatHorizontalStepper_ng_container_1_div_2_Template,1,0,"div",5),ɵɵelementContainerEnd()}if(2&rf){const step_r288=ctx.$implicit,i_r289=ctx.index,isLast_r290=ctx.last,ctx_r286=ɵɵnextContext();ɵɵadvance(1),ɵɵproperty("tabIndex",ctx_r286._getFocusIndex()===i_r289?0:-1)("id",ctx_r286._getStepLabelId(i_r289))("index",i_r289)("state",ctx_r286._getIndicatorType(i_r289,step_r288.state))("label",step_r288.stepLabel||step_r288.label)("selected",ctx_r286.selectedIndex===i_r289)("active",step_r288.completed||ctx_r286.selectedIndex===i_r289||!ctx_r286.linear)("optional",step_r288.optional)("errorMessage",step_r288.errorMessage)("iconOverrides",ctx_r286._iconOverrides)("disableRipple",ctx_r286.disableRipple),ɵɵattribute("aria-posinset",i_r289+1)("aria-setsize",ctx_r286.steps.length)("aria-controls",ctx_r286._getStepContentId(i_r289))("aria-selected",ctx_r286.selectedIndex==i_r289)("aria-label",step_r288.ariaLabel||null)("aria-labelledby",!step_r288.ariaLabel&&step_r288.ariaLabelledby?step_r288.ariaLabelledby:null),ɵɵadvance(1),ɵɵproperty("ngIf",!isLast_r290)}}function MatHorizontalStepper_div_3_Template(rf,ctx){if(1&rf){const _r298=ɵɵgetCurrentView();ɵɵelementStart(0,"div",7),ɵɵlistener("@stepTransition.done",(function($event){return ɵɵrestoreView(_r298),ɵɵnextContext()._animationDone.next($event)})),ɵɵelementContainer(1,8),ɵɵelementEnd()}if(2&rf){const step_r295=ctx.$implicit,i_r296=ctx.index,ctx_r287=ɵɵnextContext();ɵɵproperty("@stepTransition",ctx_r287._getAnimationDirection(i_r296))("id",ctx_r287._getStepContentId(i_r296)),ɵɵattribute("tabindex",ctx_r287.selectedIndex===i_r296?0:null)("aria-labelledby",ctx_r287._getStepLabelId(i_r296))("aria-expanded",ctx_r287.selectedIndex===i_r296),ɵɵadvance(1),ɵɵproperty("ngTemplateOutlet",step_r295.content)}}function MatVerticalStepper_div_0_Template(rf,ctx){if(1&rf){const _r305=ɵɵgetCurrentView();ɵɵelementStart(0,"div",1),ɵɵelementStart(1,"mat-step-header",2),ɵɵlistener("click",(function(){return ctx.$implicit.select()}))("keydown",(function($event){return ɵɵrestoreView(_r305),ɵɵnextContext()._onKeydown($event)})),ɵɵelementEnd(),ɵɵelementStart(2,"div",3),ɵɵelementStart(3,"div",4),ɵɵlistener("@stepTransition.done",(function($event){return ɵɵrestoreView(_r305),ɵɵnextContext()._animationDone.next($event)})),ɵɵelementStart(4,"div",5),ɵɵelementContainer(5,6),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementEnd()}if(2&rf){const step_r300=ctx.$implicit,i_r301=ctx.index,isLast_r302=ctx.last,ctx_r299=ɵɵnextContext();ɵɵadvance(1),ɵɵproperty("tabIndex",ctx_r299._getFocusIndex()==i_r301?0:-1)("id",ctx_r299._getStepLabelId(i_r301))("index",i_r301)("state",ctx_r299._getIndicatorType(i_r301,step_r300.state))("label",step_r300.stepLabel||step_r300.label)("selected",ctx_r299.selectedIndex===i_r301)("active",step_r300.completed||ctx_r299.selectedIndex===i_r301||!ctx_r299.linear)("optional",step_r300.optional)("errorMessage",step_r300.errorMessage)("iconOverrides",ctx_r299._iconOverrides)("disableRipple",ctx_r299.disableRipple),ɵɵattribute("aria-posinset",i_r301+1)("aria-setsize",ctx_r299.steps.length)("aria-controls",ctx_r299._getStepContentId(i_r301))("aria-selected",ctx_r299.selectedIndex===i_r301)("aria-label",step_r300.ariaLabel||null)("aria-labelledby",!step_r300.ariaLabel&&step_r300.ariaLabelledby?step_r300.ariaLabelledby:null),ɵɵadvance(1),ɵɵclassProp("mat-stepper-vertical-line",!isLast_r302),ɵɵadvance(1),ɵɵproperty("@stepTransition",ctx_r299._getAnimationDirection(i_r301))("id",ctx_r299._getStepContentId(i_r301)),ɵɵattribute("tabindex",ctx_r299.selectedIndex===i_r301?0:null)("aria-labelledby",ctx_r299._getStepLabelId(i_r301))("aria-expanded",ctx_r299.selectedIndex===i_r301),ɵɵadvance(2),ɵɵproperty("ngTemplateOutlet",step_r300.content)}}class stepper_MatStepLabel extends CdkStepLabel{}stepper_MatStepLabel.ɵfac=function(t){return ɵMatStepLabel_BaseFactory(t||stepper_MatStepLabel)},stepper_MatStepLabel.ɵdir=ɵɵdefineDirective({type:stepper_MatStepLabel,selectors:[["","matStepLabel",""]],features:[ɵɵInheritDefinitionFeature]});const ɵMatStepLabel_BaseFactory=ɵɵgetInheritedFactory(stepper_MatStepLabel);class stepper_MatStepperIntl{constructor(){this.changes=new Subject_Subject,this.optionalLabel="Optional"}}stepper_MatStepperIntl.ɵfac=function(t){return new(t||stepper_MatStepperIntl)},stepper_MatStepperIntl.ɵprov=ɵɵdefineInjectable({factory:function(){return new stepper_MatStepperIntl},token:stepper_MatStepperIntl,providedIn:"root"});const MAT_STEPPER_INTL_PROVIDER={provide:stepper_MatStepperIntl,deps:[[new Optional,new SkipSelf,stepper_MatStepperIntl]],useFactory:function(parentIntl){return parentIntl||new stepper_MatStepperIntl}};class stepper_MatStepHeader extends CdkStepHeader{constructor(_intl,_focusMonitor,_elementRef,changeDetectorRef){super(_elementRef),this._intl=_intl,this._focusMonitor=_focusMonitor,_focusMonitor.monitor(_elementRef,!0),this._intlSubscription=_intl.changes.subscribe(()=>changeDetectorRef.markForCheck())}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(){this._focusMonitor.focusVia(this._elementRef,"program")}_stringLabel(){return this.label instanceof stepper_MatStepLabel?null:this.label}_templateLabel(){return this.label instanceof stepper_MatStepLabel?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(state){return"number"==state?`${this.index+1}`:"edit"==state?"create":"error"==state?"warning":state}}stepper_MatStepHeader.ɵfac=function(t){return new(t||stepper_MatStepHeader)(ɵɵdirectiveInject(stepper_MatStepperIntl),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(ChangeDetectorRef))},stepper_MatStepHeader.ɵcmp=ɵɵdefineComponent({type:stepper_MatStepHeader,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[ɵɵInheritDefinitionFeature],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],[3,"ngTemplateOutlet",4,"ngIf"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(rf,ctx){1&rf&&(ɵɵelement(0,"div",0),ɵɵelementStart(1,"div"),ɵɵelementStart(2,"div",1),ɵɵtemplate(3,MatStepHeader_ng_container_3_Template,1,2,"ng-container",2),ɵɵtemplate(4,MatStepHeader_ng_container_4_Template,3,2,"ng-container",3),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementStart(5,"div",4),ɵɵtemplate(6,MatStepHeader_ng_container_6_Template,1,1,"ng-container",5),ɵɵtemplate(7,MatStepHeader_div_7_Template,2,1,"div",6),ɵɵtemplate(8,MatStepHeader_div_8_Template,2,1,"div",7),ɵɵtemplate(9,MatStepHeader_div_9_Template,2,1,"div",8),ɵɵelementEnd()),2&rf&&(ɵɵproperty("matRippleTrigger",ctx._getHostElement())("matRippleDisabled",ctx.disableRipple),ɵɵadvance(1),ɵɵclassMapInterpolate1("mat-step-icon-state-",ctx.state," mat-step-icon"),ɵɵclassProp("mat-step-icon-selected",ctx.selected),ɵɵadvance(1),ɵɵproperty("ngSwitch",!(!ctx.iconOverrides||!ctx.iconOverrides[ctx.state])),ɵɵadvance(1),ɵɵproperty("ngSwitchCase",!0),ɵɵadvance(2),ɵɵclassProp("mat-step-label-active",ctx.active)("mat-step-label-selected",ctx.selected)("mat-step-label-error","error"==ctx.state),ɵɵadvance(1),ɵɵproperty("ngIf",ctx._templateLabel()),ɵɵadvance(1),ɵɵproperty("ngIf",ctx._stringLabel()),ɵɵadvance(1),ɵɵproperty("ngIf",ctx.optional&&"error"!=ctx.state),ɵɵadvance(1),ɵɵproperty("ngIf","error"==ctx.state))},directives:[MatRipple,NgSwitch,NgSwitchCase,NgSwitchDefault,NgIf,NgTemplateOutlet,icon_MatIcon],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),stepper_MatStepHeader.ctorParameters=()=>[{type:stepper_MatStepperIntl},{type:a11y_FocusMonitor},{type:ElementRef},{type:ChangeDetectorRef}],stepper_MatStepHeader.propDecorators={state:[{type:Input}],label:[{type:Input}],errorMessage:[{type:Input}],iconOverrides:[{type:Input}],index:[{type:Input}],selected:[{type:Input}],active:[{type:Input}],optional:[{type:Input}],disableRipple:[{type:Input}]};const matStepperAnimations={horizontalStepTransition:trigger("stepTransition",[animations_state("previous",animations_style({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),animations_state("current",animations_style({transform:"none",visibility:"visible"})),animations_state("next",animations_style({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),animations_transition("* => *",animate("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:trigger("stepTransition",[animations_state("previous",animations_style({height:"0px",visibility:"hidden"})),animations_state("next",animations_style({height:"0px",visibility:"hidden"})),animations_state("current",animations_style({height:"*",visibility:"visible"})),animations_transition("* <=> current",animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};class MatStepperIcon{constructor(templateRef){this.templateRef=templateRef}}MatStepperIcon.ɵfac=function(t){return new(t||MatStepperIcon)(ɵɵdirectiveInject(TemplateRef))},MatStepperIcon.ɵdir=ɵɵdefineDirective({type:MatStepperIcon,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),MatStepperIcon.ctorParameters=()=>[{type:TemplateRef}],MatStepperIcon.propDecorators={name:[{type:Input,args:["matStepperIcon"]}]};class stepper_MatStep extends stepper_CdkStep{constructor(stepper,_errorStateMatcher,stepperOptions){super(stepper,stepperOptions),this._errorStateMatcher=_errorStateMatcher}isErrorState(control,form){const originalErrorState=this._errorStateMatcher.isErrorState(control,form),customErrorState=!!(control&&control.invalid&&this.interacted);return originalErrorState||customErrorState}}stepper_MatStep.ɵfac=function(t){return new(t||stepper_MatStep)(ɵɵdirectiveInject(forwardRef(()=>stepper_MatStepper)),ɵɵdirectiveInject(ErrorStateMatcher,4),ɵɵdirectiveInject(STEPPER_GLOBAL_OPTIONS,8))},stepper_MatStep.ɵcmp=ɵɵdefineComponent({type:stepper_MatStep,selectors:[["mat-step"]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&ɵɵcontentQuery(dirIndex,stepper_MatStepLabel,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx.stepLabel=_t.first))},exportAs:["matStep"],features:[ɵɵProvidersFeature([{provide:ErrorStateMatcher,useExisting:stepper_MatStep},{provide:stepper_CdkStep,useExisting:stepper_MatStep}]),ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:1,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(),ɵɵtemplate(0,MatStep_ng_template_0_Template,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),stepper_MatStep.ctorParameters=()=>[{type:stepper_MatStepper,decorators:[{type:Inject,args:[forwardRef(()=>stepper_MatStepper)]}]},{type:ErrorStateMatcher,decorators:[{type:SkipSelf}]},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[STEPPER_GLOBAL_OPTIONS]}]}],stepper_MatStep.propDecorators={stepLabel:[{type:ContentChild,args:[stepper_MatStepLabel]}]};class stepper_MatStepper extends stepper_CdkStepper{constructor(){super(...arguments),this.animationDone=new core_EventEmitter,this._iconOverrides={},this._animationDone=new Subject_Subject}ngAfterContentInit(){this._icons.forEach(({name:name,templateRef:templateRef})=>this._iconOverrides[name]=templateRef),this._steps.changes.pipe(takeUntil(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(distinctUntilChanged((x,y)=>x.fromState===y.fromState&&x.toState===y.toState),takeUntil(this._destroyed)).subscribe(event=>{"current"===event.toState&&this.animationDone.emit()})}}stepper_MatStepper.ɵfac=function(t){return ɵMatStepper_BaseFactory(t||stepper_MatStepper)},stepper_MatStepper.ɵdir=ɵɵdefineDirective({type:stepper_MatStepper,selectors:[["","matStepper",""]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&(ɵɵcontentQuery(dirIndex,stepper_MatStep,!0),ɵɵcontentQuery(dirIndex,MatStepperIcon,!0)),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._steps=_t),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._icons=_t))},viewQuery:function(rf,ctx){var _t;(1&rf&&ɵɵviewQuery(stepper_MatStepHeader,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._stepHeader=_t))},inputs:{disableRipple:"disableRipple"},outputs:{animationDone:"animationDone"},features:[ɵɵProvidersFeature([{provide:stepper_CdkStepper,useExisting:stepper_MatStepper}]),ɵɵInheritDefinitionFeature]}),stepper_MatStepper.propDecorators={_stepHeader:[{type:ViewChildren,args:[stepper_MatStepHeader]}],_steps:[{type:ContentChildren,args:[stepper_MatStep,{descendants:!0}]}],_icons:[{type:ContentChildren,args:[MatStepperIcon,{descendants:!0}]}],animationDone:[{type:Output}],disableRipple:[{type:Input}]};const ɵMatStepper_BaseFactory=ɵɵgetInheritedFactory(stepper_MatStepper);class MatHorizontalStepper extends stepper_MatStepper{constructor(){super(...arguments),this.labelPosition="end"}}MatHorizontalStepper.ɵfac=function(t){return ɵMatHorizontalStepper_BaseFactory(t||MatHorizontalStepper)},MatHorizontalStepper.ɵcmp=ɵɵdefineComponent({type:MatHorizontalStepper,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-stepper-label-position-end","end"==ctx.labelPosition)("mat-stepper-label-position-bottom","bottom"==ctx.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[ɵɵProvidersFeature([{provide:stepper_MatStepper,useExisting:MatHorizontalStepper},{provide:stepper_CdkStepper,useExisting:MatHorizontalStepper}]),ɵɵInheritDefinitionFeature],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(rf,ctx){1&rf&&(ɵɵelementStart(0,"div",0),ɵɵtemplate(1,MatHorizontalStepper_ng_container_1_Template,3,18,"ng-container",1),ɵɵelementEnd(),ɵɵelementStart(2,"div",2),ɵɵtemplate(3,MatHorizontalStepper_div_3_Template,2,6,"div",3),ɵɵelementEnd()),2&rf&&(ɵɵadvance(1),ɵɵproperty("ngForOf",ctx.steps),ɵɵadvance(2),ɵɵproperty("ngForOf",ctx.steps))},directives:[common_NgForOf,stepper_MatStepHeader,NgIf,NgTemplateOutlet],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[matStepperAnimations.horizontalStepTransition]},changeDetection:0}),MatHorizontalStepper.propDecorators={labelPosition:[{type:Input}]};const ɵMatHorizontalStepper_BaseFactory=ɵɵgetInheritedFactory(MatHorizontalStepper);class MatVerticalStepper extends stepper_MatStepper{constructor(dir,changeDetectorRef,elementRef,_document){super(dir,changeDetectorRef,elementRef,_document),this._orientation="vertical"}}MatVerticalStepper.ɵfac=function(t){return new(t||MatVerticalStepper)(ɵɵdirectiveInject(bidi_Directionality,8),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(common_DOCUMENT))},MatVerticalStepper.ɵcmp=ɵɵdefineComponent({type:MatVerticalStepper,selectors:[["mat-vertical-stepper"]],hostAttrs:["aria-orientation","vertical","role","tablist",1,"mat-stepper-vertical"],inputs:{selectedIndex:"selectedIndex"},exportAs:["matVerticalStepper"],features:[ɵɵProvidersFeature([{provide:stepper_MatStepper,useExisting:MatVerticalStepper},{provide:stepper_CdkStepper,useExisting:MatVerticalStepper}]),ɵɵInheritDefinitionFeature],decls:1,vars:1,consts:[["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"ngTemplateOutlet"]],template:function(rf,ctx){1&rf&&ɵɵtemplate(0,MatVerticalStepper_div_0_Template,6,25,"div",0),2&rf&&ɵɵproperty("ngForOf",ctx.steps)},directives:[common_NgForOf,stepper_MatStepHeader,NgTemplateOutlet],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[matStepperAnimations.verticalStepTransition]},changeDetection:0}),MatVerticalStepper.ctorParameters=()=>[{type:bidi_Directionality,decorators:[{type:Optional}]},{type:ChangeDetectorRef},{type:ElementRef},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}];class stepper_MatStepperNext extends CdkStepperNext{}stepper_MatStepperNext.ɵfac=function(t){return ɵMatStepperNext_BaseFactory(t||stepper_MatStepperNext)},stepper_MatStepperNext.ɵdir=ɵɵdefineDirective({type:stepper_MatStepperNext,selectors:[["button","matStepperNext",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵhostProperty("type",ctx.type)},inputs:{type:"type"},features:[ɵɵInheritDefinitionFeature]});const ɵMatStepperNext_BaseFactory=ɵɵgetInheritedFactory(stepper_MatStepperNext);class stepper_MatStepperPrevious extends CdkStepperPrevious{}stepper_MatStepperPrevious.ɵfac=function(t){return ɵMatStepperPrevious_BaseFactory(t||stepper_MatStepperPrevious)},stepper_MatStepperPrevious.ɵdir=ɵɵdefineDirective({type:stepper_MatStepperPrevious,selectors:[["button","matStepperPrevious",""]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&ɵɵhostProperty("type",ctx.type)},inputs:{type:"type"},features:[ɵɵInheritDefinitionFeature]});const ɵMatStepperPrevious_BaseFactory=ɵɵgetInheritedFactory(stepper_MatStepperPrevious);class MatStepperModule{}MatStepperModule.ɵmod=ɵɵdefineNgModule({type:MatStepperModule}),MatStepperModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatStepperModule)},providers:[MAT_STEPPER_INTL_PROVIDER,ErrorStateMatcher],imports:[[core_MatCommonModule,CommonModule,PortalModule,MatButtonModule,CdkStepperModule,MatIconModule,MatRippleModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatStepperModule,{declarations:function(){return[MatHorizontalStepper,MatVerticalStepper,stepper_MatStep,stepper_MatStepLabel,stepper_MatStepper,stepper_MatStepperNext,stepper_MatStepperPrevious,stepper_MatStepHeader,MatStepperIcon]},imports:function(){return[core_MatCommonModule,CommonModule,PortalModule,MatButtonModule,CdkStepperModule,MatIconModule,MatRippleModule]},exports:function(){return[core_MatCommonModule,MatHorizontalStepper,MatVerticalStepper,stepper_MatStep,stepper_MatStepLabel,stepper_MatStepper,stepper_MatStepperNext,stepper_MatStepperPrevious,stepper_MatStepHeader,MatStepperIcon]}});const slide_toggle_c0=["thumbContainer"],slide_toggle_c1=["toggleBar"],slide_toggle_c2=["input"],slide_toggle_c3=function(){return{enterDuration:150}};const MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS=new InjectionToken("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let slide_toggle_nextUniqueId=0;const MAT_SLIDE_TOGGLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>slide_toggle_MatSlideToggle),multi:!0};class MatSlideToggleChange{constructor(source,checked){this.source=source,this.checked=checked}}const _MatSlideToggleMixinBase=mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(class{constructor(_elementRef){this._elementRef=_elementRef}})),"accent"));class slide_toggle_MatSlideToggle extends _MatSlideToggleMixinBase{constructor(elementRef,_focusMonitor,_changeDetectorRef,tabIndex,_ngZone,defaults,_animationMode,_dir){super(elementRef),this._focusMonitor=_focusMonitor,this._changeDetectorRef=_changeDetectorRef,this.defaults=defaults,this._animationMode=_animationMode,this._onChange=_=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++slide_toggle_nextUniqueId}`,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new core_EventEmitter,this.toggleChange=new core_EventEmitter,this.dragChange=new core_EventEmitter,this.tabIndex=parseInt(tabIndex)||0}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value)}get checked(){return this._checked}set checked(value){this._checked=coerceBooleanProperty(value),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(focusOrigin=>{"keyboard"===focusOrigin||"program"===focusOrigin?this._inputElement.nativeElement.focus():focusOrigin||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(event){event.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(event){event.stopPropagation()}writeValue(value){this.checked=!!value}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this._changeDetectorRef.markForCheck()}focus(options){this._focusMonitor.focusVia(this._inputElement,"keyboard",options)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new MatSlideToggleChange(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}slide_toggle_MatSlideToggle.ɵfac=function(t){return new(t||slide_toggle_MatSlideToggle)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(a11y_FocusMonitor),ɵɵdirectiveInject(ChangeDetectorRef),ɵɵinjectAttribute("tabindex"),ɵɵdirectiveInject(NgZone),ɵɵdirectiveInject(MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS),ɵɵdirectiveInject(ANIMATION_MODULE_TYPE,8),ɵɵdirectiveInject(bidi_Directionality,8))},slide_toggle_MatSlideToggle.ɵcmp=ɵɵdefineComponent({type:slide_toggle_MatSlideToggle,selectors:[["mat-slide-toggle"]],viewQuery:function(rf,ctx){var _t;(1&rf&&(ɵɵviewQuery(slide_toggle_c0,!0),ɵɵviewQuery(slide_toggle_c1,!0),ɵɵviewQuery(slide_toggle_c2,!0)),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._thumbEl=_t.first),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._thumbBarEl=_t.first),ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._inputElement=_t.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(rf,ctx){2&rf&&(ɵɵhostProperty("id",ctx.id),ɵɵattribute("tabindex",ctx.disabled?null:-1)("aria-label",null)("aria-labelledby",null),ɵɵclassProp("mat-checked",ctx.checked)("mat-disabled",ctx.disabled)("mat-slide-toggle-label-before","before"==ctx.labelPosition)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[ɵɵProvidersFeature([MAT_SLIDE_TOGGLE_VALUE_ACCESSOR]),ɵɵInheritDefinitionFeature],ngContentSelectors:["*"],decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(rf,ctx){if(1&rf&&(ɵɵprojectionDef(),ɵɵelementStart(0,"label",0,1),ɵɵelementStart(2,"div",2,3),ɵɵelementStart(4,"input",4,5),ɵɵlistener("change",(function($event){return ctx._onChangeEvent($event)}))("click",(function($event){return ctx._onInputClick($event)})),ɵɵelementEnd(),ɵɵelementStart(6,"div",6,7),ɵɵelement(8,"div",8),ɵɵelementStart(9,"div",9),ɵɵelement(10,"div",10),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementEnd(),ɵɵelementStart(11,"span",11,12),ɵɵlistener("cdkObserveContent",(function(){return ctx._onLabelTextChange()})),ɵɵelementStart(13,"span",13),ɵɵtext(14," "),ɵɵelementEnd(),ɵɵprojection(15),ɵɵelementEnd(),ɵɵelementEnd()),2&rf){const _r458=ɵɵreference(1),_r462=ɵɵreference(12);ɵɵattribute("for",ctx.inputId),ɵɵadvance(2),ɵɵclassProp("mat-slide-toggle-bar-no-side-margin",!_r462.textContent||!_r462.textContent.trim()),ɵɵadvance(2),ɵɵproperty("id",ctx.inputId)("required",ctx.required)("tabIndex",ctx.tabIndex)("checked",ctx.checked)("disabled",ctx.disabled),ɵɵattribute("name",ctx.name)("aria-checked",ctx.checked.toString())("aria-label",ctx.ariaLabel)("aria-labelledby",ctx.ariaLabelledby),ɵɵadvance(5),ɵɵproperty("matRippleTrigger",_r458)("matRippleDisabled",ctx.disableRipple||ctx.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",ɵɵpureFunction0(17,slide_toggle_c3))}},directives:[MatRipple,observers_CdkObserveContent],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),slide_toggle_MatSlideToggle.ctorParameters=()=>[{type:ElementRef},{type:a11y_FocusMonitor},{type:ChangeDetectorRef},{type:String,decorators:[{type:Attribute,args:["tabindex"]}]},{type:NgZone},{type:void 0,decorators:[{type:Inject,args:[MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS]}]},{type:String,decorators:[{type:Optional},{type:Inject,args:[ANIMATION_MODULE_TYPE]}]},{type:bidi_Directionality,decorators:[{type:Optional}]}],slide_toggle_MatSlideToggle.propDecorators={_thumbEl:[{type:ViewChild,args:["thumbContainer"]}],_thumbBarEl:[{type:ViewChild,args:["toggleBar"]}],name:[{type:Input}],id:[{type:Input}],labelPosition:[{type:Input}],ariaLabel:[{type:Input,args:["aria-label"]}],ariaLabelledby:[{type:Input,args:["aria-labelledby"]}],required:[{type:Input}],checked:[{type:Input}],change:[{type:Output}],toggleChange:[{type:Output}],dragChange:[{type:Output}],_inputElement:[{type:ViewChild,args:["input"]}]};const MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>slide_toggle_MatSlideToggleRequiredValidator),multi:!0};class slide_toggle_MatSlideToggleRequiredValidator extends CheckboxRequiredValidator{}slide_toggle_MatSlideToggleRequiredValidator.ɵfac=function(t){return ɵMatSlideToggleRequiredValidator_BaseFactory(t||slide_toggle_MatSlideToggleRequiredValidator)},slide_toggle_MatSlideToggleRequiredValidator.ɵdir=ɵɵdefineDirective({type:slide_toggle_MatSlideToggleRequiredValidator,selectors:[["mat-slide-toggle","required","","formControlName",""],["mat-slide-toggle","required","","formControl",""],["mat-slide-toggle","required","","ngModel",""]],features:[ɵɵProvidersFeature([MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR]),ɵɵInheritDefinitionFeature]});const ɵMatSlideToggleRequiredValidator_BaseFactory=ɵɵgetInheritedFactory(slide_toggle_MatSlideToggleRequiredValidator);class _MatSlideToggleRequiredValidatorModule{}_MatSlideToggleRequiredValidatorModule.ɵmod=ɵɵdefineNgModule({type:_MatSlideToggleRequiredValidatorModule}),_MatSlideToggleRequiredValidatorModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||_MatSlideToggleRequiredValidatorModule)}}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(_MatSlideToggleRequiredValidatorModule,{declarations:[slide_toggle_MatSlideToggleRequiredValidator],exports:[slide_toggle_MatSlideToggleRequiredValidator]});class MatSlideToggleModule{}MatSlideToggleModule.ɵmod=ɵɵdefineNgModule({type:MatSlideToggleModule}),MatSlideToggleModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatSlideToggleModule)},imports:[[_MatSlideToggleRequiredValidatorModule,MatRippleModule,core_MatCommonModule,ObserversModule],_MatSlideToggleRequiredValidatorModule,core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatSlideToggleModule,{declarations:function(){return[slide_toggle_MatSlideToggle]},imports:function(){return[_MatSlideToggleRequiredValidatorModule,MatRippleModule,core_MatCommonModule,ObserversModule]},exports:function(){return[_MatSlideToggleRequiredValidatorModule,slide_toggle_MatSlideToggle,core_MatCommonModule]}});const toolbar_c0=["*",[["mat-toolbar-row"]]];const _MatToolbarMixinBase=mixinColor(class{constructor(_elementRef){this._elementRef=_elementRef}});class MatToolbarRow{}MatToolbarRow.ɵfac=function(t){return new(t||MatToolbarRow)},MatToolbarRow.ɵdir=ɵɵdefineDirective({type:MatToolbarRow,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});class toolbar_MatToolbar extends _MatToolbarMixinBase{constructor(elementRef,_platform,document){super(elementRef),this._platform=_platform,this._document=document}ngAfterViewInit(){isDevMode()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){if(!this._toolbarRows.length)return;Array.from(this._elementRef.nativeElement.childNodes).filter(node=>!(node.classList&&node.classList.contains("mat-toolbar-row"))).filter(node=>node.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(node=>!(!node.textContent||!node.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}toolbar_MatToolbar.ɵfac=function(t){return new(t||toolbar_MatToolbar)(ɵɵdirectiveInject(ElementRef),ɵɵdirectiveInject(platform_Platform),ɵɵdirectiveInject(common_DOCUMENT))},toolbar_MatToolbar.ɵcmp=ɵɵdefineComponent({type:toolbar_MatToolbar,selectors:[["mat-toolbar"]],contentQueries:function(rf,ctx,dirIndex){var _t;(1&rf&&ɵɵcontentQuery(dirIndex,MatToolbarRow,!0),2&rf)&&(ɵɵqueryRefresh(_t=ɵɵloadQuery())&&(ctx._toolbarRows=_t))},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&ɵɵclassProp("mat-toolbar-multiple-rows",ctx._toolbarRows.length>0)("mat-toolbar-single-row",0===ctx._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ɵɵInheritDefinitionFeature],ngContentSelectors:["*","mat-toolbar-row"],decls:2,vars:0,template:function(rf,ctx){1&rf&&(ɵɵprojectionDef(toolbar_c0),ɵɵprojection(0),ɵɵprojection(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),toolbar_MatToolbar.ctorParameters=()=>[{type:ElementRef},{type:platform_Platform},{type:void 0,decorators:[{type:Inject,args:[common_DOCUMENT]}]}],toolbar_MatToolbar.propDecorators={_toolbarRows:[{type:ContentChildren,args:[MatToolbarRow,{descendants:!0}]}]};class MatToolbarModule{}MatToolbarModule.ɵmod=ɵɵdefineNgModule({type:MatToolbarModule}),MatToolbarModule.ɵinj=ɵɵdefineInjector({factory:function(t){return new(t||MatToolbarModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&ɵɵsetNgModuleScope(MatToolbarModule,{declarations:function(){return[toolbar_MatToolbar,MatToolbarRow]},imports:function(){return[core_MatCommonModule]},exports:function(){return[toolbar_MatToolbar,MatToolbarRow,core_MatCommonModule]}});let AppModule=class{};AppModule=Object(tslib_es6.c)([NgModule({declarations:[AppComponent,LayoutComponent,TopbarComponent,NavbarComponent,FooterComponent,dashboard_component_DashboardComponent,country_component_CountryComponent,NotFoundComponent,CountupComponent,ActuComponent,calculator_component_CalculatorComponent,DialogCalculatorComponent],imports:[platform_browser_BrowserModule,BrowserAnimationsModule,HttpClientModule,AppRoutingModule,CommonModule,router_RouterModule,PerfectScrollbarModule,ngx_bootstrap_modal_ModalModule.forRoot(),service_worker_ServiceWorkerModule.register("ngsw-worker.js",{enabled:environment_production,registrationStrategy:"registerImmediately"}),TranslateModule.forRoot({loader:{provide:TranslateLoader,useFactory:function(http){return new TranslateHttpLoader(http)},deps:[http_HttpClient]}}),MatCardModule,MatButtonToggleModule,MatRadioModule,MatButtonModule,MatCheckboxModule,FormsModule,ReactiveFormsModule,MatDialogModule,MatStepperModule,MatSlideToggleModule,MatToolbarModule],entryComponents:[DialogCalculatorComponent],providers:[{provide:PERFECT_SCROLLBAR_CONFIG,useValue:{}},ActuService],bootstrap:[AppComponent]})],AppModule),environment_production&&function(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1}(),platformBrowserDynamic().bootstrapModule(AppModule).catch(err=>console.error(err))}},[[0,0]]]);